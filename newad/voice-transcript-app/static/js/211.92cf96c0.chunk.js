/*! For license information please see 211.92cf96c0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_bpinc_web_voice_transcript_ui=self.webpackChunk_bpinc_web_voice_transcript_ui||[]).push([[211],{7029:(e,t,n)=>{var o=n(7704);t.s=o.createRoot,o.hydrateRoot},8225:(e,t,n)=>{n.r(t);var o=n(2322),i=n(6029),r=n.n(i),s=n(7029),a=n(2850),c=n(6607),l=n(9022),u=n(3830),d=n.n(u),f=n(2122),_=n(3385),S=n(6432),h={interactions:{},chatCenter:{}},p=n(1308),E=n(4483),m=n(6441),g=n(5886),v=n(9008),b=n(7421),N=n(7505),x=n(9717),w=n(9486),L=n(3346),C=new URL("http://localhost:9897");C.searchParams.append("domain",location.hostname);var I=C.toString(),O="bpClient/onShowDomainAuthorizationDialog",A=n(8715),P=n(3650),j="cursor-pointer text-primary-legacy",D="ext-link",M="ext-link-firefox",R="plugin-link",T=function(e){var t=e.isExtAvailable,n=e.install,r=(0,w.useLocalizationState)().t.INSTALLATION_PROCESS,s=(0,P.useInstallationMethods)(),a=s.installChromeExtension,c=s.installFirefoxExtension,l=s.installBPClientPlugin;(0,i.useEffect)((function(){var e=document.getElementById(D),t=document.getElementById(M),n=document.getElementById(R);return null==e||e.addEventListener("click",a),null==t||t.addEventListener("click",c),null==n||n.addEventListener("click",l),function(){null==e||e.removeEventListener("click",a),null==t||t.removeEventListener("click",c),null==n||n.removeEventListener("click",l)}}),[a,c,l]);var u=r.install_updateHeader(R,j);return n&&(u="chrome"===A.platformInfo.browser?t?r.install_installHeader(R,j):r.install_installHeaderChrome(D,R,j):"firefox"===A.platformInfo.browser?t?r.install_installHeader(R,j):r.install_installHeaderFirefox(M,R,j):r.install_installHeader(R,j)),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:u}})},y=n(6508),k=n(3764);var B=function(e){var t=e.browserName,n=(0,w.useLocalizationState)("t").INSTALLATION_PROCESS,i=(0,v.useSessionState)("serverOrigin"),r="chrome"===A.platformInfo.browser,s="firefox"===A.platformInfo.browser,a="safari"===A.platformInfo.browser,c="";return r?c=P.URL_EXTENSION_INSTALLER_CHROME:s?c=i+P.URL_EXTENSION_INSTALLER_FIREFOX:a&&(c=i+P.URL_MAC_PLUGIN),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:n.bp_client_old_extension_version(t)}),(r||s||a)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{children:n.bp_client_update_extension_part1()}),(0,o.jsx)("a",{href:c,rel:"noopener noreferrer",target:"_blank",children:n.bp_client_update_extension_text()}),(0,o.jsx)("span",{children:n.bp_client_update_extension_part2()})]})]})},z=n(4432),W=function(){return location.reload()};var G=n(1960),F=5e3;function U(){var e,t,n,r,s,a,c,l,u,d,f,_;e=(0,b.useBpClientStateConnector)(),t=(0,L.useModalsStateMethods)(),n=t.openModal,r=t.closeModal,s=(0,w.useLocalizationState)("t"),a=(0,x.useEvent)((function(){n({id:O,title:s.INSTALLATION_PROCESS.bp_client_not_authorized_header(),body:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:s.INSTALLATION_PROCESS.bp_client_not_authorized_message_part1()}),(0,o.jsx)("a",{href:I,rel:"noopener noreferrer",target:"_blank",children:s.ERROR_MESSAGES.domainAuthentificationErrorAnchor()}),(0,o.jsx)("span",{children:s.INSTALLATION_PROCESS.bp_client_not_authorized_message_part2()})]}),actions:function(e){var t=e.closeModal;return(0,o.jsx)(N.SmButton,{onClick:t,children:s.WINDOW_POPUP_TITLES_AND_MESSAGES.window_buttonOk()})}})})),c=(0,x.useEvent)((function(){r(O)})),(0,i.useEffect)((function(){return e.dispenser.subscribe({onShowDomainAuthorizationDialog:a,onHideDomainAuthorizationDialog:c}).unsubscribe}),[e,a,c]),function(){var e=(0,w.useLocalizationState)("t").WINDOW_POPUP_TITLES_AND_MESSAGES,t=(0,b.useBpClientState)("isExtensionAvailable"),n=(0,b.useBpClientStateConnector)(),r=(0,L.useModalsStateMethods)().openModal,s=(0,x.useEvent)((function(n){r({title:e.window_title_warning(),body:(0,o.jsx)(T,{install:n,isExtAvailable:t}),actions:{ok:{title:e.window_buttonOk()}}})}));(0,i.useEffect)((function(){return n.dispenser.subscribe({onInstallationRequired:s}).unsubscribe}),[n,s])}(),l=(0,k.useNotificationsState)("methods").showNotification,u=(0,y.useOfflineStateMethods)().setShowOfflineAlert,d=(0,y.useOfflineStateDataShowOfflineAlert)(),f=(0,y.useOfflineErrorMessages)(),_=(0,y.useIsOffline)(),(0,i.useEffect)((function(){d&&l({type:"error",id:k.Notifications.OfflineStateError,content:f.isOffline,closable:!0,duration:5e3,onHide:function(){return u(!1)}})}),[f.isOffline,u,l,d]),(0,i.useEffect)((function(){_||u(!1)}),[_,u]),function(){var e=(0,b.useBpClientStateConnector)(),t=(0,w.useLocalizationState)("t").WINDOW_POPUP_TITLES_AND_MESSAGES,n=(0,L.useModalsStateMethods)().openModal,r=(0,x.useEvent)((function(e){n({title:t.window_title_warning(),body:(0,o.jsx)(B,{browserName:e}),actions:function(e){var n=e.closeModal;return(0,o.jsx)(N.SmButton,{onClick:n,children:t.window_buttonOk()})}})}));(0,i.useEffect)((function(){return e.dispenser.subscribe({onShowExtensionIsOldDialog:r}).unsubscribe}),[e,r])}(),function(){var e=(0,k.useNotificationsState)("methods"),t=e.showNotification,n=e.hideNotificationById,r=(0,z.useAppConfigState)("isClientOutdated"),s=(0,v.useSessionState)("isLoggedIn"),a=(0,w.useLocalizationState)("t").GLOBAL,c=(0,x.useEvent)((function(){s&&(r?t({type:"error",id:k.Notifications.OutdatedClientAppError,message:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:a.reload_confirm_new_msg_part1()}),(0,o.jsx)("a",{href:"#",onClick:W,children:a.reload_confirm_action_button_text()}),(0,o.jsx)("span",{children:a.reload_confirm_new_msg_part2()})]})}):n(k.Notifications.OutdatedClientAppError))}));(0,i.useEffect)((function(){c()}),[r,c])}(),function(){var e=(0,v.useSessionStateConnector)(),t=(0,b.useBpClientState)("isHelperAppInstanceCreated"),n=(0,k.useNotificationsState)("methods"),o=n.showNotification,r=n.hideNotificationById,s=(0,v.useSessionState)("phoneType"),a=(0,w.useLocalizationState)("t"),c=(0,x.useEvent)((function(e){if(e.canDial||"phone_type_none"===s)G.bpLogger.info("SIP phone or external line is in service"),r(k.Notifications.PhoneOutOfServiceError);else{var n;switch(G.bpLogger.warn("SIP phone or external line is out of service"),s){case"phone_type_nailed":n=a.WINDOW_POPUP_TITLES_AND_MESSAGES.window_messages_virtual_phone_not_available();break;case"phone_type_soft_secure":case"phone_type_soft_unsecure":n=t?a.WINDOW_POPUP_TITLES_AND_MESSAGES.window_messages_phone_not_available():a.WINDOW_POPUP_TITLES_AND_MESSAGES.window_messages_helper_app_not_available();break;default:n=a.WINDOW_POPUP_TITLES_AND_MESSAGES.window_messages_phone_not_available()}o({type:"error",id:k.Notifications.PhoneOutOfServiceError,message:n,closable:!1,showDelay:F})}})),l=(0,x.useEvent)((function(e,t){"agentServer"===e&&4===t&&o({type:"warning",id:k.Notifications.PhoneOutOfServiceError,message:a.ERROR_MESSAGES.phoneIsNotRegistered(),closable:!1,showDelay:F})})),u=(0,x.useEvent)((function(){o({type:"warning",id:k.Notifications.PhoneOutOfServiceError,message:a.WINDOW_POPUP_TITLES_AND_MESSAGES.window_messages_3pcc_server_connectionLost(),closable:!1,showDelay:F})})),d=(0,x.useEvent)((function(){r(k.Notifications.PhoneOutOfServiceError)}));(0,i.useEffect)((function(){return e.dispenser.subscribe({onUpdateCapabilities:c,onServerError:l,onThreePCCServerGone:u,onThreePCCServerReady:d}).unsubscribe}),[c,l,u,d,e])}(),function(){var e=(0,k.useNotificationsState)("methods"),t=e.showNotification,n=e.hideNotificationById,o=(0,w.useLocalizationState)("t").WINDOW_POPUP_TITLES_AND_MESSAGES,r=(0,v.useSessionState)("sipServer"),s=(0,x.usePreviousValueRef)(r),a=(0,x.useEvent)((function(){r?n(k.Notifications.SipServerConnectionError):s.current&&t({type:"error",id:k.Notifications.SipServerConnectionError,message:o.window_messages_3pcc_server_connectionLost()})}));(0,i.useEffect)((function(){a()}),[r,a])}(),function(){var e=(0,k.useNotificationsState)("methods"),t=e.showNotification,n=e.hideNotificationById,o=(0,w.useLocalizationState)("t").GLOBAL,r=(0,i.useRef)(0),s=(0,x.useEvent)((function(){0!==r.current||(r.current=(new Date).getTime(),fetch("/",{method:"HEAD",cache:"no-store"}).catch((function(e){return console.error(e)})).finally((function(){var e=(new Date).getTime()-r.current;if(r.current=0,e>800){var i=o.slow_connection();t({type:"error",id:k.Notifications.SlowNetworkConnectionError,message:i}),G.bpLogger.warn("Slow connection detected")}else n(k.Notifications.SlowNetworkConnectionError)})))}));(0,i.useEffect)((function(){var e=setInterval(s,5e3);return function(){return clearInterval(e)}}),[s])}(),function(){var e=(0,k.useNotificationsState)("methods"),t=e.showNotification,n=e.hideNotificationById,r=(0,b.useBpClientState)("isDomainAuthorized"),s=(0,w.useLocalizationState)("t").ERROR_MESSAGES,a=(0,x.useEvent)((function(){r?n(k.Notifications.DomainNotAuthorizedForBPClientError):t({type:"error",id:k.Notifications.DomainNotAuthorizedForBPClientError,closable:!1,message:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:s.domain_authentication_error_part1()}),(0,o.jsx)("a",{href:I,rel:"noopener noreferrer",target:"_blank",children:s.domainAuthentificationErrorAnchor()}),(0,o.jsx)("span",{children:s.domain_authentication_error_part2()})]})})}));(0,i.useEffect)((function(){a()}),[r,a])}()}var H=function(e){var t=e.baseConnectors,n=e.authorizedConnectors,i=e.children;return U(),(0,o.jsx)(o.Fragment,{children:i(t,n)})},X=n(9572),q=n(5100),V=n(7282),Z=n(6622),J=n(9464),K=n(4778),Q=function(){var e=(0,v.useSessionState)("forceLogoutInfo"),t=(0,v.useSessionStateMethods)().closeForceLogout,n=(0,V.useFormatting)().formatFullName,i=(0,w.useLocalizationState)().t;(0,K.assertDefined)(e);var r=n(e.firstName,e.lastName),s=(0,Z.formatDate)(e.timestamp);return(0,o.jsx)(N.SmSegment,{padded:!0,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2   overflow-hidden rounded-none border-none bg-transparent shadow-none",id:"login",children:(0,o.jsxs)(m.Modal,{isOpen:!0,size:"small",className:"max-w-[570px]","aria-describedby":"forceLogoutDialogDescription","data-testid":"forced-logout-modal",children:[(0,o.jsx)(m.Modal.Header,{children:i.WINDOW_POPUP_TITLES_AND_MESSAGES.window_title_information()}),(0,o.jsx)(m.Modal.Content,{children:(0,o.jsx)(m.Modal.Description,{id:"forceLogoutDialogDescription",children:(0,o.jsx)("p",{children:function(){switch(e.errorCode){case J.incomingErrorMessageCodes.forced_logout_by_another_session:return i.ERROR_MESSAGES.sessionWasOverwritten();case J.incomingErrorMessageCodes.forced_logout_by_supervisor:return i.ERROR_MESSAGES.forcedLogout(r,s);case J.incomingErrorMessageCodes.forced_logout_by_disabling_tenant:case J.incomingErrorMessageCodes.forced_logout_by_disabling_user:return i.ERROR_MESSAGES.account_has_been_disabled()}return e.forceLogoutReason}()})})}),(0,o.jsx)(m.Modal.Actions,{children:(0,o.jsx)(N.SmButton,{onClick:t,primary:!0,"data-testid":"ok-button",children:i.WINDOW_POPUP_TITLES_AND_MESSAGES.window_buttonOk()})})]})})},Y=function(){var e=(0,X.useCurrentTabRole)(),t=(0,v.useSessionState)(["authChecked","isLoggedIn","showLoginDialog","offerForceLogin","forceLogoutInfo"]),n=t.authChecked,i=t.isLoggedIn,r=t.showLoginDialog,s=t.offerForceLogin,a=t.forceLogoutInfo,c=!(0,w.useLocalizationState)("language")||"undecided"===e&&!n,l=!c&&(r||!i),u=!!a&&l,d=s&&!a&&l;return(0,o.jsxs)("div",{className:"mx-auto h-full w-[496px]",children:[c&&(0,o.jsx)(m.Loader,{active:!0,size:"huge",color:"primary"}),l&&(0,o.jsx)(q.LoginPage,{}),u&&(0,o.jsx)(Q,{}),d&&(0,o.jsx)(q.ForceLogin,{})]})},$=r().memo((function(e){var t=e.baseConnectors,n=e.children;return(0,v.useSessionState)("isLoggedIn")?(0,o.jsx)(g.AuthorizedProviders,{baseConnectors:t,children:function(e){return(0,o.jsx)(H,{baseConnectors:t,authorizedConnectors:e,children:n})}}):(0,o.jsx)(Y,{})})),ee=n(1980),te=function(e){var t=e.baseConnectors,n=e.children,i=e.BaseConnectorsConsumer;return i?(0,o.jsx)(i,{baseConnectors:t,children:n}):n},ne=function(e){var t=e.app,n=e.platformSpecific,i=e.BaseConnectorsConsumer,r=e.children;return(0,o.jsx)(g.BaseProviders,{platformSpecific:n,app:t,children:function(e){return(0,o.jsx)(te,{baseConnectors:e,BaseConnectorsConsumer:i,children:(0,o.jsx)(ee.Tooltip.Provider,{children:(0,o.jsx)(k.NotificationsStateProvider,{children:r(e)})})})}})},oe=function(e){var t=e.app,n=e.platformSpecific,i=e.children,r=e.BaseConnectorsConsumer,s=e.className,a=e.appRemoteName;return(0,o.jsx)(m.AppStyleSelector,{app:a,children:(0,o.jsx)("div",{className:(0,E.B)("h-full",s),children:(0,o.jsx)(ne,{app:t,platformSpecific:n,BaseConnectorsConsumer:r,children:function(e){return(0,o.jsx)($,{baseConnectors:e,children:i})}})})})},ie=n(9196),re=n(7773),se=n(2499),ae=n(801);var ce=function(){var e,t,n,r;return e=(0,z.useAppConfigStateMethods)().checkWhetherToRenderReportProblemButton,t=(0,v.useSessionState)(),n=t.isLoggedIn,r=t.tenantId,(0,i.useEffect)((function(){n&&r&&e(r)}),[e,n,r]),(0,o.jsxs)("div",{className:"w-full h-full",children:[(0,o.jsx)(se.a,{}),(0,o.jsx)(ae.Modals,{}),(0,o.jsx)(m.AriaStatuses,{})]})},le=(0,x.createProviderWrapper)([re.ActiveInteractionContextProvider,c.MainPageUIProvider,ie.gZ,function(e){var t=e.children,n=(0,S.useScrollStateProviderBuilder)({children:t,defaultScrollStateData:h}),o=n.Provider,r=n.scrollStateRef,s=(0,i.useCallback)((function(e){r.current=d()(r.current,(function(t){delete t.interactions[e]}))}),[r]);return(0,_.useOnItemRemoved)((0,f.flow)((0,f.property)("id"),s)),o},p.ADShortcutsProvider]),ue=function(){return(0,o.jsx)(oe,{platformSpecific:(0,l.createPlatformSpecific)("avt"),app:"avt",appRemoteName:"voiceTranscript",children:function(){return(0,o.jsx)(le,{children:(0,o.jsx)(ce,{})})}})};n(7445);(0,a.registerServiceWorker)(),(0,s.s)(document.getElementById("root")).render((0,o.jsx)(ue,{}))}}]);
//# sourceMappingURL=211.92cf96c0.chunk.js.map