/*! For license information please see main.616c4ee0.js.LICENSE.txt */
(()=>{var e={55411:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function a(e,t,n){var a=r[n];return Array.isArray(a)&&(a=a[t?0:1]),a.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a}};return n.default.locale(o,null,!0),o}(n(82008))},65668:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"en-nz",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return n.default.locale(r,null,!0),r}(n(82008))},16017:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}()},8338:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return n.default.locale(r,null,!0),r}(n(82008))},62618:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr-ca",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return n.default.locale(r,null,!0),r}(n(82008))},21295:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}(n(82008))},11570:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"\xba"}};return n.default.locale(r,null,!0),r}(n(82008))},33214:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e){return e+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(e){return e<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return n.default.locale(r,null,!0),r}(n(82008))},31605:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return n.default.locale(r,null,!0),r}(n(82008))},65958:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(r,null,!0),r}(n(82008))},18034:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return n.default.locale(r,null,!0),r}(n(82008))},61389:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),a="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),o="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),i="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),s=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function c(e,t,n){var r,a;return"m"===n?t?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+(r=+e,a={mm:t?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n].split("_"),r%10==1&&r%100!=11?a[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?a[1]:a[2])}var u=function(e,t){return s.test(t)?r[e.month()]:a[e.month()]};u.s=a,u.f=r;var l=function(e,t){return s.test(t)?o[e.month()]:i[e.month()]};l.s=i,l.f=o;var d={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:u,monthsShort:l,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:c,mm:c,h:"\u0447\u0430\u0441",hh:c,d:"\u0434\u0435\u043d\u044c",dd:c,M:"\u043c\u0435\u0441\u044f\u0446",MM:c,y:"\u0433\u043e\u0434",yy:c},ordinal:function(e){return e},meridiem:function(e){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return n.default.locale(d,null,!0),d}(n(82008))},34738:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e){return e+"."}};return n.default.locale(r,null,!0),r}(n(82008))},98833:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,t){return"W"===t?e+"\u5468":e+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,t){var n=100*e+t;return n<600?"\u51cc\u6668":n<900?"\u65e9\u4e0a":n<1100?"\u4e0a\u5348":n<1300?"\u4e2d\u5348":n<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return n.default.locale(r,null,!0),r}(n(82008))},89945:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},i=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,r=o.meridiem;if(r){for(var a=1;a<=24;a+=1)if(e.indexOf(r(a,0,t))>-1){n=a>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[a,function(e){this.afternoon=l(e,!1)}],a:[a,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[a,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[a,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[a,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function _(n){var r,a;r=n,a=o&&o.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||a[r]||e[r]||a[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=i.length,c=0;c<s;c+=1){var u=i[c],l=d[u],_=l&&l[0],f=l&&l[1];i[c]=f?{regex:_,parser:f}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var a=i[n];if("string"==typeof a)r+=a.length;else{var o=a.regex,c=a.parser,u=e.slice(r),l=o.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,a=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var s=i[1];if("string"==typeof s){var c=!0===i[2],u=!0===i[3],l=c||u,d=i[2];u&&(d=i[2]),o=this.$locale(),!c&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=_(t)(e),a=r.year,o=r.month,i=r.day,s=r.hours,c=r.minutes,u=r.seconds,l=r.milliseconds,d=r.zone,f=new Date,p=i||(a||o?1:f.getDate()),m=a||f.getFullYear(),g=0;a&&!o||(g=o>0?o-1:f.getMonth());var h=s||0,v=c||0,y=u||0,b=l||0;return d?new Date(Date.UTC(m,g,p,h,v,y,b+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,p,h,v,y,b)):new Date(m,g,p,h,v,y,b)}catch(e){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&t!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var f=s.length,p=1;p<=f;p+=1){i[1]=s[p-1];var m=n.apply(this,i);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===f&&(this.$d=new Date(""))}else a.call(this,e)}}}()},64989:function(e){e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,a=36e5,o=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=31536e6,c=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:s,months:c,days:o,hours:a,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof v},_=function(e,t,n){return new v(e,n,t.$l)},f=function(e){return t.p(e)+"s"},p=function(e){return e<0},m=function(e){return p(e)?Math.ceil(e):Math.floor(e)},g=function(e){return Math.abs(e)},h=function(e,t){return e?p(e)?{negative:!0,format:""+g(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},v=function(){function p(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return _(e*l[f(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[f(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var a=e.match(u);if(a){var o=a.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var g=p.prototype;return g.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*l[n]}),0)},g.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=m(e/s),e%=s,this.$d.months=m(e/c),e%=c,this.$d.days=m(e/o),e%=o,this.$d.hours=m(e/a),e%=a,this.$d.minutes=m(e/r),e%=r,this.$d.seconds=m(e/n),e%=n,this.$d.milliseconds=e},g.toISOString=function(){var e=h(this.$d.years,"Y"),t=h(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=h(n,"D"),a=h(this.$d.hours,"H"),o=h(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);var s=h(i,"S"),c=e.negative||t.negative||r.negative||a.negative||o.negative||s.negative,u=a.format||o.format||s.format?"T":"",l=(c?"-":"")+"P"+e.format+t.format+r.format+u+a.format+o.format+s.format;return"P"===l||"-P"===l?"P0D":l},g.toJSON=function(){return this.toISOString()},g.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},g.as=function(e){return this.$ms/l[f(e)]},g.get=function(e){var t=this.$ms,n=f(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?m(t/l[n]):this.$d[n],0===t?0:t},g.add=function(e,t,n){var r;return r=t?e*l[f(t)]:d(e)?e.$ms:_(e,this).$ms,_(this.$ms+r*(n?-1:1),this)},g.subtract=function(e,t){return this.add(e,t,!0)},g.locale=function(e){var t=this.clone();return t.$l=e,t},g.clone=function(){return _(this.$ms,this)},g.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},g.valueOf=function(){return this.asMilliseconds()},g.milliseconds=function(){return this.get("milliseconds")},g.asMilliseconds=function(){return this.as("milliseconds")},g.seconds=function(){return this.get("seconds")},g.asSeconds=function(){return this.as("seconds")},g.minutes=function(){return this.get("minutes")},g.asMinutes=function(){return this.as("minutes")},g.hours=function(){return this.get("hours")},g.asHours=function(){return this.as("hours")},g.days=function(){return this.get("days")},g.asDays=function(){return this.as("days")},g.weeks=function(){return this.get("weeks")},g.asWeeks=function(){return this.as("weeks")},g.months=function(){return this.get("months")},g.asMonths=function(){return this.as("months")},g.years=function(){return this.get("years")},g.asYears=function(){return this.as("years")},p}(),y=function(e,t,n){return e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms")};return function(n,r,a){e=a,t=a().$utils(),a.duration=function(e,t){var n=a.locale();return _(e,{$l:n},t)},a.isDuration=d;var o=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)?y(this,e,1):o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)?y(this,e,-1):i.bind(this)(e,t)}}}()},50030:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,a){var o=n(e),i=n(t),s="("===(a=a||"()")[0],c=")"===a[1];return(s?this.isAfter(o,r):!this.isBefore(o,r))&&(c?this.isBefore(i,r):!this.isAfter(i,r))||(s?this.isBefore(o,r):!this.isAfter(o,r))&&(c?this.isAfter(i,r):!this.isBefore(i,r))}}}()},63575:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},49388:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},70909:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,a=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var i=e.name?e:e.$locale(),s=a(i[t]),c=a(i[n]),u=s||c.map((function(e){return e.slice(0,r)}));if(!o)return u;var l=i.weekStart;return u.map((function(e,t){return u[(t+(l||0))%7]}))},i=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(i(),"months")},n.monthsShort=function(){return o(i(),"monthsShort","months",3)},n.weekdays=function(e){return o(i(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(i(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(i(),"weekdaysMin","weekdays",2,e)}}}()},33147:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var a=n.prototype,o=a.format;r.en.formats=e,a.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,a){var o=a&&a.toUpperCase();return r||n[a]||e[a]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},22745:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,a=function(e){var t,a=e.date,o=e.utc,i={};if(!(null===(t=a)||t instanceof Date||t instanceof Array||r.$utils().u(t)||"Object"!==t.constructor.name)){if(!Object.keys(a).length)return new Date;var s=o?n.utc():n();Object.keys(a).forEach((function(e){var t,n;i[(t=e,n=r.$utils().p(t),"date"===n?"day":n)]=a[e]}));var c=i.day||(i.year||i.month>=0?1:s.date()),u=i.year||s.year(),l=i.month>=0?i.month:i.year||i.day?0:s.month(),d=i.hour||0,_=i.minute||0,f=i.second||0,p=i.millisecond||0;return o?new Date(Date.UTC(u,l,c,d,_,f,p)):new Date(u,l,c,d,_,f,p)}return a},o=r.parse;r.parse=function(e){e.date=a.bind(this)(e),o.bind(this)(e)};var i=r.set,s=r.add,c=r.subtract,u=function(e,t,n,r){void 0===r&&(r=1);var a=Object.keys(t),o=this;return a.forEach((function(n){o=e.bind(o)(t[n]*r,n)})),o};r.set=function(e,t){return t=void 0===t?e:t,"Object"===e.constructor.name?u.bind(this)((function(e,t){return i.bind(this)(t,e)}),t,e):i.bind(this)(e,t)},r.add=function(e,t){return"Object"===e.constructor.name?u.bind(this)(s,e,t):s.bind(this)(e,t)},r.subtract=function(e,t){return"Object"===e.constructor.name?u.bind(this)(s,e,t,-1):c.bind(this)(e,t)}}}()},77491:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,a){return r.fromToBase(e,t,n,a)}n.en.relativeTime=a,r.fromToBase=function(t,r,o,i,s){for(var c,u,l,d=o.$locale().relativeTime||a,_=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=_.length,p=0;p<f;p+=1){var m=_[p];m.d&&(c=i?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,g<=m.r||!m.r){g<=1&&p>0&&(m=_[p-1]);var h=d[m.l];s&&(g=s(""+g)),u="string"==typeof h?h.replace("%d",g):h(g,r,m.l,l);break}}if(r)return u;var v=l?d.future:d.past;return"function"==typeof v?v(u):v.replace("%s",u)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var i=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(i(this),e)},r.fromNow=function(e){return this.from(i(this),e)}}}()},10264:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,a,o){var i=a.prototype;o.utc=function(e){return new a({date:e,utc:!0,args:arguments})},i.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},i.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var c=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=i.utcOffset;i.utcOffset=function(r,a){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var a=(""+r[0]).match(n)||["-",0,0],o=a[0],i=60*+a[1]+ +a[2];return 0===i?0:"+"===o?i:-i}(r),null===r))return this;var i=Math.abs(r)<=16?60*r:r,s=this;if(a)return s.$offset=i,s.$u=0===r,s;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(i+c,e)).$offset=i,s.$x.$localOffset=c}else s=this.utc();return s};var l=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var d=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var _=i.diff;i.diff=function(e,t,n){if(e&&this.$u===e.$u)return _.call(this,e,t,n);var r=this.local(),a=o(e).local();return _.call(r,a,t,n)}}}()},25130:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(a=r))})),t.splice(a,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!=typeof process&&"env"in process&&(e={FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(87123)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},87123:(e,t,n)=>{e.exports=function(e){function t(e){let n,a,o,i=null;function s(...e){if(!s.enabled)return;const r=s,a=Number(new Date),o=a-(n||a);r.diff=o,r.prev=n,r.curr=a,n=a,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,a)=>{if("%%"===n)return"%";i++;const o=t.formatters[a];if("function"==typeof o){const t=e[i];n=o.call(r,t),e.splice(i,1),i--}return n})),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(a!==t.namespaces&&(a=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(a),...t.skips.map(a).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),a=r.length;for(n=0;n<a;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(11378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},11378:e=>{var t=1e3,n=60*t,r=60*n,a=24*r,o=7*a,i=365.25*a;function s(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var o=Math.abs(e);if(o>=a)return s(e,o,a,"day");if(o>=r)return s(e,o,r,"hour");if(o>=n)return s(e,o,n,"minute");if(o>=t)return s(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=a)return Math.round(e/a)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},11837:(e,t,n)=>{"use strict";var r=n(66029),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},52322:(e,t,n)=>{"use strict";e.exports=n(11837)},23525:(e,t,n)=>{"use strict";n(23690),n(34805),n(81890),n(56020),n(41844),n(79941),n(85571),n(96559),n(7578),n(85698),n(23713),n(36501),n(7796),n(4623),n(58713),n(24339),n(84970),n(28136),n(35535),n(14134),n(64832),n(77434),n(28074),n(37346),n(18611),n(17670),n(60142),n(91259),n(3211),n(5141),n(52247),n(35795),n(87517),n(41632),n(24776),n(95944),n(86990),n(53546),n(73482),n(33976),n(62176),n(32383),n(39066),n(94667),n(67850),n(82922),n(88636),n(41682),n(39252),n(27385),n(49160),n(27554),n(55597),n(65175),n(16665),n(82393),n(69923),n(74130),n(38756),n(34075),n(19806),n(3973),n(80338),n(86603),n(3118),n(26),n(52388),n(20981),n(80205),n(98525),n(66534),n(86233),n(84512),n(68069),n(30550),n(46078),n(84592),n(88630),n(8518),n(94602),n(62569),n(71789),n(47824),n(88591),n(26220),n(62226),n(57589),n(9650),n(57128),n(81029),n(82697),n(61721),n(61350),n(62050),n(64622),n(23165),n(15637),n(88445),n(66593),n(14169),n(79696),n(17801),n(37010),n(50726),n(5518),n(75058),n(9339),n(598),n(3945),n(22631),n(49553),n(63849),n(82939),n(72457),n(99698),n(68588),n(29778),n(20916),n(15922),n(7630),n(70163),n(79607),n(84726),n(97329),n(96877),n(7909),n(90444),n(13641),n(16152),n(87801),n(91786),n(9505),n(2509),n(53287),n(19883),n(79707),n(37008),n(13543),n(85682),n(37319),n(90032),n(76455),n(47402),n(1514),n(64470),n(77356),n(18189),n(12811),n(9286),n(72823),n(95807),n(2294),n(20002),n(32669),n(29046),n(82915),n(37295),n(78820),n(26082),n(26266),n(79812),n(82263),n(36165),n(94263),n(14441),n(10278),n(48325),n(86497),n(54865),n(73734),n(8807),n(21482),n(50665),n(40710),n(76199),n(88567),n(68938),n(7315),n(40381),n(13519),n(22173),n(45152),n(29016),n(36283),n(50712),n(57339),n(93344),n(5660),n(50944),n(64245),n(26552),n(68939),n(56617),n(52282),n(77024),n(68566),n(64665),n(95254),n(53179),n(12630),n(2224),n(489)},67595:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActivitiesStateContextProvider:()=>o,useActivitiesState:()=>c,useActivitiesStateConnector:()=>d,useActivitiesStateMethods:()=>l,useActivitiesStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("ActivitiesStateContextProvider"),o=a.ActivitiesStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("activitiesState",i),c=s.useActivitiesState,u=s.useActivitiesStateRef,l=s.useActivitiesStateMethods,d=s.useActivitiesStateConnector},36611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activitiesControlEvents:()=>i,activitiesTrackerEvents:()=>o,getInitialActivitiesState:()=>r});var r=function(){return{activitiesList:[],activitiesListByContactId:{},activitiesListLoading:!1,activities:{}}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={clearActivitiesListById:(0,a.event)(),getActivitiesList:(0,a.event)(),getActivity:(0,a.event)(),resetState:(0,a.event)()}},77443:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActivitiesStateImpl:()=>y});var r=n(63830),a=n.n(r),o=n(2122),i=n(81890),s=n(52388),c=n(5518);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?u(e):t;var n}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(g,e);var t,n,r,f=v(g);function g(){var e;return l(this,g),_(u(e=f.apply(this,arguments)),"clearActivitiesListById",(function(t){e.updateState(a()((function(e){delete e.activitiesListByContactId[t]})))})),_(u(e),"getActivitiesList",(function(t){e.updateState(a()((function(e){e.activitiesList=[],e.activitiesListLoading=!0,e.activitiesListByContactId[t.id]={isLoading:!0,data:[]}})));var n=(0,o.partial)(e.onActivitiesList,t.id),r=(0,o.partial)(e.onActivitiesListError,t.id);e.fetchActivitiesList(t).then(n).catch(r)})),_(u(e),"getActivity",(function(t){e.updateState(a()((function(e){e.activities[t.id]={data:null,isLoading:!0}}))),e.fetchActivity(t).then((function(n){return e.onActivity(t.id,n)})).catch((function(){return e.onActivityError(t.id)}))})),_(u(e),"resetStateFromClient",(function(){e.updateState((0,i.getInitialActivitiesState)())})),_(u(e),"onActivitiesList",(function(t,n){var r=n.map((function(e){return{Id:e._id,globalInteractionId:e.global_interaction_id,mediaType:e.media_type,createdTime:e.created_time,direction:e.direction,parties:e.parties.map((function(e){return"USER"===e.party_type?{partyId:e.party_id,partyType:e.party_type,userId:e.user_id,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,startTime:e.start_time,duration:e.duration,disposition:e.disposition,notes:e.notes}:{partyId:e.party_id,partyType:e.party_type,contactId:e.contact_id,serviceId:e.service_id,startTime:e.start_time,duration:e.duration}})),services:e.services&&e.services.map((function(e){return{serviceId:e.service_id,serviceName:e.service_name}})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged}}));e.updateState(a()((function(e){e.activitiesList=r,e.activitiesListLoading=!1,e.activitiesListByContactId[t]={isLoading:!1,data:r}})))})),_(u(e),"onActivitiesListError",(function(t){e.updateState((function(e){return m(p({},e),{activitiesList:[],activitiesListByContactId:m(p({},e.activitiesListByContactId),_({},t,{isLoading:!1,data:[]})),activitiesListLoading:!1})}))})),_(u(e),"onActivity",(function(t,n){var r=n.map((function(e){return{globalInteractionId:e.global_interaction_id,sessionId:e.session_id,tenantId:e.tenant_id,eraseLoginId:e.erase_login_id,eraseReason:e.erase_reason,eraseTime:e.erase_time,messages:e.messages.map((function(t){return{partyId:t.party_id,globalInteractionId:e.global_interaction_id,timestamp:t.timestamp,event:t.event,firstName:t.first_name,lastName:t.last_name,userId:t.user_id,contactId:t.contact_id,phone:t.phone,msg:t.msg,msgId:t.msg_id,refMsgId:t.ref_msg_id,channel:t.channel,type:t.type,fileType:t.file_type,fileName:t.file_name,fileId:t.file_id,page:t.page,title:t.title}}))}}));e.updateState(a()((function(e){e.activities[t]={data:r,isLoading:!1}})))})),_(u(e),"onActivityError",(function(t){e.updateState(a()((function(e){e.activities[t]={data:null,isLoading:!1}})))})),_(u(e),"fetchActivity",(function(t){var n=t.id,r=t.mediaType,a=e.sessionConnector.getStateData().serverOrigin,o="VOICE"===r?"VOICE_transcript":"chat_transcript";return(0,c.apiRequests)(a).getActivity({transcriptType:o,activityId:n})})),_(u(e),"fetchActivitiesList",(function(t){var n=t.id,r=e.sessionConnector.getStateData().serverOrigin;return(0,c.apiRequests)(r).getContactActivity({contactId:n})})),e}return t=g,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({clearActivitiesListById:this.clearActivitiesListById,getActivitiesList:this.getActivitiesList,getActivity:this.getActivity,resetState:this.resetStateFromClient}),this.interactionStateConnector.dispenser.subscribe({onNewItem:function(t){var n=t.previousActivity;"CHAT"===(null==n?void 0:n.mediaType)&&e.getActivity({id:n.globalInteractionId,mediaType:n.mediaType})},onItemRemoved:function(t){t.contactId&&((0,s.isExternalChat)(t)||(0,s.isPotentialInteraction)(t))&&e.clearActivitiesListById(t.contactId)}}))}}])&&d(t.prototype,n),r&&d(t,r),g}(n(16152).StateFactory.createBaseStateClass({name:"activitiesState",controlEvents:i.activitiesControlEvents,trackerEvents:i.activitiesTrackerEvents,getInitialState:i.getInitialActivitiesState,options:{authorized:!0},dependencies:["sessionConnector","interactionStateConnector"]}))},60098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AgentStateContextProvider:()=>P,NOT_READY_ICONS_IDS:()=>o,createAgentStateOptionSelector:()=>b,getAgentStateIconUrl:()=>w,useAgentNextStateWasTouched:()=>B,useAgentState:()=>M,useAgentStateMethods:()=>x,useAgentStateOptions:()=>L,useAgentStateRef:()=>j,useAgentStateSelectedOption:()=>F,useAgentStateSetDate:()=>U,useNextAgentStateOption:()=>$,useReservedForIncomingInteraction:()=>K});var r="not_ready",a=[{label:"Supervising",localizeId:"acd_supervision",state:"",icon:"supervising"},{label:"Ready",state:"ready",localizeId:"acd_ready",icon:"ready"},{label:"Busy",localizeId:"acd_busy",state:"busy",icon:"busy",autoSelected:!0},{label:"After Call Work",localizeId:"acd_acw_long",state:"after_call_work",icon:"after_call_work",autoSelected:!0},{label:"Reserved",localizeId:"acd_reserved",state:"reserved",icon:"reserved",autoSelected:!0},{label:"Ringing",localizeId:"acd_ringing",state:"ringing",icon:"reserved",autoSelected:!0}],o={STAR:"1BB13EFE-3D16-489C-ABF9-02E0AEDDE2B9",PLATE:"51564809-3A4A-4288-8D82-B619A81A20D9",PEOPLE:"C5321E12-91D7-4F72-9FDC-93E2A3B67F79",TEACHER:"B2526832-C9EC-45EA-BB35-CFBD419BA793",HOURGLASS:"9DBB7E95-32B5-459D-AFAA-BAED6B6CBE76",BELL:"6B596974-2174-4A17-9D33-28644994FB0F",BOOK:"54E934E5-8C09-4E5A-B18C-38497571E492",MUG:"03723E99-A82B-4A0D-B8C3-3394820F3987"},i=n(52322),s=n(66029),c=n(86702),u=n(40381),l=n(53179),d=n(5977),_=n(79941),f=n(5518),p=n(18189);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y,b=function(e){return(0,d.createSelector)([function(e){return e.state},function(e){return e.notReadyReason},function(e){return e.reservedForIncomingInteraction},function(e){return e.isRinging},function(e,t){return t}],(function(e,t,n,r,a){return a.find((function(a){return r?"ringing"===a.state:n?"reserved"===a.state:"not_ready"===e?a.notReadyReason===t:a.state===e}))}),{memoizeOptions:e})},S=function(e,t){var n=t.localizeId||t.label;return h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({},t),{localizedLabel:(0,_.isLocalizeId)(e,n)?e[n](""):t.label})},C=function(e){var t=e.name,n=e.icon_name,a=e.image_id;return{autoSelected:e.type!==p.NotReadyReasonType.userDefined,icon:n||r,imageId:a,label:t,localizeId:t,notReadyReason:t,state:r}},I=(0,d.createSelector)([function(e){return e.incomingNotReadyItems},function(e){return e.notReadyOrderType},function(e,t){return t}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALPHABETIC",n=arguments.length>2?arguments[2]:void 0,r=a.map((function(e){return S(n,e)})),o=e.map((function(e){return S(n,C(e))}));return"ALPHABETIC"===t&&(o=o.sort((function(e,t){return e.localizedLabel.localeCompare(t.localizedLabel)}))),v(r).concat(v(o))}));function w(e,t,n){if(e&&t&&n){var r=f.requestUrls.getImageById.replace("{imageId}",e);return"".concat(t).concat(r,"?token=").concat(n)}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}function D(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){var t=e.children,n=e.connector,r=(0,l.useLocalizationState)().t.AGENT_STATE_CONTROL,a=A((0,s.useState)((function(){return N(n.getStateData(),r)})),2),o=a[0],d=a[1];(0,s.useEffect)((function(){return n.dispenser.subscribe({onInitialState:function(e){d(N(T({},e),r))},onChange:function(e){d((function(t){return N(T({},t,e),r)}))}}).unsubscribe}),[n,r]);var _=(0,u.useAsRef)(o),f=(0,s.useMemo)((function(){return{state:o,stateRef:_,connector:n,methods:n.dispatch}}),[o,_,n]);return y||((y=(0,c.createContext)(f)).displayName="AgentStateContext"),(0,i.jsx)(y.Provider,{value:f,children:t})},R=b(),k=b(),N=function(e,t){var n=I(e,t),r=R(e,n),a=k({state:e.nextState,notReadyReason:e.nextNotReadyReason},n);return D(T({},e),{agentStateOptions:n,nextAgentStateOption:a,selectedAgentStateOption:r})},M=function(){return(0,c.useContextSelector)(y,(function(e){return e.state}))},j=function(){return(0,c.useContextSelector)(y,(function(e){return e.stateRef}))},x=function(){return(0,c.useContextSelector)(y,(function(e){return e.methods}))},L=function(){return(0,c.useContextSelector)(y,(function(e){return e.state.agentStateOptions}))},K=function(){return(0,c.useContextSelector)(y,(function(e){return e.state.reservedForIncomingInteraction}))},F=function(){return(0,c.useContextSelector)(y,(function(e){return e.state.selectedAgentStateOption}))},$=function(){return(0,c.useContextSelector)(y,(function(e){return e.state.nextAgentStateOption}))},U=function(){return(0,c.useContextSelector)(y,(function(e){return e.state.isRinging?e.state.ringingStartTime:e.state.stateSetDate}))},B=function(){return(0,c.useContextSelector)(y,(function(e){return e.state.nextStateTouched}))}},28029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{agentStateControlEvents:()=>s,agentStateTrackerEvents:()=>i,getInitialAgentState:()=>r,getInitialSystemNotReadyReasons:()=>a,isAcdState:()=>l,isLocalizeId:()=>u});var r=function(){return{state:void 0,notReadyReason:void 0,nextState:void 0,nextNotReadyReason:void 0,reservedForIncomingInteractionTimeout:void 0,reservedForIncomingInteractionId:void 0,reservedForIncomingInteraction:!1}},a=function(){return{noAnswer:"No answer",connectionLoss:"Connection loss",afterCallBreak:"After call break",logoutPending:"Logout Pending"}},o=n(64245),i={onInitialState:(0,o.event)(),onChange:(0,o.event)()},s={setState:(0,o.event)()},c=n(18189),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t in e},l=function(e){return c.acdStates.some((function(t){return t===e}))}},50947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AgentStateImpl:()=>h});var r=n(79941),a=n(18189),o=n(50944),i=n(16152);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function f(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?c(e):t;var n}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(_,e);var t,n,i,s=g(_);function _(){var e;return u(this,_),d(c(e=s.apply(this,arguments)),"notReadyReasons",[]),d(c(e),"notReadyIcons",[]),d(c(e),"systemNotReadyReasons",(0,r.getInitialSystemNotReadyReasons)()),d(c(e),"setState",(function(t){var n=t.state,r=t.reason;"busy"===e.stateData.state&&e.produceState((function(e){e.nextStateTouched=!0})),e.transport.dispatch.agent_change_state({acd_state:n,reason:r})})),d(c(e),"onAgentChangeState",(function(t){var n=t.acd_state,r=t.reason,a=t.acd_next_state,o=t.next_reason,i=t.duration,s=e.stateData.state,c=e.stateData.notReadyReason,u=e.stateData.stateSetDate,l=s===n&&r===c?u:_.durationToDate(i);"string"==typeof n?e.updateState({state:n,notReadyReason:r,nextState:a,nextNotReadyReason:o,stateSetDate:l,nextStateTouched:n===s&&e.stateData.nextStateTouched}):e.updateState({state:void 0,notReadyReason:void 0,nextState:void 0,nextNotReadyReason:void 0,stateSetDate:void 0})})),d(c(e),"onAgentWelcome",(function(t){var n=t.reasons,r=t.system_reasons,i=t.not_ready_order_type,s=t.items,c=(0,o.convertKVArray)(s,(function(e){return e})),u=(0,o.convertKVArray)(n,(function(e){return e})),l=(0,o.convertKVArray)(r,(function(e){return e}));u.sort((function(e,t){return Number(e.order_num)-Number(t.order_num)})).forEach((function(t){e.notReadyReasons.includes(t.name)||(e.notReadyReasons.push(t.name),e.notReadyIcons.push(t.icon_name))})),l.forEach((function(t){t.type===a.NotReadyReasonType.noAnswer&&(e.systemNotReadyReasons.noAnswer=t.name),t.type===a.NotReadyReasonType.connectionLoss&&(e.systemNotReadyReasons.connectionLoss=t.name),t.type===a.NotReadyReasonType.afterCallBreak&&(e.systemNotReadyReasons.afterCallBreak=t.name),t.type===a.NotReadyReasonType.logoutPending&&(e.systemNotReadyReasons.logoutPending=t.name)}));var d=m(u).concat(m(l)).sort((function(e,t){return Number(e.order_num)-Number(t.order_num)})),_=e.getReservedIncomingInteractionId(c);e.updateState({incomingNotReadyItems:d,reservedForIncomingInteraction:Boolean(_),reservedForIncomingInteractionId:_,notReadyReasons:e.notReadyReasons,notReadyIcons:e.notReadyIcons,systemNotReadyReasons:e.systemNotReadyReasons,notReadyOrderType:i})})),d(c(e),"onAgentItemCreated",(function(t){e.setReservedForIncomingInteraction(t)})),d(c(e),"onAgentItemChanged",(function(t){"completed"===t.state&&e.clearReservedForIncomingInteraction(t.item_id),e.updateRingingInfo(t)})),d(c(e),"onAgentNewItem",(function(){e.clearReservedForIncomingInteraction()})),d(c(e),"setReservedForIncomingInteraction",(function(t){if("busy"!==e.stateData.state&&"email"!==t.media_type){var n=setTimeout((function(){e.produceState((function(e){e.reservedForIncomingInteraction=!0}))}),1e3);e.produceState((function(e){e.reservedForIncomingInteractionTimeout=n,e.reservedForIncomingInteractionId=t.item_id}))}})),d(c(e),"updateRingingInfo",(function(t){"inbound"===t.direction&&"voice"==t.media_type&&("delivery_pending"===t.state?e.produceState((function(e){e.isRinging=!0,e.ringingStartTime=(new Date).getTime().toString()})):"delivered"!==t.state&&"completed"!==t.state||e.produceState((function(e){e.isRinging=!1,e.ringingStartTime=void 0})))})),d(c(e),"getReservedIncomingInteractionId",(function(e){var t=null==e?void 0:e.find((function(e){return"queued"===e.state||"IVR"===e.state}));return null==t?void 0:t.item_id})),d(c(e),"clearReservedForIncomingInteraction",(function(t){void 0!==t&&e.stateData.reservedForIncomingInteractionId!==t||(e.stateData.reservedForIncomingInteractionTimeout&&(clearTimeout(e.stateData.reservedForIncomingInteractionTimeout),e.produceState((function(e){e.reservedForIncomingInteractionTimeout=void 0}))),e.stateData.reservedForIncomingInteraction&&e.produceState((function(e){e.reservedForIncomingInteraction=!1})))})),e}return t=_,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_change_state:this.onAgentChangeState,agent_welcome:this.onAgentWelcome,agent_item_created:this.onAgentItemCreated,agent_item_changed:this.onAgentItemChanged,agent_new_item:this.onAgentNewItem}),this.fromClientDispenser.subscribe({setState:this.setState}),this.interactionStateConnector.dispenser.subscribe({onAutoRejectIncomingEmail:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({},(0,r.getInitialSystemNotReadyReasons)(),e.stateData.systemNotReadyReasons);e.setState({state:"not_ready",reason:t.noAnswer})}}))}}],n&&l(t.prototype,n),i&&l(t,i),_}(i.StateFactory.createBaseStateClass({name:"agentState",controlEvents:r.agentStateControlEvents,trackerEvents:r.agentStateTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["transport","interactionStateConnector"],getInitialState:r.getInitialAgentState}));d(h,"durationToDate",(function(e){var t=new Date;return e&&Number(e)&&(t=new Date(Date.now()-1e3*Number(e))),String(Number(t))}))},83826:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppConfigStateContextProvider:()=>o,useAppConfigState:()=>c,useAppConfigStateConnector:()=>d,useAppConfigStateMethods:()=>l,useAppConfigStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("AppConfigStateContextProvider"),o=a.AppConfigStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("appConfigState",i),c=s.useAppConfigState,u=s.useAppConfigStateRef,l=s.useAppConfigStateMethods,d=s.useAppConfigStateConnector},1844:(e,t,n)=>{"use strict";n.r(t),n.d(t,{appConfigStateControlEvents:()=>i,appConfigStateTrackerEvents:()=>o,getInitialAppConfigState:()=>r});var r=function(){return{acdState:"",reason:"",primaryMetric:"",secondaryMetric:"",agentDailyBreakTime:0,agentStates:!1,autoCreateContact:!1,autoPinCase:!1,crmWidgetUseCrmKB:!1,crmWidgetUseInternalKB:!1,outboundCallServiceRequired:!1,resetServiceForOutboundCalls:!1,resolveOnFinalDisposition:!1,searchWithoutQuery:!1,useAugmentation:!1,enableSmsCharacterCount:!1}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={getAppConfig:(0,a.event)(),checkWhetherToRenderReportProblemButton:(0,a.event)()}},97592:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppConfigStateImpl:()=>S});var r=n(7578),a=n(28136),o=n(26220),i=n(40381),s=n(50944),c=n(16152),u=n(5518);function l(e){var t=e.serverOrigin,n=e.tenantId;return(0,u.apiRequests)(t).checkIfNeedRenderReportProblemButton({tenantUrl:n})}function d(e){return(0,u.apiRequests)(e).getServerVersion()}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function h(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?_(e):t;var n}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}var b=o.bpLogger.withPrefix("@APP-CFG"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,n,r,o=y(c);function c(){var e;return f(this,c),m(_(e=o.apply(this,arguments)),"onAgentWelcome",(function(){e.checkIfServerVersionIsOutdated(),e.getAppConfig()})),m(_(e),"getAppConfig",(function(){e.transport.dispatch.application_config().then((function(t){var n=t.error,r=t.result;if(!(null==n?void 0:n.message)&&r){var a=function(e){var t=e[0];if(!t)throw Error("No config returned from agent_query.application_config()");return{acdState:t.acd_state,reason:t.reason,primaryMetric:t.primary_metric,secondaryMetric:t.secondary_metric,agentDailyBreakTime:parseInt(t.agent_daily_break_time),agentStates:(0,s.transportToBoolean)(t.agents_states),autoCreateContact:(0,s.transportToBoolean)(t.auto_create_contact),autoPinCase:(0,s.transportToBoolean)(t.auto_pin_case),crmWidgetUseCrmKB:(0,s.transportToBoolean)(t.crm_widget_use_crm_kb),crmWidgetUseInternalKB:(0,s.transportToBoolean)(t.crm_widget_use_internal_kb),outboundCallServiceRequired:(0,s.transportToBoolean)(t.outbound_call_service_required),resetServiceForOutboundCalls:(0,s.transportToBoolean)(t.reset_service_for_outbound_calls),resolveOnFinalDisposition:(0,s.transportToBoolean)(t.resolve_on_final_disposition),searchWithoutQuery:(0,s.transportToBoolean)(t.search_without_query),useAugmentation:(0,s.transportToBoolean)(t.use_augmentation),enableSmsCharacterCount:(0,s.transportToBoolean)(t.enable_sms_character_count)}}(r);e.updateState(a)}else b.error(null==n?void 0:n.message)})).catch((function(e){b.error((0,i.getErrorMessage)(e))}))})),m(_(e),"checkWhetherToRenderReportProblemButton",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;return t?l({serverOrigin:n,tenantId:t}).then((function(t){e.updateState({renderReportProblemButton:t})})).catch((function(e){return b.error((0,i.getErrorMessage)(e))})):Promise.reject("No tenant Id is passed to fetchRenderReportProblemButtonBoolean()")})),m(_(e),"checkIfServerVersionIsOutdated",(function(){a.buildInfo.isBranded?d(e.sessionConnector.getStateData().serverOrigin).then((function(t){var n=a.buildInfo.compareVersions(a.buildInfo.build,t.version)<0;e.updateState({isClientOutdated:n,serverVersion:t.version,serverComments:t.comments}),n&&b.warn("Client app is outdated")})).catch((function(e){return b.error((0,i.getErrorMessage)(e))})):e.updateState({isClientOutdated:!1})})),e}return t=c,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({getAppConfig:this.getAppConfig,checkWhetherToRenderReportProblemButton:this.checkWhetherToRenderReportProblemButton}))}}])&&p(t.prototype,n),r&&p(t,r),c}(c.StateFactory.createBaseStateClass({name:"appConfigState",controlEvents:r.appConfigStateControlEvents,trackerEvents:r.appConfigStateTrackerEvents,options:{synchronized:!0},dependencies:["transport","sessionConnector"],getInitialState:r.getInitialAppConfigState}))},26922:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AriaStatusStateContextProvider:()=>o,useAriaStatusState:()=>c,useAriaStatusStateConnector:()=>d,useAriaStatusStateMethods:()=>l,useAriaStatusStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("AriaStatusStateContextProvider"),o=a.AriaStatusStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("ariaStatusState",i),c=s.useAriaStatusState,u=s.useAriaStatusStateRef,l=s.useAriaStatusStateMethods,d=s.useAriaStatusStateConnector},97420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AriaStatusStateImpl:()=>h});var r=n(63830),a=n.n(r),o=n(2122),i=n(36501),s=n(52388),c=n(68939);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?u(e):t;var n}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(f,e);var t,n,r,i=g(f);function f(){var e;return l(this,f),_(u(e=i.apply(this,arguments)),"updateStatus",(function(t,n,r){e.updateState(a()((function(e){(0,o.set)(e.statuses,"".concat(t,".").concat(n),r)})))})),_(u(e),"repeatStatus",(function(t,n,r){e.updateState(a()((function(e){e.statuses[t]||(e.statuses[t]={}),e.statuses[t]["".concat(n,"/").concat((0,c.uuid)())]=r})))})),_(u(e),"removeStatusesById",(function(t){e.updateState(a()((function(e){delete e.statuses[t]})))})),e}return t=f,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({repeatStatus:this.repeatStatus,updateStatus:this.updateStatus,removeStatusesById:this.removeStatusesById}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:function(t){"mobile"!==e.platformSpecific.clientType()&&e.removeStatusesById(t.id)},onCallMuted:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"mute",n.ACCESSIBILITY.status_call_muted())}},onCallUnMuted:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"mute",n.ACCESSIBILITY.status_call_unmuted())}},onCallHeld:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"hold",n.ACCESSIBILITY.status_call_on_hold())}},onCallResumed:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"hold",n.ACCESSIBILITY.status_call_retrieved())}},onCallRecordingStarted:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"record",n.ACCESSIBILITY.alert_call_recording_started())}},onCallRecordingStopped:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"record",n.ACCESSIBILITY.alert_call_recording_stopped())}},onCallDisconnected:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"disconnect",n.ACCESSIBILITY.status_call_ended()),setTimeout((function(){e.removeStatusesById(t)}),1e4)}},onItemFlagged:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t,r=(0,s.isCall)(t)?n.ACCESSIBILITY.alert_call_item_flagged():(0,s.isEmail)(t)?n.ACCESSIBILITY.alert_email_item_flagged():n.ACCESSIBILITY.alert_chat_item_flagged();e.updateStatus(t.id,"flag",r)}},onItemUnflagged:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t,r=(0,s.isCall)(t)?n.ACCESSIBILITY.alert_call_item_unflagged():(0,s.isEmail)(t)?n.ACCESSIBILITY.alert_email_item_unflagged():n.ACCESSIBILITY.alert_chat_item_unflagged();e.updateStatus(t.id,"flag",r)}}}),this.interactionInternalChatConnector.dispenser.subscribe({onAgentChat:function(t){var n=t.userId;if("mobile"!==e.platformSpecific.clientType()){var r=e.localizationConnector.getStateData().t;e.repeatStatus(n,"message_sent",r.ACCESSIBILITY.status_chat_message_sent())}}}))}}])&&d(t.prototype,n),r&&d(t,r),f}(n(16152).StateFactory.createBaseStateClass({name:"ariaStatusState",controlEvents:i.ariaStatusStateControlEvents,trackerEvents:i.ariaStatusStateTrackerEvents,getInitialState:i.getInitialAriaStatusState,options:{authorized:!0},dependencies:["platformSpecific","localizationConnector","interactionStateConnector","interactionInternalChatConnector"]}))},29997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ariaStatusStateControlEvents:()=>i,ariaStatusStateTrackerEvents:()=>o,getInitialAriaStatusState:()=>r});var r=function(){return{statuses:{}}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={updateStatus:(0,a.event)(),repeatStatus:(0,a.event)(),removeStatusesById:(0,a.event)()}},8481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{authRequest:()=>S,checkSessionToken:()=>h,checkSessionTokenWithSSO:()=>y,clearSessionCookie:()=>m,encodeAuthRequestBody:()=>p,logout:()=>w,logoutKeepingSession:()=>E,requestAppInfo:()=>O,resetPasswordRequest:()=>I,trimPort:()=>_,trimProtocol:()=>f});var r=n(7673),a=n.n(r),o=n(83734);function i(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function d(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function _(e){var t=e.match(/:[0-9]+$/);return t?e.substring(0,t.index):e}function f(e){return e&&e.split("//").pop()}function p(e){return a()(e.domain?l(u({},e),{domain:_(e.domain)}):e)}function m(){"undefined"!=typeof document&&(document.cookie="X-BP-SESSION-ID=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}function g(e){var t={app:(null==e?void 0:e.origin)||"",path:(null==e?void 0:e.pathname)||"",static:"true",params:e&&e.search.length>0?e.search.substring(1):""};e&&new URLSearchParams(e.search).forEach((function(e,n){t[n]=e}));return t}function h(e,t,n,r,a){return v.apply(this,arguments)}function v(){return(v=s((function(e,t,n,r,a){var i,s,c;return d(this,(function(d){switch(d.label){case 0:return n.isClientBasedSsoEnabled()?[2,y(e,t,n,r)]:[3,1];case 1:return i="".concat(e).concat(o.requestUrls.checkSessionToken),s={method:"GET"},[4,n.addSessionCookie(s,t)];case 2:return s=d.sent(),[4,fetch(i,l(u({},s),{headers:u({},s.headers,a?{"User-Agent":a}:{})}))];case 3:return(c=d.sent()).ok?[4,c.json()]:[2,{sso_enabled:!1,error:"Response status code ".concat(c.status),os:"",browser:"",timestamp:Date.now()}];case 4:return[2,u({sso_enabled:!1},d.sent())];case 5:return[2]}}))}))).apply(this,arguments)}function y(e,t,n,r){return b.apply(this,arguments)}function b(){return(b=s((function(e,t,n,r){var a,i,s,c,u,l;return d(this,(function(d){switch(d.label){case 0:return a=new URLSearchParams(g(r)),i="".concat(e).concat(o.requestUrls.checkSessionTokenWithSSO,"?").concat(a.toString()),s={method:"GET"},[4,n.addSessionCookie(s,t)];case 1:return s=d.sent(),[4,fetch(i,s)];case 2:return(c=d.sent()).ok?[4,c.json()]:[2,{sso_enabled:!1,error:"Response status code ".concat(c.status),os:"",browser:"",timestamp:Date.now()}];case 3:if((u=d.sent()).sso_redirect_url){l=new URLSearchParams(location.search).get("ssoSideLogin");try{l&&"undefined"!=typeof window?window.open(u.sso_redirect_url,"_blank",""):"undefined"!=typeof location&&location.replace(u.sso_redirect_url)}catch(_){}}return[2,u]}}))}))).apply(this,arguments)}function S(e,t,n){return C.apply(this,arguments)}function C(){return(C=s((function(e,t,n){var r,a,i,s,c,l,_,g,h;return d(this,(function(d){switch(d.label){case 0:return r=e.loginId,a=e.password,i=e.domain,s=e.deviceName,c=e.appType,l=e.appVersion,m(),_="".concat(t).concat(o.requestUrls.login),g=p({domain:f(i)||i,username:r,password:a,deviceName:s,appType:c,appVersion:l}),[4,fetch(_,{method:"POST",headers:u({"Content-Type":"application/x-www-form-urlencoded"},n?{"User-Agent":n}:{}),body:g})];case 1:return(h=d.sent()).ok?[4,h.json()]:[2,{error:"Response status code ".concat(h.status),os:"",browser:"",timestamp:Date.now()}];case 2:return[2,d.sent()]}}))}))).apply(this,arguments)}function I(e,t){var n=e.loginId,r=e.domain||f(_(t));return(0,o.apiRequests)(t).resetPassword({user:n||"",tenant:r||""})}function w(e){return(0,o.apiRequests)(e).logout({})}function E(e){return(0,o.apiRequests)(e).logout({keepSession:!0})}function O(e){return T.apply(this,arguments)}function T(){return(T=s((function(e){return d(this,(function(t){return[2,(0,o.apiRequests)(e).getAppInfo().catch((function(){return{}}))]}))}))).apply(this,arguments)}},28755:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return e.replace(/tmp=[0-9]*/,"")}n.r(t),n.d(t,{clientAvatarInitialsCache:()=>o});var o=new(function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="store")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.store=new Map}var t,n,o;return t=e,(n=[{key:"has",value:function(e){var t=a(e);return this.needsRevalidation(e)?(this.store.delete(t),!1):this.store.has(t)}},{key:"needsRevalidation",value:function(e){var t=this.getExpirationDate(e);return!t||Date.now()>t}},{key:"getExpirationDate",value:function(e){return this.store.get(a(e))}},{key:"newExpirationDate",value:function(){return(new Date).getTime()+9e5}},{key:"add",value:function(e){return this.store.set(a(e),this.newExpirationDate()),this}},{key:"clear",value:function(){this.store.clear()}}])&&r(t.prototype,n),o&&r(t,o),e}())},87369:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BPClientStateContextProvider:()=>o,useBpClientState:()=>c,useBpClientStateConnector:()=>d,useBpClientStateMethods:()=>l,useBpClientStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("BPClientStateContextProvider"),o=a.BPClientStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("bpClientState",i),c=s.useBpClientState,u=s.useBpClientStateRef,l=s.useBpClientStateMethods,d=s.useBpClientStateConnector},33862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bpClientControlEvents:()=>i,bpClientTrackerEvents:()=>o,getInitialBPClientState:()=>r,logLevels:()=>s});var r=function(){return{screenRecording:{vncInit:!1,muted:!1,stopping:!1,muting:!1,started:!1},softphone:{ready:!1},audioDevice:{},isExtensionAvailable:!1,isHelperAppInstanceCreated:!1,isDomainAuthorized:!0,isDomainAuthSupported:!1}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onNotification:(0,a.event)(),onTriggerScreenPop:(0,a.event)(),onNavigateToInteraction:(0,a.event)(),onInstallationRequired:(0,a.event)(),onShowDomainAuthorizationDialog:(0,a.event)(),onHideDomainAuthorizationDialog:(0,a.event)(),onShowExtensionIsOldDialog:(0,a.event)()},i={setScreenRecordingMute:(0,a.event)(),log:(0,a.event)(),openLogFolder:(0,a.event)(),openLogFile:(0,a.event)(),terminate:(0,a.event)(),viewUserScreen:(0,a.event)(),startAudioNotification:(0,a.event)(),stopAudioNotification:(0,a.event)(),setAudioDevice:(0,a.event)()},s=["debug","info","warning","error","panic","always"]},81663:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BPClientStateImpl:()=>B});var r=n(2122),a=n(84970),o=n(28136),i=n(3211),s=n(27385),c=n(20981),u=n(26220),l=n(97329),d=n(90444),_=n(37319),f=n(40381),p=n(50712),m=n(26552),g=n(16152),h=n(87801);function v(e){if(void 0!==("undefined"==typeof window?"undefined":(t=window)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)){var t,n=window.location.search,r=new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),a=n.replace(r,"$1");return decodeURIComponent(a)}}function y(e){return e.popupSupported&&!!v("disablePluginPopup")}function b(e){return"chrome"===o.platformInfo.browser||"firefox"===o.platformInfo.browser||"safari"===o.platformInfo.browser&&o.platformInfo.browserVersion>=10?e.versionHost:e.versionPlugin}var S={workitem:0,voice:0,chat:1,forum:2,email:3},C={debug:0,info:1,warning:2,error:3,panic:4,always:5};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e,t,n,r,a){!n(t)||e&&n(e)?e&&n(e)&&!n(t)&&a():r()},E=function(e,t){return(0,r.isEqual)(null==e?void 0:e.volume,null==t?void 0:t.volume)&&(0,r.isEqual)(null==e?void 0:e.mutes,null==t?void 0:t.mutes)},O=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},e,(t||[]).reduce((function(e,t){return e[t]=-100,e}),{}))};function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,s,"next",e)}function s(e){D(o,r,a,i,s,"throw",e)}i(void 0)}))}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},N(e,t,n||e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function L(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?T(e):t;var n}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var a=M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return L(this,n)}}function $(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var U=u.bpLogger.withPrefix("@BPC"),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(g,e);var t,n,a,u=F(g);function g(){var e;return P(this,g),k(T(e=u.apply(this,arguments)),"sessionData",(0,l.getInitialSessionState)()),k(T(e),"interactionStateData",(0,c.getInitialInteractionState)()),k(T(e),"tabsData",(0,_.getInitialTabsSharedState)()),k(T(e),"netApiNotifiedItems",{}),k(T(e),"isApplicationLoaded",!1),k(T(e),"bpClientInit",!1),k(T(e),"isHelperUp",!1),k(T(e),"newInstanceUponHelperUp",!1),k(T(e),"newInstanceUponOldDestroyed",!1),k(T(e),"vaInitialized",!1),k(T(e),"phoneDeviceResultReceived",!1),k(T(e),"canLog",!1),k(T(e),"delaySetPhoneDeviceFunc",void 0),k(T(e),"delaySetPhoneDeviceTimer",void 0),k(T(e),"startEndpointFunc",void 0),k(T(e),"startEndpointTimer",void 0),k(T(e),"instanceCreateRetryInterval",void 0),k(T(e),"lastEndpointCode",void 0),k(T(e),"popupRequestTracker",(0,p.createRequestTracker)({timeoutMilliseconds:5e3})),k(T(e),"openedPopups",{}),k(T(e),"openedBrowserNotifications",{}),k(T(e),"autoAnswerPopupTimers",{}),k(T(e),"suppressHelperAppPopup",!1),k(T(e),"onTabsDataChange",(function(t){var n=Object.keys(t.tabs).reduce((function(e,n){var r=t.tabs[n];return r.visible&&e.push(r),e}),[]).some((function(e){return"adc"===e.app||"ad"===e.app}));n!==e.suppressHelperAppPopup&&(e.suppressHelperAppPopup=n,e.updateAllPopups())})),k(T(e),"onItemChange",(function(t){var n=e.interactionStateData.items.find((function(e){return e.id===t.id}));w(n,t,(function(e){var t;return"chat"===e.mediaType&&!!(null===(t=e.externalChatData)||void 0===t?void 0:t.channel)&&"inbound"===e.direction&&"delivery_pending"===e.state||("email"===e.mediaType||"workitem"===e.mediaType)&&"delivery_pending"===e.state}),(function(){e.startAudioNotification("EXTERNAL_CHAT_NOTIFICATION")}),(function(){e.stopAudioNotification()})),w(n,t,(function(e){var t;return"voice"===e.mediaType&&"inbound"===e.direction&&"delivery_pending"===e.state&&"offered"===(null===(t=e.callData)||void 0===t?void 0:t.callState)}),(function(){e.interactionStateData.items.some((function(e){var t;return"voice"===e.mediaType&&"established"===(null===(t=e.callData)||void 0===t?void 0:t.callState)}))?e.startAudioNotification("SOFTPHONE_CALL_WAITING"):e.startAudioNotification("SOFTPHONE_RING")}),(function(){e.stopAudioNotification()}))})),k(T(e),"bpClientHandlers",(function(t){var n,r=T(e),a={onPhoneState:(n=A((function(e,t,n){var a,o,i,s;return $(this,(function(c){switch(c.label){case 0:return U.info("Phone State: ".concat(e,"; ").concat(t,"; ").concat(n)),1==e?[2]:(r.sendPhoneDeviceChanged({code:e,inDeviceString:t,outDeviceString:n}),[4,r.localSettings.get("lastUsedMicrophone")]);case 1:return a=c.sent(),[4,r.localSettings.get("lastUsedSpeaker")];case 2:return o=c.sent(),s=!o||n!==o,((i=!a||t!==a)||s)&&(r.produceState((function(e){e.audioDevice.input=t,e.audioDevice.output=n})),r.toClientDispatch.onNotification({notificationType:"audioDeviceChanged",closable:!0,duration:5e3,inChange:i,inDevice:t,outChange:s,outDevice:n})),r.updateVolume(),[4,r.localSettings.set("lastUsedMicrophone",t)];case 3:return c.sent(),[4,r.localSettings.set("lastUsedSpeaker",n)];case 4:return c.sent(),[2]}}))})),function(e,t,r){return n.apply(this,arguments)}),onInstanceCreated:function(){U.info("instance CREATED"),e.canLog=!0,e.onHelperApplicationInstanceCreated(t),e.updateVolume(),y(t)||e.requestNotificationPermission(),t.origin||e.toClientDispatch.onShowExtensionIsOldDialog(t.browser),e.newInstanceUponOldDestroyed=!1},onInstanceDestroyed:function(){U.info("instance DESTROYED"),e.canLog=!1,e.onHelperApplicationInstanceDestroyed(t),e.newInstanceUponOldDestroyed&&e.createInstance(t)},onHelperUp:function(){U.info("helper UP"),e.isHelperUp=!0,e.newInstanceUponHelperUp&&(t.create(!!e.sessionData.disableAutoLogoutPrevention),e.newInstanceUponHelperUp=!1),null!=e.startEndpointFunc&&(e.startEndpointTimer=setTimeout(e.startEndpointFunc,500))},onHelperDown:function(){U.info("helper DOWN"),e.isHelperUp=!1,e.stateData.isHelperAppInstanceCreated&&(e.newInstanceUponHelperUp=!0,a.onInstanceDestroyed()),null!=e.startEndpointTimer&&(clearTimeout(e.startEndpointTimer),delete e.startEndpointTimer)},onEndpointState:function(t,n,r){if(t&&t===e.sessionData.phoneNumber)switch(e.lastEndpointCode!=n&&(e.lastEndpointCode=n,U.info("Endpoint State: ".concat(n,"; ").concat(r))),n){case 0:delete e.startEndpointFunc,e.sessionConnector.dispatch.sendSipEndpointStatusChanged({fail:!1});break;case 2:e.sessionConnector.dispatch.sendSipEndpointStatusChanged({fail:!0})}else U.warn("onEndpointState wrong number: ".concat(t,"; code: ").concat(n,"; msg: ").concat(r));var a=0===n;a===e.stateData.softphone.ready&&r===e.stateData.softphone.error||e.produceState((function(e){e.softphone={ready:a,error:r}}))},onRtcCallMade:function(t,n,r,a){e.interactionStateConnector.dispatch.createRtcCall({number:n,requestId:t,sdp:a,status:""+r})},onRtcCallReset:function(t){e.interactionStateConnector.dispatch.sendRtcCallReset({number:t})},onSendMessage:function(t,n){U.info("From BPClient: onSendMessage: ".concat(t," ").concat(n));try{var r=JSON.parse(n);e.sessionConnector.dispatch.transmitMessageFromPlugin(t,r)}catch(a){}},onRecordingSessionCompleted:function(n){U.info("From BPClient: onRecordingSessionCompleted (ended): ".concat(n)),e.updateScreenRecordingState({sessionId:void 0,stopping:!1,started:!1}),e.netApiScreenRecordingCompleted(t,n)},onRecordingSessionCreated:function(n,r){U.info("From BPClient: onRecordingSessionCreated (started): ".concat(r)),e.updateScreenRecordingState({sessionId:r}),e.netApiScreenRecordingStarted(t,r),e.stateData.screenRecording.muted&&r&&t.vncMuteRecording(r)},onRecordingSessionList:function(e){U.info("From BPClient: onRecordingSessionList - stop recordings"),e.forEach((function(e){t.vncStopRecording(e)}))},onRecordingSessionMuted:function(n){U.info("From BPClient: onRecordingSessionMuted: ".concat(n)),e.updateScreenRecordingState({muted:!0,muting:!1}),sessionStorage.setItem("mutedScreenRecordings","true"),t.sendMessageToApi(JSON.stringify({sessionId:n,command:"screen_recording_muted"}))},onRecordingSessionUnmuted:function(n){U.info("From BPClient: onRecordingSessionUnmuted: ".concat(n)),e.updateScreenRecordingState({muted:!0,muting:!1}),sessionStorage.removeItem("mutedScreenRecordings"),t.sendMessageToApi(JSON.stringify({sessionId:n,command:"screen_recording_unmuted"}))},onError:function(t,n,r){U.warn("From BPClient: onError ".concat(t,"; ").concat(n,"; ").concat(r)),"100"===t&&(e.canLog=!1),"6"===t&&e.stateData.isDomainAuthorized&&(e.produceState((function(e){e.isDomainAuthorized=!1})),e.instanceCreateRetryInterval=setInterval(e.tryToCreateInstance,5e3)),r&&e.popupRequestTracker.hasRequest(r)&&("5"===t?(U.warn("Popup already visible, handle as success"),e.popupRequestTracker.onResponse(r)):(U.warn("Error in show popup"),e.popupRequestTracker.onError(r,new Error(n))))},onPopupCreated:function(t,n){U.info("onPopupCreated itemId ".concat(n,", requestId ").concat(t)),e.popupRequestTracker.onResponse(t)},onPopupClosed:function(t,n){U.info("onPopupClosed ".concat(t," ").concat(n)),e.closePopup(t);var r=e.interactionStateData.items.find((function(e){return e.id===t}));if(r)switch(n){case"answer":e.interactionStateConnector.dispatch.acceptItem(t),e.toClientDispatch.onNavigateToInteraction(t);break;case"screen":r.mediaType,e.toClientDispatch.onTriggerScreenPop(r);break;case"hangup":e.interactionStateConnector.dispatch.rejectItem(t);break;default:"email"===r.mediaType&&e.interactionStateConnector.dispatch.rejectItem(t)}},onViewSessionCreated:function(e,t){U.info("onViewSessionCreated ".concat(e," ").concat(t))}};return a})),k(T(e),"onSessionDataChange",(function(t,n){var r=e.useBPClient();r&&(n.isLoggedIn&&!e.isApplicationLoaded&&(e.loadApplication(r),e.isApplicationLoaded=!0),n.sipServer&&!t.sipServer&&(U.info("onThreePCCServerReady: have BPClient"),e.onThreePCCServerReady(r)),e.stateData.isHelperAppInstanceCreated&&!E(n.baseConfig,t.baseConfig)&&e.updateVolume())})),k(T(e),"onInteractionStateDataChange",(function(t){var n,r=e.useBPClient();if(r){var a;t.agentWelcomeReceived&&!e.interactionStateData.agentWelcomeReceived&&e.ensureRecordingInit(r);var o=null!==(a=null===(n=t.callPickupNotifications)||void 0===n?void 0:n.filter((function(t){return!e.interactionStateData.callPickupNotifications.find((function(e){return e.requestId===t.requestId}))})))&&void 0!==a?a:[],i=e.interactionStateData.callPickupNotifications.filter((function(e){var n;return!(null===(n=t.callPickupNotifications)||void 0===n?void 0:n.find((function(t){return t.requestId===e.requestId})))}));o.forEach((function(t){e.updateCallPickupPopup(t),t.playAlertSound&&e.startAudioNotification("CALL_PICKUP_GROUP_CALL_NOTIFICATION")})),i.forEach((function(t){t.playAlertSound&&e.stopAudioNotification(),e.closePopup(t.requestId)}))}})),k(T(e),"setScreenRecordingMute",(function(t){var n=e.useBPClient(),r=e.stateData.screenRecording,a=r.muting,o=r.sessionId;n&&o&&!a?(e.updateScreenRecordingState({muting:!0}),U.info("Mute screen recording ".concat(o," = ").concat(t)),t?n.vncMuteRecording(o):n.vncUnmuteRecording(o)):U.info("Mute screen recording skipped")})),k(T(e),"extractCallObject",(function(e){var t,n,r,a,o,i,s;return{call_id:null===(t=e.callData)||void 0===t?void 0:t.callId,direction:"outbound"===e.direction?"outbound":"inbound",ani:null===(n=e.callData)||void 0===n?void 0:n.fromNumber,number:null===(r=e.callData)||void 0===r?void 0:r.fromNumber,dnis:null===(a=e.callData)||void 0===a?void 0:a.destination,name:null===(o=e.displayData)||void 0===o?void 0:o.displayName,service:null===(i=e.scenarioData)||void 0===i?void 0:i.serviceName,attach_data:void 0,global_interaction_id:null===(s=e.scenarioData)||void 0===s?void 0:s.globalInteractionId,command:""}})),k(T(e),"netApiItemOffered",(function(t){var n=e.useBPClient();if(n){var r=e.extractCallObject(t);r.command="call_offered",U.info("Notify BPClient about offered call: ",r),n.sendMessageToApi(JSON.stringify(r))}})),k(T(e),"netApiItemDialing",(function(t){var n=e.useBPClient();if(n){var r=e.extractCallObject(t);r.command="call_dialing",U.info("Notify BPClient about dialing call: ",r),n.sendMessageToApi(JSON.stringify(r))}})),k(T(e),"netApiItemDisconnected",(function(t){var n,r=e.useBPClient();r&&(U.info("Notify BPClient about call disconnection: ",t.callData),r.sendMessageToApi(JSON.stringify({command:"call_disconnected",data:"",call_id:null===(n=t.callData)||void 0===n?void 0:n.callId})))})),k(T(e),"netApiScreenRecordingStarted",(function(e,t){U.info("Notify BPClient about Screen Recording start"),e.sendMessageToApi(JSON.stringify({command:"screen_recording_started",session_id:t}))})),k(T(e),"netApiScreenRecordingCompleted",(function(e,t){U.info("Notify BPClient about Screen Recording end"),e.sendMessageToApi(JSON.stringify({command:"screen_recording_completed",session_id:t}))})),k(T(e),"updateAllPopups",(function(){e.interactionStateData.items.forEach(e.updatePopup)})),k(T(e),"isAbleToShowHelperAppPopup",(function(){var t=e.useBPClient();if(!t)return!1;var n=new URLSearchParams(location.search);return e.stateData.isHelperAppInstanceCreated&&t.popupSupported&&!n.has("disablePluginPopup")})),k(T(e),"updateBrowserNotification",(function(t){var n=t.heading,r=t.lines,a=t.id,o=t.photoUrl,i=t.displayCondition,s=void 0===i||i,c=Object.keys(e.tabsData.tabs).every((function(t){return!e.tabsData.tabs[t].visible}));if(s&&c){var u=[r.line_1,r.line_2,r.line_6].filter(Boolean).join("\n");e.openedBrowserNotifications[a]=!0;var l={body:u,tag:a,icon:o};d.communicationLayerWorkerClient.sendMessage({scope:"__worker__",event:"showNotification",payload:[n,l]})}else a in e.openedBrowserNotifications&&(d.communicationLayerWorkerClient.sendMessage({scope:"__worker__",event:"hideNotification",payload:[a]}),delete e.openedBrowserNotifications[a])})),k(T(e),"updatePopup",(function(t){var n=e.useBPClient();if("delivery_pending"===t.state){var r,a,o,c=e.getItemHeading(t),u=(t.userId?(0,i.constructUserPictureUrl)(e.sessionData,t.userId,!0):(0,i.constructContactPictureUrl)(e.sessionData,t.contactId,!0))+"&small=1",l={line_1:"",line_2:"",line_3:"",line_4:"",line_5:"",line_6:""};switch(l.line_3=(null===(r=t.displayData)||void 0===r?void 0:r.title)||"",l.line_4=(null===(a=t.displayData)||void 0===a?void 0:a.companyName)||"",l.line_2=(null===(o=t.displayData)||void 0===o?void 0:o.displayName)||"",t.mediaType){case"voice":var d;if("inbound"!==t.direction)return;l.line_6=(0,s.formatPhone)(null===(d=t.displayData)||void 0===d?void 0:d.number)||"";break;case"chat":var _,f,p;l.line_1=(null===(_=t.externalChatData)||void 0===_?void 0:_.subject)||"",l.line_5=(0,s.formatPhone)(null===(f=t.externalChatData)||void 0===f?void 0:f.requiresCallToNumber)||"",l.line_5===l.line_2&&(l.line_5=""),l.line_6=(null===(p=t.externalChatData)||void 0===p?void 0:p.email)||"";break;case"email":var m,h;l.line_1=(null===(m=t.emailData)||void 0===m?void 0:m.caseTitle)||"",l.line_6=(null===(h=t.emailData)||void 0===h?void 0:h.fromAddress)||"";break;case"workitem":var v,y;l.line_5=(null===(v=t.displayData)||void 0===v?void 0:v.number)||"",!l.line_2&&l.line_5&&(l.line_2=l.line_5,l.line_5=""),l.line_6=(null===(y=t.displayData)||void 0===y?void 0:y.companyName)||""}if(e.integrationApiConnector.getStateData().disableNewInteractionPopup)return;if(!e.isAbleToShowHelperAppPopup())return void e.updateBrowserNotification({id:t.id,lines:l,heading:c,photoUrl:u,displayCondition:"delivery_pending"===t.state&&"inbound"===t.direction});if(e.suppressHelperAppPopup||!n)return;if(t.id in e.openedPopups)g.applyPopupData(n,t.id,l,0,0,u);else{U.info("Create softphone popup ".concat(t.id)),e.openedPopups[t.id]=!0;var b=e.getOkButtonText(t),C=e.getOkButton2Text(t),I=e.getCancelButtonText(t),w=t.mediaType&&S[t.mediaType]||0;U.info("showInboundCallPopupV2");var E=n.showInboundCallPopupV2(t.id,l,!!C,b,I,C,c,document.title,w,0,u,0);e.popupRequestTracker.addRequest({requestId:E}).promise.then((function(){t.id in e.openedPopups?(g.applyPopupData(n,t.id,l,0,0,u),e.updatePopupAnswerButton(n,t)):U.info("Skip handle opening dialog, because it was hidden")})).catch((function(){t.id in e.openedPopups&&delete e.openedPopups[t.id]}))}}else e.closePopup(t.id)})),k(T(e),"startAudioNotification",(function(t){var n=e.useBPClient();if(n){var r=e.sessionData.audioNotifications[t];if(r){var a="".concat(e.sessionData.serverOrigin,"/agentdesktop/");U.info("Start audio notification: ".concat(a),r),n.startCallWaitingSound(a,r.audioId,r.audioVersion,r.audioPeriodicity,t)}else U.info("Audio notification not found")}})),k(T(e),"stopAudioNotification",(function(){var t=e.useBPClient();t&&(U.info("Stop audio notification"),t.stopCallWaitingSound())})),k(T(e),"setAudioDevice",(function(t){var n=e.useBPClient();n&&(U.info("Set audio device:",t),n.setAudioDeviceId(t))})),k(T(e),"log",(function(t,n){var r=e.useBPClient();r&&e.canLog&&r.log(C[t],n)})),k(T(e),"openLogFolder",(function(){var t=e.useBPClient();t&&t.openLogFolder()})),k(T(e),"openLogFile",(function(){var t=e.useBPClient();t&&t.openLogFile()})),k(T(e),"terminate",(function(){var t=e.useBPClient();t&&t.terminate()})),k(T(e),"updateVolume",(function(){var t,n=e.useBPClient();if(n)if(null===(t=e.sessionData.baseConfig)||void 0===t?void 0:t.volume){var r=e.sessionData.baseConfig,a=r.volume,o=r.mutes,i=O(a,o);U.info("Set volume settings:",i),n.setVolume(i)}else U.info("Set volume : no settings")})),k(T(e),"tryToCreateInstance",(function(){var t=e.useBPClient();t&&(U.info("Attempt to create BPClient instance..."),e.createInstance(t))})),k(T(e),"viewUserScreen",(function(t,n,r){var a=e.useBPClient();a&&(U.info("View user screen:",t),a.vncViewUserScreen(t,n,r))})),e}return t=g,a=[{key:"applyPopupData",value:function(e,t,n,r,a,o){e.updateInboundCallPopupLine(t,0,n.line_1),e.updateInboundCallPopupLine(t,1,n.line_2),e.updateInboundCallPopupLine(t,2,n.line_3),e.updateInboundCallPopupLine(t,3,n.line_4),e.updateInboundCallPopupLine(t,4,n.line_5),e.updateInboundCallPopupLine(t,5,n.line_6),e.updateInboundCallPopupSegment(t,r),e.updateInboundCallPopupSource(t,a),e.updateInboundCallPopupPhoto(t,o)}},{key:"isPluginUpToData",value:function(e,t){return o.buildInfo.compareVersions(t,e)<=0||o.buildInfo.devVersion===e}}],(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.sessionConnector.dispenser.subscribe({onInitialState:function(t){var n=e.sessionData;e.sessionData=j({},t),e.onSessionDataChange(n,e.sessionData)},onChange:function(t){var n=e.sessionData;e.sessionData=j({},e.sessionData,t),e.onSessionDataChange(n,e.sessionData)},onSetPhoneType:function(t){var n=e.useBPClient();n?(U.info("startSettingPhoneType: phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.startSettingPhoneType(t,n)):(U.info("bypassing setPhoneType: phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.completeSettingPhoneType(t))},onSetPhoneDeviceResultReceived:function(t){var n=e.useBPClient();n?(U.info("onSetPhoneDeviceResultReceived: have BPClient phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.onPhoneDeviceResultReceived(t,n)):(U.info("onSetPhoneDeviceResultReceived: no BPClient. phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.sendPhoneDeviceChanged({code:0,inDeviceString:"Default",outDeviceString:"Default"}))},onThreePCCServerGone:function(t){var n=t.sipServerId,r=e.useBPClient();r&&(U.info("onThreePCCServerGone: have BPClient"),e.onThreePCCServerGone(r,n))},onAgentStartScreenRecording:function(t){var n=t.host,r=t.port,a=t.file,o=e.useBPClient();o&&(U.info("Incoming from server: onAgentStartScreenRecording"),e.updateScreenRecordingState({host:n,port:r,file:a,started:!0}),e.ensureRecordingStarted(o))},onAgentStopScreenRecording:function(){var t=e.useBPClient();if(t){U.info("Incoming from server: onAgentStopScreenRecording");var n=e.stateData.screenRecording,r=n.sessionId,a=n.stopping;t&&r&&!a?(e.updateScreenRecordingState({stopping:!0}),U.info("Stop screen recording ".concat(r)),t.vncStopRecording(r)):U.info("Stop screen recording skipped: ".concat(r))}},onLogout:function(){e.stopAudioNotification(),Object.keys(e.openedPopups).forEach(e.closePopup)},onCallWaitingInQueueNotification:function(t){t?e.startAudioNotification("CALL_WAITING_IN_QUEUE_NOTIFICATION"):e.stopAudioNotification()},onPluginMessageReceived:function(t,n){var r=e.useBPClient();r&&r.pluginMessageReceived(t,n)}}),this.interactionInternalChatConnector.dispenser.subscribe({onMessageUnread:function(){"mobile"!==e.platformSpecific.clientType()&&(e.stopAudioNotification(),e.startAudioNotification("INTERNAL_CHAT_NOTIFICATION"))}}),this.interactionStateConnector.dispenser.subscribe({onInitialState:function(t){e.onInteractionStateDataChange(t),e.interactionStateData=j({},t),e.interactionStateData.items.forEach(e.updatePopup),e.interactionStateData.callPickupNotifications.forEach(e.updateCallPickupPopup)},onChange:function(t){e.onInteractionStateDataChange(t),e.interactionStateData=j({},e.interactionStateData,t)},onNewItem:function(t){e.onItemChange(t),e.updatePopup(t)},onItemChanged:function(t){var n,r;e.onItemChange(t),!e.netApiNotifiedItems[t.id]&&"voice"===t.mediaType&&(null===(n=t.callData)||void 0===n?void 0:n.callId)&&(null===(r=t.scenarioData)||void 0===r?void 0:r.globalInteractionId)&&(e.netApiNotifiedItems[t.id]=!0,"inbound"===t.direction?e.netApiItemOffered(t):e.netApiItemDialing(t)),e.updatePopup(t)},onItemRemoved:function(t){e.onItemChange(t),"voice"===t.mediaType&&t.callData&&e.netApiItemDisconnected(t),e.closePopup(t.id),t.id in e.netApiNotifiedItems&&delete e.netApiNotifiedItems[t.id]},onRtcCallMake:function(t){var n=t.number,r=t.sdp,a=t.request_id,o=e.useBPClient();o&&(U.info("makeRtcCall ".concat(n)),o.makeRtcCall(a,n,r))},onRtcCallDrop:function(t){var n=t.number,r=t.request_id,a=e.useBPClient();a&&(U.info("dropRtcCall ".concat(n)),a.dropRtcCall(r,n))}}),this.tabsConnector.dispenser.subscribe({onInitialState:function(t){e.onTabsDataChange(t),e.tabsData=j({},t)},onChange:function(t){var n=j({},e.tabsData,t);e.onTabsDataChange(n),e.tabsData=n},onBossHasBeenReassigned:function(t){t===h.tabId&&(U.info("restore BPClient state..."),e.sessionConnector.dispatch.submitPhoneTypeSelection(void 0))}}),this.timersConnector.dispenser.subscribe({onChange:function(t){var n=t.timers;n&&Object.values(n).forEach((function(t){(0,m.assertDefined)(t),"autoAnswer"===t.type&&e.registerAutoAnswerNotificationCountdown(t.interactionId)}))}}),this.fromClientDispenser.subscribe({setScreenRecordingMute:this.setScreenRecordingMute,log:this.log,openLogFolder:this.openLogFolder,openLogFile:this.openLogFile,terminate:this.terminate,startAudioNotification:this.startAudioNotification,viewUserScreen:this.viewUserScreen,stopAudioNotification:this.stopAudioNotification,setAudioDevice:this.setAudioDevice}))}},{key:"useBPClient",value:function(){return"mobile"!==this.platformSpecific.clientType()&&"undefined"!=typeof window&&window.BPClient?window.BPClient:void 0}},{key:"isRecordScreenEnabled",value:function(){return this.sessionData.screenSharingEnabled||this.sessionData.screenRecordingEnabled}},{key:"loadApplication",value:function(e){var t=this;U.info("loadApplication"),e.webrtc_iframe_path="/agentdesktop/webrtc.jsp",this.updateState((function(n){return x(j({},n),{screenRecording:x(j({},n.screenRecording),{muted:!!sessionStorage.getItem("mutedScreenRecordings")}),isExtensionAvailable:e.checkExtension(),versionExtension:e.versionExtension,isDomainAuthSupported:t.isDomainAuthSupported(e)})})),function(e,t){e.onPhoneState&&t.addEventHandler("phone_status",e.onPhoneState),e.onEndpointState&&t.addEventHandler("endpoint_status",e.onEndpointState),e.onPopupCreated&&t.addEventHandler("popup_created",e.onPopupCreated),e.onPopupClosed&&t.addEventHandler("popup_closed",e.onPopupClosed),e.onNetEvent&&t.addEventHandler("api_message_received",e.onNetEvent),e.onSendMessage&&t.addEventHandler("plugin_send_message",e.onSendMessage),e.onError&&t.addEventHandler("error",e.onError),e.onInactivityCleared&&t.addEventHandler("inactivity_cleared",e.onInactivityCleared),e.onInactivityDetected&&t.addEventHandler("inactivity_detected",e.onInactivityDetected),e.onInstanceCreated&&t.addEventHandler("instance_created",e.onInstanceCreated),e.onInstanceDestroyed&&t.addEventHandler("instance_destroyed",e.onInstanceDestroyed),e.onHelperUp&&t.addEventHandler("helper_up",e.onHelperUp),e.onHelperDown&&t.addEventHandler("helper_down",e.onHelperDown),e.onRtcCallMade&&t.addEventHandler("rtc_call_made",e.onRtcCallMade),e.onRtcCallReset&&t.addEventHandler("rtc_call_reset",e.onRtcCallReset),e.onSetAlert&&t.addEventHandler("set_alert",e.onSetAlert),e.onWebRTCInitFailed&&t.addEventHandler("webrtc_init_failed",e.onWebRTCInitFailed),e.onApiMessageReceived&&t.addEventHandler("api_message_received",e.onApiMessageReceived),e.onViewSessionList&&t.addEventHandler("vnc_view_sessions",e.onViewSessionList),e.onViewSessionCreated&&t.addEventHandler("vnc_view_session_created",e.onViewSessionCreated),e.onViewSessionStatus&&t.addEventHandler("vnc_view_session_status",e.onViewSessionStatus),e.onViewSessionCompleted&&t.addEventHandler("vnc_view_session_completed",e.onViewSessionCompleted),e.onRecordingSessionList&&t.addEventHandler("vnc_recording_sessions",e.onRecordingSessionList),e.onRecordingSessionCreated&&t.addEventHandler("vnc_recording_session_created",e.onRecordingSessionCreated),e.onRecordingSessionMuted&&t.addEventHandler("vnc_recording_session_muted",e.onRecordingSessionMuted),e.onRecordingSessionUnmuted&&t.addEventHandler("vnc_recording_session_unmuted",e.onRecordingSessionUnmuted),e.onRecordingSessionCompleted&&t.addEventHandler("vnc_recording_session_completed",e.onRecordingSessionCompleted)}(this.bpClientHandlers(e),e),this.stateData.isHelperAppInstanceCreated&&this.sendAgentInfo(e)}},{key:"startSettingPhoneType",value:function(e,t){var n=this;this.initializeVoiceAssistant(t,(function(r){r?n.stateData.isHelperAppInstanceCreated?(U.info("startSettingPhoneType: helper instance ready, completing"),n.completeSettingPhoneType(e,t)):(U.info("startSettingPhoneType: helper instance is not ready, delaying"),n.delaySetPhoneDeviceFunc=function(){return n.completeSettingPhoneType(e,t)},n.delaySetPhoneDeviceTimer=setTimeout(n.delaySetPhoneDeviceFunc,5e3)):(U.info("startSettingPhoneType: instance not available, skipping"),n.completeSettingPhoneType(e,t))}))}},{key:"completeSettingPhoneType",value:function(e,t){this.sessionConnector.dispatch.sendPhoneTypeSelection(j({},e,t?{pluginType:t.pluginType}:{}))}},{key:"sendPhoneDeviceChanged",value:function(e){this.sessionConnector.dispatch.sendPhoneDeviceChanged(e)}},{key:"initializeVoiceAssistant",value:function(e,t){o.platformInfo.isSoftphoneSupported()&&this.createInstance(e)?t(!0):(U.info("Helper Application instance unavailable"),this.requestNotificationPermission(),t(!1))}},{key:"requestNotificationPermission",value:function(){this.requestWebNotificationPermission()}},{key:"createInstance",value:function(e){var t=e.initHelper();return U.info("Init Helper result: "+t),this.produceState((function(t){t.isExtensionAvailable=e.checkExtension(),t.versionExtension=e.versionExtension})),t&&(this.isHelperUp?(U.info("Helper is UP, create instance"),e.create(!!this.sessionData.disableAutoLogoutPrevention)):(U.info("Helper is DOWN, create instance when helper is UP"),this.newInstanceUponHelperUp=!0)),t}},{key:"requestWebNotificationPermission",value:function(){"undefined"!=typeof window&&window.Notification&&window.Notification.requestPermission()}},{key:"onPhoneDeviceResultReceived",value:function(e,t){var n=e.phoneType,r=e.phoneNumber;this.sessionData.phoneType=n,this.sessionData.phoneNumber=r,this.phoneDeviceResultReceived=!0,t.setPhoneType(this.sessionData.phoneType.toLowerCase()),this.startPhoneDevice(t),this.checkPlugin(t,!1)}},{key:"onThreePCCServerReady",value:function(e){this.vaInitialized&&this.startEndPoint(e)}},{key:"onThreePCCServerGone",value:function(e,t){var n=this;this.interactionStateData.items.forEach((function(e){var r;"voice"===e.mediaType&&(null===(r=e.callData)||void 0===r?void 0:r.callId)&&e.callData.callId.substring(0,e.callData.callId.indexOf("/"))===t&&"disconnected"!==e.callData.callState&&n.netApiItemDisconnected(e)})),this.stopEndPoint(e,!1)}},{key:"onHelperApplicationInstanceCreated",value:function(e){this.updateState((function(t){return x(j({},t),{isHelperAppInstanceCreated:!0,version:b(e),isDomainAuthorized:!0})})),this.sessionData.isLoggedIn&&this.sendAgentInfo(e),this.startPhoneDevice(e),this.delaySetPhoneDeviceTimer&&(clearTimeout(this.delaySetPhoneDeviceTimer),delete this.delaySetPhoneDeviceTimer,this.delaySetPhoneDeviceFunc&&(this.delaySetPhoneDeviceFunc(),delete this.delaySetPhoneDeviceFunc)),this.instanceCreateRetryInterval&&(clearInterval(this.instanceCreateRetryInterval),delete this.instanceCreateRetryInterval),this.toClientDispatch.onHideDomainAuthorizationDialog(),this.ensureRecordingInit(e)}},{key:"sendAgentInfo",value:function(e){this.sessionConnector.dispatch.sendAgentInfo({hostName:e.localHostname,pluginVersion:b(e)})}},{key:"onHelperApplicationInstanceDestroyed",value:function(e){U.info("on bpclient instance destroyed"),this.vaInitialized=!1,this.bpClientInit=!1,this.netApiNotifiedItems={},this.produceState((function(t){t.isExtensionAvailable=e.checkExtension(),t.versionExtension=e.versionExtension}))}},{key:"startPhoneDevice",value:function(e){if(this.stateData.isHelperAppInstanceCreated&&this.phoneDeviceResultReceived){var t=this.sessionData,n=t.tenantId,r=t.userId,a=t.phoneNumber,o=t.phoneType,i=t.sipServer;U.info("startPhoneDevice ".concat(n,", ").concat(r,", ").concat(a,", 900")),e.init({tenantId:n,userId:r,phone:a,inactivityTimeout:900}),this.bpClientInit=!0,this.ensureRecordingInit(e),"phone_type_none"!=o&&(this.vaInitialized=!0,i&&this.startEndPoint(e))}else U.info("startPhoneDevice skipped - helper = ".concat(this.stateData.isHelperAppInstanceCreated,","),"device = ".concat(this.phoneDeviceResultReceived))}},{key:"startEndPoint",value:function(e){var t=this,n=this.sessionData.sipServer.address,r=this.sessionData.sipServer.port;U.info("startEndPoint ".concat(this.sessionData.phoneNumber,"@").concat(n,":").concat(r,", ").concat(this.sessionData.reconnectTimeout)),this.startEndpointFunc=function(){var a,o;e.startEndpoint({number:t.sessionData.phoneNumber,"sip-server-host":n,"sip-server-port":r,"sip-domain":t.sessionData.sipDomain,username:t.sessionData.loginId,password:t.sessionData.softphonePassword,expires:"90",audio_url_prefix:"".concat(t.sessionData.serverOrigin,"/agentdesktop/"),ring_in_audio_id:(null===(a=t.sessionData.audioNotifications.SOFTPHONE_RING)||void 0===a?void 0:a.audioId)||"",call_waiting_audio_id:(null===(o=t.sessionData.audioNotifications.SOFTPHONE_CALL_WAITING)||void 0===o?void 0:o.audioId)||"","reconnect-timeout":t.sessionData.reconnectTimeout.toString()})},Promise.resolve().then((function(){return t.startEndpointFunc()}))}},{key:"stopEndPoint",value:function(e,t){this.stateData.isHelperAppInstanceCreated&&(U.info("Stopping SoftPhone endpoint; suspend = ".concat(t)),e.stopEndpoint(!0,t?1:2))}},{key:"ensureRecordingInit",value:function(e){this.bpClientInit&&!this.stateData.screenRecording.vncInit&&(this.isRecordScreenEnabled()?(U.info("initializing VNC"),e.vncViewSessions(),e.vncRecordingSessions(),e.vncInit(this.sessionData.myRemoteIpAddress,this.sessionData.screenRecordingMultiMonitors,this.sessionData.screenRecordingBitrate,this.sessionData.screenRecordingGrayscale),U.info("VNC initialized"),this.updateScreenRecordingState({vncInit:!0}),this.ensureRecordingStarted(e)):U.info("Screen Recording disabled"))}},{key:"ensureRecordingStarted",value:function(e){var t=this.stateData.screenRecording,n=t.vncInit,r=t.started,a=t.host,o=t.port,i=t.file;this.bpClientInit&&n&&r&&setTimeout((function(){U.info("Start Screen Recording on ".concat(a,":").concat(o)),e.vncStartRecording(a,o,i)}),1e3)}},{key:"updateScreenRecordingState",value:function(e){U.info("updateState:",e),this.updateState((function(t){return x(j({},t),{screenRecording:j({},t.screenRecording,e)})}))}},{key:"registerAutoAnswerNotificationCountdown",value:function(e){var t,n,r,a,o=this,i=this.timersConnector.getStateData().timers["autoAnswer/".concat(e)];i&&(this.autoAnswerPopupTimers[e]||(this.autoAnswerPopupTimers[e]=(t=i.endTime,n=function(t){var n=o.useBPClient();if(n){var r=o.interactionStateData.items.find((function(t){return t.id===e}));r&&o.updatePopupAnswerButton(n,r)}},r=(0,f.cutMilliseconds)(t-Date.now()),a=setInterval((function(){if(Date.now()>t)clearInterval(a);else{var e=(0,f.cutMilliseconds)(t-Date.now());e!==r&&(r=e,n(e))}}),200),{unsubscribe:function(){return clearInterval(a)}})))}},{key:"updateCallPickupPopup",value:function(e){var t=this,n=this.useBPClient(),a=this.localizationConnector.getStateData().t,o=(0,r.partial)(s.formatFullName,this.sessionData.displayNameFormat),c=o(e.destFirstname,e.destLastname),u=o(e.callerFirstname,e.callerLastname),l=e.serviceName||a.GLOBAL.heading_incomingCall(),d=(e.callerUserId?(0,i.constructUserPictureUrl)(this.sessionData,e.callerUserId,!0):(0,i.constructContactPictureUrl)(this.sessionData,e.callerContactId,!0))+"&small=1",_=e.showOriginalRecipient?a.INCOMING_CALL_DIALOG_BOX.call_pickup_dest_name(c):a.INCOMING_CALL_DIALOG_BOX.call_pickup_group_name(e.groupName),f=a.INCOMING_CALL_DIALOG_BOX.call_pickup_caller_info(u,e.callerNumber),p={line_1:"",line_2:_,line_3:"",line_4:"",line_5:"",line_6:f};if(this.isAbleToShowHelperAppPopup()){if(!this.suppressHelperAppPopup&&n)if(e.requestId in this.openedPopups)g.applyPopupData(n,e.requestId,p,0,0,d);else{U.info("Create softphone CallPickup popup ".concat(e.requestId)),this.openedPopups[e.requestId]=!0;var m=a.INCOMING_CALL_DIALOG_BOX.pickup_call_notigication_accept(),h=a.INCOMING_CALL_DIALOG_BOX.pickup_call_notigication_ignore();U.info("showInboundCallPopupV2");var v=n.showInboundCallPopupV2(e.requestId,p,!1,m,h,"",l,document.title,0,0,d,0);this.popupRequestTracker.addRequest({requestId:v}).promise.then((function(){e.requestId in t.openedPopups?(g.applyPopupData(n,e.requestId,p,0,0,d),n.updateInboundCallPopupButton(e.requestId,"answer",m,!!t.sessionData.phoneDeviceCapabilities.canDial)):U.info("Skip handle opening dialog, because it was hidden")})).catch((function(){e.requestId in t.openedPopups&&delete t.openedPopups[e.requestId]}))}}else this.updateBrowserNotification({id:e.requestId,lines:p,heading:l,photoUrl:d})}},{key:"getItemHeading",value:function(e){var t,n,r,a="",o=(e.workitemData?e.workitemData.serviceName:null===(t=e.scenarioData)||void 0===t?void 0:t.serviceName)||"",i=parseInt(null!==(r=null===(n=e.scenarioData)||void 0===n?void 0:n.totalQueueTime)&&void 0!==r?r:"0");if(!isNaN(i)){var s=(0,f.cutMilliseconds)(i),c=(0,f.formatDurationShort)(s);a+=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX.incomingInteraction_totalQueueTime(c)}return e.huntGroupId&&e.huntGroupName&&(a+=e.huntGroupName,o&&(a+=" - ")),o&&(a+=o),a||(a=this.getNotificationDefaultHeader(e.mediaType)),a}},{key:"getNotificationDefaultHeader",value:function(e){var t=this.localizationConnector.getStateData().t.GLOBAL;switch(e){case"workitem":return t.heading_incomingPreview();case"voice":return t.heading_incomingCall();case"forum":return t.heading_incomingForum();case"chat":return t.heading_incomingChat();case"email":return t.heading_incomingEmail();default:return t.heading_incomingUnknown()}}},{key:"getOkButtonText",value:function(e){var t,n=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX,r=this.timersConnector.getStateData().timers["autoAnswer/".concat(e.id)];if(t="chat"===e.mediaType&&this.interactionStateData.items.length>1?n.incomingInteraction_open():"email"===e.mediaType?n.incomingInteraction_reply():n.incomingInteraction_accept(),r){var a=(0,f.cutMilliseconds)(r.endTime-Date.now());t+=" ".concat(a)}return t}},{key:"getOkButton2Text",value:function(e){var t=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX;return"chat"===e.mediaType&&this.interactionStateData.items.length>1?t.incomingInteraction_accept():""}},{key:"getCancelButtonText",value:function(e){var t=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX;return"email"===e.mediaType?t.incomingInteraction_postpone():t.incomingInteraction_reject()}},{key:"updatePopupAnswerButton",value:function(e,t){var n=!!this.sessionData.phoneDeviceCapabilities.canAnswer||"voice"!==t.mediaType,r=this.getOkButtonText(t);e.updateInboundCallPopupButton(t.id,"answer",r,n)}},{key:"closePopup",value:function(e){var t=this.useBPClient();e in this.openedBrowserNotifications&&(delete this.openedBrowserNotifications[e],d.communicationLayerWorkerClient.sendMessage({scope:"__worker__",event:"hideNotification",payload:[e]})),t&&e in this.openedPopups&&(delete this.openedPopups[e],delete this.autoAnswerPopupTimers[e],U.info("Cancel inbound call popup ".concat(e)),t.cancelInboundCallPopup(e))}},{key:"getMinimalPluginVersion",value:function(){var e,t=null===(e=this.sessionData.appInfo)||void 0===e?void 0:e.pluginVersion;return t&&""!==t?t:o.buildInfo.build}},{key:"isVoiceAssistantPluginUpToDate",value:function(e){var t=b(e);U.info("version ".concat(t));var n=this.getMinimalPluginVersion();return U.info("supported minimal version ".concat(n)),null!=t&&g.isPluginUpToData(t,n)}},{key:"isDomainAuthSupported",value:function(e){var t=b(e),n=null!=t&&function(e,t){for(var n=e.split("."),r=t.split("."),a=Math.min(n.length,r.length),o=0;o<a;o++){var i=parseInt(n[o]),s=parseInt(r[o]);if(i!==s)return i-s}return n.length-r.length}("5.16",t)<=0;return U.info("Domain authentication is supported: ".concat(n)),n}},{key:"checkPlugin",value:function(e,t){var n=this;if("chrome_os"!==o.platformInfo.platform){var r=this.sessionData,a=r.phoneType,i=r.disablePluginUpdate;if(U.info("Check plugin for phone type = ",a),"phone_type_soft_secure"===a||"phone_type_soft_unsecure"===a)if(this.stateData.isHelperAppInstanceCreated){var s=this.isVoiceAssistantPluginUpToDate(e),c="phone_type_soft_secure"===a&&!e.supportsSecure;if(U.info("up-to-date: ".concat(s)),s&&!c)return;i?U.info("plugin update disabled"):this.toClientDispatch.onInstallationRequired(!1)}else t?this.stateData.isDomainAuthorized?(U.info("BPClient is not valid"),this.toClientDispatch.onInstallationRequired(!0)):this.toClientDispatch.onShowDomainAuthorizationDialog():(U.info("BPClient is not yet available"),setTimeout((function(){n.checkPlugin(e,!0)}),2e3))}else U.info("Can not check plugin on Chrome OS")}},{key:"resetState",value:function(){N(M(g.prototype),"resetState",this).call(this),this.vaInitialized=!1,this.bpClientInit=!1,this.netApiNotifiedItems={}}}])&&R(t.prototype,n),a&&R(t,a),g}(g.StateFactory.createBaseStateClass({name:"bpClientState",controlEvents:a.bpClientControlEvents,trackerEvents:a.bpClientTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["platformSpecific","localSettings","sessionConnector","tabsConnector","timersConnector","localizationConnector","integrationApiConnector","interactionStateConnector","interactionInternalChatConnector"],getInitialState:a.getInitialBPClientState}))},5943:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{buildInfo:()=>o,platformInfo:()=>c});var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"devVersion",void 0),a(this,"isBranded",void 0),a(this,"comments",void 0),a(this,"build",void 0),this.devVersion="1.0.0.1";this.isBranded=!1,this.comments=this.isBranded?"":"Dev build",this.build=this.isBranded?"":this.devVersion}var t,n,o;return t=e,(n=[{key:"compareVersions",value:function(e,t){var n=e.split("."),r=t.split(".");if(n.length===r.length)for(var a=0;a<n.length;a++){var o=parseInt(n[a]),i=parseInt(r[a]);if(o!==i)return o-i}return 0}}])&&r(t.prototype,n),o&&r(t,o),e}());function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"platform","unknown"),s(this,"browser","unknown"),s(this,"isWindowsXP",!1),s(this,"isLinux_64",!1),s(this,"browserVersion",0);var t="undefined"==typeof window?"":window.navigator.userAgent;if(t){var n=void 0;if(t.indexOf("Opera")>=0?(this.browser="opera",n="Opera[\\/\\s](\\d+\\.\\d+)"):t.indexOf("MSIE")>=0?(this.browser="ie",n="MSIE (\\d+\\.\\d+);"):t.indexOf("Chrome")>=0?(this.browser="chrome",n="Chrome/(\\d+\\.\\d+)"):t.indexOf("Safari")>=0?(this.browser="safari",n="Version/(\\d+\\.\\d+)"):t.indexOf("Firefox")>=0&&(this.browser="firefox",n="Firefox[\\/\\s](\\d+\\.\\d+)"),null!=n){var r=new RegExp(n).exec(t);if(null!=r){var a=r[1];try{this.browserVersion=parseFloat(a)}catch(c){console.warn("PlatformInfo: Unable to parse browser versionPattern token:"+a)}}}var o=new RegExp("Trident/(\\d+)\\.\\d+").exec(t);if(null!=o){this.browser="ie";var i=o[1];try{this.browserVersion=parseInt(i)+4}catch(c){console.warn("PlatformInfo: Unable to parse trident token:"+i)}}t=t.toLowerCase(),this.isWindowsXP=t.indexOf("windows nt 5.1")>=0||t.indexOf("windows xp")>=0,t.indexOf("windows")>=0||t.indexOf("win32")>=0?this.platform="windows":t.indexOf("macintosh")>=0||t.indexOf("mac os x")>=0?this.platform="mac":t.indexOf("linux")>=0?(this.platform="linux",this.isLinux_64=t.indexOf("x86_64")>=0):t.indexOf("cros")>=0&&(this.platform="chrome_os")}}var t,n,r;return t=e,(n=[{key:"isMacPluginEnabled",value:function(){return"undefined"!=typeof window&&window.__enableMacPlugin}},{key:"isSoftphoneSupported",value:function(){var e="chrome"===this.browser&&this.browserVersion>=12,t="firefox"===this.browser&&this.browserVersion>=3.5,n="ie"===this.browser&&this.browserVersion>=8,r="safari"===this.browser&&this.browserVersion>=5;return"linux"===this.platform&&this.isLinux_64&&(e||t)||"windows"===this.platform&&(e||t||n)||"chrome_os"===this.platform&&(e||t)||"mac"===this.platform&&this.isMacPluginEnabled()&&(e||t||r)}}])&&i(t.prototype,n),r&&i(t,r),e}())},32687:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CampaignsStateContextProvider:()=>u,useCampaignsState:()=>d,useCampaignsStateConnector:()=>p,useCampaignsStateMethods:()=>f,useCampaignsStateRef:()=>_,useSelectedCampaign:()=>g,useSelectedTab:()=>m});var r=n(86702),a=n(19883),o=n(68849),i=n(13641),s=(0,i.createStateContextProvider)("CampaignsStateContextProvider"),c=s.getContext,u=s.CampaignsStateContextProvider,l=(0,i.createStateHooks)("campaignsState",c),d=l.useCampaignsState,_=l.useCampaignsStateRef,f=l.useCampaignsStateMethods,p=l.useCampaignsStateConnector,m=function(){return(0,r.useContextSelector)(c(),(function(e){var t=e.state;return(0,a.getSelectedTab)(t)}))},g=function(){return(0,r.useContextSelector)(c(),(function(e){var t=e.state;return(0,o.Y)(t)}))}},3266:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CLOSEABLE_TABS_TYPES:()=>g,DEFAULT_PIE_COLOR:()=>_,PIE_COLORS:()=>d,campaignListsColumnsMetricsMap:()=>r,campaignsColumnsLocalizationMap:()=>a,campaignsColumnsMetricsMap:()=>o,campaignsListsColumnsLocalizationMap:()=>i,campaignsStateControlEvents:()=>m,campaignsStateTrackerEvents:()=>p,defaultCampaignDetailsTableColumnsConfig:()=>s,defaultCampaignListsColumnsConfig:()=>c,defaultCampaignsTableColumnsConfig:()=>u,getInitialCampaignsState:()=>l});var r={name:["name"],is_enabled:["is_enabled"],priority:["priority"],ratio:["ratio"],records_total:["records_total"],records_dialable:["records_dialable"],records_remaining:["records_remaining"],records_completed:["records_completed"],records_completed_ratio:["records_completed_ratio"],records_in_dnc:["records_in_dnc"],records_expired:["records_expired"],records_with_assigned_agents_completed:["records_with_assigned_agents_completed"],records_with_assigned_agents_remaining:["records_with_assigned_agents_remaining"],list_last_updated:["list_last_updated"],records_completed_per_day:["records_completed_per_day"]},a={dialer_diagnostics:"CAMPAIGN_MONITOR.alert",name:"CAMPAIGN_MONITOR.campaigns_column_name",status_group:"CAMPAIGN_MONITOR.campaigns_group_status",running:"CAMPAIGN_MONITOR.campaigns_column_running",out_campaign_mode:"METRIC_NAMES.out_campaign_mode_short",out_average_success_rate:"METRIC_NAMES.out_average_success_rate_short",out_calls_in_ivr:"METRIC_NAMES.out_calls_in_ivr_short",out_calls_active_on_agents:"METRIC_NAMES.out_calls_active_on_agents_short",out_calls_in_progress:"METRIC_NAMES.out_calls_in_progress_short",out_calls_current_call_rate:"METRIC_NAMES.out_calls_current_call_rate_short",out_campaign_duration_forecast:"METRIC_NAMES.out_campaign_duration_forecast_short",agents_group:"CAMPAIGN_MONITOR.campaigns_group_agents",teams:"CAMPAIGN_MONITOR.campaigns_column_teams",agent_occupancy:"METRIC_NAMES.agent_occupancy_short",agents_logged:"METRIC_NAMES.agents_logged_short",agents_ready:"METRIC_NAMES.agents_ready_short",agents_busy:"METRIC_NAMES.agents_busy_short",agents_in_wrap_up:"METRIC_NAMES.agents_in_wrap_up_short",agents_not_ready:"METRIC_NAMES.agents_not_ready_short",active_lists_records_group:"CAMPAIGN_MONITOR.campaigns_group_active_lists_records",records_total:"METRIC_NAMES.records_total_short",records_dialable:"METRIC_NAMES.records_dialable_short",records_remaining:"METRIC_NAMES.records_quota_remaining",records_completed:"METRIC_NAMES.records_completed_per_day_short",records_completed_ratio:"METRIC_NAMES.records_completed_ratio_per_day_short",records_in_dnc:"METRIC_NAMES.records_in_dnc_short",records_expired:"METRIC_NAMES.records_expired_short",records_with_assigned_agents_completed:"METRIC_NAMES.records_with_assigned_agents_completed_short",records_with_assigned_agents_remaining:"METRIC_NAMES.records_with_assigned_agents_remaining_short",calls_daily_group:"CAMPAIGN_MONITOR.campaigns_group_calls_daily",out_calls_placed_per_day:"METRIC_NAMES.out_calls_placed_per_day_short",out_calls_answered_per_day:"METRIC_NAMES.out_calls_answered_per_day_short",out_calls_answered_ratio_per_day:"METRIC_NAMES.out_calls_answered_ratio_per_day_short",out_calls_failed_per_day:"METRIC_NAMES.out_calls_failed_per_day_short",out_calls_abandoned_per_day:"METRIC_NAMES.out_calls_abandoned_per_day_short",out_calls_abandoned_ratio_per_day:"METRIC_NAMES.out_calls_abandoned_ratio_per_day_short",out_calls_abandoned_in_ivr_per_day:"METRIC_NAMES.out_calls_abandoned_in_ivr_per_day_short",out_calls_abandoned_in_ivr_ratio_per_day:"METRIC_NAMES.out_calls_abandoned_in_ivr_ratio_per_day_short",out_calls_abandoned_in_queue_per_day:"METRIC_NAMES.out_calls_abandoned_in_queue_per_day_short",out_calls_abandoned_in_queue_ratio_per_day:"METRIC_NAMES.out_calls_abandoned_in_queue_ratio_per_day_short",out_calls_abandoned_ringing_per_day:"METRIC_NAMES.out_calls_abandoned_ringing_per_day_short",out_calls_unattended_per_day:"METRIC_NAMES.out_calls_unattended_per_day_short",out_calls_unattended_ratio_per_day:"METRIC_NAMES.out_calls_unattended_ratio_per_day_short",out_calls_dropped_in_ivr_per_day:"METRIC_NAMES.out_calls_dropped_in_ivr_per_day_short",out_calls_dropped_in_queue_per_day:"METRIC_NAMES.out_calls_dropped_in_queue_per_day_short",out_calls_routed_per_day:"METRIC_NAMES.out_calls_routed_per_day_short",out_calls_handled_per_day:"METRIC_NAMES.out_calls_handled_per_day_short",out_calls_transferred_per_day:"METRIC_NAMES.out_calls_transferred_per_day_short",out_calls_dropped_talking_per_day:"METRIC_NAMES.out_calls_dropped_talking_per_day_short",out_calls_disconnected_talking_per_day:"METRIC_NAMES.out_calls_disconnected_talking_per_day_short",out_calls_duration_average_per_day:"METRIC_NAMES.out_calls_duration_average_per_day_short",out_calls_duration_total_per_day:"METRIC_NAMES.out_calls_duration_total_per_day_short",records_daily_group:"CAMPAIGN_MONITOR.campaigns_group_records_daily",records_attempted_per_day:"METRIC_NAMES.records_attempted_per_day_short",records_attempted_ratio_per_day:"METRIC_NAMES.records_attempted_ratio_per_day_short",records_completed_per_day:"METRIC_NAMES.records_completed_per_day_short",records_completed_ratio_per_day:"METRIC_NAMES.records_completed_ratio_per_day_short",inbound_group:"CAMPAIGN_MONITOR.campaigns_group_inbound",in_max_wait_time:"METRIC_NAMES.in_max_wait_time_short"},o={dialer_diagnostics:["dialer_diagnostics"],name:["name"],running:["state"],out_campaign_mode:["out_campaign_mode"],out_average_success_rate:["out_average_success_rate"],out_calls_in_ivr:["out_calls_in_ivr"],out_calls_active_on_agents:["out_calls_active_on_agents"],out_calls_in_progress:["out_calls_in_progress"],out_calls_current_call_rate:["out_calls_current_call_rate"],out_campaign_duration_forecast:["out_campaign_duration_forecast"],agent_occupancy:["agent_occupancy"],agents_logged:["agents_logged"],agents_ready:["agents_ready"],agents_busy:["agents_busy"],agents_in_wrap_up:["agents_in_wrap_up"],agents_not_ready:["agents_not_ready"],records_total:["records_total"],records_dialable:["records_dialable"],records_remaining:["records_remaining"],records_completed:["records_completed"],records_completed_ratio:["records_completed_ratio"],records_in_dnc:["records_in_dnc"],records_expired:["records_expired"],records_with_assigned_agents_completed:["records_with_assigned_agents_completed"],records_with_assigned_agents_remaining:["records_with_assigned_agents_remaining"],out_calls_placed_per_day:["out_calls_placed_per_day"],out_calls_answered_per_day:["out_calls_answered_per_day"],out_calls_answered_ratio_per_day:["out_calls_answered_ratio_per_day"],out_calls_failed_per_day:["out_calls_failed_per_day"],out_calls_abandoned_per_day:["out_calls_abandoned_per_day"],out_calls_abandoned_ratio_per_day:["out_calls_abandoned_ratio_per_day"],out_calls_abandoned_in_ivr_per_day:["out_calls_abandoned_in_ivr_per_day"],out_calls_abandoned_in_ivr_ratio_per_day:["out_calls_abandoned_in_ivr_ratio_per_day"],out_calls_abandoned_in_queue_per_day:["out_calls_abandoned_in_queue_per_day"],out_calls_abandoned_in_queue_ratio_per_day:["out_calls_abandoned_in_queue_ratio_per_day"],out_calls_abandoned_ringing_per_day:["out_calls_abandoned_ringing_per_day"],out_calls_unattended_per_day:["out_calls_unattended_per_day"],out_calls_unattended_ratio_per_day:["out_calls_unattended_ratio_per_day"],out_calls_dropped_in_ivr_per_day:["out_calls_dropped_in_ivr_per_day"],out_calls_dropped_in_queue_per_day:["out_calls_dropped_in_queue_per_day"],out_calls_routed_per_day:["out_calls_routed_per_day"],out_calls_handled_per_day:["out_calls_handled_per_day"],out_calls_transferred_per_day:["out_calls_transferred_per_day"],out_calls_dropped_talking_per_day:["out_calls_dropped_talking_per_day"],out_calls_disconnected_talking_per_day:["out_calls_disconnected_talking_per_day"],out_calls_duration_average_per_day:["out_calls_duration_average_per_day"],out_calls_duration_total_per_day:["out_calls_duration_total_per_day"],records_attempted_per_day:["records_attempted_per_day"],records_attempted_ratio_per_day:["records_attempted_ratio_per_day"],records_completed_per_day:["records_completed_per_day"],records_completed_ratio_per_day:["records_completed_ratio_per_day"],in_max_wait_time:["in_max_wait_time"]},i={status_group:"CAMPAIGN_MONITOR.campaigns_group_status",active_lists_records_group:"CAMPAIGN_MONITOR.campaigns_active_lists_records_group",records_daily_group:"CAMPAIGN_MONITOR.campaigns_records_daily_group",name:"CAMPAIGN_MONITOR.campaigns_column_list_name",is_enabled:"CAMPAIGN_MONITOR.campaignList_column_enabled",priority:"METRIC_NAMES.priority_short",ratio:"METRIC_NAMES.ratio_short",records_total:"METRIC_NAMES.records_total_short",records_dialable:"METRIC_NAMES.records_dialable_short",records_remaining:"METRIC_NAMES.records_quota_remaining",records_completed:"METRIC_NAMES.records_completed_per_day_short",records_completed_ratio:"METRIC_NAMES.records_completed_ratio_per_day_short",records_in_dnc:"METRIC_NAMES.records_in_dnc_short",records_expired:"METRIC_NAMES.records_expired_short",records_with_assigned_agents_completed:"METRIC_NAMES.records_with_assigned_agents_completed_short",records_with_assigned_agents_remaining:"METRIC_NAMES.records_with_assigned_agents_remaining_short",list_last_updated:"CAMPAIGN_MONITOR.campaigns_column_list_last_updated",records_completed_per_day:"METRIC_NAMES.records_completed_per_day_short"},s=[{id:"running",isShown:!1},{id:"out_campaign_mode",isShown:!1},{id:"out_average_success_rate",isShown:!1},{id:"out_calls_in_ivr",isShown:!1},{id:"out_calls_active_on_agents",isShown:!1},{id:"out_calls_in_progress",isShown:!1},{id:"out_calls_current_call_rate",isShown:!1},{id:"out_campaign_duration_forecast",isShown:!1},{id:"agent_occupancy",isShown:!1},{id:"agents_logged",isShown:!1},{id:"agents_ready",isShown:!1},{id:"agents_busy",isShown:!1},{id:"agents_in_wrap_up",isShown:!1},{id:"agents_not_ready",isShown:!1},{id:"records_total",isShown:!1},{id:"records_dialable",isShown:!1},{id:"records_remaining",isShown:!1},{id:"records_completed",isShown:!0},{id:"records_completed_ratio",isShown:!1},{id:"records_in_dnc",isShown:!0},{id:"records_expired",isShown:!0},{id:"records_with_assigned_agents_completed",isShown:!1},{id:"records_with_assigned_agents_remaining",isShown:!1},{id:"out_calls_placed_per_day",isShown:!0},{id:"out_calls_answered_per_day",isShown:!0},{id:"out_calls_answered_ratio_per_day",isShown:!1},{id:"out_calls_failed_per_day",isShown:!1},{id:"out_calls_abandoned_per_day",isShown:!1},{id:"out_calls_abandoned_ratio_per_day",isShown:!1},{id:"out_calls_abandoned_in_ivr_per_day",isShown:!1},{id:"out_calls_abandoned_in_ivr_ratio_per_day",isShown:!1},{id:"out_calls_abandoned_in_queue_per_day",isShown:!1},{id:"out_calls_abandoned_in_queue_ratio_per_day",isShown:!1},{id:"out_calls_abandoned_ringing_per_day",isShown:!1},{id:"out_calls_unattended_per_day",isShown:!0},{id:"out_calls_unattended_ratio_per_day",isShown:!0},{id:"out_calls_dropped_in_ivr_per_day",isShown:!1},{id:"out_calls_dropped_in_queue_per_day",isShown:!1},{id:"out_calls_routed_per_day",isShown:!1},{id:"out_calls_handled_per_day",isShown:!0},{id:"out_calls_transferred_per_day",isShown:!1},{id:"out_calls_dropped_talking_per_day",isShown:!1},{id:"out_calls_disconnected_talking_per_day",isShown:!1},{id:"out_calls_duration_average_per_day",isShown:!0},{id:"out_calls_duration_total_per_day",isShown:!0},{id:"records_attempted_per_day",isShown:!1},{id:"records_attempted_ratio_per_day",isShown:!1},{id:"records_completed_per_day",isShown:!0},{id:"records_completed_ratio_per_day",isShown:!1},{id:"in_max_wait_time",isShown:!1}],c=[{id:"name",isShown:!0,width:"210px"},{id:"status_group",columns:[{id:"is_enabled",isShown:!0,width:"80px"},{id:"priority",isShown:!0,width:"80px"},{id:"ratio",isShown:!1,width:"80px"}]},{id:"active_lists_records_group",columns:[{id:"records_total",isShown:!1,width:"80px"},{id:"records_dialable",isShown:!0,width:"80px"},{id:"records_remaining",isShown:!0,width:"80px"},{id:"records_completed",isShown:!1,width:"80px"},{id:"records_completed_ratio",isShown:!0,width:"120px"},{id:"records_in_dnc",isShown:!1,width:"80px"},{id:"records_expired",isShown:!1,width:"80px"},{id:"records_with_assigned_agents_completed",isShown:!1,width:"120px"},{id:"records_with_assigned_agents_remaining",isShown:!1,width:"120px"},{id:"list_last_updated",isShown:!0,width:"120px"}]},{id:"records_daily_group",columns:[{id:"records_completed_per_day",isShown:!1,width:"120px"}]}],u=[{id:"dialer_diagnostics",isShown:!0,width:"80px"},{id:"name",isShown:!0,width:"100px"},{id:"status_group",columns:[{id:"running",isShown:!0,width:"80px"},{id:"out_campaign_mode",isShown:!0,width:"80px"},{id:"out_average_success_rate",isShown:!0,width:"80px"},{id:"out_calls_in_ivr",isShown:!1,width:"80px"},{id:"out_calls_active_on_agents",isShown:!1,width:"80px"},{id:"out_calls_in_progress",isShown:!0,width:"80px"},{id:"out_calls_current_call_rate",isShown:!1,width:"80px"},{id:"out_campaign_duration_forecast",isShown:!1,width:"80px"}]},{id:"agents_group",columns:[{id:"teams",isShown:!0,width:"180px"},{id:"agent_occupancy",isShown:!0,width:"80px"},{id:"agents_logged",isShown:!0,width:"80px"},{id:"agents_ready",isShown:!0,width:"80px"},{id:"agents_busy",isShown:!0,width:"80px"},{id:"agents_in_wrap_up",isShown:!1,width:"80px"},{id:"agents_not_ready",isShown:!1,width:"80px"}]},{id:"active_lists_records_group",columns:[{id:"records_total",isShown:!1,width:"80px"},{id:"records_dialable",isShown:!0,width:"140px"},{id:"records_remaining",isShown:!0,width:"80px"},{id:"records_completed",isShown:!1,width:"80px"},{id:"records_completed_ratio",isShown:!1,width:"80px"},{id:"records_in_dnc",isShown:!1,width:"80px"},{id:"records_expired",isShown:!1,width:"80px"},{id:"records_with_assigned_agents_completed",isShown:!1,width:"80px"},{id:"records_with_assigned_agents_remaining",isShown:!1,width:"80px"}]},{id:"calls_daily_group",columns:[{id:"out_calls_placed_per_day",isShown:!1,width:"80px"},{id:"out_calls_answered_per_day",isShown:!1,width:"80px"},{id:"out_calls_answered_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_failed_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_ivr_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_ivr_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_queue_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_queue_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_ringing_per_day",isShown:!1,width:"80px"},{id:"out_calls_unattended_per_day",isShown:!1,width:"80px"},{id:"out_calls_unattended_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_dropped_in_ivr_per_day",isShown:!1,width:"80px"},{id:"out_calls_dropped_in_queue_per_day",isShown:!1,width:"80px"},{id:"out_calls_routed_per_day",isShown:!1,width:"80px"},{id:"out_calls_handled_per_day",isShown:!1,width:"80px"},{id:"out_calls_transferred_per_day",isShown:!1,width:"80px"},{id:"out_calls_dropped_talking_per_day",isShown:!1,width:"80px"},{id:"out_calls_disconnected_talking_per_day",isShown:!1,width:"80px"},{id:"out_calls_duration_average_per_day",isShown:!1,width:"80px"},{id:"out_calls_duration_total_per_day",isShown:!1,width:"80px"}]},{id:"records_daily_group",columns:[{id:"records_attempted_per_day",isShown:!1,width:"80px"},{id:"records_attempted_ratio_per_day",isShown:!1,width:"80px"},{id:"records_completed_per_day",isShown:!1,width:"80px"},{id:"records_completed_ratio_per_day",isShown:!1,width:"80px"}]},{id:"inbound_group",columns:[{id:"in_max_wait_time",isShown:!1,width:"80px"}]}],l=function(){return{selectedCampaignTabId:"voiceCampaigns",tabs:[{id:"voiceCampaigns",type:"voiceCampaigns"}],isCampaignsListLoading:!1,campaignItems:[],selectedCampaignId:void 0,selectedListId:void 0,isPageConfigLoading:!1,pageConfig:{CAMPAIGNS_TABLE_COLUMNS_CONFIG:u,CAMPAIGN_DETAILS_TABLE_COLUMNS_CONFIG:{},CAMPAIGN_LISTS_TABLE_COLUMNS_CONFIG:c,DISPOSITIONS_PIE_CONFIG:{}},subscribers:{campaigns:0,details:0,lists:0,pie:0},pageConfigUserDataItemId:void 0}},d=["#64B5F6","#1976D2","#EF6C00","#FFD54F","#455A64","#96A6A6","#DD2C00","#00838F","#6A1B9A","#C62828","#2E7D32","#00695C","#F9A825","#6D4C41","#0288D1","#D84315","#5D4037","#00BFA5"],_="#CCCCCC",f=n(64245),p={onInitialState:(0,f.event)(),onChange:(0,f.event)()},m={subscribe:(0,f.event)(),unsubscribe:(0,f.event)(),openTab:(0,f.event)(),closeTab:(0,f.event)(),selectTab:(0,f.event)(),selectCampaign:(0,f.event)(),selectList:(0,f.event)(),updatePageConfig:(0,f.event)(),generateListReport:(0,f.event)(),restoreDefaultConfig:(0,f.event)(),startStopCampaign:(0,f.asyncEvent)(),enableDisableList:(0,f.asyncEvent)()},g=["campaignResults","listRemainingRecords"]},15332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CampaignsStateImpl:()=>j,getSelectedCampaign:()=>h.Y,getSelectedTab:()=>x});var r=n(2122),a=n(37008),o=n(26220),i=n(18189),s=n(50712),c=n(50944),u=n(26552),l=n(68939),d=n(16152);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){var n=e.service_id,r=p(e,["service_id"]);return{id:n,fields:f({},null==t?void 0:t.fields,r),dispositionsMetrics:(null==t?void 0:t.dispositionsMetrics)||{},teams:(null==t?void 0:t.teams)||[],lists:(null==t?void 0:t.lists)||[],dispositions:(null==t?void 0:t.dispositions)||[],isDetailsLoading:(null==t?void 0:t.isDetailsLoading)||!1,isListsLoading:(null==t?void 0:t.isListsLoading)||!1,isTeamsLoading:(null==t?void 0:t.isTeamsLoading)||!1,isDispositionsLoading:(null==t?void 0:t.isDispositionsLoading)||!1,isPieLoading:(null==t?void 0:t.isPieLoading)||!1}}function g(e){var t=(0,c.convertKVArray)(e).find((function(e){return e.type===i.userDataTypes.CAMPAIGNS_PAGE_CFG_NEW_AD}));return t?{pageConfig:JSON.parse(t.value),configUserDataItemId:t.data_id}:{pageConfig:void 0,configUserDataItemId:void 0}}var h=n(68849);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,s,"next",e)}function s(e){y(o,r,a,i,s,"throw",e)}i(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},w(e,t,n||e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?v(e):t;var n}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function k(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var N=o.bpLogger.withPrefix("@CAMPAIGNS"),M="CONFIG_REQUEST",j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(_,e);var t,n,o,d=R(_);function _(){var e;S(this,_),I(v(e=d.apply(this,arguments)),"configRequestTracker",(0,s.createRequestTracker)({timeoutMilliseconds:2e3})),I(v(e),"fetcherIntervalId",void 0);var t=v(e);I(v(e),"initFetchers",b((function(){return k(this,(function(e){return t.fetcherIntervalId=setInterval((function(){t.stateData.subscribers.campaigns&&t.fetchCampaigns(),t.stateData.subscribers.details&&t.fetchCampaignDetails(),t.stateData.subscribers.lists&&t.fetchCampaignLists(),t.stateData.subscribers.pie&&t.fetchCampaignPie()}),5e3),[2]}))}))),I(v(e),"subscribe",(function(t){e.produceState((function(e){e.subscribers[t]++})),{pie:e.fetchCampaignPie,campaigns:e.fetchCampaigns,details:e.fetchCampaignDetails,lists:e.fetchCampaignLists}[t]()})),I(v(e),"unsubscribe",(function(t){e.produceState((function(e){e.subscribers[t]=Math.max(0,e.subscribers[t]-1)}))})),I(v(e),"openTab",(function(t){e.produceState((function(e){e.tabs.push(t)}))})),I(v(e),"closeTab",(function(t){e.produceState((function(e){var n,r=e.tabs.findIndex((function(e){return e.id===t}));(e.tabs.splice(r,1),e.selectedCampaignTabId===t)&&(e.selectedCampaignTabId=null===(n=e.tabs[0])||void 0===n?void 0:n.id)}))})),I(v(e),"selectTab",(function(t){e.produceState((function(e){e.selectedCampaignTabId=t}))}));var n,o=v(e);I(v(e),"generateListReport",(n=b((function(e,t){var n,r,a;return k(this,(function(i){switch(i.label){case 0:return n=o.sessionConnector.getStateData().tenantId,(0,u.assertDefined)(n,"Tenant id is not defined"),r=o.timezonesStateConnector.getStateData().localTimezone,o.produceListItem(e,t,(function(e){e.isReportLoading=!0})),[4,o.transport.dispatch.agent_get_record_report({tenant_id:n,list_id:t,timezone_id:r})];case 1:return a=i.sent().report_data,o.produceListItem(e,t,(function(e){e.reportData=a,e.isReportLoading=!1,e.reportAt=Date.now()})),[2]}}))})),function(e,t){return n.apply(this,arguments)}));var f=v(e);I(v(e),"fetchUserConfig",b((function(){var e,t,n,r,a;return k(this,(function(o){switch(o.label){case 0:return f.configRequestTracker.addRequest({requestId:M}),f.produceState((function(e){e.isPageConfigLoading=!0})),[4,f.transport.dispatch.agent_get_user_data({types:i.userDataTypes.CAMPAIGNS_PAGE_CFG_NEW_AD,is_system:(0,c.booleanToTransport)(!1)})];case 1:return e=o.sent(),t=e.data,f.produceState((function(e){e.isPageConfigLoading=!1})),f.configRequestTracker.onResponse(M),n=g(t),r=n.configUserDataItemId,(a=n.pageConfig)&&r?(f.produceState((function(e){e.pageConfig=O({},e.pageConfig,a),e.pageConfigUserDataItemId=r})),[2]):[2]}}))})));var p=v(e);I(v(e),"saveUserConfigOnServer",(0,r.debounce)(b((function(){var e;return k(this,(function(t){return e=p.stateData.pageConfig,p.stateData.pageConfigUserDataItemId?p.transport.dispatch.agent_update_user_data({data_id:p.stateData.pageConfigUserDataItemId,is_system:(0,c.booleanToTransport)(!1),value:JSON.stringify(e)}):p.transport.dispatch.agent_add_user_data({data_id:(0,l.uuid)().toUpperCase(),type:i.userDataTypes.CAMPAIGNS_PAGE_CFG_NEW_AD,value:JSON.stringify(e),is_system:(0,c.booleanToTransport)(!1)}),[2]}))})),1e3));var y=v(e);I(v(e),"restoreDefaultConfig",function(){var e=b((function(e){var t,n;return k(this,(function(r){return t=(0,a.getInitialCampaignsState)().pageConfig[e],n=T(O({},y.stateData.pageConfig),I({},e,t)),y.updatePageConfig(n),[2]}))}));return function(t){return e.apply(this,arguments)}}());var C=v(e);I(v(e),"fetchCampaigns",(0,r.throttle)(b((function(){var e,t,n,r,o,s;return k(this,(function(u){switch(u.label){case 0:return(e=C.configRequestTracker.getRequest(M))?[4,e.promise]:[3,2];case 1:u.sent(),u.label=2;case 2:return l=C.stateData.pageConfig.CAMPAIGNS_TABLE_COLUMNS_CONFIG.flatMap((function(e){return(0,i.checkIsCampaignsTableColumnGroup)(e)?e.columns:e})).filter((function(e){return e.isShown})).flatMap((function(e){return a.campaignsColumnsMetricsMap[e.id]||[]})),t=Array.from(new Set(l)),C.produceState((function(e){e.isCampaignsListLoading=!0})),[4,C.transport.dispatch.agent_get_campaigns_summary({service_fields:(0,c.toKVArray)(t)})];case 3:return n=u.sent(),r=n.summary,C.produceState((function(e){e.isCampaignsListLoading=!1})),o=(0,c.convertKVArray)(r),s=o.map((function(e){return m(e,C.findCampaignItem(e.service_id))})),C.produceState((function(e){e.campaignItems=s})),s.forEach((function(e){C.fetchCampaignTeams(e.id)})),C.autoSelectCampaign(),[2]}var l}))})),5e3));var w=v(e);I(v(e),"fetchCampaignDetails",(0,r.throttle)(b((function(){var e,t,n;return k(this,(function(r){switch(r.label){case 0:return w.stateData.selectedCampaignId?(e=function(){var e=(w.stateData.pageConfig.CAMPAIGN_DETAILS_TABLE_COLUMNS_CONFIG[w.stateData.selectedCampaignId]||a.defaultCampaignDetailsTableColumnsConfig).filter((function(e){return e.isShown})).flatMap((function(e){return a.campaignsColumnsMetricsMap[e.id]}));return Array.from(new Set(e))}(),w.produceCampaignItem(w.stateData.selectedCampaignId,(function(e){e.isDetailsLoading=!0})),[4,w.transport.dispatch.agent_get_campaign_details({service_id:w.stateData.selectedCampaignId,service_fields:(0,c.toKVArray)(e)})]):[2];case 1:return t=r.sent(),t.service_id,t.request_id,n=D(t,["service_id","request_id"]),w.produceCampaignItem(w.stateData.selectedCampaignId,(function(e){e.fields=O({},e.fields,n),e.isDetailsLoading=!1})),[2]}}))})),5e3));var E=v(e);I(v(e),"fetchCampaignPie",(0,r.throttle)(b((function(){var e,t,n,r;return k(this,(function(a){switch(a.label){case 0:return E.stateData.selectedCampaignId?(E.produceCampaignItem(E.stateData.selectedCampaignId,(function(e){e.isPieLoading=!0})),[4,E.fetchCampaignDispositions()]):[2];case 1:return a.sent(),e=E.getCampaignPieConfig(),(0,u.assertDefined)(e,"Pie config is not created for the campaign"),t=e.dispositions.filter((function(e){var t=e.isShownOnPie,n=e.isShownOnLegend;return t||n})).map((function(e){return e.dispositionId})).map((function(e){return"".concat(i.dispositionMetricPrefix).concat(e)})),[4,E.transport.dispatch.agent_get_campaign_details({service_id:E.stateData.selectedCampaignId,service_fields:(0,c.toKVArray)(t)})];case 2:return n=a.sent(),n.service_id,n.request_id,r=D(n,["service_id","request_id"]),E.produceCampaignItem(E.stateData.selectedCampaignId,(function(e){e.isPieLoading=!1,e.dispositionsMetrics=O({},e.dispositionsMetrics,r)})),[2]}}))})),5e3));var A=v(e);I(v(e),"fetchCampaignDispositions",b((function(){var e;return k(this,(function(t){switch(t.label){case 0:return A.stateData.selectedCampaignId?(A.produceCampaignItem(A.stateData.selectedCampaignId,(function(e){e.isDispositionsLoading=!0})),[4,A.servicesDispositionsConnector.dispatch.requestServiceDispositions(A.stateData.selectedCampaignId)]):[2];case 1:return e=t.sent(),A.produceCampaignItem(A.stateData.selectedCampaignId,(function(t){t.dispositions=e||[],t.isDispositionsLoading=!1})),[2]}}))})));var P=v(e);I(v(e),"fetchCampaignLists",(0,r.throttle)(b((function(){var e,t,n,r;return k(this,(function(o){switch(o.label){case 0:return P.stateData.selectedCampaignId?(s=P.stateData.pageConfig.CAMPAIGN_LISTS_TABLE_COLUMNS_CONFIG.flatMap((function(e){return(0,i.checkIsCampaignListsColumnGroup)(e)?e.columns:e})).filter((function(e){return e.isShown})).flatMap((function(e){return a.campaignListsColumnsMetricsMap[e.id]||[]})),e=Array.from(new Set(s)),P.produceCampaignItem(P.stateData.selectedCampaignId,(function(e){e.isListsLoading=!0})),[4,P.transport.dispatch.agent_get_campaign_lists_summary({service_id:P.stateData.selectedCampaignId,list_fields:(0,c.toKVArray)(e)})]):[2];case 1:return t=o.sent(),n=t.summary,P.produceCampaignItem(P.stateData.selectedCampaignId,(function(e){e.isListsLoading=!1})),r=(0,c.convertKVArray)(n),P.produceCampaignItem(P.stateData.selectedCampaignId,(function(e){e.lists=r.map((function(t){var n,r=e.lists.find((function(e){return e.id===t.list_id}));return{id:t.list_id,metrics:t,reportData:null==r?void 0:r.reportData,isReportLoading:null!==(n=null==r?void 0:r.isReportLoading)&&void 0!==n&&n,reportAt:null==r?void 0:r.reportAt}}))})),P.autoSelectList(),[2]}var s}))})),5e3));var R=v(e);I(v(e),"fetchCampaignTeams",function(){var e=b((function(e){var t,n,r,a;return k(this,(function(o){switch(o.label){case 0:return t=["name","agents_logged","agents_busy","agents_ready","agents_not_ready","agent_occupancy","agent_average_idle_time","state","is_enabled"],R.produceCampaignItem(e,(function(e){e.isTeamsLoading=!0})),[4,R.transport.dispatch.agent_get_campaign_teams_summary({service_id:e,team_fields:(0,c.toKVArray)(t)})];case 1:return n=o.sent(),r=n.summary,R.produceCampaignItem(e,(function(e){e.isTeamsLoading=!1})),a=(0,c.convertKVArray)(r),R.produceCampaignItem(e,(function(e){e.teams=a})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),I(v(e),"selectCampaign",(function(t){e.produceState((function(e){e.selectedCampaignId=t})),e.fetchCampaignDetails(),e.fetchCampaignLists(),e.fetchCampaignPie(),e.fetchCampaignDetails.flush(),e.fetchCampaignLists.flush(),e.fetchCampaignPie.flush()})),I(v(e),"selectList",(function(t){e.produceState((function(e){e.selectedListId=t}))})),I(v(e),"autoSelectCampaign",(function(){var t=(0,h.Y)(e.stateData);if(e.stateData.selectedCampaignId&&!t&&e.produceState((function(e){e.selectedCampaignId=void 0})),!t){var n=e.stateData.campaignItems[0];n&&e.selectCampaign(n.id)}})),I(v(e),"autoSelectList",(function(){var t=(0,h.Y)(e.stateData);if(t){var n=t.lists.find((function(t){return t.id===e.stateData.selectedListId}));if(!n&&e.stateData.selectedListId&&e.produceState((function(e){e.selectedListId=void 0})),!n){var r=t.lists[0];r&&e.selectList(r.id)}}}));var j=v(e);I(v(e),"startStopCampaign",function(){var e=b((function(e,t){var n;return k(this,(function(r){switch(r.label){case 0:return j.findCampaignItem(e)?(n=t?"startCampaign":"stopCampaign",[4,j.transport.dispatch[n]({params:[e]})]):[2];case 1:return r.sent(),j.fetchCampaigns(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var x=v(e);return I(v(e),"enableDisableList",function(){var e=b((function(e,t,n){var r,a,o;return k(this,(function(i){switch(i.label){case 0:return r=(0,h.Y)(x.stateData),a=null==r?void 0:r.lists.find((function(e){return e.id===t})),r&&a?(o=n?"enableList":"disableList",[4,x.transport.dispatch[o]({params:[e,t]})]):[2];case 1:return i.sent(),x.fetchCampaignLists(),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()),I(v(e),"getCampaignPieConfig",(function(){if(e.stateData.selectedCampaignId){var t=e.stateData.pageConfig.DISPOSITIONS_PIE_CONFIG[e.stateData.selectedCampaignId],n=e.findCampaignItem(e.stateData.selectedCampaignId);return(0,u.assertDefined)(n,"Campaign not found"),e.produceState((function(r){(0,u.assertDefined)(e.stateData.selectedCampaignId,"Selected campaign id is not defined");var o=n.dispositions.map((function(e,n){return(null==t?void 0:t.dispositions.find((function(t){return t.dispositionId===e.id})))||{dispositionId:e.id,isShownOnPie:!0,isShownOnLegend:!0,color:a.PIE_COLORS[n]||a.DEFAULT_PIE_COLOR}})),i=Array.from(new Set(n.dispositions.map((function(e){return e.group})))).map((function(e,n){return(null==t?void 0:t.groups.find((function(t){return t.name===e})))||{name:e,color:a.PIE_COLORS[n]||a.DEFAULT_PIE_COLOR}}));r.pageConfig.DISPOSITIONS_PIE_CONFIG[e.stateData.selectedCampaignId]={title:"",displayMode:"dispositions",dispositions:o,groups:i}})),e.stateData.pageConfig.DISPOSITIONS_PIE_CONFIG[e.stateData.selectedCampaignId]}})),I(v(e),"updatePageConfig",(function(t){e.produceState((function(e){e.pageConfig=O({},e.pageConfig,t)})),e.saveUserConfigOnServer()})),I(v(e),"produceCampaignItem",(function(t,n){e.produceState((function(e){e.campaignItems.forEach((function(e){e.id===t&&n(e)}))}))})),I(v(e),"produceListItem",(function(t,n,r){e.produceCampaignItem(t,(function(e){var a=e.lists.find((function(e){return e.id===n}));a?r(a):N.error("List not found",t,n)}))})),I(v(e),"findCampaignItem",(function(t){return e.stateData.campaignItems.find((function(e){return e.id===t}))})),e}return t=_,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({}),this.fromClientDispenser.subscribe({subscribe:this.subscribe,unsubscribe:this.unsubscribe,openTab:this.openTab,closeTab:this.closeTab,selectTab:this.selectTab,selectCampaign:this.selectCampaign,selectList:this.selectList,updatePageConfig:this.updatePageConfig,restoreDefaultConfig:this.restoreDefaultConfig,startStopCampaign:this.startStopCampaign,enableDisableList:this.enableDisableList,generateListReport:this.generateListReport})),this.initFetchers(),this.fetchUserConfig()}},{key:"cleanup",value:function(){clearInterval(this.fetcherIntervalId),this.fetcherIntervalId=void 0,w(E(_.prototype),"cleanup",this).call(this)}},{key:"resetState",value:function(){clearInterval(this.fetcherIntervalId),this.fetcherIntervalId=void 0,w(E(_.prototype),"resetState",this).call(this)}}])&&C(t.prototype,n),o&&C(t,o),_}(d.StateFactory.createBaseStateClass({name:"campaignsState",controlEvents:a.campaignsStateControlEvents,trackerEvents:a.campaignsStateTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["transport","sessionConnector","interactionStateConnector","localSettings","servicesDispositionsConnector","timezonesStateConnector"],getInitialState:a.getInitialCampaignsState}));function x(e){return e.tabs.find((function(t){return t.id===e.selectedCampaignTabId}))}},68849:(e,t,n)=>{"use strict";function r(e){return e.campaignItems.find((function(t){return t.id===e.selectedCampaignId}))}n.d(t,{Y:()=>r})},13432:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaseStateContextProvider:()=>o,useCaseState:()=>c,useCaseStateConnector:()=>d,useCaseStateMethods:()=>l,useCaseStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("CaseStateContextProvider"),o=a.CaseStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("caseState",i),c=s.useCaseState,u=s.useCaseStateRef,l=s.useCaseStateMethods,d=s.useCaseStateConnector},12456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{caseStateControlEvents:()=>i,caseStateTrackerEvents:()=>o,getInitialCaseState:()=>r,isAssignPersonalEmail:()=>c,isGrabQItem:()=>s});var r=function(){return{casesList:[],casesListLoading:!1,cases:{},emails:{},notes:{},chats:{},casePendingReasons:{data:[],isLoading:!1,isLoaded:!1}}},a=n(64245),o={onInitialState:(0,a.event)(),onCaseOpenAttemptedWhileSupervising:(0,a.event)(),onReplyEmailAttemptedWhileSupervising:(0,a.event)(),onChange:(0,a.event)(),onQueueMovementFailed:(0,a.event)(),onQueueItemsMoved:(0,a.event)(),onCasesDeleted:(0,a.event)(),onCasesClosedAsSpam:(0,a.event)(),onReporterChanged:(0,a.event)(),onReporterChangedError:(0,a.event)()},i={getCasesList:(0,a.event)(),getCase:(0,a.event)(),getEmail:(0,a.event)(),pinCase:(0,a.event)(),unpinCase:(0,a.event)(),flagCase:(0,a.event)(),unflagCase:(0,a.event)(),updateCaseTitle:(0,a.event)(),setCaseStatus:(0,a.event)(),changeReporter:(0,a.event)(),getCasePendingReasons:(0,a.asyncEvent)(),openCase:(0,a.event)(),replyEmail:(0,a.event)(),createCaseEmail:(0,a.event)(),moveQueueItems:(0,a.event)(),closeCasesAsSpam:(0,a.event)(),deleteCases:(0,a.event)(),createEmailDraft:(0,a.event)(),discardEmailDraft:(0,a.event)(),getEmailTemplate:(0,a.asyncEvent)()};function s(e){return"toUserId"in e}function c(e){return"fromUserId"in e&&"toUserId"in e}},74539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CaseStateImpl:()=>x});var r=n(2122),a=n(64832),o=n(26220),i=n(5518),s=n(40381),c=n(50944),u=n(26552),l=n(16152);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var p=function(e){return{serviceId:e.service_id,serviceName:e.service_name,serviceType:e.service_type}},m=function(e){return{id:e._id.oid,number:String(e.case_number),title:e.case_title,status:e.case_status,categoryId:e.category_id,categoryName:e.category_name,isFlagged:e.is_flagged,createdTime:(0,r.get)(e,"created_time.date"),modifiedTime:(0,r.get)(e,"modified_time.date"),customerUpdateTime:(0,r.get)(e,"customer_update_time.date"),modifiedTimeWithActivities:e.modified_time_with_activities,reporterId:(0,r.get)(e,"reporter_id.oid"),reporterFirstName:e.reporter_first_name,reporterLastName:e.reporter_last_name,pendingReasonId:e.pending_reason_id,pendingReasonName:e.pending_reason_name,activities:(e.activities||[]).map((function(e){if(function(e){return"EMAIL"===e.media_type}(e))return{id:e._id.oid,direction:e.direction,mediaType:e.media_type,subject:e.subject,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid}})),services:e.services.map(p),globalInteractionId:e.global_interaction_id,caseIds:e.case_ids.map((function(e){return e.oid})),accountId:e.account_id,emailId:e.email_id.oid,threadId:e.thread_id,hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged,emailData:{id:e.emailData.id,date:e.emailData.date,langTag:e.emailData.langTag,subject:e.emailData.subject,content:e.emailData.content,contentSize:e.emailData.contentSize,deliveredAddress:e.emailData.deliveredAddress,accountId:e.emailData.accountId,fromAddresses:e.emailData.fromAddresses,toAddresses:e.emailData.toAddresses,replytoAddresses:e.emailData.replytoAddresses,ccAddresses:e.emailData.ccAddresses,bccAddresses:e.emailData.bccAddresses,attachments:e.emailData.attachments,attachmentIds:e.emailData.attachmentIds,attachmentsSize:e.emailData.attachmentsSize,sla:e.emailData.sla,originalMessageInserted:e.emailData.originalMessageInserted,headerFooterInserted:e.emailData.headerFooterInserted,followUpexists:e.emailData.followUpexists,inbound:e.emailData.inbound,emailSize:e.emailData.emailSize,sentiment:e.emailData.sentiment,modified:e.emailData.modified,target:e.emailData.target,caseNumber:e.emailData.caseNumber,serviceId:e.emailData.serviceId,articleId:e.emailData.articleId,eraseLoginId:e.emailData.eraseLoginId,eraseTime:e.emailData.eraseTime,eraseReason:e.emailData.eraseReason}};var t,n;if(function(e){return"VOICE"===e.media_type}(e))return{id:e._id.oid,direction:e.direction,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid,partyId:e.party_id,disposition:e.disposition,notes:e.notes,startTime:e.start_time?e.start_time.date:""}})),services:null===(t=e.services)||void 0===t?void 0:t.map(p),globalInteractionId:e.global_interaction_id,voiceRecordingInteractionId:e.voice_recording_interaction_id,caseIds:e.case_ids.map((function(e){return e.oid})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged};if(function(e){return"CHAT"===e.media_type}(e))return{id:e._id.oid,direction:e.direction,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid,partyId:e.party_id,disposition:e.disposition,notes:e.notes,startTime:e.start_time?e.start_time.date:""}})),services:null===(n=e.services)||void 0===n?void 0:n.map(p),globalInteractionId:e.global_interaction_id,caseIds:e.case_ids.map((function(e){return e.oid})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged};if(function(e){return"CASE"===e.media_type}(e)){var a,o={id:e._id.oid,event:e.event,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid}})),services:null===(a=e.services)||void 0===a?void 0:a.map(p),caseIds:e.case_ids.map((function(e){return e.oid})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged};switch(e.event){case"TRANSFERRED":return f(_({},o),{transferredFromFirstName:e.transferred_from_first_name,transferredFromLastName:e.transferred_from_last_name,transferredFromUserId:e.transferred_from_user_id});case"ASSIGNED":return f(_({},o),{assignedByFirstName:e.assigned_by_first_name,assignedByLastName:e.assigned_by_last_name,assignedByUserId:e.assigned_by_user_id,assignedFromFirstName:e.assigned_from_first_name,assignedFromLastName:e.assigned_from_last_name,assignedFromUserId:e.assigned_from_user_id});case"STATE_CHANGED":return f(_({},o),{status:e.status,pendingReasonId:e.pending_reason_id,pendingReasonName:e.pending_reason_name});default:return o}}else if(function(e){return"NOTES"===e.media_type}(e))return{id:e._id.oid,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid,notes:e.notes,disposition:e.disposition,startTime:(0,r.get)(e,"start_time.date")}})),caseIds:e.case_ids.map((function(e){return e.oid})),globalInteractionId:e.global_interaction_id,hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged}})).filter(Boolean)}},g=function(e){var t,n,r,a,o,i,s;return{id:e.id,accountId:e.accountId,content:e.content,contentSize:e.contentSize,emailSize:e.emailSize,subject:e.subject,date:e.date,modified:e.modified,fromAddresses:e.fromAddresses,toAddresses:e.toAddresses,replytoAddresses:e.replytoAddresses,ccAddresses:e.ccAddresses,bccAddresses:e.bccAddresses,attachments:e.attachments,attachmentIds:e.attachmentIds,attachmentsSize:e.attachmentsSize,sla:e.sla,originalMessageInserted:e.originalMessageInserted,headerFooterUserId:e.headerFooterUserId,followUpExists:e.followUpexists,inbound:e.inbound,target:null!==(t=e.target)&&void 0!==t?t:void 0,eraseTime:e.eraseTime?Number(e.eraseTime):void 0,caseNumber:e.caseNumber?Number(e.caseNumber):void 0,langTag:null!==(n=e.langTag)&&void 0!==n?n:void 0,serviceId:null!==(r=e.serviceId)&&void 0!==r?r:void 0,articleId:null!==(a=e.articleId)&&void 0!==a?a:void 0,deliveredAddress:null!==(o=e.deliveredAddress)&&void 0!==o?o:void 0,eraseLoginId:null!==(i=e.eraseLoginId)&&void 0!==i?i:void 0,eraseReason:null!==(s=e.eraseReason)&&void 0!==s?s:void 0,sentiment:e.sentiment?Number(e.sentiment):void 0}},h=function(e){return{id:e._id.oid,tenantId:e.tenant_id,sessionId:e.session_id,globalInteractionId:e.global_interaction_id,eraseLoginId:e.erase_login_id,eraseReason:e.erase_reason,eraseTime:e.erase_time,messages:e.messages.map((function(e){return{partyId:e.party_id,timestamp:e.timestamp,isQm:e.is_qm,event:e.event,type:e.type,firstName:e.first_name,lastName:e.last_name,userId:e.user_id,email:e.email,msg:e.msg,msgId:e.msg_id,title:e.title,page:e.page,fileId:e.file_id,fileName:e.file_name,fileType:e.file_type}}))}};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,s,"next",e)}function s(e){b(o,r,a,i,s,"throw",e)}i(void 0)}))}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?y(e):t;var n}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function R(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function N(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.query,r=e.teamId,a=D(e,["query","teamId"]),o=t.serverOrigin;return(0,i.apiRequests)(o).getCaseList(O({query:n||"",team:r,lang:"en"},a))},j=o.bpLogger.withPrefix("@caseState"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(d,e);var t,n,o,l=k(d);function d(){var e;C(this,d);var t=y(e=l.apply(this,arguments));return w(y(e),"getCasePendingReasons",S((function(){var e;return N(this,(function(n){switch(n.label){case 0:return t.stateData.casePendingReasons.isLoaded?[2,t.stateData.casePendingReasons]:(t.produceState((function(e){e.casePendingReasons.isLoading=!0})),[4,t.transport.dispatch.case_pending_reasons()]);case 1:return e=n.sent().result,t.produceState((function(t){t.casePendingReasons.isLoading=!1,t.casePendingReasons.isLoaded=!0,t.casePendingReasons.data=null!=e?e:[]})),[2,t.stateData.casePendingReasons]}}))}))),w(y(e),"discardEmailDraft",(function(t){var n=t.interactionStepId,r=t.emailId;e.transport.dispatch.agent_item_discard_draft({item_id:n,email_id:r})})),w(y(e),"createEmailDraft",(function(t){var n=t.interactionStepId,r=t.referenceEmailId;e.transport.dispatch.agent_item_create_draft({item_id:n,referenced_email_id:r})})),w(y(e),"getEmailTemplate",(function(t){return e.transport.dispatch.email_reply_template({language:t}).then((function(e){var t;return null===(t=e.result)||void 0===t?void 0:t[0]})).catch((function(e){j.error((0,s.getErrorMessage)(e))}))})),w(y(e),"getCase",(function(t){var n=e.sessionConnector.getStateData().serverOrigin,r=e.stateData.cases[t];(null==r?void 0:r.isLoading)||(e.updateCase(t,{isLoading:!0}),(0,i.apiRequests)(n).getCase({caseId:t}).then((function(n){var r=m(n),a=e.getRecordings(r.activities);e.updateCase(t,{isLoading:!1,data:r,recordings:a});var o=r.activities.map((function(e){return"CHAT"===e.mediaType?e.globalInteractionId:""})).filter(Boolean);o.length&&e.getChatTranscript(o).then((function(t){e.updateChats(t)}))})).catch((function(){e.updateCase(t,{isLoading:!1})})),e.getCaseAssignments(t).then((function(n){e.updateCase(t,{assignments:n}),e.updateAssignmentsNames(t)})))})),w(y(e),"setCaseStatus",(function(t){var n=t.caseId,r=t.status,a=t.disposition,o=t.pendingReason,c=e.sessionConnector.getStateData().serverOrigin,u=e.stateData.cases[n];u.data&&(e.updateCase(n,T(O({},u),{data:T(O({},u.data),{status:r,pendingReasonId:null==o?void 0:o.id,pendingReasonName:null==o?void 0:o.name})})),a&&e.transport.dispatch.agent_close_case_with_disposition({case_id:n,disposition_id:a.id,resolve_case:"1"}),(0,i.apiRequests)(c).updateCase({caseId:n,requestBody:{case_status:r,agent_id:e.sessionConnector.getStateData().userId,agent_first_name:e.sessionConnector.getStateData().firstName,agent_last_name:e.sessionConnector.getStateData().lastName,is_state_changed:!0,is_changed_from_ui:!0,disposition_name:null==a?void 0:a.name,pending_reason_id:null==o?void 0:o.id,pending_reason_name:null==o?void 0:o.name}}).then((function(){e.getCase(n)})).catch((function(t){j.error((0,s.getErrorMessage)(t)),e.updateCase(n,u)})))})),w(y(e),"updateCaseTitle",(function(t){var n=t.caseId,r=t.caseTitle,a=e.sessionConnector.getStateData().serverOrigin;return(0,i.apiRequests)(a).updateCase({caseId:n,requestBody:{case_title:r}}).then((function(){var t=e.stateData.cases[n];(null==t?void 0:t.data)&&e.updateCase(n,T(O({},t),{data:T(O({},t.data),{title:r})}))}))})),w(y(e),"getCasesList",(function(t){e.updateState({casesListLoading:!0});var n=e.sessionConnector.getStateData();return M(t,n).then((function(t){var n=t.cases;return e.onCasesList(n)})).catch(e.onCasesListError)})),w(y(e),"pinCase",(function(t){var n=e.sessionConnector.getStateData(),r=n.serverOrigin,a=n.userId,o=n.firstName,s=n.lastName;(0,i.apiRequests)(r).pinCase({caseId:t}).then((function(){}));var c=e.stateData.cases[t];a&&(null==c?void 0:c.assignments)&&e.updateCase(t,T(O({},c),{assignments:T(O({},c.assignments),{followUp:[{userId:a,firstName:o,lastName:s,date:Date.now()}]})}))})),w(y(e),"unpinCase",(function(t){var n=e.sessionConnector.getStateData(),r=n.serverOrigin,a=n.userId;(0,i.apiRequests)(r).unpinCase({caseId:t}).then((function(){}));var o=e.stateData.cases[t];a&&(null==o?void 0:o.assignments)&&e.updateCase(t,T(O({},o),{assignments:T(O({},o.assignments),{followUp:[]})}))})),w(y(e),"flagCase",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;(0,i.apiRequests)(n).updateCase({caseId:t,requestBody:{is_flagged:!0}}).then((function(){}));var r=e.stateData.cases[t];(null==r?void 0:r.data)&&e.updateCase(t,T(O({},r),{data:T(O({},r.data),{isFlagged:!0})}))})),w(y(e),"unflagCase",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;(0,i.apiRequests)(n).updateCase({caseId:t,requestBody:{is_flagged:!1}}).then((function(){}));var r=e.stateData.cases[t];(null==r?void 0:r.data)&&e.updateCase(t,T(O({},r),{data:T(O({},r.data),{isFlagged:!1})}))})),w(y(e),"getEmail",(function(t){e.stateData.emails[t]||e.updateEmail(t,{isLoading:!0});var n=e.sessionConnector.getStateData().serverOrigin;(0,i.apiRequests)(n).getEmail({emailId:t}).then((function(n){e.updateEmail(t,{isLoading:!1,data:g(n)})})).catch((function(){e.updateEmail(t,{isLoading:!1})}))})),w(y(e),"replyEmail",(function(t){var n=t.emailId,r=t.forceOpenWhileSupervising,a=t.isInbound;if(e.agentIsInSupervisingState()&&!r)return e.toClientDispatch.onReplyEmailAttemptedWhileSupervising(t);var o=e.sessionConnector.getStateData().userId;(0,u.assertDefined)(o),a&&e.transport.dispatch.agent_open_reply_for_email({email_id:n,user_id:o})})),w(y(e),"updateAssignmentsNames",(function(t){var n=e.stateData.cases[t].assignments;if(n){var r=new Set(R(n.personal).concat(R(n.followUp)).map((function(e){return e.userId})));Promise.all(Array.from(r).map((function(t){return e.transport.dispatch.agent_name_info({agent:t})}))).then((function(n){n.forEach((function(n){var r=n.result;null==r||r.forEach((function(n){var r=n.firstname,a=n.lastname,o=n.user_id;e.produceState((function(e){var n,i,s=function(e){e.userId===o&&(e.firstName=r,e.lastName=a)};null===(n=e.cases[t].assignments)||void 0===n||n.personal.forEach(s),null===(i=e.cases[t].assignments)||void 0===i||i.followUp.forEach(s)}))}))}))})).catch((function(e){j.error((0,s.getErrorMessage)(e))}))}})),w(y(e),"openCase",(function(t){var n=t.caseId,r=t.queueId,a=t.queueType,o=t.forceOpenWhileSupervising;if(e.agentIsInSupervisingState()&&!o)return e.toClientDispatch.onCaseOpenAttemptedWhileSupervising(t);if("FOLLOWUP"===a||!a||!r){var i=e.sessionConnector.getStateData().userId;(0,u.assertDefined)(i),e.transport.dispatch.agent_open_case({case_id:n,user_id:i})}r&&a&&e.transport.dispatch.agent_open_queue_item({email_id:n,queue_id:r,queue_type:(0,s.lowerCase)(a)})})),w(y(e),"createCaseEmail",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.contactId,r=t.globalInteractionId,a=t.emailAddress,o=t.emailBody,i=t.cc,s=t.bcc,c=t.subject;e.transport.dispatch.agent_create_case_email({contact_id:n,global_interaction_id:r,email_address:a,email_body:o,subject:c,bcc:s,cc:i})})),w(y(e),"changeReporter",(function(t,n,a){var o=e.sessionConnector.getStateData().serverOrigin;e.produceState((function(e){(0,r.set)(e,"cases.".concat(n,".data.reporterFirstName"),a.firstName),(0,r.set)(e,"cases.".concat(n,".data.reporterLastName"),a.lastName),(0,r.set)(e,"cases.".concat(n,".data.reporterId"),a.id)})),(0,i.apiRequests)(o).updateCase({caseId:n,requestBody:{reporter_id:a.id}}).then((function(){e.toClientDispatch.onReporterChanged(t,a)})).catch((function(t){j.error((0,s.getErrorMessage)(t)),e.produceState((function(e){(0,r.set)(e,"cases.".concat(n,".data.reporterFirstName"),a.firstName),(0,r.set)(e,"cases.".concat(n,".data.reporterLastName"),a.lastName),(0,r.set)(e,"cases.".concat(n,".data.reporterId"),a.id)})),e.toClientDispatch.onReporterChangedError(t,a)}))})),w(y(e),"moveQueueItems",(function(t){var n=t.directions,r=t.itemsToMove,a=e.validateItemsToMove(r),o=a.validItemsToMove,i=a.invalidItems.length;if(i&&e.toClientDispatch.onQueueMovementFailed(i),o.length){var s=e.moveQueueItem.bind(y(e),n);o.forEach(s),e.toClientDispatch.onQueueItemsMoved(r,n)}})),w(y(e),"moveQueueItem",(function(t,n){var r={from_queue_id:n.queueId,from_queue_type:(0,s.lowerCase)(t.fromQueueType),to_queue_type:(0,s.lowerCase)(t.toQueueType),language_skill_id:t.languageSkillId};(0,a.isAssignPersonalEmail)(t)?e.transport.dispatch.agent_move_queue_item(T(O({},r),{from_user_id:t.fromUserId,to_user_id:t.toUserId})):(0,a.isGrabQItem)(t)?e.transport.dispatch.agent_move_queue_item(T(O({},r),{to_user_id:t.toUserId})):e.transport.dispatch.agent_move_queue_item(T(O({},r),{from_user_id:t.fromUserId}))})),w(y(e),"deleteCases",(function(t){t.forEach(e.deleteCase),e.toClientDispatch.onCasesDeleted(t)})),w(y(e),"deleteCase",(function(t){e.transport.dispatch.agent_delete_case({case_id:t})})),w(y(e),"closeCasesAsSpam",(function(t){t.forEach(e.closeCaseAsSpam),e.toClientDispatch.onCasesClosedAsSpam(t)})),w(y(e),"closeCaseAsSpam",(function(t){e.transport.dispatch.agent_close_case_as_spam({case_id:t})})),e}return t=d,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getCasesList:this.getCasesList,getCase:this.getCase,getEmail:this.getEmail,pinCase:this.pinCase,unpinCase:this.unpinCase,flagCase:this.flagCase,unflagCase:this.unflagCase,createCaseEmail:this.createCaseEmail,openCase:this.openCase,replyEmail:this.replyEmail,moveQueueItems:this.moveQueueItems,closeCasesAsSpam:this.closeCasesAsSpam,deleteCases:this.deleteCases,updateCaseTitle:this.updateCaseTitle,changeReporter:this.changeReporter,setCaseStatus:this.setCaseStatus,getCasePendingReasons:this.getCasePendingReasons,createEmailDraft:this.createEmailDraft,discardEmailDraft:this.discardEmailDraft,getEmailTemplate:this.getEmailTemplate})),this.dispenser.subscribe({onReporterChanged:function(t,n){var r,a;e.interactionStateConnector.dispatch.useContact({itemId:t,contactId:n.id,firstName:null!==(r=n.firstName)&&void 0!==r?r:"",lastName:null!==(a=n.lastName)&&void 0!==a?a:"",email:n.email,phone:n.phone})}})}},{key:"getCaseAssignments",value:function(e){var t=this;return S((function(){var n;return N(this,(function(r){return n=t.sessionConnector.getStateData().serverOrigin,[2,(0,i.apiRequests)(n).getCaseAssignments({caseId:e}).then((function(e){if(e){var n=R(e.personal.map((function(e){return e.userId}))).concat(R(e.followUp.map((function(e){return e.userId}))));return t.transport.dispatch.agent_get_users_details({type:"CHAT_CENTER",users:(0,c.toKVArray)(n),user_fields:{0:"user_id",1:"firstname",2:"lastname"}}).then((function(t){return T(O({},e),{personal:e.personal.map((function(e){var n=Object.values(t.users).find((function(t){return t.user_id===e.userId}));return n?T(O({},e),{userId:n.user_id,firstName:n.firstname,lastName:n.lastname}):e})),followUp:e.followUp.map((function(e){var n=Object.values(t.users).find((function(t){return t.user_id===e.userId}));return n?T(O({},e),{userId:n.user_id,firstName:n.firstname,lastName:n.lastname}):e}))})}))}})).catch((function(t){j.error("error getting case assignments for case id ".concat(e,":"),(0,s.getErrorMessage)(t))}))]}))}))()}},{key:"getChatTranscript",value:function(e){var t=this,n=[];return 0===e.length?Promise.resolve([]):Promise.race([new Promise((function(e,t){return setTimeout(t,5e3)})),new Promise((function(r){e.forEach((function(a){var o=t.sessionConnector.getStateData().serverOrigin;(0,i.apiRequests)(o).getChatTranscript({globalInteractionId:a}).then((function(t){var a;t&&((a=n).push.apply(a,R(t)),n.length===e.length&&r(n.map(h)))}))}))}))])}},{key:"getRecordings",value:function(e){var t=this;return e.reduce((function(e,n){if(function(e){return"VOICE"===e.mediaType}(n)&&n.voiceRecordingInteractionId){var r=function(e){var t=e.sessionData,n=e.id,r=e.interactionId,a=(0,i.paramsToQueryString)({token:t.sessionId||"",user:t.loginId||"",tenant:t.domain||"",id:n,interaction_id:r,audiotag:"1"});return"".concat(t.serverOrigin).concat(i.requestUrls.getRecording,"?").concat(a)}({sessionData:t.sessionConnector.getStateData(),id:n.globalInteractionId,interactionId:n.voiceRecordingInteractionId});e.push(r)}return e}),[])}},{key:"onCasesList",value:function(e){var t=e.map((function(e){return{id:e._id.oid,number:e.case_number,status:e.case_status,title:(0,r.get)(e,"case_title",""),createdTime:(0,r.get)(e,"created_time.date",""),modifiedTime:(0,r.get)(e,"modified_time.date"),isFlagged:!!e.is_flagged,reporterId:(0,r.get)(e,"reporter_id.oid"),reporterFirstName:e.reporter_first_name,reporterLastName:e.reporter_last_name,categoryName:e.category_name,lastService:e.last_service,lastDisposition:e.last_disposition,queuedCase:e.queuedCase}}));this.updateState({casesList:t,casesListLoading:!1})}},{key:"onCasesListError",value:function(){this.updateState({casesList:[],casesListLoading:!1})}},{key:"agentIsInSupervisingState",value:function(){return""===this.agentStateConnector.getStateData().state}},{key:"updateCase",value:function(e,t){var n=t.data;this.produceState((function(r){if(r.cases[e]=O({},r.cases[e],t),n){var a=r.casesList.findIndex((function(t){return t.id===e}));if(-1===a)return;var o=r.casesList[a];r.casesList[a].status=n.status||o.status,r.casesList[a].title=n.title||o.title,r.casesList[a].isFlagged="boolean"==typeof n.isFlagged?n.isFlagged:o.isFlagged}}))}},{key:"updateEmail",value:function(e,t){this.produceState((function(n){n.emails[e]=t}))}},{key:"updateChats",value:function(e){e&&this.produceState((function(t){e.forEach((function(e){var n=e.globalInteractionId;(0,r.set)(t,"chats.".concat(n,".data"),e)}))}))}},{key:"validateItemsToMove",value:function(e){return e.reduce((function(e,t){return t.service?e.validItemsToMove.push(t):e.invalidItems.push(t),e}),{validItemsToMove:[],invalidItems:[]})}}])&&I(t.prototype,n),o&&I(t,o),d}(l.StateFactory.createBaseStateClass({name:"caseState",controlEvents:a.caseStateControlEvents,trackerEvents:a.caseStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:a.getInitialCaseState,dependencies:["transport","sessionConnector","agentStateConnector","interactionStateConnector"]}))},11911:(e,t,n)=>{"use strict";n.r(t),n.d(t,{connectReduxDevTools:()=>pr,createAuthorizedConnectors:()=>vr,createBaseConnectors:()=>oa});var r=n(23690),a=n(56020),o=n(23713),i=n(58713),s=n(19883),c=n(35535),u=n(17670),l=n(24776),d=n(86990),_=n(62176),f=n(12630),p=n(65175),m=n(34075),g=n(86603),h=n(80205),v=n(26220),y=n(9650),b=n(82697),S=n(15637),C=n(79696),I=n(17801),w=n(75058),E=n(3211),O=n(27385),T=n(55597),D=n(12746),A={onInitialState:(0,D.event)(),onChange:(0,D.event)()},P={showAllScreenPops:(0,D.event)(),addTabs:(0,D.event)(),removeTab:(0,D.event)()},R=n(26552),k=n(16152);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t={resizable:"yes",scrollbars:"yes",width:window&&Math.trunc(.75*window.outerWidth),height:window&&Math.trunc(.75*window.outerHeight)},n=Object.entries(t).filter((function(e){return x(e,2)[1]})).map((function(e){var t=x(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join(",");return window.open(e,"_blank",n)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,s,"next",e)}function s(e){$(o,r,a,i,s,"throw",e)}i(void 0)}))}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t,n){return H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},H(e,t,n||e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){G(e,t,n[t])}))}return e}function z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Y(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?F(e):t;var n}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var a=V(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y(this,n)}}function te(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,e);var t,n,r,a=ee(o);function o(){var e;B(this,o),G(F(e=a.apply(this,arguments)),"windowsToClose",{}),G(F(e),"handleScreenPops",(function(t,n){var r;e.isDialedWorkitem(t)?e.copyTabsToDialedWorkitem(t):(e.createProfileTab(t),e.createCaseTab(t),e.createActivityFormTab(t),t.screenPopData&&(t.screenPopData.web&&e.handleWebScreenPop(t,n),t.screenPopData.transferData&&e.handleTransferData(t),t.screenPopData.screenData&&e.handleScreenData(t),t.screenPopData.nativeremoteassist&&e.handleRemoteAssist(t,n),e.getCurrentIntegrationKey()&&e.handleCrmScreenPop(t,n),(null===(r=t.externalChatData)||void 0===r?void 0:r.directChat)&&e.handleDirectChatScreenPop(t)))})),G(F(e),"copyTabsToDialedWorkitem",(function(t){if(e.isDialedWorkitem(t)){var n=e.interactionStateConnector.getStateData().items.find((function(e){var n,r;return(null===(n=e.workitemData)||void 0===n?void 0:n.id)===(null===(r=t.workitemData)||void 0===r?void 0:r.id)}));if(n){var r=e.stateData.openedScreenPopTabs[n.id];e.updateTabs(t.id,r)}}})),G(F(e),"handleWebScreenPop",(function(t,n){var r;if(!e.checkIfInteractionScreenPopCompleted(t.id,"web")){var a=null===(r=t.screenPopData)||void 0===r?void 0:r.web;(0,R.assertDefined)(a),e.runCRMCommand(t.id,a.url)||a.popUponAnswer&&"delivered"!==t.state&&!(null==n?void 0:n.ignorePopUponAnswer)||(e.hasTabWithActiveIntegrationApi()?e.tryOpenCustomWebScreenPop(t.id,a):e.defaultWebScreenPopHandler(t.id,a))}})),G(F(e),"tryOpenCustomWebScreenPop",(function(t,n){e.integrationApiConnector.dispatch.webScreenPopCustom(t,n).then((function(r){r||e.defaultWebScreenPopHandler(t,n)})).catch((function(){e.defaultWebScreenPopHandler(t,n)}))})),G(F(e),"defaultWebScreenPopHandler",(function(t,n){!n.popup&&e.hasOpenedADTab()?e.openWebScreenPopTabs(t,n):e.openWebScreenPopWindows(t,n),e.markInteractionScreenPopAsCompleted(t,"web")})),G(F(e),"openWebScreenPopWindows",(function(t,n){var r=[];"OPEN_WEB_PAGE"===n.action&&n.url&&r.push(n.url),n.secondaryUrls&&Object.values(n.secondaryUrls).forEach((function(e){e.url&&r.push(e.url)}));var a=r.reduce((function(e,t){var n=L(t);return n&&e.push(n),e}),[]);if("DISPLAY_TEXT"===n.action&&n.content){var o=L("".concat(location.origin,"/agent/screenpop.html"));o&&(o.onload=function(){return o.window.document.body.innerHTML=n.content},a.push(o))}n.keepPopupOpenAfterFinish||(e.windowsToClose[t]=a)})),G(F(e),"openWebScreenPopTabs",(function(t,n){var r=function(e){return"iframe".concat(e,"+").concat(t)},a={id:r(0),type:"OPEN_WEB_PAGE"===n.action?"iframe":"iframe-html",title:n.label||"URL",url:n.url,content:n.content},o=Object.values(n.secondaryUrls||[]).map((function(e,t){return{id:r(t+1),type:"iframe",title:e.label||"URL",url:e.url}})),i=[a].concat(X(o));e.updateTabs(t,i)})),G(F(e),"screenPopCrmRecord",(function(t){var n=t.itemId,r=t.recordId,a=t.recordType,o=t.crmSource,i=t.inNewTab,s=e.localizationConnector.getStateData().t.INTEGRATIONS,c={source:o,id:r,type:null!=a?a:"",displayName:a?s.associated_object_from_screen_pop_type_only(a):s.associated_object_from_screen_pop_empty_name(),displayType:null!=a?a:"",customFields:{}};e.integrationApiConnector.dispatch.requestRecordInfo({id:r,type:null!=a?a:""}).then((function(e){e?c=e:console.warn('@Integration API method "requestRecordInfo" returns no data for screen pop object:',r,a)})).catch((function(e){(null==e?void 0:e.message)===T.NO_HANDLERS_ERROR&&console.warn('@Integration API "requestRecordInfo" has no handlers')})).finally((function(){e.interactionStateConnector.dispatch.addAssociatedObject(n,c,{force:!0,primary:!0}),e.integrationApiConnector.dispatch.openRecord(c,n,{inNewTab:i,source:"scenario"})}))})),G(F(e),"handleTransferData",(function(t){var n;if(!e.checkIfInteractionScreenPopCompleted(t.id,"transferData")){var r=null===(n=t.screenPopData)||void 0===n?void 0:n.transferData;(0,R.assertDefined)(r),e.integrationApiConnector.dispatch.loadTransferData(t.id,r),e.markInteractionScreenPopAsCompleted(t.id,"transferData")}})),G(F(e),"handleScreenData",(function(t){var n;if(!e.checkIfInteractionScreenPopCompleted(t.id,"screenData")){var r=null===(n=t.screenPopData)||void 0===n?void 0:n.screenData;(0,R.assertDefined)(r);var a=e.getCurrentIntegrationKey();a&&(e.integrationApiConnector.dispatch.showScreen(r[a],t.id),e.markInteractionScreenPopAsCompleted(t.id,"screenData"))}})),G(F(e),"handleCrmScreenPop",(function(t,n){var r,a=e.getCurrentIntegrationKey();if(a){var o=null===(r=t.screenPopData)||void 0===r?void 0:r[a];!o||o.popUponAnswer&&"delivered"!==t.state&&!(null==n?void 0:n.ignorePopUponAnswer)||("SHOW_OBJECT"===o.action?e.screenPopCrmRecord({itemId:t.id,recordId:o.objectId,recordType:o.objectType,crmSource:o.type,inNewTab:o.newTab}):"SHOW_QUERY_RESULTS"===o.action&&e.integrationApiConnector.dispatch.searchRecords({text:o.statement,types:[o.objectType]},t.id,o.newTab),e.markInteractionScreenPopAsCompleted(t.id,o.type))}})),G(F(e),"handleRemoteAssist",(function(t,n){var r;if(!e.checkIfInteractionScreenPopCompleted(t.id,"nativeremoteassist")){var a=null===(r=t.screenPopData)||void 0===r?void 0:r.nativeremoteassist;(0,R.assertDefined)(a),!a.pin||a.popUponAnswer&&"delivered"!==t.state&&!(null==n?void 0:n.ignorePopUponAnswer)||(e.interactionStateConnector.dispatch.delegateRASessionStart(t.id,a.pin),e.markInteractionScreenPopAsCompleted(t.id,"nativeremoteassist"))}})),G(F(e),"handleDirectChatScreenPop",(function(t){var n,r,a,o,i=null===(n=t.externalChatData)||void 0===n?void 0:n.directChat;if(i){var s,c=e.getCurrentIntegrationKey();if((null===(r=i.params)||void 0===r?void 0:r.crmType)===c&&(null===(a=i.params)||void 0===a?void 0:a.crmObjectId))e.screenPopCrmRecord({itemId:t.id,recordId:i.params.crmObjectId,recordType:null!==(s=i.params.crmObjectType)&&void 0!==s?s:"",crmSource:i.params.crmType,inNewTab:!1});null===(o=i.params)||void 0===o||o.crmType,e.markInteractionScreenPopAsCompleted(t.id,"directChat")}}));var t,n=F(e);G(F(e),"createProfileTab",(t=U((function(e){var t,r,a,o,i,s;return te(this,(function(c){switch(c.label){case 0:return n.checkIfInteractionScreenPopCompleted(e.id,"profile")?[2]:e.contactId?(t=n.sessionConnector.getStateData(),r=t.serverOrigin,a=t.displayNameFormat,[4,(0,E.fetchContact)({id:e.contactId},r)]):[2];case 1:return o=J.apply(void 0,[c.sent(),1]),i=o[0],s={id:e.contactId,title:(0,O.formatFullName)(a,i.firstName,i.lastName),type:"profile",contactId:e.contactId},n.updateTabs(e.id,[s]),n.markInteractionScreenPopAsCompleted(e.id,"profile"),[2]}}))})),function(e){return t.apply(this,arguments)})),G(F(e),"createCaseTab",(function(t){var n,r,a;if(!e.checkIfInteractionScreenPopCompleted(t.id,"case")&&(null===(n=t.emailData)||void 0===n?void 0:n.caseId)&&(null===(r=t.emailData)||void 0===r?void 0:r.caseNumber)){var o={id:t.emailData.caseId,type:"case",title:String(null==t||null===(a=t.emailData)||void 0===a?void 0:a.caseNumber),caseId:t.emailData.caseId,caseNumber:t.emailData.caseNumber};e.updateTabs(t.id,[o]),e.markInteractionScreenPopAsCompleted(t.id,"case")}}));var r=F(e);return G(F(e),"createActivityFormTab",function(){var e=U((function(e){var t,n,a,o,i,s,c,u;return te(this,(function(l){switch(l.label){case 0:return r.checkIfInteractionScreenPopCompleted(e.id,"activityForm")?[2]:[4,r.interactionStateConnector.dispatch.fetchFormDefinition(e)];case 1:return a=l.sent(),o=null==a?void 0:a.find((function(e){return"SCREENPOP"===e.type})),i=(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.screenpopFormEnabled)||(null==e||null===(n=e.workitemData)||void 0===n?void 0:n.screenpopFormEnabled),o&&i?(s={id:"".concat(e.id,"_activityForm"),type:"activityForm",title:o.name||""},c=r.interactionStateConnector.getStateData().items,u=c.find((function(t){var n,r;return(null===(n=t.workitemData)||void 0===n?void 0:n.id)===(null===(r=e.workitemData)||void 0===r?void 0:r.id)&&t.id!==e.id})),u&&r.updateTabs(u.id,[s]),!!c.find((function(t){return t.id===e.id}))?(r.updateTabs(e.id,[s]),r.markInteractionScreenPopAsCompleted(e.id,"activityForm"),[2]):[2]):[2]}}))}));return function(t){return e.apply(this,arguments)}}()),G(F(e),"removeInteractionScreenPops",(function(t){var n;null===(n=e.windowsToClose[t.id])||void 0===n||n.forEach((function(e){return e.close()})),delete e.windowsToClose[t.id],e.produceState((function(e){delete e.openedScreenPopTabs[t.id]}))})),G(F(e),"updateTabs",(function(t,n){e.produceState((function(e){var r=X(e.openedScreenPopTabs[t]||[]);n.forEach((function(e){var t=r.findIndex((function(t){return t.id===e.id}));-1!==t?r[t]=e:r.push(e)})),e.openedScreenPopTabs[t]=r}))})),G(F(e),"removeTab",(function(t,n){e.produceState((function(e){var r=(e.openedScreenPopTabs[t]||[]).filter((function(e){return e.id!==n}));e.openedScreenPopTabs[t]=r}))})),G(F(e),"checkIfInteractionScreenPopCompleted",(function(t,n){var r;return!!(null===(r=e.stateData.completedScreenPopsMap[t])||void 0===r?void 0:r[n])})),G(F(e),"markInteractionScreenPopAsCompleted",(function(t,n){e.produceState((function(e){e.completedScreenPopsMap[t]=z(W({},e.completedScreenPopsMap[t]||{}),G({},n,!0))}))})),G(F(e),"getCurrentIntegrationKey",(function(){return e.integrationApiConnector.getStateData().integrationKey})),G(F(e),"hasOpenedADTab",(function(){var t=e.tabsConnector.getStateData().tabs;return!!Object.values(t).find((function(e){return"ad"===e.app}))})),G(F(e),"hasTabWithActiveIntegrationApi",(function(){var t=e.tabsConnector.getStateData().tabs;return!!Object.values(t).find((function(e){return e.activeApi}))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.interactionStateConnector.dispenser.subscribe({onNewItem:this.handleScreenPops,onItemDelivered:this.handleScreenPops,onNewItemDelivered:this.handleScreenPops,onItemRemoved:this.removeInteractionScreenPops}),this.bpClientStateConnector.dispenser.subscribe({onTriggerScreenPop:this.handleScreenPops}),this.fromClientDispenser.subscribe({showAllScreenPops:function(t){return e.handleScreenPops(t,{ignorePopUponAnswer:!0})},addTabs:this.updateTabs,removeTab:this.removeTab}))}},{key:"isDialedWorkitem",value:function(e){return"voice"===e.mediaType&&e.workitemData}},{key:"runCRMCommand",value:function(e,t){var n,r=this.getCurrentIntegrationKey(),a={id:(n=t.match(/^SHOW_OBJECT:([0-9a-fA-F-]+)(:([a-zA-Z]+))?$/)||[])[1],type:n[3]},o=a.id,i=a.type;if(o)return this.screenPopCrmRecord({itemId:e,recordId:o,recordType:i,crmSource:r,inNewTab:!1}),!0;var s=function(e){var t=M(e.match(/^SHOW_QUERY_RESULTS:([a-zA-Z0-9 '-]+)$/)||[],2);return t[0],t[1]}(t);return!!s&&(this.integrationApiConnector.dispatch.searchRecords({text:s,types:[]},e,!1),!0)}},{key:"cleanup",value:function(){H(V(o.prototype),"cleanup",this).call(this),this.windowsToClose={}}},{key:"resetState",value:function(){H(V(o.prototype),"resetState",this).call(this),this.windowsToClose={}}}])&&q(t.prototype,n),r&&q(t,r),o}(k.StateFactory.createBaseStateClass({name:"screenPopState",controlEvents:P,trackerEvents:A,options:{synchronized:!0,authorized:!0},dependencies:["interactionStateConnector","bpClientStateConnector","tabsConnector","currentTabDataProvider","integrationApiConnector","sessionConnector","localizationConnector"],getInitialState:function(){return{openedScreenPopTabs:{},waitingInteractionScreenPopCounts:{},completedScreenPopsMap:{}}}})),re=n(99698),ae=n(7630),oe=n(91786),ie=n(1514),se=n(2294),ce=n(82915),ue=n(26082),le=n(82263),de=n(10278),_e={onInitialState:(0,D.event)(),onChange:(0,D.event)()},fe={createNewCalendar:(0,D.event)(),updateCalendar:(0,D.event)(),deleteCalendar:(0,D.event)(),updateLocaleSettings:(0,D.event)(),updateAvailabilitySettings:(0,D.event)(),changeCalendarPublish:(0,D.event)(),changeCalendarColor:(0,D.event)()},pe=n(12018),me=function(){return pe.A.getLocaleSettings()},ge=function(e){return pe.A.upsertLocaleSettings({body:e})},he=function(){return pe.A.getAvailabilitySettings()},ve=function(e){return pe.A.upsertAvailabilitySettings({body:e})},ye=function(e){return pe.A.createNewCalendar({body:e})},be=function(e,t){return pe.A.updateCalendar({calendarId:e,body:t})},Se=function(e){return pe.A.deleteCalendar({calendarId:e})},Ce=function(e,t){return pe.A.changeCalendarPublish({calendarId:e,body:t})},Ie=function(e,t){return pe.A.changeColorCalendar({calendarId:e,body:t})};function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ee(o,r,a,i,s,"next",e)}function s(e){Ee(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}function Re(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?we(e):t;var n}function ke(e,t){return ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ke(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var a=Pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Re(this,n)}}function Me(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(o,e);var t,n,r,a=Ne(o);function o(){var e;Te(this,o);var t=we(e=a.apply(this,arguments));return Ae(we(e),"getData",Oe((function(){return Me(this,(function(e){switch(e.label){case 0:return[4,Promise.all([t.getLocaleSettings(),t.getAvailabilitySettings()])];case 1:return e.sent(),[2]}}))}))),Ae(we(e),"getLocaleSettings",(function(){me().then((function(t){e.produceState((function(e){e.locale=t}))}))})),Ae(we(e),"getAvailabilitySettings",(function(){he().then((function(t){e.produceState((function(e){e.availability=t}))}))})),Ae(we(e),"updateLocaleSettings",(function(t){ge(t).then((function(t){e.produceState((function(e){e.locale=t}))}))})),Ae(we(e),"updateAvailabilitySettings",(function(t){ve(t).then((function(t){e.produceState((function(e){e.availability=t}))}))})),Ae(we(e),"createNewCalendar",(function(e){return ye(e)})),Ae(we(e),"updateCalendar",(function(e,t){return be(e,t)})),Ae(we(e),"deleteCalendar",(function(e){return Se(e)})),Ae(we(e),"changeCalendarPublish",(function(e,t){return Ce(e,t)})),Ae(we(e),"changeCalendarColor",(function(e,t){return Ie(e,t)})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({createNewCalendar:this.createNewCalendar,updateCalendar:this.updateCalendar,deleteCalendar:this.deleteCalendar,updateLocaleSettings:this.updateLocaleSettings,updateAvailabilitySettings:this.updateAvailabilitySettings,changeCalendarPublish:this.changeCalendarPublish,changeCalendarColor:this.changeCalendarColor}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.getData()},onLogin:function(){e.getData()}}))}}])&&De(t.prototype,n),r&&De(t,r),o}(k.StateFactory.createBaseStateClass({name:"calendarSettingsState",controlEvents:fe,trackerEvents:_e,options:{synchronized:!0,authorized:!0},dependencies:["sessionConnector"],getInitialState:function(){return{saving:!1}}})),xe=n(54865),Le=n(18189),Ke=n(32669),Fe=[["inCallsHandledPerDay","in_calls_handled_per_day"],["inCallsRejectedPerDay","in_calls_rejected_per_day"],["outCallsRejectedPerDay","out_calls_rejected_per_day"],["outCallsHandledPerDay","out_calls_handled_per_day"],["agentOccupancy","agent_occupancy"],["loginTime","login_time"],["agentAverageIdleTime","agent_average_idle_time"],["agentAveragePreviewTime","agent_average_preview_time"],["recordsSkippedRatioPerDay","records_skipped_ratio_per_day"],["recordsAcceptedPerDay","records_accepted_per_day"],["recordsSkippedPerDay","records_skipped_per_day"],["outCallsTransferredPerDay","out_calls_transferred_per_day"],["outCallsDroppedTalkingPerDay","out_calls_dropped_talking_per_day"],["outCallsDisconnectedTalkingPerDay","out_calls_disconnected_talking_per_day"],["inEmailCarriedOver","in_email_carried_over"],["inEmailCarriedOverNew","in_email_carried_over_new"],["inEmailOfferedPerDay","in_email_offered_per_day"],["inEmailPulledPerDay","in_email_pulled_per_day"],["inEmailProcessedRepliedPerDay","in_email_processed_replied_per_day"],["inEmailProcessedNoreplyPerDay","in_email_processed_noreply_per_day"],["inEmailWaitingInPersonalQueues","in_email_waiting_in_personal_queues"],["inEmailWaitingInPqBreachedSla","in_email_waiting_in_pq_breached_sla"],["inEmailHandledNewPerDay","in_email_handled_new_per_day"],["inEmailRejectedPerDay","in_email_rejected_per_day"],["inEmailsJoinedExistingCases","in_emails_joined_existing_cases"],["outEmailWaitingInPersonalQueues","out_email_waiting_in_personal_queues"],["inCallsTransferredPerDay","in_calls_transferred_per_day"],["inCallsFirstTimeHandledPerDay","in_calls_first_time_handled_per_day"],["inTransfersReceivedPerDay","in_transfers_received_per_day"],["inCallsDurationAveragePerDay","in_calls_duration_average_per_day"],["inCallsDurationTotalPerDay","in_calls_duration_total_per_day"],["callsAverageHandlingTimePerDay","calls_average_handling_time_per_day"],["callsAverageAcwTimePerDay","calls_average_acw_time_per_day"],["inCallsPutOnHoldPerDay","in_calls_put_on_hold_per_day"],["inCallsFirstTimePutOnHoldPerDay","in_calls_first_time_put_on_hold_per_day"],["agentFcr","agent_fcr"],["agentNps","agent_nps"],["agentCsat","agent_csat"],["agentCm1","agent_cm1"],["agentCm2","agent_cm2"],["agentTotalReadyTime","agent_total_ready_time"]],$e=(Fe.map((function(e){return e[0]})),["item_id","media_type","direction"]);function Ue(e){return!!e&&((null==e?void 0:e.isDefault)||!1)}var Be=n(64245),qe={onInitialState:(0,Be.event)(),onChange:(0,Be.event)()},Ge={getConfigs:(0,Be.asyncEvent)(),createConfig:(0,Be.asyncEvent)(),duplicateConfig:(0,Be.asyncEvent)(),deleteConfig:(0,Be.asyncEvent)(),updateConfig:(0,Be.asyncEvent)(),updateConfigOwnership:(0,Be.asyncEvent)(),toggleConfigIsGlobal:(0,Be.asyncEvent)(),subscribeForAgentStats:(0,Be.event)(),unsubscribeFromAgentStats:(0,Be.event)(),subscribeForServiceStats:(0,Be.event)(),unsubscribeFromServicesStats:(0,Be.event)(),subscribeForTeamStats:(0,Be.event)(),unsubscribeFromTeamStats:(0,Be.event)()},He={team:{id:void 0,includeLoggedOutUsers:!1,fields:[]},user:{id:void 0,fields:[]},service:{teamId:void 0,fields:[]}},Ve=n(40381),We=n(50944),ze=n(68939);function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t,n){return Qe=nt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&et(a,n.prototype),a},Qe.apply(null,arguments)}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}function Ze(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Ye(e):t;var n}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t="function"==typeof Map?new Map:void 0;return tt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Qe(e,arguments,Xe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),et(r,e)},tt(e)}function nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(a,e);var t,n,r=(t=a,n=nt(),function(){var e,r=Xe(t);if(n){var a=Xe(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Ze(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Je(Ye(o=r.call(this,n)),"url",void 0),Je(Ye(o),"status",void 0),Je(Ye(o),"statusText",void 0),Je(Ye(o),"body",void 0),Je(Ye(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(tt(Error));function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t,n){return ot=ft()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&dt(a,n.prototype),a},ot.apply(null,arguments)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}function lt(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function dt(e,t){return dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dt(e,t)}function _t(e){var t="function"==typeof Map?new Map:void 0;return _t=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ot(e,arguments,ut(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dt(r,e)},_t(e)}function ft(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,e);var t,n,r=(t=a,n=ft(),function(){var e,r=ut(t);if(n){var a=ut(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return lt(this,e)});function a(e){var t;return at(this,a),(t=r.call(this,e)).name="CancelError",t}return st(a,[{key:"isCancelled",get:function(){return!0}}]),a}(_t(Error)),mt=Symbol.toStringTag,gt=function(){function e(t){var n=this;at(this,e),ct(this,mt,void 0),ct(this,"_isResolved",void 0),ct(this,"_isRejected",void 0),ct(this,"_isCancelled",void 0),ct(this,"_cancelHandlers",void 0),ct(this,"_promise",void 0),ct(this,"_resolve",void 0),ct(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return st(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(s){return void console.warn("Cancellation threw an error",s)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new pt("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),ht={BASE:"",VERSION:"1.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function bt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){yt(o,r,a,i,s,"next",e)}function s(e){yt(o,r,a,i,s,"throw",e)}i(void 0)}))}}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){St(e,t,n[t])}))}return e}function It(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ot,Tt=function(e){return null!=e},Dt=function(e){return"string"==typeof e},At=function(e){return Dt(e)&&""!==e},Pt=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},Rt=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},kt=function(e){var t=[],n=function(e,r){Tt(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=wt(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=wt(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},Nt=(Ot=bt((function(e,t){return Et(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return Ot.apply(this,arguments)}),Mt=function(){var e=bt((function(e,t){var n,r,a,o,i,s;return Et(this,(function(c){switch(c.label){case 0:return[4,Nt(t,e.TOKEN)];case 1:return n=c.sent(),[4,Nt(t,e.USERNAME)];case 2:return r=c.sent(),[4,Nt(t,e.PASSWORD)];case 3:return a=c.sent(),[4,Nt(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(Ct({Accept:"application/json"},o,t.headers)).filter((function(e){var t=wt(e,2),n=(t[0],t[1]);return Tt(n)})).reduce((function(e,t){var n=wt(t,2),r=n[0],a=n[1];return It(Ct({},e),St({},r,String(a)))}),{}),At(n)&&(i.Authorization="Bearer ".concat(n)),At(r)&&At(a)&&(s=function(e){try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:Pt(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":Dt(t.body)?i["Content-Type"]="text/plain":Rt(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),jt=function(){var e=bt((function(e,t,n,r,a,o,i){var s,c;return Et(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),xt=function(){var e=bt((function(e){var t,n;return Et(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),Lt=function(e,t){return new gt(function(){var n=bt((function(n,r,a){var o,i,s,c,u,l,d,_,f;return Et(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(kt(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){Dt(n)||Pt(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=wt(e,2),n=(t[0],t[1]);return Tt(n)})).forEach((function(e){var t=wt(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):Dt(e.body)||Pt(e.body)||Rt(e.body)?e.body:JSON.stringify(e.body)}(t),[4,Mt(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,jt(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,xt(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(Dt(n))return n}}(u,t.responseHeader),_={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=Ct({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new rt(e,t,n);if(!t.ok)throw new rt(e,t,"Generic Error")}(t,_),n(_.body),p.label=4;case 4:return[3,6];case 5:return f=p.sent(),r(f),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getConfigs",value:function(){return Lt(ht,{method:"GET",url:"/newadws/api/v1/hp/getConfigs"})}},{key:"createConfig",value:function(e){var t=e.requestBody;return Lt(ht,{method:"POST",url:"/newadws/api/v1/hp/addConfig",body:t,mediaType:"application/json"})}},{key:"updateConfig",value:function(e){var t=e.requestBody;return Lt(ht,{method:"PUT",url:"/newadws/api/v1/hp/updateConfig",body:t,mediaType:"application/json"})}},{key:"deleteConfig",value:function(e){var t=e.configId;return Lt(ht,{method:"DELETE",url:"/newadws/api/v1/hp/deleteConfig/{configId}",path:{configId:t}})}}],(n=null)&&Kt(t.prototype,n),r&&Kt(t,r),e}();function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var qt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ut(this,"subscriptions",{})}var t,n,r;return t=e,n=[{key:"addSubscription",value:function(e,t){this.subscriptions[e]=Bt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ut(e,t,n[t])}))}return e}({},this.subscriptions[e]),Ut({},t,!0))}},{key:"hasSubscription",value:function(e,t){var n;return Boolean(null===(n=this.subscriptions[e])||void 0===n?void 0:n[t])}},{key:"removeSubscription",value:function(e){delete this.subscriptions[e]}},{key:"clean",value:function(){this.subscriptions={}}}],n&&$t(t.prototype,n),r&&$t(t,r),e}();function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wt(e,t,n[t])}))}return e}function Yt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Qt(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ht(this,e),Wt(this,"services",{}),Wt(this,"subscriptionFields",{}),Wt(this,"getUserSubscriptionIds",(function(){var e=Object.values(t.subscriptionFields).reduce((function(e,t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)&&e.add(t.user.id),e}),new Set);return Array.from(e).map((function(e){return"STATS:".concat(e)}))})),Wt(this,"getTeamSubscriptionIds",(function(){var e=Object.values(t.subscriptionFields).reduce((function(e,t){var n;return(null===(n=t.team)||void 0===n?void 0:n.id)&&e.add(t.team.id),e}),new Set);return Array.from(e).map((function(e){return"AGENT_HOME_PAGE_TEAM:".concat(e)}))})),Wt(this,"getServices",(function(){return t.services})),Wt(this,"saveServices",(function(e,n){t.services[e]=n})),Wt(this,"intializeTabFields",(function(e){t.subscriptionFields[e]||(t.subscriptionFields[e]=He),(0,R.assertDefined)(t.subscriptionFields[e])})),this.subscriptionFields=n,this.services=r}var t,n,r;return t=e,(n=[{key:"clean",value:function(){this.services={},this.subscriptionFields={}}},{key:"copy",value:function(){return new e(this.subscriptionFields)}},{key:"getServicesByTeamId",value:function(e){return this.services[e]}},{key:"getSubscriptionFields",value:function(e){return this.subscriptionFields[e]}},{key:"addUserFields",value:function(e,t,n){this.intializeTabFields(t),this.subscriptionFields[t]=Yt(zt({},this.subscriptionFields[t]),{user:{id:e,fields:n}})}},{key:"removeUserFields",value:function(e){this.subscriptionFields[e]=Yt(zt({},this.subscriptionFields[e]),{user:He.user})}},{key:"addServiceFields",value:function(e,t,n){this.intializeTabFields(t),this.subscriptionFields[t]=Yt(zt({},this.subscriptionFields[t]),{service:{teamId:e,fields:n}})}},{key:"removeServiceFields",value:function(e){this.subscriptionFields[e]=Yt(zt({},this.subscriptionFields[e]),{service:He.service})}},{key:"addTeamFields",value:function(e,t,n){this.intializeTabFields(t),this.subscriptionFields[t]=Yt(zt({},this.subscriptionFields[t]),{team:{id:e,includeLoggedOutUsers:!1,fields:n}})}},{key:"removeTeamFields",value:function(e){this.subscriptionFields[e]=Yt(zt({},this.subscriptionFields[e]),{team:He.team})}},{key:"getUserFieldsById",value:function(){return Object.values(this.subscriptionFields).reduce((function(e,t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)&&t.user.fields&&(e[t.user.id]||(e[t.user.id]=[]),e[t.user.id]=Array.from(new Set(Qt(e[t.user.id]).concat(Qt(t.user.fields))))),e}),{})}},{key:"getServiceFieldsByTeamId",value:function(){return Object.values(this.subscriptionFields).reduce((function(e,t){return t.service.teamId&&t.service.fields&&(e[t.service.teamId]||(e[t.service.teamId]=[]),e[t.service.teamId]=Array.from(new Set(Qt(e[t.service.teamId]).concat(Qt(t.service.fields))))),e}),{})}},{key:"getTeamFieldsById",value:function(){return Object.values(this.subscriptionFields).reduce((function(e,t){var n;if((null===(n=t.team)||void 0===n?void 0:n.id)&&t.team.fields){e[t.team.id]||(e[t.team.id]={id:t.team.id,fields:[],includeLoggedOutUsers:t.team.includeLoggedOutUsers});var r=e[t.team.id];r.fields=Array.from(new Set(Qt(r.fields).concat(Qt(t.team.fields)))),r.includeLoggedOutUsers=t.team.includeLoggedOutUsers||r.includeLoggedOutUsers}return e}),{})}}])&&Vt(t.prototype,n),r&&Vt(t,r),e}();function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e){return Fe.reduce((function(t,n){var r=Zt(n,2),a=r[0],o=r[1];return t[a]=void 0!==e[o]?(0,Ve.unstringifyNumber)(e[o]):-1,t}),{})}function tn(e){var t=Fe.find((function(t){return t[0]===e}));return(0,R.assertDefined)(t),t[1]}function nn(e){var t=new Set(["user_id"]);return t.add("extension"),e.forEach((function(e){switch(e.name){case"name":t.add("firstname"),t.add("lastname");break;case"stateDuration":t.add("state_duration");break;case"reason":t.add("reason");break;case"nextReason":t.add("next_reason");break;case"acdState":t.add("acd_state"),t.add("items"),t.add("presence_state"),t.add("is_agent"),t.add("is_logged");break;case"acdNextState":t.add("acd_next_state"),t.add("is_agent"),t.add("is_logged")}})),Array.from(t)}function rn(e){return{id:"service_id",name:"name",inCallsWaiting:"in_calls_waiting",inMaxWaitTime:"in_max_wait_time",serviceLevel:"service_level",agentsReady:"agents_ready",agentsLogged:"agents_logged",serviceLevelPerDay:"service_level_per_day",inCallsHandledPerDay:"in_calls_handled_per_day",inCallsAbandonedInQueuePerDay:"in_calls_abandoned_in_queue_per_day",inEwt:"in_ewt",inAverageSpeedOfAnswer:"in_average_speed_of_answer",callsAverageHandlingTimePerDay:"calls_average_handling_time_per_day",outCallsHandledPerDay:"out_calls_handled_per_day",outCallsUnattendedPerDay:"out_calls_unattended_per_day",outCallsUnattendedRatioPerDay:"out_calls_unattended_ratio_per_day"}[e]}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){sn(o,r,a,i,s,"next",e)}function s(e){sn(o,r,a,i,s,"throw",e)}i(void 0)}))}}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t,n){return _n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fn(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},_n(e,t,n||e)}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fn(e)}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dn(e,t,n[t])}))}return e}function mn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function gn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hn(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?on(e):t;var n}function vn(e,t){return vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vn(e,t)}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Sn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e){return function(e){if(Array.isArray(e))return an(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){if(e){if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var a=fn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return hn(this,n)}}function In(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(o,e);var t,n,r,a=Cn(o);function o(){var e;un(this,o),dn(on(e=a.apply(this,arguments)),"serviceStatsSubscriptionInterval",null),dn(on(e),"pendingTeamStatsSubscriptions",new qt),dn(on(e),"pendingServicesSubscriptions",new qt),dn(on(e),"subscriptionManager",new Jt);var t=on(e);dn(on(e),"getConfigs",cn((function(){var e,n;return In(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ft.getConfigs()];case 1:return e=r.sent(),t.produceState((function(t){t.configs=e})),[3,3];case 2:return n=r.sent(),v.bpLogger.error(n),[3,3];case 3:return[2]}}))})));var n=on(e);dn(on(e),"createConfig",function(){var e=cn((function(e){var t,r;return In(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ft.createConfig({requestBody:e})];case 1:return t=a.sent(),n.produceState((function(e){e.configs.push(t)})),[2,t];case 2:throw r=a.sent(),v.bpLogger.error(r),r;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var r=on(e);dn(on(e),"updateConfigOwnership",function(){var e=cn((function(e,t){var n;return In(this,(function(a){switch(a.label){case 0:return!(n=r.stateData.configs.find((function(t){return t.id===e})))||Ue(n)?[2]:[4,r.updateConfigBase(mn(pn({},n),{teamOwners:t}))];case 1:return a.sent(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var i=on(e);dn(on(e),"toggleConfigIsGlobal",function(){var e=cn((function(e){var t;return In(this,(function(n){switch(n.label){case 0:return!(t=i.stateData.configs.find((function(t){return t.id===e})))||Ue(t)?[2]:[4,i.updateConfigBase(mn(pn({},t),{isGlobal:!t.isGlobal}))];case 1:return n.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var s=on(e);dn(on(e),"updateConfig",function(){var e=cn((function(e){var t,n,r;return In(this,(function(a){switch(a.label){case 0:return(t=s.stateData.configs.find((function(t){return e.isDefault?t.isDefault:t.id===e.id})))?!(n=pn({},t,e)).isDefault||n.id?[3,2]:(n.id,r=gn(n,["id"]),[4,s.createConfig(r)]):[2];case 1:case 3:return a.sent(),[2];case 2:return[4,s.updateConfigBase(n)]}}))}));return function(t){return e.apply(this,arguments)}}());var c=on(e);dn(on(e),"duplicateConfig",function(){var e=cn((function(e){var t,n;return In(this,(function(r){switch(r.label){case 0:if(!(t=c.stateData.configs.find((function(t){return t.id===e}))))throw new Error("Couldn't find the configId=\"".concat(e,'" in state'));return t.id,n=gn(t,["id"]),[4,c.createConfig(n)];case 1:return[2,r.sent()]}}))}));return function(t){return e.apply(this,arguments)}}());var u=on(e);dn(on(e),"deleteConfig",function(){var e=cn((function(e){var t;return In(this,(function(n){switch(n.label){case 0:if(Ue(u.stateData.configs.find((function(t){return t.id===e}))))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ft.deleteConfig({configId:e})];case 2:return n.sent(),u.produceState((function(t){t.configs=t.configs.filter((function(t){return t.id!==e}))})),[3,4];case 3:throw t=n.sent(),v.bpLogger.error(t),t;case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var l=on(e);dn(on(e),"updateConfigBase",function(){var e=cn((function(e){var t,n;return In(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ft.updateConfig({requestBody:e})];case 1:return t=r.sent(),l.produceState((function(e){var n,r=null===(n=e.configs)||void 0===n?void 0:n.findIndex((function(e){return e.id===t.id}));void 0!==r&&-1!==r&&(e.configs[r]=t)})),[3,3];case 2:throw n=r.sent(),v.bpLogger.error(n),n;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),dn(on(e),"onIncomingAgentUsersDetails",(function(t){var n=t.type.startsWith("MY_TEAM"),r=t.type.startsWith("STATS");n&&e.onTeamStatsSubscription(t),r&&e.onAgentStatsSubscription(t)})),dn(on(e),"onTeamStatsSubscription",(function(t){var n=e.sessionConnector.getStateData().displayNameFormat,r=t.type.split(":")[1];e.produceState((function(e){e.subscriptionData.team[r]||(e.subscriptionData.team[r]={}),e.subscriptionData.team[r].isLoading=!1,e.subscriptionData.team[r].myTeamUserDetails=(0,We.convertKVArray)(t.users,(function(e){var t=pn({},(0,Ke.convertUserDetailsItem)(e));return Object.assign(t,{name:(0,O.formatFullName)(n,t.firstName,t.lastName)}),delete t.firstName,delete t.lastName,t})).sort((function(e){return e.isLogged?-1:1}))}))})),dn(on(e),"onAgentStatsSubscription",(function(t){var n=t.users[0];if((0,Le.isRegularUserDetails)(n)){var r=t.type.split(":")[1];e.produceState((function(e){e.subscriptionData.user[r]||(e.subscriptionData.user[r]={});var t=e.subscriptionData.user[r];t.isLoading=!1,t.myStatsDetails=en(n),t.agentTotalBreakTime=(0,Ve.unstringifyNumber)(n.agent_total_break_time)}))}})),dn(on(e),"subscribeForAgentStats",(function(t,n,r){var a,o=e.subscriptionManager.getUserFieldsById()[n],i=(a=new Set,function e(t){t.forEach((function(t){switch(t.type){case"BREAK_TIME_REMAINING":a.add("agent_total_break_time"),a.add("extension");break;case"MY_STATS":t.fields.map((function(e){return tn(e.name)})).forEach((function(e){return a.add(e)})),a.add("extension");break;case"FLIPPING":e(t.widgets)}}))}(t.widgets),Array.from(a));if((null==o?void 0:o.sort().join())!==i.sort().join()&&(e.unsubscribeFromAgentStats(r),i.length)){e.subscriptionManager.addUserFields(n,r,i);var s=e.subscriptionManager.getUserFieldsById();e.sendSubscribeForAgentStatsRequest(n,s[n])}})),dn(on(e),"sendSubscribeForAgentStatsRequest",(function(t,n){n.length&&(e.produceState((function(e){e.subscriptionData.user[t]||(e.subscriptionData.user[t]={}),e.subscriptionData.user[t].isLoading=!0})),e.transport.dispatch.agent_subscribe_users_details({users:(0,We.toKVArray)([t]),type:"STATS:".concat(t),user_fields:(0,We.toKVArray)(n)}))})),dn(on(e),"subscribeForServiceStats",(function(t,n,r){var a,o=e.subscriptionManager.getServiceFieldsByTeamId()[n],i=(a=new Set,function e(t){t.forEach((function(t){switch(t.type){case"MY_SERVICES":a.add("service_id"),a.add("name"),t.fields.map((function(e){return rn(e.name)})).forEach((function(e){return a.add(e)}));break;case"FLIPPING":e(t.widgets)}}))}(t.widgets),Array.from(a));(null==o?void 0:o.sort().join())!==i.sort().join()&&(e.unsubscribeFromServicesStats(r,!1),e.produceState((function(e){e.subscriptionData.service[n]||(e.subscriptionData.service[n]={}),e.subscriptionData.service[n].isLoading=!0})),e.subscriptionManager.addServiceFields(n,r,i),e.startServiceSubscription())}));var d=on(e);dn(on(e),"startServiceSubscription",cn((function(){var e,t,n,r;return In(this,(function(a){switch(a.label){case 0:return e=d.subscriptionManager.getServiceFieldsByTeamId(),t=function(){var t=cn((function(){var t,n;return In(this,(function(r){switch(r.label){case 0:return t=[],(0,R.typedKeys)(e).forEach(function(){var e=cn((function(e){return In(this,(function(n){return t.push(d.requestServices(e)),[2]}))}));return function(t){return e.apply(this,arguments)}}()),[4,Promise.all(t)];case 1:return n=R.truthy.apply(void 0,[r.sent().flat()]),[2,Array.from(new Set(n))]}}))}));return function(){return t.apply(this,arguments)}}(),[4,t()];case 1:return n=a.sent(),r=Array.from(new Set(Object.values(e).flat())),d.serviceStatsSubscriptionInterval=setInterval((function(){r&&d.transport.dispatch.agent_get_services_details({services:(0,We.toKVArray)(n),service_fields:(0,We.toKVArray)(r)}).then(d.onServicesStats)}),5e3),[2]}}))}))),dn(on(e),"onServicesStats",(function(t){var n=(0,We.convertKVArray)(t.services,(function(e){var t,n,r,a,o,i,s;return{id:e.service_id,agentsLogged:Number(null!==(t=e.agents_logged)&&void 0!==t?t:0),agentsReady:Number(null!==(n=e.agents_ready)&&void 0!==n?n:0),callsAverageHandlingTimePerDay:e.calls_average_handling_time_per_day,inAverageSpeedOfAnswer:e.in_average_speed_of_answer,inCallsAbandonedInQueuePerDay:Number(null!==(r=e.in_calls_abandoned_in_queue_per_day)&&void 0!==r?r:0),inCallsHandledPerDay:Number(null!==(a=e.in_calls_handled_per_day)&&void 0!==a?a:0),inCallsWaiting:Number(null!==(o=e.in_calls_waiting)&&void 0!==o?o:0),inEwt:e.in_ewt,inMaxWaitTime:e.in_max_wait_time,name:e.name,outCallsHandledPerDay:Number(null!==(i=e.out_calls_handled_per_day)&&void 0!==i?i:0),outCallsUnattendedPerDay:Number(null!==(s=e.out_calls_unattended_per_day)&&void 0!==s?s:0),outCallsUnattendedRatioPerDay:e.out_calls_unattended_ratio_per_day,serviceLevel:e.service_level,serviceLevelPerDay:e.service_level_per_day}})).reduce((function(e,t){return e[t.id]=t,e}),{}),r=e.subscriptionManager.getServices(),a=Object.entries(r).reduce((function(e,t){var r=yn(t,2),a=r[0],o=r[1];return e[a]={myServicesDetails:[],isLoading:!1},e[a].myServicesDetails=o.map((function(e){return n[e]})).filter(Boolean),e}),{});e.produceState((function(e){e.subscriptionData.service||(e.subscriptionData.service={}),e.subscriptionData.service=a}))}));var _=on(e);dn(on(e),"requestServices",function(){var e=cn((function(e){var t,n,r,a,o,i;return In(this,(function(s){switch(s.label){case 0:return(t=_.subscriptionManager.getServicesByTeamId(e))?[2,t]:(n=(0,ze.uuid)(),_.pendingServicesSubscriptions.addSubscription(e,n),[4,_.transport.dispatch.agent_service_info_by_team({team_id:e})]);case 1:return r=s.sent(),a=r.result,i=null!==(o=null==a?void 0:a.map((function(e){return e.id})))&&void 0!==o?o:[],_.subscriptionManager.saveServices(e,i),_.pendingServicesSubscriptions.hasSubscription(e,n)?[2,i]:[2]}}))}));return function(t){return e.apply(this,arguments)}}());var f=on(e);dn(on(e),"subscribeForTeamStats",function(){var e=cn((function(e,t,n){var r,a,o,i;return In(this,(function(s){switch(s.label){case 0:return r=f.subscriptionManager.getTeamFieldsById()[t],c=new Set,function e(t){t.forEach((function(t){switch(t.type){case"MY_TEAM":nn(t.fields).forEach((function(e){return c.add(e)}));break;case"FLIPPING":e(t.widgets)}}))}(e.widgets),a=Array.from(c),(null==r?void 0:r.fields.sort().join())===a.sort().join()?[2]:(f.unsubscribeFromTeamStats(n,!1),f.subscriptionManager.addTeamFields(t,n,a),[4,f.requestTeams(n,Object.keys(f.subscriptionManager.getTeamFieldsById()))]);case 1:return(o=s.sent())?(i=f.subscriptionManager.getTeamFieldsById(),f.sendSubscribeForTeamStatsRequest(o,i),[2]):[2]}var c}))}));return function(t,n,r){return e.apply(this,arguments)}}());var p=on(e);dn(on(e),"requestTeams",function(){var e=cn((function(e,t){var n,r;return In(this,(function(a){switch(a.label){case 0:return n=(0,ze.uuid)(),p.pendingTeamStatsSubscriptions.addSubscription(e,n),[4,p.transport.dispatch.agent_get_logged_users({include_logged_out:(0,We.booleanToTransport)(!1),teams:(0,We.toKVArray)(t)})];case 1:return r=a.sent().teams,p.pendingTeamStatsSubscriptions.hasSubscription(e,n)?[2,(0,We.convertKVArray)(r)]:[2,void 0]}}))}));return function(t,n){return e.apply(this,arguments)}}()),dn(on(e),"sendSubscribeForTeamStatsRequest",(function(t,n){t.forEach((function(t){e.produceState((function(e){e.subscriptionData.team[t.team_id]||(e.subscriptionData.team[t.team_id]={}),e.subscriptionData.team[t.team_id].isLoading=!0}));var r=n[t.team_id],a=t&&(0,We.convertKVArray)(t.users).filter((function(e){return r.includeLoggedOutUsers||"offline"!==e.presence_state}));a&&r.fields.length&&e.transport.dispatch.agent_subscribe_users_details({users:(0,We.toKVArray)(a,(function(e){return e.user_id})),type:"MY_TEAM:".concat(r.id),user_fields:(0,We.toKVArray)(r.fields),item_fields:r.fields.includes("items")?(0,We.toKVArray)(bn($e)):{}})}))})),dn(on(e),"unsubscribeFromServicesStats",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.pendingServicesSubscriptions.removeSubscription(t),e.subscriptionManager.removeServiceFields(t),n&&e.produceState((function(e){delete e.subscriptionData.service.myServicesDetails})),e.serviceStatsSubscriptionInterval&&clearInterval(e.serviceStatsSubscriptionInterval)})),dn(on(e),"unsubscribeFromAgentStats",(function(t){var n,r=e.subscriptionManager.getSubscriptionFields(t);if(r){var a=null===(n=r.user)||void 0===n?void 0:n.id;if(a){e.subscriptionManager.removeUserFields(t),e.produceState((function(e){delete e.subscriptionData.user[a]})),e.transport.dispatch.agent_unsubscribe_users_details({type:"STATS:".concat(a)});var o=e.subscriptionManager.getUserFieldsById();o&&o[a]&&e.sendSubscribeForAgentStatsRequest(a,o[a])}}}));var m=on(e);return dn(on(e),"unsubscribeFromTeamStats",function(){var e=cn((function(e){var t,n,r,a,o,i,s=arguments;return In(this,(function(c){switch(c.label){case 0:return t=!(s.length>1&&void 0!==s[1])||s[1],m.pendingTeamStatsSubscriptions.removeSubscription(e),(r=m.subscriptionManager.getSubscriptionFields(e))?(a=null===(n=r.team)||void 0===n?void 0:n.id)?(m.subscriptionManager.removeTeamFields(e),t&&m.produceState((function(e){delete e.subscriptionData.team[a]})),m.transport.dispatch.agent_unsubscribe_users_details({type:"MY_TEAM:".concat(a)}),(o=m.subscriptionManager.getTeamFieldsById())&&o[a]?[4,m.requestTeams(e,[a])]:[3,2]):[2]:[2];case 1:if(!(i=c.sent()))return[2];m.sendSubscribeForTeamStatsRequest(i,o),c.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_users_details:this.onIncomingAgentUsersDetails}),this.fromClientDispenser.subscribe({getConfigs:this.getConfigs,updateConfig:this.updateConfig,createConfig:this.createConfig,duplicateConfig:this.duplicateConfig,deleteConfig:this.deleteConfig,updateConfigOwnership:this.updateConfigOwnership,toggleConfigIsGlobal:this.toggleConfigIsGlobal,subscribeForAgentStats:this.subscribeForAgentStats,unsubscribeFromAgentStats:this.unsubscribeFromAgentStats,subscribeForServiceStats:this.subscribeForServiceStats,unsubscribeFromServicesStats:this.unsubscribeFromServicesStats,subscribeForTeamStats:this.subscribeForTeamStats,unsubscribeFromTeamStats:this.unsubscribeFromTeamStats}))}},{key:"clean",value:function(){var e=this;this.serviceStatsSubscriptionInterval&&clearInterval(this.serviceStatsSubscriptionInterval),this.subscriptionManager.getUserSubscriptionIds().forEach((function(t){e.transport.dispatch.agent_unsubscribe_users_details({type:t})})),this.subscriptionManager.getTeamSubscriptionIds().forEach((function(t){e.transport.dispatch.agent_unsubscribe_users_details({type:t})})),this.pendingTeamStatsSubscriptions.clean(),this.pendingServicesSubscriptions.clean(),this.subscriptionManager.clean()}},{key:"cleanup",value:function(){_n(fn(o.prototype),"cleanup",this).call(this),this.clean()}},{key:"resetState",value:function(){this.pendingTeamStatsSubscriptions.clean(),this.pendingServicesSubscriptions.clean(),this.subscriptionManager.clean(),_n(fn(o.prototype),"resetState",this).call(this)}}])&&ln(t.prototype,n),r&&ln(t,r),o}(k.StateFactory.createBaseStateClass({name:"homePageState",controlEvents:Ge,trackerEvents:qe,options:{authorized:!0,synchronized:!0},getInitialState:function(){return{subscriptionData:{service:{},user:{},team:{}},configs:[]}},dependencies:["transport","sessionConnector","servicesDispositionsConnector"]})),En=n(82922),On=n(69923),Tn=n(41687);function Dn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Dn(o,r,a,i,s,"next",e)}function s(e){Dn(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var kn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"onCreateGroupChat",value:function(e){var t=this;return An((function(){var n,r;return Rn(this,(function(a){switch(a.label){case 0:return n=t.groupChatConnector.getStateData().items[e],t.replacePotentialChat("chatCenter",n),[4,t.utilsNS.replacePotentialInteraction(e)];case 1:return(r=a.sent())&&t.updateScopesByInteraction(e,r),t.updateScopesByMemebers(n),[2]}}))}))()}},{key:"onRemoveGroupChat",value:function(e){var t=this;return An((function(){var n,r,a,o,i,s,c,u,l;return Rn(this,(function(d){switch(d.label){case 0:return[4,t.messagesNS.closeIncomingMessageModal(e)];case 1:d.sent(),n=t.stateData.scopeMap,r=(0,R.typedKeys)(n).filter((function(t){var r;return(null===(r=n[t])||void 0===r?void 0:r.groupChatId)===e})),a=!0,o=!1,i=void 0;try{for(s=r[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)u=c.value,(l=n[u])&&l.interactionId&&t.interactionStateConnector.dispatch.closeInternalChat(l.interactionId)}catch(_){o=!0,i=_}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return t.produceState((function(e){var t=!0,n=!1,a=void 0;try{for(var o,i=r[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s,c=o.value,u=null===(s=e.scopeMap[c])||void 0===s?void 0:s.groupChatId;u&&delete e.messageParams[u],delete e.scopeMap[c]}}catch(_){n=!0,a=_}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}})),[2]}}))}))()}},{key:"replacePotentialChat",value:function(e,t){var n=this.stateData.scopeMap[e];if(n){var r=n.groupChatId,a=n.groupChatMembers,o=Tn.a.isMembersMatch(a,t.members);!r&&o&&(this.messagesNS.resetMessageParams(e),this.groupChatNS.setupGroupChatById(e,t.chatId))}}},{key:"updateScopesByInteraction",value:function(e,t){var n=this,r=t.newInteractionId,a=t.oldInteractionId,o=this.stateData.scopeMap;(0,R.typedKeys)(o).forEach((function(t){var i;(null===(i=o[t])||void 0===i?void 0:i.interactionId)===a&&(n.utilsNS.updateGroupChatId(t,e),n.utilsNS.updateInteractionId(t,r),n.interactionStateConnector.dispatch.activateItem(r))}))}},{key:"updateScopesByMemebers",value:function(e){var t=this,n=this.stateData.scopeMap;(0,R.typedKeys)(n).forEach((function(r){var a,o=null===(a=n[r])||void 0===a?void 0:a.groupChatMembers;o&&Tn.a.isMembersMatch(o,e.members)&&t.utilsNS.updateGroupChatId(r,e.chatId)}))}}])&&Pn(t.prototype,n),r&&Pn(t,r),e}(),Nn=n(82008),Mn=n.n(Nn);function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xn(o,r,a,i,s,"next",e)}function s(e){xn(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fn(e,t,n[t])}))}return e}function Un(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Bn(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Gn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"onInteractionRemoved",value:function(e){var t=this,n=this.stateData.scopeMap;(0,R.typedKeys)(n).filter((function(t){var r;return(null===(r=n[t])||void 0===r?void 0:r.interactionId)===e.id})).forEach((function(e){t.messagesNS.resetMessageParams(e,"force"),t.produceState((function(t){var n;null===(n=t.scopeMap[e])||void 0===n||delete n.interactionId}))}))}},{key:"resetGroupChat",value:function(e){this.messagesNS.resetMessageParams(e),this.produceState((function(t){delete t.scopeMap[e]}))}},{key:"setupGroupChatById",value:function(e,t){var n=this;return Ln((function(){var r,a;return qn(this,(function(o){switch(o.label){case 0:return[4,n.ensureGroupChatListReceived()];case 1:return o.sent(),n.clearChatParams(e),n.prepareGroupChat(e,t),(r=n.groupChatConnector.getStateData().items[t])?((a=n.utilsNS.findInteractionByGroupChatParams({groupChatId:r.chatId,groupChatMembers:r.members}))&&n.utilsNS.updateInteractionId(e,a.id),n.localSettings.set("chatCenterSelectedChatId",t),[2]):[2]}}))}))()}},{key:"setupGroupChatByInteraction",value:function(e,t){var n=this;return Ln((function(){var r,a,o,i;return qn(this,(function(s){switch(s.label){case 0:return[4,n.ensureGroupChatListReceived()];case 1:return s.sent(),n.clearChatParams(e),n.utilsNS.updateInteractionId(e,t),a=n.utilsNS.findInteraction(t),o=null===(r=n.utilsNS.findGroupChatByInteraction(a))||void 0===r?void 0:r.chatId,i=n.utilsNS.getMembersFromInteraction(a),o?n.prepareGroupChat(e,o):i&&n.utilsNS.updateMembers(e,i),n.utilsNS.setGroupChatParamsToInteraction(t,{groupChatId:o,groupChatMembers:i}),[4,new Promise((function(e){setTimeout(e,100)}))];case 2:return s.sent(),[2]}}))}))()}},{key:"setupGroupChatByMembers",value:function(e,t){var n=this;return Ln((function(){var r,a,o,i;return qn(this,(function(s){switch(s.label){case 0:return[4,n.ensureGroupChatListReceived()];case 1:return s.sent(),n.clearChatParams(e),a=n.appendSelfUserToMembers(t.groupChatMembers),(o=null===(r=n.utilsNS.findGroupChatItemByMembers(a))||void 0===r?void 0:r.chatId)?n.prepareGroupChat(e,o):n.utilsNS.updateMembers(e,a),[4,n.prepareInteraction(e,{groupChatId:o,groupChatMembers:a})];case 2:return(i=s.sent())&&n.utilsNS.updateInteractionId(e,i.id),[2]}}))}))()}},{key:"appendSelfUserToMembers",value:function(e){var t=this.sessionConnector.getStateData(),n=t.userId,r=t.firstName,a=void 0===r?"":r,o=t.lastName,i=void 0===o?"":o;return(0,R.assertDefined)(n),e.some((function(e){return e.id===n}))?e:Bn(e).concat([{id:n,firstName:a,lastName:i}])}},{key:"clearChatParams",value:function(e){this.produceState((function(t){t.scopeMap[e]=Un($n({},t.scopeMap[e]),{groupChatId:void 0,groupChatMembers:[]})}))}},{key:"ensureGroupChatListReceived",value:function(){var e=this;return Ln((function(){return qn(this,(function(t){switch(t.label){case 0:return e.groupChatConnector.getStateData().chatListReceived?[2]:[4,new Promise((function(t){var n=e.groupChatConnector.dispenser.subscribe({onChange:function(e){e.chatListReceived&&(n.unsubscribe(),t())}})}))];case 1:return t.sent(),[2]}}))}))()}},{key:"loadGroupChatHistory",value:function(e){var t=this.groupChatConnector.getStateData().items[e],n=null==t?void 0:t.firstUnreadTimestamp,r=n?Math.min(n,Mn()().subtract(1,"day").valueOf()):Mn()().subtract(1,"year").valueOf();this.groupChatConnector.dispatch.getChatHistory(e,r)}},{key:"prepareGroupChat",value:function(e,t){this.utilsNS.updateGroupChatId(e,t),this.messagesNS.closeIncomingMessageModal(t),this.loadGroupChatHistory(t)}},{key:"prepareInteraction",value:function(e,t){var n=this;return Ln((function(){var r,a,o,i;return qn(this,(function(s){switch(s.label){case 0:return(r=n.utilsNS.findInteractionByGroupChatParams(t))||"chatCenter"===e?[2,r]:(a=n.groupChatConnector.dispatch.getChatDisplayName,o=n.interactionStateConnector.dispatch.createPotentialItem,[4,a(t.groupChatMembers)]);case 1:return i=s.sent(),[2,o($n({displayName:i},t))]}}))}))()}}],n&&Kn(t.prototype,n),r&&Kn(t,r),e}(),Hn=n(63830),Vn=n.n(Hn);function Wn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Jn(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Xn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"closeIncomingMessageModal",value:function(e){var t,n=this;return(t=function(){return Jn(this,(function(t){return n.getIncomingMessageModals(e).forEach((function(e){n.modalsConnector.dispatch.closeModal(e.id)})),[2]}))},function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Wn(o,r,a,i,s,"next",e)}function s(e){Wn(o,r,a,i,s,"throw",e)}i(void 0)}))})()}},{key:"handleVisibilityChange",value:function(){var e=!document.hidden&&document.hasFocus();this.produceState((function(t){t.isPageFocused=e})),this.configureZerroUnreadBadge()}},{key:"onPasteFromKB",value:function(e,t){var n,r=this.utilsNS.findInteraction(e),a=null===(n=this.utilsNS.findGroupChatByInteraction(r))||void 0===n?void 0:n.chatId;a&&this.produceState((function(e){var n=e.messageParams[a]||{};n.messageText=n.messageText?"".concat(n.messageText,"\n").concat(t):t,e.messageParams[a]=n}))}},{key:"onUnreadMessage",value:function(e,t){this.showIncomingMessageModal(e,t),this.configureZerroUnreadBadge(e)}},{key:"onOutgoingMessage",value:function(e){this.produceState((function(t){delete t.messageParams[e]})),this.utilsNS.replacePotentialInteraction(e)}},{key:"resetMessageParams",value:function(e,t){var n=this.getMessageParamsId(e);if(n){var r=this.stateData.scopeMap[e].groupChatId,a=this.groupChatConnector.getStateData().items,o=Boolean(r&&a[r]),i=this.isMessageParamsEmpty(n);(t||!o||i)&&this.produceState((function(e){delete e.messageParams[n]}))}}},{key:"setMessageParams",value:function(e,t){var n=this.stateData,r=n.scopeMap,a=n.messageParams,o=r[e];if(o){var i=Tn.a.getMessageParamsId(e,o),s=Vn()(a[i]||{},t);this.produceState((function(e){e.messageParams[i]=s}))}}},{key:"getIncomingMessageModals",value:function(e){var t=this.modalsConnector.getStateData().modals,n=[];return t.forEach((function(t){(function(e){return"component"in e&&(t=e.props,null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"chatId"in e.props;var t,n})(t)&&t.props.chatId===e&&n.push(t)})),n}},{key:"getMessageParamsId",value:function(e){var t=this.stateData.scopeMap[e];return t&&Tn.a.getMessageParamsId(e,t)}},{key:"isGroupChatActive",value:function(e){var t=this.stateData.scopeMap,n=t.chatCenter,r=t.chatWindow,a=t.communicator;return[null==n?void 0:n.groupChatId,null==r?void 0:r.groupChatId,null==a?void 0:a.groupChatId].includes(e)}},{key:"isMessageParamsEmpty",value:function(e){var t=this.stateData.messageParams[e];if(!t)return!1;var n=(0,R.typedKeys)(t).every((function(e){return"boolean"!=typeof t[e]&&!t[e]}));return n}},{key:"showIncomingMessageModal",value:function(e,t){if("adc"!==this.currentTabDataProvider.get().app&&!this.isGroupChatActive(e)){var n=this.modalsConnector.dispatch,r=n.closeModal,a=n.openModal,o=this.getIncomingMessageModals(e);o.length>=5&&r(o[0].id);var i=o.find((function(t){return t.props.chatId===e}));i&&r(i.id),a({component:"IncomingMessageModal",id:t.messageId,notification:!0,props:{chatId:e,message:t}})}}},{key:"configureZerroUnreadBadge",value:function(e){this.stateData.isPageFocused?this.produceState((function(e){Object.values(e.messageParams).forEach((function(e){e.showZeroUnreadBadge&&delete e.showZeroUnreadBadge}))})):e&&this.produceState((function(t){var n=t.messageParams[e];n&&(t.messageParams[e]=Qn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yn(e,t,n[t])}))}return e}({},n),{showZeroUnreadBadge:!0}))}))}}],n&&zn(t.prototype,n),r&&zn(t,r),e}();function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var er=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"removeMemberFromChat",value:function(e,t){var n=this.stateData.scopeMap[e],r=n.groupChatId,a=n.groupChatMembers,o=n.interactionId,i=a.filter((function(e){return e.id!==t}));i.length!==a.length&&0!==i.length&&(r?(this.groupChatConnector.dispatch.removeFromChat({chatId:r,userIds:[t]}),this.updateMembersInScopes(r,i)):(this.utilsNS.updateMembers(e,i),this.linkExistingGroupChat(e,i),o&&this.utilsNS.setGroupChatParamsToInteraction(o,{groupChatId:r,groupChatMembers:i})),o&&this.interactionStateConnector.dispatch.setGroupChat(o,{groupChatMembers:i}))}},{key:"linkExistingGroupChat",value:function(e,t){var n=this,r=this.stateData.scopeMap;(0,R.typedKeys)(r).filter((function(t){return t!==e})).forEach((function(a){var o=r[a];Tn.a.isMembersMatch(o.groupChatMembers,t)&&(o.groupChatId&&n.utilsNS.updateGroupChatId(e,o.groupChatId),o.interactionId&&n.utilsNS.updateInteractionId(e,o.interactionId))}))}},{key:"updateMembersInScopes",value:function(e,t){var n=this,r=this.stateData.scopeMap;(0,R.typedKeys)(r).forEach((function(a){var o;(null===(o=r[a])||void 0===o?void 0:o.groupChatId)===e&&n.utilsNS.updateMembers(a,t)}))}}])&&Zn(t.prototype,n),r&&Zn(t,r),e}(),tr={onInitialState:(0,Be.event)(),onChange:(0,Be.event)()},nr={resetGroupChat:(0,Be.event)(),removeMemeberFromChat:(0,Be.event)(),setMessageParams:(0,Be.event)(),setupGroupChatById:(0,Be.asyncEvent)(),setupGroupChatByInteraction:(0,Be.asyncEvent)(),setupGroupChatByMembers:(0,Be.asyncEvent)()};function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}function cr(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?rr(e):t;var n}function ur(e,t){return ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ur(e,t)}function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sr(e);if(t){var a=sr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cr(this,n)}}var dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(o,e);var t,n,r,a=lr(o);function o(){var e;return ar(this,o),ir(rr(e=a.apply(this,arguments)),"eventsNS",(0,Ve.inheritConnector)(rr(e),new kn)),ir(rr(e),"groupChatNS",(0,Ve.inheritConnector)(rr(e),new Gn)),ir(rr(e),"messagesNS",(0,Ve.inheritConnector)(rr(e),new Xn)),ir(rr(e),"removeMembersNS",(0,Ve.inheritConnector)(rr(e),new er)),ir(rr(e),"utilsNS",(0,Ve.inheritConnector)(rr(e),new Tn.a)),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({removeMemeberFromChat:this.removeMembersNS.removeMemberFromChat,resetGroupChat:this.groupChatNS.resetGroupChat,setMessageParams:this.messagesNS.setMessageParams,setupGroupChatById:this.groupChatNS.setupGroupChatById,setupGroupChatByInteraction:this.groupChatNS.setupGroupChatByInteraction,setupGroupChatByMembers:this.groupChatNS.setupGroupChatByMembers}),this.groupChatConnector.dispenser.subscribe({onCreateGroupChat:this.eventsNS.onCreateGroupChat,onHideGroupChat:this.eventsNS.onRemoveGroupChat,onUnreadMessage:this.messagesNS.onUnreadMessage,onOutgoingMessage:this.messagesNS.onOutgoingMessage,onRemoveGroupChat:this.eventsNS.onRemoveGroupChat}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:this.groupChatNS.onInteractionRemoved,onPasteFromKB:this.messagesNS.onPasteFromKB})),document.addEventListener("visibilitychange",this.messagesNS.handleVisibilityChange),window.addEventListener("focus",this.messagesNS.handleVisibilityChange),window.addEventListener("blur",this.messagesNS.handleVisibilityChange)}},{key:"cleanup",value:function(){document.removeEventListener("visibilitychange",this.messagesNS.handleVisibilityChange),window.removeEventListener("focus",this.messagesNS.handleVisibilityChange),window.removeEventListener("blur",this.messagesNS.handleVisibilityChange)}}])&&or(t.prototype,n),r&&or(t,r),o}(k.StateFactory.createBaseStateClass({name:"groupChatUIState",controlEvents:nr,trackerEvents:tr,dependencies:["currentTabDataProvider","groupChatConnector","interactionStateConnector","localSettings","modalsConnector","sessionConnector"],options:{},getInitialState:function(){return{isPageFocused:!document.hidden&&document.hasFocus(),messageParams:{},scopeMap:{}}}})),_r=n(68566),fr=n(62050);n(61650);var pr=function(e,t){window.__REDUX_DEVTOOLS_EXTENSION__};function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(){function e(t,n,r){var a=this,o=t.sessionConnector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gr(this,"sharedConnectors",void 0),gr(this,"pageConnectors",void 0),gr(this,"subscriptions",void 0),this.sharedConnectors=n,this.pageConnectors=r,this.subscriptions=[o.dispenser.subscribe({onLogout:function(){return a.resetState()}})]}var t,n,E;return t=e,E=[{key:"create",value:function(t){var n,E=t.platformSpecific,O=t.currentTabDataProvider,T=t.roleManager,D=t.transport,A=t.localSettings,P=t.sessionConnector,N=t.tabsConnector,M=t.localizationConnector,j=t.modalsConnector,x=t.appConfigConnector,L=t.integrationApiConnector,K=t.timersConnector,F=new k.StateFactory({platformSpecific:E,localSettings:A,currentTabDataProvider:O,roleManager:T}),$=F.createState(de.CalendarAlertStateImpl,{transport:D}),U=F.createState(je,{sessionConnector:P}),B=F.createState(I.RemoteAssistStateImpl,{}),q=F.createState(w.RescueStateImpl,{transport:D,sessionConnector:P}),G=F.createState(ie.TimezonesStateImpl,{transport:D,localSettings:A,sessionConnector:P}),H=F.createState(f.EvaluationStateImpl,{}),V=F.createState(b.PrerecordedMessagesStateImpl,{transport:D,sessionConnector:P}),W=F.createState(S.RecordingStateImpl,{transport:D,sessionConnector:P}),z=F.createState(se.UserDetailsStateImpl,{transport:D,appConfigConnector:x}),Y=F.createState(l.DIDStateImpl,{transport:D,sessionConnector:P}),Q=F.createState(ae.ServicesDispositionsStateImpl,{transport:D,sessionConnector:P}),J=F.createState(wn,{transport:D,sessionConnector:P,servicesDispositionsConnector:Q}),X=F.createState(d.DirectoryStateImpl,{transport:D,platformSpecific:E,sessionConnector:P,userDetailsConnector:z}),Z=F.createState(g.InteractionStateImpl,{platformSpecific:E,currentTabDataProvider:O,transport:D,localSettings:A,sessionConnector:P,tabsConnector:N,timersConnector:K,directoryConnector:X,servicesDispositionsConnector:Q,prerecordedMessagesConnector:V}),ee=F.createState(a.AgentStateImpl,{transport:D,interactionStateConnector:Z}),te=F.createState(c.CaseStateImpl,{transport:D,sessionConnector:P,interactionStateConnector:Z,agentStateConnector:ee}),_e=F.createState(m.InteractionInternalChatStateImpl,{transport:D,platformSpecific:E,sessionConnector:P,interactionStateConnector:Z}),fe=F.createState(p.InteractionChatStateImpl,{platformSpecific:E,transport:D,localSettings:A,sessionConnector:P,tabsConnector:N,interactionStateConnector:Z,localizationConnector:M}),pe=F.createState(On.GroupChatState,{interactionStateConnector:Z,localizationConnector:M,sessionConnector:P,transport:D}),me=F.createState(dr,{currentTabDataProvider:O,groupChatConnector:pe,interactionStateConnector:Z,localSettings:A,modalsConnector:j,sessionConnector:P}),ge=F.createState(u.ContactsStateImpl,{sessionConnector:P,interactionStateConnector:Z}),he=F.createState(En.FavoritesStateImpl,{transport:D,sessionConnector:P,contactsStateConnector:ge,userDetailsConnector:z}),ve=F.createState(fr.RecentStateImpl,{contactsStateConnector:ge,favoritesConnector:he,groupChatConnector:pe,interactionChatStateConnector:fe,interactionInternalChatConnector:_e,interactionStateConnector:Z,platformSpecific:E,sessionConnector:P,transport:D,userDetailsConnector:z}),ye=F.createState(re.ServiceDetailsStateImpl,{transport:D,appConfigConnector:x,sessionConnector:P}),be=F.createState(ce.UserPresenceStateImpl,{transport:D}),Se=F.createState(ue.UserProfileStateImpl,{transport:D,localSettings:A,sessionConnector:P,localizationConnector:M}),Ce=F.createState(i.BPClientStateImpl,{platformSpecific:E,localSettings:A,sessionConnector:P,tabsConnector:N,timersConnector:K,localizationConnector:M,integrationApiConnector:L,interactionStateConnector:Z,interactionInternalChatConnector:_e}),Ie=F.createState(ne,{currentTabDataProvider:O,tabsConnector:N,interactionStateConnector:Z,bpClientStateConnector:Ce,integrationApiConnector:L,sessionConnector:P,localizationConnector:M}),we=F.createState(oe.StatsStateImpl,{transport:D,localSettings:A,sessionConnector:P,interactionStateConnector:Z,bpClientStateConnector:Ce,contactsStateConnector:ge}),Ee=F.createState(s.CampaignsStateImpl,{localSettings:A,transport:D,sessionConnector:P,interactionStateConnector:Z,servicesDispositionsConnector:Q,timezonesStateConnector:G}),Oe=F.createState(y.PredefinedMessagesStateImpl,{sessionConnector:P,interactionStateConnector:Z}),Te=F.createState(o.AriaStatusStateImpl,{platformSpecific:E,localizationConnector:M,interactionStateConnector:Z,interactionInternalChatConnector:_e}),De=F.createState(r.ActivitiesStateImpl,{sessionConnector:P,interactionStateConnector:Z}),Ae=F.createState(le.WebRtcStateImpl,{platformSpecific:E,localSettings:A,sessionConnector:P,interactionStateConnector:Z,interactionChatStateConnector:fe}),Pe=F.createState(h.InterstateLogicStateImpl,{localizationConnector:M,interactionStateConnector:Z,userProfileStateConnector:Se}),Re=F.createState(_.EMIStateImpl,{localSettings:A,sessionConnector:P}),ke=F.createState(C.RemoteAssistLocalStateImpl,{currentTabDataProvider:O,sessionConnector:P,interactionStateConnector:Z,interactionChatStateConnector:fe,remoteAssistStateConnector:B}),Ne=F.createState(xe.CalendarStateImpl,{sessionConnector:P,calendarAlertConnector:$}),Me=F.createState(_r.KBBridge,{appConfigConnector:x,interactionStateConnector:Z,localizationConnector:M,localSettings:A,servicesDispositionsConnector:Q,sessionConnector:P,userProfileStateConnector:Se},{userId:P.getStateData().userId,persistentStorageId:O.get().app}),Le=v.bpLogger.getInnerLogger();n=Le,(0,R.isObject)(n)&&"function"==typeof n.injectBPClientConnector&&"function"==typeof n.injectSessionConnector&&"function"==typeof n.injectCurrentTabDataProvider&&(Le.injectBPClientConnector(Ce),Le.injectSessionConnector(P),Le.injectCurrentTabDataProvider(O));var Ke={agentStateConnector:ee,bpClientStateConnector:Ce,calendarAlertStateConnector:$,calendarSettingsStateConnector:U,caseStateConnector:te,didStateConnector:Y,directoryStateConnector:X,evaluationStateConnector:H,favoritesStateConnector:he,groupChatConnector:pe,homePageStateConnector:J,interactionChatStateConnector:fe,interactionInternalChatStateConnector:_e,interactionStateConnector:Z,prerecordedMessagesStateConnector:V,recentStateConnector:ve,recordingStateConnector:W,remoteAssistStateConnector:B,rescueStateConnector:q,screenPopStateConnector:Ie,serviceDetailsStateConnector:ye,servicesDispositionsStateConnector:Q,statsStateConnector:we,campaignsStateConnector:Ee,timezonesStateConnector:G,userDetailsStateConnector:z,userPresenceStateConnector:be,userProfileStateConnector:Se},Fe={activitiesStateConnector:De,ariaStatusStateConnector:Te,calendarStateConnector:Ne,groupChatUIConnector:me,contactsStateConnector:ge,emiStateConnector:Re,interstateLogicStateConnector:Pe,kbBridgeConnector:Me,predefinedMessageStateConnector:Oe,remoteAssistLocalStateConnector:ke,webRtcStateConnector:Ae},$e=Object.values(Ke),Ue=Object.values(Fe);return $e.forEach((function(e){(0,k.assertNotInitializedConnector)(e),e.start()})),Ue.forEach((function(e){(0,k.assertNotInitializedConnector)(e),e.start()})),pr("Shared",$e),pr("Page",Ue),new e(t,Ke,Fe)}}],(n=[{key:"cleanup",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),Object.values(this.sharedConnectors).forEach((function(e){return e.cleanup()})),Object.values(this.pageConnectors).forEach((function(e){return e.cleanup()}))}},{key:"resetState",value:function(){Object.values(this.sharedConnectors).forEach((function(e){return e.resetState()})),Object.values(this.pageConnectors).forEach((function(e){return e.resetState()}))}}])&&mr(t.prototype,n),E&&mr(t,E),e}();function vr(e){return hr.create(e)}var yr=n(85571),br=n(35795),Sr=n(8518),Cr=n(71789),Ir=n(3945),wr=n(84726),Er=n(13543),Or=n(76455),Tr=n(12811),Dr={onInitialState:(0,D.event)(),onChange:(0,D.event)()},Ar={registerActivity:(0,D.event)()};function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e,t,n){return Mr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Mr(e,t,n||e)}function jr(e){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jr(e)}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nr(e,t,n[t])}))}return e}function Lr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Kr(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Pr(e):t;var n}function Fr(e,t){return Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fr(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jr(e);if(t){var a=jr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kr(this,n)}}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(o,e);var t,n,r,a=$r(o);function o(){var e;return Rr(this,o),Nr(Pr(e=a.apply(this,arguments)),"inactiveTimeout",-1),Nr(Pr(e),"sendingInterval",-1),Nr(Pr(e),"initSendingActivityStatus",(function(){e.sendingInterval=setInterval((function(){e.sendActivityStatus()}),6e4)})),Nr(Pr(e),"sendActivityStatus",(function(){e.transport.dispatch.agent_activity_report({activity:(0,We.booleanToTransport)(e.stateData.isActive)})})),Nr(Pr(e),"addUserActivityStatusInEveryTransportOutgoingMessage",(function(){var t,n;null===(n=e.transport)||void 0===n||null===(t=n.addOutgoingMessageInterceptor)||void 0===t||t.call(n,(function(t){return Lr(xr({},t),{__activity_status__:(0,We.booleanToTransport)(e.stateData.isActive)})}))})),Nr(Pr(e),"registerActivity",(function(){e.updateState((function(){return{isActive:!0}})),e.setInactiveAfterSeconds(60)})),Nr(Pr(e),"setInactiveAfterSeconds",(function(t){clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){e.updateState((function(){return{isActive:!1}}))}),1e3*t)})),e}return t=o,(n=[{key:"initialize",value:function(){this.registerActivity(),this.addUserActivityStatusInEveryTransportOutgoingMessage(),this.initSendingActivityStatus(),this.subscriptions.push(this.fromClientDispenser.subscribe({registerActivity:this.registerActivity}))}},{key:"cleanup",value:function(){Mr(jr(o.prototype),"cleanup",this).call(this),clearTimeout(this.inactiveTimeout)}},{key:"resetState",value:function(){Mr(jr(o.prototype),"resetState",this).call(this),clearTimeout(this.inactiveTimeout)}}])&&kr(t.prototype,n),r&&kr(t,r),o}(n(63492).StateFactory.createBaseStateClass({name:"userActivityState",controlEvents:Ar,trackerEvents:Dr,options:{synchronized:!0},dependencies:["transport"],getInitialState:function(){return{isActive:!1}}})),Br=n(50665),qr=n(95254),Gr={closeModal:(0,Be.event)(),openModal:(0,Be.event)(),updateModal:(0,Be.event)()},Hr={onChange:(0,Be.event)(),onInitialState:(0,Be.event)()};function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(e){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qr(e)}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yr(e,t,n[t])}))}return e}function Xr(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Vr(e):t;var n}function Zr(e,t){return Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zr(e,t)}function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qr(e);if(t){var a=Qr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xr(this,n)}}var ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(o,e);var t,n,r,a=ea(o);function o(){var e;return Wr(this,o),Yr(Vr(e=a.apply(this,arguments)),"closeModal",(function(t){e.produceState((function(n){var r=e.getModalIndex(t);n.modals=n.modals.filter((function(e,t){return t!==r}))}))})),Yr(Vr(e),"openModal",(function(t){e.produceState((function(e){var n=Jr({id:(0,ze.uuid)()},t);e.modals.push((0,Hn.castDraft)(n))}))})),Yr(Vr(e),"updateModal",(function(t){e.produceState((function(n){var r,a=null!==(r=e.getModalIndex(t.id))&&void 0!==r?r:e.stateData.modals.length;n.modals[a]=(0,Hn.castDraft)(t)}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({closeModal:this.closeModal,openModal:this.openModal,updateModal:this.updateModal}))}},{key:"getModalIndex",value:function(e){var t=this.stateData.modals.findIndex((function(t){return t.id===e}));return t>-1?t:void 0}}])&&zr(t.prototype,n),r&&zr(t,r),o}(k.StateFactory.createBaseStateClass({name:"modalsState",controlEvents:Gr,trackerEvents:Hr,dependencies:[],getInitialState:function(){return{modals:[]}},options:{synchronized:!1}}));function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aa=function(){function e(t,n,r,a,o,i,s,c,u,l,d,_,f,p,m,g){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ra(this,"platformSpecific",void 0),ra(this,"appType",void 0),ra(this,"transport",void 0),ra(this,"localSettings",void 0),ra(this,"currentTabDataProvider",void 0),ra(this,"roleManager",void 0),ra(this,"appConfigConnector",void 0),ra(this,"integrationApiConnector",void 0),ra(this,"localizationConnector",void 0),ra(this,"modalsConnector",void 0),ra(this,"offlineStateConnector",void 0),ra(this,"sessionConnector",void 0),ra(this,"tabsConnector",void 0),ra(this,"timersConnector",void 0),ra(this,"userActivityConnector",void 0),ra(this,"passwordValidationStateConnector",void 0),ra(this,"subscriptions",void 0),this.platformSpecific=t,this.appType=n,this.transport=r,this.localSettings=a,this.currentTabDataProvider=o,this.roleManager=i,this.appConfigConnector=s,this.integrationApiConnector=c,this.localizationConnector=u,this.modalsConnector=l,this.offlineStateConnector=d,this.sessionConnector=_,this.tabsConnector=f,this.timersConnector=p,this.userActivityConnector=m,this.passwordValidationStateConnector=g,this.subscriptions=[_.dispenser.subscribe({onInitialState:function(e){a.setCurrentUserId(e.userId)},onChange:function(e){"userId"in e&&a.setCurrentUserId(e.userId)}})]}var t,n,r;return t=e,r=[{key:"create",value:function(t,n){var r=t.createLocalSettings(),a=(0,Tr.createWebSocketTransport)(r,t),o=(0,Ir.createRoleManager)(t),i=(0,br.createCurrentTabDataProvider)(n,o),s=new k.StateFactory({platformSpecific:t,localSettings:r,currentTabDataProvider:i,roleManager:o}),c=s.createState(ta,{}),u=s.createState(Er.TabsStateImpl,{platformSpecific:t}),l=s.createState(Or.TimersStateImpl,{}),d=s.createState(wr.SessionStateImpl,{platformSpecific:t,localSettings:r,transport:a,currentTabDataProvider:i}),_=s.createState(yr.AppConfigStateImpl,{transport:a,sessionConnector:d}),f=s.createState(qr.LocalizationStateImpl,{localSettings:r,platformSpecific:t,sessionConnector:d}),p=s.createState(Ur,{transport:a}),m=s.createState(Sr.OfflineStateImpl,{roleManager:o,sessionConnector:d}),g=s.createState(Br.IntegrationApiStateImpl,{currentTabDataProvider:i,sessionConnector:d,tabsConnector:u}),h=s.createState(Cr.PasswordValidationStateImpl,{sessionConnector:d});i.injectTabsStateConnector(u),o.injectSessionStateConnector(d);var v=[_,c,g,f,m,d,u,l,p,h];return v.forEach((function(e){(0,k.assertNotInitializedConnector)(e),e.start()})),pr("Base",v),new e(t,n,a,r,i,o,_,g,f,c,m,d,u,l,p,h)}}],(n=[{key:"cleanup",value:function(){this.transport.cleanup(),this.currentTabDataProvider.cleanup(),this.roleManager.cleanup(),this.appConfigConnector.cleanup(),this.integrationApiConnector.cleanup(),this.localizationConnector.cleanup(),this.sessionConnector.cleanup(),this.tabsConnector.cleanup(),this.timersConnector.cleanup(),this.userActivityConnector.cleanup(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}])&&na(t.prototype,n),r&&na(t,r),e}();function oa(e,t){return aa.create(e,t)}},14217:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CHAT_MESSAGE_ALLOWED_ATTRIBUTES:()=>r,CHAT_MESSAGE_ALLOWED_TAGS:()=>a,CHAT_MESSAGE_CONTENT_TYPES:()=>o,CHAT_PROHIBITED_EXTENSIONS:()=>u,CHAT_VOICE_RECORDING_PLAYER_GROUP:()=>l,PASTE_TO_CHAT_ALLOWED_ATTRIBUTES:()=>i,PASTE_TO_CHAT_ALLOWED_TAGS:()=>s,SALES_FORCE_PREFIXES:()=>c});var r=["href","style","color","size","face","width","height","alt","src"],a=["a","br","hr","span","div","p","font","h1","h2","h3","h4","h5","h6","table","tbody","tr","td","ul","ol","li","blockquote","img","b","i","u","em","s","strong"],o={adaptivecard:"application/vnd.microsoft.card.adaptive",codesnippet:"application/vnd.microsoft.card.codesnippet",thumbnail:"application/vnd.microsoft.card.thumbnail",hero:"application/vnd.microsoft.card.hero",o365connector:"application/vnd.microsoft.teams.card.o365connector"},i=["href"],s=["a","br"],c={workitem:"Preview",voice:"Call",forum:"Forum message",chat:"Web Chat",email:"Email",agent_chat:"Unknown",unknown:"Unknown"},u=[".ade",".adp",".apk",".appx",".appxbundle",".bat",".cab",".chm",".cmd",".com",".cpl",".dll",".dmg",".ex",".ex_",".exe",".hta",".ins",".isp",".iso",".jar",".js",".jse",".lib",".lnk",".mde",".msc",".msi",".msix",".msixbundle",".msp",".mst",".nsh",".pif",".ps1",".scr",".sct",".shb",".sys",".vb",".vbe",".vbs",".vxd",".wsc",".wsf",".wsh"],l="chat-voice-recording"},26073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddToExistingModal:()=>me,QuickAddModal:()=>Ce,useAddNewContact:()=>Lt});var r=n(52322),a=n(66029),o=n(7777),i=n(67422);function s(e,t){return"function"==typeof e?e(t):e}function c(e,t){return n=>{t.setState((t=>({...t,[e]:s(n,t[e])})))}}function u(e){return e instanceof Function}function l(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const a=t(e);null!=a&&a.length&&r(a)}))};return r(e),n}function d(e,t,n){let r,a=[];return()=>{let o;n.key&&n.debug&&(o=Date.now());const i=e();if(!(i.length!==a.length||i.some(((e,t)=>a[t]!==e))))return r;let s;if(a=i,n.key&&n.debug&&(s=Date.now()),r=t(...i),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-o))/100,t=Math.round(100*(Date.now()-s))/100,r=t/16,a=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c\u23f1 ${a(t,5)} /${a(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function _(e,t,n){var r;let a={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(a),e},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(a,e)})),a}const f={createTable:e=>{e.getHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,a)=>{var o,i;const s=null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],c=null!=(i=null==a?void 0:a.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[];return p(t,[...s,...n.filter((e=>!(null!=r&&r.includes(e.id)||null!=a&&a.includes(e.id)))),...c],e)}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getCenterHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,a)=>p(t,n=n.filter((e=>!(null!=r&&r.includes(e.id)||null!=a&&a.includes(e.id)))),e,"center")),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getLeftHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var a;return p(t,null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[],e,"left")}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getRightHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var a;return p(t,null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[],e,"right")}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getFooterGroups=d((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getLeftFooterGroups=d((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getCenterFooterGroups=d((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getRightFooterGroups=d((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getFlatHeaders=d((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getLeftFlatHeaders=d((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getCenterFlatHeaders=d((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getRightFlatHeaders=d((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getCenterLeafHeaders=d((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getLeftLeafHeaders=d((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getRightLeafHeaders=d((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),e.getLeafHeaders=d((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,a,o,i,s,c;return[...null!=(r=null==(a=e[0])?void 0:a.headers)?r:[],...null!=(o=null==(i=t[0])?void 0:i.headers)?o:[],...null!=(s=null==(c=n[0])?void 0:c.headers)?s:[]].map((e=>e.getLeafHeaders())).flat()}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}})}};function p(e,t,n,r){var a,o;let i=0;const s=function(e,t){void 0===t&&(t=1),i=Math.max(i,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&s(e.columns,t+1)}),0)};s(e);let c=[];const u=(e,t)=>{const a={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},o=[];e.forEach((e=>{const i=[...o].reverse()[0];let s,c=!1;if(e.column.depth===a.depth&&e.column.parent?s=e.column.parent:(s=e.column,c=!0),i&&(null==i?void 0:i.column)===s)i.subHeaders.push(e);else{const a=_(n,s,{id:[r,t,s.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:c,placeholderId:c?`${o.filter((e=>e.column===s)).length}`:void 0,depth:t,index:o.length});a.subHeaders.push(e),o.push(a)}a.headers.push(e),e.headerGroup=a})),c.push(a),t>0&&u(o,t-1)},l=t.map(((e,t)=>_(n,e,{depth:i,index:t})));u(l,i-1),c.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:a}=e;t+=n,r.push(a)}))):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(a=null==(o=c[0])?void 0:o.headers)?a:[]),c}const m={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},g={getDefaultColumnDef:()=>m,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:c("columnSizing",e),onColumnSizingInfoChange:c("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const o=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:m.minSize,null!=(r=null!=o?o:e.columnDef.size)?r:m.size),null!=(a=e.columnDef.maxSize)?a:m.maxSize)},e.getStart=n=>{const r=n?"left"===n?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),a=r.findIndex((t=>t.id===e.id));if(a>0){const e=r[a-1];return e.getStart(n)+e.getSize()}return 0},e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=()=>{const n=t.getColumn(e.column.id),r=null==n?void 0:n.getCanResize();return a=>{if(!n||!r)return;if(null==a.persist||a.persist(),v(a)&&a.touches&&a.touches.length>1)return;const o=e.getSize(),i=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[n.id,n.getSize()]],s=v(a)?Math.round(a.touches[0].clientX):a.clientX,c={},u=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo((e=>{var t,r;const a=n-(null!=(t=null==e?void 0:e.startOffset)?t:0),o=Math.max(a/(null!=(r=null==e?void 0:e.startSize)?r:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;c[t]=Math.round(100*Math.max(n+n*o,0))/100})),{...e,deltaOffset:a,deltaPercentage:o}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...c}))))},l=e=>u("move",e),d=e=>{u("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},_={moveHandler:e=>l(e.clientX),upHandler:e=>{document.removeEventListener("mousemove",_.moveHandler),document.removeEventListener("mouseup",_.upHandler),d(e.clientX)}},f={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),l(e.touches[0].clientX),!1),upHandler:e=>{var t;document.removeEventListener("touchmove",f.moveHandler),document.removeEventListener("touchend",f.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(null==(t=e.touches[0])?void 0:t.clientX)}},p=!!function(){if("boolean"==typeof h)return h;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return h=e,h}()&&{passive:!1};v(a)?(document.addEventListener("touchmove",f.moveHandler,p),document.addEventListener("touchend",f.upHandler,p)):(document.addEventListener("mousemove",_.moveHandler,p),document.addEventListener("mouseup",_.upHandler,p)),t.setColumnSizingInfo((e=>({...e,startOffset:s,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:i,isResizingColumn:n.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let h=null;function v(e){return"touchstart"===e.type}const y={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:c("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var a;const o=!0===r||!(null==r||!r[e.id]);let i={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{i[e]=!0})):i=r,n=null!=(a=n)?a:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:t,...n}=i;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,a;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(a=e.subRows)||!a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},b=(e,t,n)=>{var r;const a=n.toLowerCase();return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())||null==(r=r.toLowerCase())?void 0:r.includes(a))};b.autoRemove=e=>P(e);const S=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};S.autoRemove=e=>P(e);const C=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};C.autoRemove=e=>P(e);const I=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};I.autoRemove=e=>P(e)||!(null!=e&&e.length);const w=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));w.autoRemove=e=>P(e)||!(null!=e&&e.length);const E=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));E.autoRemove=e=>P(e)||!(null!=e&&e.length);const O=(e,t,n)=>e.getValue(t)===n;O.autoRemove=e=>P(e);const T=(e,t,n)=>e.getValue(t)==n;T.autoRemove=e=>P(e);const D=(e,t,n)=>{let[r,a]=n;const o=e.getValue(t);return o>=r&&o<=a};D.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,a="number"!=typeof n?parseFloat(n):n,o=null===t||Number.isNaN(r)?-1/0:r,i=null===n||Number.isNaN(a)?1/0:a;if(o>i){const e=o;o=i,i=e}return[o,i]},D.autoRemove=e=>P(e)||P(e[0])&&P(e[1]);const A={includesString:b,includesStringSensitive:S,equalsString:C,arrIncludes:I,arrIncludesAll:w,arrIncludesSome:E,equals:O,weakEquals:T,inNumberRange:D};function P(e){return null==e||""===e}const R={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:c("columnFilters",e),onGlobalFilterChange:c("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?A.includesString:"number"==typeof r?A.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?A.equals:Array.isArray(r)?A.arrIncludes:A.weakEquals},e.getFilterFn=()=>{var n,r;return u(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:A[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(a=t.options.enableFilters)||a)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,a,o;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(a=t.options.enableFilters)||a)&&(null==(o=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||o)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),a=null==t?void 0:t.find((t=>t.id===e.id)),o=s(n,a?a.value:void 0);var i;if(k(r,o,e))return null!=(i=null==t?void 0:t.filter((t=>t.id!==e.id)))?i:[];const c={id:e.id,value:o};var u;return a?null!=(u=null==t?void 0:t.map((t=>t.id===e.id?c:t)))?u:[]:null!=t&&t.length?[...t,c]:[c]}))},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>A.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return u(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:A[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=s(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){if(k(t.getFilterFn(),e.value,t))return!1}return!0}))}))},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function k(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const N={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,a;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=a=n):(r>n&&(r=n),a<n&&(a=n)))})),[r,a]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let a=t.getValue(e);null!=a&&(a=+a)>=a&&(++n,r+=a)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(r=n,!Array.isArray(r)||!r.every((e=>"number"==typeof e)))return;var r;if(1===n.length)return n[0];const a=Math.floor(n.length/2),o=n.sort(((e,t)=>e-t));return n.length%2!=0?o[a]:(o[a-1]+o[a])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},M={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:c("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r,a,o;return null!=(n=null==(r=null!=(a=null==(o=e.columnDef.enableGrouping)||o)?a:t.options.enableGrouping)||r)?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?N.sum:"[object Date]"===Object.prototype.toString.call(r)?N.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return u(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:N[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}};const j={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:c("columnOrder",e)}),createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=d((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let a=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&a.push(n.splice(r,1)[0])}a=[...a,...n]}else a=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));return"remove"===n?r:[...t.map((t=>e.find((e=>e.id===t)))).filter(Boolean),...r]}(a,t,n)}),{key:!1})}},x={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:c("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(t){if(null!=(r=null!=(a=e.options.autoResetAll)?a:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>s(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=s(t,n.pageIndex);const a=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,a)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,s(t,e.pageSize)),r=e.pageSize*e.pageIndex,a=Math.floor(r/n);return{...e,pageIndex:a,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let a=s(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof a&&(a=Math.max(-1,a)),{...n,pageCount:a}})),e.getPageOptions=d((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},L={getInitialState:e=>({columnPinning:{left:[],right:[]},rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:c("columnPinning",e),onRowPinningChange:c("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,a,o,i,s,c;return"right"===n?{left:(null!=(o=null==e?void 0:e.left)?o:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(i=null==e?void 0:e.right)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(c=null==e?void 0:e.right)?c:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(a=null==e?void 0:e.right)?a:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,a;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(a=t.options.enableColumnPinning)?a:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:a}=t.getState().columnPinning,o=n.some((e=>null==r?void 0:r.includes(e))),i=n.some((e=>null==a?void 0:a.includes(e)));return o?"left":!!i&&"right"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[a])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,a)=>{const o=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],i=a?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],s=new Set([...i,e.id,...o]);t.setRowPinning((e=>{var t,r,a,o,i,c;return"bottom"===n?{top:(null!=(a=null==e?void 0:e.top)?a:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:[...(null!=(o=null==e?void 0:e.bottom)?o:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)]}:"top"===n?{top:[...(null!=(i=null==e?void 0:e.top)?i:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)],bottom:(null!=(c=null==e?void 0:e.bottom)?c:[]).filter((e=>!(null!=s&&s.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=s&&s.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:a)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,o=n.some((e=>null==r?void 0:r.includes(e))),i=n.some((e=>null==a?void 0:a.includes(e)));return o?"top":!!i&&"bottom"},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const o=null==(n=t._getPinnedRows(a))?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==o?void 0:o.indexOf(e.id))?r:-1},e.getCenterVisibleCells=d((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),{key:!1,debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),e.getLeftVisibleCells=d((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})))),{key:!1,debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),e.getRightVisibleCells=d((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})))),{key:!1,debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}})},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var a,o;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.left)?void 0:a.length)||(null==(o=r.right)?void 0:o.length))},e.getLeftLeafColumns=d((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),e.getRightLeafColumns=d((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),e.getCenterLeafColumns=d((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var a,o;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(a=r.top)?void 0:a.length)||(null==(o=r.bottom)?void 0:o.length))},e._getPinnedRows=t=>d((()=>[e.getRowModel().rows,e.getState().rowPinning[t]]),((n,r)=>{var a;return(null==(a=e.options.keepPinnedRows)||a?(null!=r?r:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=r?r:[]).map((e=>n.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:t})))}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=d((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}})}},K={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:c("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):a.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach((t=>{F(a,t.id,r,!0,e)})),a})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=d((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?$(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),e.getFilteredSelectedRowModel=d((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?$(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:"getFilteredSelectedRowModel",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),e.getGroupedSelectedRowModel=d((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?$(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:"getGroupedSelectedRowModel",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection((o=>{var i;if(n=void 0!==n?n:!a,e.getCanSelect()&&a===n)return o;const s={...o};return F(s,e.id,n,null==(i=null==r?void 0:r.selectChildren)||i,t),s}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return U(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===B(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===B(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},F=(e,t,n,r,a)=>{var o;const i=a.getRow(t);n?(i.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(o=i.subRows)&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach((t=>F(e,t.id,n,r,a)))};function $(e,t){const n=e.getState().rowSelection,r=[],a={},o=function(e,t){return e.map((e=>{var t;const i=U(e,n);if(i&&(r.push(e),a[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:o(e.subRows)}),i)return e})).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:a}}function U(e,t){var n;return null!=(n=t[e.id])&&n}function B(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let a=!0,o=!1;return e.subRows.forEach((e=>{if((!o||a)&&(e.getCanSelect()&&(U(e,t)?o=!0:a=!1),e.subRows&&e.subRows.length)){const n=B(e,t);"all"===n?o=!0:"some"===n?(o=!0,a=!1):a=!1}})),a?"all":!!o&&"some"}const q=/([0-9]+)/gm;function G(e,t){return e===t?0:e>t?1:-1}function H(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function V(e,t){const n=e.split(q).filter(Boolean),r=t.split(q).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),a=parseInt(e,10),o=parseInt(t,10),i=[a,o].sort();if(isNaN(i[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(i[1]))return isNaN(a)?-1:1;if(a>o)return 1;if(o>a)return-1}}return n.length-r.length}const W={alphanumeric:(e,t,n)=>V(H(e.getValue(n)).toLowerCase(),H(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>V(H(e.getValue(n)),H(t.getValue(n))),text:(e,t,n)=>G(H(e.getValue(n)).toLowerCase(),H(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>G(H(e.getValue(n)),H(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},basic:(e,t,n)=>G(e.getValue(n),t.getValue(n))},z={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:c("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return W.datetime;if("string"==typeof n&&(r=!0,n.split(q).length>1))return W.alphanumeric}return r?W.text:W.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return u(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:W[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),o=null!=n;t.setSorting((i=>{const s=null==i?void 0:i.find((t=>t.id===e.id)),c=null==i?void 0:i.findIndex((t=>t.id===e.id));let u,l=[],d=o?n:"desc"===a;var _;(u=null!=i&&i.length&&e.getCanMultiSort()&&r?s?"toggle":"add":null!=i&&i.length&&c!==i.length-1?"replace":s?"toggle":"replace","toggle"===u&&(o||a||(u="remove")),"add"===u)?(l=[...i,{id:e.id,desc:d}],l.splice(0,l.length-(null!=(_=t.options.maxMultiSortColCount)?_:Number.MAX_SAFE_INTEGER))):l="toggle"===u?i.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===u?i.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}];return l}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?!!(i===o||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(a=t.options.enableMultiRemove)&&!a)&&("desc"===i?"asc":"desc"):o},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Y={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:c("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;return null==(n=null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=d((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),{key:"row._getAllVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),e.getVisibleCells=d((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),{key:!1,debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}})},createTable:e=>{const t=(t,n)=>d((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),{key:t,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}});e.getVisibleFlatColumns=t("getVisibleFlatColumns",(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t("getVisibleLeafColumns",(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}},Q=[f,Y,j,L,R,z,M,y,x,K,g];function J(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:Q};const r=n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(n))),{});let a={...null!=(t=e.initialState)?t:{}};n._features.forEach((e=>{var t;a=null!=(t=null==e.getInitialState?void 0:e.getInitialState(a))?t:a}));const o=[];let i=!1;const c={_features:Q,options:{...r,...e},initialState:a,_queue:e=>{o.push(e),i||(i=!0,Promise.resolve().then((()=>{for(;o.length;)o.shift()();i=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{n.setState(n.initialState)},setOptions:e=>{const t=s(e,n.options);n.options=(e=>n.options.mergeOptions?n.options.mergeOptions(r,e):{...r,...e})(t)},getState:()=>n.options.state,setState:e=>{null==n.options.onStateChange||n.options.onStateChange(e)},_getRowId:(e,t,r)=>{var a;return null!=(a=null==n.options.getRowId?void 0:n.options.getRowId(e,t,r))?a:`${r?[r.id,t].join("."):t}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(e,t)=>{const r=(t?n.getCoreRowModel():n.getRowModel()).rowsById[e];if(!r)throw new Error;return r},_getDefaultColumnDef:d((()=>[n.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),{debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:d((()=>[n._getColumnDefs()]),(e=>{const t=function(e,r,a){return void 0===a&&(a=0),e.map((e=>{const o=function(e,t,n,r){var a,o;const i={...e._getDefaultColumnDef(),...t},s=i.accessorKey;let c,u=null!=(a=null!=(o=i.id)?o:s?s.replace(".","_"):void 0)?a:"string"==typeof i.header?i.header:void 0;if(i.accessorFn?c=i.accessorFn:s&&(c=s.includes(".")?e=>{let t=e;for(const r of s.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[i.accessorKey]),!u)throw new Error;let l={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:i,columns:[],getFlatColumns:d((()=>[!0]),(()=>{var e;return[l,...null==(e=l.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),{key:"column.getFlatColumns",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getLeafColumns:d((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=l.columns)&&t.length){let t=l.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[l]}),{key:"column.getLeafColumns",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}})};for(const d of e._features)null==d.createColumn||d.createColumn(l,e);return l}(n,e,a,r),i=e;return o.columns=i.columns?t(i.columns,o,a+1):[],o}))};return t(e)}),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getAllFlatColumns:d((()=>[n.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),_getAllFlatColumnsById:d((()=>[n.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getAllLeafColumns:d((()=>[n.getAllColumns(),n._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getColumn:e=>n._getAllFlatColumnsById()[e]};Object.assign(n,c);for(let s=0;s<n._features.length;s++){const e=n._features[s];null==e||null==e.createTable||e.createTable(n)}return n}const X=(e,t,n,r,a,o,i)=>{let s={id:t,index:r,original:n,depth:a,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(s._valuesCache[t]=n.accessorFn(s.original,r),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=n.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=s.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=o?o:[],getLeafRows:()=>l(s.subRows,(e=>e.subRows)),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:d((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=a.getValue())?t:e.options.renderFallbackValue},getContext:d((()=>[e,n,t,a]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach((r=>{null==r.createCell||r.createCell(a,n,t,e)}),{}),a}(e,s,t,t.id)))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}}),_getAllCellsByColumnId:d((()=>[s.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),{key:"row.getAllCellsByColumnId",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}})};for(let c=0;c<e._features.length;c++){const t=e._features[c];null==t||null==t.createRow||t.createRow(s,e)}return s};function Z(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?a.createElement(e,t):e:null;var n}var ee=n(60142),te=n(27385),ne=n(40381),re=n(11980);function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var se=(0,a.forwardRef)((function(e,t){var n=e.children,a=ie(e,["children"]);return(0,r.jsx)("tbody",oe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ae(e,t,n[t])}))}return e}({ref:t},a),{children:n}))})),ce=n(53179);function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _e(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe={accessor:(e,t)=>"function"==typeof e?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e},me=function(e){var t=e.handleAddNewContact,n=e.handleAddToExisting,s=e.onClose,c=_e(e,["handleAddNewContact","handleAddToExisting","onClose"]),u=(0,ce.useLocalizationState)("t"),l=(0,ee.useContactsStateMethods)().fetchContactListWithQuery,_=fe((0,a.useState)(""),2),f=_[0],p=_[1],m=(0,ne.useDebounce)(f,300),g=(0,i.useQuery)({queryKey:["contactSearch",m],queryFn:function(){return l({query:m})},placeholderData:i.keepPreviousData,initialData:[]}),h=g.data,v=g.isFetching,y=function(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=a.useState((()=>({current:J(t)}))),[r,o]=a.useState((()=>n.current.initialState));return n.current.setOptions((t=>({...t,...e,state:{...r,...e.state},onStateChange:t=>{o(t),null==e.onStateChange||e.onStateChange(t)}}))),n.current}({columns:(0,a.useMemo)((function(){return[pe.accessor("firstName",{header:function(){return u.UNDEFINED.contact_first_name()}}),pe.accessor("lastName",{header:function(){return u.UNDEFINED.contact_last_name()}}),pe.accessor("phone",{header:function(){return u.UNDEFINED.contact_phone()},cell:function(e){return(0,te.formatPhone)(e.getValue())}}),pe.accessor("email",{header:function(){return u.UNDEFINED.contact_email()}})]}),[u.UNDEFINED]),data:(0,a.useMemo)((function(){return h.filter((function(e){return e.firstName||e.lastName||e.phone||e.email}))}),[h]),getCoreRowModel:e=>d((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,a,o){void 0===a&&(a=0);const i=[];for(let c=0;c<t.length;c++){const u=X(e,e._getRowId(t[c],c,o),t[c],c,a,void 0,null==o?void 0:o.id);var s;n.flatRows.push(u),n.rowsById[u.id]=u,i.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[c],c),null!=(s=u.originalSubRows)&&s.length&&(u.subRows=r(u.originalSubRows,a+1,u)))}return i};return n.rows=r(t),n}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),getSortedRowModel:e=>d((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,a=[],o=r.filter((t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()})),i={};o.forEach((t=>{const n=e.getColumn(t.id);n&&(i[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}));const s=e=>{const t=e.map((e=>({...e})));return t.sort(((e,t)=>{for(let r=0;r<o.length;r+=1){var n;const a=o[r],s=i[a.id],c=null!=(n=null==a?void 0:a.desc)&&n;let u=0;if(s.sortUndefined){const n=void 0===e.getValue(a.id),r=void 0===t.getValue(a.id);(n||r)&&(u=n&&r?0:n?s.sortUndefined:-s.sortUndefined)}if(0===u&&(u=s.sortingFn(e,t,a.id)),0!==u)return c&&(u*=-1),s.invertSorting&&(u*=-1),u}return e.index-t.index})),t.forEach((e=>{var t;a.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=s(e.subRows))})),t};return{rows:s(n.rows),flatRows:a,rowsById:n.rowsById}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),getRowId:function(e){return e.id},enableRowSelection:!0,enableMultiRowSelection:!1}),b=y.getSelectedRowModel().rows[0],S=!!b,C=y.getRowModel().rows,I=y.getHeaderGroups()[0].headers;return(0,r.jsxs)(re.Modal,de(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){le(e,t,n[t])}))}return e}({onClose:s},c),{className:"min-h-[572px] w-auto min-w-[870px] max-w-full",children:[(0,r.jsx)(re.Modal.Header,{children:u.CONTACT.select_existing_contact()}),(0,r.jsxs)(re.Modal.Content,{className:"flex flex-col gap-6 overflow-hidden caption-s",children:[(0,r.jsx)(re.SearchField,{fieldClassName:"m-w-[550px]",value:f,onChange:function(e){return p(e.target.value)},placeholder:u.CONTACT.search_for_contact()}),v||C.length?(0,r.jsx)("div",{className:"flex flex-auto overflow-auto",children:(0,r.jsxs)(re.Table,{className:"flex-auto",children:[(0,r.jsx)(re.Table.Header,{children:(0,r.jsx)(re.Table.Row,{children:I.map((function(e){return(0,r.jsx)(re.Table.HeaderCell,{className:"sticky top-0 px-2 py-2.5 text-left",order:e.column.getIsSorted(),onClick:function(){return e.column.toggleSorting()},children:Z(e.column.columnDef.header,e.getContext())},e.id)}))})}),(0,r.jsxs)(se,{children:[C.map((function(e){return(0,r.jsx)(re.Table.Row,{disabled:v,selected:e.getIsSelected(),onClick:e.getToggleSelectedHandler(),children:e.getVisibleCells().map((function(e){return(0,r.jsx)(re.Table.Cell,{className:"px-2 py-2.5",children:Z(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)})),!C.length&&Array.from({length:20}).map((function(e,t){return(0,r.jsx)(re.Table.Row,{children:I.map((function(e,t){return(0,r.jsx)(re.Table.Cell,{children:(0,r.jsx)(re.Skeleton,{containerClassName:"w-full block py-2.5 px-2"})},t)}))},t)}))]})]})}):(0,r.jsx)("p",{className:"self-center heading-m",children:u.GLOBAL.not_found()})]}),(0,r.jsxs)(re.Modal.Actions,{children:[(0,r.jsx)(o.Button,{variant:"neutral",onClick:function(){return s()},children:u.GLOBAL.cancel()}),(0,r.jsx)(o.Button,{variant:"secondary",onClick:function(){t().then((function(){return s()}))},children:u.CONTACT.create_new()}),(0,r.jsx)(o.Button,{disabled:!S,onClick:function(){n(b.original).then((function(){return s()}))},state:S?"default":"disabled",variant:"primary",children:u.CONTACT.add_to_existing_contact()})]})]}))},ge=n(49073),he=n(81460);function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ve(e,t,n[t])}))}return e}function be(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ce=function(e){var t=e.defaultValues,n=e.onSubmit,a=e.onClose,i=Se(e,["defaultValues","onSubmit","onClose"]),s=(0,ge.useForm)({defaultValues:t}),c=(0,he.useRequireValidationRules)(),u=(0,he.useEmailValidationRules)(),l=(0,he.usePhoneValidationRules)(),d=(0,ge.useController)({name:"firstName",control:s.control,rules:c,defaultValue:t.firstName}),_=d.field,f=d.fieldState.error,p=(void 0===f?{}:f).message,m=(0,ge.useController)({name:"lastName",control:s.control,rules:c,defaultValue:t.lastName}),g=m.field,h=m.fieldState.error,v=(void 0===h?{}:h).message,y=(0,ge.useController)({name:"phone",control:s.control,rules:l,defaultValue:t.phone}),b=y.field,S=y.fieldState.error,C=(void 0===S?{}:S).message,I=(0,ge.useController)({name:"email",control:s.control,rules:u,defaultValue:t.email}),w=I.field,E=I.fieldState.error,O=(void 0===E?{}:E).message,T=(0,ce.useLocalizationState)("t");return(0,r.jsxs)(re.Modal,be(ye({onClose:a},i),{children:[(0,r.jsx)(re.Modal.Header,{children:T.CONTACT.quick_add()}),(0,r.jsxs)(re.Modal.Content,{className:"flex flex-col gap-6",children:[(0,r.jsxs)("section",{className:"grid grid-flow-col gap-4",children:[(0,r.jsx)(re.InputField,be(ye({},_),{error:p,required:!0,label:T.UNDEFINED.contact_first_name()})),(0,r.jsx)(re.InputField,be(ye({required:!0},g),{error:v,label:T.UNDEFINED.contact_last_name()}))]}),(0,r.jsx)(re.InputField,be(ye({},b),{error:C,label:T.CONTACT.phone_number()})),(0,r.jsx)(re.InputField,be(ye({},w),{error:O,label:T.CONTACT.email()}))]}),(0,r.jsxs)(re.Modal.Actions,{children:[(0,r.jsx)(o.Button,{variant:"neutral",onClick:function(){return a()},children:T.GLOBAL.cancel()}),(0,r.jsx)(o.Button,{variant:"primary",onClick:s.handleSubmit((function(e){if(!e.email&&!e.phone)return s.setError("phone",{type:"required",message:"Specify phone or email"}),!1;n(e),a()})),children:T.WINDOW_POPUP_TITLES_AND_MESSAGES.button_save()})]})]}))},Ie=n(39252),we=n(88630),Ee=n(27005),Oe=(n(3118),n(35297),n(15922),n(37505),n(76441));n(45152),n(26552);var Te=n(52388),De=n(86702),Ae=(n(26),n(13641)),Pe=(n(72823),n(2122)),Re={isAttachmentsListReady:function(){return!0},getAttachmentsList:function(){return[]},addAttachment:Pe.noop,removeAttachment:Pe.noop,clearAttachmentsList:Pe.noop,initializeAttachmentsList:Pe.noop,fileRejections:[],setFileRejections:Pe.noop},ke=(n(63830),n(79607));n(68939);var Ne=(0,De.createContext)(Re);Ne.displayName="ChatAttachmentsUIContext";(0,Ae.createUIStateSelectorHook)(Ne,"chatAttachmentsUIState").useChatAttachmentsUIState;var Me=(0,De.createContext)(Re);Me.displayName="EmailAttachmentsUIContext";(0,Ae.createUIStateSelectorHook)(Me,"emailAttachmentsUIState").useEmailAttachmentsUIState,n(5518);n(54515);var je=n(14169);n(44225);var xe=n(35746);var Le,Ke,Fe=n(60970),$e=function(){return $e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$e.apply(this,arguments)},Ue={onActivate:Fe.func,onAddUndo:Fe.func,onBeforeAddUndo:Fe.func,onBeforeExecCommand:Fe.func,onBeforeGetContent:Fe.func,onBeforeRenderUI:Fe.func,onBeforeSetContent:Fe.func,onBeforePaste:Fe.func,onBlur:Fe.func,onChange:Fe.func,onClearUndos:Fe.func,onClick:Fe.func,onContextMenu:Fe.func,onCopy:Fe.func,onCut:Fe.func,onDblclick:Fe.func,onDeactivate:Fe.func,onDirty:Fe.func,onDrag:Fe.func,onDragDrop:Fe.func,onDragEnd:Fe.func,onDragGesture:Fe.func,onDragOver:Fe.func,onDrop:Fe.func,onExecCommand:Fe.func,onFocus:Fe.func,onFocusIn:Fe.func,onFocusOut:Fe.func,onGetContent:Fe.func,onHide:Fe.func,onInit:Fe.func,onKeyDown:Fe.func,onKeyPress:Fe.func,onKeyUp:Fe.func,onLoadContent:Fe.func,onMouseDown:Fe.func,onMouseEnter:Fe.func,onMouseLeave:Fe.func,onMouseMove:Fe.func,onMouseOut:Fe.func,onMouseOver:Fe.func,onMouseUp:Fe.func,onNodeChange:Fe.func,onObjectResizeStart:Fe.func,onObjectResized:Fe.func,onObjectSelected:Fe.func,onPaste:Fe.func,onPostProcess:Fe.func,onPostRender:Fe.func,onPreProcess:Fe.func,onProgressState:Fe.func,onRedo:Fe.func,onRemove:Fe.func,onReset:Fe.func,onSaveContent:Fe.func,onSelectionChange:Fe.func,onSetAttrib:Fe.func,onSetContent:Fe.func,onShow:Fe.func,onSubmit:Fe.func,onUndo:Fe.func,onVisualAid:Fe.func},Be=$e({apiKey:Fe.string,id:Fe.string,inline:Fe.bool,init:Fe.object,initialValue:Fe.string,onEditorChange:Fe.func,outputFormat:Fe.oneOf(["html","text"]),value:Fe.string,tagName:Fe.string,cloudChannel:Fe.string,plugins:Fe.oneOfType([Fe.string,Fe.array]),toolbar:Fe.oneOfType([Fe.string,Fe.array]),disabled:Fe.bool,textareaName:Fe.string,tinymceScriptSrc:Fe.string,rollback:Fe.oneOfType([Fe.number,Fe.oneOf([!1])]),scriptLoading:Fe.shape({async:Fe.bool,defer:Fe.bool,delay:Fe.number})},Ue),qe=function(e){return"function"==typeof e},Ge=function(e){return e in Ue},He=function(e){return e.substr(2)},Ve=function(e,t,n,r,a){return function(e,t,n,r,a,o,i){var s=Object.keys(a).filter(Ge),c=Object.keys(o).filter(Ge),u=s.filter((function(e){return void 0===o[e]})),l=c.filter((function(e){return void 0===a[e]}));u.forEach((function(e){var t=He(e),r=i[t];n(t,r),delete i[t]})),l.forEach((function(n){var a=r(e,n),o=He(n);i[o]=a,t(o,a)}))}(a,e.on.bind(e),e.off.bind(e),(function(t,n){return function(r){var a;return null===(a=t(n))||void 0===a?void 0:a(r,e)}}),t,n,r)},We=0,ze=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++We+String(t)},Ye=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},Qe=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},Je=function(e,t){void 0!==e&&(null!=e.mode&&"object"==typeof e.mode&&"function"==typeof e.mode.set?e.mode.set(t):e.setMode(t))},Xe=function(){return{listeners:[],scriptId:ze("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},Ze=(Le=Xe(),{load:function(e,t,n,r,a,o){var i=function(){return function(e,t,n,r,a,o){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.src=n,i.async=r,i.defer=a;var s=function(){i.removeEventListener("load",s),o()};i.addEventListener("load",s),t.head&&t.head.appendChild(i)}(Le.scriptId,e,t,n,r,(function(){Le.listeners.forEach((function(e){return e()})),Le.scriptLoaded=!0}))};Le.scriptLoaded?o():(Le.listeners.push(o),Le.scriptLoading||(Le.scriptLoading=!0,a>0?setTimeout(i,a):i()))},reinitialize:function(){Le=Xe()}}),et=function(){var e="undefined"!=typeof window?window:n.g;return e&&e.tinymce?e.tinymce:null},tt=(Ke=function(e,t){return Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ke(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ke(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nt.apply(this,arguments)},rt=function(){var e,t,n;return(null===(n=null===(t=null===(e=et())||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},at=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"};!function(e){function t(t){var n,r,o,i=this;return(i=e.call(this,t)||this).rollbackTimer=void 0,i.valueCursor=void 0,i.rollbackChange=function(){var e=i.editor,t=i.props.value;e&&t&&t!==i.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),i.valueCursor&&(!i.inline||e.hasFocus()))try{e.selection.moveToBookmark(i.valueCursor)}catch(n){}})),i.rollbackTimer=void 0},i.handleBeforeInput=function(e){if(void 0!==i.props.value&&i.props.value===i.currentContent&&i.editor&&(!i.inline||i.editor.hasFocus))try{i.valueCursor=i.editor.selection.getBookmark(3)}catch(t){}},i.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||i.handleBeforeInput(e)},i.handleEditorChange=function(e){var t=i.editor;if(t&&t.initialized){var n=t.getContent();if(void 0!==i.props.value&&i.props.value!==n&&!1!==i.props.rollback&&(i.rollbackTimer||(i.rollbackTimer=window.setTimeout(i.rollbackChange,"number"==typeof i.props.rollback?i.props.rollback:200))),n!==i.currentContent&&(i.currentContent=n,qe(i.props.onEditorChange))){var r=i.props.outputFormat,a="html"===r?n:t.getContent({format:r});i.props.onEditorChange(a,t)}}},i.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||i.handleEditorChange(e)},i.initialise=function(e){var t,n,r;void 0===e&&(e=0);var a=i.elementRef.current;if(a)if(function(e){if(!("isConnected"in Node.prototype)){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}return e.isConnected}(a)){var o=et();if(!o)throw new Error("tinymce should have been loaded into global scope");var s,c,u=nt(nt({},i.props.init),{selector:void 0,target:a,readonly:i.props.disabled,inline:i.inline,plugins:(s=null===(t=i.props.init)||void 0===t?void 0:t.plugins,c=i.props.plugins,Qe(s).concat(Qe(c))),toolbar:null!==(n=i.props.toolbar)&&void 0!==n?n:null===(r=i.props.init)||void 0===r?void 0:r.toolbar,setup:function(e){i.editor=e,i.bindHandlers({}),i.inline&&!Ye(a)&&e.once("PostRender",(function(t){e.setContent(i.getInitialValue(),{no_events:!0})})),i.props.init&&qe(i.props.init.setup)&&i.props.init.setup(e)},init_instance_callback:function(e){var t,n,r=i.getInitialValue();i.currentContent=null!==(t=i.currentContent)&&void 0!==t?t:e.getContent(),i.currentContent!==r&&(i.currentContent=r,e.setContent(r),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var a=null!==(n=i.props.disabled)&&void 0!==n&&n;Je(i.editor,a?"readonly":"design"),i.props.init&&qe(i.props.init.init_instance_callback)&&i.props.init.init_instance_callback(e)}});i.inline||(a.style.visibility=""),Ye(a)&&(a.value=i.getInitialValue()),o.init(u)}else if(0===e)setTimeout((function(){return i.initialise(1)}),1);else{if(!(e<100))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return i.initialise(e+1)}),100)}},i.id=i.props.id||ze("tiny-react"),i.elementRef=a.createRef(),i.inline=null!==(o=null!==(n=i.props.inline)&&void 0!==n?n:null===(r=i.props.init)||void 0===r?void 0:r.inline)&&void 0!==o&&o,i.boundHandlers={},i}tt(t,e),t.prototype.componentDidUpdate=function(e){var t,n,r=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact((function(){var e;if(!r.inline||a.hasFocus())try{e=a.selection.getBookmark(3)}catch(s){}var t=r.valueCursor;if(a.setContent(r.props.value),!r.inline||a.hasFocus())for(var n=0,o=[e,t];n<o.length;n++){var i=o[n];if(i)try{a.selection.moveToBookmark(i),r.valueCursor=i;break}catch(s){}}}))}if(this.props.disabled!==e.disabled){var o=null!==(n=this.props.disabled)&&void 0!==n&&n;Je(this.editor,o?"readonly":"design")}}},t.prototype.componentDidMount=function(){var e,t,n,r,a,o;null!==et()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&Ze.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(r=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==r&&r,null!==(o=null===(a=this.props.scriptLoading)||void 0===a?void 0:a.delay)&&void 0!==o?o:0,this.initialise)},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(rt(),this.handleEditorChange),t.off(at(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return a.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return a.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"==typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel,t=this.props.apiKey?this.props.apiKey:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(t,"/tinymce/").concat(e,"/tinymce.min.js")},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){Ve(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},r=n(e),a=n(this.props);!r&&a?(this.editor.on(rt(),this.handleEditorChange),this.editor.on(at(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):r&&!a&&(this.editor.off(rt(),this.handleEditorChange),this.editor.off(at(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=Be,t.defaultProps={cloudChannel:"5"}}(a.Component);n(91259),n(38269);var ot=n(5977),it=(0,ot.createSelector)((function(e){return e.parties}),(function(e){var t=new Set;return null==e||e.forEach((function(e){"CONTACT"!==e.partyType&&e.disposition&&t.add(e.disposition)})),Array.from(t)})),st=((0,ot.createSelector)((function(e){return e.parties}),(function(e){var t=new Set;return null==e||e.forEach((function(e){"CONTACT"!==e.partyType&&e.notes&&t.add(e.notes)})),Array.from(t)})),(0,ot.createSelector)((function(e){return e.services}),(function(e){var t;return null==e||null===(t=e.map((function(e){return e.serviceName})))||void 0===t?void 0:t.join(", ")}))),ct=(0,ot.createSelector)(it,(function(e){return null==e?void 0:e.join(", ")}));(0,ot.createSelector)(st,ct,(function(e,t){return[e,t].filter(Boolean).join(": ")}));var ut,lt,dt;n(26426),n(28136);function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ut=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"validate",value:function(e){return null!=e&&this.emailPattern.test(e)}}],(n=null)&&_t(t.prototype,n),r&&_t(t,r),e}(),lt="emailPattern",dt=new RegExp(je.EMAIL_REGEX),lt in ut?Object.defineProperty(ut,lt,{value:dt,enumerable:!0,configurable:!0,writable:!0}):ut[lt]=dt;n(20161);n(50801);const ft=n.p+"768a4584de75be31d108c80afaed59bb.svg";Oe.Svg;n(84512);var pt="updateTime",mt=(0,Ee.atom)([{id:"TEAM",type:"queue",queueType:"TEAM",closeable:!1},{id:"PERSONAL",type:"queue",queueType:"PERSONAL",closeable:!1},{id:"FOLLOWUP",queueType:"FOLLOWUP",type:"queue",closeable:!1}]),gt=(0,Ee.atom)("TEAM");(0,Ee.atom)((function(e){return e(mt).find((function(t){return t.id===e(gt)}))})),(0,Ee.atom)(400),(0,Ee.atom)(),(0,Ee.atom)({skip:0,size:100}),(0,Ee.atom)(void 0),(0,Ee.atom)({field:pt,direction:"desc"}),(0,Ee.atom)(void 0),(0,Ee.atom)("all"),(0,Ee.atom)(void 0),(0,Ee.atom)({field:pt,direction:"desc"}),(0,Ee.atom)({skip:0,size:100}),(0,Ee.atom)(void 0),(0,Ee.atom)({field:pt,direction:"desc"});n(26946),n(76658);n(53546);(0,Ee.createStore)();n(84592),n(80574),n(5632),n(46078);var ht=n(5141);n(41632),n(94667),n(16665),n(72457),n(40710),n(43650),n(29016);n(59478);ht.EmailTypes.BUSINESS;n(77517);ht.PhoneTypes.BUSINESS;n(13519),n(13711);n.p;n(25882);var vt=n(62476);n(3211),n(18189);function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(68938),n(37704);var bt={id:"search",type:"search",title:"",closeable:!1},St=((0,Ee.atom)(""),(0,Ee.atom)([bt])),Ct=(0,Ee.atom)(bt.id),It=((0,Ee.atom)(void 0),(0,Ee.atom)(void 0),(0,Ee.atom)(600),(0,Ee.atom)([]),(0,Ee.atom)({sortBy:"score",asc:!1}),(0,Ee.atom)(void 0),(0,Ee.atom)(void 0),(0,Ee.atom)([]));function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Tt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}function Dt(){var e=Et((0,Ee.useAtom)(St),2),t=e[0],n=e[1],r=Et((0,Ee.useAtom)(Ct),2),o=r[0],i=r[1];return{handleTabOpen:(0,a.useCallback)((function(e){t.find((function(t){return t.id===e.id}))||n(Ot(t).concat([e])),i(e.id)}),[i,n,t]),handleTabClose:(0,a.useCallback)((function(e){e===o&&i(t[0].id),n(t.filter((function(t){return t.id!==e})))}),[o,i,n,t]),handleTabUpdate:(0,a.useCallback)((function(e){n((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))}),[n])}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}n(17181);n(45312);function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nt(e,t,n[t])}))}return e}function jt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function xt(){var e=(0,vt.useLocalizationState)().t,t=Dt(),n=t.handleTabOpen,r=t.handleTabClose,o=t.handleTabUpdate,i=(0,xe.useFormatting)().formatFullName,s=function(){var e=(0,vt.useLocalizationState)().t,t=(0,ke.useSessionState)("privileges"),n=Pt((0,Ee.useAtom)(It),2),r=n[0],o=n[1],i=Dt(),s=i.handleTabOpen,c=i.handleTabClose,u=3>r.length&&t.EDIT_CONTACTS&&t.DELETE_CONTACTS,l=(0,a.useCallback)((function(t){o((function(e){return Array.from(new Set(Rt(e).concat([t])))})),s({id:"merge",type:"merge_contacts",title:e.GLOBAL.merge(),closeable:!1})}),[s,o,e.GLOBAL]);return{addContactForMerge:u?l:void 0,removeContactFromMerge:(0,a.useCallback)((function(e){var t=r.filter((function(t){return t!==e}));o(t),t.length||c("merge")}),[c,r,o]),canAddContactForMerge:u,closeContactsMerge:(0,a.useCallback)((function(){o([]),c("merge")}),[c,r,o])}}().addContactForMerge,c=(0,a.useCallback)((function(e,t){var r={id:e.id,type:"contact",title:i(e.firstName,e.lastName),props:{editMode:t,onMerge:s?function(){return s(e.id)}:void 0,onEditMode:function(e){return o(jt(Mt({},r),{props:jt(Mt({},r.props),{editMode:e})}))}},closeable:!0};n(r)}),[s,i,n,o]),u=(0,a.useCallback)((function(t,r,a){var o={id:"create",type:"create_contact",title:t||e.GLOBAL.anonymous(),closeable:!0,props:{initialData:r,onContactCreated:a}};n(o)}),[e,n]);return{handleContactCreate:u,handleContactOpen:c,handleContactCreateCancel:(0,a.useCallback)((function(){r("create")}),[r])}}function Lt(e,t){var n=(0,we.useNavigationState)("goTo"),r=(0,Ie.useFormatting)().formatFullName,a=e.displayData,o=a.firstName,i=a.lastName,s=xt().handleContactCreate;return(0,ne.useEvent)((function(){n(we.AppRoutes.search),s(r(o,i),function(e){var t,n=e.displayData,r=n.firstName,a=n.lastName,o=n.phones,i=n.number,s=n.email,c=n.emails;return yt(t={},"Contact.first_name",r),yt(t,"Contact.last_name",a),yt(t,"Contact.phones",(0,Te.isWorkItem)(e)?null===(d=e.workitemData)||void 0===d||null===(l=d.contactInfo)||void 0===l||null===(u=l.addresses)||void 0===u?void 0:u.filter((function(e){return"phone"===e.type&&"yes"===e.allowed})).map((function(e){return{phone:e.value,type:_(e.label)}})):o||(i?[{phone:i,type:ht.PhoneTypes.BUSINESS}]:void 0)),yt(t,"Contact.emails",c?c.map((function(e){return{email_address:e.emailAddress,type:e.type}})):s?[{email_address:s,type:ht.EmailTypes.PRIMARY}]:void 0),t;var u,l,d;function _(e){var t=!0,n=!1,r=void 0;try{for(var a,o=Object.values(ht.PhoneTypes)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;if(e.toUpperCase().includes(i))return i}}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return ht.PhoneTypes.BUSINESS}}(e),t)}))}},13207:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContactsStateContextProvider:()=>o,useActivityHistoryByContactId:()=>p,useContact:()=>_,useContactFormDefinition:()=>f,useContactsState:()=>c,useContactsStateConnector:()=>d,useContactsStateMethods:()=>l,useContactsStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("ContactsStateContextProvider"),o=a.ContactsStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("contactsState",i),c=s.useContactsState,u=s.useContactsStateRef,l=s.useContactsStateMethods,d=s.useContactsStateConnector,_=function(e){return c((function(t){return e?t.contacts[e]:void 0}))},f=function(e){return c((function(t){return t.contactFormDefinitions.find((function(t){return t.type===e}))}))},p=function(e){return c((function(t){return t.activityHistory[e]}))}},98366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useContactDisplayName:()=>o,useGetAvatarUrl:()=>p,useGetContactPictureUrl:()=>l,useGetDirectLink:()=>g,useGetEmiPictureUrl:()=>d,useGetUserPictureUrl:()=>f});var r=n(60142),a=n(39252);function o(e){var t,n,o=(0,a.useFormatting)().formatFullName,i=(0,r.useContact)(e);return o(null==i||null===(t=i.data)||void 0===t?void 0:t.firstName,null==i||null===(n=i.data)||void 0===n?void 0:n.lastName)}var i=n(66029),s=n(3211),c=n(79607),u=n(40381);function l(){var e=(0,u.useAsRef)((0,c.useSessionState)());return(0,i.useCallback)((function(t,n,r){return(0,s.constructContactPictureUrl)(e.current,t,n,r)}),[e])}function d(){var e=(0,u.useAsRef)((0,c.useSessionState)());return(0,i.useCallback)((function(t,n,r){return _(e.current,t,n,r)}),[e])}var _=function(e,t,n,r){switch(t){case"msteams":case"msteams_channel":var a,o;return(0,s.constructMsTeamsContactPictureUrl)(e,{type:t,photoUrl:r,chatId:n,emiServerUrlPrefix:(null===(o=e.emi)||void 0===o||null===(a=o.msteams)||void 0===a?void 0:a.emiServerUrlPrefix)||""})}};function f(){var e=(0,u.useAsRef)((0,c.useSessionState)());return(0,i.useCallback)((function(t,n){return(0,s.constructUserPictureUrl)(e.current,t,n)}),[e])}function p(){var e=f(),t=l(),n=d();return(0,i.useCallback)((function(r){var a=r.userId,o=r.contactId,i=r.notFoundPlaceholder,s=r.userType,c=r.photoUrl,u=r.white;return a&&s&&c?n(s,a,c):a?e(a,i):o||i?t(o,i,u):""}),[t,n,e])}var m=n(5518);function g(){var e=(0,u.useAsRef)((0,c.useSessionState)());return(0,i.useCallback)((function(t,n){return t?"":n?"".concat(e.current.serverOrigin).concat(m.requestUrls.getContactPage).replace("{contactId}",n):""}),[e])}},79321:(e,t,n)=>{"use strict";n.r(t),n.d(t,{constructContactPictureUrl:()=>E,constructMsTeamsContactPictureUrl:()=>T,constructUserPictureUrl:()=>O,contactDetailsToContactShortType:()=>v,contactShortTypeToContactDetails:()=>y,contactToShortContact:()=>h,fetchContact:()=>b,fetchContactActivityHistory:()=>S,formatContactDetailsFromServer:()=>p,formatContactFromServer:()=>_,formatContactList:()=>f,formatSingleField:()=>m,maskActivityHistoryMessages:()=>I,useDefaultValueForFieldArrays:()=>g});var r=n(83734),a=n(2122),o=n(92136),i=n(68938);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=["emails","phones","addresses"];function _(e){var t;return{Id:e._id,contactType:e.contact_type,firstName:e.first_name,lastName:e.last_name,title:e.title,segment:e.segment,summary:e.summary,companyId:e.company_id,companyName:e.company_name,dob:e.dob,webUrl:e.web_url,create:e.create,alerts:e.alerts,phones:e.phones,addPhone:e.addPhone,nonEmptyPhones:e.nonEmptyPhones,mobilePhones:e.mobilePhones,primaryPhone:e.primaryPhone,emails:e.emails&&e.emails.map((function(e){return{id:e.id,type:e.type,emailAddress:e.email_address}})),primaryEmail:e.primaryEmail&&{id:e.primaryEmail.id,type:e.primaryEmail.type,emailAddress:e.primaryEmail.email_address},addresses:e.addresses&&e.addresses.map((function(e){return{id:e.id,type:e.type,addressLine1:e.address_line1,addressLine2:e.address_line2,city:e.city,state:e.state,postcode:e.postcode}})),messengers:null===(t=e.messengers)||void 0===t?void 0:t.map((function(e){return{type:e.type,userId:e.user_id,accountId:e.account_id,userName:e.user_name}}))}}function f(e){return e.map((function(e){return{id:e.id,firstName:t(e.first_name),lastName:t(e.last_name),email:t(e.email),phone:t(e.phone),phones:e.phones,source:e.source}}));function t(e){return e&&"-"!==e?e:""}}function p(e){return Object.entries(e).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1];return e[r]="Contact.addresses"===r||"Contact.emails"===r||"Contact.phones"===r||"Contact.messengers"===r?JSON.parse(a):a,e}),{})}function m(e){return Object.entries(e).map((function(e){var t=l(e,2),n=t[0],r=t[1],a={};for(var o in isNaN(+n)?a.type=n:a.order=n,r)a[o]=r[o];return a}))}function g(e){var t=u({},e);for(var n in e)r(n)&&(t[n]=[]);return t;function r(t){return d.includes(t)&&void 0===e[t]}}function h(e){var t,n,r,o,i,s,c,u,l,d;return console.debug("contactToShortContact: contact=",e),{id:e.Id.oid,firstName:e.firstName,lastName:e.lastName,phone:null!==(l=null!==(u=null===(t=e.primaryPhone)||void 0===t?void 0:t.phone)&&void 0!==u?u:null===(r=e.phones)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.phone)&&void 0!==l?l:"",phones:null===(o=e.phones)||void 0===o?void 0:o.map((0,a.property)("phone")),email:null!==(d=null===(i=e.primaryEmail)||void 0===i?void 0:i.emailAddress)&&void 0!==d?d:null===(c=e.emails)||void 0===c||null===(s=c[0])||void 0===s?void 0:s.emailAddress}}function v(e){var t,n,r,a,o,s;if(!e)return{};var c,u,l,d,_=(0,i.flatten)(e,{safe:!0});return{firstName:null!==(c=_["Contact.first_name"])&&void 0!==c?c:"",lastName:null!==(u=_["Contact.last_name"])&&void 0!==u?u:"",phone:null===(t=null!==(l=null===(n=_["Contact.phones"])||void 0===n?void 0:n.find((function(e){return"BUSINESS"===e.type})))&&void 0!==l?l:null===(r=_["Contact.phones"])||void 0===r?void 0:r[0])||void 0===t?void 0:t.phone,email:null===(a=null!==(d=null===(o=_["Contact.emails"])||void 0===o?void 0:o.find((function(e){return"PRIMARY"===e.type})))&&void 0!==d?d:null===(s=_["Contact.emails"])||void 0===s?void 0:s[0])||void 0===a?void 0:a.email_address,id:_.id}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{phoneType:o.PhoneTypes.BUSINESS,emailType:o.EmailTypes.BUSINESS};return u({"Contact.first_name":e.firstName,"Contact.last_name":e.lastName},e.phone&&{"Contact.phones":[{type:t.phoneType,phone:e.phone}]},e.email&&{"Contact.emails":[{type:t.emailType,email_address:e.email}]})}var b=function(e,t){var n=e.id,a=e.email,o=e.tel;if(n)return(0,r.apiRequests)(t).getContact({contactId:n}).then((function(e){return[_(e)]}));if(a||o){var i="";if(a&&(i="email:".concat(a)),o&&(i="tel:".concat(o)),i)return(0,r.apiRequests)(t).getContactWithQuery({query:i}).then((function(e){return e.map(_)}))}return Promise.reject("One of [id, email, tel] is required")};function S(e,t){var n=e.contactId,a=e.startDate,o=e.mediaFilter,i=t.serverOrigin;return(0,r.apiRequests)(i).getContactActivityHistoryWithParams({requestBody:{contactId:n,startDate:a?a.getTime():void 0,mediaFilter:o}}).then((function(e){var n=e;return function(e,t){var n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;if("VOICE"===s.mediaType){var c=s;if(c.hasVoiceRecording&&c.voiceRecordingInteractionId){var u=c.globalInteractionId,l=c.voiceRecordingInteractionId;c.recordingLink=C({sessionData:t,id:u,interactionId:l})}}}}catch(d){r=!0,a=d}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}}(n.messages,t),n}))}function C(e){var t=e.sessionData,n=e.id,a=e.interactionId,o=new URL("".concat(t.serverOrigin).concat(r.requestUrls.getRecording)),i={token:t.sessionId||"",user:t.loginId||"",tenant:t.domain||"",id:n,interaction_id:a,audiotag:"1"};for(var s in i)o.searchParams.set(s,String(i[s]));return String(o)}function I(e){var t=e.loginId,n=e.sessionId,a=e.serverOrigin,o=e.globalInteractionId,i=e.messages,s=e.fileIds;return t&&n?(0,r.apiRequests)(a).maskChatHistoryMessage({requestBody:{giid:o,login_id:t,messages:null==i?void 0:i.map((function(e){return{msg_id:e.messageId,text:e.maskedText}})),file_ids:s,action:"agent_external_chat_session_mask"}}):Promise.reject("No loginId or sessionId")}function w(){return String((new Date).getTime()).slice(0,-5).padEnd(13,"0")}function E(e,t,n,a){var o=e.serverOrigin,i=e.sessionId,s=e.loginId,c=e.domain,u=n?"photo":"photoIfFound",l="".concat(o).concat(r.requestUrls.getContactPictureUrl).replace("{contactId}",t||"null").replace("{occurance}",u),d={token:i,user:s,tenant:c,tmp:w()};a&&(d.white=Number(a));var _=(0,r.paramsToQueryString)(d);return"".concat(l,"?").concat(_)}function O(e,t,n){var a=e.serverOrigin,o=e.sessionId,i=e.loginId,s=e.domain,c="".concat(a).concat(r.requestUrls.getUserPictureUrl),u=(0,r.paramsToQueryString)({token:o,user:i,tenant:s,id:t,tmp:w(),ifFound:n?void 0:1});return"".concat(c,"?").concat(u)}function T(e,t){var n=e.serverOrigin,a=e.sessionId,o=e.loginId,i=e.domain,s=t.type,c=t.chatId,u=t.emiServerUrlPrefix,l=t.photoUrl,d="".concat(n).concat(r.requestUrls.msteamsIconDownload),_=(0,r.paramsToQueryString)({token:a,user:o,tenant:i,id:c,tmp:w(),type:s,photo_url:l,emi_server_url_prefix:u});return"".concat(d,"?").concat(_)}},86289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddressTypes:()=>h,EmailTypes:()=>g,PhoneTypes:()=>m,contactsControlEvents:()=>b,contactsTrackerEvents:()=>y,externalContact:()=>S,getInitialContactsState:()=>r,getMessageTime:()=>f,isCall:()=>u,isEmail:()=>l,isFile:()=>c,isMessage:()=>o,isNotesDispositionMessage:()=>_,isRemoteAssistSession:()=>d,isSameMessage:()=>p,isTextMessage:()=>a,isTranscriptMessage:()=>i,isTranscriptMessageAttributes:()=>s,mediaFilters:()=>C});var r=function(){return{contactFormDefinitions:[],contactList:[],contactListByChunks:[],contactListLoading:!1,contactListLoaded:!1,contactListByChunksLoading:!1,search:{},contacts:{},contactIds:{byEmail:{},byTel:{}},activityHistory:{}}};function a(e){if("CHAT"===(null==e?void 0:e.mediaType)){var t=e.event;return"party_file"!==t&&"party_notes_disposition"!==t}return!1}function o(e){return"CHAT"===(null==e?void 0:e.mediaType)&&Object.prototype.hasOwnProperty.call(e,"event")&&"party_message"===e.event}function i(e){return"VOICE_TRANSCRIPT"===(null==e?void 0:e.mediaType)&&Object.prototype.hasOwnProperty.call(e,"event")&&"party_message"===e.event}function s(e){return"VOICE_TRANSCRIPT"===(null==e?void 0:e.mediaType)&&Object.prototype.hasOwnProperty.call(e,"event")&&"party_message_attributes"===e.event}function c(e){return"CHAT"===(null==e?void 0:e.mediaType)&&Object.prototype.hasOwnProperty.call(e,"event")&&"party_file"===e.event}function u(e){return"VOICE"===(null==e?void 0:e.mediaType)}function l(e){return"EMAIL"===(null==e?void 0:e.mediaType)}function d(e){return"REMOTE_ASSIST"===(null==e?void 0:e.mediaType)}function _(e){return"CHAT"===(null==e?void 0:e.mediaType)&&"party_notes_disposition"===e.event}function f(e){return"timestamp"in e?e.timestamp:e.createdTime}function p(e,t){if(e.mediaType!==t.mediaType||e.globalInteractionId!==t.globalInteractionId)return!1;if(a(e)){var n=t;return e.msg===n.msg&&e.msgId===n.msgId&&e.event===n.event&&e.timestamp===n.timestamp}if(u(e)){var r=t;return e.createdTime===r.createdTime&&e.phone===r.phone&&e.contactId===r.contactId}if(l(e)){var o=t;return e.createdTime===o.createdTime&&e.caseId===o.caseId}if(c(e)){var i=t;return e.fileId===i.fileId&&e.timestamp===i.timestamp}if(_(e)){var s=t;return e.timestamp===s.timestamp&&e.disposition===s.disposition&&e.notes===s.notes}if(d(e)){var f=t;return e.createdTime===f.createdTime&&e.contactId===f.contactId&&e.globalInteractionId===f.globalInteractionId}return!1}var m,g,h,v=n(64245),y={onInitialState:(0,v.event)(),onChange:(0,v.event)(),onContactChanged:(0,v.event)(),onContactDeleted:(0,v.event)(),onChangeExternalContact:(0,v.event)()},b={getContactFormsDefinitions:(0,v.asyncEvent)(),getContactList:(0,v.asyncEvent)(),resetContactSearch:(0,v.event)(),fetchContactListWithQuery:(0,v.asyncEvent)(),resetContactListByChunks:(0,v.event)(),getContacts:(0,v.asyncEvent)(),getContactListByChunks:(0,v.event)(),getContact:(0,v.asyncEvent)(),findContact:(0,v.asyncEvent)(),getContactDetails:(0,v.asyncEvent)(),createContact:(0,v.event)(),saveContact:(0,v.event)(),saveContactDetails:(0,v.event)(),deleteContact:(0,v.asyncEvent)(),deleteContactPhoto:(0,v.asyncEvent)(),addPhone:(0,v.event)(),addEmail:(0,v.event)(),getContactsWithQuery:(0,v.asyncEvent)(),updateActivityHistoryForContact:(0,v.event)(),addNewMessagesForContact:(0,v.event)(),updateIsLoadingForActivityHistory:(0,v.event)(),updateActivityHistoryMessageText:(0,v.event)(),maskFile:(0,v.event)(),mergeContacts:(0,v.asyncEvent)()},S={callOptions:function(e){var t,n;return null!==(n=null===(t=e.phones)||void 0===t?void 0:t.map((function(e){return{key:e.id,type:e.type,value:e.phone}})))&&void 0!==n?n:[]},chatOptions:function(e){var t,n;return null!==(n=null===(t=e.phones)||void 0===t?void 0:t.map((function(e){return{key:e.id,type:e.type,value:e.phone}})))&&void 0!==n?n:[]},emailOptions:function(e){var t,n;return null!==(n=null===(t=e.emails)||void 0===t?void 0:t.map((function(e){return{key:e.id,type:e.type,value:e.emailAddress}})))&&void 0!==n?n:[]}},C=["chat","voice","all"];!function(e){e.BUSINESS="BUSINESS",e.HOME="HOME",e.MOBILE="MOBILE",e.FAX="FAX"}(m||(m={})),function(e){e.BUSINESS="BUSINESS",e.PRIVATE="PRIVATE",e.PRIMARY="PRIMARY"}(g||(g={})),function(e){e.PRIMARY="PRIMARY",e.BILLING="BILLING",e.SHIPPING="SHIPPING",e.OTHER="OTHER"}(h||(h={}))},85499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContactsStateImpl:()=>R});var r=n(9282),a=n.n(r),o=n(2122),i=n(3211),s=n(5141),c=n(27385),u=n(52388),l=n(26220),d=n(5518),_=n(40381),f=n(16152);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,s,"next",e)}function s(e){g(o,r,a,i,s,"throw",e)}i(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function w(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?m(e):t;var n}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function P(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(p,e);var t,n,r,f=A(p);function p(){var e;v(this,p),b(m(e=f.apply(this,arguments)),"resetReachedActivityHistoryLimit",(function(t){e.produceState((function(e){var n,r;(null===(n=e.activityHistory[t])||void 0===n?void 0:n.reachedLimit)&&(e.activityHistory[t].reachedLimit=!1),(null===(r=e.activityHistory[t])||void 0===r?void 0:r.reachedLimitByMedia)&&(e.activityHistory[t].reachedLimitByMedia={chat:!1,voice:!1,all:!1})}))})),b(m(e),"onContactList",(function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).searchId;e.produceState((function(e){n?(e.search[n].list=t,e.search[n].isLoading=!1):(e.contactList=t,e.contactListLoading=!1)}))})),b(m(e),"onContactListByChunks",(function(t){e.produceState((function(e){t.forEach((function(t){e.contactListByChunks.some((function(e){return e.id===t.id}))||e.contactListByChunks.push(t)})),e.contactListLoading=!1,e.contactListLoaded=!t.length,e.contactListByChunksLoading=!1}))})),b(m(e),"onContactListError",(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).searchId;e.produceState((function(e){t?e.search=I(C({},e.search),b({},t,I(C({},e.search[t]),{list:[],isLoading:!1}))):(e.contactList=[],e.contactListLoading=!1,e.contactListByChunksLoading=!1)}))})),b(m(e),"getContactFormsDefinitions",(function(t){if(!(null==t?void 0:t.force)&&e.stateData.contactFormDefinitions.length<0)return Promise.resolve(e.stateData.contactFormDefinitions);e.produceState((function(e){e.formDefinitionsLoading=!0}));var n=e.sessionConnector.getStateData().serverOrigin;return(0,d.apiRequests)(n).getContactFormDefinition().then((function(t){return e.produceState((function(e){e.contactFormDefinitions=t,e.formDefinitionsLoading=!1})),t})).catch((function(){e.produceState((function(e){e.formDefinitionsLoading=!1}))}))})),b(m(e),"getContacts",(function(t){e.produceState((function(e){t.forEach((function(t){e.contacts[t]?e.contacts[t].contactDetailsLoading=!0:e.contacts[t]={data:null,isLoading:!0}}))}));var n=e.sessionConnector.getStateData().serverOrigin;try{return(0,d.apiRequests)(n).getContactList({requestBody:t}).then((function(e){return e.map(i.formatContactFromServer)})).then((function(t){return t.map((0,o.unary)(e.onContact))}))}catch(r){return l.bpLogger.error((0,_.getErrorMessage)(r)),Promise.resolve(void 0)}})),b(m(e),"getContactList",(function(t){var n=(t||{}).searchId;return e.produceState((function(e){n?e.search=I(C({},e.search),b({},n,I(C({},e.search[n]),{isLoading:!0}))):e.contactListLoading=!0})),e.fetchContactListWithQuery(t).then((function(t){if(t)return e.onContactList(t,{searchId:n}),t;e.onContactListError({searchId:n})})).catch((function(){return e.onContactListError({searchId:n})}))})),b(m(e),"resetContactSearch",(function(t){e.produceState((function(e){delete e.search[t]}))})),b(m(e),"resetContactListByChunks",(function(){e.produceState((function(e){e.contactListByChunks=[],e.contactListLoading=!1,e.contactListLoaded=!1,e.contactListByChunksLoading=!1})),e.getContactListByChunks({start:void 0,limit:200})})),b(m(e),"getContactListByChunks",(function(t){e.produceState((function(e){e.contactListByChunksLoading=!0,e.contactListLoading=!t.start}));var n=e.sessionConnector.getStateData().serverOrigin;(0,d.apiRequests)(n).getContactListWithParams({requestBody:t}).then(i.formatContactList).then((function(n){t.limit?e.onContactListByChunks(n):e.onContactList(n)})).catch(e.onContactListError)})),b(m(e),"getContactsWithQuery",(function(t){return e.fetchContactListWithQuery(t).then((function(e){if(e)return e;throw new Error("Failed to fetch contacts with phone: "+t.query)})).catch((function(e){return l.bpLogger.error((0,_.getErrorMessage)(e))}))})),b(m(e),"getContact",(function(t){var n=!t.force&&e.stateData.contacts[t.id];if(n&&n.data)return Promise.resolve(n.data);e.produceState((function(e){e.contacts[t.id]?e.contacts[t.id].contactDetailsLoading=!0:e.contacts[t.id]={data:null,isLoading:!0}}));var r=e.sessionConnector.getStateData().serverOrigin;return(0,i.fetchContact)(t,r).then((function(n){if(n&&n.length){var r=n[0];return e.onContact(r)}throw new Error("Failed to fetch a contact with id: "+t.id)})).catch((function(){return e.onContactError(t)}))})),b(m(e),"findContact",(function(t){var n,r,a=t.email,s=t.tel,c=t.force,u=[],d=[];if(a)n="email",u=null!==(r=e.stateData.contactIds.byEmail[a])&&void 0!==r?r:[];else if(s){var f;n="tel",u=null!==(f=e.stateData.contactIds.byTel[s])&&void 0!==f?f:[]}if(c||(d=u.map((function(t){return e.stateData.contacts[t].data})).filter(o.identity)),d.length)return Promise.resolve(d);var p=e.sessionConnector.getStateData().serverOrigin;return(0,i.fetchContact)(t,p).then((function(r){if(r)return(Array.isArray(r)?r:[r]).map((function(t){return e.onContact(t,n)}));throw new Error("Failed to fetch a contact with ".concat(n,": ").concat(t[n]))})).catch((function(e){return l.bpLogger.error((0,_.getErrorMessage)(e))}))})),b(m(e),"onContact",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.produceState((function(e){var r,a=t.Id.oid;e.contacts[a]=I(C({},e.contacts[a]),{data:t,isLoading:!1,contactDetailsLoading:!1}),function(){var n=(0,i.contactToShortContact)(t),r=e.contactList.findIndex((function(e){return e.id===a}));-1!==r&&(e.contactList[r]=n);var o=e.contactListByChunks.findIndex((function(e){return e.id===a}));if(-1===o){var s=e.contactListByChunks.findIndex((function(e){return e.lastName>n.lastName}));-1!==s&&e.contactListByChunks.splice(s,0,n)}else e.contactListByChunks[o]=n}(),"tel"===n&&(null===(r=t.phones)||void 0===r||r.forEach((function(t){var n=t.phone;e.contactIds.byTel[n]?e.contactIds.byTel[n].push(a):e.contactIds.byTel[n]=[a]}))),"email"===n&&t.emails.forEach((function(t){var n=t.emailAddress;e.contactIds.byEmail[n]?e.contactIds.byEmail[n].push(a):e.contactIds.byEmail[n]=[a]}))})),e.toClientDispatch.onContactChanged(t),t})),b(m(e),"onContactError",(function(t){t.id&&e.produceState((function(e){delete e.contacts[t.id]}))})),b(m(e),"getContactDetails",(function(t){var n=t.id,r=!t.force&&e.stateData.contacts[n];if(r&&r.details)return Promise.resolve(r.details);e.produceState((function(e){e.contacts[n]?e.contacts[n].contactDetailsLoading=!0:e.contacts[n]={data:null,isLoading:!0}}));var a=e.sessionConnector.getStateData().serverOrigin;return(0,d.apiRequests)(a).getContactValues({id:n,type:"CONTACT_DETAIL"}).then((function(t){return e.onContactDetails(n,t)})).catch((function(){return e.onContactErrorDetails(n)}))})),b(m(e),"onContactDetails",(function(t,n){var r=n.variables,a=(0,i.formatContactDetailsFromServer)(r);return e.produceState((function(e){e.contacts[t].details=a,e.contacts[t].contactDetailsLoading=!1})),a})),b(m(e),"onContactErrorDetails",(function(t){e.produceState((function(e){e.contacts=I(C({},e.contacts),b({},t,I(C({},e.contacts[t]),{details:void 0,contactDetailsLoading:!1})))}))})),b(m(e),"createContact",(function(t){var n=t.details,r=t.contact,a=void 0===r?{}:r,s=t.photoId,c=t.externalContactData,u=void 0===c?void 0:c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=l.onSuccess,f=l.onError,p=null==n?void 0:n.Contact,m=null==n?void 0:n.Company,g=(0,o.flow)(e.getRequestDataFromContactDetails,i.useDefaultValueForFieldArrays)(p),h=e.sessionConnector.getStateData().serverOrigin;(0,d.apiRequests)(h).createContact({requestBody:s?I(C({},a),{photo:s}):a}).then((function(e){return m?(0,d.apiRequests)(h).createCompany({requestBody:m}).then((function(t){return(0,d.apiRequests)(h).updateContact({contactId:e,requestBody:I(C({},g),{company_id:t})}).then((function(e){return e._id.oid}))})):p?(0,d.apiRequests)(h).updateContact({contactId:e,requestBody:g}).then((function(e){return e._id.oid})):e})).then((function(t){e.getContact({id:t,force:!0}),u&&e.toClientDispatch.onChangeExternalContact(u),null==_||_(t)})).catch(f)})),b(m(e),"saveContact",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onError,a=n.onSuccess,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=t.Id.oid,s={},c=e.sessionConnector.getStateData().serverOrigin;(0,d.apiRequests)(c).updateContact({contactId:i,requestBody:s}).then((function(){e.getContact({id:i,force:!0}),o&&e.toClientDispatch.onChangeExternalContact(o),null==a||a(i)})).catch(r)}));var t,n=m(e);b(m(e),"saveContactDetails",(t=h((function(e,t){var r,a,o,i,s,c,u,l,_,f,p,m,g=arguments;return P(this,(function(h){switch(h.label){case 0:r=g.length>2&&void 0!==g[2]?g[2]:{},a=r.onSuccess,o=r.onError,i=g.length>3&&void 0!==g[3]?g[3]:void 0,s=n.sessionConnector.getStateData().serverOrigin,n.produceState((function(t){t.contacts[e].contactDetailsUpdating=!0})),c=null==t?void 0:t.Company,h.label=1;case 1:return h.trys.push([1,5,6,7]),f=null===(_=n.stateData.contacts[e])||void 0===_||null===(l=_.data)||void 0===l||null===(u=l.companyId)||void 0===u?void 0:u.oid,(m=f)?[3,3]:[4,(0,d.apiRequests)(s).createCompany({requestBody:{}})];case 2:m=h.sent(),h.label=3;case 3:return p=m,[4,Promise.all([n.updateContactDetails({contactId:e,details:t,newCompanyId:f?void 0:p}),n.updateCompanyDetails(p,c)])];case 4:return h.sent(),n.getContact({id:e,force:!0}),n.getContactDetails({id:e,force:!0}),i&&n.toClientDispatch.onChangeExternalContact(i),null==a||a(e),[3,7];case 5:return h.sent(),null==o||o(),[3,7];case 6:return n.produceState((function(t){t.contacts[e].contactDetailsUpdating=!1})),[7];case 7:return[2]}}))})),function(e,n){return t.apply(this,arguments)}));var r=m(e);b(m(e),"updateContactDetails",function(){var e=h((function(e){var t,n,a,s,c,u,l,_;return P(this,(function(f){switch(f.label){case 0:return t=e.contactId,n=e.details,a=e.newCompanyId,s=null==n?void 0:n.Contact,c=(0,o.flow)(r.getRequestDataFromContactDetails,i.useDefaultValueForFieldArrays)(s),a&&(c.company_id=a),Object.keys(c).length?(u=r.sessionConnector.getStateData().serverOrigin,[4,(0,d.apiRequests)(u).updateContact({contactId:t,requestBody:c})]):[2,void 0];case 1:return l=f.sent(),_=l._id,[2,_.oid]}}))}));return function(t){return e.apply(this,arguments)}}());var u=m(e);b(m(e),"updateCompanyDetails",function(){var e=h((function(e,t){var n;return P(this,(function(r){return t&&e?(n=u.sessionConnector.getStateData().serverOrigin,[2,(0,d.apiRequests)(n).updateContactDetails({companyId:e,requestBody:t})]):[2,void 0]}))}));return function(t,n){return e.apply(this,arguments)}}()),b(m(e),"deleteContact",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;return(0,d.apiRequests)(n).deleteContact({contactId:t}).then((function(){var n=function(e){return e.id!==t};return e.produceState((function(e){delete e.contacts[t],e.contactList=e.contactList.filter(n),e.contactListByChunks=e.contactListByChunks.filter(n),delete e.activityHistory[t]})),e.toClientDispatch.onContactDeleted(t),t}))})),b(m(e),"deleteContactPhoto",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;return(0,d.apiRequests)(n).deleteContactPhoto({contactId:t})})),b(m(e),"addPhone",(function(t){var n=t.contactId,r=t.type,a=t.phone,o=e.sessionConnector.getStateData().serverOrigin;(0,d.apiRequests)(o).createContactPhone({contactId:n,requestBody:{id:null,type:r,phone:a}}).then((function(){return e.getContactDetails({id:n,force:!0})}))})),b(m(e),"addEmail",(function(t){var n=t.contactId,r=t.type,a=t.email,o=e.sessionConnector.getStateData().serverOrigin;(0,d.apiRequests)(o).createContactEmail({contactId:n,requestBody:{id:null,type:r,email_address:a}}).then((function(){return e.getContactDetails({id:n,force:!0})}))})),b(m(e),"updateActivityHistoryForContact",(function(t){var n=t.messages,r=void 0===n?[]:n,a=t.activityCreatedTime,o=t.contactId,i=function(e){switch(e){case"CHAT":return"chat";case"VOICE":return"voice";default:return"all"}}(t.type);e.produceState((function(t){var n,c;t.activityHistory[o]&&!t.activityHistory[o].activityCreatedTimeByMedia&&(t.activityHistory[o].activityCreatedTimeByMedia={}),!r.length&&(null===(n=t.activityHistory[o])||void 0===n?void 0:n.activityCreatedTimeByMedia)?s.mediaFilters.forEach((function(e){t.activityHistory[o].activityCreatedTimeByMedia[e]=1})):((null===(c=t.activityHistory[o])||void 0===c?void 0:c.activityCreatedTime)&&(t.activityHistory[o].activityCreatedTimeByMedia[i]=a),"all"===i&&(t.activityHistory[o]&&(t.activityHistory[o].activityCreatedTime=a),s.mediaFilters.forEach((function(e){var n;(null===(n=t.activityHistory[o])||void 0===n?void 0:n.activityCreatedTimeByMedia)&&(!t.activityHistory[o].activityCreatedTimeByMedia[e]||t.activityHistory[o].activityCreatedTimeByMedia[e]>a)&&(t.activityHistory[o].activityCreatedTimeByMedia[e]=a)})))),function(){var e;function n(){t.activityHistory[o]&&(t.activityHistory[o].reachedLimit=!0,t.activityHistory[o].reachedLimitByMedia={all:!0,voice:!0,chat:!0})}function a(){var e,n;return null!==(n=null===(e=t.activityHistory[o])||void 0===e?void 0:e.reachedLimitByMedia)&&void 0!==n?n:{chat:!1,voice:!1,all:!1}}!r.length&&("all"===i?n():(e=a(),t.activityHistory[o].reachedLimitByMedia=I(C({},e),b({},i,!0)),function(){var e=a();return e.chat&&e.voice}()&&n()))}(),function(){var e,n,a,i;t.activityHistory[o]&&(t.activityHistory[o].handledBy=(i=null!==(a=null===(n=t.activityHistory)||void 0===n||null===(e=n[o])||void 0===e?void 0:e.handledBy)&&void 0!==a?a:{},r.reduce((function(e,t){var n,r=t.users,a=null!==(n=e[t.globalInteractionId])&&void 0!==n?n:[];if(r){var o=r.map((function(e){return e.userId})).filter(Boolean);e[t.globalInteractionId]=T(a).concat(T(o))}return"party_joined"===t.event&&t.userId&&(e[t.globalInteractionId]=T(a).concat([t.userId])),e}),i)))}(),e.addNewMessagesForContactProducer(r,o,t)}))})),b(m(e),"addNewMessagesForContact",(function(t){var n=t.messages,r=t.contactId,a=(0,o.partial)(e.addNewMessagesForContactProducer,n,r);e.produceState(a)})),b(m(e),"addNewMessagesForContactProducer",(function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=(0,_.mergeMessages)(null===(t=a.activityHistory[r])||void 0===t?void 0:t.messages,e.insertSentimentToCallEntries(n),s.getMessageTime,s.isSameMessage);a.activityHistory[r]=I(C({},a.activityHistory[r]),{messages:o})})),b(m(e),"insertSentimentToCallEntries",(function(e){var t=function(e){if(e){var t=e.reduce((function(e,t){return(0,s.isTranscriptMessageAttributes)(t)&&(e[t.refMsgId]=t),e}),{});return e.filter((0,_.not)(s.isTranscriptMessageAttributes)).map((function(e){return e.msgId&&t[e.msgId]?I(C({},e),{sentimentScore:t[e.msgId].sentimentScore}):e}))}},n=function(e){if(e){var t=e.filter((function(e){return void 0!==e.sentimentScore})),n=t.length;if(0!==n){var r=t.reduce((function(e,t){return new(a())(e).plus(t.sentimentScore)}),new(a())(0)).dividedBy(n).toNumber();return(0,c.getSentimentFrom)(r)}}};return e.map((function(e){return(0,s.isCall)(e)?I(C({},e),{sentiment:n(e.transcript),transcript:t(e.transcript)}):e}))})),b(m(e),"updateActivityHistoryMessageText",(function(t){var n=(0,o.partial)(e.updateActivityHistoryMessageTextProducer,t);e.produceState(n)})),b(m(e),"maskFile",(function(t){var n=(0,o.partial)(e.maskFileProducer,t);e.produceState(n)})),b(m(e),"updateIsLoadingForActivityHistory",(function(t){var n=t.isLoading,r=t.contactId;e.produceState((function(e){e.activityHistory[r]=I(C({},e.activityHistory[r]),{isLoading:n})}))})),b(m(e),"fetchContactListWithQuery",(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).query,n=e.sessionConnector.getStateData().serverOrigin;return(0,d.apiRequests)(n).getContactListWithQuery({query:e.fixElasticKeywords(t)||"",lang:"en"}).then((function(e){var t=e.contacts;return t?(0,i.formatContactList)(t):[]}))}));var g=m(e);return b(m(e),"mergeContacts",function(){var e=h((function(e){var t,n,r;return P(this,(function(a){switch(a.label){case 0:return t=e.id,n=e.mergedDetails,r=e.removeIds,[4,new Promise((function(e,r){g.saveContactDetails(t,n,{onSuccess:e,onError:r})}))];case 1:return a.sent(),[4,Promise.all(r.map((function(e){return g.deleteContact(e)})))];case 2:return a.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),e}return t=p,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getContactFormsDefinitions:this.getContactFormsDefinitions,getContactList:this.getContactList,resetContactSearch:this.resetContactSearch,getContacts:this.getContacts,getContactListByChunks:this.getContactListByChunks,resetContactListByChunks:this.resetContactListByChunks,getContact:this.getContact,findContact:this.findContact,getContactDetails:this.getContactDetails,createContact:this.createContact,saveContact:this.saveContact,saveContactDetails:this.saveContactDetails,deleteContact:this.deleteContact,deleteContactPhoto:this.deleteContactPhoto,fetchContactListWithQuery:this.fetchContactListWithQuery,addPhone:this.addPhone,addEmail:this.addEmail,getContactsWithQuery:this.getContactsWithQuery,updateActivityHistoryForContact:this.updateActivityHistoryForContact,addNewMessagesForContact:this.addNewMessagesForContact,updateIsLoadingForActivityHistory:this.updateIsLoadingForActivityHistory,updateActivityHistoryMessageText:this.updateActivityHistoryMessageText,maskFile:this.maskFile,mergeContacts:this.mergeContacts}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:function(t){var n,r,a;((0,u.isExternalChat)(t)||(0,u.isPotentialInteraction)(t))&&t.contactId&&!(null===(a=e.stateData.activityHistory)||void 0===a||null===(r=a[t.contactId])||void 0===r||null===(n=r.messages)||void 0===n?void 0:n.length)&&e.resetReachedActivityHistoryLimit(t.contactId)}}))}},{key:"getRequestDataFromContactDetails",value:function(e){var t=C({},e),n=t.emails;n&&(t.emails_all=t.emails,t.emails=(0,i.formatSingleField)(n));var r=t.phones;r&&(t.phones_all=t.phones,t.phones=(0,i.formatSingleField)(r));var a=t.addresses;return a&&(t.addresses_all=t.addresses,t.addresses=(0,i.formatSingleField)(a)),"string"==typeof t.messengers&&(t.messengers=JSON.parse(t.messengers)),t}},{key:"updateActivityHistoryMessageTextProducer",value:function(e,t){var n=e.contactId,r=e.messageId,a=e.messageText,o=t.activityHistory[n].messages.findIndex((function(e){return e.msgId===r})),i=C({},t.activityHistory[n].messages[o]);(0,s.isTextMessage)(i)&&(i.msg=a),t.activityHistory[n].messages.splice(o,1,i)}},{key:"maskFileProducer",value:function(e,t){var n=e.fileId,r=e.contactId,a=t.activityHistory[r].messages.findIndex((function(e){return e.fileId===n})),o=I(C({},t.activityHistory[r].messages[a]),{fileId:void 0});t.activityHistory[r].messages.splice(a,1,o)}},{key:"fixElasticKeywords",value:function(e){var t=null==e?void 0:e.match(/^(\w+):(.*)/);if(!t)return e;var n=O(t,3),r=n[1],a=n[2];if("dob"===r){var o=(0,c.formatDate)(a,{searched:!0});return"".concat(r,":").concat(o)}return"".concat(r,":").concat(a)}}])&&y(t.prototype,n),r&&y(t,r),p}(f.StateFactory.createBaseStateClass({name:"contactsState",controlEvents:s.contactsControlEvents,trackerEvents:s.contactsTrackerEvents,options:{authorized:!0},dependencies:["sessionConnector","interactionStateConnector"],getInitialState:s.getInitialContactsState}))},16608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CurrentTabDataContext:()=>r,CurrentTabDataContextProvider:()=>i,useBrowserTabMetaInfo:()=>s,useCurrentTabRole:()=>u,useIsCommunicator:()=>l,useUpdateCurrentTabState:()=>c});var r,a=n(52322),o=(n(66029),n(86702)),i=function(e){var t=e.children,n=e.value;return r||((r=(0,o.createContext)(n)).displayName="CurrentTabDataContext"),(0,a.jsx)(r.Provider,{value:n,children:t})},s=function(){return(0,o.useContextSelector)(r,(function(e){return e.get()}))},c=function(){return(0,o.useContextSelector)(r,(function(e){return e.updateCurrentTabState}))},u=function(){return s().role},l=function(){return"adc"===s().app}},71182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CurrentTabDataProviderImpl:()=>d,createCurrentTabDataProvider:()=>_});var r=n(2122),a=n(26220),o=n(26552),i=n(87801);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var d=function(){function e(t,n){var s=this,d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"roleManager",void 0),c(this,"tabsConnector",void 0),c(this,"currentTabData",void 0),c(this,"subscriptions",void 0),c(this,"updateCurrentTabState",void 0),c(this,"onTabRoleChanged",void 0),c(this,"onFreeze",void 0),c(this,"onResume",void 0),c(this,"onUnload",void 0),c(this,"onPageHide",void 0),c(this,"onVisibilityChange",void 0),c(this,"setIntegrationApiActive",void 0),c(this,"activateTab",void 0),this.roleManager=n,this.tabsConnector=void 0,this.subscriptions=[],this.updateCurrentTabState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof document&&d.tabsConnector){var t=u(l(u({},d.currentTabData),{visible:!document.hidden,role:d.roleManager.getRole()}),e);(0,r.isEqual)(d.currentTabData,t)||(d.tabsConnector.dispatch.updateTabState(i.tabId,t),d.currentTabData=t)}},this.onTabRoleChanged=function(){s.updateCurrentTabState()},this.onFreeze=function(){s.updateCurrentTabState({frozen:!0})},this.onResume=function(){s.updateCurrentTabState({frozen:!1})},this.onUnload=function(){a.bpLogger.info("@TABS drop tab",i.tabId),(0,o.assertDefined)(s.tabsConnector),s.tabsConnector.dispatch.dropTab(i.tabId)},this.onPageHide=function(e){e.persisted?s.onFreeze():s.onUnload()},this.onVisibilityChange=function(){"visible"===document.visibilityState?s.activateTab():s.updateCurrentTabState()},this.setIntegrationApiActive=function(e){s.updateCurrentTabState({activeApi:e})},this.activateTab=function(){s.updateCurrentTabState({latestActivationTimestamp:Date.now()})},this.currentTabData={id:i.tabId,app:t,boss:!1,activeApi:!1,latestActivationTimestamp:0,role:"undecided",visible:!1,data:void 0},this.updateCurrentTabState(),"undefined"!=typeof window&&window.addEventListener&&(this.roleManager.onRoleChanged(this.onTabRoleChanged),window.addEventListener("freeze",this.onFreeze,!0),window.addEventListener("resume",this.onResume,!0),window.addEventListener("beforeunload",this.onUnload,!0),window.addEventListener("pagehide",this.onPageHide,!0),window.addEventListener("pageshow",this.onResume,!0),window.addEventListener("visibilitychange",this.onVisibilityChange,!0),window.addEventListener("focus",this.activateTab,!0)),this.subscriptions.push({unsubscribe:function(){"undefined"!=typeof window&&window.removeEventListener&&(s.roleManager.removeRoleChangedListener(s.onTabRoleChanged),window.removeEventListener("freeze",s.onFreeze,!0),window.removeEventListener("resume",s.onResume,!0),window.removeEventListener("unload",s.onUnload,!0),window.removeEventListener("pagehide",s.onPageHide,!0),window.removeEventListener("pageshow",s.onResume,!0),window.removeEventListener("visibilitychange",s.onVisibilityChange,!0),window.removeEventListener("focus",s.activateTab,!0))}})}var t,n,d;return t=e,(n=[{key:"injectTabsStateConnector",value:function(e){var t=this;this.cleanup(),this.tabsConnector=e,this.subscriptions.push(e.dispenser.subscribe({onInitialState:function(e){e.tabs[i.tabId]||(t.currentTabData=l(u({},t.currentTabData),{visible:!document.hidden,role:t.roleManager.getRole()}),(0,o.assertDefined)(t.tabsConnector),t.tabsConnector.dispatch.updateTabState(i.tabId,t.currentTabData)),i.tabId in e.tabs&&(t.currentTabData=e.tabs[i.tabId])},onCollectTabsInfo:this.updateCurrentTabState}))}},{key:"get",value:function(){return this.currentTabData}},{key:"cleanup",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}])&&s(t.prototype,n),d&&s(t,d),e}();function _(e,t){return new d(e,t)}},96935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DIDStateContextProvider:()=>o,useDIDNumberLocalization:()=>m,useDidState:()=>c,useDidStateConnector:()=>d,useDidStateMethods:()=>l,useDidStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("DIDStateContextProvider"),o=a.DIDStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("didState",i),c=s.useDidState,u=s.useDidStateRef,l=s.useDidStateMethods,d=s.useDidStateConnector,_=n(66029),f=n(27385),p=n(53179);function m(){var e=(0,p.useLocalizationState)().t;return(0,_.useCallback)((function(t){var n=(0,f.formatPhone)(t.externalNumber.toString())||"";return t.isSMS&&(t.isVoice||t.isExtension)?e.DID.voice_and_sms_number(n):t.isSMS?e.DID.sms_number(n):e.DID.voice_number(n)}),[e.DID])}},12016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DIDNumberStateContext:()=>b,DIDNumberStateProvider:()=>C,initialDIDNumber:()=>y,initialState:()=>v,lastSelectedDIDNumberStorageName:()=>S,useDIDNumberState:()=>I});var r=n(52322),a=n(66029),o=n.n(a),i=n(87517),s=n(84512),c=n(40381),u=n(29016);var l=n(2122),d=n(3118),_=n(52388),f=n(15922);var p=n(79607);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h="DIDNumberStateContext",v={selectedDIDNumber:void 0,setDIDNumber:(0,c.throwNoProviderError)(h)},y=v.selectedDIDNumber,b=o().createContext(v);b.displayName=h;var S="adLastSelectedDIDNumber",C=function(e){var t=g((0,a.useState)(y),2),n=t[0],o=t[1],m=(0,u.useNotificationsState)("methods").hideNotificationsByTag,h=(0,s.useLocalSettings)(),v=(0,i.useDidState)("didNumbers"),C=(0,c.useEvent)((function(e){var t="function"==typeof e?e(n):e;return t&&m("interaction-init"),o(t),t?h.set(S,t):h.remove(S)})),I=function(e){var t=e.didNumbers,n=e.localSettings,r=e.setDIDNumber,o=(0,a.useMemo)((function(){return Object.values(t)}),[t]),i=(0,a.useCallback)((function(){n.get(S).then((function(e){var n=e&&t[e];r(n?n.id:y)}))}),[t,n,r]);return(0,a.useEffect)((function(){o.length&&i()}),[o.length,i]),i}({didNumbers:v,localSettings:h,setDIDNumber:o});!function(e){var t=e.didNumber,n=e.setDIDNumber,r=e.retrieveLastSelectedDIDNumber,o=(0,d.useInteractions)(),i=(0,c.usePrevious)(o),s=(0,f.useServicesDispositionsState)(),u=s.serviceRequiredForOutboundCall,p=s.resetServiceOnOutboundCall,m=(0,a.useMemo)((function(){return i?(0,l.differenceBy)(o,i,(function(e){return e.id})):o}),[i,o]);(0,a.useEffect)((function(){m.forEach((function(e){u&&((0,_.isOutboundInteraction)(e)&&(0,_.isCall)(e)&&t?p&&n(y):r())}))}),[u,p,t,n,m,r])}({didNumber:n,setDIDNumber:o,retrieveLastSelectedDIDNumber:I}),function(e){var t=(0,p.useSessionState)().isLoggedIn;(0,a.useEffect)((function(){t||e(y)}),[e,t])}(C);var w=(0,a.useMemo)((function(){return{selectedDIDNumber:n,setDIDNumber:C}}),[n,C]);return(0,r.jsx)(b.Provider,{value:w,children:e.children})},I=function(){return(0,a.useContext)(b)}},1304:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DIDStateImpl:()=>y});var r=n(95944),a=n(26220),o=n(16152),i=n(50944),s={externalnumber:"externalNumber",id:"id",is_extension:["isExtension",i.transportToBoolean],is_sms:["isSMS",i.transportToBoolean],is_voice:["isVoice",i.transportToBoolean]};function c(e){return e.reduce((function(e,t){return e[t.id]=(0,i.convertIncomingObject)(t,s),e}),{})}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?u(e):t;var n}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=v(i);function i(){var e;return l(this,i),_(u(e=o.apply(this,arguments)),"requestDIDNumbers",(function(t){return e.transport.dispatch.agent_access_number_info({internal_number:t}).then((function(t){var n=t.error,r=t.result;if((null==n?void 0:n.message)||!r)return a.bpLogger.error(null==n?void 0:n.message),[];var o=c(r);return e.updateState((function(e){return m(p({},e),{didNumbers:p({},o)})})),e.toClientDispatch.onDIDNumbersReceived(o),Object.values(o)}))})),e}return t=i,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({requestDIDNumbers:this.requestDIDNumbers}),this.sessionConnector.dispenser.subscribe({onPhoneNumberChanged:function(t){var n=t.useOutboundDIDEnabled,r=t.phoneNumber;n&&e.requestDIDNumbers(r)}}))}}])&&d(t.prototype,n),r&&d(t,r),i}(o.StateFactory.createBaseStateClass({name:"didState",controlEvents:r.didStateControlEvents,trackerEvents:r.didStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:r.getInitialDidState,dependencies:["transport","sessionConnector"]}))},2584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{didStateControlEvents:()=>i,didStateTrackerEvents:()=>o,getInitialDidState:()=>r});var r=function(){return{didNumbers:{}}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onDIDNumbersReceived:(0,a.event)()},i={requestDIDNumbers:(0,a.asyncEvent)()}},4012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DirectoryStateContextProvider:()=>o,useDialpadSearchResultsState:()=>g,useDirectorySearchResultsState:()=>m,useDirectoryState:()=>u,useDirectoryStateConnector:()=>_,useDirectoryStateMethods:()=>d,useDirectoryStateRef:()=>l,useDirectoryUser:()=>f,useTeamsAndOtherUsersSearchResults:()=>h});var r=n(13641),a=(0,r.createStateContextProvider)("DirectoryStateContextProvider"),o=a.DirectoryStateContextProvider,i=a.getContext,s=n(66029),c=(0,r.createStateHooks)("directoryState",i),u=c.useDirectoryState,l=c.useDirectoryStateRef,d=c.useDirectoryStateMethods,_=c.useDirectoryStateConnector,f=function(e){return u((function(t){return t.users.find((function(t){return t.userId===e}))}))},p={data:{directoryCategories:[],directoryEntries:[],teams:[],users:[],usersWithoutCurrentUser:[],emiUsers:{}}};function m(){var e=u("searchResults").directory;return(0,s.useMemo)((function(){return null!=e?e:p}),[e])}function g(){var e=u("searchResults").dialpad;return(0,s.useMemo)((function(){return e?e.data.users:[]}),[e])}function h(e){var t=u("searchResults")[e];return(0,s.useMemo)((function(){var e,n,r,a;return{users:null!==(e=null==t?void 0:t.data.users)&&void 0!==e?e:[],usersWithoutCurrentUser:null!==(n=null==t?void 0:t.data.usersWithoutCurrentUser)&&void 0!==n?n:[],teams:null!==(r=null==t?void 0:t.data.teams)&&void 0!==r?r:[],loading:null===(a=null==t?void 0:t.isLoading)||void 0===a||a}}),[t])}},95652:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{EMI_CATEGORY_NAMES:()=>c,MS_TEAMS_CHANNELS_CATEGORY_ID:()=>s,MS_TEAMS_CHATS_CATEGORY_ID:()=>i,assertEmiCategoryId:()=>y,directoryStateControlEvents:()=>h,directoryStateTrackerEvents:()=>g,getInitialDirectoryState:()=>o,internalUser:()=>v,isEmailServiceEntry:()=>d,isHuntGroupEntry:()=>p,isScenarioChatEntry:()=>l,isScenarioVoiceEntry:()=>u,isStaticEmailEntry:()=>f,isStaticVoiceEntry:()=>_});var a,o=function(){return{teams:[],categories:[],users:[],teamsWithoutCurrentUser:[],usersWithoutCurrentUser:[],isUsersLoading:!1,isTeamsLoading:!1,categoryEntries:{},searchResults:{},emiCategories:[],emiUsers:{}}},i="msteams_chats_category_id",s="msteams_channels_category_id",c=(r(a={},i,"Microsoft Teams Chats"),r(a,s,"Microsoft Teams Channels"),a);function u(e){return"voice"===e.mediaType&&"serviceId"in e&&"string"==typeof e.serviceId}function l(e){return"chat"===e.mediaType&&"serviceId"in e&&"string"==typeof e.serviceId}function d(e){return"email"===e.mediaType&&!f(e)}function _(e){return"voice"===e.mediaType&&!u(e)&&!p(e)}function f(e){return"email"===e.mediaType&&"email"in e&&"string"==typeof e.email}function p(e){return"voice"===e.mediaType&&"huntGroupId"in e&&"string"==typeof e.huntGroupId}var m=n(64245),g={onInitialState:(0,m.event)(),onChange:(0,m.event)()},h={getAgentTeams:(0,m.asyncEvent)(),getDirectoryCategories:(0,m.event)(),fetchLoggedUsers:(0,m.asyncEvent)(),getLoggedUsers:(0,m.event)(),getCategoryUsers:(0,m.event)(),subscribeUserDetails:(0,m.event)(),findContacts:(0,m.event)(),requestTeamUsers:(0,m.asyncEvent)()},v={callOptions:function(e){return[{key:"extension",type:"extension",value:e.extension}]},chatOptions:function(e){return[{key:"extension",type:"extension",value:e.extension}]},emailOptions:function(e){return[]}};function y(e){if(e!==s&&e!==i)throw Error('"'.concat(e,'" is not a valid EMI Category ID'))}},467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DirectoryStateImpl:()=>F});var r=n(2122),a=n(73482),o=n(33976),i=n(27385),s=n(18189),c=n(50944),u=n(26552),l=n(16152);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var t=(0,c.convertKVArray)(e),n=[];return t.forEach((function(e){var t=(0,c.convertKVArray)(e.users,(function(t){return{firstName:t.firstname,lastName:t.lastname,presenceState:t.presence_state,userId:t.user_id,extension:t.extension,isAgent:(0,c.transportToBoolean)(t.is_agent),teamId:e.team_id}}));n=_(n).concat(_(t))})),n}function p(e){return(0,c.convertKVArray)(e,(function(e){return{id:e.id,name:e.name,usersCount:Number(e.users_count),supervised:(0,c.transportToBoolean)(e.supervised)}}))}function m(e,t){return(0,c.convertKVArray)(t,(function(t){return{firstName:t.firstname,lastName:t.lastname,agentState:t.acd_state,userId:t.user_id,extension:t.extension,teamId:e,isLogged:(0,c.transportToBoolean)(t.is_logged)}}))}function g(e){return(0,c.convertKVArray)(e,(function(e){return{userType:"msteams_channel",channelId:e.channel_id,title:[e.team_name,e.channel_name].filter((function(e){return e})).join(" - "),photoUrl:e.photo_url}}))}function h(e){return e.map((function(e){return{userType:"msteams_channel",userId:e.channelId,isStatic:!0,firstName:e.title,teamId:a.MS_TEAMS_CHANNELS_CATEGORY_ID,photoId:e.photoUrl}}))}function v(e){return(0,c.convertKVArray)(e,(function(e){return{userType:"msteams",userId:e.user_id,loginId:e.login_id,chatId:e.chat_id,title:e.title,presenceState:(0,o.convertMsTeamsAvailability)(e.availability),email:e.email,firstName:e.firstname,lastName:e.lastname,phones:e.phones,photoUrl:e.photo_url,topic:e.topic,hasChat:(0,c.transportToBoolean)(e.has_chat)}}))}function y(e,t){return(0,c.convertKVArray)(t,(function(t){return(0,u.withoutUndefinedKeys)({id:t.id,mediaType:t.media_type,title:t.title,categoryId:e,number:"voice"===t.media_type?t.number:void 0,email:"email"===t.media_type&&"1"!==t.is_service?t.number:void 0,serviceId:"1"===t.is_service?t.id:t.service_id,huntGroupId:t.hunt_group_id})}))}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,s,"next",e)}function s(e){C(o,r,a,i,s,"throw",e)}i(void 0)}))}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},T(e,t,n||e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function R(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?S(e):t;var n}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var a=D(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function L(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var K="DIRECTORY",F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(_,e);var t,n,l,d=x(_);function _(){var e;w(this,_),O(S(e=d.apply(this,arguments)),"timeouts",{}),O(S(e),"teamId",void 0);var t,n=S(e);O(S(e),"fetchLoggedUsers",(t=I((function(e){return L(this,(function(t){switch(t.label){case 0:return e.length?[4,n.transport.dispatch.agent_get_logged_users({include_logged_out:"1",teams:(0,c.toKVArray)(e)})]:[2,Promise.resolve([])];case 1:return[2,f(t.sent().teams).sort(n.userSort)]}}))})),function(e){return t.apply(this,arguments)}));var l=S(e);O(S(e),"getLoggedUsers",function(){var e=I((function(e){var t;return L(this,(function(n){switch(n.label){case 0:return l.produceState((function(e){e.isUsersLoading=!0})),[4,l.fetchLoggedUsers(e)];case 1:return t=n.sent(),l.produceState((function(e){e.users=t,e.usersWithoutCurrentUser=t.filter(l.omitCurrentUser),e.isUsersLoading=!1})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var b=S(e);O(S(e),"requestTeamUsers",function(){var e=I((function(e){var t,n;return L(this,(function(r){switch(r.label){case 0:return[4,b.transport.dispatch.agent_get_logged_users({teams:(0,c.toKVArray)([e]),include_logged_out:"1"})];case 1:return t=r.sent().teams,n=t[0],(0,u.assertDefined)(n),[2,m(n.team_id,n.users)]}}))}));return function(t){return e.apply(this,arguments)}}());var C=S(e);return O(S(e),"getAgentTeams",I((function(){var e;return L(this,(function(t){switch(t.label){case 0:return C.produceState((function(e){e.isTeamsLoading=!0})),[4,C.transport.dispatch.agent_get_teams()];case 1:return e=t.sent().teams,C.produceState((function(e){e.isTeamsLoading=!1})),[2,p(e)]}}))}))),O(S(e),"getDirectoryCategories",(function(){e.transport.dispatch.agent_get_directory_categories()})),O(S(e),"onDirectoryCategories",(function(t){var n=Object.values(t.items).map((function(e){return P(A({},e),{category:!0})}));n.forEach((function(t){return e.getCategoryUsers(t.id)})),e.produceState((function(e){e.categories=n}))})),O(S(e),"getCategoryUsers",(function(t){var n={category_id:t};e.transport.dispatch.agent_get_directory(n)})),O(S(e),"onCategoryEntries",(function(t){switch(t.category_id){case a.MS_TEAMS_CHANNELS_CATEGORY_ID:e.addMsTeamsChannels(t);break;case a.MS_TEAMS_CHATS_CATEGORY_ID:e.addMsTeamsUsers(t);break;default:e.addDirectoryEntries(t)}})),O(S(e),"addMsTeamsChannels",(function(t){var n=g(t.items),r=h(n);r.length&&e.userDetailsConnector.dispatch.saveStaticUserDetails(r),e.produceState((function(e){e.emiUsers[a.MS_TEAMS_CHANNELS_CATEGORY_ID]=n}))})),O(S(e),"addMsTeamsUsers",(function(t){var n=v(t.items);e.produceState((function(e){e.emiUsers[a.MS_TEAMS_CHATS_CATEGORY_ID]=n}))})),O(S(e),"addDirectoryEntries",(function(t){var n=y(t.category_id,t.items);e.produceState((function(e){e.categoryEntries[t.category_id]=n}))})),O(S(e),"onAgentWelcome",(function(t){var n=t.team_id;e.teamId=n,e.fixTeamUsersCount(),"mobile"!==e.platformSpecific.clientType()&&e.getDirectoryCategories()})),O(S(e),"onAgentTeams",(function(t){var n=p(t.teams);e.produceState((function(e){e.teams=n})),e.fixTeamUsersCount()})),O(S(e),"fixTeamUsersCount",(function(){var t=S(e).teamId,n=e.stateData.teams.map((function(e){return e.id===t?void 0===e.usersCount?e:P(A({},e),{usersCount:e.usersCount-1}):e}));e.produceState((function(e){e.teamsWithoutCurrentUser=n}))})),O(S(e),"omitCurrentUser",(function(t){var n=e.sessionConnector.getStateData().userId;return t.userId!==n})),O(S(e),"userSort",(function(t,n){var r=["available","busy","away","dnd","offline","ringing"],a=N([t,n].map((function(e){var t=r.indexOf(e.presenceState);return-1!==t?t:r.length})),2),o=a[0],s=a[1],c=N([t,n].map((function(t){var n=e.sessionConnector.getStateData().displayNameFormat;return(0,i.formatFullName)(n,t.firstName,t.lastName)})),2),u=c[0],l=c[1],d=N([u,l].map((function(e){return e.toLowerCase()})),2),_=d[0],f=d[1];return(o===s?0:o>s?100:-100)+(_===f?0:_>f?10:-10)+(u===l?0:u>l?1:-1)})),O(S(e),"subscribeUserDetails",(function(t){if(e.transport.dispatch.agent_unsubscribe_users_details({type:K}),t.length){var n={type:K,users:(0,c.toKVArray)(t),user_fields:{0:"user_id",1:"capacity",2:"presence_state",3:"is_logged",4:"photo_id"}};e.transport.dispatch.agent_subscribe_users_details(n)}})),O(S(e),"onUserDetails",(function(t){var n;if(t.type===K){var r=[],i=[],c=[],u={},l={};for(Object.values(t.users).forEach((function(e){(0,s.isEmiUserDetails)(e)?l[e.user_id]=e:e.user_id&&(u[e.user_id]=e)})),e.stateData.users.forEach((function(e){var t=u[e.userId],n=e.presenceState||"offline",a=(null==t?void 0:t.presence_state)||"offline",o=P(A({},e),{presenceState:a||n,photoId:(null==t?void 0:t.photo_id)||e.photoId||""});t&&a!==n?c.push(o):r.push(o)})),null===(n=e.stateData.emiUsers[a.MS_TEAMS_CHATS_CATEGORY_ID])||void 0===n||n.forEach((function(e){var t=l[e.userId],n=e.presenceState||"offline",r=(null==t?void 0:t.availability)&&(0,o.convertMsTeamsAvailability)(null==t?void 0:t.availability),a=P(A({},e),{presenceState:r||n,photoUrl:(null==t?void 0:t.photo_url)||e.photoUrl||""});i.push(a)}));c.length;){var d=c.pop(),_=void 0,f=!1;for(_=0;_<r.length;_++)if(e.userSort(d,r[_])<1){r.splice(_,0,d),f=!0;break}f||r.push(d)}e.produceState((function(e){e.users=r})),i.length&&e.produceState((function(e){e.emiUsers[a.MS_TEAMS_CHATS_CATEGORY_ID]=i})),e.produceState((function(t){Object.keys(t.searchResults).forEach((function(n){var a=t.searchResults[n].data.users.map((function(e){var t=r.find((function(t){return t.userId===e.userId}));return t?P(A({},e),{presenceState:t.presenceState,firstName:t.firstName,lastName:t.lastName,isAgent:t.isAgent||!1,extension:t.extension}):e}));t.searchResults[n].data.users=a.sort(e.userSort)}))}))}})),O(S(e),"findContacts",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=["user_id","firstname","lastname","login_id","extension","is_logged","acd_state","photo_id","presence_state","state_duration","reason","active_item_id","items"],o=["item_id","service_id","media_type","state","direction","service_name","party_name","is_flagged","qm_is_recording","qm_monitor_mode","qm_monitored_item_id","talk_duration","hold_duration","voice_recording_banned","monitoring_banned"];e.produceState((function(e){e.searchResults[n]={data:{directoryCategories:[],directoryEntries:[],teams:[],users:[],usersWithoutCurrentUser:[],emiUsers:{}},query:t,isLoading:!0}})),e.timeouts.findContacts&&clearTimeout(e.timeouts.findContacts),e.timeouts.findContacts=setTimeout((function(){e.transport.dispatch.agent_find_contact({pattern:t,user_fields:Object.assign({},a),item_fields:Object.assign({},o),request_id:n})}),r)})),O(S(e),"onFindContacts",(function(t){var n,a=function(){var e,n;return M(null!==(n=null==i||null===(e=i.data)||void 0===e?void 0:e.users)&&void 0!==n?n:[]).concat(M((0,c.convertKVArray)(t.result.users,(function(e){return{userId:e.user_id,extension:e.extension,firstName:e.firstname,lastName:e.lastname,isAgent:(0,c.transportToBoolean)(e.is_agent),presenceState:e.presence_state,loginId:e.login_id,userType:e.user_type,isLogged:(0,c.transportToBoolean)(e.is_logged),acdState:e.acd_state,reason:e.reason,acdNextState:e.acd_next_state,acdNextReason:e.next_reason,capacity:(0,r.mapValues)(e.capacity,(function(e){var t;return{active:(0,c.transportToBoolean)(e.active),usedSlots:null!==(t=Number(e.used_slots))&&void 0!==t?t:0}}))}}))))},i=e.stateData.searchResults[t.request_id],s=P(A({},i),{isLoading:!(0,c.transportToBoolean)(t.is_final),count:t.num_records?Number(t.num_records):0,data:{directoryCategories:M((null==i||null===(n=i.data)||void 0===n?void 0:n.directoryCategories)||[]).concat(M(Object.values(t.result.directory_categories||{}).map((function(e){return{id:e.id,name:e.name}})))),directoryEntries:function(){var e;return M((null==i||null===(e=i.data)||void 0===e?void 0:e.directoryEntries)||[]).concat(M(Object.values(t.result.directory_items||{}).map((function(e){return{id:e.id,mediaType:e.media_type,number:e.number,title:e.title}}))))}(),teams:function(){var e;return M((null==i||null===(e=i.data)||void 0===e?void 0:e.teams)||[]).concat(M(Object.values(t.result.teams||{}).map((function(e){return{id:e.id,name:e.name}}))))}(),users:a().sort(e.userSort),usersWithoutCurrentUser:a().filter(e.omitCurrentUser),emiUsers:{msteamsUsers:function(){var e;return M((null==i||null===(e=i.data)||void 0===e?void 0:e.emiUsers.msteamsUsers)||[]).concat(M(Object.values(t.result.mst_users||{}).map((function(e){return{userId:e.user_id,loginId:e.login_id,userType:e.user_type,firstName:e.firstname,lastName:e.lastname,email:e.email,photoUrl:e.photo_url,phones:e.phones,presenceState:(0,o.convertMsTeamsAvailability)(e.availability),hasChat:"1"===e.has_chat}}))))}(),msteamsChannels:function(){var e;return M((null==i||null===(e=i.data)||void 0===e?void 0:e.emiUsers.msteamsChannels)||[]).concat(M(Object.values(t.result.mst_channels||{}).map((function(e){return{channelId:e.channel_id,title:[e.team_name,e.channel_name].filter((function(e){return e})).join(" - "),photoUrl:e.photo_url,userType:"msteams_channel"}}))))}()}}});e.produceState((function(e){e.searchResults[t.request_id]=s}))})),O(S(e),"onAgentEMIUp",(function(t){"msteams"===t.type&&e.enableMSTeamsDirectories()})),O(S(e),"onAgentEMIDown",(function(t){"msteams"===t.type&&e.removeMsTeamsDirectories()})),O(S(e),"enableMSTeamsDirectories",(function(){var t=!1,n=M(e.stateData.emiCategories);n.find((function(e){return e.id===a.MS_TEAMS_CHATS_CATEGORY_ID}))||(t=!0,n.push({id:a.MS_TEAMS_CHATS_CATEGORY_ID,name:a.EMI_CATEGORY_NAMES[a.MS_TEAMS_CHATS_CATEGORY_ID]})),e.getCategoryUsers(a.MS_TEAMS_CHATS_CATEGORY_ID),n.find((function(e){return e.id===a.MS_TEAMS_CHANNELS_CATEGORY_ID}))||(t=!0,n.push({id:a.MS_TEAMS_CHANNELS_CATEGORY_ID,name:a.EMI_CATEGORY_NAMES[a.MS_TEAMS_CHANNELS_CATEGORY_ID]})),e.getCategoryUsers(a.MS_TEAMS_CHANNELS_CATEGORY_ID),t&&e.produceState((function(e){e.emiCategories=n}))})),O(S(e),"removeMsTeamsDirectories",(function(){var t=e.stateData.emiCategories.filter((function(e){return e.id!==a.MS_TEAMS_CHATS_CATEGORY_ID&&e.id!==a.MS_TEAMS_CHANNELS_CATEGORY_ID})),n=A({},e.stateData.emiUsers);delete n[a.MS_TEAMS_CHATS_CATEGORY_ID],delete n[a.MS_TEAMS_CHANNELS_CATEGORY_ID],e.produceState((function(e){e.emiCategories=t,e.emiUsers=n}))})),e}return t=_,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,agent_teams:this.onAgentTeams,agent_users_details:this.onUserDetails,agent_directory_categories:this.onDirectoryCategories,agent_directory:this.onCategoryEntries,agent_find_contact_result:this.onFindContacts,agent_emi_up:this.onAgentEMIUp,agent_emi_down:this.onAgentEMIDown}),this.fromClientDispenser.subscribe({getDirectoryCategories:this.getDirectoryCategories,getAgentTeams:this.getAgentTeams,getLoggedUsers:this.getLoggedUsers,fetchLoggedUsers:this.fetchLoggedUsers,getCategoryUsers:this.getCategoryUsers,subscribeUserDetails:this.subscribeUserDetails,findContacts:this.findContacts,requestTeamUsers:this.requestTeamUsers}))}},{key:"cleanup",value:function(){T(D(_.prototype),"cleanup",this).call(this),this.timeouts={},this.teamId=void 0}},{key:"resetState",value:function(){T(D(_.prototype),"resetState",this).call(this),this.timeouts={},this.teamId=void 0}}])&&E(t.prototype,n),l&&E(t,l),_}(l.StateFactory.createBaseStateClass({name:"directoryState",controlEvents:a.directoryStateControlEvents,trackerEvents:a.directoryStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:a.getInitialDirectoryState,dependencies:["transport","platformSpecific","sessionConnector","userDetailsConnector"]}))},95031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertMsTeamsAvailability:()=>o,emiUserTypes:()=>l,getEmiOwnerId:()=>i,getMsTeamsPhonesArray:()=>c,getMsTeamsUserPrimaryPhoneNumber:()=>s,isEmiUnavailable:()=>u,useEmiItemStatus:()=>d});var r=n(66029),a=n(62476);function o(e){switch(e){case"Available":case"AvailableIdle":return"available";case"Away":case"BeRightBack":return"away";case"Busy":case"BusyIdle":return"busy";case"DoNotDisturb":return"dnd";default:return"offline"}}function i(e,t){switch(t){case"msteams":case"msteams_channel":var n,r;return null==e||null===(r=e.emi)||void 0===r||null===(n=r.msteams)||void 0===n?void 0:n.principalName}}function s(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t.find((function(e){return"mobile"===e.type}));if(n)return n.phone;var r=t.find((function(e){return e.phone}));return null==r?void 0:r.phone}function c(e){return Object.values(e).map((function(e){return e.phone}))}function u(e,t,n){switch(t){case"msteams":case"msteams_channel":return function(e,t){switch(t){case"msteams":case"msteams_channel":var n,r;return!(null==e||null===(r=e.emi)||void 0===r||null===(n=r.msteams)||void 0===n?void 0:n.up)}return!0}(e,t)||function(e,t,n){switch(t){case"msteams":case"msteams_channel":return i(e,t)!==n}return!0}(e,t,n)}return!0}function l(e){if("msteams"===e)return["msteams","msteams_channel"]}function d(e,t,n){var o=(0,a.useLocalizationState)().t,i=!0,s=void 0;if(e)switch(t){case"msteams_channel":case"msteams":var c,u,l=null===(c=e.msteams)||void 0===c?void 0:c.principalName;(null===(u=e.msteams)||void 0===u?void 0:u.up)?n!==l&&(s=o.ERROR_MESSAGES.msteams_other_user_item()):s=o.ERROR_MESSAGES.msteams_disabled(),i=!s}return(0,r.useMemo)((function(){return{active:i,disableReasonMessage:s}}),[i,s])}},51905:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EMIStateContextProvider:()=>o,useEmiState:()=>c,useEmiStateConnector:()=>d,useEmiStateMethods:()=>l,useEmiStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("EMIStateContextProvider"),o=a.EMIStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("emiState",i),c=s.useEmiState,u=s.useEmiStateRef,l=s.useEmiStateMethods,d=s.useEmiStateConnector},87593:(e,t,n)=>{"use strict";n.r(t),n.d(t,{emiStateControlEvents:()=>s,emiStateTrackerEvents:()=>i,getInitialEmiState:()=>a});var r=n(13583),a=function(){return{status:r.emiTypes.reduce((function(e,t){return e[t]={loggedIn:!1,enabled:!1,loaded:!1,inLoading:!1,changeAccountConfirmation:!1,logoutConfirmation:!1},e}),{})}},o=n(12746),i={onInitialState:(0,o.event)(),onChange:(0,o.event)()},s={checkEMIStatus:(0,o.event)(),enableEMI:(0,o.event)(),disableEMI:(0,o.event)(),acceptConfirmation:(0,o.event)(),rejectConfirmation:(0,o.event)()}},55:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EMIStateImpl:()=>b});var r=n(39066),a=n(26220),o=n(5518),i=n(68939),s=n(16152);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},_(e,t,n||e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?c(e):t;var n}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function h(){var e=(window.outerHeight-720)/2,t=(window.outerWidth-640)/2;return"scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,"+"width=".concat(600,",height=").concat(720,",top=").concat(e,",left=").concat(t)}function v(e,t){var n=setInterval((function(){e.closed&&(clearTimeout(n),t())}),500)}var y=a.bpLogger.withPrefix("@EMI"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,a=g(s);function s(){var e;return u(this,s),d(c(e=a.apply(this,arguments)),"emiAuthData",{}),d(c(e),"checkEMIStatus",(function(t){if("msteams"===t){e.updateEMIState(t,{inLoading:!0,changeAccountConfirmation:!1,logoutConfirmation:!1});var n=e.sessionConnector.getStateData().serverOrigin;(0,o.apiRequests)(n).checkMsTeamsAuthStatus().then((function(n){y.info("Check emi status result: ",n),e.updateEMIState(t,{enabled:n.isAccountPresent,loggedIn:!!n.refreshToken,inLoading:!1,loaded:!0})})).catch((function(){y.error('Unable to check "'.concat(t,'" account status')),e.updateEMIState(t,{inLoading:!1},"emi_request_error")}))}})),d(c(e),"enableEMI",(function(t){if("msteams"===t){e.updateEMIState(t,{inLoading:!0});var n=e.sessionConnector.getStateData().serverOrigin;(0,o.apiRequests)(n).getMsTeamsLoginUrl().then((function(r){y.info("MSTeams auth url: ",r);var a=(0,i.uuid)(),s=new URLSearchParams,c="".concat(n,"/agentdesktop/msteamscallback.html");s.set("redirect_uri",c),s.set("state",a);var u="".concat(r,"&").concat(s);y.info("Open msteams auth:",u);var l=!1,d=window.open(u,void 0,h());d||(d=window.open(u)),v(d,(function(){l||e.updateEMIState(t,{inLoading:!1},"emi_abrupt_window_close")})),window.setMSTeamsOAuthCode=function(r){l=!0,y.info("MSTeams auth result received:",r);var i=new URL(r),s=new URLSearchParams(i.search),u=s.get("state"),d=s.get("code")||"";if(u!==a)return e.updateEMIState(t,{inLoading:!1},"emi_auth_protocol_error");var _={code:d,redirect_url:c};(0,o.apiRequests)(n).getMsTeamsRefreshToken({requestBody:_}).then((function(n){if(!n)throw Error("Auth data is empty");e.emiAuthData.msteams=n;var r=n.principalName;e.localSettings.get("emiLastAccounts").then((function(n){var a=null==n?void 0:n.msteams;if(r!==a)return e.updateEMIState(t,{changeAccountConfirmation:!0,oldUsername:a,newUsername:r});e.completeMSTeamsSetup()}))})).catch((function(){y.error('Unable to receive "'.concat(t,'" refresh token')),e.updateEMIState(t,{inLoading:!1},"emi_request_error")}))}})).catch((function(){y.error('Unable to receive "'.concat(t,'" login URL')),e.updateEMIState(t,{inLoading:!1},"emi_request_error")}))}})),d(c(e),"disableEMI",(function(t){e.updateEMIState(t,{inLoading:!0,logoutConfirmation:!0})})),d(c(e),"acceptConfirmation",(function(t){if("msteams"===t)if(e.stateData.status.msteams.changeAccountConfirmation){if(!e.emiAuthData.msteams)return y.warn('Accept confirmation for "msteams": No EMI Auth data'),e.updateEMIState("msteams",{inLoading:!1,changeAccountConfirmation:!1});e.updateEMIState("msteams",{changeAccountConfirmation:!1}),e.completeMSTeamsSetup()}else e.stateData.status.msteams.logoutConfirmation&&(e.updateEMIState("msteams",{logoutConfirmation:!1}),e.logoutFromMSTeams())})),d(c(e),"rejectConfirmation",(function(t){e.updateEMIState(t,{inLoading:!1,changeAccountConfirmation:!1,logoutConfirmation:!1})})),d(c(e),"completeMSTeamsSetup",(function(){var t={code:e.emiAuthData.msteams.code,redirect_url:e.emiAuthData.msteams.redirect_url,accountClientId:e.emiAuthData.msteams.accountClientId,accountDirectoryId:e.emiAuthData.msteams.accountDirectoryId,principalName:e.emiAuthData.msteams.principalName,refreshToken:e.emiAuthData.msteams.refreshToken,isAccountPresent:e.emiAuthData.msteams.isAccountPresent},n=e.sessionConnector.getStateData().serverOrigin;(0,o.apiRequests)(n).completeMsTeamsAuth({requestBody:t}).then((function(t){y.info("Complete MS Teams Auth result: ",t),"OK"===t?(e.sessionConnector.dispatch.saveMSTeamsUserData({principalName:e.emiAuthData.msteams.principalName,directoryId:e.emiAuthData.msteams.accountDirectoryId,clientId:e.emiAuthData.msteams.accountClientId}),e.updateEMIState("msteams",{inLoading:!1,loggedIn:!0})):e.updateEMIState("msteams",{inLoading:!1},"emi_unsuccessful_result")})).catch((function(){y.error('Unable to save "msteams" auth data'),e.updateEMIState("msteams",{inLoading:!1},"emi_request_error")}))})),d(c(e),"logoutFromMSTeams",(function(){var t=e.sessionConnector.getStateData().serverOrigin;(0,o.apiRequests)(t).getMsTeamsLogoutUrl().then((function(t){window.open(t,void 0,h())||window.open(t),e.updateEMIState("msteams",{inLoading:!1,loggedIn:!1})})).catch((function(){y.error('Unable to receive "msteams" logout URL'),e.updateEMIState("msteams",{inLoading:!1},"emi_request_error")}))})),e}return t=s,n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({checkEMIStatus:this.checkEMIStatus,enableEMI:this.enableEMI,disableEMI:this.disableEMI,acceptConfirmation:this.acceptConfirmation,rejectConfirmation:this.rejectConfirmation}))}},{key:"updateEMIState",value:function(e,t,n){this.produceState((function(r){r.status[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({},r.status[e],t),r.error=n}))}},{key:"cleanup",value:function(){_(f(s.prototype),"cleanup",this).call(this),this.emiAuthData={}}},{key:"resetState",value:function(){_(f(s.prototype),"resetState",this).call(this),this.emiAuthData={}}}],n&&l(t.prototype,n),r&&l(t,r),s}(s.StateFactory.createBaseStateClass({name:"emiState",controlEvents:r.emiStateControlEvents,trackerEvents:r.emiStateTrackerEvents,options:{authorized:!0},getInitialState:r.getInitialEmiState,dependencies:["localSettings","sessionConnector"]}))},27840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useErrorValidation:()=>m});var r=n(66029),a=n(87517),o=n(41632),i=n(67850),s=n(72457),c=n(15922),u=n(79607),l=n(29016),d=n(53179);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p={noService:l.Notifications.InteractionNoServiceError,noChatInService:l.Notifications.InteractionNoChatServiceError,noNumber:l.Notifications.InteractionNoPhoneNumberError,selfCall:l.Notifications.InteractionSelfDialError,noDIDPermissionsCall:l.Notifications.InteractionDIDNoCallPermissionError,noDIDPermissionsSMS:l.Notifications.InteractionDIDNoSMSPermissionError,noChannelInService:l.Notifications.InteractionNoChannelInServiceError,messageTooBig:l.Notifications.InteractionMessageTooBigError},m=function(){var e=(0,s.useServiceState)().selectedService,t=(0,o.useDIDNumberState)().selectedDIDNumber,n=(0,u.useSessionState)("phoneNumber"),l=(0,c.useServicesDispositionsState)(),_=l.services,m=l.serviceRequiredForOutboundCall,g=(0,a.useDidState)("didNumbers"),h=(0,d.useLocalizationState)("t").ERROR_MESSAGES,v=(0,r.useMemo)((function(){return{noService:h.error_no_service,noDIDPermissionsSMS:h.no_permissions_did_sms,noDIDPermissionsCall:h.no_permissions_did_call,noChatInService:h.error_no_chat_in_service,noNumber:h.error_no_number,noChannelInService:h.error_no_channel_in_service,selfCall:h.error_self_call,messageTooBig:h.error_message_size_limit_exceeded}}),[h]),y=(0,r.useCallback)((function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,i,s,c,u=(null==t||null===(s=t[e])||void 0===s?void 0:(o=s).call.apply(o,[t].concat(f(r))))||(null===(c=v[e])||void 0===c?void 0:(i=c).call.apply(i,[v].concat(f(r))))||e;return{id:p[e],type:"error",tags:["current-view","interaction-init"],message:u}}),[v]),b=(0,r.useCallback)((function(t){return(0,i.getServiceErrorsRaw)({options:t,selectedService:e,services:_,serviceRequiredForOutboundCall:m}).map((function(e){return y(e,t.errorMessages)}))}),[e,_,m,y]),S=(0,r.useCallback)((function(e){return(0,i.getDIDNumberErrorRaw)({options:e,selectedDIDNumber:t,didNumbers:g}).map((function(t){return y(t,e.errorMessages)}))}),[t,g,y]),C=(0,r.useCallback)((function(n){return(t||n.didNumber?(0,i.getDIDNumberErrorRaw)({options:n,selectedDIDNumber:t,didNumbers:g}):(0,i.getServiceErrorsRaw)({options:n,selectedService:e,services:_,serviceRequiredForOutboundCall:m})).map((function(e){return y(e,n.errorMessages)}))}),[g,y,t,e,m,_]),I=(0,r.useCallback)((function(e){return(0,i.getNumberErrorsRaw)({options:e,selfPhoneNumber:n}).map((function(t){return y(t,e.errorMessages)}))}),[y,n]),w=(0,r.useCallback)((function(e){return(0,i.getChannelErrorRaw)({options:e}).map((function(t){return y(t,e.errorMessages)}))}),[y]),E=(0,r.useCallback)((function(e){return(0,i.getMessageErrorsRaw)({options:e}).map((function(t){return"messageTooBig"===t?y(t,e.errorMessages,i.messageSizeLimit[e.channel].toString()):y(t,e.errorMessages)}))}),[y]);return(0,r.useMemo)((function(){return{getServiceErrors:b,getNumberErrors:I,getDIDNumbersErrors:S,getChannelError:w,getServiceAndDIDNumbersErrors:C,getMessageErrors:E}}),[b,I,S,w,C,E])}},75346:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getChannelErrorRaw:()=>u,getDIDNumberErrorRaw:()=>s,getMessageErrorsRaw:()=>l,getNumberErrorsRaw:()=>c,getServiceErrorsRaw:()=>i,messageSizeLimit:()=>a});var r=n(87017),a={sms:2048,line:5e3,facebook:2e3,nexmo:70,telegram:4096,whatsapp:65536,twitter:280,viber:7e3,web:1e4,wechat:2e4,remoteassist:1e4},o=function(e,t){return t?e.filter((function(e){return!t.includes(e)})):e};function i(e){var t=e.options,n=e.selectedService,a=e.services,i=e.serviceRequiredForOutboundCall,s=null!=t?t:{},c=s.skip,u=s.service||n,l=[],d=(0,r.getAssociatedChatServiceId)(a,u);return i&&!u&&l.push("noService"),d||l.push("noChatInService"),o(l,c)}function s(e){var t=e.options,n=e.selectedDIDNumber,r=e.didNumbers,a=null!=t?t:{},i=a.skip,s=a.didNumber,c=a.interactionType,u=s||n,l=u&&r[u],d=[];return"call"!==c||!l||l.isVoice||l.isExtension||d.push("noDIDPermissionsCall"),"sms"===c&&l&&!l.isSMS&&d.push("noDIDPermissionsSMS"),o(d,i)}function c(e){var t=e.options,n=e.selfPhoneNumber,r=null!=t?t:{},a=r.skip,i=r.number,s=[];return i||s.push("noNumber"),i===n&&s.push("selfCall"),o(s,a)}function u(e){var t=e.options,n=[];return t.selectedChannel||n.push("noChannelInService"),o(n,t.skip)}function l(e){var t=e.options,n=[];return t.message.length>a[t.channel]&&n.push("messageTooBig"),o(n,t.skip)}},39783:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EvaluationStateContextProvider:()=>o,useEvaluationState:()=>c,useEvaluationStateConnector:()=>d,useEvaluationStateMethods:()=>l,useEvaluationStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("EvaluationStateContextProvider"),o=a.EvaluationStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("evaluationState",i),c=s.useEvaluationState,u=s.useEvaluationStateRef,l=s.useEvaluationStateMethods,d=s.useEvaluationStateConnector},7586:(e,t,n)=>{"use strict";var r,a;n.r(t),n.d(t,{CUSTOM_FIELD_FILTERS_GROUP:()=>G,CUSTOM_FIELD_ORDER_PREFIX:()=>q,CUSTOM_SELECTED_FILTERS:()=>H,EvalType:()=>o,EvaluationFormStatus:()=>i,EvaluationPageName:()=>r,EvaluationSearchType:()=>a,FCRValues:()=>P,FETCH_EVALUATORS_TEAMS_SEPARATOR:()=>p,MetricName:()=>u,SERVICE_SEGMENT_DISPOSITIONS:()=>_,TAB_SEARCH_EVAL_STAT_DIVIDER:()=>f,TIMELINE_JUMP_SECS:()=>d,TimelineAction:()=>c,TimelineSpeed:()=>s,TreeElemType:()=>l,booleanFilters:()=>K,canBeComposedFilters:()=>L,directionValues:()=>E,enumsFilters:()=>F,evalStatusValues:()=>O,evalTypeValues:()=>T,evaluationStateControlEvents:()=>y,evaluationStateTrackerEvents:()=>v,filtersGroups:()=>m,filtersKeysIncludesArrayValues:()=>R,filtersKeysNonArrayValues:()=>k,getInitialEvaluationState:()=>g,hangUpByValues:()=>D,hasCallProblemsValues:()=>A,incomingFiltersDateTypes:()=>S,incomingFiltersEnumTypes:()=>C,incomingFiltersFlagTypes:()=>I,incomingFiltersValueKeys:()=>b,integerFilters:()=>j,isDirectionValues:()=>ae,isElemSentimentExtended:()=>ve,isEnumFilter:()=>te,isEvalStatusValues:()=>oe,isEvalTypeValues:()=>ie,isFCRValues:()=>ue,isFilterKey:()=>ye,isHangUpByValues:()=>se,isHasCallProblemsValues:()=>ce,isIncomingFilterDateKey:()=>_e,isIncomingFilterEnumKey:()=>pe,isIncomingFilterFlagType:()=>ge,isIncomingFilterKeyIsDateKey:()=>fe,isIncomingFilterKeyIsFlagType:()=>he,isIncomingFilterKeyIsValueKey:()=>de,isIncomingFilterKeyisEnumKey:()=>me,isIncomingFilterValueKey:()=>le,isKeyArrayNonValueFilter:()=>ee,isKeyArrayValueFilter:()=>Z,isKeyBooleanFilter:()=>Y,isKeyComposedFilter:()=>ne,isKeyIntegerFilter:()=>X,isKeyLoadingValueFilter:()=>J,isKeyTimeRangeValue:()=>Q,isKeyUserInputSingleFilter:()=>V,isKeyUserUserInputArrayFilter:()=>W,isMediaTypeValues:()=>re,isTimeFilterValue:()=>z,loadingValuesFiltersValues:()=>N,loadingValuesWithUsers:()=>M,mediaTypeValues:()=>w,timeFiltersValues:()=>$,timePeriodFilters:()=>x,userInputArrayFilters:()=>U,userInputSingleFilters:()=>B}),function(e){e.HOME="home",e.SEARCH="search",e.INTERACTION="interaction"}(r||(r={})),function(e){e.SEARCH_ID="search-id",e.EVAL_STAT="eval-stat"}(a||(a={}));var o,i,s,c,u,l,d=15,_=["CALLER_TRANSFERRED"],f="_",p="@___SEPARATOR___@",m={interactionAttributes:["accountNumber","caseID","connectedTo","direction","disposition","ended","from","globalInteractionID","handleTime","hangUpBy","hasVoiceSignature","kmTemplate","mediaType","recordID","service","started","talkTime","threadID","to","totalDuration","transferred"],agentAttributes:["agent","agentsRank","agentsSupervisor","agentsTrainingClass"],evaluationAttributes:["bookmarked","evalCompleted","evalFailed","evalStatus","evalType","evaluated","evaluatedAgent","evaluatedBy","quota","scheduledFor","score","selfEvaluated"],specialAttributes:["flagged","hasCallProblem","hasRecording","hasScreenRecording","monitoredBy"],content:["agentNotesContains","commentContains","inEmailSubject","textSearch"],qualityMetrics:["csat","fcr","nps","sentiment"],customerAttributes:["customerPhoneNumber","firstName","lastName"]},g=function(){return{isEvalStatsLoading:!0,evalStats:[],prevEvalStats:[],interactions:{},searchResults:{},isSavedSearchesLoading:!0,savedSearches:[],evaluators:[],isAssignEvaluationLoading:!1,isAssignEvaluationError:!1,tabs:[],activeTabId:r.HOME,interactionsQueries:{},dispositionsLoading:!0,dispositionSaving:!1,dispositions:[],evaluatorCommentSaving:!1,dictionariesLoading:!0,selectedSearchId:void 0,dictionaries:{agentsList:[],agentsListLoading:!1,dispositionsList:[],dispositionsListLoading:!1,servicesList:[],templatesList:[],teamsList:[],supervisorsList:[],usersList:[],trainingClassesList:[],customFiltersList:[],customFiltersListLoading:!1,servicesListLoading:!1,templatesListLoading:!1,teamsListLoading:!1,supervisorsListLoading:!1,usersListLoading:!1,trainingClassesListLoading:!1},screenRecordingExpanded:!1}},h=n(12746),v={onInitialState:(0,h.event)(),onChange:(0,h.event)()},y={getEvalsStatistics:(0,h.event)(),updatePrevEvalsStatistics:(0,h.event)(),setPermissions:(0,h.event)(),getInteraction:(0,h.event)(),getInteractionSegments:(0,h.event)(),getSavedSearches:(0,h.event)(),createNewSearch:(0,h.event)(),createNewFolder:(0,h.event)(),removeSearchesElem:(0,h.event)(),moveSearchesElem:(0,h.event)(),assignEvaluations:(0,h.event)(),getEvaluators:(0,h.event)(),getDispositions:(0,h.event)(),saveDisposition:(0,h.event)(),saveEvaluatorComment:(0,h.event)(),setSavedTabs:(0,h.event)(),addTab:(0,h.event)(),removeTab:(0,h.event)(),replaceTab:(0,h.event)(),setActiveTabId:(0,h.event)(),getInteractionsBySearchId:(0,h.event)(),getInteractionsByEvalStat:(0,h.event)(),getInteractionsQuery:(0,h.event)(),getEvaluationFormData:(0,h.event)(),setActiveEvalFormId:(0,h.event)(),saveResultDefinition:(0,h.asyncEvent)(),bookmarkResultDefinition:(0,h.event)(),setInteractionRelatedSearch:(0,h.event)(),getDictionaries:(0,h.event)(),getDictionariesDisposition:(0,h.event)(),getDictionariesService:(0,h.event)(),getDictionariesKmTemplate:(0,h.event)(),getDictionariesSupervisors:(0,h.event)(),getDictionariesUsers:(0,h.event)(),getDictionariesTrainingClasses:(0,h.event)(),saveInteractionsQuery:(0,h.event)(),setInteractionsQuery:(0,h.event)(),copyInteractionsQuery:(0,h.event)(),setSelectedSearch:(0,h.event)(),loadVoiceRecording:(0,h.event)(),loadScreenRecording:(0,h.event)(),setScreenRecordingExpanded:(0,h.event)()},b=["ACCOUNT_NUM","AGENT","AGENTS_RANK","AGENTS_SUPERVISOR","AGENTS_TRAINING_CLASS","AGENT_NOTES","AGENT_TEAM","CASE_ID","CONNECTED_TO","DISPOSITION","EVALUATED_AGENT","EVALUATED_BY","EVALUATOR_COMMENTS","FIRST_NAME","FROM","GIID","EMAIL_SUBJECT","LAST_NAME","MONITORED_BY","CDR_ID","SCHEDULED_FOR","SERVICE","KM_TEMPLATE_SPEC_USED","TEXT_SEARCH","TO","THREAD_ID"],S=["ENDED","EVALUATED","EVALUATION_CONFIRMED","STARTED"],C=["DIRECTION","MEDIA_TYPE","HAS_CALL_PROBLEM","EVAL_STATUS","EVAL_TYPE","HUNG_UP_BY","CUSTOMER_SURVEY_FCR"],I=["ANY_TEAM_I_EVALUATE","ANY_TEAM_I_SUPERVISE","CAN_I_CONFIRM_EVALUATIONS","CAN_I_CONFIRM_SELF_EVALUATIONS","EVAL_BOOKMARK","EVAL_FAILED","HAS_RECORDING","HAS_SCREEN_RECORDING","VOICE_SIGNATURE","KM_TEMPLATE_USED","KM_TEMPLATE_NOT_USED","SELF_EVALUATED","FLAGGED","MONITORED","TRANSFERRED"],w=["Voice","Text","Email"],E=["In","Out"],O=["None","Assigned","Draft","Pending","Disputed","Completed"],T=["Evaluation","Calibration"],D=["Caller","Callee"],A=["Any","Call dropped","Call went silent","Poor voice quality","Other"],P=["yes","no"],R=["agent","agentsRank","to","threadID","service","scheduledFor","recordID","monitoredBy","mediaType","lastName","accountNumber","agentsSupervisor","agentsTrainingClass","connectedTo","customerPhoneNumber","direction","disposition","evalStatus","evalType","evaluatedAgent","evaluatedBy","firstName","from","globalInteractionID","hangUpBy","hasCallProblem","kmTemplate","fcr"],k=["agentNotesContains","bookmarked","commentContains","evalFailed","handleTime","hasRecording","hasScreenRecording","hasVoiceSignature","inEmailSubject","quota","selfEvaluated","sentiment","textSearch","transferred","flagged","csat","totalDuration","ended","evalCompleted","evaluated","nps","score","started","talkTime"],N=["disposition","service","monitoredBy","evaluatedBy","agentsSupervisor","evaluatedAgent","scheduledFor","agentsTrainingClass"],M=["monitoredBy","evaluatedBy","agentsSupervisor","evaluatedAgent","scheduledFor"],j=["csat","talkTime","score","handleTime","totalDuration","nps"],x=["ended","evalCompleted","started","evaluated"],L=["talkTime","score","nps","handleTime","totalDuration","csat","sentiment","ended","evalCompleted","started","evaluated"],K=["bookmarked","evalFailed","hasRecording","hasScreenRecording","hasVoiceSignature","transferred","flagged","selfEvaluated"],F=["evalType","evalStatus","mediaType","direction","hasCallProblem","hangUpBy","fcr"],$=["Today","Yesterday","Last24h","LastNDays","ThisWeek","ThisWeek(fromMonday)","LastWeek","LastWeek(fromMonday)","ThisMonth","LastMonth","CustomRange"],U=["accountNumber","agentsRank","caseID","connectedTo","customerPhoneNumber","firstName","from","globalInteractionID","lastName","recordID","threadID","to"],B=["agentNotesContains","commentContains","inEmailSubject","textSearch"],q="custom-order-",G="interactionAttributes",H=["agent","disposition","quota","sentiment"],V=function(e){return B.includes(e)},W=function(e){return U.includes(e)},z=function(e){return $.includes(e)},Y=function(e){return K.includes(e)},Q=function(e){return x.includes(e)},J=function(e){return N.includes(e)},X=function(e){return j.includes(e)},Z=function(e){return R.includes(e)},ee=function(e){return k.includes(e)},te=function(e){return F.includes(e)},ne=function(e){return L.includes(e)},re=function(e){return e.every((function(e){return w.includes(e)}))},ae=function(e){return e.every((function(e){return E.includes(e)}))},oe=function(e){return e.every((function(e){return O.includes(e)}))},ie=function(e){return e.every((function(e){return T.includes(e)}))},se=function(e){return e.every((function(e){return D.includes(e)}))},ce=function(e){return e.every((function(e){return A.includes(e)}))},ue=function(e){return e.every((function(e){return P.includes(e)}))},le=function(e){return de(e.type)},de=function(e){return b.includes(e)},_e=function(e){return fe(e.type)},fe=function(e){return S.includes(e)},pe=function(e){return me(e.type)},me=function(e){return C.includes(e)},ge=function(e){return he(e.type)},he=function(e){return I.includes(e)},ve=function(e){return"neutral"===e||"positive"===e||"negative"===e},ye=function(e){return Z(e)||ee(e)};!function(e){e.EVALUATION="EVALUATION",e.CALIBRATION="CALIBRATION"}(o||(o={})),function(e){e.NONE="NONE",e.SAVED="SAVED",e.SUBMITTED="SUBMITTED",e.ASSIGNED="ASSIGNED",e.SCHEDULED="SCHEDULED",e.REVIEWED="REVIEWED",e.CONFIRMED="CONFIRMED",e.DISPUTED="DISPUTED"}(i||(i={})),function(e){e[e["0.5x"]=.5]="0.5x",e[e["1x"]=1]="1x",e[e["2x"]=2]="2x",e[e["3x"]=3]="3x"}(s||(s={})),function(e){e.EMOTIONS="EMOTIONS",e.AGENT_VOICE_RECORDIND="AGENT_VOICE_RECORDIND",e.CONTACT_VOICE_RECORDIND="CONTACT_VOICE_RECORDIND"}(c||(c={})),function(e){e.SENTIMENT="sentiment",e.MEDIA_TYPE="mediaType",e.TEAM="team",e.DATE_TIME="dateTime",e.NPS="nps",e.CSAT="csat",e.FCR="fcr",e.COMPLIANCE="compliance",e.DURATION="duration",e.AGENT="agentName",e.CONTACT="customer",e.RECORDING="recording",e.CHECKBOX="checkbox",e.AGENT_LOGIN="agentLogin",e.STATUS="evaluationStatus"}(u||(u={})),function(e){e.Folder="Folder",e.Search="Search",e.RootFolder="RootFolder"}(l||(l={}))},3223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EvaluationStateImpl:()=>Jt});var r=n(489),a=n(26552),o=n(16152),i="ACCOUNT_NUM",s="AGENT",c="AGENTS_RANK",u="AGENTS_SUPERVISOR",l="AGENTS_TRAINING_CLASS",d="AGENT_TEAM",_="AGENT_NOTES",f="ANY_TEAM_I_EVALUATE",p="ANY_TEAM_I_SUPERVISE",m="CASE_ID",g="CONNECTED_TO",h="CUSTOMER_SURVEY_CSAT",v="CUSTOMER_SURVEY_FCR",y="CUSTOMER_SURVEY_NPS",b="DIRECTION",S="DISPOSITION",C="DURATION",I="ENDED",w="EVAL_BOOKMARK",E="EVAL_FAILED",O="EVAL_STATUS",T="EVAL_TYPE",D="EVALUATED",A="EVALUATED_AGENT",P="EVALUATION_CONFIRMED",R="EVALUATED_BY",k="EVALUATOR_COMMENTS",N="FIRST_NAME",M="FROM",j="GIID",x="HAS_CALL_PROBLEM",L="HAS_RECORDING",K="HAS_SCREEN_RECORDING",F="VOICE_SIGNATURE",$="HUNG_UP_BY",U="EMAIL_SUBJECT",B="KM_TEMPLATE_USED",q="LAST_NAME",G="MEDIA_TYPE",H="MONITORED_BY",V="KM_TEMPLATE_NOT_USED",W="QUOTA",z="CDR_ID",Y="SCHEDULED_FOR",Q="SCORE",J="SELF_EVALUATED",X="SENTIMENT",Z="SERVICE",ee="KM_TEMPLATE_SPEC_USED",te="STARTED",ne="TEXT_SEARCH",re="THREAD_ID",ae="FLAGGED",oe="TRANSFERRED",ie="HANDLE_TIME",se="TALK_TIME",ce="CUSTOMER_PHONE_NUMBER",ue={__ANY__:"Any",CALL_DROPPED:"Call dropped",CALL_WENT_SILENT:"Call went silent",POOR_VOICE_QUALITY:"Poor voice quality",OTHER:"Other"},le={Incoming:"In",Outbound:"Out",Internal:"In"},de={VOICE:"Voice",CHAT:"Text",EMAIL:"Email"},_e={NONE:"None",ASSIGNED:"Assigned",SAVED:"Draft",SUBMITTED:"Pending",DISPUTED:"Disputed",CONFIRMED:"Completed"},fe={CALIBRATION:"Calibration",EVALUATION:"Evaluation"},pe={CALLER_TERMINATED:"Caller",CALLEE_TERMINATED:"Callee"},me={AFTER:"CustomRange",BEFORE:"CustomRange",TODAY:"Today",YESTERDAY:"Yesterday",LAST_24H:"Last24h",LAST_7DAYS:"LastNDays",LAST_NDAYS:"LastNDays",THIS_WEEK:"ThisWeek",THIS_WEEK_MON:"ThisWeek(fromMonday)",LAST_WEEK:"LastWeek",LAST_WEEK_MON:"LastWeek(fromMonday)",THIS_MONTH:"ThisMonth",LAST_MONTH:"LastMonth"},ge="ERROR_CONVERTING_INCOMING_FILTERS",he="ERROR_CONVERTING_OUTCOMING_FILTERS";function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e,t){var n,a,o,V,ee,ge,ye=function(e){if(!e.value)throw new Error(he);switch(e.name){case"accountNumber":return i;case"agent":if("type"in e.value&&"Agent"===e.value.type)return s;if("type"in e.value&&"Team"===e.value.type)return d;if("type"in e.value&&"Any Team I Supervise"===e.value.type)return p;if("type"in e.value&&"Any Team I Evaluate"===e.value.type)return f;break;case"agentsRank":return c;case"agentsSupervisor":return u;case"agentsTrainingClass":return l;case"agentNotesContains":return _;case"bookmarked":return w;case"caseID":return m;case"commentContains":return k;case"connectedTo":return g;case"csat":return h;case"from":return M;case"globalInteractionID":return j;case"totalDuration":return C;case"hangUpBy":return $;case"hasCallProblem":return x;case"fcr":return v;case"hasRecording":return L;case"hasScreenRecording":return K;case"hasVoiceSignature":return F;case"inEmailSubject":return U;case"kmTemplate":return B;case"lastName":return q;case"mediaType":return G;case"monitoredBy":return H;case"evaluatedAgent":return A;case"nps":return y;case"quota":return W;case"recordID":return z;case"scheduledFor":return Y;case"score":return Q;case"selfEvaluated":return J;case"sentiment":return X;case"service":return Z;case"started":return te;case"textSearch":return ne;case"threadID":return re;case"to":return"TO";case"transferred":return oe;case"flagged":return ae;case"evalCompleted":return P;case"handleTime":return ie;case"talkTime":return se;case"customerPhoneNumber":return ce;case"direction":return b;case"disposition":return S;case"ended":return I;case"evalFailed":return E;case"evalStatus":return O;case"evalType":return T;case"evaluated":return D;case"evaluatedBy":return R;case"firstName":return N;default:throw new Error(he)}throw new Error(he)}({name:e,value:t[e]});if(ye===p)return{type:p};if(ye===f)return{type:f};if(ye===d&&"agent"===e&&"Team"===(null===(n=t.agent)||void 0===n?void 0:n.type))return{type:d,value:null===(o=t.agent)||void 0===o?void 0:o.teamId};if(ye===s&&"agent"===e&&"Agent"===(null===(a=t.agent)||void 0===a?void 0:a.type))return{type:s,value:null===(V=t.agent)||void 0===V?void 0:V.agentId};if((0,r.isEnumFilter)(e)&&(0,r.isIncomingFilterKeyisEnumKey)(ye))return function(e,t){if("fcr"===e){var n=t.fcr;if(n)return{type:v,boolValue:"yes"===n}}if("direction"===e){var r,a=void 0;for(r in le)le[r]===t.direction&&(a=r);if(a)return{type:b,direction:a}}if("mediaType"===e){var o,i=void 0;for(o in de)de[o]===t.mediaType&&(i=o);if(i)return{type:G,mediaType:i}}if("hangUpBy"===e){var s,c=void 0;for(s in pe)pe[s]===t.hangUpBy&&(c=s);if(c)return{type:$,hungUpDisposition:c}}if("evalType"===e){var u,l=void 0;for(u in fe)fe[u]===t.evalType&&(l=u);if(l)return{type:T,evalType:l}}if("evalStatus"===e){var d,_=void 0;for(d in _e)_e[d]===t.evalStatus&&(_=d);if(_)return{type:O,evalStatus:_}}if("hasCallProblem"===e){var f,p=void 0;for(f in ue)ue[f]===t.hasCallProblem&&(p=f);if(p)return{type:x,callProblemType:p}}throw new Error(he)}(e,t);if("quota"===e&&ye===W)return{type:ye,intValue:(null===(ee=t.quota)||void 0===ee?void 0:ee.evaluationsCount)||0,intValue2:(null===(ge=t.quota)||void 0===ge?void 0:ge.daysCount)||0};if((0,r.isKeyBooleanFilter)(e)&&(0,r.isIncomingFilterKeyIsFlagType)(ye))return{type:ye};if((0,r.isKeyTimeRangeValue)(e)&&(0,r.isIncomingFilterKeyIsDateKey)(ye))return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ve(e,t,n[t])}))}return e}({type:ye},function(e){if(!e)throw new Error(he);var t;if("CustomRange"===e.type)return{dateValue:(e.from?e.from.toISOString():null===(t=e.to)||void 0===t?void 0:t.toISOString())||(new Date).toISOString(),dateType:e.from?"AFTER":"BEFORE"};if("LastNDays"===e.type)return{intValue:e.daysAmount,dateType:"LAST_NDAYS"};var n,r=void 0;for(n in me)me[n]===e.type&&(r=n);if(r)return{dateType:r};throw new Error(he)}(t[e]));if("totalDuration"===e&&ye===C){var be=t.totalDuration;if(!be)throw new Error(he);if(be.min)return{type:ye,duration:60*be.min,operator:"GTE"};if(be.max)return{type:ye,duration:60*be.max,operator:"LTE"}}if(!("csat"!==e&&"nps"!==e||ye!==h&&ye!==y)){var Se=t[e];if(!Se)throw new Error(he);if(Se.min)return{type:ye,doubleValue:60*Se.min,operator:"GTE"};if(Se.max)return{type:ye,doubleValue:60*Se.max,operator:"LTE"}}if("score"===e&&ye===Q){var Ce=t.score;if(!Ce)throw new Error(he);if(Ce.min&&Ce.max)return{type:Q,doubleValue:Ce.min,doubleValue2:Ce.max,operator:"BTW"};if(Ce.max)return{type:Q,doubleValue:Ce.max,operator:"LTE"};if(Ce.min)return{type:Q,doubleValue:Ce.min,operator:"GTE"}}if((0,r.isIncomingFilterKeyIsValueKey)(ye)){var Ie=t[e];if(Ie&&"string"==typeof Ie)return{type:ye,value:Ie}}throw new Error(he)};function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){var t=function(e){var t=[],n=m[e];o[n].value.forEach((function(e){t.push({objectType:"ITEM",type:"CUSTOM_FIELD",propName:n,value:e}),t.push({objectType:"OPERAND",isAnd:!1})})),t.pop(),s.length>0&&s.push({objectType:"OPERAND",isAnd:!0}),s.push({objectType:"BLOCK",conditions:t})},n=function(e){var t=[],n=g[e];o[n].value.forEach((function(e){t.push({objectType:"ITEM",type:"CUSTOM_FIELD",propName:n,value:e}),t.push({objectType:"OPERAND",isAnd:!1})})),t.pop(),v.length>0&&v.push({objectType:"OPERAND",isAnd:!1}),v.push({objectType:"BLOCK",conditions:t})},a=e.filters,o=e.customFilters,i=e.order,s=[],c=[],u=[];i.and.filter(r.isFilterKey).forEach((function(e){var t=be({},e,a[e]);if(t){var n=a[e];if(!(null==n?void 0:n.value)||n&&"emptyValue"in n&&n.emptyValue)return;c.push({name:e,filter:t})}})),i.or.filter(r.isFilterKey).forEach((function(e){var t=be({},e,a[e]);if(t){var n=a[e];if(!(null==n?void 0:n.value)||n&&"emptyValue"in n&&n.emptyValue)return;u.push({name:e,filter:t})}}));for(var l=0;l<c.length;l++){var d=c[l],_=d.name,f=d.filter,p=Ce(_,f);s.push({objectType:"BLOCK",conditions:p}),l!==c.length-1&&s.push({objectType:"OPERAND",isAnd:!0})}for(var m=i.and.filter((function(e){return e.startsWith(r.CUSTOM_FIELD_ORDER_PREFIX)})).map((function(e){return e.replace(r.CUSTOM_FIELD_ORDER_PREFIX,"")})),g=i.or.filter((function(e){return e.startsWith(r.CUSTOM_FIELD_ORDER_PREFIX)})).map((function(e){return e.replace(r.CUSTOM_FIELD_ORDER_PREFIX,"")})),h=0;h<m.length;h++)t(h);for(var v=[],y=0;y<u.length;y++){var b=u[y],S=b.name,C=b.filter,I=Ce(S,C);v.push({objectType:"BLOCK",conditions:I}),y!==u.length-1&&v.push({objectType:"OPERAND",isAnd:!1})}for(var w=0;w<g.length;w++)n(w);return c.length>0&&u.length>0&&s.push({objectType:"OPERAND",isAnd:!0}),v.length>0&&s.push({objectType:"BLOCK",conditions:v}),s},Ce=function(e,t){var n,o,i=[];if(!t[e]||!(null===(n=t[e])||void 0===n?void 0:n.value))throw new Error(he);if("sentiment"===e){var s,c=null===(s=t[e])||void 0===s?void 0:s.value;if(!c)throw new Error(he);var u=function(e){var t=[];return e.searchForNeutral&&e.searchForBad&&e.searchForGood?(t.push({objectType:"ITEM",type:X,operator:"LTE",sentiment:.1}),t.push({objectType:"OPERAND",isAnd:!1}),t.push({objectType:"ITEM",type:X,operator:"LTE",sentiment:.1}),t):(e.searchForBad&&t.push({objectType:"ITEM",type:X,operator:"LTE",sentiment:e.searchForNeutral?.1:-.1}),e.searchForGood&&t.push({objectType:"ITEM",type:X,operator:"GTE",sentiment:e.searchForNeutral?-.1:.1}),t)}(c);return u}if("kmTemplate"===e){var l,d=null===(l=t[e])||void 0===l?void 0:l.value;if(!d)throw new Error(he);var _=function(e){var t=[];if(!e.kmTemplateUsed)return t.push({objectType:"ITEM",type:V}),t;if(e.kmTemplateUsed){var n,r;if(!e.values||0===(null===(n=e.values)||void 0===n?void 0:n.length))return t.push({objectType:"ITEM",type:B}),t;for(var a=0;a<((null===(r=e.values)||void 0===r?void 0:r.length)||0);a++){var o,i=e.values[a];t.push({objectType:"ITEM",type:ee,value:i}),a<(null===(o=e.values)||void 0===o?void 0:o.length)-1&&t.push({objectType:"OPERAND",isAnd:!1})}}return t}(d);return _}if((0,r.isKeyArrayValueFilter)(e)){var f,p=null===(f=t[e])||void 0===f?void 0:f.value;if(!p)throw new Error(he);for(var m=0;m<p.length;m++){var g=p[m],h=ye(e,be({},e,g));i.push(Object.assign({},{objectType:"ITEM"},h)),m!==p.length-1&&i.push({objectType:"OPERAND",isAnd:!1})}return i}if(function(e,t){if((0,r.isKeyTimeRangeValue)(e)){var n=t[e];return"CustomRange"===(null==n?void 0:n.value.type)}return(0,r.isKeyComposedFilter)(e)}(e,t)&&((0,r.isKeyIntegerFilter)(e)||(0,r.isKeyTimeRangeValue)(e))){var v,y=null===(v=t[e])||void 0===v?void 0:v.value;if(!y||!(0,a.isObject)(y))throw new Error(he);var b=[];(0,r.isKeyTimeRangeValue)(e)&&"type"in y&&"CustomRange"===y.type&&(y.from&&b.push(be({},e,{type:"CustomRange",from:y.from})),y.to&&b.push(be({},e,{type:"CustomRange",to:y.to}))),(0,r.isKeyIntegerFilter)(e)&&("min"in y&&y.min&&b.push(be({},e,{min:y.min})),"max"in y&&y.max&&b.push(be({},e,{max:y.max})));for(var S=0;S<b.length;S++){var C=b[S],I=ye(e,C);i.push(Object.assign({},{objectType:"ITEM"},I)),S!==b.length-1&&i.push({objectType:"OPERAND",isAnd:!0})}return i}var w=ye(e,be({},e,null===(o=t[e])||void 0===o?void 0:o.value));return i.push(Object.assign({},{objectType:"ITEM"},w)),i},Ie=n(84700),we=n.n(Ie),Ee=n(2122);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){switch(e){case i:return"accountNumber";case s:case d:case p:case f:return"agent";case ee:case B:case V:return"kmTemplate";case c:return"agentsRank";case u:return"agentsSupervisor";case l:return"agentsTrainingClass";case _:return"agentNotesContains";case w:return"bookmarked";case m:return"caseID";case k:return"commentContains";case g:return"connectedTo";case h:return"csat";case v:return"fcr";case M:return"from";case j:return"globalInteractionID";case C:return"totalDuration";case T:return"evalType";case S:return"disposition";case $:return"hangUpBy";case x:return"hasCallProblem";case L:return"hasRecording";case K:return"hasScreenRecording";case F:return"hasVoiceSignature";case U:return"inEmailSubject";case q:return"lastName";case G:return"mediaType";case H:return"monitoredBy";case y:return"nps";case W:return"quota";case z:return"recordID";case Y:return"scheduledFor";case A:return"evaluatedAgent";case Q:return"score";case D:return"evaluated";case X:return"sentiment";case Z:return"service";case te:return"started";case ne:return"textSearch";case re:return"threadID";case"TO":return"to";case oe:return"transferred";case ae:return"flagged";case I:return"ended";case J:return"selfEvaluated";case E:return"evalFailed";case N:return"firstName";case R:return"evaluatedBy";case O:return"evalStatus";case P:return"evalCompleted";case ie:return"handleTime";case se:return"talkTime";case ce:return"customerPhoneNumber";case b:return"direction";default:throw new Error(ge)}}function De(e){var t,n=Te(e.type);if(e.type===ee)return{kmTemplate:{kmTemplateUsed:!0,values:[e.value]}};if(e.type===V)return{kmTemplate:{kmTemplateUsed:!1,values:[]}};if(e.type===B)return{kmTemplate:{kmTemplateUsed:!0,values:[]}};if(e.type===p)return{agent:{type:"Any Team I Supervise"}};if(e.type===f)return{agent:{type:"Any Team I Evaluate"}};if(e.type===d)return{agent:{type:"Team",teamId:e.value}};if(e.type===s)return{agent:{type:"Agent",agentId:e.value}};if(e.type===X){var a=e.sentiment;return"LT"===e.operator||"LTE"===e.operator?a<=-.1?{sentiment:{searchForBad:!0}}:a<.1?{sentiment:{searchForBad:!0,searchForNeutral:!0}}:{sentiment:{searchForBad:!0,searchForNeutral:!0,searchForGood:!0}}:"GT"===e.operator||"GTE"===e.operator?a>=.1?{sentiment:{searchForGood:!0}}:a>=-.1?{sentiment:{searchForGood:!0,searchForNeutral:!0}}:{sentiment:{searchForBad:!0,searchForNeutral:!0,searchForGood:!0}}:{sentiment:{}}}if((0,r.isIncomingFilterValueKey)(e))return Oe({},n,e.value);if(e.type===W)return{quota:{evaluationsCount:e.intValue||0,daysCount:e.intValue2}};if((0,r.isIncomingFilterDateKey)(e))return Oe({},n,function(e){var t=e.dateType;if("LAST_7DAYS"===t)return{type:me.LAST_NDAYS,daysAmount:7};if("LAST_NDAYS"===t)return{type:me[t],daysAmount:e.intValue||0};if("BEFORE"===t||"AFTER"===t){var n={type:"CustomRange"};return"AFTER"===t&&(n.from=new Date(e.dateValue||"")),"BEFORE"===t&&(n.to=new Date(e.dateValue||"")),n}if(me[e.dateType]){var r=me[e.dateType];if("CustomRange"!==r&&"LastNDays"!==r)return{type:r}}return{type:"LastWeek"}}(e));if((0,r.isIncomingFilterEnumKey)(e))return Oe({},n,(t=e).type===G?de[t.mediaType]:t.type===$?pe[t.hungUpDisposition]:t.type===b?le[t.direction]:t.type===T?fe[t.evalType]:t.type===x?ue[t.callProblemType]:t.type===O?_e[t.evalStatus]:t.type===v?t.boolValue?"yes":"no":void 0);if((0,r.isIncomingFilterFlagType)(e))return Oe({},n,!0);if(e.type===h||e.type===y){if("LT"===e.operator||"LTE"===e.operator)return Oe({},n,{max:Math.floor(e.doubleValue/60)});if("GT"===e.operator||"GTE"===e.operator)return Oe({},n,{min:Math.floor(e.doubleValue/60)})}if(e.type===C){if("LT"===e.operator||"LTE"===e.operator)return Oe({},n,{max:Math.floor(e.duration/60)});if("GT"===e.operator||"GTE"===e.operator)return Oe({},n,{min:Math.floor(e.duration/60)})}if("SCORE"===e.type){if("BTW"===e.operator)return Oe({},n,{min:e.doubleValue,max:e.doubleValue2});if("LT"===e.operator||"LTE"===e.operator)return Oe({},n,{max:e.doubleValue});if("GT"===e.operator||"GTE"===e.operator)return Oe({},n,{min:e.doubleValue})}throw new Error(ge)}var Ae=[I,D,te,Q,y,h,C,X];function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Re(e,t,n[t])}))}return e}function Ne(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Me(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var je=function(e){var t={},n={},a=[],o=[],i=function(e){var t=Ue(e);if("MIXED"===t)throw new Error(ge);for(var n=[],r=[],a=0;a<e.length;a++){var o=e[a];if("OPERAND"!==o.objectType)if("BLOCK"!==o.objectType)n.push(o);else{if(0===o.conditions.length)continue;var i=$e(o.conditions);r.push(i)}}if("OR"===t){if(!r.every((function(e){return"OR"===e.convertBlockType||"NO"===e.convertBlockType})))throw new Error(ge)}if("AND"===t){for(var s=0,c=0;c<r.length;c++)r[c].theSameParameter||s++;if(s>1)throw new Error(ge)}return{conditions:n,blocks:r,type:t}}(e),s="AND";"OR"===i.type&&(s="OR");for(var c=0;c<i.conditions.length;c++){var u=i.conditions[c],l="";"CUSTOM_FIELD"===u.type?(n=Ke(n,u,s),l="".concat(r.CUSTOM_FIELD_ORDER_PREFIX).concat(u.propName)):(l=Te(u.type),t=Fe(t,u,s)),"AND"===s?a.push(l):o.push(l)}for(var d=0;d<i.blocks.length;d++)for(var _=i.blocks[d],f=_.conditions,p=_.convertBlockType,m=_.theSameParameter,g="OR"!==p||m?"AND":"OR",h=0;h<f.length;h++){var v=f[h],y="";"CUSTOM_FIELD"===v.type?(n=Ke(n,v,g),y="".concat(r.CUSTOM_FIELD_ORDER_PREFIX).concat(v.propName)):(y=Te(v.type),t=Fe(t,v,g)),"AND"===g?a.push(y):o.push(y)}return{filters:t,order:{and:(0,Ee.uniq)(a),or:(0,Ee.uniq)(o)},customFilters:n}},xe=function(e,t,n){var r=e[t];r&&n&&r.value&&(r.value=Me(r.value).concat([n]))},Le=function(e,t,n){var r,a=e[t];if(a&&n){if(!(null===(r=a.value)||void 0===r?void 0:r.kmTemplateUsed)&&n.kmTemplateUsed)throw new Error(ge);a.value&&(a.value=Ne(ke({},a.value),{kmTemplateUsed:!0,values:Me(a.value.values||[]).concat(Me(n.values||[]))}))}},Ke=function(e,t,n){var r=t.value,a=t.propName;if(e[a]){if(e[a].filterType!==n)throw new Error(ge);e[a].value=Me(e[a].value).concat([r])}else e[a]={filterType:n,value:[r]};return e},Fe=function(e,t,n){var a=Te(t.type),o=De(t),i=(0,r.isKeyComposedFilter)(a);if(!o[a])throw new Error(ge);if(e[a]){var s;if(n!==(null===(s=e[a])||void 0===s?void 0:s.filterType))throw new Error(ge);if((0,r.isKeyArrayValueFilter)(a)){if("agent"===a)return xe(e,a,o[a]),e;if("kmTemplate"===a)return Le(e,a,o[a]),e;var c=e[a],u=o[a];return c&&u?(c.value=Me(c.value).concat([u]),e):e}if(i){if((0,r.isKeyTimeRangeValue)(a)&&o[a])return function(e,t,n){var r=e[t];if(r&&n){if("CustomRange"!==r.value.type)throw new Error(ge);r.value=ke({},r.value,n),e[t]=r}}(e,a,o[a]),e;if((0,r.isKeyIntegerFilter)(a)&&o[a])return function(e,t,n){var r=e[t];r&&r.value&&(r.value=ke({},r.value,n),e[t]=r)}(e,a,o[a]),e;if("sentiment"===a&&o[a])return function(e,t,n){var r=e[t];r&&r.value&&(r.value=ke({},r.value,n),e[t]=r)}(e,a,o[a]||{}),e}throw new Error(ge)}if((0,r.isKeyArrayValueFilter)(a)){if("agent"===a)return e.agent={filterType:n,value:[]},xe(e,a,o[a]),e;var l;if("kmTemplate"===a)return e.kmTemplate={filterType:n,value:{values:[],kmTemplateUsed:(null===(l=o[a])||void 0===l?void 0:l.kmTemplateUsed)||!0}},Le(e,a,o[a]),e;var d=o[a];if(!d)return e;e[a]={filterType:n,value:[]};var _=e[a];return _&&d?(_.value=Me(_.value).concat([d]),e):e}var f={filterType:n,value:o[a]||""};return e=Ne(ke({},e),Re({},a,f))};function $e(e){var t=Ue(e);if("MIXED"===t)throw new Error(ge);if("NO"===t&&"BLOCK"===e[0].objectType)return $e(e[0].conditions);for(var n=[],r=0;r<e.length;r++){var a=e[r];if("OPERAND"!==a.objectType){if("BLOCK"===a.objectType){var o,i=$e(a.conditions);if(t!==i.convertBlockType&&![t,i.convertBlockType].includes("NO")){var s=!1;if("OR"===t&&"AND"===i.convertBlockType&&i.theSameParameter&&Ae.includes(i.conditions[0].type)&&(s=!0),!s)throw new Error(ge)}(o=n).push.apply(o,Me(i.conditions))}"ITEM"===a.objectType&&n.push(a)}}if("NO"===t&&n.length>1)throw new Error(ge);var c=n[0].type,u=n.every((function(e){return e.type===c}));return{convertBlockType:t,conditions:n,theSameParameter:u}}function Ue(e){for(var t,n=0;n<e.length;n++){var r=e[n];if("OPERAND"===r.objectType){var a=r.isAnd?"AND":"OR";if(t){if(t!==a){t="MIXED";break}}else t=a}}return t||"NO"}function Be(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Be(o,r,a,i,s,"next",e)}function s(e){Be(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ge(e,t,n[t])}))}return e}function Ve(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function We(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ze,Ye=(ze=qe((function(e){return We(this,(function(t){switch(t.label){case 0:return[4,we().get("/admin/rest/evaluation/statistics",{params:{token:e}})];case 1:return[2,t.sent().data||[]]}}))})),function(e){return ze.apply(this,arguments)}),Qe=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().post("/admin/rest/evaluation/get-statistics-criterion",t,{params:{token:e}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Je=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().post("/admin/rest/evaluation/search-by-giid",[t],{params:{token:e}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(){var e=qe((function(e,t,n,r,a){var o;return We(this,(function(i){switch(i.label){case 0:return o={token:e,giid:t,ts:n,mediaType:r},a&&(o.cdrId=a),[4,we().get("/admin/rest/evaluation/metadata",{params:o})];case 1:return[2,i.sent().data||[]]}}))}));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),Ze=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().post("/admin/rest/evaluation/save-result-definition",t,{params:{token:e}})];case 1:return[2,n.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),et=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().post("/admin/rest/evaluation/bookmark-result-definition",t,{params:{token:e}})];case 1:return[2,n.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){var e=qe((function(e,t,n,r,a,o,i){return We(this,(function(s){switch(s.label){case 0:return[4,we().get("/admin/rest/evaluation/get-result-definition",{params:{token:e,giid:t,ts:n,mediaType:r,cdrId:o,agentLoginId:a,formId:i}})];case 1:return[2,s.sent().data]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),nt=(function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().get("/admin/rest/evaluation/get-result-definition-by-id",{params:{token:e,evalId:t}})];case 1:return[2,n.sent().data]}}))}))}(),function(){var e=qe((function(e,t,n,r,a,o){return We(this,(function(i){switch(i.label){case 0:return[4,we().get("/admin/rest/evaluation/get-evaluation-forms",{params:{token:e,giid:t,ts:n,mediaType:r,agentLoginId:a,serviceName:o}})];case 1:return[2,i.sent().data||[]]}}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}()),rt=(function(){var e=qe((function(e,t,n){return We(this,(function(r){switch(r.label){case 0:return[4,we().get("/admin/rest/evaluation/get-all-evals",{params:{token:e,giid:t,agentLoginId:n}})];case 1:return[2,r.sent().data||{}]}}))}))}(),function(){var e=qe((function(e,t,n,r,a){return We(this,(function(o){switch(o.label){case 0:return[4,we().get("/admin/rest/evaluation/get-all-evals-info",{params:{token:e,giid:t,ts:n,mediaType:r,agentLoginId:a}})];case 1:return[2,o.sent().data||{}]}}))}));return function(t,n,r,a,o){return e.apply(this,arguments)}}()),at=function(){var e=qe((function(e){return We(this,(function(t){switch(t.label){case 0:return[4,we().get("/admin/rest/evaluation/saved-searches",{params:{token:e}})];case 1:return[2,t.sent().data||[]]}}))}));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=qe((function(e,t,n,r){var a,o=arguments;return We(this,(function(i){switch(i.label){case 0:return a=o.length>4&&void 0!==o[4]&&o[4],[4,we().post("/admin/rest/evaluation/create-search",{cloned:a,editable:!0,name:t,parentId:n,privacy:r,randomizeSearch:!1,type:"QUERY"},{params:{token:e}})];case 1:return[2,i.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),it=function(){var e=qe((function(e,t,n,r){return We(this,(function(a){switch(a.label){case 0:return[4,we().post("/admin/rest/evaluation/create-search",{count:0,editable:!0,name:t,parentId:n,privacy:r,randomizeSearch:!1,type:"FOLDER"},{params:{token:e}})];case 1:return[2,a.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),st=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().delete("/admin/rest/evaluation/remove-search/".concat(t),{params:{token:e}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ct=function(){var e=qe((function(e,t,n,r){return We(this,(function(a){switch(a.label){case 0:return[4,we().put("/admin/rest/evaluation/move-search/".concat(t),{parentId:n,privacy:r},{params:{token:e}})];case 1:return[2,a.sent()]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),ut=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().post("/admin/rest/evaluation/assign-evaluation",t,{params:{token:e}})];case 1:return[2,n.sent().statusText]}}))}));return function(t,n){return e.apply(this,arguments)}}(),lt=function(){var e=qe((function(e,t){var n,a;return We(this,(function(o){switch(o.label){case 0:return n=t.agentLogins.toString(),a=t.teams.join(r.FETCH_EVALUATORS_TEAMS_SEPARATOR),[4,we().get("/admin/rest/evaluation/get-evaluators",{params:{token:e,agentLogins:n,teams:a}})];case 1:return[2,o.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=qe((function(e,t,n,r,a,o){return We(this,(function(i){switch(i.label){case 0:return[4,we().post("/admin/rest/evaluation/save-evaluator-comment",o,{headers:{"Content-Type":"application/json"},params:{token:e,giid:t,mediaType:n,cdrId:r,agentLoginId:a}})];case 1:return[2,i.sent()]}}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),_t=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().get("/admin/rest/evaluation/dispositions",{params:{token:e,serviceName:t}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ft=function(){var e=qe((function(e,t,n,r){return We(this,(function(a){switch(a.label){case 0:return[4,we().post("/admin/rest/evaluation/update-disposition",{disposition:n,notes:r},{params:{token:e,agentLoginId:t}})];case 1:return[2,a.sent().data||{}]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),pt=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().post("/admin/rest/evaluation/search",t,{params:{token:e}})];case 1:return[2,n.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),mt=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,we().get("/admin/rest/evaluation/get-search/".concat(t),{params:{token:e}})];case 1:return[2,n.sent().data];case 2:return n.sent(),[2,null];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),gt=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,pt(e,{objectType:"BLOCK",conditions:t.criteriaList,randomizeSearch:t.randomizeSearch})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ht=function(){var e=qe((function(e,t){var n,r;return We(this,(function(a){switch(a.label){case 0:return[4,mt(e,t)];case 1:if(n=a.sent())return r=n.criteriaList,[2,Ve(He({},je(r)),{randomizeSearch:n.randomizeSearch,name:n.name,editable:n.editable})];throw new Error("something went wrong")}}))}));return function(t,n){return e.apply(this,arguments)}}(),vt=function(){var e=qe((function(e,t,n){var r,a,o,i,s,c,u,l;return We(this,(function(d){switch(d.label){case 0:return r=n.randomizeSearch,a=n.name,o=Se(n),[4,we().post("/admin/rest/evaluation/save-search",{id:t,name:a,objectType:"BLOCK",randomizeSearch:r,conditions:o},{params:{token:e}})];case 1:return i=d.sent(),s=je(i.data.criteriaList),c=s.filters,u=s.order,l=s.customFilters,[2,{filters:c,order:u,customFilters:l,name:i.data.name,randomizeSearch:i.data.randomizeSearch,editable:i.data.editable}]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),yt=function(){var e=qe((function(e,t,n){var r,a,o,i,s,c,u,l;return We(this,(function(d){switch(d.label){case 0:return r=n,n?[3,2]:[4,at(e)];case 1:a=d.sent(),r=a.find((function(e){return e.id===t})),d.label=2;case 2:return r?[4,ot(e,r.name,r.parentId,r.privacy,!0)]:[2];case 3:return o=d.sent(),[4,we().post("/admin/rest/evaluation/save-search",{id:o.id,cloned:!0,conditions:o.criteriaList,name:o.name,editable:!0,objectType:"BLOCK",qmLayout:null,randomizeSearch:o.randomizeSearch,type:"QUERY"},{params:{token:e}})];case 4:return i=d.sent(),s=je(i.data.criteriaList),c=s.filters,u=s.order,l=s.customFilters,[2,{filters:c,order:u,customFilters:l,name:i.data.name,randomizeSearch:i.data.randomizeSearch,newId:o.id,editable:i.data.editable}]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),bt=function(){var e=qe((function(e,t){return We(this,(function(n){switch(n.label){case 0:return[4,we().get(e,{params:{token:t}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),St=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-agents",e)]}))}));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-dispositions",e)]}))}));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-services",e)]}))}));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-templates",e)]}))}));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=qe((function(e){return We(this,(function(t){switch(t.label){case 0:return[4,bt("/admin/rest/evaluation/get-teams",e)];case 1:return[2,t.sent().map((function(e){var t=e.name;return{name:t,id:t}}))]}}))}));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-supervisors",e)]}))}));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-users?withMe=true",e)]}))}));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-custom-fields",e)]}))}));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=qe((function(e){return We(this,(function(t){return[2,bt("/admin/rest/evaluation/get-training-classes",e)]}))}));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=qe((function(e){var t,n,r,a,o,i,s,c,u,l;return We(this,(function(d){switch(d.label){case 0:return[4,Promise.allSettled([At(e),St(e),Ct(e),It(e),wt(e),Tt(e),Et(e),Ot(e),Dt(e)])];case 1:return t=d.sent(),n="fulfilled"===t[0].status?t[0].value:[],r="fulfilled"===t[1].status?t[1].value:[],a="fulfilled"===t[2].status?t[2].value:[],o="fulfilled"===t[3].status?t[3].value:[],i="fulfilled"===t[4].status?t[4].value:[],s="fulfilled"===t[5].status?t[5].value:[],c="fulfilled"===t[6].status?t[6].value:[],u="fulfilled"===t[7].status?t[7].value:[],l="fulfilled"===t[8].status?t[8].value:[],[2,{trainingClassesList:n,agentsList:r,dispositionsList:a,servicesList:o,templatesList:i,usersList:s,teamsList:c,supervisorsList:u,customFiltersList:l}]}}))}));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=qe((function(e,t,n,r,a,o){return We(this,(function(i){switch(i.label){case 0:return[4,we().get("/admin/rest/evaluation/get-voice-recording-path",{params:{token:e,giid:t,cpa:n,mediaType:r,download:a,cdrId:o}})];case 1:return[2,i.sent().data]}}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),kt=function(){var e=qe((function(e,t,n,r){return We(this,(function(a){switch(a.label){case 0:return[4,we().get("/admin/rest/evaluation/get-screen-recording-path",{params:{token:e,giid:t,mediaType:n,cdrId:r}})];case 1:return[2,a.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Nt=function(){var e=qe((function(e,t,n,r){return We(this,(function(a){switch(a.label){case 0:return"/admin/rest/evaluation/get-screen-recording-status",[4,we().get("/admin/rest/evaluation/get-screen-recording-status",{params:{token:e,giid:t,mediaType:n,cdrId:r}})];case 1:return[2,a.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Mt=function(){var e=qe((function(e,t,n){var r,a,o;return We(this,(function(i){switch(i.label){case 0:return[4,we().head(e)];case 1:return r=i.sent(),(a=r.headers.contentLength)>2097152?(t(),[2]):[4,we().get(e,{headers:{Range:"bytes=0-"+(a-1)}})];case 2:return o=i.sent(),n(o.data),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}();function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Lt(o,r,a,i,s,"next",e)}function s(e){Lt(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t,n){return Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qt(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Bt(e,t,n||e)}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ut(e,t,n[t])}))}return e}function Ht(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Vt(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?xt(e):t;var n}function Wt(e,t){return Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wt(e,t)}function zt(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var a=qt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vt(this,n)}}function Qt(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(s,e);var t,n,o,i=Yt(s);function s(){var e;Ft(this,s),Ut(xt(e=i.apply(this,arguments)),"previousOpenedTab",void 0);var t=xt(e);Ut(xt(e),"getDictionariesDisposition",function(){var e=Kt((function(e){var n;return Qt(this,(function(r){switch(r.label){case 0:return[4,Ct(e)];case 1:return(n=r.sent()).pop(),n&&t.produceState((function(e){e.dictionaries.dispositionsList=n})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var n=xt(e);Ut(xt(e),"getDictionariesService",function(){var e=Kt((function(e){var t;return Qt(this,(function(r){switch(r.label){case 0:return[4,It(e)];case 1:return(t=r.sent())&&n.produceState((function(e){e.dictionaries.servicesList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var o=xt(e);Ut(xt(e),"getDictionariesKmTemplate",function(){var e=Kt((function(e){var t;return Qt(this,(function(n){switch(n.label){case 0:return[4,wt(e)];case 1:return(t=n.sent())&&o.produceState((function(e){e.dictionaries.templatesList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var c=xt(e);Ut(xt(e),"getDictionariesSupervisors",function(){var e=Kt((function(e){var t;return Qt(this,(function(n){switch(n.label){case 0:return[4,Ot(e)];case 1:return(t=n.sent())&&c.produceState((function(e){e.dictionaries.supervisorsList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var u=xt(e);Ut(xt(e),"getDictionariesUsers",function(){var e=Kt((function(e){var t;return Qt(this,(function(n){switch(n.label){case 0:return[4,Tt(e)];case 1:return(t=n.sent())&&u.produceState((function(e){e.dictionaries.usersList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var l=xt(e);Ut(xt(e),"getDictionariesTrainingClasses",function(){var e=Kt((function(e){var t;return Qt(this,(function(n){switch(n.label){case 0:return[4,At(e)];case 1:return(t=n.sent())&&l.produceState((function(e){e.dictionaries.trainingClassesList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),Ut(xt(e),"getEvaluators",(function(t,n){lt(t,n).then((function(t){e.produceState((function(e){e.evaluators=t}))})).catch((function(){e.produceState((function(e){e.evaluators=[]}))}))})),Ut(xt(e),"assignEvaluations",(function(t,n){e.produceState((function(e){e.isAssignEvaluationLoading=!0})),ut(t,n).then((function(){e.produceState((function(e){e.isAssignEvaluationLoading=!1,e.isAssignEvaluationError=!1}))})).catch((function(){e.produceState((function(e){e.isAssignEvaluationLoading=!1,e.isAssignEvaluationError=!0}))}))})),Ut(xt(e),"setPermissions",(function(t){e.produceState((function(e){e.permissions=t}))})),Ut(xt(e),"getEvalsStatistics",(function(t){Ye(t).then(e.onEvalStatistics).catch(e.onEvalStatisticsError)})),Ut(xt(e),"onEvalStatistics",(function(t){e.produceState((function(e){e.isEvalStatsLoading=!1,e.evalStats=t}))})),Ut(xt(e),"onEvalStatisticsError",(function(){e.produceState((function(e){e.isEvalStatsLoading=!1,e.evalStats=[]}))})),Ut(xt(e),"updatePrevEvalsStatistics",(function(t){e.produceState((function(e){e.prevEvalStats=t||e.evalStats}))})),Ut(xt(e),"getSavedSearches",(function(t){e.produceState((function(e){e.isSavedSearchesLoading=!0})),at(t).then(e.onSavedSearches).catch(e.onSavedSearchesError)})),Ut(xt(e),"onSavedSearches",(function(t){e.produceState((function(e){e.isSavedSearchesLoading=!1,e.savedSearches=t}))})),Ut(xt(e),"onSavedSearchesError",(function(){e.produceState((function(e){e.isSavedSearchesLoading=!1,e.savedSearches=[]}))})),Ut(xt(e),"onLoadInteractionError",(function(t){e.produceState((function(e){var n=e.interactions[t];(0,a.assertDefined)(n),n.error=!0,n.loading=!1}))})),Ut(xt(e),"getInteraction",(function(t,n,r){e.produceState((function(e){e.interactions[n]||(e.interactions[n]={error:!1,loading:!0})})),Je(t,n).then((function(o){var i=o.data[0];e.produceState((function(e){var t=e.interactions[n];(0,a.assertDefined)(t),t.interaction=i,t.segments={}}));var s=i.dateTime,c=i.mediaType;e.getInteractionSegments(t,n,s,c,r)})).catch((function(){e.onLoadInteractionError(n)}))})),Ut(xt(e),"getInteractionSegments",(function(t,n,r,o,i){var s=function(c){Xe(t,n,r,o,c).then((function(u){if(e.produceState((function(e){var t=e.interactions[n];(0,a.assertDefined)(t),(0,a.assertDefined)(t.segments),c||(t.startTime=u.startTime),(!i&&!c||i&&u.cdrId===i)&&(t.metadata=u),t.segments[u.cdrId]={metadata:u}})),u.selectedParty.hasVoiceRecording&&e.loadVoiceRecording(t,n,!1,o,!1,u.cdrId),u.nextSegmentId)s(u.nextSegmentId);else{var l;e.setInteractionSegmentsData(n);var d=null===(l=e.stateData.interactions[n])||void 0===l?void 0:l.metadata;(0,a.assertDefined)(d),d.systemInteraction?e.produceState((function(e){var t=e.interactions[n];(0,a.assertDefined)(t),t.loading=!1})):e.getInteractionEvalsInfo(u,t,n,r)}})).catch((function(){e.onLoadInteractionError(n)}))};s()})),Ut(xt(e),"syncSegmentTranscripts",(function(e,t){return e.selectedParty.transcriptsBatch.transcripts.map((function(e){var n=e.time-t,r=n<0?0:n;return Ht(Gt({},e),{timeOffset:r})}))})),Ut(xt(e),"getSegmentParticipants",(function(t,n,r){if(e.isServiceSegment(t))return[];var a=t.startTime-r,o=t.selectedParty,i=t.selectedParty.loginId?"agent":"client";return[{party:o,role:"agent",active:n,joinTime:a,segmentId:t.cdrId},{party:t.nonSelectedParty,role:n?"client":i,active:!1,joinTime:a,segmentId:t.cdrId}]})),Ut(xt(e),"isServiceSegment",(function(e){return r.SERVICE_SEGMENT_DISPOSITIONS.includes(e.disposition)})),Ut(xt(e),"getInteractionEvalsInfo",(function(t,n,r,o){var i=t.selectedParty.loginId;i&&rt(n,r,o,t.mediaType,i).then((function(s){e.produceState((function(e){var t=e.interactions[r];(0,a.assertDefined)(t),t.forms={items:[],loadedItems:{}},t.evalsInfo=s})),e.mustOpenAllEvals(s)?e.produceState((function(e){var t=e.interactions[r];(0,a.assertDefined)(t),t.loading=!1})):e.initEvaluationForms(t,n,r,o,i)})).catch((function(){e.onLoadInteractionError(r)}))})),Ut(xt(e),"getEvaluationFormData",(function(t,n,r,o,i,s,c){e.produceState((function(e){var t=e.interactions[n];(0,a.assertDefined)(t),(0,a.assertDefined)(t.forms),t.forms.activeFormId=c})),tt(t,n,r,o,i,s,c).then((function(t){e.produceState((function(e){var r=e.interactions[n];(0,a.assertDefined)(r),(0,a.assertDefined)(r.forms),(0,a.assertDefined)(r.forms.loadedItems),r.forms.loadedItems[c]=t}))}))})),Ut(xt(e),"setActiveEvalFormId",(function(t,n){e.produceState((function(e){var r=e.interactions[t];(0,a.assertDefined)(r),(0,a.assertDefined)(r.forms),r.forms.activeFormId=n}))})),Ut(xt(e),"initEvaluationForms",(function(t,n,o,i,s){if(e.canEvaluateOrAssign(t)){var c=t.selectedParty.serviceName;nt(n,o,i,t.mediaType,s,c).then((function(c){if(0!==c.length){e.produceState((function(e){var t=e.interactions[o];(0,a.assertDefined)(t),t.forms={items:c,loadedItems:{}},t.loading=!1}));var u=c.find((function(e){return e.status===r.EvaluationFormStatus.SAVED}))||c[0];e.getEvaluationFormData(n,o,i,t.mediaType,s,t.cdrId,u.id)}else e.produceState((function(e){var t=e.interactions[o];(0,a.assertDefined)(t),t.forms={items:c,loadedItems:{},error:"forms"},t.loading=!1}))})).catch((function(){e.onLoadInteractionError(o)}))}else e.produceState((function(e){var t=e.interactions[o];(0,a.assertDefined)(t),t.forms={items:[],loadedItems:{},error:"permissions"},t.loading=!1}))})),Ut(xt(e),"setInteractionRelatedSearch",(function(t,n){e.produceState((function(e){var r=e.interactions[t];r||(r={loading:!0,error:!1}),r.relatedSearch=n,e.interactions[t]=r}))})),Ut(xt(e),"createNewSearch",(function(t,n,r){var a;e.produceState((function(e){e.isSavedSearchesLoading=!0}));var o=(null===(a=e.stateData.savedSearches.find((function(e){return e.id===r})))||void 0===a?void 0:a.privacy)||"PERSONAL";ot(t,n,r,o).then((function(){e.produceState((function(e){return e.isSavedSearchesLoading=!1,e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),Ut(xt(e),"createNewFolder",(function(t,n,r){var a;e.produceState((function(e){e.isSavedSearchesLoading=!0}));var o=(null===(a=e.stateData.savedSearches.find((function(e){return e.id===r})))||void 0===a?void 0:a.privacy)||"PERSONAL";it(t,n,r,o).then((function(t){e.produceState((function(e){return e.isSavedSearchesLoading=!1,e.savedSearches.push(t),e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),Ut(xt(e),"removeSearchesElem",(function(t,n){e.produceState((function(e){e.isSavedSearchesLoading=!0})),st(t,n).then((function(){e.produceState((function(e){return e.savedSearches=e.savedSearches.filter((function(e){return e.id!==n})),e.isSavedSearchesLoading=!1,e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),Ut(xt(e),"moveSearchesElem",(function(t,n,r){var a;e.produceState((function(e){e.isSavedSearchesLoading=!0}));var o=(null===(a=e.stateData.savedSearches.find((function(e){return e.id===n})))||void 0===a?void 0:a.privacy)||"PERSONAL";ct(t,n,r,o).then((function(){e.produceState((function(e){return e.savedSearches=e.savedSearches.map((function(e){return e.id===n?Ht(Gt({},e),{parentId:r}):e})),e.isSavedSearchesLoading=!1,e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),Ut(xt(e),"setSavedTabs",(function(t){e.produceState((function(e){e.tabs=t}))})),Ut(xt(e),"addTab",(function(t){e.produceState((function(n){e.previousOpenedTab=n.activeTabId;var r=n.tabs.find((function(e){return e.tabId===t.tabId}));r?r.title!==t.title&&(r.title=t.title):n.tabs.push(t),n.activeTabId=t.tabId}))})),Ut(xt(e),"removeTab",(function(t){e.produceState((function(n){n.tabs=n.tabs.filter((function(e){return e.tabId!==t}));var a=n.tabs.find((function(t){return t.tabId===e.previousOpenedTab}));n.activeTabId=(null==a?void 0:a.tabId)||r.EvaluationPageName.HOME}))})),Ut(xt(e),"replaceTab",(function(t,n){e.produceState((function(e){var r=e.tabs.findIndex((function(e){return e.tabId===t}));e.tabs[r]=n,e.activeTabId=n.tabId}))})),Ut(xt(e),"setActiveTabId",(function(t){e.produceState((function(n){e.previousOpenedTab=n.activeTabId,n.activeTabId=t}))}));var d=xt(e);Ut(xt(e),"copyInteractionsQuery",function(){var e=Kt((function(e,t){var n,a;return Qt(this,(function(o){switch(o.label){case 0:return n=d.stateData.savedSearches.find((function(e){return e.id===t})),[4,yt(e,t,n)];case 1:return(a=o.sent())?(d.produceState((function(e){e.interactionsQueries[a.newId]=Ht(Gt({},a),{isError:!1,loading:!1})})),d.addTab({tabId:"".concat(r.EvaluationPageName.SEARCH,"-").concat(a.newId),page:r.EvaluationPageName.SEARCH,title:a.name,dataId:a.newId,searchType:r.EvaluationSearchType.SEARCH_ID}),[2]):[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var _=xt(e);Ut(xt(e),"getInteractionQuery",function(){var e=Kt((function(e,t){var n;return Qt(this,(function(r){switch(r.label){case 0:return!(n=_.stateData.interactionsQueries[t])||n.loading||n.isError?[4,mt(e,t)]:[2,{criteriaList:Se(n),name:n.name,randomizeSearch:n.randomizeSearch,editable:n.editable}];case 1:return[2,r.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}());var f=xt(e);Ut(xt(e),"getInteractionsBySearchId",function(){var e=Kt((function(e,t){var n;return Qt(this,(function(a){switch(a.label){case 0:return[4,f.getInteractionQuery(e,t)];case 1:return(n=a.sent())?(gt(e,n).then((function(e){var a=Gt({id:t,title:n.name,type:r.EvaluationSearchType.SEARCH_ID,editable:n.editable},e);f.produceState((function(e){e.searchResults[t]=a}))})).catch((function(){f.produceState((function(e){e.activeTabId=r.EvaluationPageName.HOME}))})),[2]):[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var p=xt(e);Ut(xt(e),"getInteractionsByEvalStat",function(){var e=Kt((function(e,t,n){var a;return Qt(this,(function(o){switch(o.label){case 0:return[4,Qe(e,n)];case 1:return(a=o.sent())?(gt(e,a).then((function(e){var n=Gt({id:t,title:a.name,type:r.EvaluationSearchType.EVAL_STAT,editable:a.editable},e);p.produceState((function(e){e.searchResults[t]=n}))})).catch((function(){p.produceState((function(e){e.activeTabId=r.EvaluationPageName.HOME}))})),[2]):[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()),Ut(xt(e),"getInteractionsQuery",(function(t,n){var r=e.stateData.interactionsQueries[n];(!r||r.loading||r.isError)&&(e.produceState((function(e){e.interactionsQueries[n]={loading:!0}})),ht(t,n).then((function(t){e.setInteractionsQuery(t,n)})).catch((function(){e.onInteractionQueryError(n)})))})),Ut(xt(e),"onInteractionQueryError",(function(t){e.produceState((function(e){e.interactionsQueries[t]={loading:!1,isError:!0}}))}));var m=xt(e);Ut(xt(e),"saveInteractionsQuery",function(){var e=Kt((function(e,t,n){var r;return Qt(this,(function(a){switch(a.label){case 0:return[4,vt(e,t,n)];case 1:return r=a.sent(),m.setInteractionsQuery(r,t),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()),Ut(xt(e),"setInteractionsQuery",(function(t,n){e.produceState((function(e){e.interactionsQueries[n]=Ht(Gt({},t),{isError:!1,loading:!1})}))}));var g=xt(e);Ut(xt(e),"getDictionaries",function(){var e=Kt((function(e){var t;return Qt(this,(function(n){switch(n.label){case 0:return g.stateData.dictionariesLoading?[4,Pt(e)]:[3,2];case 1:t=n.sent(),g.produceState((function(e){e.dictionariesLoading=!1,e.dictionaries=Gt({},e.dictionaries,t)})),n.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var h=xt(e);Ut(xt(e),"getDispositions",function(){var e=Kt((function(e,t){var n;return Qt(this,(function(r){switch(r.label){case 0:return[4,_t(e,t)];case 1:return n=r.sent(),h.produceState((function(e){e.dispositionsLoading=!1,e.dispositions=n})),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var v=xt(e);Ut(xt(e),"saveDisposition",function(){var e=Kt((function(e,t,n,r,o){return Qt(this,(function(i){return v.produceState((function(e){e.dispositionSaving=!0})),ft(e,n,r,o).then((function(){var n,r=null===(n=v.stateData.interactions[t])||void 0===n?void 0:n.metadata;(0,a.assertDefined)(r),Xe(e,t,r.startTime,r.mediaType).then((function(e){v.produceState((function(n){n.dispositionSaving=!1;var r=n.interactions[t];(0,a.assertDefined)(r),r.metadata=e}))}))})),[2]}))}));return function(t,n,r,a,o){return e.apply(this,arguments)}}());var y=xt(e);return Ut(xt(e),"saveEvaluatorComment",function(){var e=Kt((function(e,t,n,r,o,i){return Qt(this,(function(s){return y.produceState((function(e){e.evaluatorCommentSaving=!0})),dt(e,t,n,r,o,i).then((function(){var n,r=null===(n=y.stateData.interactions[t])||void 0===n?void 0:n.metadata;(0,a.assertDefined)(r),Xe(e,t,r.startTime,r.mediaType).then((function(e){y.produceState((function(n){n.evaluatorCommentSaving=!1;var r=n.interactions[t];(0,a.assertDefined)(r),r.metadata=e}))}))})),[2]}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}()),Ut(xt(e),"setSelectedSearch",(function(t){e.produceState((function(e){e.selectedSearchId=t}))})),Ut(xt(e),"saveResultDefinition",(function(e,t){return Ze(e,t)})),Ut(xt(e),"bookmarkResultDefinition",(function(t,n){et(t,n).then((function(t){e.produceState((function(e){var r=e.interactions[n.giid];(0,a.assertDefined)(r),r.forms&&r.forms.loadedItems&&(r.forms.loadedItems[t.formId]=t)}))}))})),Ut(xt(e),"checkScreenRecordingLoading",(function(t,n,r,a){Nt(t,n,r,a).then((function(o){switch(o.status){case"READY":e.loadScreenRecording(t,n,r,a);break;case"IN_PROGRESS":e.onScreenRecordingProgress(n,Math.floor(100*o.progress)),setTimeout((function(){e.checkScreenRecordingLoading(t,n,r,a)}),1e3);break;case"CANCELED":e.onScreenRecordingError(n,"cancelled");break;case"ERROR":switch(console.error("Error while loading screen recording:",o.errorMessage),o.errorCode){case"ERR_MERGE_INTERRUPTED":e.onScreenRecordingError(n,"cancelled");break;case"ERR_FILE_NOT_FOUND":e.onScreenRecordingError(n,"not-found");break;default:e.onScreenRecordingError(n,"not-available")}}})).catch((function(){e.onScreenRecordingError(n,"server")}))})),Ut(xt(e),"loadVoiceRecording",(function(t,n,r,o,i,s){var c,u,l;(null===(l=e.stateData.interactions[n])||void 0===l||null===(u=l.segments)||void 0===u||null===(c=u[s].voiceRecording)||void 0===c?void 0:c.loading)||(e.produceState((function(e){var t,r,o,i=null===(r=e.interactions[n])||void 0===r||null===(t=r.segments)||void 0===t?void 0:t[s];(0,a.assertDefined)(i),(null===(o=i.voiceRecording)||void 0===o?void 0:o.loading)||(i.voiceRecording={loading:!0})})),Rt(t,n,r,o,i,s).then((function(t){e.produceState((function(e){var r,o,i=null===(o=e.interactions[n])||void 0===o||null===(r=o.segments)||void 0===r?void 0:r[s].voiceRecording;(0,a.assertDefined)(i),i.source=t,i.loading=!1}))})).catch((function(){e.onVoiceRecordingError(n,s)})))})),Ut(xt(e),"onVoiceRecordingError",(function(t,n){e.produceState((function(e){var r,o,i=null===(o=e.interactions[t])||void 0===o||null===(r=o.segments)||void 0===r?void 0:r[n].voiceRecording;(0,a.assertDefined)(i),i.loading=!1,i.error=!0}))})),Ut(xt(e),"loadScreenRecording",(function(t,n,r,o){var i,s;(null===(s=e.stateData.interactions[n])||void 0===s||null===(i=s.screenRecording)||void 0===i?void 0:i.source)||(e.produceState((function(e){var t,r=e.interactions[n];(0,a.assertDefined)(r),(null===(t=r.screenRecording)||void 0===t?void 0:t.loading)||(r.screenRecording={loading:!0,progress:0})})),kt(t,n,r,o).then((function(a){a?e.onScreenRecordingLoad(a,t,n,r,o):e.checkScreenRecordingLoading(t,n,r,o)})).catch((function(){e.onScreenRecordingError(n,"server")})))})),Ut(xt(e),"onScreenRecordingLoad",(function(t,n,r,o,i){var s=function(){e.produceState((function(e){var n,o=null===(n=e.interactions[r])||void 0===n?void 0:n.screenRecording;(0,a.assertDefined)(o),o.loading=!1,o.source=t}))};Mt(t,s,(function(t){var a=!1;try{JSON.parse(t).code&&(a=!0,e.loadScreenRecording(n,r,o,i))}catch(c){}a||s()}))})),Ut(xt(e),"onScreenRecordingProgress",(function(t,n){e.produceState((function(e){var r,o=null===(r=e.interactions[t])||void 0===r?void 0:r.screenRecording;(0,a.assertDefined)(o),o.progress=n}))})),Ut(xt(e),"onScreenRecordingError",(function(t,n){e.produceState((function(e){var r,o=null===(r=e.interactions[t])||void 0===r?void 0:r.screenRecording;(0,a.assertDefined)(o),o.loading=!1,o.error=n}))})),Ut(xt(e),"setScreenRecordingExpanded",(function(t){e.produceState((function(e){e.screenRecordingExpanded=t}))})),Ut(xt(e),"canEvaluateOrAssign",(function(e){return e.canMakeEvaluation||e.canAssignEvaluation})),Ut(xt(e),"mustOpenAllEvals",(function(e){return e.evaluationsExist&&!e.currUserSavedEvaluationExist})),e}return t=s,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({getEvalsStatistics:this.getEvalsStatistics,updatePrevEvalsStatistics:this.updatePrevEvalsStatistics,setPermissions:this.setPermissions,getInteraction:this.getInteraction,getInteractionSegments:this.getInteractionSegments,setInteractionRelatedSearch:this.setInteractionRelatedSearch,getSavedSearches:this.getSavedSearches,createNewSearch:this.createNewSearch,createNewFolder:this.createNewFolder,removeSearchesElem:this.removeSearchesElem,moveSearchesElem:this.moveSearchesElem,assignEvaluations:this.assignEvaluations,getEvaluators:this.getEvaluators,getDispositions:this.getDispositions,saveDisposition:this.saveDisposition,saveEvaluatorComment:this.saveEvaluatorComment,setSavedTabs:this.setSavedTabs,addTab:this.addTab,removeTab:this.removeTab,replaceTab:this.replaceTab,setActiveTabId:this.setActiveTabId,getInteractionsBySearchId:this.getInteractionsBySearchId,getInteractionsByEvalStat:this.getInteractionsByEvalStat,getInteractionsQuery:this.getInteractionsQuery,getEvaluationFormData:this.getEvaluationFormData,setActiveEvalFormId:this.setActiveEvalFormId,saveResultDefinition:this.saveResultDefinition,bookmarkResultDefinition:this.bookmarkResultDefinition,getDictionaries:this.getDictionaries,saveInteractionsQuery:this.saveInteractionsQuery,setInteractionsQuery:this.setInteractionsQuery,setSelectedSearch:this.setSelectedSearch,loadVoiceRecording:this.loadVoiceRecording,loadScreenRecording:this.loadScreenRecording,setScreenRecordingExpanded:this.setScreenRecordingExpanded,copyInteractionsQuery:this.copyInteractionsQuery,getDictionariesDisposition:this.getDictionariesDisposition,getDictionariesService:this.getDictionariesService,getDictionariesKmTemplate:this.getDictionariesKmTemplate,getDictionariesSupervisors:this.getDictionariesSupervisors,getDictionariesUsers:this.getDictionariesUsers,getDictionariesTrainingClasses:this.getDictionariesTrainingClasses}))}},{key:"setInteractionSegmentsData",value:function(e){var t=this;this.produceState((function(n){var r=n.interactions[e];(0,a.assertDefined)(r);var o=r.segments;(0,a.assertDefined)(o);var i=r.metadata;(0,a.assertDefined)(i);var s=r.startTime;(0,a.assertDefined)(s);var c=[],u=[];Object.values(o).map((function(e){return e.metadata})).sort((function(e,t){return e.startTime-t.startTime})).forEach((function(e){var n,r=t.syncSegmentTranscripts(e,s);(n=u).push.apply(n,zt(r)),t.getSegmentParticipants(e,i.cdrId===e.cdrId,s).forEach((function(e){var t;t=e.party,c.find((function(e){return e.party.loginId===t.loginId&&e.party.name===t.name}))||c.push(e)}))})),r.participants=c,r.transcripts=u}))}},{key:"cleanup",value:function(){Bt(qt(s.prototype),"cleanup",this).call(this)}},{key:"resetState",value:function(){Bt(qt(s.prototype),"resetState",this).call(this)}}])&&$t(t.prototype,n),o&&$t(t,o),s}(o.StateFactory.createBaseStateClass({name:"evaluationState",controlEvents:r.evaluationStateControlEvents,trackerEvents:r.evaluationStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:r.getInitialEvaluationState,dependencies:[]}))},45950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useFormatting:()=>u});var r=n(52322),a=n(66029),o=n(2122),i=n(80867),s=n(97978),c=n(62476);function u(){var e=(0,c.useLocalizationState)().t,t=(0,s.useSessionState)().displayNameFormat,n=(0,a.useCallback)((function(t){return{day:e.INTERNAL_CHAT.chat_history_day(),week:e.INTERNAL_CHAT.chat_history_week(),month:e.INTERNAL_CHAT.chat_history_month(),all:e.INTERNAL_CHAT.chat_history_all()}[t]}),[e]),u=(0,a.useCallback)((function(t){switch(t){case"BUSINESS":return e.SCREENPOP_FORM.phone_type_business();case"HOME":return e.SCREENPOP_FORM.phone_type_home();case"MOBILE":return e.SCREENPOP_FORM.phone_type_mobile();case"FAX":return e.SCREENPOP_FORM.phone_type_fax();default:return e.GLOBAL.addressType_phone()}}),[e]),l=(0,a.useCallback)((function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(t){case"BUSINESS":return n?e.SCREENPOP_FORM.email_type_business():e.SCREENPOP_FORM.email_type_business_short();case"PRIVATE":return n?e.SCREENPOP_FORM.email_type_private():e.SCREENPOP_FORM.email_type_private_short();case"PRIMARY":return n?e.SCREENPOP_FORM.email_type_primary():e.SCREENPOP_FORM.email_type_primary_short();default:return e.GLOBAL.addressType_email()}}),[e]),d=(0,a.useCallback)((function(t){switch(t){case"PRIMARY":return e.SCREENPOP_FORM.address_type_primary();case"BILLING":return e.SCREENPOP_FORM.address_type_billing();case"SHIPPING":return e.SCREENPOP_FORM.address_type_shipping();default:return e.SCREENPOP_FORM.address_type_other()}}),[e]),_=(0,a.useCallback)((function(t){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("b",{children:t})," ",(0,r.jsxs)("span",{style:{fontWeight:"normal"},children:["(",e.GLOBAL.optional(),")"]})]})}),[e]);return(0,a.useMemo)((function(){return{formatFullName:(0,o.partial)(i.formatFullName,t),getNamesFromDisplayName:(0,o.partial)(i.getNamesFromDisplayName,t),formatPhoneType:u,formatEmailType:l,formatAddressType:d,translateHistoryPeriod:n,renderWithOptionalPostfix:_}}),[t,d,l,u,n,_])}},75613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chatHTMLToChatText:()=>o,chatTypeToMedia:()=>i,formatCallDuration:()=>g,formatChatDate:()=>y,formatDate:()=>b,formatEmail:()=>f,formatFullName:()=>h,formatPhone:()=>_,getInitials:()=>E,getNamesFromDisplayName:()=>v,getSentimentFrom:()=>I,isPhone:()=>m,itemTypeToTabType:()=>S,mimeTypeToExternalChatFileType:()=>C,prepareHighlightFormattedPhone:()=>p,splitName:()=>w});var r=n(2122),a=n(13519);function o(e){return(0,r.flow)((function(e){return e&&e.replaceAll(/&nbsp;/g," ")}),(function(e){return e&&e.replaceAll(/<br>/g,"\n")}),(function(e){return e&&e.replaceAll(/<a.*href=["'](\S*)["'].*>(.*)<\/a>/g,"$2 &lt;$1&gt;")}),(function(e){return e&&e.replaceAll(/<p.*?>(.*?)<\/p>/g,"$1\n\n").replaceAll(/<h1.*?>(.*?)<\/h1>/g,"$1\n\n").replaceAll(/<h2.*?>(.*?)<\/h2>/g,"$1\n\n").replaceAll(/<h3.*?>(.*?)<\/h3>/g,"$1\n\n").replaceAll(/<h4.*?>(.*?)<\/h4>/g,"$1\n\n").replaceAll(/<h5.*?>(.*?)<\/h5>/g,"$1\n\n").replaceAll(/<h6.*?>(.*?)<\/h6>/g,"$1\n\n")}),(function(e){return e&&e.replaceAll(/<li.*?>(.*?)<\/li>/g,"* $1\n\n").replaceAll(/<ul.*?>(.*?)<\/ul>/g,"$1\n\n").replaceAll(/<ol.*?>(.*?)<\/ol>/g,"$1\n\n")}),a.removeTagsFromHTML,(function(e){return e&&e.replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">")}))(e)}var i={messages:"chat",calls:"voice",all:"all",transcript:void 0},s=n(82008),c=n.n(s),u=n(40381);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){if(isNaN(Number(e)))return e;if(e&&11===e.length){var t=e.split(""),n=d([1,3,3,4].map((function(e){return t.splice(0,e).join("")})),4),r=n[0],a=n[1],o=n[2],i=n[3];return"+".concat(r," (").concat(a,") ").concat(o,"-").concat(i)}return e},f=function(e){var t=e.name,n=e.address;return t?"".concat(t," (").concat(n,")"):n};function p(e){return(0,u.prepareSearchRegExp)(e).replace(/(\d)/g,"[ \\(\\)\\-]*$1")}function m(e){return/^\+?[0-9]+$/.test(e)}function g(e){var t=Number(e);if(isNaN(t))return"incorrect duration ".concat(e);var n=t%60,r=parseInt(String(t/60)),a=r%60,o=parseInt(String(r/60));return(o?"".concat(o,"h "):"")+(a?"".concat(a,"m "):"")+(n?"".concat(n,"s"):"")}var h=function(e,t,n){var r,a,o=[null!==(r=null==t?void 0:t.trim())&&void 0!==r?r:"",null!==(a=null==n?void 0:n.trim())&&void 0!==a?a:""].filter(Boolean);switch(e){case"0":default:return o.join(" ");case"1":return o.reverse().join(" ");case"2":return o.reverse().join(", ")}},v=function(e,t){var n;switch(e){case"0":default:n=t.trim().split(" ");break;case"1":n=t.trim().split(" ").reverse();break;case"2":n=t.trim().split(", ").reverse()}return n.slice(0,2)};function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c()(e).toDate();return(0,u.isToday)(n)?"Today "+(0,u.formatDate)(n,"h:mm A"):(0,u.isYesterday)(n)?"Yesterday "+(0,u.formatDate)(n,"h:mm A"):(0,u.isSameWeek)(n)?(0,u.formatDate)(n,"ddd LT"):(0,u.isSameYear)(n)||t?(0,u.formatDate)(n,"MMM D, LT"):(0,u.formatDate)(n,"ll")}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefixed,r=t.full,a=t.birthday,o=t.searched;Number(e)&&(e=Number(e));var i=new Date(e);return a?(0,u.formatDate)(i,"L"):o?(0,u.formatDate)(i,"YYYY-MM-DD"):r?(n?"on ":"")+(0,u.formatDate)(i,"ll [at] LT"):(0,u.isToday)(i)?(n?"at ":"")+(0,u.formatDate)(i,"h:mm A"):(0,u.isYesterday)(i)?"Yesterday, ".concat((0,u.formatDate)(i,"h:mm A")):(0,u.isSameWeek)(i)?(n?"on ":"")+(0,u.formatDate)(i,"ddd LT"):(0,u.isSameYear)(i)?(n?"on ":"")+(0,u.formatDate)(i,"MMM D, LT"):(n?"on ":"")+(0,u.formatDate)(i,"ll")};function S(e,t){return"conference"===e?{conference:{VOICE:"calls",CHAT:"messages"}}[e][t]:{extChat:"messages",chat:"messages",call:"calls"}[e]}function C(e){return e.startsWith("image/")?"image":"attachment"}function I(e){return e>=-1&&e<=-.1?{score:e,label:"negative"}:e>-.1&&e<=.2?{score:e,label:"neutral"}:e>.2&&e<=1?{score:e,label:"positive"}:void 0}function w(e,t,n){var r="string"==typeof n&&n.trim().split(" ");return[(null==e?void 0:e.trim())||(r&&r.length?r[0]:""),(null==t?void 0:t.trim())||(r&&r.length>1?r.splice(1).join(" "):"")]}function E(e,t){return[e,t].filter(Boolean).map((function(e){return e&&e[0]})).join("").toUpperCase()}},45058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IntegrationApiStateContextProvider:()=>i,useIntegrationApiState:()=>c,useIntegrationApiStateConnector:()=>d,useIntegrationApiStateMethods:()=>l,useIntegrationApiStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("IntegrationApiStateContextProvider"),o=a.getContext,i=a.IntegrationApiStateContextProvider,s=(0,r.createStateHooks)("integrationApiState",o),c=s.useIntegrationApiState,u=s.useIntegrationApiStateRef,l=s.useIntegrationApiStateMethods,d=s.useIntegrationApiStateConnector},67881:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApiError:()=>_,NO_HANDLERS_ERROR:()=>T,extractResultError:()=>p,getCrmKnowledgeBaseSubtree:()=>E,getInitialIntegrationApiState:()=>m,integrationApiStateControlEvents:()=>v,integrationApiStateTrackerEvents:()=>h,resultError:()=>f});var r=n(14441);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return o=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&u(a,n.prototype),a},o.apply(null,arguments)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?a(e):t;var n}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},l(e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,o=(t=l,n=d(),function(){var e,r=s(t);if(n){var a=s(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return c(this,e)});function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i(a(n=o.call(this,t)),"name",void 0),i(a(n),"code",void 0),n.name=e,n.code=r.resultErrorCodes[e],n}return l}(l(Error));function f(e,t){return{code:r.resultErrorCodes[e],name:e,message:t}}function p(e){return e&&e.code&&e.name&&"number"==typeof e.code&&"string"==typeof e.name?{code:e.code,name:e.name,message:e.message}:{code:r.resultErrorCodes.unknown_error,name:"unknown_error",message:(t=e,n=Error,(null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e.message:"string"==typeof e?e:void 0)};var t,n}var m=function(){return{isAvailable:!1,integrationKey:null,adapterUrlParams:null,deferredDialData:void 0,pendingAssociatedObjects:{},disableNewInteractionPopup:!1,dialCandidates:[]}},g=n(64245),h={onInitialState:(0,g.event)(),onChange:(0,g.event)(),onGetLoginState:(0,g.asyncEvent)(),onLogin:(0,g.asyncEvent)(),onLogout:(0,g.asyncEvent)(),onGetAgentState:(0,g.asyncEvent)(),onSetAgentState:(0,g.asyncEvent)(),onAcceptInteraction:(0,g.asyncEvent)(),onRejectInteraction:(0,g.asyncEvent)(),onStartCall:(0,g.asyncEvent)(),onStartChat:(0,g.asyncEvent)(),onStartEmail:(0,g.asyncEvent)(),onSendDtmf:(0,g.asyncEvent)(),onConsultCall:(0,g.asyncEvent)(),onBlindTransfer:(0,g.asyncEvent)(),onTransfer:(0,g.asyncEvent)(),onLeaveInteraction:(0,g.asyncEvent)(),onCompleteInteraction:(0,g.asyncEvent)(),onLeaveAndCompleteInteraction:(0,g.asyncEvent)(),onSwitchActiveInteraction:(0,g.asyncEvent)(),onInviteToCallConference:(0,g.asyncEvent)(),onRemoveFromCallConference:(0,g.asyncEvent)(),onDestroyCallConference:(0,g.asyncEvent)(),onInviteToChatConference:(0,g.asyncEvent)(),onRemoveFromChatConference:(0,g.asyncEvent)(),onMergeAllCallsIntoConference:(0,g.asyncEvent)(),onGetTeams:(0,g.asyncEvent)(),onGetTeamMembers:(0,g.asyncEvent)(),onGetServicesList:(0,g.asyncEvent)(),onGetService:(0,g.asyncEvent)(),onSetService:(0,g.asyncEvent)(),onGetDIDNumbersList:(0,g.asyncEvent)(),onGetDIDNumber:(0,g.asyncEvent)(),onSetDIDNumber:(0,g.asyncEvent)(),onGetDispositionsList:(0,g.asyncEvent)(),onSetDisposition:(0,g.asyncEvent)(),onAddNote:(0,g.asyncEvent)(),onUpdateNote:(0,g.asyncEvent)(),onReplaceNote:(0,g.asyncEvent)(),onSetRescheduleWindow:(0,g.asyncEvent)(),onGetConfig:(0,g.asyncEvent)(),onSetVariable:(0,g.asyncEvent)(),onGetVariables:(0,g.asyncEvent)(),onAddInteractionAssociatedObject:(0,g.asyncEvent)(),onSetInteractionActiveScreen:(0,g.asyncEvent)(),onGetPhoneDevicesList:(0,g.asyncEvent)(),onGetPhoneDevice:(0,g.asyncEvent)(),onSetPhoneDevice:(0,g.asyncEvent)(),onSetCallHold:(0,g.asyncEvent)(),onSetCallRecording:(0,g.asyncEvent)(),onSetCallMute:(0,g.asyncEvent)(),onSetScreenRecordingMute:(0,g.asyncEvent)(),onGetScreenRecordingState:(0,g.asyncEvent)(),onSetWidgetMinimized:(0,g.asyncEvent)(),onSendChatMessage:(0,g.asyncEvent)(),onSuggestChatMessage:(0,g.asyncEvent)(),onGetAgentNotReadyReasons:(0,g.asyncEvent)(),onActivatePage:(0,g.asyncEvent)(),onGetInteractionsState:(0,g.asyncEvent)(),onSetCallRecordingMute:(0,g.asyncEvent)(),onSetDialCandidates:(0,g.asyncEvent)()},v={setDeferredDialData:(0,g.event)(),addPendingAssociatedObjects:(0,g.event)(),removePendingAssociatedObjects:(0,g.event)(),login:(0,g.event)(),logout:(0,g.event)(),newInteraction:(0,g.event)(),interactionRemoved:(0,g.event)(),interactionStateChange:(0,g.event)(),activeInteractionSwitched:(0,g.event)(),agentStateChange:(0,g.event)(),loadTransferData:(0,g.event)(),openRecord:(0,g.event)(),searchRecords:(0,g.event)(),showScreen:(0,g.event)(),screenRecordingStateChange:(0,g.event)(),widgetMinimizedChange:(0,g.event)(),serverError:(0,g.event)(),softphoneStatusChange:(0,g.event)(),audioDeviceChange:(0,g.event)(),phoneCapabilitiesChange:(0,g.event)(),callAudioQualityAlert:(0,g.event)(),saveActivityRecord:(0,g.event)(),requestTransferData:(0,g.asyncEvent)(),getKnowledgeBaseFolder:(0,g.asyncEvent)(),getKnowledgeBaseArticle:(0,g.asyncEvent)(),searchKnowledgeBase:(0,g.asyncEvent)(),webScreenPopCustom:(0,g.asyncEvent)(),validateAssociatedRecords:(0,g.asyncEvent)(),requestRecordInfo:(0,g.asyncEvent)(),requestRecordOnScreen:(0,g.asyncEvent)()};function y(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,s,"next",e)}function s(e){y(o,r,a,i,s,"throw",e)}i(void 0)}))}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function w(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function E(e,t,n){return O.apply(this,arguments)}function O(){return O=b((function(e,t,n){function r(e){return a.apply(this,arguments)}function a(){return(a=b((function(t){var a,o,i,s,c,u,l,d,_,f,p,m;return w(this,(function(g){switch(g.label){case 0:return[4,e({folderId:t,language:n})];case 1:a=g.sent(),o=[],i=!0,s=!1,c=void 0,g.label=2;case 2:g.trys.push([2,8,9,10]),u=a[Symbol.iterator](),g.label=3;case 3:return(i=(l=u.next()).done)?[3,7]:"folder"!==(d=l.value).type?[3,5]:(_=o.push,f=[C({},d)],p={},[4,r(d.id)]);case 4:return _.apply(o,[I.apply(void 0,f.concat([(p.children=g.sent(),p)]))]),[3,6];case 5:o.push(d),g.label=6;case 6:return i=!0,[3,3];case 7:return[3,10];case 8:return m=g.sent(),s=!0,c=m,[3,10];case 9:try{i||null==u.return||u.return()}finally{if(s)throw c}return[7];case 10:return[2,o]}}))}))).apply(this,arguments)}return w(this,(function(e){return[2,r(t)]}))})),O.apply(this,arguments)}var T="CALLBACK_HAS_NO_HANDLERS"},1684:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InteractionChatStateContextProvider:()=>i,useActiveChatChecker:()=>p,useChatUnread:()=>h,useInteractionChatData:()=>m,useInteractionChatDataSelector:()=>g,useInteractionChatState:()=>u,useInteractionChatStateConnector:()=>_,useInteractionChatStateMethods:()=>d,useInteractionChatStateRef:()=>l,useInteractionChatStateSelector:()=>f,useMessengersInfo:()=>b,usePersonalMessagesUnreadAmount:()=>v,useWebRtcConfig:()=>y});var r=n(13641),a=(0,r.createStateContextProvider)("InteractionChatStateContextProvider"),o=a.getContext,i=a.InteractionChatStateContextProvider,s=n(86702),c=(0,r.createStateHooks)("interactionChatState",o),u=c.useInteractionChatState,l=c.useInteractionChatStateRef,d=c.useInteractionChatStateMethods,_=c.useInteractionChatStateConnector;function f(e){return(0,s.useContextSelector)(o(),(function(t){return e(t.state)}))}var p=function(e){return(0,s.useContextSelector)(o(),(function(t){return!!t.state.chatData[e]}))};function m(e){var t=arguments.length;return(0,s.useContextSelector)(o(),(function(n){return t?e?n.state.chatData[e]:void 0:n.state.chatData}))}function g(e,t){return(0,s.useContextSelector)(o(),(function(n){return e?t(n.state.chatData[e]):void 0}))}function h(e){var t=arguments.length;return(0,s.useContextSelector)(o(),(function(n){var r,a,o;return t?e&&null!==(a=null===(r=n.state.chatData[e])||void 0===r?void 0:r.unread)&&void 0!==a?a:0:null!==(o=n.state.unread)&&void 0!==o?o:0}))}function v(e){var t=!!arguments.length;return(0,s.useContextSelector)(o(),(function(n){var r,a;return t?e&&null!==(r=n.state.unreadPersonalMessagesAmountByContactId[e])&&void 0!==r?r:0:null!==(a=n.state.unreadPersonalMessagesAmount)&&void 0!==a?a:0}))}var y=function(){return(0,s.useContextSelector)(o(),(function(e){return e.state.webRtcConfig}))},b=function(){return(0,s.useContextSelector)(o(),(function(e){return e.state.messengers}))}},84153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CHAT_TYPES:()=>c,getInitialInteractionChatState:()=>r,interactionChatStateControlEvents:()=>i,interactionChatStateTrackerEvents:()=>o,messengerTypes:()=>s});var r=function(){return{chatData:{},unread:0,unreadPersonalMessages:{},unreadPersonalMessagesAmount:0,unreadPersonalMessagesAmountByContactId:{},messengers:[]}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onNewMessage:(0,a.event)(),onDispatchNewMessageNotification:(0,a.event)(),onCobrowsingStarted:(0,a.event)(),onRtcCallMake:(0,a.event)(),onRtcCallAnswer:(0,a.event)(),onRtcIceCandidate:(0,a.event)(),onRtcCallToggleDevice:(0,a.event)(),onRtcCallDrop:(0,a.event)(),onWebRtcError:(0,a.event)(),onSwitchItemChannel:(0,a.event)(),onContactsWithUnreadMessagesReceived:(0,a.event)()},i={sendMessage:(0,a.event)(),getExternalChatContent:(0,a.event)(),disconnectChat:(0,a.event)(),sendAgentIsTyping:(0,a.event)(),sendAgentIsNotTyping:(0,a.event)(),sendFileInit:(0,a.event)(),sendFileProgress:(0,a.event)(),sendFileError:(0,a.event)(),sendFile:(0,a.event)(),inviteToChat:(0,a.event)(),removeInviteFromChat:(0,a.event)(),removePartyFromChat:(0,a.event)(),addMessageToPending:(0,a.event)(),requestCobrowsing:(0,a.event)(),createRtcCall:(0,a.event)(),confirmRtcCall:(0,a.event)(),cancelRtcCall:(0,a.event)(),startRtcCall:(0,a.event)(),onRtcCallIceCandidate:(0,a.event)(),onRtcCallStream:(0,a.event)(),stopRtcCall:(0,a.event)(),toggleRtcCallDevice:(0,a.event)(),markMessageAsRead:(0,a.event)(),openChannel:(0,a.event)(),createErrorMessage:(0,a.event)(),getUnreadPersonalMessages:(0,a.event)(),markPersonalMessageAsRead:(0,a.event)(),maskMessage:(0,a.event)(),toggleFileMask:(0,a.event)(),sendMaskedMessages:(0,a.event)(),pauseChatInactivityTimeout:(0,a.event)(),resumeChatInactivityTimeout:(0,a.event)()},s=["telegram","line","facebook","nexmo","viber","twitter","wechat","whatsapp"],c=["messages","calls","all","transcript"]},743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InteractionChatStateImpl:()=>ye});var r=n(2122),a=n(27385),o=n(82393),i=n(52388),s=n(26220),c=n(5518),u=n(90444),l=n(40381),d=n(50944),_=n(26552),f=n(68939),p=n(16152),m=n(9282),g=n.n(m),h=n(63830),v=n.n(h);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function I(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){return(0,c.apiRequests)(e).getFileInfo({fileId:t})}function E(e,t,n,r){var a,o,i,s,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.chatData[t]&&!c?e:e=C(S({},e),{chatData:C(S({},e.chatData),b({},t,{channel:n,parties:null!==(i=null===(a=e.chatData[t])||void 0===a?void 0:a.parties)&&void 0!==i?i:[],typingParties:{},masked:{messages:{},files:[]},messages:null!==(s=null===(o=e.chatData[t])||void 0===o?void 0:o.messages)&&void 0!==s?s:[],cobrowsingActive:!1,messengerUserId:null==r?void 0:r.messenger_user_id}))})}function O(e,t){return t in e.chatData&&delete(e=C(S({},e),{chatData:S({},e.chatData)})).chatData[t],e}function T(e,t){return e&&e.parties&&e.parties.find((function(e){return t&&e.party_id===t}))}function D(e){var t,n,r=e.state,a=e.itemId,o=e.partyId,i=e.msg,s=e.isTyping,c=r.chatData[a],u=(null==c?void 0:c.parties)||[],l=null!==(t=null==c?void 0:c.typingParties)&&void 0!==t?t:{};if(u.find((function(e){return e.party_id===o}))){var d=s?C(S({},l),b({},o,{message:i})):(delete(n=S({},l))[o],n);return C(S({},r),{chatData:C(S({},r.chatData),b({},a,C(S({},c),{typingParties:d})))})}return r}function A(e,t){var n=t.sentimentScore,r=t.itemId,o=t.messageId,i=(0,a.getSentimentFrom)(n);return i?v()(e,(function(e){var t=e.chatData[r];if(t){var n,s=t.messages,c=t.sentiment,u=(null!==(n=t.sentimentsAmount)&&void 0!==n?n:0)+1;e.chatData[r].messages=s.map((function(e){return e.msgId===o?C(S({},e),{sentiment:i}):e})),e.chatData[r].sentimentsAmount=u;var l=function(e){var t=e.newSentiment,n=e.oldSentiment,r=e.sentimentsAmount;if(!n)return t.score;return new(g())(new(g())(n.score).times(r-1).plus(t.score)).dividedBy(r).toNumber()}({oldSentiment:c,newSentiment:i,sentimentsAmount:u});e.chatData[r].sentiment=(0,a.getSentimentFrom)(l)}})):e}function P(e,t,n,o){var s,c,u,l,_=t.item_id,f=t.msg_id,p=t.msg,m=e.chatData[_]||{},g=m.messages||[];g.filter((function(e){return!e.msgId&&e.msg!==p||e.msgId!==f})),u=(c=t).file_ids?(0,d.convertKVArray)(c.file_ids,r.identity):[],l=(0,r.partial)(w,n.serverOrigin),s=u.map(l),Promise.all(s).then((function(e){e.forEach((function(e){var n=function(e,t){var n;return{file_id:t.id,file_name:t.name,file_type:(0,a.mimeTypeToExternalChatFileType)(t.type),party_id:e.party_id,item_id:e.item_id,timestamp:null!==(n=e.timestamp)&&void 0!==n?n:String((new Date).getTime()),userId:e.user_id}}(t,e);return o(n)}))}));var h=function(e,t,n){var r,a=$(t,e,n),o=T(t,e.party_id),s=e.type||e.msg_type,c=o?F(o,n.displayNameFormat):"",u=(0,i.isScenarioParty)(o)?"scenario":s;return{msg:e.msg,timestamp:e.timestamp?Number(e.timestamp):Date.now(),displayName:c,type:s,itemId:e.item_id,partyId:e.party_id,userId:null!==(r=e.user_id)&&void 0!==r?r:null==o?void 0:o.user_id,msgId:e.msg_id,channel:e.channel,displayType:u,source:a,isSelf:"self"===a}}(t,m,n);return[C(S({},e),{chatData:C(S({},e.chatData),b({},_,C(S({},m),{messages:I(g).concat([h])})))}),h]}function R(e,t){var n=t.item_id,r=t.page,a=e.chatData[n]||{},o=a.messages||[];o=o.filter((function(e){return e.page!==r}));var i={displayType:"navigation",timestamp:Date.now(),title:t.title,partyId:t.party_id,itemId:n,page:t.page};return C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},a),{messages:I(o).concat([i])})))})}function k(e,t){var n=t.item_id,r=e.chatData[n]||{},a=r.messages||[],o={displayType:"location",timestamp:Date.now(),title:t.address,partyId:t.party_id,itemId:n,page:t.map_url,longitude:t.longitude?Number(t.longitude):void 0,latitude:t.latitude?Number(t.latitude):void 0};return C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},r),{messages:I(a).concat([o])})))})}function N(e,t){var n=t.itemId,r=t.partyId,a=e.chatData[n]||{},o=a.messages||[],i=Date.now(),s={displayType:"invite",itemId:n,partyId:r,inviteId:String(i),timestamp:i,type:"message",displayName:""};return C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},a),{messages:I(o).concat([s])})))})}function M(e,t){var n=t.itemId,r=t.messageId,a=e.chatData[n]||{},o=a.messages&&a.messages.length&&a.messages.filter((function(e){return e.inviteId!==r}))||[];return C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},a),{messages:o})))})}function j(e,t,n,r){var a=t.item_id,o=t.file_id,i=t.file_type,s=t.file_name,c=t.party_id,u=t.channel,l=t.text,d=e.chatData[a]||{},_=d.messages||[];_=_.filter((function(e){return e.fileId?e.fileId!==o:e.fileName!==s}));var f,p,m,g=(f=T(d,c),p=f?F(f,n.displayNameFormat):"",m=$(d,t,n),{itemId:a,displayType:"file",displayName:p,source:m,isSelf:"self"===m,partyId:f?f.party_id:"",fileId:o,fileType:i,fileName:s,channel:u,type:"message",timestamp:t.timestamp?Number(t.timestamp):Date.now(),msg:l,msgId:o});return[C(S({},e),r?{chatData:C(S({},e.chatData),b({},a,C(S({},d),{messages:_.reduce((function(e,t,n,r){return e.push(t),r[n]&&r[n+1]?r[n].timestamp<=g.timestamp&&r[n+1].timestamp>g.timestamp&&e.push(g):r[n]&&!r[n+1]&&r[n].timestamp<=g.timestamp&&e.push(g),e}),[])})))}:{chatData:C(S({},e.chatData),b({},a,C(S({},d),{messages:I(_).concat([g])})))}),g]}function x(e,t,n){var r=t.itemId,a=t.partyId,o=t.fileName,i=t.source,s=t.isSelf,c=e.chatData[r]||{},u=c.messages||[],l=T(c,a),d={itemId:r,source:i,isSelf:s,displayType:"file",displayName:l?F(l,n.displayNameFormat):"",partyId:l?l.party_id:"",fileName:o,timestamp:Date.now()};return C(S({},e),{chatData:C(S({},e.chatData),b({},r,C(S({},c),{messages:I(u).concat([d])})))})}function L(e,t){var n=t.itemId,r=t.fileName,a=t.fileProgress,o=t.fileError,i=e.chatData[n]||{},s=i.messages||[];return C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},i),{messages:s.map((function(e){return e.fileId||e.itemId!==n||e.fileName!==r?e:C(S({},e),{fileProgress:a,fileError:o})}))})))})}function K(e,t,n){var r=e.chatData[t]||{};return C(S({},e),{chatData:C(S({},e.chatData),b({},t,C(S({},r),{cobrowsingActive:n})))})}function F(e,t){var n;return(0,i.isScenarioParty)(e)?null!==(n=e.entry_name)&&void 0!==n?n:"":(0,a.formatFullName)(t,e.first_name,e.last_name)}function $(e,t,n){var r=n.userId,a=T(e,t.party_id);return a?"external"===a.type?"customer":"internal"===a.type?a.user_id===r?"self":"agent":"system":"system"}function U(e){return q(C(S({},e),{displayType:"system"}))}function B(e){return q(C(S({},e),{displayType:"error"}))}function q(e){var t=e.state,n=e.messageText,r=e.chatId,a=e.unlocalized,o=e.displayType,i=e.channel,s=e.partyName,c=e.partyId,u=e.qmMode,l=t.chatData[r]||{},d=l.messages||[],_=function(e){var t=e.messageText,n=e.chatId,r=e.unlocalized,a=e.partyName,o=e.partyId,i=e.channel,s=e.displayType,c=e.qmMode;return{msg:t,timestamp:Date.now(),type:"message",itemId:n,displayType:s,displayName:"",partyId:o||"",channel:i,partyName:a,needLocalization:r,qmMode:c}}({messageText:n,chatId:r,unlocalized:a,channel:i,partyName:s,displayType:o,partyId:c,qmMode:u});return C(S({},t),{chatData:C(S({},t.chatData),b({},r,C(S({},l),{messages:I(d).concat([_])})))})}function G(e,t,n){var r=e.chatData[t]||{};return C(S({},e),{chatData:C(S({},e.chatData),b({},t,C(S({},r),{call:S({},r.call,n)})))})}function H(e,t,n,r){return G(e,t,{withVideo:n,withAudio:!0,isConfirmed:!!r})}function V(e,t){return G(e,t,{isConfirmed:!0})}function W(e,t){var n=e.chatData[t];if(!n)return e;var r=S({},n);return delete r.call,C(S({},e),{chatData:C(S({},e.chatData),b({},t,r))})}function z(e,t,n,r){return"audio"===n?G(e,t,{withAudio:r}):"video"===n?G(e,t,{withVideo:r}):e}function Y(e,t,n,r){return G(e,t,b({},r?"localStreamId":"remoteStreamId",n))}function Q(e){var t=(0,l.stringToHTML)(e);return Array.from(t.children).forEach((function e(t){var n;(null===(n=t.classList)||void 0===n?void 0:n.contains("bp-masked"))?t.replaceWith((0,l.stringToHTML)(t.innerHTML).childNodes[0]):Array.from(t.children).forEach(e)})),t.innerHTML}function J(e,t,n){return e.chatData[t]?v()(e,(function(e){e.chatData[t].channel=n})):e}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t,n){return oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},oe(e,t,n||e)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ae(e,t,n[t])}))}return e}function ce(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Z(e):t;var n}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var a=ie(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return le(this,n)}}function ge(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var he={files:[],messages:{},history:{}},ve={LINE:"line",FACEBOOK:"facebook",NEXMO:"nexmo",TWITTER:"twitter",VIBER:"viber",WECHAT:"wechat",TELEGRAM:"telegram",WHATSAPP:"whatsapp"},ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(m,e);var t,n,o,p=me(m);function m(){var e;ne(this,m),ae(Z(e=p.apply(this,arguments)),"pendingMessages",{}),ae(Z(e),"readPersonalMessageTimeout",void 0),ae(Z(e),"pendingReadPersonalMessages",{}),ae(Z(e),"openChannel",(function(t){var n=t.interactionStepId,r=t.channel,a=t.serviceId,o=t.address;e.transport.dispatch.agent_external_chat_open_channel({item_id:n,channel:(null==r?void 0:r.startsWith("sms:"))?"sms":r,service_id:a,address:o})})),ae(Z(e),"onChannelOpened",(function(t){var n=t.item_id,r=t.channel;e.updateState((function(e){return J(U({state:e,messageText:"message_connection_accepted",chatId:n,channel:r,unlocalized:!0}),n,r)}))})),ae(Z(e),"onChatError",(function(t){var n=t.error_code,r=t.error_message,a=t.item_id,o=t.party_id,i="".concat(n,": ").concat(r);e.createErrorMessage({messageText:i,interactionStepId:a,partyId:o})})),ae(Z(e),"createErrorMessage",(function(t){var n=t.interactionStepId,r=ue(t,["interactionStepId"]);e.updateState((function(e){return B(se({state:e,chatId:n},r))}))})),ae(Z(e),"markMessageAsRead",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.interactionStepId,a=t.messageId;if(a){var o=e.getMessage(r,a);o&&!o.isRead&&(e.changeMessage(ce(se({},o),{isRead:!0})),e.recalculateUnread(r),n&&e.sendMessageStatus("read",t))}})),ae(Z(e),"onAgentWelcome",(function(t){var n=t.items;(0,_.truthy)(Object.values(n)).forEach((function(t){e.onAgentItemCreated(t),"chat"===t.media_type&&e.getExternalChatContent(t.item_id)}))})),ae(Z(e),"getExternalChatContent",(function(t){e.transport.dispatch.agent_external_chat_get_content({item_id:t,start_time:String(Date.now())})})),ae(Z(e),"disconnectChat",(function(t){e.transport.dispatch.agent_external_chat_disconnect({item_id:t}),e.stopRtcCall({chatId:t})})),ae(Z(e),"onAgentItemCreated",(function(t){if("chat"===t.media_type&&t.channel){var n=E(e.stateData,t.item_id,t.channel,t.external_chat_data,!0);t.external_chat_data&&t.external_chat_data.mobile_launch_point_id&&e.applyChatLaunchPoint(t.item_id,t.external_chat_data.mobile_launch_point_id),e.updateState(se({},n))}})),ae(Z(e),"onPartyJoinedOrChanged",(function(t){var n=e.hasChatPartyStatusChanged(t);if(e.updateOrCreateParty(t),n)switch(t.status){case"connected":return e.onPartyConnected(t);case"notifying":return e.onPartyNotifying(t)}})),ae(Z(e),"onPartyNotifying",(function(t){e.isSelfParty(t)||!t.user_id||t.is_qm||(e.removeOutdatedInviteMessage(t),e.updateStateWithInviteMessage({itemId:t.item_id,partyId:t.user_id}))})),ae(Z(e),"updateStateWithInviteMessage",(function(t){e.updateState((function(e){return N(e,t)}))})),ae(Z(e),"onPartyConnected",(function(t){e.isSelfParty(t)||(e.addPartyJoinedSystemMessage(t),e.removeOutdatedInviteMessage(t))})),ae(Z(e),"onPartyLeft",(function(t){var n=e.findParty(t.item_id,t.party_id);e.removeOutdatedInviteMessage(n),e.removePartyFromChatState(t),e.addPartyLeftSystemMessage(n)})),ae(Z(e),"onNewMessage",(function(t,n){var r;if(!e.messageAlreadyExists(t)){var a=e.sessionConnector.getStateData(),o=_e(P(e.stateData,t,a,e.saveMMSFileCallback),2),i=o[0],s=o[1];null===(r=e.toClientDispatch)||void 0===r||r.onNewMessage(t),e.notifyAboutNewMessage(t,!!n,i),"self"!==s.source&&e.recalculateUnread(t.item_id),n||e.sendMessageStatus("delivered",{messageId:t.msg_id,interactionStepId:t.item_id,timestamp:t.timestamp});var c=e.stateData.chatData[t.item_id];(null==c?void 0:c.parties.find((function(e){return e.contact_id})))&&t.channel&&t.channel!==c.channel&&e.toClientDispatch.onSwitchItemChannel({interactionStepId:t.item_id,channel:t.channel,_destination:"boss"})}})),ae(Z(e),"saveMMSFileCallback",(function(t){var n=e.sessionConnector.getStateData(),r=_e(j(e.stateData,t,n,!0),1)[0];e.updateState(se({},r))})),ae(Z(e),"onNewMessageAttributes",(function(t){if(!e.isInternalAgentSentiment(t)){var n=e.extractSentimentParamsFrom(t);e.addSentimentToMessage(n)}})),ae(Z(e),"onAgentItemMessageAttributes",(function(t){var n=e.extractSentimentParamsFrom(t);e.addSentimentToMessage(n)})),ae(Z(e),"onNewFile",(function(t){var n=e.sessionConnector.getStateData(),r=_e(j(e.stateData,t,n),1)[0];e.updateState(se({},r))})),ae(Z(e),"onExternalChatSignaling",(function(t){var n=t.item_id,r=t.data;if(e.stateData.chatData[n])switch(r.type){case"REQUEST_CALL":e.createRtcCall({chatId:n,withVideo:"true"===r.offerVideo});break;case"OFFER_CALL":break;case"ANSWER_CALL":e.toClientDispatch.onRtcCallAnswer({chatId:n,sdp:r.sdp});break;case"ICE_CANDIDATE":e.toClientDispatch.onRtcIceCandidate({candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:Number(r.sdpMLineIndex)||0});break;case"END_CALL":e.updateState((function(e){return W(e,n)})),e.toClientDispatch.onRtcCallDrop();break;case"CALL_REJECTED":e.updateState((function(e){return W(e,n)}))}})),ae(Z(e),"onExternalChatContent",(function(t){var n=t.content,r=t.item_id,a=e.findChat(r);(0,_.assertDefined)(a);var o=a.channel;e.updateState((function(e){return E(e,r,o)}));var i=(0,d.convertKVArray)(n),s={};i.forEach((function(e){if("party_message_delivered"===e.event)return s[e.ref_msg_id]=!0})),i.forEach((function(t){switch(t.event){case"party_joined":case"party_changed":var n=ce(se({},t),{item_id:r});if("1"===n.is_qm&&"monitor"===n.qm_mode)return;if(e.selfPartyInitialized(n)&&(n.phone?e.optionallySendPendingMessage(n.item_id,n.phone):n.entry_name&&e.optionallySendPendingMessage(n.item_id,n.entry_name)),!e.partyAlreadyExistsInState(n))return e.onPartyJoinedOrChanged(n);break;case"party_left":return e.onPartyLeft(ce(se({},t),{item_id:r}));case"party_message":return e.onNewMessage(ce(se({},t),{item_id:r}),s[t.msg_id]);case"party_file":return e.onNewFile(ce(se({},t),{item_id:r}));case"party_message_attributes":return e.onNewMessageAttributes(ce(se({},t),{item_id:r}));case"party_navigation":return e.onExternalChatNavigation(ce(se({},t),{item_id:r}));case"party_message_read":return e.markMessageAsRead({interactionStepId:r,messageId:t.ref_msg_id,timestamp:t.timestamp},!1);case"intent_result":var a=t;return e.interactionStateConnector.dispatch.saveSuggestion({item_id:r,party_id:"",suggestions:{0:a.suggestion},timestamp:a.timestamp});default:return null}}))})),ae(Z(e),"onExternalChatNavigation",(function(t){e.updateState((function(e){return R(e,t)}))})),ae(Z(e),"onPartyTyping",(function(t){var n=t.item_id,r=t.party_id,a=t.msg;e.updateState((function(e){return D({state:e,itemId:n,partyId:r,msg:a,isTyping:!0})}))})),ae(Z(e),"onPartyIsNotTyping",(function(t){var n=t.item_id,r=t.party_id;e.updateState((function(e){return D({state:e,itemId:n,partyId:r,isTyping:!1})}))})),ae(Z(e),"getPendingMessageByAddress",(function(t){return t?e.pendingMessages[t]:null})),ae(Z(e),"optionallySendPendingMessage",(function(t,n){var r=e.getPendingMessageByAddress(n);if(!r)return null;e.sendMessage(ce(se({},r),{itemId:t})),e.removeMessageFromQueue(n)})),ae(Z(e),"addMessageToPending",(function(t,n){e.queueMessage(t,n)})),ae(Z(e),"sendMessage",(function(t){var n=e.getSelfParty(t.itemId),r=e.findChat(t.itemId),o=e.sessionConnector.getStateData();if(r){var i,s,c={msg:null!==(i=t.content)&&void 0!==i?i:t.text,msg_text:null!==(s=t.text)&&void 0!==s?s:(0,a.chatHTMLToChatText)(t.content),msg_id:t.id?String(t.id):String(Date.now()),item_id:t.itemId,type:t.type,channel:m.isLegacyChannelFromMobile(t.channel)?r.channel:t.channel||r.channel,party_id:n&&n.party_id||"",user_id:o.userId},u=_e(P(e.stateData,c,o,e.saveMMSFileCallback),1)[0];e.notifyAboutNewMessage(c,!0,u),e.transport.dispatch.agent_external_chat_message(c)}})),ae(Z(e),"notifyAboutNewMessage",(function(t,n,r){e.updateState(se({},r));var o=t.item_id,i=t.msg,s=e.findChat(o);(0,_.assertDefined)(s);var c=e.sessionConnector.getStateData(),u=c.userId,l=c.displayNameFormat,d=s.parties.find((function(e){return e.party_id===t.party_id}));if(d){var f={message:i,partyType:d.type,fromMe:d.user_id===u,alreadyDelivered:n,interactionStepId:o,name:(0,a.formatFullName)(l,d.first_name,d.last_name)};"mobile"!==e.platformSpecific.clientType()&&e.dispatchNewMessageNotification(f)}})),ae(Z(e),"dispatchNewMessageNotification",(function(t){e.dispatchAudioNotification(t),e.dispatchBrowserNotification(t)})),ae(Z(e),"dispatchAudioNotification",(function(t){t.fromMe||t.alreadyDelivered||"scenario"===t.partyType||e.toClientDispatch.onDispatchNewMessageNotification(t.interactionStepId)}));var t,n=Z(e);ae(Z(e),"dispatchBrowserNotification",(t=te((function(e){var t,r,a,o,i,s,c,l,d,_,p,m;return ge(this,(function(g){switch(g.label){case 0:return t=e.message,r=e.fromMe,a=e.alreadyDelivered,o=e.name,i=e.partyType,[4,n.localSettings.get("adNotifyByBrowser")];case 1:return s=g.sent(),c=n.tabsConnector.getStateData().tabs,l=Object.values(c),d=l.every((function(e){return!e.visible})),s&&d&&!r&&!a&&"scenario"!==i&&(_=n.localizationConnector.getStateData().t,p=o||_.EXTERNAL_CHAT.display_name_placeholder(),m={body:t,tag:(0,f.uuid)()},u.communicationLayerWorkerClient.sendMessage({scope:"__worker__",event:"showNotification",payload:[p,m]})),[2]}}))})),function(e){return t.apply(this,arguments)})),ae(Z(e),"sendAgentIsTyping",(function(t){e.transport.dispatch.agent_external_chat_typing({item_id:t})})),ae(Z(e),"sendAgentIsNotTyping",(function(t){e.transport.dispatch.agent_external_chat_not_typing({item_id:t})})),ae(Z(e),"sendFileInit",(function(t){var n=t.fileData.name,r=t.itemId,a=e.getSelfParty(r),o={itemId:r,partyId:a&&a.party_id||"",source:"self",isSelf:!0,fileName:n},i=e.sessionConnector.getStateData();e.updateState((function(e){return x(e,o,i)}))})),ae(Z(e),"sendFileProgress",(function(t){var n=t.fileData,r=n.name,a=n.progress,o={itemId:t.itemId,fileName:r,fileProgress:a};e.updateState((function(e){return L(e,o)}))})),ae(Z(e),"sendFileError",(function(t){var n=t.fileData,r=n.name,a=n.error,o={itemId:t.itemId,fileName:r,fileError:a};e.updateState((function(e){return L(e,o)}))})),ae(Z(e),"sendFile",(function(t){var n=t.fileData,r=t.itemId,a=t.channel,o={item_id:r,file_id:n.id,file_type:n.type,file_name:n.name,channel:a};e.transport.dispatch.agent_external_chat_file(o);var i=e.getSelfParty(r);e.onNewFile(ce(se({},o),{party_id:i&&i.party_id||""}))})),ae(Z(e),"inviteToChat",(function(t){var n=t.itemId,r=t.partyId,a=t.createInviteMessage,o=void 0===a||a,i=e.findChat(n);if(i){var s={item_id:n,party_id:r,channel:i.channel};e.transport.dispatch.agent_external_chat_invite_other(s),o&&e.updateStateWithInviteMessage({itemId:n,partyId:r})}})),ae(Z(e),"removeInviteFromChat",(function(t){var n=t.itemId,r=t.partyId,a=t.messageId,o=e.findChat(n);if(o){var i=o.parties.find((function(e){return e.user_id===r})),s={item_id:n,party_id:i&&i.party_id||""};e.transport.dispatch.agent_external_chat_remove_other(s),e.updateState((function(e){return M(e,{itemId:n,partyId:r,messageId:a})}))}})),ae(Z(e),"removePartyFromChat",(function(t){var n=t.itemId,r=t.partyId;if(e.findChat(n)){var a={item_id:n,party_id:r};e.transport.dispatch.agent_external_chat_remove_other(a)}})),ae(Z(e),"removeCompletedChat",(function(t){var n=t.interactionStepId;e.updateState((function(e){return O(e,n)})),e.recalculateUnread(n)})),ae(Z(e),"onExternalChatPartyCobrowsingStarted",(function(t){e.toClientDispatch.onCobrowsingStarted({itemId:t.item_id,provider:t.provider_name,cobrowsingLink:t.cobrowsing_url}),e.updateState((function(e){return U({state:e,messageText:"external_chat_cobrowsing_started",chatId:t.item_id,unlocalized:!0})}))})),ae(Z(e),"onExternalChatPartyCobrowsingRejected",(function(t){var n=t.item_id;e.updateState((function(e){return K(U({state:e,messageText:"external_chat_cobrowsing_rejected",chatId:n,unlocalized:!0}),n,!1)}))})),ae(Z(e),"onExternalChatPartyCobrowsingEnded",(function(t){var n=t.item_id;e.updateState((function(e){return K(U({state:e,messageText:"external_chat_cobrowsing_ended",chatId:n,unlocalized:!0}),n,!1)}))})),ae(Z(e),"onChatLocation",(function(t){e.updateState((function(e){return k(e,t)}))})),ae(Z(e),"requestCobrowsing",(function(t){e.transport.dispatch.agent_external_chat_cobrowsing_requested({item_id:t}),e.updateState((function(e){return K(U({state:e,messageText:"external_chat_cobrowsing_requested",chatId:t,unlocalized:!0}),t,!0)}))})),ae(Z(e),"requestWebRtcConfig",(function(){var t=e.sessionConnector.getStateData().serverOrigin;(0,c.apiRequests)(t).getRtcConfig().then((function(t){t&&e.updateState((function(e){return ce(se({},e),{webRtcConfig:t})}))})).catch((function(){s.bpLogger.error("Can't get chat WebRTC config")}))})),ae(Z(e),"getRtcCallPartyId",(function(t){var n=e.stateData.chatData[t],r=null==n?void 0:n.parties.find((function(e){return"external"===e.type}));return null==r?void 0:r.party_id})),ae(Z(e),"itemHasRtcCall",(function(t){var n=e.stateData.chatData[t];return n&&!!n.call})),ae(Z(e),"createRtcCall",(function(t){var n=t.chatId,r=t.withVideo,a=void 0!==r&&r,o=t.isConfirmed,i=e.stateData.chatData;Object.keys(i).find((function(e){var t;return e===n&&(null===(t=i[e].call)||void 0===t?void 0:t.isConfirmed)}))?e.toClientDispatch.onWebRtcError("already_exists"):(e.updateState((function(e){return H(e,n,a,o)})),o&&e.confirmRtcCall(n))})),ae(Z(e),"confirmRtcCall",(function(t){var n=e.stateData.chatData[t],r=e.stateData.webRtcConfig;if((null==n?void 0:n.call)&&r){var a=n.call.withVideo;e.updateState((function(e){return V(e,t)})),e.toClientDispatch.onRtcCallMake({chatId:t,withVideo:a,rtcConfig:r})}})),ae(Z(e),"cancelRtcCall",(function(t){var n=e.getRtcCallPartyId(t);n&&(e.transport.dispatch.agent_external_chat_signaling({item_id:t,party_id:n,data:{type:"CALL_REJECTED",reasonCode:"0"}}),e.updateState((function(e){return W(e,t)})))})),ae(Z(e),"startRtcCall",(function(t){var n=t.chatId,r=t.sdp,a=e.stateData.chatData[n],o=e.getRtcCallPartyId(n);if(a&&a.call&&o){var i=a.call.withVideo;r&&e.transport.dispatch.agent_external_chat_signaling({item_id:n,party_id:o,data:{type:"OFFER_CALL",sdp:r,offerVideo:i?"true":"false"}})}})),ae(Z(e),"onRtcCallIceCandidate",(function(t){var n=t.chatId,r=t.candidate,a=e.getRtcCallPartyId(n),o=[r.candidate,r.sdpMid,r.sdpMLineIndex].every((function(e){return void 0!==e}));a&&o&&e.transport.dispatch.agent_external_chat_signaling({item_id:n,party_id:a,data:{type:"ICE_CANDIDATE",candidate:r.candidate||"",sdpMid:r.sdpMid||"0",sdpMLineIndex:String(r.sdpMLineIndex||0)}})})),ae(Z(e),"onRtcCallStream",(function(t){var n=t.chatId,r=t.streamId,a=t.isLocal;e.updateState((function(e){return Y(e,n,r,a)}))})),ae(Z(e),"stopRtcCall",(function(t){var n=t.chatId,r=t.error,a=e.getRtcCallPartyId(n),o=e.itemHasRtcCall(n);a&&o&&(e.transport.dispatch.agent_external_chat_signaling({item_id:n,party_id:a,data:{type:"END_CALL"}}),e.updateState((function(e){return W(e,n)})),e.toClientDispatch.onRtcCallDrop()),r&&e.toClientDispatch.onWebRtcError(r)})),ae(Z(e),"toggleRtcCallDevice",(function(t){var n=t.chatId,r=t.device,a=t.enabled;e.updateState((function(e){return z(e,n,r,a)})),e.toClientDispatch.onRtcCallToggleDevice({device:r,enabled:a})})),ae(Z(e),"markPersonalMessageAsRead",(function(t){e.updateStateByReadPersonalMessage(t),e.batchMarkAsReadPersonalMessages(t)})),ae(Z(e),"updateStateByReadPersonalMessage",(function(t){var n=t.contactId,r=t.globalInteractionId,a=t.messageId;e.produceState((function(e){var t,o,i=se({},e.unreadPersonalMessages),s=se({},i),c=se({},null!==(t=i[n])&&void 0!==t?t:{}),u=new Map(Object.entries(null!==(o=c[r])&&void 0!==o?o:{}));u.has(a)&&(u.delete(a),u.size?c[r]=Object.fromEntries(u):delete c[r],Object.keys(c).length?s[n]=c:delete s[n],e.unreadPersonalMessages=s,e.unreadPersonalMessagesAmount--,e.unreadPersonalMessagesAmountByContactId[n]--)}))})),ae(Z(e),"markPersonalMessagesAsRead",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;(0,c.apiRequests)(n).markPersonalMessagesAsRead({requestBody:t})})),ae(Z(e),"getUnreadPersonalMessages",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;(0,c.apiRequests)(n).getUnreadPersonalMessagesForUser({requestBody:t}).then((function(t){var n=t.contactUnreadPersonalMessages,r=t.unreadRecentEntries,a=[],o=!0,i=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,d=l.dataId,_=l.itemId,f=l.phone,p=l.time,m=l.contactId,g=l.unreadPersonalChats;a.push({dataId:d,itemId:_,phone:f,time:p,contactId:m}),n.push({contactId:m,unreadPersonalChats:g})}}catch(h){i=!0,s=h}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}e.toClientDispatch.onContactsWithUnreadMessagesReceived(a),e.produceState((function(t){t.unreadPersonalMessages=se({},t.unreadPersonalMessages,e.unreadPersonalChatsToUnreadPersonalMessages(n)),n.forEach((function(e){t.unreadPersonalMessagesAmountByContactId[e.contactId]=e.unreadPersonalChats.reduce((function(e,t){var n,r;return e+=null!==(r=null==t||null===(n=t.unreadMessageIds)||void 0===n?void 0:n.length)&&void 0!==r?r:0}),0)})),t.unreadPersonalMessagesAmount=Object.values(t.unreadPersonalMessagesAmountByContactId).reduce((function(e,t){return e+t}),0)}))}))})),ae(Z(e),"sendMaskedMessages",(function(t){var n,r,a,o=null===(n=e.stateData.chatData[t])||void 0===n?void 0:n.masked,i=Object.values(null!==(r=null==o?void 0:o.messages)&&void 0!==r?r:[]),s=null!==(a=null==o?void 0:o.files)&&void 0!==a?a:[];(i.length||s.length)&&e.transport.dispatch.agent_external_chat_session_mask({item_id:t,messages:i.map((function(t){var n=t.messageId,r=t.maskedText;return{msg_id:n,text:"mobile"===e.platformSpecific.clientType()?r:Q(r)}})),file_ids:s}),e.produceState((function(e){var n;(null===(n=e.chatData[t])||void 0===n?void 0:n.masked)&&(e.chatData[t].masked=he)}))})),ae(Z(e),"toggleFileMask",(function(t){var n=t.fileId,r=t.itemId,a=t.forceShow;e.produceState((function(e){e.chatData[r].masked||(e.chatData[r].masked=he);var t=e.chatData[r].masked.files.findIndex((function(e){return e===n}));(void 0===a?-1===t:a)?e.chatData[r].masked.files.push(n):e.chatData[r].masked.files.splice(t,1)}))})),ae(Z(e),"maskMessage",(function(t){var n=t.itemId,r=t.messageId,a=t.maskedText,o=t.textChunks;e.sessionConnector.getStateData().privileges.CAN_MASK_INTERACTION_CONTENT&&e.produceState((function(e){var t;e.chatData[n].masked||(e.chatData[n].masked=he),a===(null===(t=e.chatData[n].masked.messages[r])||void 0===t?void 0:t.maskedText)?delete e.chatData[n].masked.messages[r]:e.chatData[n].masked.messages[r]={maskedText:a,messageId:r,textChunks:o}}))})),ae(Z(e),"pauseChatInactivityTimeout",(function(t){e.transport.dispatch.agent_external_chat_timeout_pause({item_id:t})})),ae(Z(e),"resumeChatInactivityTimeout",(function(t){e.transport.dispatch.agent_external_chat_timeout_resume({item_id:t})}));var r=Z(e);return ae(Z(e),"requestMessengersData",te((function(){var e,t,n;return ge(this,(function(a){switch(a.label){case 0:return[4,r.transport.dispatch.messenger_data()];case 1:return e=a.sent(),t=e.result,(null==(n=e.error)?void 0:n.message)||!t?(s.bpLogger.error(null==n?void 0:n.message),[2]):(r.produceState((function(e){e.messengers=t.map((function(e){return{id:e.id,name:e.name,type:ve[e.type]}}))})),[2])}}))}))),e}return t=m,o=[{key:"isLegacyChannelFromMobile",value:function(e){return"SMS"===e||"Chat"===e}}],(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,agent_item_created:this.onAgentItemCreated,agent_external_chat_party_joined:this.onPartyJoinedOrChanged,agent_external_chat_party_changed:this.onPartyJoinedOrChanged,agent_external_chat_party_left:this.onPartyLeft,agent_external_chat_message:this.onNewMessage,agent_external_chat_message_attributes:this.onNewMessageAttributes,agent_item_message_attributes:this.onAgentItemMessageAttributes,agent_external_chat_content:this.onExternalChatContent,agent_external_chat_navigation:this.onExternalChatNavigation,agent_external_chat_file:this.onNewFile,agent_external_chat_typing:this.onPartyTyping,agent_external_chat_not_typing:this.onPartyIsNotTyping,agent_external_chat_signaling:this.onExternalChatSignaling,agent_external_chat_cobrowsing_started:this.onExternalChatPartyCobrowsingStarted,agent_external_chat_cobrowsing_rejected:this.onExternalChatPartyCobrowsingRejected,agent_external_chat_cobrowsing_ended:this.onExternalChatPartyCobrowsingEnded,agent_external_chat_channel_opened:this.onChannelOpened,agent_external_chat_error:this.onChatError,agent_external_chat_location:this.onChatLocation}),this.fromClientDispenser.subscribe({sendMessage:this.sendMessage,getExternalChatContent:this.getExternalChatContent,disconnectChat:this.disconnectChat,sendAgentIsTyping:this.sendAgentIsTyping,sendAgentIsNotTyping:this.sendAgentIsNotTyping,sendFileInit:this.sendFileInit,sendFileProgress:this.sendFileProgress,sendFileError:this.sendFileError,sendFile:this.sendFile,inviteToChat:this.inviteToChat,removeInviteFromChat:this.removeInviteFromChat,addMessageToPending:this.addMessageToPending,removePartyFromChat:this.removePartyFromChat,requestCobrowsing:this.requestCobrowsing,createRtcCall:this.createRtcCall,confirmRtcCall:this.confirmRtcCall,cancelRtcCall:this.cancelRtcCall,startRtcCall:this.startRtcCall,onRtcCallIceCandidate:this.onRtcCallIceCandidate,onRtcCallStream:this.onRtcCallStream,stopRtcCall:this.stopRtcCall,toggleRtcCallDevice:this.toggleRtcCallDevice,markMessageAsRead:this.markMessageAsRead,openChannel:this.openChannel,createErrorMessage:this.createErrorMessage,getUnreadPersonalMessages:this.getUnreadPersonalMessages,markPersonalMessageAsRead:this.markPersonalMessageAsRead,maskMessage:this.maskMessage,toggleFileMask:this.toggleFileMask,sendMaskedMessages:this.sendMaskedMessages,pauseChatInactivityTimeout:this.pauseChatInactivityTimeout,resumeChatInactivityTimeout:this.resumeChatInactivityTimeout}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&(e.requestWebRtcConfig(),e.requestMessengersData())},onLogin:function(){e.requestWebRtcConfig(),e.requestMessengersData()}}),this.interactionStateConnector.dispenser.subscribe({onNewItemDelivered:function(t){(0,i.isExternalChat)(t)&&e.getExternalChatContent((0,i.getInteractionStepId)(t))},onExternalChatDisconnected:function(t){e.disconnectChat((0,i.getInteractionStepId)(t))},onBeforeItemComplete:function(t){(0,i.isExternalChat)(t)&&e.sendMaskedMessages((0,i.getInteractionStepId)(t))},onItemCompleted:function(t){var n=t.item;if((0,i.isExternalChat)(n)){var r,a=(0,i.getInteractionStepId)(n);a&&queueMicrotask((function(){return e.removeCompletedChat({interactionStepId:a})})),(null===(r=n.scenarioData)||void 0===r?void 0:r.isDID)&&n.contactId&&e.getUnreadPersonalMessages([n.contactId])}},onAssociatedItemTransferred:function(t){var n=t.associatedInteractionStepId,r=t.transferToPartyId;e.inviteToChat({itemId:n,partyId:r})}}))}},{key:"getMessage",value:function(e,t){if(t){var n=this.findChat(e);if(!n)return;return n.messages.find((function(e){return e.msgId===t}))}}},{key:"getMessageIndex",value:function(e,t){if(t){var n=this.findChat(e);return(0,_.assertDefined)(n),n.messages.findIndex((function(e){return e.msgId===t}))}return-1}},{key:"recalculateUnread",value:function(e){this.produceState((function(t){var n,r;t.chatData[e]&&(t.chatData[e].unread=null===(r=t.chatData[e])||void 0===r||null===(n=r.messages)||void 0===n?void 0:n.filter((function(e){return"message"===e.displayType&&e.msgId&&("customer"===(null==e?void 0:e.source)||"agent"===(null==e?void 0:e.source))&&!e.isRead})).length),t.unread=Object.values(t.chatData).reduce((function(e,t){var n;return e+=null!==(n=t.unread)&&void 0!==n?n:0}),0)}))}},{key:"changeMessage",value:function(e){var t=this.getMessageIndex(e.itemId,e.msgId);-1!==t&&this.produceState((function(n){n.chatData[e.itemId].messages.splice(t,1,e)}))}},{key:"sendMessageStatus",value:function(e,t){var n=t.interactionStepId,r=t.messageId,a=t.timestamp,o=this.sessionConnector.getStateData().userId;if(o&&r){var i={item_id:n,party_id:o,timestamp:String(a?(0,l.cutMilliseconds)(a):(0,l.cutMilliseconds)(Date.now())),ref_msg_id:r};return"read"===e?this.transport.dispatch.agent_external_chat_message_read(i):this.transport.dispatch.agent_external_chat_message_delivered(i)}}},{key:"findChat",value:function(e){return this.stateData.chatData[e]||void 0}},{key:"applyChatLaunchPoint",value:function(e,t){var n=this;this.transport.dispatch.chat_launch_point_info({id:t}).then((function(t){var r=t.result,a=t.error;if(!(null==a?void 0:a.message)&&r){var o=n.findChat(e);(0,_.assertDefined)(o);var i=r[0].cobrowsing_enabled,c=r[0].cobrowsing_widget_key;i&&c&&n.updateState((function(t){return function(e,t,n){var r=e.chatData[t]||{};return C(S({},e),{chatData:C(S({},e.chatData),b({},t,C(S({},r),{cobrowsingWidgetKey:n})))})}(t,e,c)}))}else s.bpLogger.error(null==a?void 0:a.message)}))}},{key:"isSelfParty",value:function(e){var t=this.sessionConnector.getStateData().userId;return e.user_id===t}},{key:"removeOutdatedInviteMessage",value:function(e){if(e){var t=this.findChat(e.item_id),n=null==t?void 0:t.messages.find((function(t){return"invite"===t.displayType&&t.partyId===e.user_id}));(null==n?void 0:n.inviteId)&&this.updateState((function(e){return M(e,{itemId:n.itemId,messageId:n.inviteId?n.inviteId:"",partyId:n.partyId})}))}}},{key:"addPartyJoinedSystemMessage",value:function(e){var t=this;e&&this.updateState((function(n){return U({state:n,messageText:"external_chat_party_joined_new",chatId:e.item_id,unlocalized:!0,partyName:t.getPartyFullName(e),partyId:e.party_id,qmMode:e.qm_mode})}))}},{key:"getSelfParty",value:function(e){var t,n=this.findChat(e),r=null!==(t=null==n?void 0:n.parties)&&void 0!==t?t:[],a=this.sessionConnector.getStateData().userId;return r.find((function(e){return"internal"===e.type&&e.user_id===a}))}},{key:"selfPartyInitialized",value:function(e){var t=this.getSelfParty(e.item_id);return"connected"===(null==t?void 0:t.status)}},{key:"hasChatPartyStatusChanged",value:function(e){var t=this.findParty(e.item_id,e.party_id);return(null==t?void 0:t.status)!==e.status}},{key:"findParty",value:function(e,t){var n=this.stateData.chatData[e];return(0,i.findPartyById)(null==n?void 0:n.parties,t)}},{key:"partyAlreadyExistsInState",value:function(e){var t=this.stateData.chatData[e.item_id];return!!(0,i.findPartyById)(null==t?void 0:t.parties,e.party_id)}},{key:"updateOrCreateParty",value:function(e){this.updateState((function(t){return function(e,t){var n=t.item_id,r=t.party_id,a=e.chatData[n]||{},o=a.parties||[];return o=o.filter((function(e){return e.party_id!==r})),C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},a),{parties:I(o).concat([t])})))})}(t,e)}))}},{key:"removePartyFromChatState",value:function(e){this.updateState((function(t){return function(e,t){var n=t.item_id,r=t.party_id,a=e.chatData[n]||{},o=a.parties||[];return o=o.filter((function(e){return e.party_id!==r})),C(S({},e),{chatData:C(S({},e.chatData),b({},n,C(S({},a),{parties:o})))})}(t,e)}))}},{key:"addPartyLeftSystemMessage",value:function(e){var t=this;!e||this.isNotConnectedParty(e)||this.isSelfParty(e)||this.updateState((function(n){return U({state:n,messageText:"external_chat_party_left_new",chatId:e.item_id,unlocalized:!0,partyName:t.getPartyFullName(e)})}))}},{key:"isNotConnectedParty",value:function(e){return"connected"!==e.status}},{key:"getPartyFullName",value:function(e){var t=this.sessionConnector.getStateData().displayNameFormat;return(0,a.formatFullName)(t,e.first_name,e.last_name)||(0,a.formatPhone)(e.phone)}},{key:"messageAlreadyExists",value:function(e){var t,n,r;return(null!==(r=null===(n=this.stateData.chatData)||void 0===n||null===(t=n[e.item_id])||void 0===t?void 0:t.messages)&&void 0!==r?r:[]).filter((function(e){return e.msgId})).some((function(t){return t.msgId===e.msg_id}))}},{key:"isInternalAgentSentiment",value:function(e){var t=this.findParty(e.item_id,e.party_id);return!!(null==t?void 0:t.user_id)}},{key:"extractSentimentParamsFrom",value:function(e){var t,n="party_id"in e;return{itemId:e.item_id,partyId:n?e.party_id:e.ref_party_id,messageId:e.ref_msg_id,sentimentScore:Number(null===(t=e.sentiment)||void 0===t?void 0:t.score)}}},{key:"addSentimentToMessage",value:function(e){this.updateState((function(t){return A(t,e)}))}},{key:"queueMessage",value:function(e,t){this.pendingMessages[t]=e}},{key:"removeMessageFromQueue",value:function(e){delete this.pendingMessages[e]}},{key:"batchMarkAsReadPersonalMessages",value:function(e){var t=this;clearTimeout(this.readPersonalMessageTimeout),this.addPersonalMessageToPendingReadPersonalMessages(e),this.readPersonalMessageTimeout=setTimeout((function(){var e;Object.keys(null!==(e=t.pendingReadPersonalMessages)&&void 0!==e?e:{}).forEach((function(e){var n;Object.keys(null!==(n=t.pendingReadPersonalMessages[e])&&void 0!==n?n:{}).forEach((function(n){var r=t.pendingReadPersonalMessages[e][n];t.markPersonalMessagesAsRead({messageIds:r,globalInteractionId:n})})),delete t.pendingReadPersonalMessages[e]}))}),1e3)}},{key:"addPersonalMessageToPendingReadPersonalMessages",value:function(e){var t,n,a,o=e.contactId,i=e.messageId,s=e.globalInteractionId;(0,r.set)(this.pendingReadPersonalMessages,"".concat(o,".").concat(s),fe(null!==(a=null===(n=this.pendingReadPersonalMessages)||void 0===n||null===(t=n[o])||void 0===t?void 0:t[s])&&void 0!==a?a:[]).concat([i]))}},{key:"unreadPersonalChatsToUnreadPersonalMessages",value:function(e){return e.reduce((function(e,t){var n=!0,r=!1,a=void 0;try{for(var o,i=t.unreadPersonalChats[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value,c=!0,u=!1,l=void 0;try{for(var d,_=s.unreadMessageIds[Symbol.iterator]();!(c=(d=_.next()).done);c=!0){var f=d.value;e[t.contactId]||(e[t.contactId]={}),e[t.contactId][s.globalInteractionId]||(e[t.contactId][s.globalInteractionId]={}),e[t.contactId][s.globalInteractionId][f]=!0}}catch(p){u=!0,l=p}finally{try{c||null==_.return||_.return()}finally{if(u)throw l}}}}catch(p){r=!0,a=p}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return e}),{})}},{key:"cleanup",value:function(){oe(ie(m.prototype),"cleanup",this).call(this),this.pendingMessages={},this.readPersonalMessageTimeout=void 0,this.pendingReadPersonalMessages={}}},{key:"resetState",value:function(){oe(ie(m.prototype),"resetState",this).call(this),this.pendingMessages={},this.readPersonalMessageTimeout=void 0,this.pendingReadPersonalMessages={}}}])&&re(t.prototype,n),o&&re(t,o),m}(p.StateFactory.createBaseStateClass({name:"interactionChatState",controlEvents:o.interactionChatStateControlEvents,trackerEvents:o.interactionChatStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:o.getInitialInteractionChatState,dependencies:["transport","localSettings","platformSpecific","sessionConnector","tabsConnector","interactionStateConnector","localizationConnector"]}))},70130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InteractionInternalChatStateContextProvider:()=>i,useInteractionInternalChatState:()=>c,useInteractionInternalChatStateConnector:()=>d,useInteractionInternalChatStateMethods:()=>l,useInteractionInternalChatStateRef:()=>u,useInternalChatItemSelector:()=>f,useInternalChatTotalUnread:()=>m,useInternalChatUnread:()=>p,useInternalChats:()=>_});var r=n(13641),a=(0,r.createStateContextProvider)("InteractionInternalChatStateContextProvider"),o=a.getContext,i=a.InteractionInternalChatStateContextProvider,s=(0,r.createStateHooks)("interactionInternalChatState",o),c=s.useInteractionInternalChatState,u=s.useInteractionInternalChatStateRef,l=s.useInteractionInternalChatStateMethods,d=s.useInteractionInternalChatStateConnector,_=function(){return c("items")},f=function(e,t){return c((function(n){var r=n.items;return t(r[e])}))},p=function(e){return c((function(t){var n;return(null===(n=t.items[e])||void 0===n?void 0:n.unreadAmount)||0}))},m=function(){return c((function(e){var t=e.items;return Object.values(t).reduce(g,0)}))};function g(e,t){var n=t.unreadAmount;return e+(void 0===n?0:n)}},88289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialInteractionInternalChatState:()=>r,historyPeriods:()=>s,interactionInternalChatStateControlEvents:()=>i,interactionInternalChatStateTrackerEvents:()=>o});var r=function(){return{items:{}}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onAgentChat:(0,a.event)(),onMessageUnread:(0,a.event)()},i={getChatHistory:(0,a.event)(),sendMessage:(0,a.event)(),convertMessagesToHistory:(0,a.event)(),markMessageAsRead:(0,a.event)(),getUnreadChatSessions:(0,a.event)(),setUnread:(0,a.event)()},s=["day","week","month","all"]},91279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InteractionInternalChatStateImpl:()=>M,convertIncomingChatHistory:()=>l,convertIncomingChatToInteraction:()=>f,convertIncomingEmiChannelMessage:()=>u,convertIncomingItem:()=>c,createInternalInteraction:()=>d,createInternalMessageInteraction:()=>_});var r=n(2122),a=n(33976),o=n(27385),i=n(40381),s=n(50944);function c(e){var t=e.send_time;return t=t?(0,i.secondsToMilliseconds)(+t):Date.now(),{content:e.content,messageId:e.message_id,firstName:e.firstname,lastName:e.lastname,loginId:e.login_id,userId:e.user_id,sendTime:t,direction:e.direction,isDelivered:e.is_delivered&&(0,s.transportToBoolean)(e.is_delivered),isFavorite:e.is_favorite&&(0,s.transportToBoolean)(e.is_favorite),isRead:e.is_read&&(0,s.transportToBoolean)(e.is_read),isUrgent:e.is_urgent&&(0,s.transportToBoolean)(e.is_urgent),attachments:e.attachments&&(0,s.convertKVArray)(e.attachments,r.identity)}}function u(e){return{content:e.content,messageId:e.message_id,firstName:e.firstname,lastName:e.lastname,photoUrl:e.photo_url,loginId:e.login_id,userId:e.channel_id,sendTime:(0,i.secondsToMilliseconds)(+e.send_time),direction:e.direction,isUrgent:(0,s.transportToBoolean)(e.is_urgent),attachments:(0,s.convertKVArray)(e.attachments,r.identity)}}function l(e){var t=Object.values(e.messages).reduce((function(e,t){return"in"===t.direction&&"0"===t.is_read&&(e[t.message_id]=!0),e}),{});return{requestId:e.request_id,messages:Object.values(e.messages).map((function(e){return c(e)})).sort((function(e,t){return e.sendTime-t.sendTime})),unread:t}}function d(e,t,n){return{id:e.userId,itemKind:"internalChat",userId:e.userId,direction:t,displayData:{displayName:(0,o.formatFullName)(n.displayNameFormat,e.firstName,e.lastName),number:e.number,emiUserType:e.emiUserType,emiPhotoUrl:e.emiPhotoUrl,emiOwnerId:(0,a.getEmiOwnerId)(n,e.emiUserType)},internalChatData:{userId:e.userId,firstName:e.firstName,lastName:e.lastName}}}function _(e){return{id:e.sender_id,itemKind:"internalMessage",displayData:{displayName:e.sender_name},internalMessageData:{messages:[{timestamp:Date.now(),text:e.content}]}}}function f(e,t){var n=c(e);return d({number:e.number,userId:n.userId,firstName:n.firstName,lastName:n.lastName},"inbound",t)}var p=n(3973),m=n(52388),g=n(68939),h=n(16152);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,s,"next",e)}function s(e){b(o,r,a,i,s,"throw",e)}i(void 0)}))}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},E(e,t,n||e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function D(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function A(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?y(e):t;var n}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function R(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function N(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(_,e);var t,n,a,d=k(_);function _(){var e;C(this,_),w(y(e=d.apply(this,arguments)),"unreadTimeouts",{}),w(y(e),"onAgentWelcome",(function(){"mobile"!==e.platformSpecific.clientType()&&e.getUnreadChatSessions()})),w(y(e),"getUnreadChatSessions",(function(){e.transport.dispatch.agent_get_unread_chat_sessions()})),w(y(e),"onAgentUnreadChatSessions",(function(t){(0,s.convertKVArray)(t.sessions,r.identity).forEach((function(t){var n=t.message_count,r=t.send_time,a=t.user_id;e.updateItem(a,(function(){return{unreadAmount:+n,latestUnreadSendTime:(0,i.secondsToMilliseconds)(+r),lastAction:"unreadSessionRetrieved"}}))}))})),w(y(e),"onAgentChat",(function(t){var n,r=e.sessionConnector.getStateData().userId,a=c(t),o=a.userId,i=a.content,s=e.stateData.items;r&&e.markMessageAsDelivered({senderId:o,receiverId:r,messageId:a.messageId}),(null===(n=s[o])||void 0===n?void 0:n.unread)||e.initializeUnread(o),e.updateItem(o,(function(e){var t,n;return{messages:R(null!==(t=null==e?void 0:e.messages)&&void 0!==t?t:[]).concat([a]),unread:D(T({},e.unread),w({},a.messageId,!0)),unreadAmount:(null!==(n=e.unreadAmount)&&void 0!==n?n:0)+1,lastAction:"messageReceived"}})),e.toClientDispatch.onAgentChat({userId:o,message:i}),e.setOnMessageUnreadTimeout(o,i)})),w(y(e),"markMessageAsRead",(function(t){var n=e.sessionConnector.getStateData().userId;n&&(e.sendMessageStatus("read",D(T({},t),{receiverId:n})),e.readMessage(t.senderId,t.messageId),e.recalculateUnread(t.senderId),e.clearOnMessageUnreadTimeout(t.senderId))})),w(y(e),"setUnread",(function(t,n){e.produceState((function(e){e.items[t]&&(e.items[t].unreadAmount=n)}))}));var t,n=y(e);return w(y(e),"getChatHistory",(t=S((function(e,t){var a,o;return N(this,(function(s){switch(s.label){case 0:return n.updateItem(e,(function(){return{isLoading:!0}})),[4,n.transport.dispatch.agent_get_chat_history({user_id:e,start_time:(0,i.cutMilliseconds)(t)})];case 1:return a=s.sent(),o=l(a),n.updateItem(e,(function(){return{messages:(0,r.get)(o,"messages",[]),unread:(0,r.get)(o,"unread",{}),unreadAmount:Object.values((0,r.get)(o,"unread",{})).length,isLoading:!1,lastAction:"activityHistoryReceived",startTime:Number(t)}})),[2]}}))})),function(e,n){return t.apply(this,arguments)})),w(y(e),"sendMessage",(function(t){var n=t.receiverUserId,r=t.text,a=(0,g.uuid)().toUpperCase(),i=e.sessionConnector.getStateData(),s=i.userId,c=i.firstName,u=i.lastName;if(s){var l={userId:s,firstName:c||"",lastName:u||"",messageId:a,content:r,sendTime:Date.now(),direction:"out"};e.stateData.items[s]||e.updateItem(s,(function(){return{messages:[],unread:{},unreadAmount:0,isLoading:!1,lastAction:"activityHistoryReceived",startTime:Date.now()}})),e.transport.dispatch.agent_chat({user_id:n,message_id:a,content:r,msg_text:(0,o.chatHTMLToChatText)(r),is_urgent:"0"}),e.updateItem(n,(function(e){return{messages:R((null==e?void 0:e.messages)||[]).concat([l]),lastAction:"messageSent"}})),e.toClientDispatch.onAgentChat({userId:n,message:r})}})),w(y(e),"markMessageAsDelivered",e.sendMessageStatus.bind(y(e),"delivered")),w(y(e),"onAgentEmiChannelMessageReceived",(function(t){var n,r=u(t),a=r.userId,o=r.content;(null===(n=e.stateData.items[a])||void 0===n?void 0:n.unread)||e.initializeUnread(a),e.updateItem(a,(function(e){var t,n;return{messages:R(null!==(t=null==e?void 0:e.messages)&&void 0!==t?t:[]).concat([r]),unread:D(T({},e.unread),w({},r.messageId,!0)),unreadAmount:(null!==(n=e.unreadAmount)&&void 0!==n?n:0)+1,lastAction:"messageReceived"}})),e.toClientDispatch.onAgentChat({userId:a,message:o}),e.setOnMessageUnreadTimeout(a,o)})),e}return t=_,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_chat:this.onAgentChat,agent_welcome:this.onAgentWelcome,agent_unread_chat_sessions:this.onAgentUnreadChatSessions,agent_emi_channel_received:this.onAgentEmiChannelMessageReceived}),this.fromClientDispenser.subscribe({getChatHistory:this.getChatHistory,sendMessage:this.sendMessage,markMessageAsRead:this.markMessageAsRead,setUnread:this.setUnread}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:function(t){(0,m.isDeprecatedInternalChat)(t)&&t.userId&&e.setUnread(t.userId,0)}}))}},{key:"setOnMessageUnreadTimeout",value:function(e,t){var n=this;this.unreadTimeouts[e]=setTimeout((function(){n.toClientDispatch.onMessageUnread({userId:e,message:t})}),500)}},{key:"clearOnMessageUnreadTimeout",value:function(e){clearTimeout(this.unreadTimeouts[e]),delete this.unreadTimeouts[e]}},{key:"readMessage",value:function(e,t){this.produceState((function(n){var r,a,o,i,s,c;(null==n||null===(o=n.items)||void 0===o||null===(a=o[e])||void 0===a||null===(r=a.unread)||void 0===r?void 0:r[t])&&(null==n||null===(c=n.items)||void 0===c||null===(s=c[e])||void 0===s||null===(i=s.unread)||void 0===i||delete i[t])}))}},{key:"recalculateUnread",value:function(e){var t,n,r=this.stateData.items,a=Object.values(null!==(n=null===(t=r[e])||void 0===t?void 0:t.unread)&&void 0!==n?n:{}).length;this.setUnread(e,a)}},{key:"sendMessageStatus",value:function(e,t){var n=t.senderId,r=t.receiverId,a=t.messageId;"delivered"===e?this.transport.dispatch.agent_chat_delivered({sender_id:n,receiver_id:r,message_id:a}):this.transport.dispatch.agent_chat_read({sender_id:n,receiver_id:r,message_id:a})}},{key:"updateItem",value:function(e,t){this.produceState((function(n){var r=t(n.items[e]);for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n.items[e]||(n.items[e]={}),n.items[e][a]=r[a])}))}},{key:"initializeUnread",value:function(e){this.produceState((function(t){var n,r;t.items[e]||(t.items[e]={messages:[],unread:{},unreadAmount:0}),t.items[e].unread=(null!==(n=t.items[e].messages)&&void 0!==n?n:[]).reduce((function(e,t){return t.isRead||"in"!==t.direction||(e[t.messageId]=!0),e}),{}),t.items[e].unreadAmount=Object.values(null!==(r=t.items[e].unread)&&void 0!==r?r:{}).length}))}},{key:"cleanup",value:function(){E(O(_.prototype),"cleanup",this).call(this),this.unreadTimeouts={}}},{key:"resetState",value:function(){E(O(_.prototype),"resetState",this).call(this),this.unreadTimeouts={}}}])&&I(t.prototype,n),a&&I(t,a),_}(h.StateFactory.createBaseStateClass({name:"interactionInternalChatState",controlEvents:p.interactionInternalChatStateControlEvents,trackerEvents:p.interactionInternalChatStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:p.getInitialInteractionInternalChatState,dependencies:["transport","platformSpecific","sessionConnector","interactionStateConnector"]}))},78064:(e,t,n)=>{"use strict";n.r(t),n.d(t,{voiceTranscriptMessageTypes:()=>r});var r=["voiceTranscriptMessage","suggestion","chatMessage"]},77065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InteractionStateContextProvider:()=>g,useActiveChatInteraction:()=>j,useActiveChatInteractionId:()=>H,useActiveChatInteractionIdAsserted:()=>V,useActiveChatInteractionProp:()=>F,useActiveChatInteractionStepId:()=>U,useActiveChatServiceId:()=>W,useActiveInteraction:()=>E,useActiveInteractionContactId:()=>x,useActiveInteractionId:()=>B,useActiveInteractionIdAsserted:()=>q,useActiveInteractionProp:()=>K,useActiveInteractionStepId:()=>$,useActiveInteractionUserId:()=>L,useAssociatedChatInteraction:()=>P,useAssociatedChatInteractionId:()=>k,useAssociatedChatInteractionProp:()=>R,useCallsWaitingInQueue:()=>M,useDefaultTransferMode:()=>G,useInteraction:()=>T,useInteractionBy:()=>D,useInteractionProp:()=>A,useInteractionState:()=>b,useInteractionStateConnector:()=>I,useInteractionStateMethods:()=>C,useInteractionStateRef:()=>S,useInteractionStateSelector:()=>w,useInteractions:()=>O,useModalInteractionIds:()=>N});var r,a=n(52322),o=n(66029),i=n(86702),s=n(52388),c=n(98525);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var t=e.connector,n=e.children,u=m((0,o.useState)((function(){return t.getStateData()})),2),d=u[0],_=u[1];(0,o.useEffect)((function(){var e=t.dispenser.subscribe({onInitialState:function(e){_(f({},e))},onChange:function(e){_((function(t){return f({},t,e)}))}});return function(){e.unsubscribe()}}),[t]);var g=function(e){var t=(0,c.useInterstateLogicState)("isActiveInteractionFrozen"),n=l((0,o.useState)(e),2),r=n[0],a=n[1];return(0,o.useEffect)((function(){t||a(e)}),[t,e,a]),r}(d.activeItemId),h=(0,o.useMemo)((function(){var e=d.items.find((function(e){return e.id===g})),t=(0,s.getAssociatedChatItem)({items:d.items,item:e}),n=(0,s.getItemsWithoutAssociated)(d.items);return p(f({},d),{activeItem:e,chatActiveItem:t,itemsWithoutAssociated:n})}),[d,g]),v=(0,o.useMemo)((function(){return{state:h,methods:t.dispatch,connector:t}}),[t,h]);return r||((r=(0,i.createContext)(v)).displayName="InteractionStateContext"),(0,a.jsx)(r.Provider,{value:v,children:n})},h=n(2122),v=n(40381),y=n(26552),b=function(){return(0,i.useContextSelector)(r,(function(e){return e.state}))},S=function(){var e=b();return(0,v.useAsRef)(e)},C=function(){return(0,i.useContextSelector)(r,(function(e){return e.methods}))},I=function(){return(0,i.useContextSelector)(r,(function(e){return e.connector}))},w=function(e){return(0,i.useContextSelector)(r,(function(t){return e(t.state)}))},E=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.activeItem}))},O=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.items}))},T=function(e){return(0,i.useContextSelector)(r,(function(t){return t.state.items.find((function(t){return t.id===e}))}))},D=function(e,t){return(0,i.useContextSelector)(r,(function(n){return n.state.items.find((function(n){return("interactionStepId"===e?(0,s.getInteractionStepId)(n):n[e])===t}))}))},A=function(e,t){return(0,i.useContextSelector)(r,(function(n){return t(n.state.items.find((function(t){return t.id===e})))}))},P=function(e){return(0,i.useContextSelector)(r,(function(t){var n=t.state.items.find((function(t){return t.id===e}));return(0,s.getAssociatedChatItem)({items:t.state.items,item:n})}))},R=function(e,t){return(0,i.useContextSelector)(r,(function(n){var r=n.state.items.find((function(t){return t.id===e})),a=(0,s.getAssociatedChatItem)({items:n.state.items,item:r});return t(a)}))},k=function(e){return R(e,(function(e){return null==e?void 0:e.id}))},N=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.modalItemIds}))},M=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.callsWaitingInQueue}))},j=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.chatActiveItem}))},x=function(){return(0,i.useContextSelector)(r,(function(e){var t,n;return null!==(n=null===(t=e.state.activeItem)||void 0===t?void 0:t.contactId)&&void 0!==n?n:""}))},L=function(){return(0,i.useContextSelector)(r,(function(e){var t,n;return null!==(n=null===(t=e.state.activeItem)||void 0===t?void 0:t.userId)&&void 0!==n?n:""}))},K=function(e){return(0,i.useContextSelector)(r,(function(t){return e(t.state.activeItem)}))},F=function(e){return(0,i.useContextSelector)(r,(function(t){return e(t.state.chatActiveItem)}))},$=(0,h.partial)(K,s.getInteractionStepId),U=(0,h.partial)(F,s.getInteractionStepId),B=(0,h.partial)(K,(function(e){return null==e?void 0:e.id})),q=(0,h.partial)(K,(function(e){return(0,y.assertDefined)(null==e?void 0:e.id),e.id})),G=(0,h.partial)(K,s.getDefaultTransferMode),H=(0,h.partial)(F,(function(e){return null==e?void 0:e.id})),V=(0,h.partial)(F,(function(e){return(0,y.assertDefined)(null==e?void 0:e.id),e.id})),W=(0,h.partial)(F,(function(e){var t;return null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.serviceId}))},58258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{normalizeByUrlParser:()=>l,useActivityHistoryOpener:()=>R,useCallButtonsHandlers:()=>W,useCallHandler:()=>re,useChatMessageSanitizer:()=>ae,useContactActivityHistory:()=>ue,useContactDetailsOpener:()=>le,useDispositionsSettings:()=>fe,useOnItemRemoved:()=>pe,useSystemDisposition:()=>he,useTransferHandlers:()=>Ee,wrapLinksWithAnchorTags:()=>f});var r=n(29108),a=n.n(r),o=n(2122),i=n(37346),s=n(14169),c=n(45312);function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.CHAT_MESSAGE_ALLOWED_ATTRIBUTES,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.CHAT_MESSAGE_ALLOWED_TAGS;return"string"!=typeof e?"":(0,o.flow)(y,r,h,f,m)(e);function r(e){if(a().addHook){a().addHook("afterSanitizeAttributes",d);var t=s(e);return a().removeHook("afterSanitizeAttributes"),t}return e}function s(e){return a().sanitize(e,{ALLOWED_TAGS:n,ALLOWED_ATTR:t})}}function d(e){u(e,HTMLAnchorElement)&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),u(e,HTMLImageElement)&&(e.style.maxWidth="100%")}var _=v.bind(null,s.URL_REGEXP,c.normalizeExternalURL),f=b.bind(null,s.URL_REGEXP,_),p=v.bind(null,s.EMAIL_REGEX,(function(e){return"mailto:".concat(e)})),m=b.bind(null,s.EMAIL_REGEX,p),g=v.bind(null,s.PHONE_NUMBER_REGEXP,(function(e){return"tel:"+e.replace(/\D/g,"")})),h=b.bind(null,s.PHONE_NUMBER_REGEXP,g);function v(e,t,n,r){var a=n.replace(new RegExp(e,"gi"),'<a target="_blank" rel="noopener noreferrer" href='.concat(t(r),">").concat(r,"</a>"));return(0,c.stringToHTMLFragment)(a)}function y(e){return e.replaceAll("\n","<br>")}function b(e,t,n){var r=n.match(new RegExp(e,"ig")),a=Array.from(new Set(r));return function(e,t,n){var r=(new DOMParser).parseFromString(e,"text/html"),a=r.body;return function(){n.forEach((function(e){var n=function(n){return n.textContent?n.replaceWith(t(n.textContent,e)):n};(function(){for(var t=r.evaluate("//text()[not(parent::a) and contains(., '".concat(e,"')]"),a,null,XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null),n=[],o=t.iterateNext();o;o=t.iterateNext())n.push(o);return n})().forEach(n)}))}(),a}.bind(null,n,t)(a).innerHTML}var S=n(66029),C=n(52247),I=n(3118),w=n(52388),E=n(84592),O=n(26220),T=n(5518),D=n(79607),A=n(40710),P=n(74130);function R(){var e,t=(0,E.useMainPageUIState)((function(e){return e.communicator.setFloatingState})),n="ad"===(null===(e=(0,C.useBrowserTabMetaInfo)())||void 0===e?void 0:e.app),r=(0,A.useNavigationState)("setActivePage"),a=(0,D.useSessionState)("serverOrigin"),o=(0,I.useInteractionStateMethods)(),i=o.createPotentialItem,s=o.activateItem,u=(0,I.useInteractionStateRef)(),l=(0,c.useAsRef)((0,P.useGroupChatState)("items"));return(0,S.useCallback)((function(e){var o,c,d=e.contactId,_=e.firstName,f=e.forceSearchForContact,p=e.groupChatId,m=e.lastName,g=e.phone,h=e.previousActivity,v=e.userId,y=null===(c=u.current)||void 0===c||null===(o=c.items)||void 0===o?void 0:o.find((function(e){return d?e.contactId===d:!!v&&e.userId===v})),b=null==g?void 0:g.replaceAll(/[^0-9]/g,""),S=d||!1===f?Promise.resolve(d):b?function(e){var t=e.phone,n=e.serverOrigin;return O.bpLogger.debug("identifyContactByPhone ".concat(t)),(0,T.apiRequests)(n).identifyContactByPhone({requestBody:{phone:t}}).then((function(e){var t,n=e.contact_data;return null==n||null===(t=n[0])||void 0===t?void 0:t["Contact.id"]}))}({phone:b,serverOrigin:a}):Promise.resolve(void 0);return S.then((function(e){n&&t((function(e){return"closed"===e?"floating":e})),y&&!(0,w.isAfterCallWork)(y)?s(y.id):i({contactId:e,displayName:p&&l.current[p].title,firstName:_,groupChatId:p,lastName:m,phone:b,previousActivity:h,userId:v}).then((function(e){var t=e.id;s(t)})),r({name:A.AppRoutes.Interactions})}))}),[s,i,l,u,n,a,r,t])}var k=n(27005),N=n(27554),M=n(37010),j=n(76199);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){var n=L((0,k.useAtom)(t),2),r=n[0],a=n[1];return(0,S.useEffect)((function(){var t;if(e!==r)return t=setTimeout((function(){a(e)}),1e3),function(){return clearTimeout(t)}}),[e,a,r]),[r,a]}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,s,"next",e)}function s(e){$(o,r,a,i,s,"throw",e)}i(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var G=(0,k.atom)(!1),H=(0,k.atom)(!1),V=(0,k.atom)(!1);function W(){var e,t,n,r,a,o,i,s,c=(0,D.useSessionState)(),u=c.privileges,l=c.phoneDeviceCapabilities,d=(0,j.useNonAssertedInteractionId)(),_=(0,I.useInteraction)(d),f=(0,I.useInteractions)(),p=(0,N.useIntegrationApiStateRef)(),m=(0,N.useIntegrationApiStateMethods)().requestTransferData,g=(0,M.useRemoteAssistState)().items,h=(0,I.useInteractionStateMethods)(),v=h.muteItem,y=h.unmuteItem,b=h.resumeItem,C=h.holdItem,E=h.completeCallConference,O=h.stopRecordingCall,T=h.completeTransfer,A=h.disconnectItem,P=h.recordCall,R=h.updateScreenPopData,k=(0,S.useMemo)((function(){var e,t,n;return{muted:(null==_||null===(e=_.displayData)||void 0===e?void 0:e.mutedChanging)||!1,recording:(null==_||null===(t=_.displayData)||void 0===t?void 0:t.recordingChanging)||!1,onHold:(null==_||null===(n=_.displayData)||void 0===n?void 0:n.holdChanging)||!1}}),[null==_||null===(e=_.displayData)||void 0===e?void 0:e.holdChanging,null==_||null===(t=_.displayData)||void 0===t?void 0:t.mutedChanging,null==_||null===(n=_.displayData)||void 0===n?void 0:n.recordingChanging]),x=null!=_?_:{},L=x.scenarioData,F=x.displayData,$=x.callData,W=x.id,z=L?L.interactionStepId:"",Y=(0,S.useMemo)((function(){return(0,w.isOnHold)(_)}),[_]),Q=(0,S.useMemo)((function(){return!!$&&!!$.muted}),[$]),J=(0,S.useMemo)((function(){return!!(null==F?void 0:F.isRecording)}),[F]),X=(0,S.useMemo)((function(){return!!(null==F?void 0:F.isRecordingMuted)}),[F]),Z=(0,S.useMemo)((function(){return(0,w.getIsCallEstablished)(_)}),[_]),ee=!!(null==_?void 0:_.isConferenceHost),te=(0,S.useMemo)((function(){return(0,w.isCallConference)(_)}),[_]),ne=(0,w.getMainItem)(f,_),re=null==ne?void 0:ne.id,ae=(0,w.getGlobalInteractionId)(ne),oe=ae?null===(r=g[ae])||void 0===r?void 0:r.pin:void 0,ie=ae?null===(a=g[ae])||void 0===a?void 0:a.sessionId:void 0,se=(0,S.useCallback)((o=U((function(){var e;return q(this,(function(t){switch(t.label){case 0:if(!re)return[3,5];if(!p.current.isAvailable)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,m(re)];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:R({itemId:re,customData:e,raSessionPin:oe,raSessionId:ie}),t.label=5;case 5:return[2]}}))})),function(){return o.apply(this,arguments)}),[re,p,oe,ie,R,m]),ce=B(K(Q,G),2),ue=ce[0],le=ce[1],de=B(K(J,H),2),_e=de[0],fe=de[1],pe=B(K(Y,V),2),me=pe[0],ge=pe[1],he=(0,S.useMemo)((function(){return _e?!!u.CAN_STOP_RECORDING:!!u.CAN_START_RECORDING}),[_e,u.CAN_START_RECORDING,u.CAN_STOP_RECORDING]),ve=(0,S.useCallback)((function(e){if("boolean"!=typeof e||e!==ue&&!k.muted){var t,n="boolean"==typeof e?e:!ue;return t=W,Z&&t?(le((function(e){return!e})),n?v(W):y(W)):void 0}}),[Z,k.muted,ue,W,v,y,le]),ye=(0,S.useCallback)((function(){Z&&he&&(fe((function(e){return!e})),_e?O(z):P(z))}),[z,Z,_e,P,he,O,fe]),be=(0,S.useCallback)((function(e){if("boolean"!=typeof e||e!==me||!k.onHold){var t="boolean"==typeof e?e:!me,n=t?l.canHold:l.canRetrieve;return W&&Z&&n?(ge((function(e){return!e})),t?C(W):b(W)):void 0}}),[C,Z,k.onHold,W,l.canHold,l.canRetrieve,b,ge,me]),Se=(0,S.useCallback)((function(){_&&te&&ee&&A(_.id)}),[_,A,te,ee]),Ce=(0,S.useCallback)((i=U((function(){return q(this,(function(e){switch(e.label){case 0:return[4,se()];case 1:return e.sent(),E(),[2]}}))})),function(){return i.apply(this,arguments)}),[se,E]),Ie=(0,S.useCallback)((s=U((function(){return q(this,(function(e){switch(e.label){case 0:return[4,se()];case 1:return e.sent(),T(),[2]}}))})),function(){return s.apply(this,arguments)}),[se,T]);return(0,S.useMemo)((function(){return{showRecordButton:he,isCallEstablished:Z,isOnHold:me,isMuted:ue,isRecording:_e,isRecordingMuted:X,isLoading:k,isCallConference:te,handleMuteClick:ve,handleHoldClick:be,handleMergeClick:Ce,handleTransferClick:Ie,handleLeaveConference:Se,handleRecordClick:ye}}),[me,he,Z,ue,_e,k,X,te,ve,be,Ce,Ie,Se,ye])}var z=n(41632),Y=n(94667),Q=n(72457),J=n(29016),X=n(26552);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ne(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(){var e,t=(0,A.useNavigationState)("setActivePage"),n=(0,E.useMainPageUIState)((function(e){return e.communicator.setFloatingState})),r="ad"===(null===(e=(0,C.useBrowserTabMetaInfo)())||void 0===e?void 0:e.app),a=(0,I.useInteractionStateMethods)().initiateCall,i=(0,Y.useErrorValidation)(),s=i.getServiceAndDIDNumbersErrors,c=i.getNumberErrors,u=(0,Q.useServiceState)().selectedService,l=(0,z.useDIDNumberState)().selectedDIDNumber,d=(0,J.useNotificationsState)("methods"),_=d.showNotification,f=d.hideNotificationsByTag;return(0,S.useCallback)((function(e){var i,d,p=e.phone,m=e.errors,g=void 0===m?[]:m,h=e.navigateToInteractionsPage,v=e.beforeCallSideEffectCallback,y=void 0===v?o.noop:v,b=e.afterCallSideEffectCallback,S=void 0===b?o.noop:b,C=te(e,["phone","errors","navigateToInteractionsPage","beforeCallSideEffectCallback","afterCallSideEffectCallback"]),I=ne(g).concat(ne(s({skip:["noChatInService"],interactionType:"call",service:C.serviceId,didNumber:C.accessNumberId})),ne(c({number:p})));return I.length?(_(I[0]),!1):((0,X.assertDefined)(p),f("interaction-init"),y(),a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}({phone:p,serviceId:null!==(i=C.serviceId)&&void 0!==i?i:u,accessNumberId:null!==(d=C.accessNumberId)&&void 0!==d?d:l},C)),S(),h&&(r&&n((function(e){return"closed"===e?"floating":e})),t({name:A.AppRoutes.Interactions})),!0)}),[c,s,f,a,r,l,u,t,n,_])}function ae(e){var t=e.message,n=e.allowedAttributes,r=void 0===n?i.CHAT_MESSAGE_ALLOWED_ATTRIBUTES:n,a=e.allowedTags,o=void 0===a?i.CHAT_MESSAGE_ALLOWED_TAGS:a;return(0,S.useMemo)((function(){return l(t,r,o)}),[r,o,t])}var oe=n(60142),ie=n(3211),se=n(27385),ce={messages:"CHAT",calls:"VOICE"};function ue(){var e=(0,D.useSessionStateRef)(),t=(0,j.useNonAssertedInteractionId)(),n=(0,I.useInteractionProp)(t,w.getContactId),r=(0,oe.useContactsStateMethods)(),a=r.updateActivityHistoryForContact,i=r.addNewMessagesForContact,s=r.updateIsLoadingForActivityHistory,u=(0,oe.useActivityHistoryByContactId)(n),l=(0,c.useAsRef)(u),d=(0,S.useMemo)((function(){return(0,o.get)(u,"messages",[])}),[u]),_=(0,o.get)(u,"reachedLimit",!1),f=(0,o.get)(u,"reachedLimitByMedia"),p=(0,o.get)(u,"isLoading",!1),m=(0,S.useCallback)((function(t){var n=t.type,r=t.contactId,c=t.checkForLatestMessages,u=(0,o.get)(l.current,"activityCreatedTimeByMedia.".concat(se.chatTypeToMedia[n])),d=c?void 0:u?new Date(u):void 0;return s({contactId:r,isLoading:!0}),(0,ie.fetchContactActivityHistory)({contactId:r,startDate:d,mediaFilter:se.chatTypeToMedia[n]},e.current).then((function(e){var t=e.messages,o=e.activityCreatedTime,s="all"!==n&&"transcript"!==n?ce[n]:void 0;return c?(i({messages:t,contactId:r}),t):(a({messages:t,activityCreatedTime:o,contactId:r,type:s}),t)})).finally((function(){s({contactId:r,isLoading:!1})}))}),[l,e,s,i,a]);return(0,S.useMemo)((function(){return{isLoading:p,reachedLimit:_,reachedLimitByMedia:null!=f?f:{chat:!1,voice:!1,all:!1},getMessages:m,messages:d}}),[p,_,f,m,d])}function le(){var e=(0,A.useNavigationState)("setActivePage");return(0,c.useEvent)((function(t){var n={name:A.AppRoutes.ContactDetails,params:(0,X.withoutUndefinedKeys)(t)};Object.keys(n.params).length&&e(n)}))}var de=n(15922);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){var t,n=(0,de.useServicesDispositionsState)(["notAssignedServices","services"]),r=n.services,a=n.notAssignedServices,i=null!==(t=(0,I.useInteractionProp)(e,w.getServiceId))&&void 0!==t?t:"",s=(0,S.useMemo)((function(){return(0,o.get)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}({},r,a),i)}),[a,i,r]);return(0,S.useMemo)((function(){return{useDispositions:!!(null==s?void 0:s.useDispositions),requireDispositions:!!(null==s?void 0:s.requireDispositions)}}),[s])}function pe(e){var t=(0,c.useAsRef)(e),n=(0,I.useInteractionStateConnector)();(0,S.useEffect)((function(){var e=null==n?void 0:n.dispenser.subscribe({onItemRemoved:function(e){t.current(e)}});return function(){return null==e?void 0:e.unsubscribe()}}),[null==n?void 0:n.dispenser,t])}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e){var t=ge((0,S.useState)([]),2),n=t[0],r=t[1],a=(0,j.useInteractionId)(),o=(0,I.useInteractionProp)(a,w.getServiceId),i=(0,de.useServicesDispositions)();return(0,S.useEffect)((function(){o&&i&&i[o]&&r(Object.values(i[o]))}),[o,i]),"skipped"===e&&n.find((function(e){return e.isPreview&&"SKIPPED"===e.systemType}))||null}var ve=n(57339);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Se(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ce(o,r,a,i,s,"next",e)}function s(e){Ce(o,r,a,i,s,"throw",e)}i(void 0)}))}}function we(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ee=function(){var e,t,n,r,a,i,s,c,u,l,d,_,f,p,m,g,h=re(),v=(n=(0,A.useNavigationState)("setActivePage"),r=(0,I.useInteractionStateMethods)().singleStepConference,a=(0,Y.useErrorValidation)(),i=a.getServiceAndDIDNumbersErrors,s=a.getNumberErrors,c=(0,Q.useServiceState)().selectedService,u=(0,z.useDIDNumberState)().selectedDIDNumber,l=(0,J.useNotificationsState)("methods"),d=l.showNotification,_=l.hideNotificationsByTag,(0,S.useCallback)((function(e){var t=e.phone,a=e.errors,l=void 0===a?[]:a,f=e.navigateToInteractionsPage,p=e.beforeCallSideEffectCallback,m=void 0===p?o.noop:p,g=e.afterCallSideEffectCallback,h=void 0===g?o.noop:g,v=be(e,["phone","errors","navigateToInteractionsPage","beforeCallSideEffectCallback","afterCallSideEffectCallback"]),y=Se(l).concat(Se(i({skip:["noChatInService"],interactionType:"call"})),Se(s({number:t})));y.length?d(y[0]):((0,X.assertDefined)(t),_("interaction-init"),m(),r({phone:t,serviceId:v.serviceId||c,accessNumberId:v.accessNumberId||u,contactId:v.contactId,userId:v.userId,firstName:v.firstName,lastName:v.lastName,associatedRecords:v.associatedRecords,withGlobalInteractionId:v.withGlobalInteractionId}),h(),f&&n({name:A.AppRoutes.Interactions}))}),[s,i,_,r,u,c,n,d])),y=(0,I.useInteractionStateMethods)(),b=y.blindTransfer,C=y.updateScreenPopData,E=(0,N.useIntegrationApiStateRef)(),O=(0,N.useIntegrationApiStateMethods)().requestTransferData,T=(0,j.useNonAssertedInteractionId)(),D=(0,I.useInteraction)(T),P=(0,M.useRemoteAssistState)().items,R=(0,ve.useOpenInteractionSlidingModal)(),k=null==D?void 0:D.id,x=(0,w.getGlobalInteractionId)(D),L=x?null===(e=P[x])||void 0===e?void 0:e.pin:void 0,K=x?null===(t=P[x])||void 0===t?void 0:t.sessionId:void 0,F=(0,S.useCallback)((f=Ie((function(){var e;return we(this,(function(t){switch(t.label){case 0:if(!k)return[3,5];if(!E.current.isAvailable)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,O(k)];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:C({itemId:k,customData:e,raSessionPin:L,raSessionId:K}),t.label=5;case 5:return[2]}}))})),function(){return f.apply(this,arguments)}),[k,E,L,K,C,O]),$=(0,S.useCallback)((p=Ie((function(e){return we(this,(function(t){return k&&e&&h({phone:e,origination:"directory",afterCallSideEffectCallback:function(){R(k,"transfer")}}),[2]}))})),function(e){return p.apply(this,arguments)}),[k,h,R]),U=(0,S.useCallback)((m=Ie((function(e){return we(this,(function(t){switch(t.label){case 0:return k&&e?[4,F()]:[3,2];case 1:t.sent(),b({item:D,phone:e}),R(k,"transfer"),t.label=2;case 2:return[2]}}))})),function(e){return m.apply(this,arguments)}),[R,k,D,F,b]),B=(0,S.useCallback)((g=Ie((function(e){return we(this,(function(t){switch(t.label){case 0:return k&&e?[4,F()]:[3,2];case 1:t.sent(),v({phone:e,afterCallSideEffectCallback:function(){R(k,"transfer")}}),t.label=2;case 2:return[2]}}))})),function(e){return g.apply(this,arguments)}),[k,F,v,R]);return(0,S.useMemo)((function(){return{consultCallHandler:$,blindTransferHandler:U,singleStepConferenceHandler:B}}),[U,$,B])}},73369:(e,t,n)=>{"use strict";n.r(t),n.d(t,{canHaveDisposition:()=>H,digitizePhone:()=>_,filterAgentNotMonitorChatParties:()=>S,filterSelfAndServiceChatParties:()=>b,findPartyById:()=>C,getAllChatParties:()=>y,getAssociatedCallItem:()=>Xe,getAssociatedChatItem:()=>Je,getAssociatedChatServiceId:()=>j,getAssociatedItems:()=>Qe,getChannel:()=>k,getChatParties:()=>v,getConsultCall:()=>w,getConsultCallId:()=>O,getContactId:()=>We,getDefaultTransferMode:()=>Ze,getDisplayName:()=>ze,getFirstAndLastName:()=>Ye,getGlobalInteractionId:()=>E,getHasConsultCallsIds:()=>T,getHighestPriorityAssociatedItem:()=>s,getHighestPriorityMediaItem:()=>c,getInteractionId:()=>D,getInteractionStepId:()=>A,getIsCallEstablished:()=>qe,getItemDisposition:()=>F,getItemDispositionId:()=>$,getItemLastNote:()=>B,getItemNotes:()=>U,getItemsWithoutAssociated:()=>i,getMainItem:()=>He,getMediaIcon:()=>Be,getMessengers:()=>Ge,getNotifyingPartyName:()=>I,getPhoneFromItem:()=>R,getPhoneParties:()=>h,getPrimaryMediaType:()=>u,getProposedContacts:()=>g,getServiceId:()=>N,getServiceName:()=>L,getServiceNameFromItem:()=>x,getTypingParties:()=>K,getUserId:()=>Ve,getWorkItemId:()=>P,hasConsultCalls:()=>be,hasFetchedContact:()=>q,hasMultiplyPhones:()=>ce,isAfterCallWork:()=>ge,isCall:()=>le,isCallConference:()=>he,isCallParty:()=>we,isCallWithoutCallId:()=>de,isChat:()=>re,isChatConference:()=>ve,isChatService:()=>M,isConsultCall:()=>ye,isContact:()=>se,isDelivered:()=>Se,isDeliveryPending:()=>Ce,isDeprecatedInternalChat:()=>Q,isDispositionRequired:()=>G,isEmail:()=>oe,isExternalCall:()=>_e,isExternalChat:()=>Z,isExternalContactCall:()=>fe,isFlagged:()=>me,isGroupChat:()=>z,isInboundInteraction:()=>xe,isInternalCall:()=>pe,isInternalChat:()=>J,isInternalInteraction:()=>ue,isInternalMessage:()=>X,isItemAccepted:()=>nt,isItemPostDeliveryPending:()=>tt,isNeedToShowWorkitemUI:()=>rt,isOnHold:()=>Ie,isOutboundInteraction:()=>Le,isPotentialGroupChat:()=>Y,isPotentialInteraction:()=>V,isPotentialInternalInteraction:()=>W,isQualityManagementItem:()=>ee,isQualityManagementItemInMonitorMode:()=>te,isQualityManagementItemInWhisperMode:()=>ne,isRecentCall:()=>ke,isRecentCallConference:()=>Ee,isRecentChat:()=>De,isRecentDeprecatedInternalChat:()=>Ae,isRecentEmail:()=>Ne,isRecentExtChatConference:()=>Oe,isRecentExternalChat:()=>Re,isRecentGroupChat:()=>Te,isRecentInternalChat:()=>Pe,isRecentWorkitem:()=>Me,isScenarioMessage:()=>je,isScenarioParty:()=>$e,isWorkInProgressItem:()=>et,isWorkItem:()=>ae,isWorkitemCall:()=>ie,mediaTypeToIcon:()=>Ue,showMergeButton:()=>Fe,showTransferButton:()=>Ke});var r=n(2122),a=["email","agent_chat","chat","voice"],o=a[0];function i(e){var t=u(e);return e.filter((function(n){return!l(n,e)||n.mediaType===t}))}function s(e,t){if(l(e,t)){var n=u(t);return t.find((function(t){var r;return t.mediaType===n&&(null===(r=e.associatedItemIds)||void 0===r?void 0:r.some((function(e){return e===t.id})))}))}}function c(e){if(e.length>(0,r.uniqBy)(e,"mediaType").length)throw new Error("All items should have different media types");var t=u(e);return e.find((function(e){return e.mediaType===t}))}function u(e){return e.reduce((function(e,t){var n,r=null!==(n=t.mediaType)&&void 0!==n?n:o,i=a.indexOf(r);return a.indexOf(e)>i?e:r}),o)}function l(e,t){return!!function(e,t){if(!e)return[];var n,a=null!==(n=e.associatedItemIds)&&void 0!==n?n:[];return(0,r.intersectionBy)(t,a,(function(e){return function(e){return"string"!=typeof e}(e)?e.id:e}))}(e,t).length}var d={1:1,2:2,a:2,b:2,c:2,3:3,d:3,e:3,f:3,4:4,g:4,h:4,i:4,5:5,j:5,k:5,l:5,6:6,m:6,n:6,o:6,7:7,p:7,q:7,r:7,s:7,8:8,t:8,u:8,v:8,9:9,w:9,x:9,y:9,z:9,0:0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Array.from(e.toLowerCase()).map((function(e){return d[e]||e})).filter((function(e){return e})).join("")},f=n(27385);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t;return null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.proposedContacts}function h(e){var t;return null==e||null===(t=e.parties)||void 0===t?void 0:t.filter((function(e){return"bridge"!==e.role}))}function v(e){return b(null==e?void 0:e.chatParties)}function y(e){return b(null==e?void 0:e.allChatParties)}function b(e){return null==e?void 0:e.filter((function(e){var t=e.item_id===e.party_id,n="internal"===e.type,r="external"===e.type,a="connected"===e.status;return!t&&(n&&a||r)}))}function S(e){return null==e?void 0:e.filter((function(e){var t="internal"===e.type,n="1"===e.is_qm&&"participate"!==e.qm_mode;return t&&!n}))}function C(e,t){return null==e?void 0:e.find((function(e){return e.party_id===t}))}function I(e){return null==e?void 0:e.find((function(e){return!(e.item_id===e.party_id)&&"notifying"===e.status}))}function w(e){var t,n;return e.forEach((function(e){le(e)&&("hold"===e.state&&e.displayData.holdStartTime&&(!n||e.displayData.holdStartTime>n)&&(n=e.displayData.holdStartTime,t=e.id),"delivered"!==e.state&&"delivery_pending"!==e.state||(t=e.id))})),t}function E(e){var t,n;return ae(e)?null==e||null===(t=e.workitemData)||void 0===t?void 0:t.globalInteractionId:null==e||null===(n=e.scenarioData)||void 0===n?void 0:n.globalInteractionId}function O(e){return null==e?void 0:e.displayData.isConsultCall}function T(e){return null==e?void 0:e.displayData.hasConsultCalls}function D(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""}function A(e){var t;return(ae(e)?null==e?void 0:e.id:null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId)||""}function P(e){var t,n,r;return null!==(r=null!==(n=null==e||null===(t=e.workitemData)||void 0===t?void 0:t.id)&&void 0!==n?n:null==e?void 0:e.workitemId)&&void 0!==r?r:""}function R(e){var t;return null==e||null===(t=e.displayData)||void 0===t?void 0:t.number}function k(e){var t;if(e)return null===(t=e.scenarioData)||void 0===t?void 0:t.channel}function N(e){return e&&(ae(e)?(0,r.get)(e,"workitemData.serviceId"):(0,r.get)(e,"scenarioData.serviceId"))}function M(e,t){var n;return e&&"CHAT"===(null===(n=t[e])||void 0===n?void 0:n.type)}function j(e,t){var n="string"==typeof t?t:N(t);return n?(0,r.get)(e[n],"chatServiceId",""):""}function x(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",o=ae(e)?null==e||null===(n=e.workitemData)||void 0===n?void 0:n.serviceName:null==e||null===(r=e.scenarioData)||void 0===r?void 0:r.serviceName;return t?"".concat(t).concat(a).concat(o):o}function L(e,t,n){if(n){var a=j(e,t);return a?(0,r.get)(e[a],"name",""):""}var o;return(o="string"==typeof t?t:N(t))?(0,r.get)(e[o],"name",""):""}var K=function(e){if(e&&e.parties&&e.typingParties){var t=e.typingParties;return e.parties.filter((function(e){var n=e.party_id;return t[n]}))}return[]};function F(e){var t;return(null==e||null===(t=e.dispositionData)||void 0===t?void 0:t.disposition)||void 0}function $(e){var t,n;return(null==e||null===(n=e.dispositionData)||void 0===n||null===(t=n.disposition)||void 0===t?void 0:t.id)||void 0}function U(e){var t;return(null==e||null===(t=e.dispositionData)||void 0===t?void 0:t.notes)||[]}function B(e){var t,n,r=null!==(n=null==e||null===(t=e.dispositionData)||void 0===t?void 0:t.notes)&&void 0!==n?n:[];return r[r.length-1]}function q(e,t){return!!e&&!!t&&!!e.fetchedContacts&&t in e.fetchedContacts}function G(e,t){var n,r,a=N(e);return!!a&&(null===(n=t[a])||void 0===n?void 0:n.useDispositions)&&(null===(r=t[a])||void 0===r?void 0:r.requireDispositions)}function H(e,t){var n;if(ee(e))return!1;var r=N(e);return!!r&&(null===(n=t[r])||void 0===n?void 0:n.useDispositions)}function V(e){return!!e&&"potential"===e.itemKind}function W(e){return V(e)&&!(!e.groupChatId&&!e.userId)}function z(e){return!!(null==e?void 0:e.groupChatId)&&!e.userId}function Y(e){return V(e)&&!!e.groupChatMembers&&!e.userId&&!e.groupChatId}function Q(e){return!(!e||"agent_chat"!==e.mediaType&&!e.internalChatData)}function J(e){return!!e&&"internalChat"===e.itemKind}function X(e){return!!e&&"internalMessage"===e.itemKind}function Z(e){return!!e&&"chat"===e.mediaType}function ee(e){var t;return!!(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.isQm)}function te(e){var t;return ee(e)&&"monitor"===(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.qmMonitorMode)}function ne(e){var t;return ee(e)&&"whisper"===(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.qmMonitorMode)}function re(e){return Q(e)||Z(e)}function ae(e){return!!e&&"workitem"===e.mediaType}function oe(e){return!!e&&"email"===e.mediaType&&!!e.emailData}function ie(e){return!!e&&"voice"===e.mediaType&&!!e.workitemId}function se(e){return!!e&&!!e.contactId}function ce(e){return(0,r.get)(e,"displayData.phones.length",0)>1}function ue(e){return!!e&&!!e.userId}function le(e){return!!e&&"voice"===e.mediaType}function de(e){var t;return le(e)&&!(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.callId)}function _e(e){return le(e)&&!(null==e?void 0:e.userId)}function fe(e){return le(e)&&!!(null==e?void 0:e.contactId)}function pe(e){return le(e)&&!!(null==e?void 0:e.userId)}function me(e){return!!e&&!!(0,r.get)(e,"displayData.isFlagged")}function ge(e){return!!e&&("wrap_up"===e.state||"wrap_up_hold"===e.state)}function he(e){if(!e)return!1;var t=e.parties;return!!t&&(te(e)||ne(e)?t.length>2:t.length>1)}function ve(e){if(!e)return!1;var t=S(null==e?void 0:e.chatParties);return!!t&&(!!t&&t.length>1)}function ye(e){return!!e&&!!e.displayData.isConsultCall}function be(e){var t;return!!e&&!!(null===(t=e.displayData.hasConsultCalls)||void 0===t?void 0:t.length)}function Se(e){return!!e&&"delivered"===e.state}function Ce(e){return!!e&&"delivery_pending"===e.state}function Ie(e){return!!e&&"hold"===e.state}function we(e){return!!e.id}function Ee(e){return"VOICE"===e.media&&"conference"===e.type}function Oe(e){return"CHAT"===e.media&&"conference"===e.type}function Te(e){var t,n;return"CHAT"===e.media&&(null!==(n=null===(t=e.groupChatData)||void 0===t?void 0:t.members)&&void 0!==n?n:[]).length>2}function De(e){return"CHAT"===e.media}function Ae(e){return"chat"===e.type&&!(null==e?void 0:e.groupChatData)}function Pe(e){var t;return"chat"===e.type&&void 0!==(null==e||null===(t=e.groupChatData)||void 0===t?void 0:t.chatId)&&2===e.groupChatData.members.length}function Re(e){return"extChat"===e.type}function ke(e){return"VOICE"===e.media||"call"===e.type}function Ne(e){return"EMAIL"===e.media||"email"===e.type}function Me(e){return"WORKITEM"===e.media||"workitem"===e.type}function je(e){return"scenario"===e||"navigation"===e||"invite"===e||"error"===e}function xe(e){return!!e&&"inbound"===e.direction}function Le(e){return!!e&&"outbound"===e.direction}function Ke(e){return!he(e)&&ye(e)}function Fe(e){return!he(e)&&(ye(e)||be(e))}function $e(e){return"scenario"===(null==e?void 0:e.type)||"conference_peer"===(null==e?void 0:e.type)&&"scenario"===e.peer_type}function Ue(e){switch(e){case"voice":return"call";case"chat":return"chat";case"email":return"email"}}function Be(e){return ge(e)?"acw":V(e)?"potential":he(e)?"call-conference":ve(e)?"chat-conference":ae(e)?"preview":Z(e)||J(e)?"chat":le(e)?Le(e)?"call_outbound":"call":oe(e)?"email":void 0}function qe(e){var t,n;return"established"===(null==e||null===(t=e.callData)||void 0===t?void 0:t.callState)||"held"===(null==e||null===(n=e.callData)||void 0===n?void 0:n.callState)}function Ge(e,t){var n,r,a;return null===(r=e[null!==(a=null==t?void 0:t.contactId)&&void 0!==a?a:""])||void 0===r||null===(n=r.data)||void 0===n?void 0:n.messengers}function He(e,t){if(t)return ye(t)?e.find((function(e){return e.id===(0,r.get)(t,"displayData.isConsultCall")})):t}function Ve(e){var t;return null!==(t=null==e?void 0:e.userId)&&void 0!==t?t:""}function We(e){var t;return null!==(t=null==e?void 0:e.contactId)&&void 0!==t?t:""}function ze(e){return null==e?void 0:e.displayData.displayName}function Ye(e,t){var n,r,a,o;if(!e)return{firstName:void 0,lastName:void 0};var i=e.displayData||{},s=i.firstName,c=i.lastName,u=i.displayName,l=void 0===u?"":u,d=i.contactName,_=void 0===d?"":d,p=m((0,f.getNamesFromDisplayName)(t,_||l),2),g=p[0],h=p[1],v=null===(n=e.externalChatData)||void 0===n?void 0:n.firstName,y=null===(r=e.externalChatData)||void 0===r?void 0:r.lastName,b=null===(a=e.emailData)||void 0===a?void 0:a.reporterFirstName,S=null===(o=e.emailData)||void 0===o?void 0:o.reporterLastName;return{firstName:g||s||v||b,lastName:h||c||y||S}}function Qe(e){var t,n=e.item,r=e.items,a=null!==(t=null==n?void 0:n.associatedItemIds)&&void 0!==t?t:[];return a.length?r.filter((function(e){return a.some((function(t){return t===e.id}))})):[]}function Je(e){var t,n=e.item,r=e.items;if(Z(n)||J(n))return n;var a=null!==(t=null==n?void 0:n.associatedItemIds)&&void 0!==t?t:[],o=a.length?r.find((function(e){return a.some((function(t){return t===e.id}))&&(Z(e)||J(e))})):void 0;return null!=o?o:n}function Xe(e){var t,n=e.item,r=e.items;if(le(n))return n;var a=null!==(t=null==n?void 0:n.associatedItemIds)&&void 0!==t?t:[],o=a.length?r.find((function(e){return a.some((function(t){return t===e.id}))&&le(e)})):void 0;return null!=o?o:n}function Ze(e){return fe(e)&&!ge(e)?"calls":void 0}function et(e){return"delivered"===e.state||"hold"===e.state||"wrap_up"===e.state||"wrap_up_hold"===e.state}function tt(e){return e&&et(e)&&"completed"===e.state}function nt(e){return!!e&&(!!J(e)||(!!e.voiceCallAccepted||(!(!ae(e)||!tt(e))||!(!le(e)&&!Z(e))&&(!xe(e)||tt(e)))))}function rt(e){var t=ae(e),n=le(e)&&!!(null==e?void 0:e.workitemData)&&("wrap_up"===(null==e?void 0:e.state)||"wrap_up_hold"===(null==e?void 0:e.state));return t||n}},61849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FlagMode:()=>r,getInitialInteractionState:()=>a,interactionStateControlEvents:()=>s,interactionStateTrackerEvents:()=>i,isCurrentChatTranscriptMessage:()=>_,isHTMLSuggestion:()=>d,isLinkSuggestion:()=>l,isSuggestion:()=>u,itemKinds:()=>c,outgoingInteractionOriginations:()=>f});var r,a=function(){return{items:[],modalItemIds:[],callPickupNotifications:[],missedCallsAmount:0,isLoaded:!1,agentWelcomeReceived:!1,activeItemId:void 0}},o=n(64245),i={onInteractionItemsRestored:(0,o.event)(),onAssociatedItemTransferred:(0,o.event)(),onAutoRejectIncomingEmail:(0,o.event)(),onBeforeItemComplete:(0,o.event)(),onCallDisconnected:(0,o.event)(),onCallHeld:(0,o.event)(),onCallMissed:(0,o.event)(),onCallMuted:(0,o.event)(),onCallRecordingStarted:(0,o.event)(),onCallRecordingStopped:(0,o.event)(),onCallResumed:(0,o.event)(),onCallUnMuted:(0,o.event)(),onChange:(0,o.event)(),onChatPartyConnected:(0,o.event)(),onDelegatedRASessionStart:(0,o.event)(),onDidActivateAudioSessioniOS:(0,o.event)(),onDidDeactivateAudioSessioniOS:(0,o.event)(),onDispositionRescheduleUpdated:(0,o.event)(),onExternalChatDisconnected:(0,o.event)(),onInitialState:(0,o.event)(),onItemAccepted:(0,o.event)(),onActivateItemAttempt:(0,o.event)(),onActiveItemChanged:(0,o.event)(),onItemChanged:(0,o.event)(),onItemCompleted:(0,o.event)(),onItemDelivered:(0,o.event)(),onItemFlagged:(0,o.event)(),onItemRemoved:(0,o.event)(),onItemUnflagged:(0,o.event)(),onItemWrapUpStateEntered:(0,o.event)(),onNewItem:(0,o.event)(),onNewItemDelivered:(0,o.event)(),onNoteUpdated:(0,o.event)(),onPasteFromKB:(0,o.event)(),onRtcCallDrop:(0,o.event)(),onRtcCallMake:(0,o.event)(),onShouldResetRtc:(0,o.event)(),onTriggerScreenPop:(0,o.event)(),onWorkitemLinkedWithContact:(0,o.event)()},s={acceptCallPickup:(0,o.event)(),acceptItem:(0,o.event)(),postponeEmail:(0,o.event)(),replyToEmail:(0,o.event)(),activateItem:(0,o.event)(),addAssociatedObject:(0,o.event)(),addNote:(0,o.event)(),agentChatClose:(0,o.event)(),agentChatOpen:(0,o.event)(),blindTransfer:(0,o.event)(),cancelCallReservation:(0,o.event)(),clearRemovedAssociatedItem:(0,o.event)(),closeInternalChat:(0,o.event)(),completeCallConference:(0,o.event)(),completeEmiInteractions:(0,o.event)(),completeItem:(0,o.event)(),completeTransfer:(0,o.event)(),completeTransferExplicit:(0,o.event)(),createPotentialItem:(0,o.asyncEvent)(),createRtcCall:(0,o.event)(),delegateRASessionStart:(0,o.event)(),destroyCallConference:(0,o.event)(),dialWorkitem:(0,o.asyncEvent)(),didActivateAudioSessioniOS:(0,o.event)(),didDeactivateAudioSessioniOS:(0,o.event)(),disconnectItem:(0,o.event)(),dispatchDispositionData:(0,o.event)(),fetchFormDefinition:(0,o.asyncEvent)(),flagItem:(0,o.event)(),getScenarioVariables:(0,o.asyncEvent)(),holdItem:(0,o.event)(),initiateCall:(0,o.asyncEvent)(),initiateChat:(0,o.asyncEvent)(),mergeAllCallsIntoConference:(0,o.event)(),muteCallRecording:(0,o.event)(),muteItem:(0,o.event)(),onAgentCallPickupCancel:(0,o.event)(),onAgentCallPickupNotify:(0,o.event)(),onNotificationData:(0,o.event)(),openInternalChat:(0,o.asyncEvent)(),pasteFromKB:(0,o.event)(),qmStartCall:(0,o.event)(),recordCall:(0,o.event)(),rejectCallPickup:(0,o.event)(),rejectItem:(0,o.event)(),removeCallParty:(0,o.event)(),replaceNote:(0,o.event)(),reportProblemItem:(0,o.event)(),reserveCall:(0,o.asyncEvent)(),resetMissedCalls:(0,o.event)(),resumeItem:(0,o.event)(),changeEmailService:(0,o.event)(),sendEmailDraft:(0,o.event)(),saveEmailDraft:(0,o.event)(),saveOpenedSuggestionUrl:(0,o.event)(),saveSuggestion:(0,o.event)(),selectAssociatedObject:(0,o.event)(),sendAgentNotificationResult:(0,o.event)(),sendCustomFields:(0,o.event)(),sendDtmf:(0,o.event)(),sendRtcCallReset:(0,o.event)(),sendScreenPopData:(0,o.event)(),setActiveCrmScreen:(0,o.event)(),setDisposition:(0,o.event)(),setDispositionReschedule:(0,o.event)(),setDispositionScheduledEvent:(0,o.event)(),setFormPageId:(0,o.event)(),setFormValues:(0,o.event)(),setGroupChat:(0,o.event)(),setNotes:(0,o.event)(),setScenarioVariables:(0,o.event)(),setScenarioVariablesBeforeComplete:(0,o.event)(),singleStepConference:(0,o.asyncEvent)(),stopRecordingCall:(0,o.event)(),toggleAssociatedActivityRecord:(0,o.event)(),unmuteCallRecording:(0,o.event)(),unmuteItem:(0,o.event)(),updateNote:(0,o.event)(),updateScreenPopData:(0,o.event)(),useContact:(0,o.event)()},c=["failed","preScenarioCall","preScenarioChat","scenario","internalChat","internalMessage","potential"];function u(e){return"suggestion"===e.type}function l(e){return"suggestion"===e.type&&!!e.suggestionURL}function d(e){return"suggestion"===e.type&&"HTML"===e.format&&!e.suggestionURL}function _(e){return"chatMessage"===e.type}!function(e){e.flag="1",e.unflag="0"}(r||(r={}));var f=["dialpad","dialpad-search","directory","recent","favorites","workitem","interaction","contact-profile","help","conference","auto","integration-api","chat-center","topbar"]},90024:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InteractionStateImpl:()=>Ye});var r=n(63830),a=n.n(r),o=n(2122),i=n(37346),s=n(3211),c=n(33976),u=n(27385),l=n(34075),d=n(52388),_=n(26220),f=n(5518),p=n(22631),m=n(18189),g=n(5632),h=n(40381),v=n(50712),y=n(50944),b=n(26552),S=n(68939);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w={type:"type",action:"action",URL:"url",content:"content",label:"label",popUponAnswer:["popUponAnswer",y.transportToBoolean],keepPopupOpenAfterFinish:["keepPopupOpenAfterFinish",y.transportToBoolean],popup:["popup",y.transportToBoolean],secondaryUrls:"secondaryUrls"},E={type:"type",action:"action",object_id:"objectId",object_type:"objectType",statement:"statement",popUponAnswer:["popUponAnswer",y.transportToBoolean],newTab:["newTab",y.transportToBoolean],fields:"fields",filters:"filters"},O={type:"type",action:"action",pin:"pin",baseUrl:"baseUrl",session_id:"sessionId",popUponAnswer:["popUponAnswer",y.transportToBoolean]};function T(e){return e?(0,y.convertIncomingObject)(e,w):e}var D={type:"type",action:"action",url:"URL",content:"content",label:"label",popUponAnswer:["popUponAnswer",y.booleanToTransport],keepPopupOpenAfterFinish:["keepPopupOpenAfterFinish",y.booleanToTransport],popup:["popup",y.booleanToTransport],secondaryUrls:"secondaryUrls"},A={type:"type",action:"action",objectId:"object_id",objectType:"object_type",statement:"statement",popUponAnswer:["popUponAnswer",y.booleanToTransport],newTab:["newTab",y.booleanToTransport],fields:"fields",filters:"filters"},P={type:"type",action:"action",pin:"pin",baseUrl:"baseUrl",sessionId:"session_id",popUponAnswer:["popUponAnswer",y.booleanToTransport]};function R(e,t,n){var r={};Object.keys(e).forEach((function(t){var n=t;"web"===n?r[n]=(0,y.convertIncomingObject)(e[n],D):(0,b.array)(m.crmTypes).includes(n)?r[n]=(0,y.convertIncomingObject)(e[n],A):r[n]="nativeremoteassist"===n?(0,y.convertIncomingObject)(e[n],P):e[n]})),t&&t.list.length&&(r.associatedObjects={list:t.list.reduce((function(e,t,n){return e[n]=t,e}),{}),selected:t.selected.reduce((function(e,t,n){return e[n]=t,e}),{}),primary:t.primary.reduce((function(e,t,n){return e[n]=t,e}),{})});var a=n||e.screenData;a&&(r.screenData=a,Object.keys(a).forEach((function(e){-1!==m.crmTypes.indexOf(e)&&a[e].recordId&&a[e].recordType&&(r[e]={type:e,action:"SHOW_OBJECT",object_id:a[e].recordId,object_type:a[e].recordType,popUponAnswer:"0",statement:""})})));return r}function k(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]={value:"string"==typeof r?r:JSON.stringify(r)},t}),{}):{}}function N(e){if(e)return Object.entries(e||{}).reduce((function(e,t){var n=I(t,2),r=n[0],a=n[1],o=r,i=function(){try{return JSON.parse(a.value)}catch(e){return a.value}}();return e[o]=i,e}),{})}function M(e){if(a=e.source,(0,b.array)(m.crmTypes).includes(a))return t={},n=e.source,r={type:e.source,action:"SHOW_OBJECT",object_type:e.type,object_id:e.id,statement:"",popUponAnswer:!1},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r,a}function j(e,t){var n,r=Date.now(),a=Number(null!==(n=e.delivered_duration)&&void 0!==n?n:0),o=(null==t?void 0:t.displayData.itemStartTime)||r-(0,h.secondsToMilliseconds)(a),i=function(){var n=null==t?void 0:t.displayData.pendingStartTime;return n||("delivery_pending"===e.state?r:void 0)}(),s=function(){var n=null==t?void 0:t.displayData.deliveredStartTime;return n||("delivered"===e.state?r-(0,h.secondsToMilliseconds)(a):void 0)}(),c=function(){var n=null==t?void 0:t.displayData.acwStartTime;return n||("wrap_up"===e.state?r:void 0)}(),u=function(){var n,a=null==t?void 0:t.displayData.holdStartTime;if("hold"!==e.state&&"hold"===(null==t||null===(n=t.scenarioData)||void 0===n?void 0:n.state))return;return a||("hold"===e.state?r:void 0)}(),l=function(){var n;if(e.state===(null==t?void 0:t.state))return null!==(n=null==t?void 0:t.displayData.stateStartTime)&&void 0!==n?n:o;if("delivered"===e.state)return r-(0,h.secondsToMilliseconds)(a);return r}(),d=function(){var t=e.total_queue_time;if(t&&"0"!==t)return r-Number(t)}();return{itemStartTime:o,stateStartTime:l,pendingStartTime:i,deliveredStartTime:s,queueStartTime:d,acwStartTime:c,holdStartTime:u,deliveredDuration:a}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function K(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var F={first_name:"firstName",last_name:"lastName",email:"email",channel:"channel",contact_id:"contactId",mobile_launch_point_id:"mobileLaunchPointId",requires_call_to_number:"requiresCallToNumber",messenger_user_id:"messengerUserId",subject:"subject",message:["messageId",function(e){return null==e?void 0:e.msg_id}],directChat:"directChat"},$={active_drafts:["activeDrafts",function(e){return void 0===e?void 0:(0,y.convertKVArray)(e,(function(e){return(0,y.convertIncomingObject)(e,U)}))}],case_id:"caseId",case_number:["caseNumber",Number],case_title:"caseTitle",from_address:"fromAddress",from_name:"fromName",queue_item_id:"queueItemId",queue_type:"queueType",reporter_first_name:"reporterFirstName",reporter_last_name:"reporterLastName",reporter_id:"reporterId",salesforce_case_id:"salesforceCaseId",to_address:"toAddress"},U={email_id:"emailId",referenced_email_id:"referencedEmailId",service_id:"serviceId",thread_id:"threadId"},B={item_id:"interactionStepId",global_interaction_id:"globalInteractionId",workitem_id:"workitemId",call_id:"callId",contact_id:"contactId",state:"state",interaction_type:"interactionType",bpo_client_id:"bpoClientId",media_type:"mediaType",direction:"direction",service_id:"serviceId",service_name:"serviceName",total_queue_time:"totalQueueTime",is_did:["isDID",y.transportToBoolean],is_flagged:["isFlagged",y.transportToBoolean],is_qm:["isQm",y.transportToBoolean],qm_monitor_mode:"qmMonitorMode",qm_monitored_item_id:"qmMonitoredItemId",screenpop_form_enabled:["screenpopFormEnabled",y.transportToBoolean],voice_signature_enabled:["voiceSignatureEnabled",y.transportToBoolean],channel:"channel",proposed_contacts:["proposedContacts",function(e){return void 0===e?void 0:(0,y.convertKVArray)(e,(function(e){return(0,y.convertIncomingObject)(e,H)}))}],previous_item_id:"previousItemId",attached_data:"attachedData"},q={caller_contact_id:"contactId",caller_first_name:"firstName",caller_last_name:"lastName",caller_name:"name",caller_number:"phoneNumber",caller_user_id:"userId"},G={id:"id",type:"type",phone:"phone"},H={"Contact.id":"id","Contact.type":"type","Contact.first_name":"firstName","Contact.last_name":"lastName","Contact.phones":["phones",function(e){return void 0===e?void 0:(0,y.convertKVArray)(e,(function(e){return(0,y.convertIncomingObject)(e,G)}))}]};function V(e,t,n){var r,a,o,i,s,c,u,l,d,_,f,p,g,h,v,C=(null==t?void 0:t.id)||(0,S.uuid)(),I=function(e,t){return(null==t?void 0:t.callData)?t.callData.callId||!e.call_id?t.callData:K(L({},t.callData),{callId:e.call_id}):"voice"===e.media_type?{callId:e.call_id}:void 0}(e,t),w=(0,y.convertIncomingObject)(e,B),D=(null==t?void 0:t.dispositionData)||{disposition:{id:"",name:"Not Selected"}},A=e.external_chat_data?(0,y.convertIncomingObject)(e.external_chat_data,F):void 0,P=e.application_data.email_data?(0,y.convertIncomingObject)(e.application_data.email_data,$):void 0,R=function(e,t){if("chat"===e.media_type){var n=e.external_chat_data||{},r=e.application_data.email_data,a=null!=r?r:{},o=a.reporter_first_name,i=a.reporter_last_name,s=a.from_address,c=n.channel,u=n.first_name||o,l=n.last_name||i,d=n.email||s,_="sms"===c?n.phone:"web"===c?n.phone_number:void 0;return{firstName:u,lastName:l,displayName:W({firstName:u,lastName:l,displayNameFormat:t}),email:d,number:_}}return{displayName:""}}(e,n),k=(null==t||null===(r=t.displayData)||void 0===r?void 0:r.displayName)||R.displayName||"",M=(null==t||null===(a=t.displayData)||void 0===a?void 0:a.email)||R.email,x=(null==t?void 0:t.displayData.number)||R.number,U=(null==t?void 0:t.displayData.firstName)||R.firstName,G=(null==t?void 0:t.displayData.lastName)||R.lastName,H=j(e,t),V=function(e){var t={};return e.screenpop_data&&Object.keys(e.screenpop_data).forEach((function(n){var r=n;"web"===r?t[r]=T(e.screenpop_data[r]):-1!==(0,b.array)(m.crmTypes).indexOf(r)?t[r]=(0,y.convertIncomingObject)(e.screenpop_data[r],E):t[r]="nativeremoteassist"===r?(0,y.convertIncomingObject)(e.screenpop_data[r],O):e.screenpop_data[r]})),t}(e),z=(0,y.transportToBoolean)(e.qm_is_recording),Y=!!e.qm_is_recording_muted&&Boolean(Number(e.qm_is_recording_muted)),Q=(0,y.transportToBoolean)(e.is_flagged),J=(null==t?void 0:t.allParties)||[],X=(null==t?void 0:t.allChatParties)||[],Z=(null==t?void 0:t.chatParties)||[],ee=null==t?void 0:t.isOrWasConference,te=e.qm_recording_playback_url,ne=(null==t?void 0:t.associatedObjects)||((g=null===(o=e.screenpop_data)||void 0===o?void 0:o.associatedObjects)?{list:(0,y.convertKVArray)(g.list,(function(e){return e})),selected:(0,y.convertKVArray)(null!==(h=g.selected)&&void 0!==h?h:{},(function(e){return e})),primary:(0,y.convertKVArray)(null!==(v=g.primary)&&void 0!==v?v:{},(function(e){return e})),touched:!0}:{list:[],selected:[],touched:!1,primary:[]}),re=null==t?void 0:t.activeCrmScreen,ae=(null==t?void 0:t.displayData.holdChanging)&&(null==t?void 0:t.displayData.holdStartTime)!==H.holdStartTime,oe=(null==t?void 0:t.displayData.recordingChanging)&&(null==t?void 0:t.displayData.isRecording)!==z,ie=(null==t?void 0:t.displayData.mutedChanging)&&(null==t||null===(i=t.callData)||void 0===i?void 0:i.muted)!==(null==I?void 0:I.muted),se=K(L(K(L({},(null==t?void 0:t.displayData)||{}),{firstName:U,lastName:G,displayName:k,number:x,email:M}),H),{isRecording:z,isRecordingMuted:Y,isFlagged:Q,holdChanging:ae,recordingChanging:oe,mutedChanging:ie}),ce=e.auto_answer_timeout,ue=e.hunt_group_id,le=e.hunt_group_name,de=null==t?void 0:t.notificationData,_e=null==t?void 0:t.userId,fe=(null==t?void 0:t.contactId)||(null==A?void 0:A.contactId)||(null==P?void 0:P.reporterId);e.mobile_notification_data&&!de&&(de=(0,y.convertIncomingObject)(e.mobile_notification_data,q),"voice"===w.mediaType&&de&&(_e=de.userId,fe=de.contactId,se.displayName=de.name,se.callerName=de.name,se.number=de.phoneNumber,se.firstName=de.firstName,se.lastName=de.lastName),"chat"===w.mediaType&&(se.displayName=null==de?void 0:de.name,(null==de?void 0:de.phoneNumber)&&"Anonymous"!==de.phoneNumber&&(se.number=de.phoneNumber)));var pe={formData:(null==t||null===(s=t.details)||void 0===s?void 0:s.formData)||{values:N(null===(u=e.screenpop_data)||void 0===u||null===(c=u.msg)||void 0===c?void 0:c.values),variables:(null===(d=e.screenpop_data)||void 0===d||null===(l=d.msg)||void 0===l?void 0:l.variables)||{},shownPageIndex:(null===(f=e.screenpop_data)||void 0===f||null===(_=f.msg)||void 0===_?void 0:_.shownPageIndex)||0},formDefinitions:null==t||null===(p=t.details)||void 0===p?void 0:p.formDefinitions};return{id:C,itemKind:"scenario",mediaType:w.mediaType,state:w.state,direction:w.direction,userId:_e,contactId:fe,displayData:se,notificationData:de,scenarioData:w,callData:I,externalChatData:A,emailData:P,dispositionData:D,screenPopData:V,autoAnswerTimeout:ce?+ce:null==t?void 0:t.autoAnswerTimeout,allParties:J,chatParties:Z,allChatParties:X,isOrWasConference:ee,playbackUrl:te,associatedObjects:ne,activeCrmScreen:re,workitemId:null==e?void 0:e.workitem_id,huntGroupId:ue,huntGroupName:le,openedBotSuggestionsUrls:null==t?void 0:t.openedBotSuggestionsUrls,workitemData:null==t?void 0:t.workitemData,details:pe}}function W(e){var t=e.firstName,n=e.lastName,r=e.displayNameFormat;return t&&n?(0,u.formatFullName)(r,t,n):t||n||""}var z={request_id:"requestId",reply_to:"replyTo",leg_id:"legId",group_name:"groupName",dest_phone:"destPhone",dest_firstname:"destFirstname",dest_lastname:"destLastname",service_name:"serviceName",play_alert_sound:["playAlertSound",y.transportToBoolean],show_original_recipient:["showOriginalRecipient",y.transportToBoolean],is_conference:["isConference",y.transportToBoolean],caller_number:"callerNumber",caller_name:"callerName",caller_firstname:"callerFirstname",caller_lastname:"callerLastname",caller_contact_id:"callerContactId",caller_user_id:"callerUserId"};function Y(e){return(0,y.convertIncomingObject)(e,z)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function X(e){return e}function Z(e){return{date:e.date,disposition:e.disposition,dispositionName:e.disposition_name,notes:e.notes,phone:e.phone,userId:e.user_id,userName:e.user_name}}function ee(e){return Object.keys(e).map((function(t){return{name:t,value:e[t]}}))}function te(e){var t=e.workitem_data;return{id:e.workitem_id,scenario_engine_id:e.scenario_engine_id,data:{aniData:{proposedAni:t.ani_data.proposed_ani,state:t.ani_data.state},contactInfo:{firstName:t.contact_info.first_name,lastName:t.contact_info.last_name,addresses:(0,y.convertKVArray)(t.contact_info.addresses).map(X),fullInfo:ee(t.contact_info.full_info),otherInfo:ee(t.contact_info.other_info)},history:(0,y.convertKVArray)(t.history).map(Z),listId:t.list_id,listLinkId:t.list_link_id,listName:t.list_name,listRecordId:t.list_record_id,outAutoDial:(0,y.transportToBoolean)(t.out_auto_dial),outAutoDialDelay:Number(t.out_auto_dial_delay),suggestedPhone:t.suggested_phone,suggestedTz:t.suggested_tz}}}function ne(e){var t,n,r,a=e.incomingItem,o=e.workitem,i=e.oldItem,s=e.displayNameFormat,c=void 0===s?"0":s;return{id:a.item_id,contactId:a.contact_id,itemKind:"scenario",state:a.state,mediaType:a.media_type,screenPopData:{web:T(null===(t=a.screenpop_data)||void 0===t?void 0:t.web)},dispositionData:null==i?void 0:i.dispositionData,displayData:J({isFlagged:(0,y.transportToBoolean)(a.is_flagged),firstName:o?o.data.contactInfo.firstName:null==i?void 0:i.displayData.firstName,lastName:o?o.data.contactInfo.lastName:null==i?void 0:i.displayData.lastName,displayName:(null==o?void 0:o.data.contactInfo)?(0,u.formatFullName)(c,null==o?void 0:o.data.contactInfo.firstName,null==o?void 0:o.data.contactInfo.lastName):null!==(n=null==i?void 0:i.displayData.displayName)&&void 0!==n?n:""},j(a,i)),workitemData:o?J({id:a.workitem_id||o.id,scenario_engine_id:o.scenario_engine_id,serviceId:a.service_id,serviceName:a.service_name,globalInteractionId:a.global_interaction_id,screenpopFormEnabled:(0,y.transportToBoolean)(a.screenpop_form_enabled),totalQueueTime:null!==(r=a.total_queue_time)&&void 0!==r?r:"0",attachedData:a.attached_data},o.data):null==i?void 0:i.workitemData}}var re=n(20981),ae=n(16152);function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oe(e,t,n[t])}))}return e}function se(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ce(e){var t,n,r=e.item,a=e.party,i=e.sessionData,s=e.onContactFetched,c=e.onContactFetchError,l=(0,o.partial)(u.formatFullName,i.displayNameFormat),_=(0,d.isCallParty)(a)?a.contactId:a.contact_id,f=(0,d.isCallParty)(a)?a.userId:a.user_id,p=(0,d.isCallParty)(a)?a.name:"",m=(0,d.isCallParty)(a)?a.firstName:a.first_name,g=(0,d.isCallParty)(a)?a.lastName:a.last_name,h=ie({},r);return f?(t=a,(n=ie({},h)).userId=f,n.contactId=void 0,n.displayData=se(ie({},n.displayData),{firstName:m,lastName:g,callerName:l(m,g),displayName:l(m,g),number:t.phone}),h=n):_?h=function(e,t){h.contactId=_,h.userId=void 0;var n=l(m,g);h.displayData=se(ie({},h.displayData),{firstName:m||h.displayData.firstName,lastName:g||h.displayData.lastName,callerName:p||h.displayData.callerName,number:t.phone?t.phone:h.displayData.number,displayName:n||h.displayData.displayName}),!(0,d.hasFetchedContact)(e,_)&&s&&ue({itemId:e.id,contactId:_,sessionData:i,onContactFetched:s,onContactFetchError:c});return h}(h,a):f||_||(h=function(e,t){var n=ie({},e);n.contactId=void 0,n.userId=void 0,(0,d.isCallParty)(t)?n.displayData=se(ie({},n.displayData),{firstName:m||h.displayData.firstName,lastName:g||h.displayData.lastName,displayName:p||h.displayData.displayName,callerName:p||h.displayData.callerName,number:t.phone||h.displayData.number}):n.displayData=se(ie({},n.displayData),{firstName:n.displayData.firstName||void 0,lastName:n.displayData.lastName||void 0,displayName:n.displayData.displayName||p,callerName:n.displayData.callerName||p,number:n.displayData.number||t.phone});return n}(h,a)),(0,d.isCallParty)(a)||(h=function(e,t){var n=ie({},e);if("auto_answer_timeout"in t){var r=t.auto_answer_timeout?+t.auto_answer_timeout:void 0;n=se(ie({},n),{autoAnswerTimeout:r})}return n}(h,a)),h}function ue(e){var t=e.itemId,n=e.contactId,r=e.sessionData,a=e.onContactFetched,o=e.onContactFetchError;(0,s.fetchContact)({id:n},r.serverOrigin).then((function(e){a({itemId:t,contactId:n,data:e[0]})})).catch((function(e){null==o||o({itemId:t,contactId:n}),_.bpLogger.error((0,h.getErrorMessage)(e))}))}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){le(e,t,n[t])}))}return e}function _e(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function fe(e){var t=e.displayData&&de({},e.displayData);if(t)for(var n=0,r=["itemStartTime","stateStartTime","pendingStartTime","deliveredStartTime","acwStartTime"];n<r.length;n++){var a=r[n],o=t[a];o&&(t[a]=o)}return _e(de({},e),{displayData:t})}function pe(e,t){var n=t.filter((function(e){return!(0,d.isQualityManagementItem)(e)&&(!(0,d.isInternalChat)(e)&&(!e.voiceCallAccepted&&(!(!(0,d.isWorkItem)(e)||"delivery_pending"!==e.state)||(!(!(0,d.isCall)(e)||!r(e))||(!(!(0,d.isExternalChat)(e)||!r(e))||(!(!(0,d.isEmail)(e)||!r(e))||void 0))))))})).map((function(e){return e.id}));return n.join(",")===e.join(",")?e:n;function r(e){return e.scenarioData&&"inbound"===e.scenarioData.direction&&"delivery_pending"===e.scenarioData.state}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}function Ce(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ie(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?ge(e):t;var n}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}function Ee(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var a=be(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ie(this,n)}}var Te=_.bpLogger.withPrefix("@IS"),De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(s,e);var t,n,r,i=Oe(s);function s(){var e;return he(this,s),ye(ge(e=i.apply(this,arguments)),"pendingConferenceItemIds",[]),ye(ge(e),"initiatedItems",{}),ye(ge(e),"pendingAssociatedTransfers",new Map),ye(ge(e),"pendingUsedContacts",new Set),ye(ge(e),"addAssociatedItemIds",(function(t){if(!(0,d.isAfterCallWork)(t)){var n=function(t,n){var r=Se({},t),a=(null==r?void 0:r.associatedItemIds)||[];a.includes(n)||(r.associatedItemIds=Ee(a).concat([n]),e.updateItem(r))};e.stateData.items.forEach((function(e){var r=e.id!==t.id,a=function(e,n){var r,a,o;if((null===(r=e.workitemData)||void 0===r?void 0:r.id)&&(null===(a=e.workitemData)||void 0===a?void 0:a.id)===(null===(o=n.workitemData)||void 0===o?void 0:o.id))return!0;var i=t.contactId?"contactId":t.userId?"userId":void 0;return!!i&&e[i]===n[i]}(e,t),o=(0,d.isAfterCallWork)(e);r&&a&&!o&&(n(e,t.id),n(t,e.id))}))}})),ye(ge(e),"removeAssociatedIdFromItems",(function(t){e.stateData.items.forEach((function(n){var r;if(null===(r=n.associatedItemIds)||void 0===r?void 0:r.includes(t)){var a,o=Se({},n);o.associatedItemIds=null===(a=o.associatedItemIds)||void 0===a?void 0:a.filter((function(e){return e!==t})),e.updateItem(o)}}))})),ye(ge(e),"cleanAssociatedItems",(function(t){var n,r=null!==(n=null==t?void 0:t.associatedItemIds)&&void 0!==n?n:[];if(r.length){var a=function(t){var n=Se({},t);n.associatedItemIds=void 0,e.updateItem(n)};r.forEach((function(t){var n=e.findItem(t);n&&a(n)})),a(t)}})),ye(ge(e),"doAssociatedItemTransfer",(function(t){e.toClientDispatch.onAssociatedItemTransferred(t),queueMicrotask((function(){t.isConference||e.disconnectItem(t.associatedItemId)}))})),ye(ge(e),"createNewItem",(function(t){var n=t.itemKind,r=t.mediaType,a=t.init,o=t.activateItem,i=void 0===o||o,s=new Date,c={id:(0,S.uuid)(),itemKind:n,state:"unknown",mediaType:r,displayData:{displayName:"",number:"",itemStartTime:s.getTime(),stateStartTime:s.getTime()},dispositionData:{disposition:{id:"",name:"Not Selected"}}},u=a(c);return e.addNewInteractionItem(c),e.addAssociatedItemIds(c),i&&(e.toClientDispatch.onActivateItemAttempt(c),e.produceState((function(e){e.activeItemId=c.id})),e.toClientDispatch.onActiveItemChanged(c)),u})),ye(ge(e),"createCallItem",(function(t,n,r){return e.createNewItem({itemKind:"preScenarioCall",mediaType:"voice",init:function(e){return e.callData={callId:t},e.userId=r,n&&(e.scenarioData={interactionStepId:n,mediaType:e.mediaType}),e}})})),ye(ge(e),"createInitiatedItem",(function(t,n){var r=t.itemKind,a=t.mediaType,o=t.phone,i=t.requestId,s=t.callData,c=t.userId,l=t.displayData,d=void 0===l?{}:l,_=t.contactId,f=t.origination,p=t.accessNumberId,m=t.workitemId,g=t.workItemData,h=t.notes,v=t.activateItem,y=void 0===v||v,b=t.formDefinitions,S=t.formData;return e.createNewItem({itemKind:r,activateItem:y,mediaType:a,init:function(t){Te.info("Create initiated item"),t.direction="outbound",t.displayData=Ce(Se({},d),{displayName:d.displayName||(0,u.formatFullName)(n.displayNameFormat,d.firstName,d.lastName)}),t.displayData.number=o,t.userId=c,t.contactId=_,t.origination=f,t.accessNumberId=p,t.workitemId=m,t.workitemData=g,t.details={formDefinitions:b,formData:S},h&&t.dispositionData&&(t.dispositionData.notes=h),s&&(t.callData=s);var r={id:t.id},a=new Promise((function(n){r.failTimeout=setTimeout((function(){e.onNewItemRequestFailed(i,"new interaction request timeout expired")}),12e3),r.warnTimeout=setTimeout((function(){var t=e.findRequestItem(i);t&&e.updateItem(Ce(Se({},t),{displayData:Ce(Se({},t.displayData),{prolongedConnection:!0})}))}),4e3),r.resolve=function(){var a,o;clearTimeout(r.warnTimeout),clearTimeout(r.failTimeout),delete e.initiatedItems[i];var s=e.findRequestItem(i);((null==s||null===(a=s.displayData)||void 0===a?void 0:a.failed)||(null==s||null===(o=s.displayData)||void 0===o?void 0:o.prolongedConnection))&&e.updateItem(Ce(Se({},s),{displayData:Ce(Se({},s.displayData),{prolongedConnection:!1,failed:!1})})),n({id:t.id})},r.resolveFailed=function(a){clearTimeout(r.warnTimeout),clearTimeout(r.failTimeout),delete e.initiatedItems[i],n({id:t.id,error:a})}}));return e.initiatedItems[i]=r,a}})})),ye(ge(e),"onNewItemRequestFailed",(function(t,n){var r=e.findRequestItem(t);if(r){var a=Ce(Se({},r.displayData||{}),{failed:!0}),o=r.callData?Ce(Se({},r.callData),{callState:"failed",errorMessage:n}):void 0,i=Ce(Se({},r),{itemKind:"failed",displayData:a,callData:o});e.updateItem(i)}var s=e.initiatedItems[t];s&&s.resolveFailed(new Error(n))})),e}return t=s,n=[{key:"isPhoneParty",value:function(e){return"phone"===e.role}},{key:"getPhoneParties",value:function(e){return e&&e.filter(this.isPhoneParty)}},{key:"isCallConference",value:function(e){return!!e&&(this.getPhoneParties(e)||[]).length>1}},{key:"getActiveItem",value:function(){var e=this.stateData.activeItemId;return e?this.findItem(e):void 0}},{key:"updateAllParties",value:function(e,t){var n=Ee(this.getPhoneParties(e)||[]),r=n.findIndex((function(e){return e.id===t.id||e.userId&&e.userId===t.userId||e.contactId&&e.contactId===t.contactId||e.phone&&e.phone===t.phone}));return-1===r?n.push(t):n=Ee(n.slice(0,r)).concat([t],Ee(n.slice(r+1))),n}},{key:"onAddOrChangeParty",value:function(e){var t=this,n=this.findCallItem(e.callId),r=this.sessionConnector.getStateData();if(n&&this.isPhoneParty(e)){var a=Ee(this.getPhoneParties(n.parties)||[]),o=a.length,i=a.findIndex((function(t){return t.id===e.id})),s=-1===i,c=!s&&1===a.length;s?a.push(e):a=Ee(a.slice(0,i)).concat([e],Ee(a.slice(i+1)));var u=this.updateAllParties(n.allParties,e),l=Se({},n);if(!o||c||e.contactId&&this.pendingUsedContacts.has(e.contactId))e.contactId&&(this.initializeFetchedContact(n,e.contactId),this.pendingUsedContacts.delete(e.contactId)),l=ce({item:l,sessionData:r,party:e,onContactFetched:function(n){var a=n.itemId,o=n.contactId,i=n.data,s=t.findItem(a);s&&s.contactId===o&&t.updateItemContactData(s,i,e,r.displayNameFormat)},onContactFetchError:function(e){var n=e.itemId,r=e.contactId,a=t.findItem(n);a&&a.contactId===r&&t.updateItemContactFetchFailed(a)}});else if(e.contactId){if((0,d.hasFetchedContact)(n,e.contactId))return;this.initializeFetchedContact(n,e.contactId),ue({itemId:n.id,contactId:e.contactId,sessionData:r,onContactFetched:function(e){var n,a=e.itemId,o=e.contactId,i=e.data,s=t.findItem(a),c=null==s||null===(n=s.parties)||void 0===n?void 0:n.find((function(e){return e.contactId===o}));if(s&&c){var u=t.updatePartyContactData(s,i,c,r.displayNameFormat),l=t.addFetchedContactToItem(u,o,i);t.updateItem(l)}}})}a.length>1&&(l.isOrWasConference=!0),l=Ce(Se({},l),{parties:a,allParties:u});var _=this.isCallConference(a);!this.isCallConference(n.parties)&&_&&(l.conferenceHostWasRemoved=!1);var f=a.find((function(e){return!!e.conferenceHostId})),p=f&&a.find((function(e){return e.id===f.conferenceHostId}));l.isConferenceHost=_&&!l.conferenceHostWasRemoved&&!p,this.updateItem(l),s&&!_&&this.addAssociatedItemIds(l)}}},{key:"onRemoveParty",value:function(e,t){var n=this.findCallItem(t);if(n&&n.parties){var r=n.parties.find((function(t){return t.id===e})),a=(null==r?void 0:r.conferenceHostId)===e,o=n.parties.filter((function(t){return t.id!==e})),i=this.getPhoneParties(o);if(i&&1===i.length)this.updateItemByLastConferenceParty({party:i[0],item:n,parties:o,conferenceHostRemoved:a});else{var s=Ce(Se({},n),{parties:o});a&&(s.conferenceHostWasRemoved=!0),this.updateItem(s)}}}},{key:"updateItemByLastConferenceParty",value:function(e){var t=e.item,n=e.party,r=e.parties,a=e.conferenceHostRemoved,o=Se({},t);o.parties=r,o.userId=n.userId,o.contactId=n.contactId,o.callData=Ce(Se({},o.callData),{callId:n.callId}),a&&(o.conferenceHostWasRemoved=a),o.displayData=Ce(Se({},o.displayData),{displayName:n.name,number:n.phone,isConsultCall:void 0,hasConsultCalls:void 0}),this.updateItem(o),this.addAssociatedItemIds(o)}},{key:"dispatchAssociatedConference",value:function(e,t){var n=this.getAssociatedChatInteraction(t),r=(0,d.getInteractionStepId)(n);e&&n&&r&&this.doAssociatedItemTransfer({transferToPartyId:e,associatedItemId:n.id,associatedInteractionStepId:r,isConference:!0})}},{key:"optionallyTransferAssociatedConference",value:function(e){var t=this,n=(0,d.getConsultCallId)(e),r=(0,d.getHasConsultCallsIds)(e);if(n){var a=this.findItem(n);this.dispatchAssociatedConference(null==e?void 0:e.userId,a)}else r&&r.forEach((function(n){var r=t.findItem(n);t.dispatchAssociatedConference(null==r?void 0:r.userId,e)}))}},{key:"getAssociatedChatInteraction",value:function(e){var t,n=this;(0,o.get)(e,"associatedItemIds",[]).forEach((function(e){if(t=n.findItem(e),(0,d.isExternalChat)(t))return t}))}},{key:"updateIsConsultCallLink",value:function(e){this.updateItem(Ce(Se({},e),{displayData:Ce(Se({},e.displayData),{isConsultCall:e.displayData.potentialIsConsultCall,potentialIsConsultCall:void 0})}))}},{key:"updateHasConsultCallLinks",value:function(e){var t=this.findItem(e),n=this.getHasConsultCallIds(t),r=null==t?void 0:t.displayData.isConsultCall,o=r&&this.findItem(r);if(o){var i=a()(o,(function(e){n.forEach((function(t){e.displayData.hasConsultCalls?e.displayData.hasConsultCalls.push(t):e.displayData.hasConsultCalls=[t],e.displayData.potentialIsConsultCall=void 0}))}));this.updateItem(i)}}},{key:"updateItemWithConsultCallLinks",value:function(e){var t=this;if(!e.displayData.potentialIsConsultCall)return this.updateItem(e);this.updateIsConsultCallLink(e),setTimeout((function(){t.updateHasConsultCallLinks(e.id)}),0)}},{key:"performQueuedAssociatedTransfer",value:function(e){if(e){var t,n=null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId;if(n&&this.pendingAssociatedTransfers.has(n)){var r=this.pendingAssociatedTransfers.get(n);r&&(this.pendingAssociatedTransfers.delete(n),this.doAssociatedItemTransfer(r))}}}},{key:"queueAssociatedExternalChatTransfer",value:function(e){var t=e.associatedChatItem,n=e.key,r=e.transferToPhone,a=e.transferToPartyId;if((r||a)&&t){if(!a&&r){var o=this.directoryConnector.getStateData().users.find((function(e){return e.extension===r}));a=null==o?void 0:o.userId}n&&a&&this.pendingAssociatedTransfers.set(n,{associatedInteractionStepId:(0,d.getInteractionStepId)(t),associatedItemId:t.id,transferToPartyId:a})}}},{key:"findCallIdById",value:function(e){if(!e)return"";var t=this.findItem(e);return(0,o.get)(t,"callData.callId","")}},{key:"findItem",value:function(e){return this.stateData.items.find((function(t){return t.id===e}))}},{key:"findWorkitem",value:function(e){return this.stateData.items.find((function(t){var n;return(null===(n=t.workitemData)||void 0===n?void 0:n.id)===e}))}},{key:"findItemByCallId",value:function(e){return this.stateData.items.find((function(t){var n;return(null===(n=t.callData)||void 0===n?void 0:n.callId)===e}))}},{key:"findItemsByContactId",value:function(e){return e?this.stateData.items.filter((function(t){return t.contactId===e})):[]}},{key:"findScenarioItem",value:function(e){return this.stateData.items.find((function(t){return t.scenarioData&&t.scenarioData.interactionStepId===e}))}},{key:"findItemByPrevStepId",value:function(e){return this.stateData.items.find((function(t){return t.scenarioData&&t.scenarioData.previousItemId===e}))}},{key:"findNewScenarioItem",value:function(e){var t=this.findScenarioItem(e.item_id);if(!t&&e.client_request_id&&(t=this.findRequestItem(e.client_request_id)),!t&&e.chat_request_id){var n=this.initiatedItems[e.chat_request_id];n&&(t=this.findItem(n.id),n.resolve())}return!t&&e.call_id&&(t=this.findCallItem(e.call_id)),t}},{key:"findRequestItem",value:function(e){return this.stateData.items.find((function(t){return t.callData&&t.callData.requestId===e}))}},{key:"findCallItem",value:function(e){return this.stateData.items.find((function(t){return t.callData&&t.callData.callId&&t.callData.callId===e}))}},{key:"searchItem",value:function(e){var t=void 0;return"itemId"in e?t=this.findItem(e.itemId):"callId"in e?t=this.findCallItem(e.callId):"scenarioItemId"in e&&(t=this.findScenarioItem(e.scenarioItemId)),t}},{key:"findOrCreateCallItem",value:function(e,t,n){var r;if(t&&t.offeredFor&&(r=this.findScenarioItem(t.offeredFor)),r){if(r.callData&&r.callData.callId===e)return r;var a=Ce(Se({},r),{callData:Ce(Se({},r.callData),{callId:e})});return this.updateItem(a),a}if(r=this.findCallItem(e))return r;if(t){var o=t.establishedFor||t.offeredFor;if(o){if((r=this.findScenarioItem(o))||(r=this.findItemByPrevStepId(o)),r){var i=r;return i.callData&&i.callData.callId||(i=Ce(Se({},r),{callData:Ce(Se({},r.callData),{callId:e})}),this.updateItem(i)),i}this.createCallItem(e,o,n)}}}},{key:"updateItem",value:function(e){var t=this;this.toClientDispatch.onItemChanged(e),this.produceState((function(n){var r=n.items.findIndex((function(t){return t.id===e.id}));if(-1!==r){(0,p.updateSavedItemState)({localSettings:t.localSettings,oldItem:n.items[r],newItem:e});var a=Se({},n.items[r],e),o=Ee(n.items.slice(0,r)).concat([a],Ee(n.items.slice(r+1)));n.items=o,n.modalItemIds=pe(n.modalItemIds,o)}}))}},{key:"produceItem",value:function(e,t){var n=this.findItem(e);n&&this.updateItem(a()(n,t))}},{key:"updateItemDisplayData",value:function(e,t){var n=this.searchItem(e);n&&this.updateItem(Ce(Se({},n),{displayData:Se({},n.displayData,t)}))}},{key:"initializeFetchedContact",value:function(e,t){var n;this.updateItem(Ce(Se({},e),{fetchedContacts:Ce(Se({},null!==(n=e.fetchedContacts)&&void 0!==n?n:{}),ye({},t,void 0))}))}},{key:"removePostfix",value:function(e){var t=this.findCallItem(e);(null==t?void 0:t.toPostfix)&&(t.toPostfix=void 0,this.updateItem(t))}},{key:"updatePostfix",value:function(e,t){var n=this.findCallItem(e);n&&(n.toPostfix=t,this.updateItem(n))}},{key:"updateCallData",value:function(e,t,n){var r=this.findOrCreateCallItem(e,n);if(r){var a=Ce(Se({},r),{callData:Se({},r.callData,t)});this.updateItem(a)}}},{key:"updateCallState",value:function(e,t,n){this.updateCallData(e,{callState:t},n)}},{key:"getNotesAsString",value:function(e){return(0,d.getItemNotes)(e).join(";")}},{key:"getConsultArray",value:function(e){var t=(0,o.get)(e,"displayData.hasConsultCalls",[]),n=(0,o.get)(e,"displayData.isConsultCall");return n&&(t=Ee(t).concat([n])),t}},{key:"resetConsultCallReferences",value:function(e){var t=this;this.getConsultArray(e).forEach((function(e){var n=t.findItem(e);n&&t.updateItem(Ce(Se({},n),{displayData:Ce(Se({},n.displayData),{hasConsultCalls:void 0,isConsultCall:void 0,potentialIsConsultCall:void 0})}))}))}},{key:"getHasConsultCallIds",value:function(e){var t=(0,d.getConsultCallId)(e);return this.stateData.items.map((function(e){var n=e.displayData.isConsultCall;if(n&&n===t)return e.id})).filter(o.identity)}},{key:"addPendingConferenceItemId",value:function(e){this.pendingConferenceItemIds=Ee(this.pendingConferenceItemIds).concat([e])}},{key:"removePendingConferenceItemId",value:function(e){this.pendingConferenceItemIds=this.pendingConferenceItemIds.filter((function(t){return t!==e}))}},{key:"setCallStartTimeAndState",value:function(e,t,n){var r=this.findItemByCallId(e);if(r){var a=Ce(Se({},r),{displayData:Ce(Se({},r.displayData),{stateStartTime:t}),callData:Ce(Se({},r.callData),{callState:n})});this.updateItem(a)}}},{key:"addNewInteractionItem",value:function(e){var t=this;this.toClientDispatch.onNewItem(e),this.produceState((function(n){if(!n.items.find((function(t){return t.id===e.id}))){(0,p.addSavedItemState)(t.localSettings,e);var r=Ee(n.items).concat([e]);n.items=r,n.modalItemIds=pe(n.modalItemIds,r)}}))}},{key:"updateItemUserData",value:function(e,t){var n=Se({},e.displayData),r=this.sessionConnector.getStateData();"extension"in t&&(n.number=t.extension),(0,m.isEmiUserDetails)(t)&&(n.emiUserType=t.user_type,n.emiPhotoUrl=t.photo_url,n.emiOwnerId=(0,c.getEmiOwnerId)(r,t.user_type),n.email=t.email);var a=Ce(Se({},e),{displayData:n});this.updateItem(a)}},{key:"addFetchedContactToItem",value:function(e,t,n){return t?Ce(Se({},e),{fetchedContacts:Ce(Se({},e.fetchedContacts),ye({},t,n))}):e}},{key:"updatePartyContactData",value:function(e,t,n,r){var a,o,i=Se({},e);return(0,d.isCallParty)(n)?i.parties=null==e||null===(a=e.parties)||void 0===a?void 0:a.map((function(e){return e.id===n.id?Ce(Se({},e),{firstName:t.firstName,lastName:t.lastName,name:(0,u.formatFullName)(r,t.firstName,t.lastName)}):e})):i.chatParties=null==e||null===(o=e.chatParties)||void 0===o?void 0:o.map((function(e){return e.party_id===n.party_id?Ce(Se({},e),{first_name:t.firstName,last_name:t.lastName}):e})),i}},{key:"updateWorkItemContactData",value:function(e,t,n){var r=Ce(Se({},e.displayData),{contactName:(0,u.formatFullName)(n,t.firstName,t.lastName),email:(0,o.get)(t,"primaryEmail.emailAddress"),title:t.title,companyName:t.companyName,phones:(0,o.get)(t,"phones")});r.number||(r.number=(0,o.get)(t,"primaryPhone.phone"),r.numberType=(0,o.get)(t,"primaryPhone.type"));var a=Ce(Se({},e),{displayData:r}),i=this.addFetchedContactToItem(a,e.contactId,t);this.updateItem(i)}},{key:"updateItemContactFetchFailed",value:function(e){var t=Ce(Se({},e),{contactFetchDidFail:!0});this.updateItem(t)}},{key:"updateItemContactData",value:function(e,t,n,r){var a;Te.info("Update item contact data");var o,i,s=t.firstName||e.displayData.firstName,c=t.lastName||e.displayData.lastName,l=Ce(Se({},e.displayData),{firstName:s,lastName:c,displayName:(0,u.formatFullName)(r,s,c),email:null===(a=t.primaryEmail)||void 0===a?void 0:a.emailAddress,emails:t.emails,title:t.title,companyName:t.companyName,phones:t.phones});l.number||(l.number=null===(o=t.primaryPhone)||void 0===o?void 0:o.phone,l.numberType=null===(i=t.primaryPhone)||void 0===i?void 0:i.type);var _=Ce(Se({},e),{contactFetchDidFail:!1,displayData:l}),f=n?this.updatePartyContactData(_,t,n,r):_,p=n&&(0,d.isCallParty)(n)?n.contactId:null==n?void 0:n.contact_id,m=this.addFetchedContactToItem(f,p,t);this.updateItem(m)}},{key:"setHoldStartTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();this.updateItem(Ce(Se({},e),{displayData:Ce(Se({},e.displayData),{holdStartTime:t})}))}},{key:"resetHoldStartTime",value:function(e){this.updateItem(Ce(Se({},e),{displayData:Ce(Se({},e.displayData),{holdStartTime:void 0})}))}},{key:"setItemCrmScreen",value:function(e,t,n){this.updateItem(a()(e,(function(e){e.activeCrmScreen||(e.activeCrmScreen={}),e.activeCrmScreen[t]=n})))}}],n&&ve(t.prototype,n),r&&ve(t,r),s}(ae.StateFactory.createBaseStateClass({name:"interactionState",controlEvents:re.interactionStateControlEvents,trackerEvents:re.interactionStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:re.getInitialInteractionState,dependencies:["transport","localSettings","platformSpecific","currentTabDataProvider","sessionConnector","tabsConnector","timersConnector","directoryConnector","servicesDispositionsConnector","prerecordedMessagesConnector"]}));function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Re(o,r,a,i,s,"next",e)}function s(e){Re(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t,n){return xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},xe(e,t,n||e)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){je(e,t,n[t])}))}return e}function Fe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function $e(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Pe(e):t;var n}function Ue(e,t){return Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ue(e,t)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var a=Le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $e(this,n)}}function Ve(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var We="production"==={FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.NEDE_ENV?5e3:5e4,ze=_.bpLogger.withPrefix("@IS"),Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(I,e);var t,n,r,C=He(I);function I(){var e;Ne(this,I),je(Pe(e=C.apply(this,arguments)),"tenantId",void 0),je(Pe(e),"dispositionSent",{}),je(Pe(e),"waitingForServiceRAItems",{}),je(Pe(e),"holdBeforeDialRequestTracker",(0,v.createRequestTracker)({timeoutMilliseconds:We})),je(Pe(e),"workitemDataRequestTracker",(0,v.createRequestTracker)({timeoutMilliseconds:3e3})),je(Pe(e),"globalCrmScreen",null),je(Pe(e),"qualityTimeout",void 0),je(Pe(e),"defaultDIDChatServiceId",void 0),je(Pe(e),"defaultDIDCallServiceId",void 0),je(Pe(e),"findAssociatedPotentialInteraction",(function(t){return e.stateData.items.find((function(e){return(0,d.isPotentialInteraction)(e)&&e.contactId===t}))})),je(Pe(e),"activateItem",(function(t){var n=e.findItem(t);n?(e.toClientDispatch.onActivateItemAttempt(n),n.id!==e.stateData.activeItemId?(n.scenarioData?e.transport.dispatch.agent_activate_item({item_id:n.scenarioData.interactionStepId}):n.internalChatData?e.transport.dispatch.agent_activate_item({item_id:n.internalChatData.userId}):"workitem"===n.mediaType&&e.transport.dispatch.agent_activate_item({item_id:n.id}),e.produceState((function(e){e.activeItemId=n.id})),e.toClientDispatch.onActiveItemChanged(n)):ze.info("activateItem: item is already active: itemId ".concat(t))):ze.error("activateItem: could not find item in state: itemId ".concat(t))})),je(Pe(e),"onAgentUnreadChatSessions",(function(t){(0,y.convertKVArray)(t.sessions,o.identity).forEach((function(t){var n=t.user_id,r=t.firstname,a=t.lastname;e.agentChatOpen({userId:n,firstName:r,lastName:a},{activateItem:!1})}))})),je(Pe(e),"onAgentMessage",(function(t){var n=t.message;if((0,m.isSingleStepTransferUserData)(n)&&n.chat_item_id&&e.transport.dispatch.agent_external_chat_pickup_item({item_id:n.chat_item_id}),(0,m.isTakeScreenPop)(n)){var r,a,o=n.item_id,i=e.findScenarioItem(o),s=(0,d.getServiceId)(i);if(!i||!s)return;var c=null!==(a=null===(r=i.details)||void 0===r?void 0:r.formData)&&void 0!==a?a:{},u=c.values,l=void 0===u?{}:u,_=c.variables,f=void 0===_?{}:_,p=c.shownPageIndex,g=void 0===p?0:p;e.transport.dispatch.agent_message({user_id:n.user_id,message:Fe(Ke({message_type:"send_screenpop"},i.scenarioData),{serviceId:s,msg:{values:k(l),variables:f},activePage:"".concat(g+1)})})}(0,m.isSendScreenPop)(n)}));var t,n=Pe(e);je(Pe(e),"initiateCall",(t=ke((function(e){var t,r,a,o,i,s,c,u,l,_,f,p,m,g,h,v,y,S,C,I,w,E,O;return Ve(this,(function(T){switch(T.label){case 0:return t=e.phone,r=e.serviceId,a=e.contactId,o=e.userId,i=e.firstName,s=e.lastName,c=e.associatedRecords,u=void 0===c?[]:c,l=e.accessNumberId,_=e.withGlobalInteractionId,f=e.origination,p=n.sessionConnector.getStateData(),n.tenantId&&p.phoneNumber?(m=n.getActiveItem(),g="none"===_?void 0:(0,d.getGlobalInteractionId)(_||m),h=(0,d.digitizePhone)(t),n.localSettings.set("adLastCalledNumber",h),[4,n.waitForDeliveredCallPutOnHold()]):[2,Promise.reject("initiateCall: no tenantId or no agent phone")];case 1:return T.sent(),v=n.transport.getNextRequestId(),y={callState:"requesting",requestId:v,destination:h},S=n.createInitiatedItem({origination:f,itemKind:"preScenarioCall",mediaType:"voice",phone:h,requestId:v,callData:y,userId:o,displayData:{firstName:i,lastName:s},contactId:a,accessNumberId:l},p),C=l&&!r?n.defaultDIDCallServiceId:r,n.transport.dispatch.e3pcc_dial((0,b.withoutUndefinedKeys)({request_id:v,tenant_id:n.tenantId,dn:p.phoneNumber,destination:h,contact_id:a,global_interaction_id:g,desktop_data:(0,b.withoutUndefinedKeys)({associated_records:u.length?JSON.stringify(u):void 0}),access_number_id:l,service_id:C,first_name:i,last_name:s})),(I=(0,d.getConsultCall)(n.stateData.items))?[4,S]:[3,3];case 2:w=T.sent(),E=w.id,w.error||(O=n.findItem(E))&&n.produceItem(O.id,(function(e){e.displayData.potentialIsConsultCall=I})),T.label=3;case 3:return[2,S]}}))})),function(e){return t.apply(this,arguments)})),je(Pe(e),"waitForDeliveredCallPutOnHold",(function(){var t=e.stateData.items.find((function(e){return(0,d.isCall)(e)&&(0,d.isDelivered)(e)}));if(t&&t.callData){var n=e.holdBeforeDialRequestTracker.addRequest({requestId:t.callData.callId}).promise;return e.holdItem(t.id),n.catch((function(){}))}return Promise.resolve()})),je(Pe(e),"initiateChat",(function(t){var n=t.serviceId,r=t.channel,a=t.address,o=t.contactId,i=t.accessNumberId,s=t.origination,c=t.displayData;if(e.tenantId){var u=e.sessionConnector.getStateData(),l="sms"===r?(0,d.digitizePhone)(a):void 0,_="sms"===r?l:a,f=e.transport.getNextRequestId(),p=e.findItemsByContactId(o).some((function(e){return(0,d.isCall)(e)})),m=e.createInitiatedItem({itemKind:"preScenarioChat",mediaType:"chat",activateItem:!p,phone:l,origination:s,contactId:o,requestId:f,displayData:c,accessNumberId:i},u),g={request_id:f,channel:r,address:_};return(null==c?void 0:c.firstName)&&(g.first_name=null==c?void 0:c.firstName),(null==c?void 0:c.firstName)&&(g.last_name=null==c?void 0:c.lastName),n?g.service_id=n:(g.access_number_id=i,g.service_id=e.defaultDIDChatServiceId),o&&(g.contact_id=o),g.service_id||g.access_number_id?(e.transport.dispatch.agent_external_chat_session_init(g),m.then((function(t){var n=e.findAssociatedPotentialInteraction(o);return n&&e.removeItem(n),t}))):Promise.reject("initiateChat: no service_id nor access_number_id is provided")}return Promise.reject("initiateChat: no tenantId")}));var r=Pe(e);je(Pe(e),"reserveCall",function(){var e=ke((function(e){var t,n,a,o,i,s,c,u,l,_,f,p,m,g,h,v;return Ve(this,(function(y){return t=e.phone,n=e.serviceId,a=e.accessNumberId,o=e.contactId,i=e.associatedRecords,s=void 0===i?[]:i,c=e.withGlobalInteractionId,u=e.firstName,l=e.lastName,_=r.sessionConnector.getStateData(),f=function(e){return{status:"error",error:e}},r.tenantId?_.phoneNumber?(p=r.getActiveItem(),m="none"===c?void 0:(0,d.getGlobalInteractionId)(c||p),g=a&&!n?r.defaultDIDCallServiceId:n,h=new Promise((function(e){return setTimeout((function(){e(f("9 - call reservation timeout expired"))}),5e3)})),v=r.transport.dispatch.e3pcc_reserve_call((0,b.withoutUndefinedKeys)({tenant_id:r.tenantId,contact_id:o,global_interaction_id:m,desktop_data:(0,b.withoutUndefinedKeys)({associated_records:s.length?JSON.stringify(s):void 0}),access_number_id:a,service_id:g,destination:t,dn:_.phoneNumber,first_name:u,last_name:l})).then((function(e){return"0"===e.succeeded?f(e.reason):{status:"success",destination:e.destination,dtmf:e.dtmf,cancellationId:e.request_id}})),[2,Promise.race([h,v])]):[2,f("81 - no phoneNumber in session state")]:[2,f("81 - no tenantId in session state")]}))}));return function(t){return e.apply(this,arguments)}}()),je(Pe(e),"cancelCallReservation",(function(t){var n=t.cancellationId;e.transport.dispatch.e3pcc_release_call({request_id:n})})),je(Pe(e),"setDisposition",(function(t){var n=t.itemId,r=t.disposition,a=e.findItem(n);if(a){var o=Fe(Ke({},a),{dispositionData:a.dispositionData?Fe(Ke({},a.dispositionData),{disposition:r}):{disposition:r}});e.updateItem(o)}})),je(Pe(e),"useContact",(function(t){var n=t.itemId,r=t.partyId,a=t.contactId,o=t.firstName,i=t.lastName,s=t.email,c=t.phone;e.pendingUsedContacts.add(a),e.transport.dispatch.agent_item_use_contact({item_id:n,party_id:r,contact_id:a,first_name:o,last_name:i});var u=e.findItem(n);u&&(0,d.isWorkItem)(u)&&((0,b.assertDefined)(u.workitemData),e.produceItem(n,(function(e){e.contactId=a})),e.toClientDispatch.onWorkitemLinkedWithContact({workitemId:u.workitemData.id,contactId:a}));var l=e.getActiveItem(),_=(0,d.getInteractionStepId)(l);_&&s&&c&&e.updateReporter({interactionStepId:_,id:a,firstName:o,email:s,lastName:i,phone:c})})),je(Pe(e),"addNote",(function(t){var n=t.itemId,r=t.note,a=e.findItem(n);if(a){var o,i=null!==(o=(0,d.getItemNotes)(a))&&void 0!==o?o:[],s=a.dispositionData?Fe(Ke({},a.dispositionData),{notes:qe(i).concat([r])}):{notes:[r]},c=Fe(Ke({},a),{dispositionData:s});e.updateItem(c)}})),je(Pe(e),"updateNote",(function(t){var n=t.itemId,r=t.note,a=e.findItem(n);if(a){var o=(0,d.getItemNotes)(a),i=a.dispositionData?Fe(Ke({},a.dispositionData),{notes:o?qe(o.slice(0,-1)).concat([r]):[r]}):{notes:[r]},s=Fe(Ke({},a),{dispositionData:i});e.updateItem(s),e.toClientDispatch.onNoteUpdated(n,r)}})),je(Pe(e),"replaceNote",(function(t){var n=t.itemId,r=t.note,a=e.findItem(n);if(a){var o=a.dispositionData?Fe(Ke({},a.dispositionData),{notes:[r]}):{notes:[r]},i=Fe(Ke({},a),{dispositionData:o});e.updateItem(i)}})),je(Pe(e),"setNotes",(function(t){var n=t.itemId,r=t.notes,a=e.findItem(n);a&&e.updateItem(Fe(Ke({},a),{dispositionData:Fe(Ke({},a.dispositionData),{notes:r})}))})),je(Pe(e),"onAgentWelcome",(function(t){var n=t.tenant_id,r=t.items;e.tenantId=n;var a=(0,y.convertKVArray)(r,(function(e){return e}));e.restoreInteractionItems(a),e.retrieveAppConfig()})),je(Pe(e),"retrieveAppConfig",(function(){e.transport.dispatch.application_config().then((function(t){var n=t.result,r=t.error;!(null==r?void 0:r.message)&&n?(e.defaultDIDCallServiceId=n[0].def_out_did_voice_service_id||void 0,e.defaultDIDChatServiceId=n[0].def_out_did_chat_service_id||void 0):ze.error(null==r?void 0:r.message)}))})),je(Pe(e),"sendAgentNotificationResult",(function(t){e.transport.dispatch.agent_notification_result({rc:t.callAccepted?0:1,item_id:t.id})})),je(Pe(e),"onNotificationData",(function(t){var n=e.findScenarioItem(t.id),r=n&&Fe(Ke({},n),{displayData:Fe(Ke({},n.displayData),{displayName:t.name,callerName:t.name,number:t.phoneNumber,firstName:t.firstName,lastName:t.lastName}),userId:t.userId,contactId:t.contactId});r&&e.updateItem(r)}));var i=Pe(e);je(Pe(e),"onAgentItemCreated",function(){var e=ke((function(e){var t,n;return Ve(this,(function(r){switch(r.label){case 0:return"feature_record_voice"===e.interaction_type||i.tryToAutoRejectIncomingEmail(e).autoRejected?[2]:"workitem"!==e.media_type?[3,2]:[4,i.updateOrCreateWorkitem(e)];case 1:return n=r.sent(),[3,4];case 2:return[4,i.updateOrCreateScenarioItem(e)];case 3:n=r.sent(),r.label=4;case 4:return(t=n)?(i.getActiveItem()&&(0,d.isExternalChat)(t)&&t.externalChatData&&t.externalChatData.mobileLaunchPointId&&i.applyChatLaunchPoint(t.id,t.externalChatData.mobileLaunchPointId),[2]):[2]}}))}));return function(t){return e.apply(this,arguments)}}());var p=Pe(e);je(Pe(e),"onAgentNewItem",function(){var e=ke((function(e){var t,n;return Ve(this,(function(r){switch(r.label){case 0:return"feature_record_voice"===e.interaction_type||p.tryToAutoRejectIncomingEmail(e).autoRejected?[2]:"workitem"!==e.media_type?[3,2]:[4,p.updateOrCreateWorkitem(e)];case 1:return n=r.sent(),[3,4];case 2:return[4,p.updateOrCreateScenarioItem(e)];case 3:n=r.sent(),r.label=4;case 4:return(t=n)?(p.getActiveItem()||p.activateItem(t.id),[2]):[2]}}))}));return function(t){return e.apply(this,arguments)}}()),je(Pe(e),"delegateRASessionStart",(function(t,n){e.toClientDispatch.onDelegatedRASessionStart({itemId:t,pin:n,_destination:"boss"})})),je(Pe(e),"onAgentAutoComplete",(function(t){var n=t.item_id,r=e.findScenarioItem(n);r&&e.sendNotesDisposition(r)})),je(Pe(e),"onAgentItemChanged",(function(t){var n,r,a;if("feature_record_voice"!==t.interaction_type&&!e.tryToAutoRejectIncomingEmail(t).autoRejected){if("completed"===t.state){var o="workitem"===t.media_type;e.updateLastItemWasWorkItem(o)}if("workitem"!==t.media_type){var i=e.sessionConnector.getStateData(),s=e.findScenarioItem(t.item_id);if(s){var c,u,l=V(t,s,i.displayNameFormat),_=s.displayData.isRecording,f=l.displayData.isRecording;if(l.displayData.recordingChanging&&f!==_&&(l.displayData.recordingChanging=!1),!_&&f&&(null===(n=l.callData)||void 0===n?void 0:n.callId))e.toClientDispatch.onCallRecordingStarted(null===(c=l.callData)||void 0===c?void 0:c.callId);if(_&&!f&&(null===(r=l.callData)||void 0===r?void 0:r.callId))e.toClientDispatch.onCallRecordingStopped(null===(u=l.callData)||void 0===u?void 0:u.callId);var p=s.displayData.isFlagged,m=l.displayData.isFlagged;!p&&m&&e.toClientDispatch.onItemFlagged(l),p&&!m&&e.toClientDispatch.onItemUnflagged(l);var g="wrap_up_hold"===s.state||"wrap_up"===s.state,h="wrap_up_hold"===l.state||"wrap_up"===l.state;!g&&h&&(e.toClientDispatch.onItemWrapUpStateEntered(l),e.removeAssociatedIdFromItems(l.id)),!(0,d.isItemAccepted)(s)&&(0,d.isItemAccepted)(l)&&(null===(a=l.scenarioData)||void 0===a?void 0:a.serviceId)&&e.delegateIfRAEnabled(l.id,l.scenarioData.serviceId),(0,d.isItemAccepted)(l)||e.startAutoAnswerTimer(l.id,l.autoAnswerTimeout);var v=(0,d.getServiceId)(l);"mobile"!==e.platformSpecific.clientType()&&(0,d.isCall)(l)&&"delivered"===l.state&&v&&e.prerecordedMessagesConnector.dispatch.getServiceMessages(v);var y=l.scenarioData;y&&("delivery_pending"===y.state&&s&&s.scenarioData&&s.scenarioData.state!==y.state&&s.voiceCallAccepted&&e.transport.dispatch.agent_accept_item({item_id:y.interactionStepId}),"delivered"===y.state&&"outbound"===y.direction&&"chat"===y.mediaType&&s&&s.scenarioData&&s.scenarioData.state!==y.state&&"hold"!==s.scenarioData.state&&e.transport.dispatch.agent_accept_item({item_id:y.interactionStepId}),"delivered"===y.state&&(0,d.isQualityManagementItem)(l)&&(e.transport.dispatch.agent_accept_item({item_id:y.interactionStepId}),e.sendItemThreePccRequest(l,"e3pcc_answer"),e.toClientDispatch.onItemAccepted(l))),e.copyClientOnlyDataToNewItem(s,l),y&&"completed"===y.state?e.completeAgentItem(l,s.state):"delivery_pending"===s.state&&"delivered"===l.state?(e.updateItemWithConsultCallLinks(l),e.optionallyCompletePendingConference(l),e.toClientDispatch.onItemDelivered(l),e.transport.dispatch.agent_item_intents_subscribe({item_id:t.item_id})):e.updateItem(l)}}else e.handleWorkItemChanged(t)}})),je(Pe(e),"incrementMissedCallsAmount",(function(){e.produceState((function(e){e.missedCallsAmount++}))}));var w=Pe(e);je(Pe(e),"sendActivityFormValues",function(){var e=ke((function(e){var t,n,r,a,o,i,s,c,u,l,_,f;return Ve(this,(function(p){switch(p.label){case 0:return s=(0,d.getInteractionStepId)(e),(c=null===(n=e.details)||void 0===n||null===(t=n.formDefinitions)||void 0===t?void 0:t.find((function(e){return"SCREENPOP"===e.type})))?[4,w.transport.dispatch.custom_activity_history_fields()]:[2];case 1:return u=p.sent(),l=u.result,(0,b.assertDefined)(l),_=(0,g.getCustomActivityFieldsValues)(c,(null===(a=e.details)||void 0===a||null===(r=a.formData)||void 0===r?void 0:r.values)||{},l),f=(0,g.getCustomReportingFieldsValues)(c,(null===(i=e.details)||void 0===i||null===(o=i.formData)||void 0===o?void 0:o.values)||{}),w.sendCustomFields(s,_,f),w.sendCustomFieldsToCampaignResults(e,l),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var E=Pe(e);je(Pe(e),"sendCustomFieldsToCampaignResults",function(){var e=ke((function(e,t){var n,r,a,o,i,s,c,u,l,_,p,m,h,v;return Ve(this,(function(y){return i=(0,d.getServiceId)(e),(0,b.assertDefined)(i),s=E.sessionConnector.getStateData(),c=s.serverOrigin,u=s.loginId,l=e.workitemData||{},_=l.listLinkId,p=l.listRecordId,m=l.id,h=null===(r=e.details)||void 0===r||null===(n=r.formDefinitions)||void 0===n?void 0:n.find((function(e){return"SCREENPOP"===e.type})),_&&p&&m&&u&&h?(v=(0,g.getCustomActivityFieldsValuesForCampaignResults)(h,(null===(o=e.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.values)||{},t),0===Object.keys(v).length||(0,f.apiRequests)(c).sendActivityFormValues({requestBody:{serviceId:i,listLinkId:_,listRecordId:p,loginId:u,workitemId:m,values:v}}),[2]):(ze.error("send form to campaign results: missing data for item ".concat(e.id)),[2])}))}));return function(t,n){return e.apply(this,arguments)}}()),je(Pe(e),"getNotReceivedIntents",(function(e){var t,n,r=null===(n=e.details)||void 0===n||null===(t=n.formDefinitions)||void 0===t?void 0:t.find((function(e){return"SCREENPOP"===e.type}));if(!r)return[];var a=(0,g.getAllFormFields)(r).reduce((function(t,n){var a,o,i,s,c,u=n.field;if("CUSTOM"!==u.type||"CHECKBOX"!==u.customType)return t;if(!(0,g.checkConditions)({conditions:u.conditions,values:Ke({},null==e||null===(o=e.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.variables,(0,g.createLeadMappingStringToFormValueMap)((null==e||null===(s=e.details)||void 0===s||null===(i=s.formData)||void 0===i?void 0:i.values)||{},r)),intents:e.receivedIntentsIds}))return t;var l=u.autocheckIntentId;return l?((null===(c=e.receivedIntentsIds)||void 0===c?void 0:c.includes(l))||t.push(l),t):t}),[]);return a})),je(Pe(e),"acceptItem",(function(t){var n,r=e.findItem(t),a=e.sessionConnector.getStateData();if(r)if(e.toClientDispatch.onItemAccepted(r),e.timersConnector.dispatch.stopTimer("autoAnswer/".concat(r.id)),(null===(n=r.workitemData)||void 0===n?void 0:n.outAutoDial)&&r.workitemData.outAutoDialDelay&&r.workitemData.suggestedPhone&&"mobile"!==e.platformSpecific.clientType()&&e.timersConnector.dispatch.startTimer({id:"workitemAutoDial/".concat(r.id),type:"workitemAutoDial",interactionId:r.id,timeoutInSeconds:r.workitemData.outAutoDialDelay}),(0,d.isCall)(r)){e.updateItem(Fe(Ke({},r),{voiceCallAccepted:!0})),r.scenarioData&&"delivery_pending"===r.state&&e.transport.dispatch.agent_accept_item({item_id:(0,d.getInteractionStepId)(r)}),e.disconnectOtherPendingOutboundCalls(r.id);var o=a.phoneDeviceCapabilities.canAnswer||"mobile"===e.platformSpecific.clientType()&&"phone_type_external"===a.phoneType;r.callData&&("offered"===r.callData.callState||"ringing"===r.callData.callState)&&o&&e.sendItemThreePccRequest(r,"e3pcc_answer")}else(0,d.isExternalChat)(r)?r.scenarioData&&e.transport.dispatch.agent_accept_item({item_id:(0,d.getInteractionStepId)(r)}):(0,d.isWorkItem)(r)&&e.transport.dispatch.agent_accept_item({item_id:r.id})})),je(Pe(e),"rejectItem",(function(t){e.disconnectItem(t)})),je(Pe(e),"disconnectItem",(function(t){var n=e.findItem(t);if(n){if((0,d.isDeprecatedInternalChat)(n)||(0,d.isInternalMessage)(n))return e.agentChatClose(n.id);if((0,d.isInternalChat)(n))return e.closeInternalChat(n.id);if((0,d.isCall)(n))return e.sendItemThreePccRequest(n,"e3pcc_disconnect");if((0,d.isCallConference)(n)&&n.isConferenceHost)return e.destroyCallConference(n.id);if(!(0,d.isExternalChat)(n))return(0,d.isWorkItem)(n)?e.stopItem(n.id):(0,d.isEmail)(n)?e.saveEmailDraft({itemId:n.id}):void 0;(0,d.getInteractionStepId)(n)&&e.toClientDispatch.onExternalChatDisconnected(n)}})),je(Pe(e),"holdItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{holdChanging:!0}),e.sendItemThreePccRequest(n,"e3pcc_hold"))})),je(Pe(e),"resumeItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{holdChanging:!0}),e.disconnectOtherPendingOutboundCalls(n.id),e.sendItemThreePccRequest(n,"e3pcc_resume"))})),je(Pe(e),"muteItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{mutedChanging:!0}),e.sendItemThreePccRequest(n,"e3pcc_mute"))})),je(Pe(e),"unmuteItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{mutedChanging:!0}),e.sendItemThreePccRequest(n,"e3pcc_unmute"))})),je(Pe(e),"sendItemThreePccRequest",(function(t,n){var r,a=null===(r=t.callData)||void 0===r?void 0:r.callId;(0,d.isCall)(t)&&a&&((0,b.assertDefined)(e.tenantId),e.transport.dispatch[n]({call_id:a,tenant_id:e.tenantId}))})),je(Pe(e),"handlePauseSymbols",(function(t,n){for(var r=t.split(",").filter((function(e){return""!==e})),a=[],o=0,i=0;i<t.split("").length;i++)","===t.split("")[i]?o++:","===t.split("")[i-1]&&(a.push(o),o=0);var s=a.map((function(e,t){return{pause:e,addedNumber:r[t]}}));s.length&&(s.forEach((function(t){e.sendPostfix(t.pause,t.addedNumber,n)})),e.removePostfix(n))})),je(Pe(e),"sendPostfix",(function(t,n,r){setTimeout((function(){e.sendDtmf({dtmf:n,callId:r})}),1e3*t)})),je(Pe(e),"saveEmailDraft",(function(t){var n,r,a=t.itemId,o=t.emailId,i=e.findItem(a),s=(0,d.getInteractionStepId)(i);(0,d.isEmail)(i)&&(e.sendNotesDisposition(i),o?e.transport.dispatch.agent_item_save_draft({item_id:s,email_id:o}):null===(r=i.emailData)||void 0===r||null===(n=r.activeDrafts)||void 0===n||n.forEach((function(t){e.transport.dispatch.agent_item_save_draft({item_id:s,email_id:t.emailId})})))})),je(Pe(e),"changeEmailService",(function(t){var n=t.itemId,r=t.emailId,a=t.serviceId,o=e.findItem(n);(0,d.isEmail)(o)?e.transport.dispatch.agent_edit_email({email_id:r,item_id:(0,d.getInteractionStepId)(o),service_id:a}):_.bpLogger.error("changeEmailService: item by id ".concat(n," is not an email"))})),je(Pe(e),"sendEmailDraft",(function(t){var n=t.itemId,r=t.emailId,a=e.findItem(n);(0,d.isEmail)(a)?e.transport.dispatch.agent_item_send_draft({item_id:(0,d.getInteractionStepId)(a),email_id:r}):_.bpLogger.error("sendEmailDraft: item by id ".concat(n," is not an email"))}));var O=Pe(e);je(Pe(e),"completeItem",function(){var e=ke((function(e){var t,n;return Ve(this,(function(r){return(t=O.findItem(e))?(O.toClientDispatch.onBeforeItemComplete(t),O.setScenarioVariablesBeforeComplete(t),"failed"===t.itemKind||"potential"===t.itemKind||"preScenarioCall"===t.itemKind||"preScenarioChat"===t.itemKind?(O.removeItem(t),[2]):(O.sendNotesDisposition(t),O.sendActivityFormValues(t),t.scenarioData&&(n=O.findAssociatedPotentialInteraction(t.contactId))&&O.markItemThatAssociatedItemWasRemoved(n,t.id),O.transport.dispatch.agent_complete_item({item_id:(0,d.getInteractionStepId)(t)}),[2])):[2]}))}));return function(t){return e.apply(this,arguments)}}()),je(Pe(e),"disconnectOtherPendingOutboundCalls",(function(t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e.stateData.items[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;c.id!=t&&"outbound"===c.direction&&"delivery_pending"===c.state&&n.push(c.id)}}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}n.forEach((function(t){return e.disconnectItem(t)}))})),je(Pe(e),"onThreePccRtcCallMake",(function(t){var n=t.request_id,r=t.sdp,a=t.number;e.toClientDispatch.onRtcCallMake({number:a,sdp:r,request_id:n,_destination:"boss"})})),je(Pe(e),"onThreePccRtcCallDrop",(function(t){var n=t.request_id,r=t.number;e.toClientDispatch.onRtcCallDrop({number:r,request_id:n,_destination:"boss"})})),je(Pe(e),"onThreePccOffered",(function(t){var n=t.call_id,r=t.fromName,a=t.fromNumber,o=t.user_data,i=t.auto_answer,s=e.findOrCreateCallItem(n,o&&o.item_id?{offeredFor:o.item_id}:void 0,o.calling_user_id);if(s){var c=Ke({},s.displayData,(0,b.withoutUndefinedKeys)({displayName:r,callerName:r,number:a})),u=(0,h.unstringifyNumber)(i);e.startAutoAnswerTimer(s.id,u),e.updateItem(Fe(Ke({},s),{displayData:c,autoAnswerTimeout:u,userId:o.calling_user_id,callData:Fe(Ke({},s.callData),{callState:"offered",fromNumber:a,incoming:!0})}));var l=e.sessionConnector.getStateData().phoneDeviceCapabilities.canAnswer;s.voiceCallAccepted&&l&&e.sendItemThreePccRequest(s,"e3pcc_answer")}})),je(Pe(e),"onThreePccCallSetup",(function(t){var n=t.request_id,r=t.call_id,a=e.findRequestItem(n);a&&e.updateItem(Fe(Ke({},a),{callData:Fe(Ke({},a.callData),{callId:r})}));var o=e.initiatedItems[n];null==o||o.resolve()})),je(Pe(e),"onThreePccDialing",(function(t){var n=t.call_id,r=t.toPostfix;e.updateCallData(n,{callState:"dialing",incoming:!1}),r&&e.updatePostfix(n,r)})),je(Pe(e),"onThreePccRinging",(function(t){var n=t.call_id;e.updateCallState(n,"ringing")})),je(Pe(e),"onThreePccEstablished",(function(t){var n=t.call_id,r=t.user_data;if(e.updateCallState(n,"established",r&&r.item_id?{establishedFor:r.item_id}:void 0),"desktop"===e.platformSpecific.clientType()){var a,o=e.findCallItem(n);(null==o||null===(a=o.callData)||void 0===a?void 0:a.callId)&&void 0!==o.toPostfix&&e.handlePauseSymbols(o.toPostfix,o.callData.callId)}if("mobile"===e.platformSpecific.clientType()){var i=e.stateData.items.filter((function(e){return"voice"===e.mediaType})),s=e.stateData.items.filter((function(e){return"inbound"===e.direction&&"voice"===e.mediaType})),c=e.stateData.items.find((function(e){var t;return"outbound"===e.direction&&"voice"===e.mediaType&&(null===(t=e.callData)||void 0===t?void 0:t.callId)===n}));i.length>1&&s.length&&!c&&e.toClientDispatch.onShouldResetRtc()}})),je(Pe(e),"onThreePccDisconnected",(function(t){var n=t.call_id;if(e.updateCallState(n,"disconnected"),e.toClientDispatch.onCallDisconnected(n),"mobile"===e.platformSpecific.clientType()){var r=e.stateData.items.find((function(e){var t;return"voice"===e.mediaType&&(null===(t=e.callData)||void 0===t?void 0:t.callId)!==n})),a=e.stateData.items.filter((function(e){return"inbound"===e.direction&&"voice"===e.mediaType}));r&&a&&e.toClientDispatch.onShouldResetRtc()}})),je(Pe(e),"onThreePccMuted",(function(t){var n=t.call_id;e.updateItemDisplayData({callId:n},{mutedChanging:!1}),e.updateCallData(n,{muted:!0}),e.toClientDispatch.onCallMuted(n)})),je(Pe(e),"onThreePccUnMuted",(function(t){var n=t.call_id;e.updateItemDisplayData({callId:n},{mutedChanging:!1}),e.updateCallData(n,{muted:!1}),e.toClientDispatch.onCallUnMuted(n)})),je(Pe(e),"onThreePccLocalHeld",(function(t){var n=t.call_id;e.updateCallState(n,"held"),e.holdBeforeDialRequestTracker.onResponse(n),e.toClientDispatch.onCallHeld(n);var r=e.findCallItem(n);r&&e.setHoldStartTime(r),e.updateItemDisplayData({callId:n},{holdChanging:!1})})),je(Pe(e),"onThreePccLocalResumed",(function(t){var n=t.call_id;e.updateCallState(n,"established"),e.toClientDispatch.onCallResumed(n),e.updateItemDisplayData({callId:n},{holdChanging:!1})})),je(Pe(e),"onThreePccPartyAddedOrChanged",(function(t){var n=e.formatCallParty(t);e.onAddOrChangeParty(n)})),je(Pe(e),"onThreePccPartyRemoved",(function(t){var n=t.call_id,r=t.party_id;e.onRemoveParty(r,n)})),je(Pe(e),"onThreePccDeviceSnapshot",(function(t){var n=t.calls;n&&Object.entries(n).forEach((function(t){var n=Be(t,2),r=n[0],a=n[1],o=Date.now()-1e3*Number(a.duration);if(e.setCallStartTimeAndState(r,o,a.state),"ringing"===a.state||"offered"===a.state){var i=e.findCallItem(r),s=e.sessionConnector.getStateData().phoneDeviceCapabilities.canAnswer;(null==i?void 0:i.voiceCallAccepted)&&s&&(i.toPostfix&&"offered"===a.state&&e.handlePauseSymbols(i.toPostfix,i.id),e.sendItemThreePccRequest(i,"e3pcc_answer"))}if("held"===a.state){var c=e.findCallItem(r);c&&e.setHoldStartTime(c)}Object.values(a.parties).forEach((function(t){t.call_id=r,e.onThreePccPartyAddedOrChanged(t)}))}))})),je(Pe(e),"onThreePccFailed",(function(t){var n=t.msg,r=t.request_id;e.onNewItemRequestFailed(r,n)})),je(Pe(e),"onThreePccAudioQualityAlert",(function(t){var n=t.call_id,r=t.status,a=function(t){return e.findCallItem(t)||e.findCallItem(function(e){var t=e.split("/");return t[0]+"/"+(+t[1]+1)}(t))},o=a(n);if(o){var i=Boolean(r);e.updateItem(Fe(Ke({},o),{badQuality:i})),i&&(clearTimeout(e.qualityTimeout),e.qualityTimeout=setTimeout((function(){var t=a(n);t&&e.updateItem(Fe(Ke({},t),{badQuality:!1}))}),5e3))}})),je(Pe(e),"createRtcCall",(function(t){return(0,b.assertDefined)(e.tenantId),e.transport.dispatch.e3pcc_rtc_call_made({number:t.number,sdp:t.sdp,status:t.status,request_id:t.requestId,tenant_id:e.tenantId})})),je(Pe(e),"sendRtcCallReset",(function(t){return(0,b.assertDefined)(e.tenantId),e.transport.dispatch.e3pcc_rtc_call_reset({number:t.number,tenant_id:e.tenantId})})),je(Pe(e),"sendDtmf",(function(t){var n=t.dtmf,r=t.callId;return(0,b.assertDefined)(e.tenantId),e.transport.dispatch.e3pcc_send_dtmf({dtmf:n,call_id:r,tenant_id:e.tenantId})})),je(Pe(e),"onAgentChat",(function(t){var n=e.sessionConnector.getStateData(),r=(0,l.convertIncomingChatToInteraction)(t,n);e.findItem(r.id)||(e.addNewInteractionItem(r),1===e.stateData.items.length&&e.activateItem(r.id),e.getUserDetails(r.id,["extension"],(function(t){if((0,m.isRegularUserDetails)(t)){var n=e.findItem(r.id);n&&n.userId===r.userId&&e.updateItemUserData(n,t)}}))),e.addAssociatedItemIds(r)})),je(Pe(e),"onInternalMessage",(function(t){var n=(0,l.createInternalMessageInteraction)(t);e.findItem(n.id)?e.updateState((function(e){return Fe(Ke({},e),{items:e.items.map((function(e){var t,r;return e.id===n.id?Fe(Ke({},e),{internalMessageData:Fe(Ke({},e.internalMessageData),{messages:qe((null===(t=e.internalMessageData)||void 0===t?void 0:t.messages)||[]).concat(qe((null===(r=n.internalMessageData)||void 0===r?void 0:r.messages)||[]))})}):e}))})})):e.addNewInteractionItem(n)})),je(Pe(e),"createPotentialItem",(function(t){var n=t.contactId,r=t.displayName,a=t.firstName,o=t.groupChatId,i=t.groupChatMembers,c=t.lastName,l=t.phone,d=t.previousActivity,_=t.userId,f=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{activateItem:!0}).activateItem,p=e.stateData.items.find((function(e){return n&&e.contactId===n})),m=e.sessionConnector.getStateData(),g=m.displayNameFormat,v=m.serverOrigin;return p||(p=e.createNewItem({itemKind:"potential",mediaType:"unknown",init:function(t){return ze.info("Create potential item"),t.contactId=n,t.userId=_,t.groupChatId=o,t.groupChatMembers=i,t.displayData.number=l,t.displayData.firstName=a,t.displayData.lastName=c,t.displayData.displayName=r||(0,u.formatFullName)(g,a,c),t.previousActivity=d?Ke({},d):void 0,n&&(0,s.fetchContact)({id:n},v).then((function(r){if(!r)throw new Error("Failed to fetch a contact with id: "+n);var a=e.findItem(t.id);"potential"===(null==a?void 0:a.itemKind)&&(null==a?void 0:a.contactId)===n&&e.updateItemContactData(a,r[0],void 0,g)})).catch((function(e){return ze.error((0,h.getErrorMessage)(e))})),t}})),f&&e.activateItem(p.id),p})),je(Pe(e),"openInternalChat",(function(t){var n=(new Date).getTime(),r={id:(0,S.uuid)(),groupChatId:t.groupChatId,userId:t.userId,itemKind:"internalChat",mediaType:"agent_chat",direction:t.direction,displayData:{displayName:t.displayName,itemStartTime:n,stateStartTime:n}};return e.addNewInteractionItem(r),e.addAssociatedItemIds(r),r.id})),je(Pe(e),"closeInternalChat",(function(t){var n=e.findItem(t);n&&(e.toClientDispatch.onItemCompleted({item:n}),e.removeItem(n))})),je(Pe(e),"agentChatOpen",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{activateItem:!0,getUserDetails:!0},r=n.activateItem,a=void 0===r||r,o=n.getUserDetails,i=void 0===o||o,s=e.findItem(t.userId),c=e.sessionConnector.getStateData();if(s&&a)e.activateItem(s.id);else if(!s){var u=(0,l.createInternalInteraction)(t,"outbound",c);e.addNewInteractionItem(u),e.addAssociatedItemIds(u);var d=e.getActiveItem();a&&t.userId!==(null==d?void 0:d.userId)&&e.activateItem(u.id),i&&!t.number&&e.getUserDetails(t.userId,["extension"],(function(t){var n=e.findItem(u.id);n&&n.userId===u.userId&&e.updateItemUserData(n,t)}))}})),je(Pe(e),"agentChatClose",(function(t){var n=e.findItem(t),r=e.sessionConnector.getStateData().userId;if(n){if(e.removeItem(n),(0,d.isInternalMessage)(n))return;e.toClientDispatch.onItemCompleted({item:n}),n.internalChatData&&r&&e.transport.dispatch.agent_message({user_id:r,message:{session_id:n.internalChatData.userId,message_type:"close_chat"}})}}));var T=Pe(e);je(Pe(e),"getWorkitemInfo",function(){var e=ke((function(e){return Ve(this,(function(t){switch(t.label){case 0:return[4,T.transport.dispatch.agent_get_workitem_data({workitem_id:e})];case 1:return[2,te(t.sent())]}}))}));return function(t){return e.apply(this,arguments)}}());var D=Pe(e);je(Pe(e),"fetchFormAndFormDataForWorkitem",function(){var e=ke((function(e){var t,n,r,a,o,i,s,c,u,l,d,_,p,m,h;return Ve(this,(function(v){switch(v.label){case 0:return c=D.sessionConnector.getStateData().serverOrigin,(null===(t=e.workitemData)||void 0===t?void 0:t.serviceId)?[4,(0,f.apiRequests)(c).getFormDefinition({service:null===(n=e.workitemData)||void 0===n?void 0:n.serviceId})]:[2];case 1:return u=v.sent(),[4,(0,f.apiRequests)(c).getActivityFormValues({record:null===(r=e.workitemData)||void 0===r?void 0:r.listRecordId,serviceId:null===(a=e.workitemData)||void 0===a?void 0:a.serviceId,link:null===(o=e.workitemData)||void 0===o?void 0:o.listLinkId})];case 2:return l=v.sent().variables,(d=u.find((function(e){return"SCREENPOP"===e.type})))?[4,D.fetchActivityFormRuntimeVariables(e,d)]:[2];case 3:return _=v.sent(),p=Ke({},l,_),m=(null===(s=e.details)||void 0===s||null===(i=s.formData)||void 0===i?void 0:i.values)||(0,g.createFormValues)(d,p),D.produceItem(e.id,(function(t){var n;t.details={formDefinitions:u,formData:Fe(Ke({},(null===(n=e.details)||void 0===n?void 0:n.formData)||{}),{values:m,variables:l})}})),h=D.stateData.items.find((function(t){var n,r;return(null===(n=t.workitemData)||void 0===n?void 0:n.id)===(null===(r=e.workitemData)||void 0===r?void 0:r.id)&&t.id!==e.id})),h&&D.produceItem(h.id,(function(t){var n;t.details={formDefinitions:u,formData:Fe(Ke({},(null===(n=e.details)||void 0===n?void 0:n.formData)||{}),{values:m,variables:l})}})),[2,u]}}))}));return function(t){return e.apply(this,arguments)}}());var A=Pe(e);je(Pe(e),"fetchActivityFormRuntimeVariables",function(){var e=ke((function(e,t){var n,r,a,o;return Ve(this,(function(i){switch(i.label){case 0:return r=["Contact","Company","Case","ActivityHistory"],(a=((null===(n=t.layout)||void 0===n?void 0:n.pages)||[]).flatMap((function(e){return e.fields||[]})).flatMap((function(e){var t=e.field;return(null==t?void 0:t.variableNames)||[]})).filter((function(e){return!r.some((function(t){return e.startsWith(t)}))}))).length?(o=(0,d.getInteractionStepId)(e),[4,A.getScenarioVariables({interactionStepId:o,variableNames:a})]):[2];case 1:return[2,i.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}());var P=Pe(e);je(Pe(e),"updateOrCreateWorkitem",function(){var e=ke((function(e){var t,n,r,a,o,i;return Ve(this,(function(s){switch(s.label){case 0:return(t=e.workitem_id)?P.workitemDataRequestTracker.hasRequest(t)?[4,null===(n=P.workitemDataRequestTracker.getRequest(t))||void 0===n?void 0:n.promise]:[3,2]:[2];case 1:s.sent(),s.label=2;case 2:return(r=P.findWorkitem(t))?(P.updateItem(r),[2,r]):(P.workitemDataRequestTracker.addRequest({requestId:t}),[4,P.getWorkitemInfo(t)]);case 3:return a=s.sent(),o=P.sessionConnector.getStateData().displayNameFormat,i=ne({incomingItem:e,workitem:a,displayNameFormat:o}),P.addNewInteractionItem(i),P.updateWorkItemByContact(i),queueMicrotask((function(){P.workitemDataRequestTracker.onResponse(t)})),[2,i]}}))}));return function(t){return e.apply(this,arguments)}}()),je(Pe(e),"updateLastItemWasWorkItem",(function(t){e.produceState((function(e){e.lastItemWasWorkItem=t}))})),je(Pe(e),"updateLastWorkItem",(function(t){e.produceState((function(e){e.lastWorkItem=t}))})),je(Pe(e),"singleStepConference",(function(t){return e.initiateCall({phone:(0,d.digitizePhone)(t.phone),contactId:t.contactId,accessNumberId:t.accessNumberId,associatedRecords:t.associatedRecords,serviceId:t.serviceId,origination:"conference",firstName:t.firstName,lastName:t.lastName,userId:t.userId}).then((function(t){var n,r=e.findItem(t.id);return(null==r||null===(n=r.callData)||void 0===n?void 0:n.callId)&&e.addPendingConferenceItemId(t.id),t}))})),je(Pe(e),"blindTransfer",(function(t){var n,r=t.item,a=t.phone,o=e.getActiveItem(),i=(0,d.getGlobalInteractionId)(o),s=e.getNotesAsString(r),c=e.getAssociateChatItemId(r);if(e.tenantId&&(null===(n=r.callData)||void 0===n?void 0:n.callId)&&i){var u=(0,d.digitizePhone)(a);e.transport.dispatch.e3pcc_single_step_transfer({tenant_id:e.tenantId,call_id:r.callData.callId,destination:u,global_interaction_id:i,user_data:(0,b.withoutUndefinedKeys)({dd:{notes:s,voice_signature:"0"},msg:{values:{},variables:{}},message_type:"transfer_data",chat_item_id:c})})}})),je(Pe(e),"completeTransfer",(function(){var t=e.getActiveItem(),n=(0,o.get)(t,"displayData.isConsultCall",""),r=e.findItem(n);r&&t&&e.completeTransferExplicit({mainCallItem:r,consultCallItem:t})})),je(Pe(e),"completeTransferExplicit",(function(t){var n,r,a=t.mainCallItem,o=t.consultCallItem,i=null!==(r=null===(n=o.callData)||void 0===n?void 0:n.callId)&&void 0!==r?r:"";if(e.tenantId&&i){var s,c,u=e.getNotesAsString(a),l=null!==(c=null===(s=a.callData)||void 0===s?void 0:s.callId)&&void 0!==c?c:"",d=e.getAssociateChatItemId(a);e.transport.dispatch.e3pcc_complete_transfer({consult_call_id:i,call_id:l,tenant_id:e.tenantId,user_data:(0,b.withoutUndefinedKeys)({dd:{notes:u,voice_signature:"0"},msg:{values:{},variables:{}},message_type:"transfer_data",chat_item_id:d})})}e.cleanAssociatedItems(o)})),je(Pe(e),"completeCallConference",(function(){var t,n,r;n=e.stateData.items.find((function(e){var t;return null===(t=e.displayData.hasConsultCalls)||void 0===t?void 0:t.length}));var a=e.stateData.items.find((function(e){return!!e.displayData.isConsultCall}));n?r=n.displayData.hasConsultCalls:a?(n=e.stateData.items.find((function(e){return e.id===a.displayData.isConsultCall})),r=[a.id]):(n=e.getActiveItem())&&(r=e.getConsultArray(n));var o="wrap_up"!==(null==n?void 0:n.state),i=null==n||null===(t=n.callData)||void 0===t?void 0:t.callId;if(n&&r){var s=r.map((function(t){return{call_id:e.findCallIdById(t)}}));e.tenantId&&i&&s.length&&o&&(e.transport.dispatch.e3pcc_complete_conference({consult_calls:s,call_id:i,tenant_id:e.tenantId}),e.optionallyTransferAssociatedConference(n))}})),je(Pe(e),"mergeAllCallsIntoConference",(function(){var t=e.stateData.items.filter((function(e){var t;return"voice"===e.mediaType&&(null===(t=e.callData)||void 0===t?void 0:t.callId)&&"wrap_up"!==e.state})).map((function(e){var t;return{call_id:null===(t=e.callData)||void 0===t?void 0:t.callId}}));if(t.length){var n=t[0];t.shift();var r=t.filter((function(e){return!!e}));e.tenantId&&(null==n?void 0:n.call_id)&&e.transport.dispatch.e3pcc_complete_conference({consult_calls:r,call_id:n.call_id,tenant_id:e.tenantId})}})),je(Pe(e),"destroyCallConference",(function(t){var n=e.findCallIdById(t);e.tenantId&&n&&e.transport.dispatch.e3pcc_destroy_conference({call_id:n,tenant_id:e.tenantId})})),je(Pe(e),"onExternalChatContent",(function(t){var n=t.content,r=t.item_id;Object.keys(n).sort((function(e,t){return Number(e)-Number(t)})).forEach((function(t){var a=n[t];switch(a.event){case"party_joined":case"party_changed":return e.onExternalChatPartyJoinedOrChanged(Fe(Ke({},a),{item_id:r}));case"party_left":return e.onExternalChatPartyLeft(Fe(Ke({},a),{item_id:r}));default:return null}}))})),je(Pe(e),"onChannelOpened",(function(t){var n=t.item_id,r=t.channel,a=e.findScenarioItem(n);(null==a?void 0:a.scenarioData)&&e.updateItem(Fe(Ke({},a),{scenarioData:Fe(Ke({},a.scenarioData),{channel:r})}))})),je(Pe(e),"onExternalChatPartyLeft",(function(t){e.removeChatParty(t)})),je(Pe(e),"onExternalChatPartyJoinedOrChanged",(function(t){var n=e.hasChatPartyStatusChanged(t);e.addOrUpdateChatParty(t),n&&"connected"===t.status&&e.toClientDispatch.onChatPartyConnected(t),"external"===t.type&&e.updateItemByExternalChatParty(t)})),je(Pe(e),"removeCallParty",(function(t){e.tenantId&&t&&e.transport.dispatch.e3pcc_remove_party({party_id:t.id,call_id:t.callId,tenant_id:e.tenantId})})),je(Pe(e),"onAgentItemSentimentData",(function(t){var n,r=t.item_id,a=t.party_id,o=t.sentiment,i=e.findScenarioItem(r);if(null==i||null===(n=i.voiceTranscript)||void 0===n?void 0:n.length){for(var s=i.voiceTranscript,c=qe(s),u=s.length-1;u>=0;u--){var l=s[u];if(l.partyId===a&&"voiceTranscriptMessage"===l.type){if(l.sentiment)break;c[u].sentiment={score:+o.score,label:o.label}}}e.updateItem(Fe(Ke({},i),{voiceTranscript:c}))}})),je(Pe(e),"onAgentItemMessageAttributes",(function(t){var n,r,a=t.item_id,o=t.ref_msg_id,i=t.ref_party_id,s=t.sentiment,c=e.findScenarioItem(a),l=null==c||null===(n=c.voiceTranscript)||void 0===n?void 0:n.findIndex((function(e){return e.msgId===o&&e.partyId===i}));if((null==c||null===(r=c.voiceTranscript)||void 0===r?void 0:r.length)&&void 0!==l&&-1!==l){var d=qe(c.voiceTranscript);d[l]=Fe(Ke({},d[l]),{sentiment:(0,u.getSentimentFrom)(Number(s.score))}),e.updateItem(Fe(Ke({},c),{voiceTranscript:d}))}})),je(Pe(e),"saveSuggestion",(function(t){var n,r,a,o,i,s,c=t.item_id,u=e.findScenarioItem(c);u?e.updateItem(Fe(Ke({},u),{botSuggestions:qe(null!==(n=u.botSuggestions)&&void 0!==n?n:[]).concat(qe((r=t,a=r.suggestions,o=r.party_id,i=r.timestamp,s=i?Number(i):Date.now(),(0,y.convertKVArray)(a).map((function(e){var t,n={text:e.content,startTime:s,endTime:s,timestamp:s,msgId:"suggestion-".concat(s),type:"suggestion",format:e.format,partyId:o};return(0,m.isLinkSuggestion)(e)&&(n.suggestionURLs=(0,y.convertKVArray)(e.suggestion_urls),n.autoOpenURL=(0,y.transportToBoolean)(e.auto_open_url),n.openURLIn=null!==(t=e.open_url_in)&&void 0!==t?t:"AGENT_DESKTOP"),n})))))})):ze.error("onAgentItemSuggestion: item not found by id: ".concat(c))})),je(Pe(e),"onAgentItemSuggestion",(function(t){e.saveSuggestion(t)})),je(Pe(e),"saveOpenedSuggestionUrl",(function(t,n){var r=e.findItem(t);if(r){var a=Fe(Ke({},r.openedBotSuggestionsUrls),je({},n,!0));e.updateItem(Fe(Ke({},r),{openedBotSuggestionsUrls:a}))}else ze.error("saveOpenedSuggestionUrl: item not found by id: ".concat(t))})),je(Pe(e),"onAgentVoiceTranscript",(function(t){var n=t.item_id,r=t.party_id,a=t.party_user_id,o=t.msg_id,i=t.transcript_data,s=e.findScenarioItem(n);if(s){var c=e.normalizeVoiceTranscriptText(i.t);if(c){var u,l=a===e.sessionConnector.getStateData().userId;e.updateItem(Fe(Ke({},s),{voiceTranscript:qe(null!==(u=s.voiceTranscript)&&void 0!==u?u:[]).concat([{text:c,partyId:r,confidence:+i.c,startTime:+i.s,endTime:+i.e,msgId:o,type:"voiceTranscriptMessage",isSelf:l,format:"TEXT"}])}))}}})),je(Pe(e),"onAgentItemIntent",(function(t){e.saveIntent(t),e.performIntentAutocheck(t)})),je(Pe(e),"saveIntent",(function(t){var n,r=e.findScenarioItem(t.item_id);r&&e.updateItem(Fe(Ke({},r),{receivedIntentsIds:qe(null!==(n=r.receivedIntentsIds)&&void 0!==n?n:[]).concat([t.intent_id])}))})),je(Pe(e),"performIntentAutocheck",(function(t){var n=e.findScenarioItem(t.item_id);n&&e.updateItem(a()(n,(function(e){var n,r,a,o,i=null===(r=e.details)||void 0===r||null===(n=r.formDefinitions)||void 0===n?void 0:n.find((function(e){return"SCREENPOP"===e.type})),s=null==i||null===(o=i.layout)||void 0===o||null===(a=o.pages)||void 0===a?void 0:a.flatMap((function(e){return e.fields})).filter((function(e){var n=e.field;return"CUSTOM"===(null==n?void 0:n.type)&&"CHECKBOX"===n.customType&&n.autocheckIntentId===t.intent_id}));null==s||s.forEach((function(t){e.details.formData.values[t.field.name]=!0}))})))})),je(Pe(e),"onAgentCallWaitingNotifyAudio",(function(t){var n=t.notify_state;e.produceState((function(e){e.callsWaitingInQueue=(0,y.transportToBoolean)(n)}))})),je(Pe(e),"pasteFromKB",(function(t,n){var r=e.findItem(t);(0,d.isEmail)(r)||e.activateItem(t),e.toClientDispatch.onPasteFromKB(t,n)})),je(Pe(e),"recordCall",(function(t){var n=e.sessionConnector.getStateData().userId;if(n&&t){e.updateItemDisplayData({scenarioItemId:t},{recordingChanging:!0});var r={user_id:n,item_id:t};e.transport.dispatch.agent_qm_record_start(r)}})),je(Pe(e),"stopRecordingCall",(function(t){if(t){e.updateItemDisplayData({scenarioItemId:t},{recordingChanging:!0});var n={item_id:t};e.transport.dispatch.agent_qm_record_stop(n)}})),je(Pe(e),"qmStartCall",(function(t){e.transport.dispatch.agent_qm_call_start({item_id:t.itemId,mode:t.mode,extension:t.extension})})),je(Pe(e),"muteCallRecording",(function(t){t&&e.transport.dispatch.agent_qm_record_mute({item_id:t})})),je(Pe(e),"unmuteCallRecording",(function(t){t&&e.transport.dispatch.agent_qm_record_unmute({item_id:t})})),je(Pe(e),"reportProblemItem",(function(t,n){t&&n&&e.transport.dispatch.agent_mark_problem_item({reported_problem:t,item_id:n})})),je(Pe(e),"flagItem",(function(t,n){t&&e.transport.dispatch.agent_flag_item({item_id:t,mode:n})})),je(Pe(e),"updateScreenPopData",(function(t){var n,r,a,o,i,s,c=t.itemId,u=t.customData,l=t.raSessionPin,_=t.raSessionId,f=e.findItem(c),p=(0,d.getMainItem)(e.stateData.items,f);if(p){var m,g,h=(0,d.getInteractionStepId)(f),v=Fe(Ke({},p.screenPopData),{serviceId:(0,d.getServiceId)(p),msg:{values:k(null==f||null===(r=f.details)||void 0===r||null===(n=r.formData)||void 0===n?void 0:n.values),variables:null!==(m=null==f||null===(o=f.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.variables)&&void 0!==m?m:{},shownPageIndex:null!==(g=null==f||null===(s=f.details)||void 0===s||null===(i=s.formData)||void 0===i?void 0:i.shownPageIndex)&&void 0!==g?g:0}});if(u&&(v.transferData=u),l&&_){var y=e.sessionConnector.getStateData().serverOrigin;v.nativeremoteassist={type:"nativeremoteassist",pin:l,action:"JOIN",baseUrl:"".concat(y,"/ra/viewer"),sessionId:_,popUponAnswer:!0}}e.transport.dispatch.agent_update_screenpop({item_id:h,screenpop_data:R(v,p.associatedObjects,p.activeCrmScreen)})}})),je(Pe(e),"sendScreenPopData",(function(t){var n=e.findItem(t.targetItemId),r=(0,d.getMainItem)(e.stateData.items,n),a=Fe(Ke({},null==r?void 0:r.screenPopData),{serviceId:(0,d.getServiceId)(r),msg:{values:{},variables:{}}});if(t.customData&&(a.transferData=t.customData),t.raSessionPin&&t.raSessionId){var o=e.sessionConnector.getStateData().serverOrigin;a.nativeremoteassist={type:"nativeremoteassist",pin:t.raSessionPin,action:"JOIN",baseUrl:"".concat(o,"/ra/viewer"),sessionId:t.raSessionId,popUponAnswer:!0}}e.transport.dispatch.agent_send_screenpop({item_id:t.userItemId,user_id:t.userId,screenpop_data:R(a,void 0,null==r?void 0:r.activeCrmScreen)})})),je(Pe(e),"setScenarioVariables",(function(t,n){if(!n){var r=e.getActiveItem();n=null==r?void 0:r.id}n&&e.transport.dispatch.agent_set_scenario_variables({item_id:n,values:t})})),je(Pe(e),"getScenarioVariables",(function(t){var n=t.itemId,r=t.interactionStepId,a=t.variableNames,o=function(){if(r)return r;if(n){var t=e.findItem(n);return(0,d.getInteractionStepId)(t)}}();return o?e.transport.dispatch.agent_get_scenario_variables({item_id:o,names:a.join(",")}).then((function(e){return e.values})):Promise.reject("Can't resolve interactionStepId")})),je(Pe(e),"setScenarioVariablesBeforeComplete",(function(t){var n=e.createCompletionScenarioVariables(t);e.setScenarioVariables(n,(0,d.getInteractionStepId)(t))})),je(Pe(e),"setDispositionReschedule",(function(t,n){var r=e.findItem(t),a=(0,o.get)(r,"dispositionData.disposition",{id:"",name:""});if(r){var i=Fe(Ke({},r),{dispositionData:Fe(Ke({},r.dispositionData),{disposition:Ke({},a,n)})});e.updateItem(i),e.toClientDispatch.onDispositionRescheduleUpdated(t,n)}})),je(Pe(e),"setDispositionScheduledEvent",(function(t){e.produceItem(t,(function(e){e.dispositionData||(e.dispositionData={}),e.dispositionData.disposition||(e.dispositionData.disposition={id:"",name:""}),e.dispositionData.disposition.calendarEntryExists=!0}))})),je(Pe(e),"addAssociatedObject",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1,primary:!1},a=e.findItem(t);if(a){var o=e.addAssociatedRecordToItem(a,n,r);e.updateItem(o)}})),je(Pe(e),"toggleAssociatedActivityRecord",(function(t,n){var r=e.findItem(t);r&&e.updateItem(a()(r,(function(e){(0,b.assertDefined)(e.associatedObjects);var t=e.associatedObjects.selected.indexOf(n);-1===t?e.associatedObjects.selected.push(n):e.associatedObjects.selected.splice(t,1),e.associatedObjects.touched=!0})))})),je(Pe(e),"setActiveCrmScreen",(function(t,n,r){var a=e.findItem(t);if(a)if((0,d.isInternalInteraction)(a))if((0,d.isConsultCall)(a)){var i=e.findItem((0,o.get)(a,"displayData.isConsultCall",""));i&&e.setItemCrmScreen(i,n,r)}else e.setItemCrmScreen(a,n,r);else(0,d.isWorkItem)(a)?e.globalCrmScreen=je({},n,r):e.setItemCrmScreen(a,n,r)}));var N=Pe(e);je(Pe(e),"fetchFormDefinition",function(){var e=ke((function(e){return Ve(this,(function(t){return(0,d.isWorkItem)(e)?[2,N.fetchFormAndFormDataForWorkitem(e)]:[2,N.fetchFormDefinitionForScenarioItem(e)]}))}));return function(t){return e.apply(this,arguments)}}());var M=Pe(e);return je(Pe(e),"fetchFormDefinitionForScenarioItem",function(){var e=ke((function(e){var t,n,r,a,o,i,s,c,u,l,d,_;return Ve(this,(function(p){switch(p.label){case 0:return(null===(t=e.scenarioData)||void 0===t?void 0:t.serviceId)?(i=M.sessionConnector.getStateData().serverOrigin,[4,(0,f.apiRequests)(i).getFormDefinition({service:null===(n=e.scenarioData)||void 0===n?void 0:n.serviceId})]):[2];case 1:return s=p.sent(),[4,(0,f.apiRequests)(i).getActivityFormValues({serviceId:null===(r=e.scenarioData)||void 0===r?void 0:r.serviceId,contactId:e.contactId||""})];case 2:return c=p.sent().variables,(u=s.find((function(e){return"SCREENPOP"===e.type})))?[4,M.fetchActivityFormRuntimeVariables(e,u)]:[2];case 3:return l=p.sent(),d=Ke({},c,l),_=(null===(o=e.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.values)||(0,g.createFormValues)(u,d),M.produceItem(e.id,(function(t){var n;t.details={formDefinitions:s,formData:Fe(Ke({},(null===(n=e.details)||void 0===n?void 0:n.formData)||{}),{values:_,variables:c})}})),[2,s]}}))}));return function(t){return e.apply(this,arguments)}}()),je(Pe(e),"setGroupChat",(function(t,n){var r=n.groupChatId,a=n.groupChatMembers,o=e.findItem(t);o&&e.updateItem(Fe(Ke({},o),{groupChatId:r,groupChatMembers:a}))})),je(Pe(e),"setFormValues",(function(t,n){e.produceItem(t,(function(e){var t,r,a;e.details=Fe(Ke({},e.details),{formData:Fe(Ke({},null===(t=e.details)||void 0===t?void 0:t.formData),{values:Ke({},null===(a=e.details)||void 0===a||null===(r=a.formData)||void 0===r?void 0:r.values,n)})})}))})),je(Pe(e),"setFormPageId",(function(t,n){var r,a,o,i,s,c=e.findItem(t);if(c){var u=null===(a=c.details)||void 0===a||null===(r=a.formDefinitions)||void 0===r?void 0:r.find((function(e){return"SCREENPOP"===e.type})),l=null==u||null===(i=u.layout)||void 0===i||null===(o=i.pages)||void 0===o?void 0:o.findIndex((function(e){return e.id===n}));e.updateItem(Fe(Ke({},c),{details:Fe(Ke({},c.details),{formData:Fe(Ke({},null===(s=c.details)||void 0===s?void 0:s.formData),{shownPageIndex:l})})}))}})),je(Pe(e),"completeEmiInteractions",(function(t){var n=t.emiType,r=t.newAccountId;e.stateData.items.filter((function(e){var t,a,o=null==e||null===(t=e.displayData)||void 0===t?void 0:t.emiUserType,i=null==e||null===(a=e.displayData)||void 0===a?void 0:a.emiOwnerId;return o&&-1!==(0,c.emiUserTypes)(n).indexOf(o)&&i!==r})).forEach((function(t){return e.agentChatClose(t.id)}))})),je(Pe(e),"dialWorkitem",(function(t){var n,r,a,o,i,s,c,u,l,_,f,p,m=t.workitemItemId,g=t.phoneNumber,h=e.sessionConnector.getStateData();if(!e.tenantId)return Promise.resolve({id:m,error:new Error("not authorized")});if(!h.phoneNumber)return Promise.resolve({id:m,error:new Error("your user has no phone")});var v=e.findItem(m);if(!v)return Promise.resolve({id:m,error:new Error("item not found")});if(!(0,d.isWorkItem)(v)&&!v.workitemData)return Promise.resolve({id:m,error:new Error("item is not workitem")});(0,b.assertDefined)(v.workitemData);var y=(0,d.getGlobalInteractionId)(v);if(!y)return Promise.resolve({id:m,error:new Error("global interaction id not found")});var S=g||v.workitemData.suggestedPhone;if(!S)return Promise.resolve({id:m,error:new Error("workitem without phone number")});var C=(0,d.digitizePhone)(S),I=e.transport.getNextRequestId(),w={callState:"requesting",requestId:I,destination:C},E=e.createInitiatedItem({itemKind:"preScenarioCall",mediaType:"voice",phone:C,requestId:I,callData:w,displayData:{lastName:(null===(n=v.displayData)||void 0===n?void 0:n.lastName)||(null===(r=v.displayData)||void 0===r?void 0:r.displayName),firstName:null===(a=v.displayData)||void 0===a?void 0:a.firstName,displayName:null===(o=v.displayData)||void 0===o?void 0:o.displayName},contactId:v.contactId,workitemId:null===(i=v.workitemData)||void 0===i?void 0:i.id,notes:null===(s=v.dispositionData)||void 0===s?void 0:s.notes,workItemData:v.workitemData,formDefinitions:null===(c=v.details)||void 0===c?void 0:c.formDefinitions,formData:null===(u=v.details)||void 0===u?void 0:u.formData,origination:"workitem"},h);return e.transport.dispatch.e3pcc_dial({request_id:I,tenant_id:e.tenantId,global_interaction_id:y,service_id:null===(l=v.workitemData)||void 0===l?void 0:l.serviceId,workitem_id:null===(_=v.workitemData)||void 0===_?void 0:_.id,scenario_engine_id:null===(f=v.workitemData)||void 0===f?void 0:f.scenario_engine_id,contact_id:v.contactId,dn:h.phoneNumber,destination:C,disregard_calling_hours:"0",ani_data:(null===(p=v.workitemData)||void 0===p?void 0:p.aniData)?{proposed_ani:v.workitemData.aniData.proposedAni,state:v.workitemData.aniData.state}:void 0}),e.timersConnector.dispatch.stopTimer("workitemAutoDial".concat(v.id)),E})),je(Pe(e),"dispatchDispositionData",(function(t){var n=e.findItem(t);n&&e.sendNotesDisposition(n)})),je(Pe(e),"didActivateAudioSessioniOS",(function(){e.toClientDispatch.onDidActivateAudioSessioniOS()})),je(Pe(e),"didDeactivateAudioSessioniOS",(function(){e.toClientDispatch.onDidDeactivateAudioSessioniOS()})),je(Pe(e),"sendCustomFields",(function(t,n,r){Object.keys(r).length&&e.transport.dispatch.agent_item_custom_fields({item_id:t,type:"report",values:r}),Object.keys(n).length&&e.transport.dispatch.agent_item_custom_fields({item_id:t,type:"activity",values:n})})),je(Pe(e),"postponeEmail",(function(t){var n=e.findItem(t);if(!n)return ze.error("postponeEmail - item not found by id: ",t);e.stopItem((0,d.getInteractionStepId)(n))})),je(Pe(e),"replyToEmail",(function(t){var n=e.findItem(t);if(!n)return ze.error("replyToEmail - item not found by id: ",t);e.transport.dispatch.agent_accept_item({item_id:(0,d.getInteractionStepId)(n)})})),je(Pe(e),"clearRemovedAssociatedItem",(function(t){var n=e.findItem(t);n&&e.produceState((function(e){var t=e.items.findIndex((function(e){return e.id===n.id}));delete e.items[t].removedAssociatedItemId}))})),je(Pe(e),"onAgentCallPickupNotify",(function(t){e.produceState((function(e){e.callPickupNotifications.push(Y(t))}))})),je(Pe(e),"onAgentCallPickupCancel",(function(t){var n=t.request_id;e.produceState((function(e){var t=e.callPickupNotifications.findIndex((function(e){return e.requestId===n}));-1!==t&&e.callPickupNotifications.splice(t,1)}))})),je(Pe(e),"acceptCallPickup",(function(t){var n=t.requestId,r=t.legId,a=t.replyTo,o=e.stateData.callPickupNotifications.find((function(e){return e.requestId===n})),i=r||(null==o?void 0:o.legId),s=a||(null==o?void 0:o.replyTo);o||i&&s?(e.transport.dispatch.agent_call_pickup_accept({request_id:n,leg_id:i,reply_to:s}),e.produceState((function(e){e.callPickupNotifications=[]}))):console.warn("acceptCallPickup - no call pickup with id ".concat(n))})),je(Pe(e),"rejectCallPickup",(function(t){var n=t.requestId,r=t.legId,a=t.replyTo,o=e.stateData.callPickupNotifications.find((function(e){return e.requestId===n})),i=r||(null==o?void 0:o.legId),s=a||(null==o?void 0:o.replyTo);o||i&&s?(e.transport.dispatch.agent_call_pickup_reject({request_id:n,leg_id:i,reply_to:s}),e.produceState((function(e){var t=e.callPickupNotifications.findIndex((function(e){return e.requestId===n}));-1!==t&&e.callPickupNotifications.splice(t,1)}))):console.warn("rejectCallPickup - no call pickup with id ".concat(n))})),je(Pe(e),"resetMissedCalls",(function(){e.produceState((function(e){e.missedCallsAmount=0}))})),e}return t=I,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,e3pcc_rtc_call_make:this.onThreePccRtcCallMake,e3pcc_rtc_call_drop:this.onThreePccRtcCallDrop,e3pcc_offered:this.onThreePccOffered,e3pcc_call_setup:this.onThreePccCallSetup,e3pcc_dialing:this.onThreePccDialing,e3pcc_ringing:this.onThreePccRinging,e3pcc_established:this.onThreePccEstablished,e3pcc_disconnected:this.onThreePccDisconnected,e3pcc_muted:this.onThreePccMuted,e3pcc_unmuted:this.onThreePccUnMuted,e3pcc_local_held:this.onThreePccLocalHeld,e3pcc_local_resumed:this.onThreePccLocalResumed,e3pcc_party_added:this.onThreePccPartyAddedOrChanged,e3pcc_party_changed:this.onThreePccPartyAddedOrChanged,e3pcc_party_removed:this.onThreePccPartyRemoved,e3pcc_device_snapshot:this.onThreePccDeviceSnapshot,e3pcc_failed:this.onThreePccFailed,e3pcc_audio_quality_alert:this.onThreePccAudioQualityAlert,agent_message:this.onAgentMessage,agent_unread_chat_sessions:this.onAgentUnreadChatSessions,agent_item_created:this.onAgentItemCreated,agent_new_item:this.onAgentNewItem,agent_item_changed:this.onAgentItemChanged,agent_item_intent:this.onAgentItemIntent,agent_item_pre_complete:this.onAgentAutoComplete,agent_chat:this.onAgentChat,agent_internal_message:this.onInternalMessage,agent_external_chat_party_left:this.onExternalChatPartyLeft,agent_external_chat_content:this.onExternalChatContent,agent_external_chat_party_joined:this.onExternalChatPartyJoinedOrChanged,agent_external_chat_party_changed:this.onExternalChatPartyJoinedOrChanged,agent_external_chat_channel_opened:this.onChannelOpened,agent_call_waiting_notify_audio:this.onAgentCallWaitingNotifyAudio,agent_item_voice_transcript_data:this.onAgentVoiceTranscript,agent_item_suggestion_data:this.onAgentItemSuggestion,agent_item_sentiment_data:this.onAgentItemSentimentData,agent_item_message_attributes:this.onAgentItemMessageAttributes,agent_call_pickup_notify:this.onAgentCallPickupNotify,agent_call_pickup_cancel:this.onAgentCallPickupCancel}),this.fromClientDispenser.subscribe({acceptCallPickup:this.acceptCallPickup,acceptItem:this.acceptItem,replyToEmail:this.replyToEmail,postponeEmail:this.postponeEmail,activateItem:this.activateItem,addAssociatedObject:this.addAssociatedObject,addNote:this.addNote,agentChatClose:this.agentChatClose,agentChatOpen:this.agentChatOpen,blindTransfer:this.blindTransfer,cancelCallReservation:this.cancelCallReservation,clearRemovedAssociatedItem:this.clearRemovedAssociatedItem,closeInternalChat:this.closeInternalChat,completeCallConference:this.completeCallConference,completeEmiInteractions:this.completeEmiInteractions,completeItem:this.completeItem,completeTransfer:this.completeTransfer,completeTransferExplicit:this.completeTransferExplicit,createPotentialItem:this.createPotentialItem,createRtcCall:this.createRtcCall,delegateRASessionStart:this.delegateRASessionStart,destroyCallConference:this.destroyCallConference,dialWorkitem:this.dialWorkitem,didActivateAudioSessioniOS:this.didActivateAudioSessioniOS,didDeactivateAudioSessioniOS:this.didDeactivateAudioSessioniOS,disconnectItem:this.disconnectItem,dispatchDispositionData:this.dispatchDispositionData,fetchFormDefinition:this.fetchFormDefinition,flagItem:this.flagItem,getScenarioVariables:this.getScenarioVariables,holdItem:this.holdItem,initiateCall:this.initiateCall,initiateChat:this.initiateChat,mergeAllCallsIntoConference:this.mergeAllCallsIntoConference,muteCallRecording:this.muteCallRecording,muteItem:this.muteItem,onAgentCallPickupCancel:this.onAgentCallPickupCancel,onAgentCallPickupNotify:this.onAgentCallPickupNotify,onNotificationData:this.onNotificationData,openInternalChat:this.openInternalChat,pasteFromKB:this.pasteFromKB,qmStartCall:this.qmStartCall,recordCall:this.recordCall,rejectCallPickup:this.rejectCallPickup,rejectItem:this.rejectItem,removeCallParty:this.removeCallParty,replaceNote:this.replaceNote,reportProblemItem:this.reportProblemItem,reserveCall:this.reserveCall,resetMissedCalls:this.resetMissedCalls,resumeItem:this.resumeItem,saveEmailDraft:this.saveEmailDraft,sendEmailDraft:this.sendEmailDraft,changeEmailService:this.changeEmailService,saveOpenedSuggestionUrl:this.saveOpenedSuggestionUrl,saveSuggestion:this.saveSuggestion,sendAgentNotificationResult:this.sendAgentNotificationResult,sendCustomFields:this.sendCustomFields,sendDtmf:this.sendDtmf,sendRtcCallReset:this.sendRtcCallReset,sendScreenPopData:this.sendScreenPopData,setActiveCrmScreen:this.setActiveCrmScreen,setDisposition:this.setDisposition,setDispositionReschedule:this.setDispositionReschedule,setDispositionScheduledEvent:this.setDispositionScheduledEvent,setFormPageId:this.setFormPageId,setFormValues:this.setFormValues,setGroupChat:this.setGroupChat,setNotes:this.setNotes,setScenarioVariables:this.setScenarioVariables,setScenarioVariablesBeforeComplete:this.setScenarioVariablesBeforeComplete,singleStepConference:this.singleStepConference,stopRecordingCall:this.stopRecordingCall,toggleAssociatedActivityRecord:this.toggleAssociatedActivityRecord,unmuteCallRecording:this.unmuteCallRecording,unmuteItem:this.unmuteItem,updateNote:this.updateNote,updateScreenPopData:this.updateScreenPopData,useContact:this.useContact}),this.sessionConnector.dispenser.subscribe({onEmiAccountChanged:function(t){var n=t.emiType,r=t.newAccount;e.completeEmiInteractions({emiType:n,newAccountId:r})}}),this.timersConnector.dispenser.subscribe({onAutoAnswerTimerCompleted:function(t){e.acceptItem(t.interactionId)},onWorkItemAutoDialTimerCompleted:function(t){e.dialWorkitem({workitemItemId:t.interactionId})}}),this.prerecordedMessagesConnector.dispenser.subscribe({onPlayingPromptCompleted:function(t){t&&e.unmuteItem(t)}}))}},{key:"removeItem",value:function(e){var t=this;this.toClientDispatch.onItemRemoved(e),this.produceState((function(n){var r=n.items.findIndex((function(t){return t.id===e.id}));-1!==r&&((0,p.removeSavedItemState)(t.localSettings,e.id),n.items.splice(r,1),n.modalItemIds=pe(n.modalItemIds,n.items),n.activeItemId===e.id&&(n.activeItemId=void 0))})),this.timersConnector.dispatch.stopTimer("autoAnswer/".concat(e.id)),this.timersConnector.dispatch.stopTimer("workitemAutoDial".concat(e.id)),e.id in this.dispositionSent&&delete this.dispositionSent[e.id],delete this.waitingForServiceRAItems[e.id],this.activateLastItemIfNoActive(),this.removeAssociatedIdFromItems(e.id)}},{key:"activateLastItemIfNoActive",value:function(){if(!this.getActiveItem()&&this.stateData.items.length){var e=this.stateData.items[this.stateData.items.length-1],t=(0,d.getHighestPriorityAssociatedItem)(e,this.stateData.items);t?this.activateItem(t.id):this.activateItem(e.id)}}},{key:"updateReporter",value:function(e){var t=e.interactionStepId,n=e.firstName,r=e.lastName,a=e.phone,o=e.email,i=e.id,s=this.findScenarioItem(t);(0,d.isEmail)(s)&&this.updateItem(Fe(Ke({},s),{contactId:i,displayData:Fe(Ke({},s.displayData),{number:a||s.displayData.number,email:o||s.displayData.email}),emailData:Fe(Ke({},s.emailData),{reporterId:i,reporterFirstName:n||s.emailData.reporterFirstName,reporterLastName:r||s.emailData.reporterLastName})}))}},{key:"handleWorkItemChanged",value:function(e){var t=this;return ke((function(){var n,r,a,o;return Ve(this,(function(i){switch(i.label){case 0:return e.workitem_id?(n=t.sessionConnector.getStateData().displayNameFormat,(null==(r=t.findWorkitem(e.workitem_id))?void 0:r.workitemData)?[3,2]:[4,t.getWorkitemInfo(e.workitem_id)]):[2];case 1:a=i.sent(),i.label=2;case 2:return"completed"===(o=ne({incomingItem:e,workitem:a,oldItem:r,displayNameFormat:n})).state?t.completeAgentItem(o):r?t.updateItem(o):t.addNewInteractionItem(o),[2]}}))}))()}},{key:"startAutoAnswerTimer",value:function(e,t){void 0===t||this.timersConnector.getStateData().timers[e]||"mobile"===this.platformSpecific.clientType()||this.timersConnector.dispatch.startTimer({id:"autoAnswer/".concat(e),type:"autoAnswer",interactionId:e,timeoutInSeconds:t})}},{key:"delegateIfRAEnabled",value:function(e,t){var n=this;return ke((function(){var r;return Ve(this,(function(a){switch(a.label){case 0:return[4,n.servicesDispositionsConnector.dispatch.getService(t)];case 1:return(null==(r=a.sent())?void 0:r.remoteAssistPopEnabled)&&n.delegateRASessionStart(e),[2]}}))}))()}},{key:"copyClientOnlyDataToNewItem",value:function(e,t){e.associatedObjects&&(t.associatedObjects=e.associatedObjects),void 0!==e.activeCrmScreen&&(t.activeCrmScreen=e.activeCrmScreen),e.origination&&(t.origination=e.origination),e.parties&&(t.parties=e.parties)}},{key:"completeAgentItem",value:function(e,t){this.dispositionSent[e.id]||this.sendNotesDisposition(e),this.toClientDispatch.onItemCompleted({item:e,previousState:t}),(0,d.isCall)(e)&&(0,d.isInboundInteraction)(e)&&!e.displayData.deliveredStartTime&&(this.incrementMissedCallsAmount(),this.toClientDispatch.onCallMissed(e)),this.performQueuedAssociatedTransfer(e),this.resetConsultCallReferences(e),this.removeItem(e)}},{key:"sendNotesDisposition",value:function(e){var t,n,r,a,o,i,s,c,u,l,_,f,p,m,g=(0,d.getInteractionStepId)(e);if(g){var h,v,b=null!==(h=null===(n=e.dispositionData)||void 0===n||null===(t=n.disposition)||void 0===t?void 0:t.name)&&void 0!==h?h:"";e.scenarioData&&b&&"chat"===e.mediaType&&this.transport.dispatch.agent_external_chat_message({msg:"Disposition: ".concat(b),msg_id:String(Date.now()),msg_text:"Disposition: ".concat(b),item_id:g,channel:e.scenarioData.channel,type:"disposition"}),this.transport.dispatch.agent_item_disposition({item_id:g,notes:this.getNotesAsString(e),disposition_id:null===(a=e.dispositionData)||void 0===a||null===(r=a.disposition)||void 0===r?void 0:r.id,resch_from:null===(i=e.dispositionData)||void 0===i||null===(o=i.disposition)||void 0===o?void 0:o.rescheduleFrom,resch_to:null===(c=e.dispositionData)||void 0===c||null===(s=c.disposition)||void 0===s?void 0:s.rescheduleTo,resch_phone:null===(l=e.dispositionData)||void 0===l||null===(u=l.disposition)||void 0===u?void 0:u.reschedulePhone,resch_timezone:null===(f=e.dispositionData)||void 0===f||null===(_=f.disposition)||void 0===_?void 0:_.rescheduleTimezone,is_voice_signature:"0",calendar_entry_exists:(0,y.booleanToTransport)(null!==(v=null===(m=e.dispositionData)||void 0===m||null===(p=m.disposition)||void 0===p?void 0:p.calendarEntryExists)&&void 0!==v&&v),negative_intents:(0,y.toKVArray)(this.getNotReceivedIntents(e))}),this.dispositionSent[e.id]=!0}}},{key:"formatCallParty",value:function(e){var t={id:e.party_id,callId:e.call_id,userId:e.user_id,contactId:e.contact_id,phone:e.phone,destination:e.dn,name:e.name,role:e.role,theirItemId:e.item_id,conferenceHostId:e.conference_host_id};if(t.userId&&(t.firstName=e.user_firstname,t.lastName=e.user_lastname),t.contactId&&(t.firstName=e.contact_first_name,t.lastName=e.contact_last_name),(t.userId||t.contactId)&&(t.firstName||t.lastName)){var n=this.sessionConnector.getStateData().displayNameFormat;t.name=(0,u.formatFullName)(n,t.firstName,t.lastName)}return t}},{key:"updateWorkItemByContact",value:function(e){var t=this,n=this.sessionConnector.getStateData();e.contactId&&!(0,d.hasFetchedContact)(e,e.contactId)&&(this.initializeFetchedContact(e,e.contactId),ue({contactId:e.contactId,itemId:e.id,sessionData:n,onContactFetched:function(e){var r=e.itemId,a=e.contactId,o=e.data,i=t.findItem(r);(null==i?void 0:i.contactId)===a&&t.updateWorkItemContactData(i,o,n.displayNameFormat)}}))}},{key:"optionallyCompletePendingConference",value:function(e){e&&this.pendingConferenceItemIds.includes(e.id)&&(this.removePendingConferenceItemId(e.id),this.completeCallConference())}},{key:"getAssociateChatItemId",value:function(e){return function(e){if(e&&!(0,d.isChatConference)(e))return(0,d.getInteractionStepId)(e)}(function(e,t){var n;return null===(n=e.associatedItemIds)||void 0===n?void 0:n.reduce((function(e,n){var r=t.findItem(n);return(0,d.isExternalChat)(r)?r:e}),void 0)}(e,this))}},{key:"removeChatParty",value:function(e){var t=this.findScenarioItem(e.item_id);if(t){var n=(0,o.get)(t,"chatParties",[]).filter((function(t){return t.party_id!==e.party_id}));this.updateItem(Fe(Ke({},t),{chatParties:n}))}}},{key:"addOrUpdateChatParty",value:function(e){var t=this.findScenarioItem(e.item_id);if(t){var n,r,a,o,i=null!==(r=null==t?void 0:t.chatParties)&&void 0!==r?r:[],s=null!==(a=null==t?void 0:t.allChatParties)&&void 0!==a?a:[],c=_(i,e),u=_(s,e),l=Fe(Ke({},t),{chatParties:c,allChatParties:u});(null!==(o=null===(n=(0,d.filterSelfAndServiceChatParties)(c))||void 0===n?void 0:n.length)&&void 0!==o?o:0)>1&&(l.isOrWasConference=!0),this.updateItem(l)}function _(e,t){return e.length?e.reduce(function(e){var t;return function(n,r,a,o){return e.party_id===r.party_id?(n.push(e),t=!0):n.push(r),a!==o.length-1||t||n.push(e),n}}(t),[]):[t]}}},{key:"hasChatPartyStatusChanged",value:function(e){var t=this.findScenarioItem(e.item_id),n=(0,d.findPartyById)(null==t?void 0:t.chatParties,e.party_id);return(null==n?void 0:n.status)!==e.status}},{key:"updateItemByExternalChatParty",value:function(e){var t=this,n=this.findScenarioItem(e.item_id),r=this.sessionConnector.getStateData();if(n){e.contact_id&&this.initializeFetchedContact(n,e.contact_id);var a=ce({item:n,party:e,sessionData:r,onContactFetched:function(n){var a=n.itemId,o=n.contactId,i=n.data,s=t.findItem(a);(null==s?void 0:s.contactId)===o&&t.updateItemContactData(s,i,e,r.displayNameFormat)}});this.updateItem(a);var o=this.findAssociatedPotentialInteraction(a.contactId);o?this.removeItem(o):this.addAssociatedItemIds(a)}}},{key:"normalizeVoiceTranscriptText",value:function(e){return e.replaceAll("%HESITATION","").trim()}},{key:"createCompletionScenarioVariables",value:function(e){var t,n,r,a,o,s,c,u=new Map,l=Be(null!==(c=(0,d.getItemNotes)(e))&&void 0!==c?c:[],1)[0];u.set("sf:description",l);var _=null===(n=e.screenPopData)||void 0===n||null===(t=n.salesforce)||void 0===t?void 0:t.objectId,p=null===(a=e.screenPopData)||void 0===a||null===(r=a.salesforce)||void 0===r?void 0:r.objectType;if(_&&u.set("sf:objectId",_),_&&u.set("sf:objectType",p),e.displayData.deliveredStartTime&&e.displayData.acwStartTime){var m=(0,h.getDuration)(e.displayData.deliveredStartTime,e.displayData.acwStartTime,"seconds");u.set("sf:duration",m),u.set("duration",m),u.set("startTime",e.displayData.deliveredStartTime),u.set("endTime",e.displayData.acwStartTime)}var g=this.sessionConnector.getStateData().serverOrigin,v=(0,f.getRecordingUrl)(g,(0,d.getInteractionId)(e));u.set("sf:recordingUrl",v);var y,b,S=(0,d.getServiceNameFromItem)(e,e.mediaType&&i.SALES_FORCE_PREFIXES[e.mediaType]);u.set("sf:serviceName",S),u.set("sf:direction",(y=e,b="Internal",(0,d.isExternalContactCall)(y)&&(b="inbound"===y.direction?"Inbound":"Outbound"),b));var C=e.playbackUrl?(0,f.getPlaybackUrl)(g,e.playbackUrl):void 0;u.set("recordingUrl",v),S&&u.set("serviceName",S),e.direction&&u.set("direction",e.direction),C&&u.set("playbackUrl",C);var I=null===(o=e.associatedObjects)||void 0===o?void 0:o.selected.length;I&&u.set("numberOfAssociatedRecords",I);var w=null===(s=e.associatedObjects)||void 0===s?void 0:s.list.filter((function(t){var n;return null===(n=e.associatedObjects)||void 0===n?void 0:n.selected.includes(t.id)})).map((function(e){return{objectId:e.id,objectType:e.type}}));return(null==w?void 0:w.length)&&u.set("associatedRecords",w),Object.fromEntries(u)}},{key:"addAssociatedRecordToItem",value:function(e,t,n){return"unknown"!==e.state||n.force?a()(e,(function(e){e.associatedObjects||(e.associatedObjects={list:[],selected:[],touched:!1,primary:[]});var r=e.associatedObjects,a=r.list.findIndex((function(e){return e.id===t.id}));if(-1!==a&&r.list.splice(a,1),r.list.unshift(t),n.primary&&r.primary.push(t.id),r.list.length>50){var i=(0,o.findLastIndex)(r.list,(function(e){return!r.selected.includes(e.id)&&!r.primary.includes(e.id)}));-1===i&&(i=(0,o.findLastIndex)(r.list,(function(e){return!r.selected.includes(e.id)}))),-1===i&&(i=0),r.list.splice(i,1)}r.touched||(r.selected=[t.id])})):e}},{key:"stopItem",value:function(e){this.transport.dispatch.agent_stop_item({item_id:e})}},{key:"getUserDetails",value:function(e,t,n){var r=this;return ke((function(){var a,o;return Ve(this,(function(i){switch(i.label){case 0:return[4,r.transport.dispatch.agent_get_users_details({type:"CHAT_CENTER",users:(0,y.toKVArray)([e]),user_fields:Object.assign({},t)})];case 1:return a=i.sent(),(o=a.users[0])&&n(o),[2]}}))}))()}},{key:"updateOrCreateScenarioItem",value:function(e){var t=this;return ke((function(){var n,r,a,o,i;return Ve(this,(function(s){if(n=t.findNewScenarioItem(e),r=t.sessionConnector.getStateData().displayNameFormat,a=V(e,n,r),e.desktop_data&&e.desktop_data.associated_records)try{(o=JSON.parse(e.desktop_data.associated_records)).forEach((function(e){a=t.addAssociatedRecordToItem(a,e,{force:!0,primary:!1})})),o.length&&(i=M(o[0]))&&t.transport.dispatch.agent_update_screenpop({item_id:(0,d.getInteractionStepId)(a),screenpop_data:i})}catch(c){}return n?(t.updateItem(a),t.toClientDispatch.onNewItemDelivered(a)):(!(0,d.isExternalChat)(a)&&!(0,d.isExternalContactCall)(a)||a.activeCrmScreen||(a.activeCrmScreen=t.globalCrmScreen||void 0,t.globalCrmScreen=null),t.addNewInteractionItem(a)),[2,a]}))}))()}},{key:"restoreInteractionItems",value:function(e){var t=this;return ke((function(){var n,r,a,o,i,s,c,u,l,d,_,f,p,m,g,h;return Ve(this,(function(v){switch(v.label){case 0:return t.produceState((function(e){e.isLoaded=!1})),[4,t.localSettings.get("savedInteractionItems")];case 1:n=v.sent(),r={},a={},o=!0,i=!1,s=void 0,v.label=2;case 2:v.trys.push([2,9,10,11]),c=e[Symbol.iterator](),v.label=3;case 3:return(o=(u=c.next()).done)?[3,8]:(l=u.value,d=function(e,t){var n=void 0;if(e){var r=!0,a=!1,o=void 0;try{for(var i,s=Object.keys(e)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;e[c].interactionStepId===t&&(n=c)}}catch(g){a=!0,o=g}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}return e&&n?{savedItemId:n,savedItem:fe(e[n])}:{}}(n,l.item_id),_=d.savedItemId,f=d.savedItem,_&&f&&(r[_]=f),"workitem"!==l.media_type?[3,5]:[4,t.restoreInteractionWorkItem(l)]);case 4:return m=v.sent(),[3,6];case 5:m=t.restoreInteractionItem(l,_,f),v.label=6;case 6:(p=m)&&(a[p]=!0),v.label=7;case 7:return o=!0,[3,3];case 8:return[3,11];case 9:return g=v.sent(),i=!0,s=g,[3,11];case 10:try{o||null==c.return||c.return()}finally{if(i)throw s}return[7];case 11:return h=t.stateData.items.filter((function(e){return!a[e.id]})),h.forEach((function(e){t.removeItem(e)})),t.localSettings.set("savedInteractionItems",r),t.stateData=Fe(Ke({},t.stateData),{isLoaded:!0,agentWelcomeReceived:!0}),t.stateData.items.forEach((function(e){t.addAssociatedItemIds(e)})),t.toClientDispatch.onChange(t.stateData),t.activateLastItemIfNoActive(),t.toClientDispatch.onInteractionItemsRestored(t.stateData.items),[2]}}))}))()}},{key:"restoreInteractionWorkItem",value:function(e){var t=this;return ke((function(){var n,r,a,o;return Ve(this,(function(i){switch(i.label){case 0:return n=t.findNewScenarioItem(e),e.workitem_id?[4,t.getWorkitemInfo(e.workitem_id)]:[2,void 0];case 1:return r=i.sent(),a=t.sessionConnector.getStateData().displayNameFormat,"completed"===(o=ne({incomingItem:e,workitem:r,displayNameFormat:a})).state?t.completeAgentItem(o):n?t.updateItem(o):t.addNewInteractionItem(o),[2,e.item_id]}}))}))()}},{key:"restoreInteractionItem",value:function(e,t,n){var r=this,a=this.findNewScenarioItem(e),o=a;!o&&t&&n&&(o=Fe(Ke({},n),{id:t,scenarioData:{interactionStepId:n.interactionStepId}}));var i=this.sessionConnector.getStateData(),s=i.displayNameFormat,c=i.serverOrigin,u=V(e,o,s);if((0,d.isEmail)(u)){var l,_=(null!==(l=u.emailData)&&void 0!==l?l:{}).caseId;_&&(0,f.apiRequests)(c).getCaseReporter({caseId:_}).then((function(e){r.updateReporter({interactionStepId:(0,d.getInteractionStepId)(u),firstName:null==e?void 0:e.first_name,lastName:null==e?void 0:e.last_name,id:null==e?void 0:e._id.oid})}))}return a?this.updateItem(u):this.addNewInteractionItem(u),u.id}},{key:"applyChatLaunchPoint",value:function(e,t){var n=this;this.transport.dispatch.chat_launch_point_info({id:t}).then((function(t){var r=t.result,a=t.error;if(!(null==a?void 0:a.message)&&r){if(1===r.length){var o="1"===r[0].dial,i=Number(r[0].timeout);o&&!Number.isNaN(i)&&i>=0&&setTimeout((function(){var t=n.findItem(e);t&&"completed"!==t.state&&t.externalChatData&&t.externalChatData.requiresCallToNumber&&n.initiateCall({phone:t.externalChatData.requiresCallToNumber,origination:"auto"})}),i)}}else ze.error(null==a?void 0:a.message)}))}},{key:"tryToAutoRejectIncomingEmail",value:function(e){return Object.values(this.tabsConnector.getStateData().tabs).some((function(e){return"ad"===e.app}))||"email"!==e.media_type||"inbound"!==e.direction||"delivery_pending"!==e.state?{autoRejected:!1}:(this.stopItem(e.item_id),this.toClientDispatch.onAutoRejectIncomingEmail(),{autoRejected:!0})}},{key:"markItemThatAssociatedItemWasRemoved",value:function(e,t){"potential"===e.itemKind&&this.produceState((function(n){var r=n.items.findIndex((function(t){return t.id===e.id}));n.items[r].removedAssociatedItemId=t}))}},{key:"cleanup",value:function(){xe(Le(I.prototype),"cleanup",this).call(this),this.dispositionSent={},this.waitingForServiceRAItems={},this.globalCrmScreen=null,this.defaultDIDChatServiceId=void 0,this.defaultDIDCallServiceId=void 0}},{key:"resetState",value:function(){xe(Le(I.prototype),"resetState",this).call(this),this.dispositionSent={},this.waitingForServiceRAItems={},this.globalCrmScreen=null,this.defaultDIDChatServiceId=void 0,this.defaultDIDCallServiceId=void 0}}])&&Me(t.prototype,n),r&&Me(t,r),I}(De)},95994:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InterstateLogicStateContextProvider:()=>i,useInterstateLogicState:()=>c,useInterstateLogicStateConnector:()=>d,useInterstateLogicStateMethods:()=>l,useInterstateLogicStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("InterstateLogicStateContextProvider"),o=a.getContext,i=a.InterstateLogicStateContextProvider,s=(0,r.createStateHooks)("interstateLogicState",o),c=s.useInterstateLogicState,u=s.useInterstateLogicStateRef,l=s.useInterstateLogicStateMethods,d=s.useInterstateLogicStateConnector},1604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialInterstateLogicState:()=>r,interstateLogicStateControlEvents:()=>i,interstateLogicStateTrackerEvents:()=>o});var r=function(){return{isActiveInteractionFrozen:!1}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={}},87130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InterstateLogicStateImpl:()=>p});var r=n(66534),a=n(40381);function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},u(e,t,n||e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function d(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?o(e):t;var n}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(p,e);var t,n,r,d=f(p);function p(){var e;return i(this,p),c(o(e=d.apply(this,arguments)),"activeInteractionId",void 0),c(o(e),"onVisibilityChange",(function(){"visible"===document.visibilityState?(e.activeInteractionId&&e.activeInteractionId!==e.interactionStateConnector.getStateData().activeItemId&&e.interactionStateConnector.dispatch.activateItem(e.activeInteractionId),e.produceState((function(e){e.isActiveInteractionFrozen=!1}))):e.activeInteractionId&&e.produceState((function(e){e.isActiveInteractionFrozen=!0}))})),e}return t=p,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.interactionStateConnector.dispenser.subscribe({onInitialState:function(t){e.activeInteractionId=t.activeItemId},onItemRemoved:function(t){t.id===e.activeInteractionId&&(e.activeInteractionId=void 0,e.produceState((function(e){e.isActiveInteractionFrozen=!1})))},onActiveItemChanged:function(t){e.stateData.isActiveInteractionFrozen||(e.activeInteractionId=t.id)}}),this.userProfileStateConnector.dispenser.subscribe({onInitialState:function(t){"userLanguage"in t&&e.localizationConnector.dispatch.setLanguage(t.userLanguage)},onChange:function(t){"userLanguage"in t&&e.localizationConnector.dispatch.setLanguage(t.userLanguage)}}),this.localizationConnector.dispenser.subscribe({onInitialState:function(e){(0,a.setDayjsLocaleGlobally)(e.language)},onChange:function(e){e.language&&(0,a.setDayjsLocaleGlobally)(e.language)}})),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("visibilitychange",this.onVisibilityChange,!0)}},{key:"cleanup",value:function(){u(l(p.prototype),"cleanup",this).call(this),"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener("visibilitychange",this.onVisibilityChange,!0)}}])&&s(t.prototype,n),r&&s(t,r),p}(n(16152).StateFactory.createBaseStateClass({name:"interstateLogicState",controlEvents:r.interstateLogicStateControlEvents,trackerEvents:r.interstateLogicStateTrackerEvents,options:{authorized:!0},getInitialState:r.getInitialInterstateLogicState,dependencies:["interactionStateConnector","userProfileStateConnector","localizationConnector"]}))},53685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AuthorizedProviders:()=>Z,BaseProviders:()=>me});var r=n(52322),a=n(66029),o=n.n(a),i=n(34805),s=n(41844),c=n(85698),u=n(24339),l=n(79707),d=n(14134),_=n(28074),f=n(60142),p=n(87517),m=n(53546),g=n(32383),h=n(2224),v=n(27554),y=n(16665),b=n(19806),S=n(3118),C=n(98525),I=n(57128),w=n(61721),E=n(88445),O=n(37010),T=n(9339),D=n(49553),A=n(68588),P=n(15922),R=n(9505),k=n(64470),N=n(20002),M=n(37295),j=n(26266),x=n(36165),L=n(48325),K=n(13641),F=(0,K.createStateContextProvider)("CalendarSettingsStateContextProvider"),$=F.getContext,U=F.CalendarSettingsStateContextProvider,B=(0,K.createStateHooks)("calendarSettingsState",$),q=(B.useCalendarSettingsState,B.useCalendarSettingsStateRef,B.useCalendarSettingsStateMethods,B.useCalendarSettingsStateConnector,n(73734)),G=n(49160),H=n(88636),V=n(74130),W=n(77434),z=n(64665),Y=n(64622);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X,Z=function(e){var t=e.baseConnectors,n=e.children,K=J(o().useState((function(){return(0,_.createAuthorizedConnectors)(t)})),1)[0];(0,a.useEffect)((function(){return window.connectors=K,function(){return null==K?void 0:K.cleanup()}}),[K]);var F=K.pageConnectors,$=K.sharedConnectors;return[{Provider:C.InterstateLogicStateContextProvider,connector:F.interstateLogicStateConnector},{Provider:u.BPClientStateContextProvider,connector:$.bpClientStateConnector},{Provider:s.AgentStateContextProvider,connector:$.agentStateConnector},{Provider:S.InteractionStateContextProvider,connector:$.interactionStateConnector},{Provider:c.AriaStatusStateContextProvider,connector:F.ariaStatusStateConnector},{Provider:q.CalendarStateContextProvider,connector:F.calendarStateConnector},{Provider:U,connector:$.calendarSettingsStateConnector},{Provider:L.CalendarAlertStateContextProvider,connector:$.calendarAlertStateConnector},{Provider:V.GroupChatContextProvider,connector:$.groupChatConnector},{Provider:I.PredefinedMessageStateContextProvider,connector:F.predefinedMessageStateConnector},{Provider:i.ActivitiesStateContextProvider,connector:F.activitiesStateConnector},{Provider:T.RescueStateContextProvider,connector:$.rescueStateConnector},{Provider:f.ContactsStateContextProvider,connector:F.contactsStateConnector},{Provider:l.CampaignsStateContextProvider,connector:$.campaignsStateConnector},{Provider:k.TimezonesStateContextProvider,connector:$.timezonesStateConnector},{Provider:j.UserProfileStateContextProvider,connector:$.userProfileStateConnector},{Provider:x.WebRtcStateContextProvider,connector:F.webRtcStateConnector},{Provider:H.FavoritesStateContextProvider,connector:$.favoritesStateConnector},{Provider:w.PrerecordedMessagesStateContextProvider,connector:$.prerecordedMessagesStateConnector},{Provider:E.RecordingStateContextProvider,connector:$.recordingStateConnector},{Provider:R.StatsStateContextProvider,connector:$.statsStateConnector},{Provider:G.HomePageStateContextProvider,connector:$.homePageStateConnector},{Provider:m.DirectoryStateContextProvider,connector:$.directoryStateConnector},{Provider:d.CaseStateContextProvider,connector:$.caseStateConnector},{Provider:A.ServiceDetailsStateContextProvider,connector:$.serviceDetailsStateConnector},{Provider:Y.RecentStateContextProvider,connector:$.recentStateConnector},{Provider:N.UserDetailsStateContextProvider,connector:$.userDetailsStateConnector},{Provider:p.DIDStateContextProvider,connector:$.didStateConnector},{Provider:b.InteractionInternalChatStateContextProvider,connector:$.interactionInternalChatStateConnector},{Provider:P.ServicesDispositionsStateContextProvider,connector:$.servicesDispositionsStateConnector},{Provider:y.InteractionChatStateContextProvider,connector:$.interactionChatStateConnector},{Provider:M.UserPresenceStateContextProvider,connector:$.userPresenceStateConnector},{Provider:O.RemoteAssistLocalStateContextProvider,connector:F.remoteAssistLocalStateConnector},{Provider:g.EMIStateContextProvider,connector:F.emiStateConnector},{Provider:v.IntegrationApiStateContextProvider,connector:t.integrationApiConnector},{Provider:D.ScreenPopStateContextProvider,connector:$.screenPopStateConnector},{Provider:z.KBBridgeContextProvider,connector:F.kbBridgeConnector},{Provider:W.GroupChatUIProvider,connector:F.groupChatUIConnector},{Provider:h.EvaluationStateContextProvider,connector:$.evaluationStateConnector}].reduceRight((function(e,t){var n=t.Provider,a=t.connector,o=t.value;return(0,r.jsx)(n,{connector:a,value:o,children:e})}),(0,r.jsx)(r.Fragment,{children:n(K)}))},ee=n(96559),te=n(52247),ne=n(84512),re=n(94602),ae=n(47824),oe=n(79607),ie=n(85682),se=n(90032),ce=n(86702),ue=function(e){var t=e.children,n=e.value;return X||((X=(0,ce.createContext)(n)).displayName="TransportProvider"),(0,r.jsx)(X.Provider,{value:n,children:t})},le=n(95807),de=n(53179),_e=n(45152);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var me=function(e){var t=e.platformSpecific,n=e.app,i=e.children,s=pe(o().useState((function(){return(0,_.createBaseConnectors)(t,n)})),1)[0];return(0,a.useEffect)((function(){return function(){return null==s?void 0:s.cleanup()}}),[s]),[{Provider:oe.SessionStateContextProvider,connector:s.sessionConnector},{Provider:ne.LocalSettingsContext.Provider,value:s.localSettings},{Provider:ee.AppConfigStateContextProvider,connector:s.appConfigConnector},{Provider:ue,value:s.transport},{Provider:de.LocalizationStateContextProvider,connector:s.localizationConnector},{Provider:se.TimersStateContextProvider,connector:s.timersConnector},{Provider:le.UserActivityStateContextProvider,connector:s.userActivityConnector},{Provider:ie.TabsStateContextProvider,connector:s.tabsConnector},{Provider:te.CurrentTabDataContextProvider,value:s.currentTabDataProvider},{Provider:re.OfflineStateContextProvider,connector:s.offlineStateConnector},{Provider:_e.ModalsStateContextProvider,connector:s.modalsConnector},{Provider:ae.PasswordValidationStateContextProvider,connector:s.passwordValidationStateConnector}].reduceRight((function(e,t){var n=t.Provider,a=t.connector,o=t.value;return(0,r.jsx)(n,{connector:a,value:o,children:e})}),(0,r.jsx)(r.Fragment,{children:i(s)}))}},80158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LocalSettingsContext:()=>c,useAppDefaultSettings:()=>C,useLocalSettings:()=>u,useLocalStorageForState:()=>E});var r=n(66029),a=n.n(r),o=n(40381),i="LocalSettingsContext",s={setCurrentUserId:(0,o.throwNoProviderError)(i),getCurrentUserId:(0,o.throwNoProviderError)(i),get:(0,o.throwNoProviderError)(i),getSettings:(0,o.throwNoProviderError)(i),set:(0,o.throwNoProviderError)(i),remove:(0,o.throwNoProviderError)(i),getExternal:(0,o.throwNoProviderError)(i),setExternal:(0,o.throwNoProviderError)(i),removeExternal:(0,o.throwNoProviderError)(i),getSync:(0,o.throwNoProviderError)(i),setSync:(0,o.throwNoProviderError)(i)},c=a().createContext(s);c.displayName=i;var u=function(){return(0,r.useContext)(c)},l=n(2122),d=n(26552);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function h(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var y,b,S=(y=function(e,t){var n,r,a,o,i,s,c,u,_,f,p;return v(this,(function(m){switch(m.label){case 0:return r=(0,d.typedKeys)(t),[4,(n=e).getSettings.apply(n,h(r))];case 1:a=m.sent(),o=t.modals,i=!0,s=!1,c=void 0;try{for(u=r[Symbol.iterator]();!(i=(_=u.next()).done);i=!0)"modals"===(f=_.value)&&o&&a.modals?(p=I(o,a.modals),(0,l.isEqual)(p,a.modals)||e.set("modals",p)):(!(f in a)||void 0===a[f]&&void 0!==t[f])&&e.set(f,t[f])}catch(g){s=!0,c=g}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}return[2]}}))},b=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=y.apply(e,t);function o(e){f(a,n,r,o,i,"next",e)}function i(e){f(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e,t){return b.apply(this,arguments)});function C(e){var t=u(),n=(0,r.useRef)(t),a=(0,r.useRef)(e);(0,r.useEffect)((function(){S(n.current,a.current)}),[n,a])}function I(e,t){var n=(0,d.typedKeys)(e);return n.reduce((function(n,r){if(r in n){var a=e[r],o=t[r];return(0,d.isObject)(n[r])&&(0,d.isObject)(a)&&(0,d.isObject)(o)?g(m({},n),p({},r,I(a,o))):n}return g(m({},n),p({},r,e[r]))}),(0,l.pick)(t,n))}var w=n(79607);function E(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{resetOnLogout:!0},i=o.resetOnLogout,s=u(),c=(0,w.useSessionState)().isLoggedIn,l=(0,r.useRef)(a),d=(0,r.useRef)(n);(0,r.useEffect)((function(){c?s.get(t).then((function(e){void 0!==e&&d.current(e)})):i&&(s.set(t,l.current),d.current(l.current))}),[c,t,s,i]),(0,r.useEffect)((function(){s.set(t,e)}),[e,s,t])}},69910:(e,t,n)=>{"use strict";n.r(t),n.d(t,{settingsDefinition:()=>i});function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withinSession,n=void 0!==t&&t;return{kind:"global",type:[],withinSession:n}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withinSession,n=void 0!==t&&t;return{kind:"user",type:[],withinSession:n}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withinSession,n=void 0!==t&&t;return{kind:"app",type:[],withinSession:n}}var i={firebaseToken:r(),lastConnectedServerAddress:r(),loginId:r(),pushToken:r(),serverCookie:r(),serverOrigin:r(),tenantUrl:r(),userLanguage:r(),voipToken:r(),sessionId:r(),tenantId:r(),extension:a(),phoneType:a(),hardPhoneNumber:a(),externalPhoneNumber:a(),msTeamsPhoneNumber:a(),savedInteractionItems:a(),lastInteraction:a(),localizedMessages:a(),lastUsedMicrophone:a(),lastUsedSpeaker:a(),mutedScreenRecordings:a(),emiLastAccounts:a(),countrySelectorRecent:a(),countrySelectorValue:a(),secondaryTimezone:a(),chatCenterSelectedChatId:a(),persistentStateKeys:a(),defaultPage:o(),adcNavigationActivePage:o(),adcRecentStateData:o(),adcFavoritesStateData:o(),adcDirectoryStateData:o(),adcDirectoryInternalActiveGroup:o({withinSession:!0}),adcDirectoryInternalActiveGroupForSearch:o({withinSession:!0}),adLastSelectedService:o(),adLastCalledNumber:o(),adTouchedService:o(),adCommunicatorWidth:o(),adParallelInteractionsWidth:o(),adParallelInteractions:o(),adKBWidth:o(),adQueueTableWidth:o(),adChatPopupHeight:o(),adCommunicatorState:o(),adKBState:o(),adcLeftPanelOpened:o(),adcRightPanelOpened:o(),adcDialPadValue:o(),adcTransferTabIndex:o(),adLastSelectedDIDNumber:o(),adSearchActiveTab:o(),adNotifyByBrowser:o(),adSupervisionShowLoggedOut:o(),adSupervisionShowSubTeamOnly:o(),adSupervisionSelectedUsers:o(),adSupervisionTablesCollapsedGroupIds:o(),modals:o(),adQMViewType:o(),adQMWidth:o(),adQMWShowDetails:o(),adWallboardDarkTheme:o(),adWallboardEditMode:o(),adWallboardShowTitleBar:o(),adWallboardShowRotation:o(),kbTreeViewWidth:o(),kbPersistentState:o(),adCampaignsListTableCollapsedGroupIds:o(),adCampaignDetailsTableCollapsedGroupIds:o(),adListsTableCollapsedGroupIds:o(),homePageOpenTabsIds:o(),homePageActiveTabId:o(),homePageUnsavedConfigs:o()}},89382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createLocalStorageSettings:()=>h});var r=n(68069),a=n(93344);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.appType,r=void 0===n?"ad":n;return t?"@bpinc/".concat(r,"-local-settings-u").concat(t):"@bpinc/".concat(r,"-local-settings-global")}function f(e){var t,n=l([!1,!0].map((function(t){return(0,a.getStorage)(t).getItem(e)||{}})),2),o=n[0],i=n[1];for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&r.settingsDefinition[t]&&r.settingsDefinition[t].withinSession&&Object.assign(o,u({},t,i[t]));return{storageName:e,values:o}}function p(){return f(_())}function m(e){var t=[],n=[],a=[],o=!0,i=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;switch(r.settingsDefinition[l].kind){case"global":t.push(l);break;case"user":n.push(l);break;case"app":a.push(l)}}}catch(d){i=!0,s=d}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return{globalKeys:t,userKeys:n,appKeys:a}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"appType",void 0),u(this,"userId",void 0),u(this,"pendingUserIdCallbacks",void 0),this.appType=t,this.userId=void 0,this.pendingUserIdCallbacks=[]}var t,n,o;return t=e,n=[{key:"setCurrentUserId",value:function(e){this.userId=e,e&&this.pendingUserIdCallbacks.forEach((function(e){return e()}))}},{key:"getCurrentUserId",value:function(){return this.userId}},{key:"getUserDependantSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appSpecific,n=void 0!==t&&t,r=this;return s((function(){return d(this,(function(e){return[2,new Promise((function(e){r.userId?e(f(_({userId:r.userId,appType:n?r.appType:void 0}))):r.pendingUserIdCallbacks.push((function(){e(f(_({userId:r.userId,appType:n?r.appType:void 0})))}))}))]}))}))()}},{key:"getUserDependantSettingsSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appSpecific,n=void 0!==t&&t;if(!this.userId)throw Error("Unable to operate with user- or app-setting before authentication");return f(_({userId:this.userId,appType:n?this.appType:void 0}))}},{key:"getSettingsForName",value:function(e){var t=this;return s((function(){return d(this,(function(n){switch(r.settingsDefinition[e].kind){case"global":return[2,p()];case"user":return[2,t.getUserDependantSettings()];case"app":return[2,t.getUserDependantSettings({appSpecific:!0})]}return[2]}))}))()}},{key:"getSettingsForNameSync",value:function(e){switch(r.settingsDefinition[e].kind){case"global":return p();case"user":return this.getUserDependantSettingsSync();case"app":return this.getUserDependantSettingsSync({appSpecific:!0})}}},{key:"get",value:function(e){var t=this;return s((function(){return d(this,(function(n){switch(n.label){case 0:return[4,t.getSettingsForName(e)];case 1:return[2,n.sent().values[e]]}}))}))()}},{key:"getSettings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this;return s((function(){var e,n,a,o,i,s,c,u,l,_,f,g,h,v,y,b,S,C,I,w,E,O,T,D,A,P,R,k;return d(this,(function(d){switch(d.label){case 0:return e=m(t),n=e.globalKeys,a=e.userKeys,o=e.appKeys,i=n.length?p():{storageName:"",values:{}},a.length?[4,r.getUserDependantSettings()]:[3,2];case 1:return c=d.sent(),[3,3];case 2:c={storageName:"",values:{}},d.label=3;case 3:return s=c,o.length?[4,r.getUserDependantSettings({appSpecific:!0})]:[3,5];case 4:return l=d.sent(),[3,6];case 5:l={storageName:"",values:{}},d.label=6;case 6:u=l,_={},f=!0,g=!1,h=void 0;try{for(v=n[Symbol.iterator]();!(f=(y=v.next()).done);f=!0)b=y.value,_[b]=i.values[b]}catch(N){g=!0,h=N}finally{try{f||null==v.return||v.return()}finally{if(g)throw h}}S=!0,C=!1,I=void 0;try{for(w=a[Symbol.iterator]();!(S=(E=w.next()).done);S=!0)O=E.value,_[O]=s.values[O]}catch(N){C=!0,I=N}finally{try{S||null==w.return||w.return()}finally{if(C)throw I}}T=!0,D=!1,A=void 0;try{for(P=o[Symbol.iterator]();!(T=(R=P.next()).done);T=!0)k=R.value,_[k]=u.values[k]}catch(N){D=!0,A=N}finally{try{T||null==P.return||P.return()}finally{if(D)throw A}}return[2,_]}}))}))()}},{key:"set",value:function(e,t){var n=this;return s((function(){var o,i,s,c;return d(this,(function(u){return o=r.settingsDefinition[e],i=o.withinSession,s=o.kind,c=function(){var r=n.getSettingsForNameSync(e),o=r.storageName,s=r.values;s[e]=t,(0,a.getStorage)(i).setItem(o,s)},"global"===s||n.userId?(c(),[2]):[2,new Promise((function(e){n.pendingUserIdCallbacks.push((function(){e(c())}))}))]}))}))()}},{key:"remove",value:function(e){var t=this;return s((function(){var n,r,o;return d(this,(function(i){switch(i.label){case 0:return[4,t.getSettingsForName(e)];case 1:return n=i.sent(),r=n.storageName,delete(o=n.values)[e],(0,a.getStorage)().setItem(r,o),[2]}}))}))()}},{key:"getExternal",value:function(e){return s((function(){return d(this,(function(t){return[2,(0,a.getStorage)().getExternalItem(e)]}))}))()}},{key:"setExternal",value:function(e,t){return(0,a.getStorage)().setExternalItem(e,t),Promise.resolve()}},{key:"removeExternal",value:function(e){return(0,a.getStorage)().removeExternalItem(e),Promise.resolve()}},{key:"getSync",value:function(e){return this.getSettingsForNameSync(e).values[e]}},{key:"setSync",value:function(e,t){var n=this.getSettingsForNameSync(e),o=n.storageName,i=n.values;i[e]=t;var s=r.settingsDefinition[e].withinSession;return(0,a.getStorage)(s).setItem(o,i)}}],n&&c(t.prototype,n),o&&c(t,o),e}();function h(e){return new g(e)}},49719:(e,t,n)=>{"use strict";n.r(t),n.d(t,{COUNTRIES:()=>r,STATES:()=>a});const r={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua & Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xc5land Islands",AZ:"Azerbaijan",BA:"Bosnia & Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo - Kinshasa",CF:"Central African Republic",CG:"Congo - Brazzaville",CH:"Switzerland",CI:"C\xf4te d\u2019Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",EU:"European Union",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia & South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong SAR China",HM:"Heard & McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"St. Kitts & Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"St. Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia",ML:"Mali",MM:"Myanmar (Burma)",MN:"Mongolia",MO:"Macau SAR China",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"St. Pierre & Miquelon",PN:"Pitcairn Islands",PR:"Puerto Rico",PS:"Palestinian Territories",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xe9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"St. Helena",SI:"Slovenia",SJ:"Svalbard & Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",ST:"S\xe3o Tom\xe9 & Pr\xedncipe",SV:"El Salvador",SY:"Syria",SZ:"Swaziland",TC:"Turks & Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad & Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"U.S. Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Vatican City",VC:"St. Vincent & Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VI:"U.S. Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis & Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};var a={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"}},63901:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MAIN_CONTENT_MIN_WIDTH:()=>c,MAX_COMMUNICATOR_WIDTH_IN_PERCENT:()=>o,MIN_COMMUNICATOR_WIDTH:()=>i,MIN_KB_WIDTH:()=>s,MainPageUIContext:()=>J,MainPageUIProvider:()=>X,SUPERVISION_USERS_TABLE:()=>u,communicatorInitialState:()=>d,contextName:()=>l,emptyItemUIState:()=>p,emptyUIState:()=>f,statusesPanelInitialState:()=>_,useCommunicatorFloatingStateSetter:()=>R,useCommunicatorUIState:()=>P,useInteractionWorkspaceState:()=>ee,useMainPageUIState:()=>Z,useSettings:()=>te,useStatusesPanelContext:()=>L});var r=n(40381),a=n(68939),o=95,i=496,s=400,c=700,u="SUPERVISION_USERS_TABLE_"+CSS.escape((0,a.uuid)()),l="MainPageUIContext",d={openerRef:{current:null},width:i,parallelInteractionsWidth:i,setParallelInteractionsWidth:(0,r.throwNoProviderError)(l),setWidth:(0,r.throwNoProviderError)(l),floatingState:"closed",setFloatingState:(0,r.throwNoProviderError)(l)},_={isVisible:!1,toggleVisibility:(0,r.throwNoProviderError)(l)},f={settings:{show:!1,toggleShow:(0,r.throwNoProviderError)(l)},communicator:d,mainContentNode:null,setMainContentNode:(0,r.throwNoProviderError)(l),kbWidth:s,kbFloatingState:"closed",setKBFloatingState:(0,r.throwNoProviderError)(l),setKBWidth:(0,r.throwNoProviderError)(l),interactionUIState:{},interactions:{lastPlayedPrerecordedMessagesIds:new Set,addLastPlayedPrerecordedMessagesIds:(0,r.throwNoProviderError)(l)},interactionWorkspace:{shownWorkspaceTabs:void 0,shownWorkspaceItem:void 0,shownWorkspaceTabId:void 0,activateItemTab:(0,r.throwNoProviderError)(l),removeItemTab:(0,r.throwNoProviderError)(l)},setInteractionItemUIState:(0,r.throwNoProviderError)(l),statusesPanel:_},p={},m=n(52322),g=n(66029),h=n.n(g),v=n(63830),y=n.n(v),b=n(86702),S=n(87260),C=n(52388),I=n(84512),w=n(15922),E=n(13641),O=n(27005),T=n(77024);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return(0,b.useContextSelector)(J,(function(t){return e?e(t.communicator):t.communicator}))}var R=function(){return(0,b.useContextSelector)(J,(function(e){return e.communicator.setFloatingState}))};function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(){return(0,b.useContextSelector)(J,(function(e){return e.statusesPanel}))},K=n(88630),F=n(49553);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(){var e=(0,F.useScreenPopState)("openedScreenPopTabs"),t=(0,F.useScreenPopStateMethods)().removeTab,n=q((0,g.useState)(void 0),2),a=n[0],o=n[1],i=(0,S.useInteraction)(a||""),s=q((0,g.useState)({}),2),c=s[0],u=s[1],l=(0,K.useNavigationState)("goTo"),d=(0,g.useCallback)((function(e){a&&u((function(t){return B(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}({},t),U({},a,e))}))}),[u,a]),_=(0,g.useMemo)((function(){return a?c[a]:void 0}),[c,a]),f=(0,g.useMemo)((function(){return a?e[a]:void 0}),[e,a]),p=(0,r.useEvent)((function(e){u((function(t){return y()(t,(function(t){delete t[e]}))}))})),m=(0,S.useInteractionStateConnector)(),h=(0,r.useEvent)((function(e){var t="scenario"===(null==e?void 0:e.itemKind)||"preScenarioCall"===(null==e?void 0:e.itemKind)||"preScenarioChat"===(null==e?void 0:e.itemKind)||"potential"===(null==e?void 0:e.itemKind);e&&t&&(l(K.AppRoutes.interactionWorkspace),o(e.id))})),v=(0,r.useEvent)((function(e){if(a){var n,r;if(_===e)d((null==f||null===(r=f.filter((function(t){return t.id!==e})))||void 0===r||null===(n=r[0])||void 0===n?void 0:n.id)||"");t(a,e)}}));return(0,g.useEffect)((function(){var e=null==m?void 0:m.dispenser.subscribe({onActivateItemAttempt:h,onItemRemoved:function(e){p(e.id)}});return function(){return e.unsubscribe()}}),[m,h,p]),(0,g.useEffect)((function(){var e;a&&!_&&d((null==f||null===(e=f[0])||void 0===e?void 0:e.id)||"")}),[d,a,_,f]),(0,g.useMemo)((function(){return{shownWorkspaceTabs:f,shownWorkspaceItem:i,shownWorkspaceTabId:_,activateItemTab:d,removeItemTab:v}}),[f,i,_,d,v])}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}var J=(0,b.createContext)(f);J.displayName=l;var X=function(e){var t=e.children,n=z((0,g.useState)(null),2),a=n[0],o=n[1],i=z((0,g.useState)(f.kbWidth),2),s=i[0],c=i[1],u=(0,r.useBoolean)(),l=z((0,g.useState)(new Set),2),d=l[0],v=l[1],b=z((0,g.useState)(f.kbFloatingState),2),E=b[0],D=b[1],P=z((0,g.useState)({}),2),R=P[0],k=P[1],N=G(),L=(0,g.useCallback)((function(e,t){k((function(n){return W(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){V(e,t,n[t])}))}return e}({},n),V({},e,t(n[e]||p)))}))}),[]),K=(0,S.useInteractionStateConnector)(),F=(0,g.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.length?v(new Set([e].concat(Y(n)))):v((function(t){var n=new Set(t);return n.delete(e),new Set([e].concat(Y(Array.from(n))))}))}),[]),$=(0,w.useServicesDispositionsState)().services,U=(0,r.useAsRef)($),B=function(){var e=(0,g.useRef)(null),t=A((0,g.useState)(f.communicator.width),2),n=t[0],a=t[1],o=A((0,g.useState)(f.communicator.parallelInteractionsWidth),2),i=o[0],s=o[1],c=A((0,g.useState)(f.communicator.floatingState),2),u=c[0],l=c[1],d=(0,r.useBoolean)(),_=d.value,p=d.toggle;(0,I.useLocalStorageForState)(u,"adCommunicatorState",l,f.communicator.floatingState),(0,I.useLocalStorageForState)(n,"adCommunicatorWidth",a,f.communicator.width),(0,I.useLocalStorageForState)(i,"adParallelInteractionsWidth",s,f.communicator.parallelInteractionsWidth);var m=(0,g.useCallback)((function(e){"closed"!==u||_||l("floating"),p(null!=e?e:void 0)}),[u,_,p]),h=(0,S.useInteractionStateConnector)();(0,g.useEffect)((function(){var e=h.dispenser.subscribe({onPasteFromKB:function(e){var t=h.getStateData().items.find((function(t){return t.id===e}));(0,C.isEmail)(t)||l((function(e){return"closed"===e?"floating":e}))}});return function(){e.unsubscribe()}}),[h]);var v=(0,O.useAtomValue)(T.parallelItemsCountAtom);return(0,g.useEffect)((function(){v||s(n)}),[n,v]),(0,g.useMemo)((function(){return{openerRef:e,floatingState:u,setFloatingState:l,width:n,setWidth:a,parallelInteractionsWidth:i,setParallelInteractionsWidth:s,isOpenTransferModal:_,handleToggleTransferModal:m}}),[u,n,i,_,m])}(),q=(0,r.useAsRef)(B.floatingState),H=B.setFloatingState;h().useEffect((function(){var e=null==K?void 0:K.dispenser.subscribe({onItemRemoved:function(e){Promise.resolve().then((function(){k((function(t){return y()(t,(function(t){delete t[e.id]}))}))}))},onItemAccepted:function(){"closed"===q.current&&H("floating")},onItemWrapUpStateEntered:function(e){(0,C.isDispositionRequired)(e,U.current)&&k(y()((function(t){var n=e.id;t[n]||(t[n]={}),t[n].forceShowDispositionsPanel=!0})))}});return function(){return null==e?void 0:e.unsubscribe()}}),[q,K,U,H]),(0,I.useLocalStorageForState)(E,"adKBState",D,f.kbFloatingState),(0,I.useLocalStorageForState)(s,"adKBWidth",c,f.kbWidth);var Q=function(){var e=x((0,g.useState)(_),2),t=e[0],n=e[1];return(0,g.useMemo)((function(){return j(M({},t),{toggleVisibility:function(){n((function(e){return j(M({},e),{isVisible:!e.isVisible})}))}})}),[t])}(),X=(0,g.useMemo)((function(){return{settings:{show:u.value,toggleShow:u.toggle},communicator:B,mainContentNode:a,setMainContentNode:o,kbWidth:s,setKBWidth:c,kbFloatingState:E,setKBFloatingState:D,interactions:{lastPlayedPrerecordedMessagesIds:d,addLastPlayedPrerecordedMessagesIds:F},interactionUIState:R,setInteractionItemUIState:L,interactionWorkspace:N,statusesPanel:Q}}),[F,B,R,N,E,s,d,a,L,u.toggle,u.value,Q]),Z=(0,g.useRef)(X);return(0,g.useEffect)((function(){Z.current=X}),[X]),(0,m.jsx)(J.Provider,{value:X,children:t})},Z=(0,E.createUIStateSelectorHook)(J,"mainPageUIState").useMainPageUIState,ee=function(){return Z("interactionWorkspace")},te=function(){return Z("settings")}},40660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppRoutes:()=>f,NavigationStateProvider:()=>h,useNavigationState:()=>v});var r=n(52322),a=n(66029),o=n(80574),i=n(86702),s=n(83734),c=n(79607),u=n(13641),l=n(40381);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f={interactionWorkspace:"/interaction-workspace",calendar:"/calendar",searchContact:"/search/contact/id/:contactId",searchCase:"/search/case/id/:caseId",search:"/search",cases:"/cases",chat:"/chat",interactionSearch:"/interaction-search",home:"/home",supervision:"/supervision",nonCallCases:"/non-call-cases",campaigns:"/campaigns",oldOmniQm:"/omni-qm-old",omniQm:"/omni-qm",knowledgeBase:"/knowledge-base"},p="NavigationStateContext",m={getLocation:(0,l.throwNoProviderError)(p),getLocationState:(0,l.throwNoProviderError)(p),getParams:(0,l.throwNoProviderError)(p),setParams:(0,l.throwNoProviderError)(p),goTo:(0,l.throwNoProviderError)(p),goBack:(0,l.throwNoProviderError)(p)},g=(0,i.createContext)(m);g.displayName=p;var h=function(e){var t=(0,o.useNavigate)(),n=(0,o.useLocation)(),i=(0,c.useSessionStateMethods)().saveActiveRoute,u=(0,l.useAsRef)(n),d=(0,l.useAsRef)(t);(0,a.useEffect)((function(){Object.values(f).includes(n.pathname)&&i(n.pathname)}),[n.pathname,i]),(0,l.useDidUnmount)((function(){return d.current("")}));var p=(0,a.useCallback)((function(){return n.pathname}),[n.pathname]),m=(0,a.useCallback)((function(){return u.current.pathname}),[u]),h=(0,a.useCallback)((function(e,t){var n=[e,t?(0,s.paramsToQueryString)(t):""].filter(Boolean).join("?");d.current(n,{state:{returnUrl:u.current.pathname+u.current.search}})}),[u,d]),v=(0,a.useCallback)((function(){var e={};return(u.current.search.split("?").pop()||"").split("&").forEach((function(t){var n=_(t.split("="),2),r=n[0],a=n[1];e[r]=decodeURIComponent(a)})),e}),[u]),y=(0,a.useCallback)((function(e){h(m(),e)}),[m,h]),b=(0,a.useCallback)((function(){d.current(-1)}),[d]),S=(0,a.useMemo)((function(){return{getLocation:m,getLocationState:p,getParams:v,setParams:y,goTo:h,goBack:b}}),[m,p,v,y,h,b]);return(0,r.jsx)(g.Provider,{value:S,children:e.children})},v=(0,u.createUIStateSelectorHook)(g,"navigationState").useNavigationState},78871:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OfflineStateContextProvider:()=>f,useIsOffline:()=>b,useOfflineErrorMessages:()=>p,useOfflineState:()=>g,useOfflineStateConnector:()=>y,useOfflineStateDataShowOfflineAlert:()=>S,useOfflineStateMethods:()=>v,useOfflineStateRef:()=>h});var r,a=n(52322),o=n(66029),i=n(86702),s=n(40381),c=n(53179);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(e){var t=e.children,n=e.connector,c=_((0,o.useState)((function(){return n.getStateData()})),2),u=c[0],l=c[1],f=(0,s.useAsRef)(u);(0,o.useEffect)((function(){var e=n.dispenser.subscribe({onInitialState:function(e){l(d({},e))},onChange:function(e){l((function(t){return d({},t,e)}))}});return function(){e.unsubscribe()}}),[n]),(0,o.useEffect)((function(){if("undefined"!=typeof window&&window.addEventListener){var e=function(){return n.dispatch.setOffline(!1)},t=function(){return n.dispatch.setOffline(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}),[n.dispatch]);var p=(0,o.useMemo)((function(){return{connector:n,methods:n.dispatch,state:u,stateRef:f}}),[n,u,f]);return r||((r=(0,i.createContext)(p)).displayName="OfflineStateContext"),(0,a.jsx)(r.Provider,{value:p,children:t})},p=function(){return{isOffline:(0,c.useLocalizationState)().t.ERROR_MESSAGES.offline_unavailable_functionality()}},m=(0,n(13641).createStateHooks)("offlineState",(function(){return r})),g=m.useOfflineState,h=m.useOfflineStateRef,v=m.useOfflineStateMethods,y=m.useOfflineStateConnector,b=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.isOffline}))},S=function(){return(0,i.useContextSelector)(r,(function(e){return e.state.showOfflineAlert}))}},77083:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialOfflineState:()=>r,offlineControlEvents:()=>i,offlineTrackerEvents:()=>o});var r=function(){return{isOffline:!1,showOfflineAlert:!1}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={setOffline:(0,a.event)(),setShowOfflineAlert:(0,a.event)(),handleWithOfflineAlertClick:(0,a.event)()}},33583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OfflineStateImpl:()=>m});var r=n(63830),a=n.n(r),o=n(62569);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function _(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?i(e):t;var n}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(_,e);var t,n,r,o=p(_);function _(){var e;return s(this,_),u(i(e=o.apply(this,arguments)),"executeOfflineTimer",void 0),u(i(e),"onTabRoleChanged",(function(t){e.setOffline("follower_lost_master"===t)})),u(i(e),"handleWithOfflineAlertClick",(function(t){e.stateData.isOffline&&(t.stopPropagation(),t.preventDefault(),e.setShowOfflineAlert(!0))})),u(i(e),"setShowOfflineAlert",(function(t){e.updateState(a()((function(e){e.showOfflineAlert=t})))})),u(i(e),"setOffline",(function(t){e.updateState(a()((function(e){e.isOffline=t})))})),u(i(e),"onWsReconnecting",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return e.executeOfflineTimer&&clearTimeout(e.executeOfflineTimer),e.executeOfflineTimer=void 0,void e.setOffline(!1);e.executeOfflineTimer||(e.executeOfflineTimer=setTimeout((function(){e.setOffline(!0),e.executeOfflineTimer=void 0}),1e3))})),e}return t=_,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({setShowOfflineAlert:this.setShowOfflineAlert,handleWithOfflineAlertClick:this.handleWithOfflineAlertClick,setOffline:this.setOffline}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){var n=t.wsIsReconnecting;e.onWsReconnecting(n)},onChange:function(t){var n=t.wsIsReconnecting;e.onWsReconnecting(n)}})),this.roleManager.onRoleChanged(this.onTabRoleChanged)}},{key:"cleanup",value:function(){l(d(_.prototype),"cleanup",this).call(this),clearTimeout(this.executeOfflineTimer),this.roleManager.removeRoleChangedListener(this.onTabRoleChanged)}},{key:"resetState",value:function(){l(d(_.prototype),"resetState",this).call(this),clearTimeout(this.executeOfflineTimer)}}])&&c(t.prototype,n),r&&c(t,r),_}(n(16152).StateFactory.createBaseStateClass({name:"offlineState",controlEvents:o.offlineControlEvents,trackerEvents:o.offlineTrackerEvents,getInitialState:o.getInitialOfflineState,options:{},dependencies:["sessionConnector","roleManager"]}))},87535:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PasswordValidationStateContextProvider:()=>i,usePasswordValidationState:()=>c,usePasswordValidationStateConnector:()=>d,usePasswordValidationStateMethods:()=>l,usePasswordValidationStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("PasswordValidationStateContextProvider"),o=a.getContext,i=a.PasswordValidationStateContextProvider,s=(0,r.createStateHooks)("passwordValidationState",o),c=s.usePasswordValidationState,u=s.usePasswordValidationStateRef,l=s.usePasswordValidationStateMethods,d=s.usePasswordValidationStateConnector},14438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{errorReasons:()=>s,getInitialPasswordValidationState:()=>r,passwordValidationStateControlEvents:()=>i,passwordValidationStateTrackerEvents:()=>o,validationRules:()=>c});var r=function(){return{}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={validatePassword:(0,a.event)(),resetValidation:(0,a.event)()},s=["TOO_SHORT","NO_LETTER_DIGITS","NO_UPPER_LOWER","NO_SPECIAL","IN_WEAK_LIST","RECENTLY_USED","IN_SELF_NAMES"],c=["LETTER_DIGITS","UPPER_LOWER","SPECIAL","MIN_LENGTH","WEAK_LIST","NOT_USED_RECENTLY","NOT_IN_SELF_NAMES"]},7606:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PasswordValidationStateImpl:()=>f});var r=n(88591),a=n(5518);function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?o(e):t;var n}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,r,u=_(l);function l(){var e;return i(this,l),c(o(e=u.apply(this,arguments)),"validatePassword",(function(t,n){var r=e.sessionConnector.getStateData(),o=r.domain,i=r.loginId,s=r.serverOrigin;if(i&&o){var c=n?"checkCurrentForLoginId":"validateForLoginId";e.produceState((function(e){n?e.oldPassword={pending:!0}:e.newPassword={pending:!0}})),t&&(0,a.apiRequests)(s).validatePassword({type:c,requestBody:{loginId:i,password:t,tenantUrl:o}}).then((function(t){if(t){var r=t.value,a=t.valid;if(n)e.produceState((function(e){e.oldPassword={isValid:a,pending:!1}}));else{var o=JSON.parse(r);e.produceState((function(e){e.newPassword={isValid:a,errors:o,pending:!1}}))}}}))}})),c(o(e),"resetValidation",(function(t){e.produceState((function(e){["old","both"].includes(t)&&(e.oldPassword=void 0),["new","both"].includes(t)&&(e.newPassword=void 0)}))})),e}return t=l,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({validatePassword:this.validatePassword,resetValidation:this.resetValidation}))}}])&&s(t.prototype,n),r&&s(t,r),l}(n(16152).StateFactory.createBaseStateClass({name:"passwordValidationState",controlEvents:r.passwordValidationStateControlEvents,trackerEvents:r.passwordValidationStateTrackerEvents,options:{synchronized:!0},getInitialState:r.getInitialPasswordValidationState,dependencies:["sessionConnector"]}))},22178:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createPersistentLoggerWeb:()=>E});var r=n(2122),a=n(28136),o=n(5518),i=n(40381),s=n(93344),c=n(26552),u=n(87801);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return["".concat((0,i.formatDate)(e,"HH:mm:ss.SSS")," ")].concat(d(t))}function f(e,t){var n=e.m,r=u.tabId.slice(0,4),a=null==t?void 0:t.get(),o="[tab-".concat(r,"] ");return a&&(o+="[".concat(a.app,"] "),"master"===a.role&&(o+="[".concat(a.role,"] "))),o+=n}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v="bp-logs-collector",y=524288,b=(0,s.getStorage)(),S="nouser",C={panic:"error",error:"error",warning:"warn",info:"info",debug:"debug"};function I(e){return!!e&&(0,c.isObject)(e)&&"number"==typeof e.lostEntries&&"number"==typeof e.lostUploadEntries&&"number"==typeof e.lostEntriesFixed&&"boolean"==typeof e.uploading&&"number"==typeof e.uploadingTimestamp&&(t=e.storage,null!=(n=Array)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n);var t,n}var w=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"bpClientStateConnector",null),g(this,"tabDataProvider",null),g(this,"serverOrigin",""),g(this,"loginId",null),g(this,"pendingMessages",[]),g(this,"tryToUploadLogs",(0,r.throttle)((function(e){t.addLogInternal(e,"info","Logs: start log uploading...");var n="";e.lostEntries&&(n+="WARNING!  Part of the log was not saved around this time. Number of missing log messages: ".concat(e.lostEntries,"\n\n")),n=e.storage.reduce((function(e,n){return e+"\n\n"+n.logs.map((function(e){return function(e,t){var n=e.l,r=e.t,a=e.m,o=u.tabId.slice(0,4),s=null==t?void 0:t.get(),c="".concat(n.toUpperCase(),"   ").concat((0,i.formatDate)(r,"YYYY/MM/DD HH:mm:ss.SSS"),"   [tab-").concat(o,"] ");return s&&(c+="[".concat(s.app,"] "),"master"===s.role&&(c+="[".concat(s.role,"] "))),c+a}(e,t.tabDataProvider)})).join("\n")}),n);var r="".concat(t.serverOrigin).concat(o.requestUrls.uploadLogs,"?").concat((0,o.paramsToQueryString)({app:"ad_web_new",device:a.platformInfo.browser})),s=new FormData;s.append("file",n),fetch(r,{method:"POST",body:s}).then((function(e){return 200===e.status?e.json():(console.error("logsUpload response with error:",e),{message:e.status})})).then((function(e){"OK"===e.message?t.onUploadSuccess():t.onUploadFailed(JSON.stringify(e))})).catch((function(e){t.onUploadFailed((0,i.getErrorMessage)(e))})),e.uploading=!0,e.uploadingTimestamp=Date.now(),e.lostEntriesFixed=e.lostEntries,e.storage.forEach((function(e){e.uploading=!0}))}),3e4,{leading:!0})),g(this,"injectBPClientConnector",(function(e){t.bpClientStateConnector=e,t.pendingMessages.forEach((function(t){var n;(n=e.dispatch).log.apply(n,h(t))}))})),g(this,"injectSessionConnector",(function(e){e.dispenser.subscribe({onInitialState:function(e){var n=e.serverOrigin,r=e.loginId;t.serverOrigin=n,t.loginId=null!=r?r:null},onLogin:function(e){var n=e.serverOrigin,r=e.loginId;t.serverOrigin=n,t.loginId=null!=r?r:null},onLogout:function(){t.loginId=null}})})),g(this,"injectCurrentTabDataProvider",(function(e){t.tabDataProvider=e}))}var t,n,s;return t=e,n=[{key:"handleLogMessage",value:function(e){var t;this.bpClientStateConnector?this.bpClientStateConnector.dispatch.log(e.l,f(e,this.tabDataProvider)):this.pendingMessages.push([e.l,f(e,this.tabDataProvider)]);var n,r=null!==(t=this.loginId)&&void 0!==t?t:S,a=b.getExternalItem(v);I(a)?n=a:((n={storage:[],lostEntries:0,lostUploadEntries:0,lostEntriesFixed:0,uploading:!1,uploadingTimestamp:0}).storage.push({loginId:r,logs:[],uploading:!1}),this.addLogInternal(n,"error","Unable to parse stored logs from localStorage.".concat(v)));var o=2*JSON.stringify(n).length;n.storage.length&&n.storage[n.storage.length-1].loginId===r&&!n.storage[n.storage.length-1].uploading||(n.storage.push({loginId:r,logs:[],uploading:!1}),o+=2*(r.length+38)),n.storage[n.storage.length-1].logs.push(e),o+=2*(JSON.stringify(e).length+1);for(var i=r,s=n.storage.length-1;0!==s;--s)if(n.storage[s].loginId!==S&&i===r&&(i=n.storage[s].loginId),n.storage[s].loginId!==S&&n.storage[s].loginId!==i){this.addLogInternal(n,"warning","Logs: remove logs left from other user: ".concat(n.storage[s].loginId)),n.storage=n.storage.slice(s+1),o=2*JSON.stringify(n).length;break}for(;o>y;){if(!n.storage.length){console.error("Logs: Approximate size and actual storage size are not in sync");break}if(n.storage[0].logs.length){var c=n.storage[0].logs.shift();o-=2*(JSON.stringify(c).length+1),n.storage[0].uploading?n.lostUploadEntries++:n.lostEntries++}else{var u=n.storage[0].loginId;n.storage=n.storage.slice(1),o-=2*(u.length+8)}}n.uploading&&Date.now()-n.uploadingTimestamp>6e4&&(n.uploading=!1,n.uploadingTimestamp=0,n.storage.forEach((function(e){e.uploading=!1})),n.lostEntries+=n.lostUploadEntries,n.lostUploadEntries=0),r!==S&&!n.uploading&&o>491520&&this.tryToUploadLogs(n),b.setExternalItem(v,n)}},{key:"onUploadSuccess",value:function(){var e,t=b.getExternalItem(v);e=I(t)?t:{storage:[],lostEntries:0,lostUploadEntries:0,lostEntriesFixed:0,uploading:!1,uploadingTimestamp:0},this.addLogInternal(e,"info","Logs uploaded successfully"),e.uploading=!1,e.uploadingTimestamp=0,e.lostUploadEntries=0,e.lostEntries-=e.lostEntriesFixed,e.lostEntriesFixed=0;for(var n=e.storage.length-1;0!==n;--n)if(e.storage[n].uploading){e.storage=e.storage.slice(n+1);break}b.setExternalItem(v,e)}},{key:"onUploadFailed",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=b.getExternalItem(v);e=I(n)?n:{storage:[],lostEntries:0,lostUploadEntries:0,lostEntriesFixed:0,uploading:!1,uploadingTimestamp:0},this.addLogInternal(e,"error","Logs upload: server respond with error: ".concat(t)),e.uploading=!1,e.uploadingTimestamp=0,e.lostEntries+=e.lostUploadEntries,e.lostEntriesFixed=0,e.lostUploadEntries=0,e.storage.forEach((function(e){e.uploading=!1})),b.setExternalItem(v,e)}},{key:"addLogInternal",value:function(e,t,n){var r,a={t:Date.now(),m:n,l:t};e.storage[e.storage.length-1].logs.push(a),(r=console)[C[t]].apply(r,h(_(a.t,[n])))}},{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o=n.map((function(e){return"object"==typeof e&&null!==e||"function"==typeof e?JSON.stringify(e):String(e)})).join(" "),i={l:e,t:Date.now(),m:o};this.handleLogMessage(i),(a=console)[C[e]].apply(a,h(_(i.t,n)))}}],n&&m(t.prototype,n),s&&m(t,s),e}();function E(){return new w}},46214:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t),n.d(t,{bpLogger:()=>d});var u={panic:"error",error:"error",warning:"warn",info:"info",debug:"debug"},l=function(){function e(){a(this,e)}return i(e,[{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;(a=console)[u[e]].apply(a,c(n))}}]),e}(),d=new(function(){function e(){var t=this;a(this,e),s(this,"loggerImpl",new l),s(this,"withPrefix",(function(e){var n=t;return{print:function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.print.apply(n,[t,e].concat(c(a)))},debug:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.debug.apply(n,[e].concat(c(r)))},info:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.info.apply(n,[e].concat(c(r)))},warn:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.warn.apply(n,[e].concat(c(r)))},error:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.error.apply(n,[e].concat(c(r)))},panic:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.panic.apply(n,[e].concat(c(r)))},withPrefix:function(n){return t.withPrefix(e+" "+n)}}}))}return i(e,[{key:"getInnerLogger",value:function(){return this.loggerImpl}},{key:"setInnerLogger",value:function(e){this.loggerImpl=e}},{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;(a=this.loggerImpl).print.apply(a,[e].concat(c(n)))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["debug"].concat(c(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["info"].concat(c(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["warning"].concat(c(t)))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["error"].concat(c(t)))}},{key:"panic",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["panic"].concat(c(t)))}}]),e}())},73376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createPlatformSpecific:()=>f});var r=n(28136),a=n(30550),o=n(26220),i=n(62226),s=n(87801);function c(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var _=function(){function e(t){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=void 0,(r="appType")in(n=this)?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,this.appType=t,o.bpLogger.info("@tab-id:",s.tabId),o.bpLogger.info("@PlatformSpecific: Set web logger"),o.bpLogger.setInnerLogger((0,i.createPersistentLoggerWeb)())}var t,n,c;return t=e,(n=[{key:"createLocalSettings",value:function(){return(0,a.createLocalStorageSettings)(this.appType)}},{key:"setServerOrigin",value:function(e){}},{key:"storeServerOrigin",value:function(e){}},{key:"currentServerOrigin",value:function(e){return{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.REACT_APP_CURRENT_SERVER_ORIGIN?{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.REACT_APP_CURRENT_SERVER_ORIGIN:location.origin}},{key:"unsupportedPhoneTypes",value:function(){return[]}},{key:"clientType",value:function(){return"desktop"}},{key:"addSessionCookie",value:function(e,t){return u((function(){return d(this,(function(t){return[2,e]}))}))()}},{key:"isClientBasedSsoEnabled",value:function(){return!0}},{key:"removeSessionCookies",value:function(e){}},{key:"getNotificationTokens",value:function(){return u((function(){return d(this,(function(e){return[2,{voipToken:void 0,pushToken:void 0,firebaseToken:void 0}]}))}))()}},{key:"getUserAgent",value:function(){}},{key:"getDeviceName",value:function(){return u((function(){return d(this,(function(e){return[2]}))}))()}},{key:"getAppType",value:function(){return"Agent Desktop"}},{key:"getAppVersion",value:function(){return r.buildInfo.build}},{key:"getPlatformType",value:function(){}},{key:"getTimezoneName",value:function(){var e,t;return"undefined"!=typeof Intl?null===(t=Intl.DateTimeFormat())||void 0===t||null===(e=t.resolvedOptions())||void 0===e?void 0:e.timeZone:void 0}},{key:"getDefaultLanguage",value:function(){return navigator.language}}])&&l(t.prototype,n),c&&l(t,c),e}();function f(e){return new _(e)}},69133:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PredefinedMessageStateContextProvider:()=>i,formatPredefinedMessages:()=>m,sortPredefinedMessages:()=>g,usePredefinedChatMessageState:()=>c,usePredefinedChatMessageStateConnector:()=>d,usePredefinedChatMessageStateMethods:()=>l,usePredefinedChatMessageStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("PredefinedMessageStateContextProvider"),o=a.getContext,i=a.PredefinedMessageStateContextProvider,s=(0,r.createStateHooks)("predefinedChatMessageState",o),c=s.usePredefinedChatMessageState,u=s.usePredefinedChatMessageStateRef,l=s.usePredefinedChatMessageStateMethods,d=s.usePredefinedChatMessageStateConnector,_=n(26552);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e){var t=Object.create(null);e.forEach((function(e){(0,_.assertDefined)(e._id),t[e._id]=p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},e),{content:[]})}));var n=[];return e.forEach((function(e){(0,_.assertDefined)(e._id),e.parentFolderId&&t[e.parentFolderId]?("content"in t[e.parentFolderId]||(t[e.parentFolderId].content=[]),t[e.parentFolderId].content.push(t[e._id])):n.push(t[e._id])})),n}function g(e){return e.sort((function(e,t){return e.type===t.type?e.text.toLowerCase().localeCompare(t.text.toLowerCase()):+e.type<+t.type?-1:1}))}},71063:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PredefinedChatMessageTypes:()=>r,getInitialPredefinedChatMessageState:()=>a,predefinedMessageControlEvents:()=>s,predefinedMessageTrackerEvents:()=>i});var r,a=function(){return{messages:[],greetings:{},isLoading:!1}},o=n(64245),i={onInitialState:(0,o.event)(),onChange:(0,o.event)()},s={createMessage:(0,o.event)(),getGreeting:(0,o.event)(),getMessages:(0,o.event)(),removeMessage:(0,o.event)(),resetGreeting:(0,o.event)(),updateMessage:(0,o.event)()};!function(e){e.FOLDER="0",e.REGULAR="1",e.GREETINGS="2"}(r||(r={}))},779:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PredefinedMessagesStateImpl:()=>ge});var r=n(52388),a=n(26220),o=n(81029);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return s=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&d(a,n.prototype),a},s.apply(null,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?i(e):t;var n}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function _(e){var t="function"==typeof Map?new Map:void 0;return _=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},_(e)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,r=(t=a,n=f(),function(){var e,r=u(t);if(n){var a=u(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return l(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c(i(o=r.call(this,n)),"url",void 0),c(i(o),"status",void 0),c(i(o),"statusText",void 0),c(i(o),"body",void 0),c(i(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(_(Error));function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return g=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&C(a,n.prototype),a},g.apply(null,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function S(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function I(e){var t="function"==typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),C(r,e)},I(e)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r=(t=a,n=w(),function(){var e,r=b(t);if(n){var a=b(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return S(this,e)});function a(e){var t;return m(this,a),(t=r.call(this,e)).name="CancelError",t}return v(a,[{key:"isCancelled",get:function(){return!0}}]),a}(I(Error)),O=Symbol.toStringTag,T=function(){function e(t){var n=this;m(this,e),y(this,O,void 0),y(this,"_isResolved",void 0),y(this,"_isRejected",void 0),y(this,"_isCancelled",void 0),y(this,"_cancelHandlers",void 0),y(this,"_promise",void 0),y(this,"_resolve",void 0),y(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return v(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(s){return void console.warn("Cancellation threw an error",s)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new E("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),D={BASE:"/swagger-crm",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,s,"next",e)}function s(e){P(o,r,a,i,s,"throw",e)}i(void 0)}))}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function M(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var L,K=function(e){return null!=e},F=function(e){return"string"==typeof e},$=function(e){return F(e)&&""!==e},U=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},B=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},q=function(e){var t=[],n=function(e,r){K(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=j(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=j(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},G=(L=R((function(e,t){return x(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return L.apply(this,arguments)}),H=function(){var e=R((function(e,t){var n,r,a,o,i,s;return x(this,(function(c){switch(c.label){case 0:return[4,G(t,e.TOKEN)];case 1:return n=c.sent(),[4,G(t,e.USERNAME)];case 2:return r=c.sent(),[4,G(t,e.PASSWORD)];case 3:return a=c.sent(),[4,G(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(N({Accept:"application/json"},o,t.headers)).filter((function(e){var t=j(e,2),n=(t[0],t[1]);return K(n)})).reduce((function(e,t){var n=j(t,2),r=n[0],a=n[1];return M(N({},e),k({},r,String(a)))}),{}),$(n)&&(i.Authorization="Bearer ".concat(n)),$(r)&&$(a)&&(s=function(e){try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:U(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":F(t.body)?i["Content-Type"]="text/plain":B(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=R((function(e,t,n,r,a,o,i){var s,c;return x(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),W=function(){var e=R((function(e){var t,n;return x(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),z=function(e,t){return new T(function(){var n=R((function(n,r,a){var o,i,s,c,u,l,d,_,f;return x(this,(function(m){switch(m.label){case 0:return m.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(q(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){F(n)||U(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=j(e,2),n=(t[0],t[1]);return K(n)})).forEach((function(e){var t=j(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):F(e.body)||U(e.body)||B(e.body)?e.body:JSON.stringify(e.body)}(t),[4,H(e,t)];case 1:return c=m.sent(),a.isCancelled?[3,4]:[4,V(e,t,o,s,i,c,a)];case 2:return u=m.sent(),[4,W(u)];case 3:l=m.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(F(n))return n}}(u,t.responseHeader),_={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=N({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new p(e,t,n);if(!t.ok)throw new p(e,t,"Generic Error")}(t,_),n(_.body),m.label=4;case 4:return[3,6];case 5:return f=m.sent(),r(f),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getContactByEmailOrPhone",value:function(e){var t=e.query;return z(D,{method:"GET",url:"/v1/crm/brief/contact",query:{query:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getContactListByQuery",value:function(e){var t=e.query,n=e.lang,r=e.limit;return z(D,{method:"GET",url:"/v1/crm/contact",query:{query:t,lang:n,limit:r},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateContact",value:function(e){var t=e.body;return z(D,{method:"PUT",url:"/v1/crm/contact",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateContact1",value:function(e){var t=e.body;return z(D,{method:"POST",url:"/v1/crm/contact",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getContactActivityHistory",value:function(e){var t=e.body;return z(D,{method:"POST",url:"/v1/crm/contact/getActivityHistory",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getContactsByPhone",value:function(e){var t=e.body;return z(D,{method:"POST",url:"/v1/crm/contact/identifyContactByPhone",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getContact",value:function(e){var t=e.contactId;return z(D,{method:"GET",url:"/v1/crm/contact/{contactId}",path:{contactId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateContact2",value:function(e){var t=e.body;return z(D,{method:"PUT",url:"/v1/crm/contact/{contactId}",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getContactActivity",value:function(e){var t=e.contactId;return z(D,{method:"GET",url:"/v1/crm/contact/{contactId}/activity",path:{contactId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"addEmailToContact",value:function(e){var t=e.contactId,n=e.body;return z(D,{method:"POST",url:"/v1/crm/contact/{contactId}/email",path:{contactId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"addPhoneToContact",value:function(e){var t=e.body;return z(D,{method:"POST",url:"/v1/crm/contact/{contactId}/phone",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getUserPhoto",value:function(e){var t=e.contactId,n=e.occurrence;return z(D,{method:"GET",url:"/v1/crm/contact/{contactId}/{occurrence}",path:{contactId:t,occurrence:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"uploadContactPhoto",value:function(e){var t=e.contactId,n=e.file;return z(D,{method:"POST",url:"/v1/crm/contactPhotoUpload",formData:{contactId:t,file:n},errors:{400:"Bad Request",401:"Unauthorized",403:"Access denied",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getGreeting",value:function(e){var t=e.customerQuestion,n=e.contact;return z(D,{method:"GET",url:"/v1/crm/cr/greeting",query:{customerQuestion:t,contact:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getCannedResponses",value:function(){return z(D,{method:"GET",url:"/v1/crm/cr/response",errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateCannedResponse",value:function(e){var t=e.body;return z(D,{method:"PUT",url:"/v1/crm/cr/response",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"createUpdateCannedResponse1",value:function(e){var t=e.body;return z(D,{method:"POST",url:"/v1/crm/cr/response",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"createUpdateCannedResponse2",value:function(e){var t=e.body;return z(D,{method:"PUT",url:"/v1/crm/cr/response/{cannedResponseId}",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"deleteCannedResponse",value:function(e){var t=e.messageId;return z(D,{method:"DELETE",url:"/v1/crm/cr/response/{messageId}",path:{messageId:t},errors:{400:"Bad Request",401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}},{key:"getContacts",value:function(e){var t=e.ids;return z(D,{method:"GET",url:"/v1/crm/find/contact",query:{ids:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getRtcConfig",value:function(){return z(D,{method:"GET",url:"/v1/crm/getWebRtcConfig",errors:{401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getActivityById",value:function(e){var t=e.activityId,n=e.transcriptType;return z(D,{method:"GET",url:"/v1/crm/{transcriptType}/{activityId}",path:{activityId:t,transcriptType:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();D.BASE="/newadws/api";var J,X=n(40381),Z=n(16152);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ne(o,r,a,i,s,"next",e)}function s(e){ne(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}function ue(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function le(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?te(e):t;var n}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function _e(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var a=se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return le(this,n)}}function pe(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var me=(ie(J={},o.PredefinedChatMessageTypes.REGULAR,0),ie(J,o.PredefinedChatMessageTypes.FOLDER,1),ie(J,o.PredefinedChatMessageTypes.GREETINGS,2),J),ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(s,e);var t,n,o,i=fe(s);function s(){var e;ae(this,s),ie(te(e=i.apply(this,arguments)),"createMessage",(function(t,n){e.createMessageOrGroup(ce({text:t},n))}));var t=te(e);ie(te(e),"getGreeting",function(){var e=re((function(e,n,r){var o,i;return pe(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Q.getGreeting({customerQuestion:n,contact:r})];case 1:return o=s.sent(),t.produceState((function(t){t.greetings[e]=o})),[3,3];case 2:return i=s.sent(),a.bpLogger.error((0,X.getErrorMessage)(i)),[3,3];case 3:return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}());var n=te(e);return ie(te(e),"getMessages",re((function(){var e;return pe(this,(function(t){switch(t.label){case 0:n.startLoading(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,Q.getCannedResponses()];case 2:return e=t.sent(),n.produceState((function(t){t.messages=e})),[3,4];case 3:return n.stopLoading(),[7];case 4:return[2]}}))}))),ie(te(e),"removeMessage",(function(t){e.startLoading();var n=e.getMessageIndexById(t);-1!==n&&Q.deleteCannedResponse({messageId:t}).then((function(){var t=[];!function n(r){var a=function(n){var r=e.getMessageIndexById(n);if(-1!==r)return t.push(r),e.stateData.messages.filter((function(t){return t.parentFolderId===e.stateData.messages[r]._id}))}(r._id||"");a&&a.length&&a.forEach(n)}(e.stateData.messages[n]),e.produceState((function(n){n.messages=e.stateData.messages.filter((function(e,n){return!t.includes(n)}))}))})).finally((function(){e.stopLoading()}))})),ie(te(e),"resetGreeting",(function(t){e.produceState((function(e){delete e.greetings[t]}))})),ie(te(e),"updateMessage",(function(t,n,r){var a=r.isPublic,o=void 0!==a&&a,i=r.requiresInitialQuestion,s=void 0!==i&&i;e.startLoading();var c=e.getMessageIndexById(t);if(-1!==c){var u=ue(ce({},e.stateData.messages[c]),{text:n,isPublic:o,public:o,requiresInitialQuestion:s,requiresNoInitialQuestion:!s,substitutedText:e.stateData.messages[c].text});"content"in u&&delete u.content,Q.createUpdateCannedResponse({body:u}).then((function(t){var n=t;e.produceState((function(e){e.messages[c]=n}))})).finally((function(){e.stopLoading()}))}})),e}return t=s,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({createMessage:this.createMessage,getGreeting:this.getGreeting,getMessages:this.getMessages,removeMessage:this.removeMessage,resetGreeting:this.resetGreeting,updateMessage:this.updateMessage}),this.interactionStateConnector.dispenser.subscribe({onItemAccepted:function(t){var n;(0,r.isExternalChat)(t)&&e.getGreeting(t.id,!!(null===(n=t.externalChatData)||void 0===n?void 0:n.messageId),t.contactId)},onItemRemoved:function(t){(0,r.isExternalChat)(t)&&(0,r.isInboundInteraction)(t)&&e.resetGreeting(t.id)}}))}},{key:"startLoading",value:function(){this.produceState((function(e){e.isLoading=!0}))}},{key:"stopLoading",value:function(){this.produceState((function(e){e.isLoading=!1}))}},{key:"getMessageIndexById",value:function(e){return this.stateData.messages.findIndex((function(t){return t._id===e}))}},{key:"createMessageOrGroup",value:function(e){var t=this,n=e.text,r=e.parentFolderId,a=e.type,o=e.requiresInitialQuestion,i=void 0!==o&&o,s=e.isPublic,c=void 0!==s&&s;this.startLoading();var u={parentFolderId:r,type:a,text:n,isPublic:c,requiresInitialQuestion:i,requiresNoInitialQuestion:!i};Q.createUpdateCannedResponse({body:u}).then((function(e){var n=e,r=!1,a=_e(t.stateData.messages).reduce((function(e,t){var a;return!r&&t.type===n.type&&(null!==(a=t.text)&&void 0!==a?a:"")>n.text&&(r=!0,e.push(n)),!r&&me[n.type]>me[t.type]&&(r=!0,e.push(n)),e.push(t),e}),[]);r||a.push(n),t.produceState((function(e){e.messages=a}))})).finally((function(){t.stopLoading()}))}}])&&oe(t.prototype,n),o&&oe(t,o),s}(Z.StateFactory.createBaseStateClass({name:"predefinedChatMessageState",controlEvents:o.predefinedMessageControlEvents,trackerEvents:o.predefinedMessageTrackerEvents,options:{authorized:!0},dependencies:["sessionConnector","interactionStateConnector"],getInitialState:o.getInitialPredefinedChatMessageState}))},353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PrerecordedMessagesStateContextProvider:()=>s,usePrerecordedMessageAutoPlayId:()=>g,usePrerecordedMessagesIsLoading:()=>v,usePrerecordedMessagesIsSaved:()=>h,usePrerecordedMessagesList:()=>f,usePrerecordedMessagesPlayingPrompts:()=>m,usePrerecordedMessagesState:()=>u,usePrerecordedMessagesStateConnector:()=>_,usePrerecordedMessagesStateMethods:()=>d,usePrerecordedMessagesStateRef:()=>l,usePrerecordedServiceMessages:()=>p});var r=n(86702),a=n(13641),o=(0,a.createStateContextProvider)("PrerecordedMessagesStateContextProvider"),i=o.getContext,s=o.PrerecordedMessagesStateContextProvider,c=(0,a.createStateHooks)("prerecordedMessagesState",i),u=c.usePrerecordedMessagesState,l=c.usePrerecordedMessagesStateRef,d=c.usePrerecordedMessagesStateMethods,_=c.usePrerecordedMessagesStateConnector,f=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.list}))},p=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.serviceMessages}))},m=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.playingPrompts}))},g=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.autoPlayId}))},h=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.isSaved}))},v=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.isLoading}))}},55170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialPrerecordedMessagesState:()=>r,prerecordedMessagesStateControlEvents:()=>i,prerecordedMessagesStateTrackerEvents:()=>o});var r=function(){return{list:[],serviceMessages:{},isLoading:!1,isSaved:!1,playingPrompts:{},autoPlayId:void 0}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onPlayingPromptCompleted:(0,a.event)()},i={getData:(0,a.event)(),saveData:(0,a.event)(),resetSave:(0,a.event)(),resetData:(0,a.event)(),stopAndPlayPrompt:(0,a.event)(),playPrompt:(0,a.event)(),stopPlayingPrompt:(0,a.event)(),getServiceMessages:(0,a.event)()}},84997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PrerecordedMessagesStateImpl:()=>C});var r=n(2122),a=n(26220),o=n(61350),i=n(40381),s=n(68939),c=n(16152);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function h(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?l(e):t;var n}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}var S=function(){return(0,s.uuid)().toUpperCase()},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,n,o,c=b(u);function u(){var e;return d(this,u),f(l(e=c.apply(this,arguments)),"resetSave",(function(){e.produceState((function(e){e.isSaved=!1}))})),f(l(e),"resetData",(function(){e.produceState((function(e){e.list=[]}))})),f(l(e),"getServiceMessages",(function(t){if(t in e.stateData.serviceMessages)return e.stateData.serviceMessages[t];e.transport.dispatch.service_voice_prompts({service_id:t}).then((function(n){var r=n.result,o=n.error;!(null==o?void 0:o.message)&&r?e.updateServiceMessages(t,r):a.bpLogger.error(null==o?void 0:o.message)}))})),f(l(e),"getData",(function(){e.stateData.isLoading||(e.transport.dispatch.voice_prompt_read().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){var o=Object.values(n).map((function(e){return I(e)}));e.produceState((function(e){e.isLoading=!1,e.list=o}))}else a.bpLogger.error(null==r?void 0:r.message)})).catch((function(){e.produceState((function(e){e.isLoading=!1}))})),e.produceState((function(e){e.isLoading=!0})))})),f(l(e),"saveAutoPlayId",(function(t){e.produceState((function(e){e.autoPlayId=t}))})),f(l(e),"updateAutoPlayId",(function(t){t!==e.stateData.autoPlayId&&(e.saveAutoPlayId(t),e.sessionConnector.dispatch.updateBaseConfig({autoPlayVoicePromptId:t}))})),f(l(e),"saveData",(function(t,n,r){var a=e.stateData.list,o=[],i=[],s=[],c=r,u=n.map((function(e){var t=S();return e.id===c&&(c=t),g(m({},e),{id:t})}));a.forEach((function(e){var n=t.find((function(t){return t.id===e.id}));n?n.voiceFileId!==e.voiceFileId?s.push(m({},e,n)):n.name!==e.name&&i.push(m({},e,n)):(e.id===c&&(c=void 0),o.push(e))})),u.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_insert",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),o.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_delete",params:{id:t.id}})})),i.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_update_name",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),s.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_update",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),e.produceState((function(e){e.list=y(t).concat(y(n)),e.isSaved=!0})),e.updateAutoPlayId(r)})),f(l(e),"stopAndPlayPrompt",(function(t){var n=t.interactionStepId;e.stopPlayingPrompt(n,!1),e.playPrompt(t)})),f(l(e),"playPrompt",(function(t){var n=t.interactionStepId,a=t.promptId,o=t.itemId,i=(0,s.uuid)();e.transport.dispatch.agent_play_user_voice_prompt({item_id:n,prompt_id:a,request_id:i}),e.produceState((function(e){(0,r.set)(e.playingPrompts,n,{promptId:a,itemId:o,interactionStepId:n,playingPromptId:i})}))})),f(l(e),"stopPlayingPrompt",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.stateData.playingPrompts,a=r[t],o=a.playingPromptId,i=void 0===o?"":o,s=a.itemId,c=void 0===s?"":s;e.transport.dispatch.agent_stop_user_voice_prompt({item_id:t,request_id:i}),n&&(e.produceState((function(e){delete e.playingPrompts[t]})),e.toClientDispatch.onPlayingPromptCompleted(c))})),f(l(e),"onAgentWelcome",(function(){e.getData()})),f(l(e),"onPlayingPromptCompleted",(function(t){var n=t.request_id,r=e.stateData.playingPrompts,a=Object.values(r).find((function(e){return e.playingPromptId===n}));a&&(e.produceState((function(e){delete e.playingPrompts[a.interactionStepId]})),e.toClientDispatch.onPlayingPromptCompleted(a.itemId))})),e}return t=u,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,agent_user_voice_prompt_completed:this.onPlayingPromptCompleted}),this.fromClientDispenser.subscribe({getData:this.getData,getServiceMessages:this.getServiceMessages,saveData:this.saveData,resetSave:this.resetSave,resetData:this.resetData,playPrompt:this.playPrompt,stopPlayingPrompt:this.stopPlayingPrompt,stopAndPlayPrompt:this.stopAndPlayPrompt}),this.sessionConnector.dispenser.subscribe({onBaseConfigReceived:function(t){t.autoPlayVoicePromptId&&e.saveAutoPlayId(t.autoPlayVoicePromptId)}}))}},{key:"updateServiceMessages",value:function(e,t){var n=this;this.produceState((function(r){r.serviceMessages[e]=n.convertIncomingServiceMessagesToServiceMessages(t)}))}},{key:"convertIncomingServiceMessagesToServiceMessages",value:function(e){return e.map((function(e){return{id:e.id,name:e.content,voiceFileId:e.file_id,language:(0,i.getLanguageCode)(e.code,e.region)}}))}}])&&_(t.prototype,n),o&&_(t,o),u}(c.StateFactory.createBaseStateClass({name:"prerecordedMessagesState",controlEvents:o.prerecordedMessagesStateControlEvents,trackerEvents:o.prerecordedMessagesStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:o.getInitialPrerecordedMessagesState,dependencies:["transport","sessionConnector"]})),I=function(e){return{id:e.id,name:e.name,voiceFileId:e.voice_file_id}}},99946:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RecordingStateContextProvider:()=>i,useRecordingState:()=>c,useRecordingStateConnector:()=>d,useRecordingStateMethods:()=>l,useRecordingStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("RecordingStateContextProvider"),o=a.getContext,i=a.RecordingStateContextProvider,s=(0,r.createStateHooks)("recordingState",o),c=s.useRecordingState,u=s.useRecordingStateRef,l=s.useRecordingStateMethods,d=s.useRecordingStateConnector},41383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialRecordingState:()=>r,recordingStateControlEvents:()=>i,recordingStateTrackerEvents:()=>o});var r=function(){return{status:"not_recording",id:void 0}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={recordingStart:(0,a.event)(),recordingStop:(0,a.event)(),recordingReset:(0,a.event)()}},36387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RecordingStateImpl:()=>h});var r=n(66593),a=n(18189),o=n(18164),i=n(16152);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},d(e,t,n||e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function f(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?s(e):t;var n}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var g=function(){return(0,o.uuid)().toUpperCase()},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;return c(this,i),l(s(e=o.apply(this,arguments)),"activeRecordings",{}),l(s(e),"recordingStart",(function(){if(!Object.keys(e.activeRecordings).length){var t=e.sessionConnector.getStateData(),n=t.tenantId,r=t.phoneNumber;r&&n&&e.transport.dispatch.e3pcc_dial({dn:r,tenant_id:n,destination:"scenario_engine",disregard_calling_hours:"0",desktop_data:{feature_name:"record_voice"}}),e.produceState((function(e){e.status="establish_recording"}))}})),l(s(e),"onAgentItemChanged",(function(t){var n=t.item_id,r=t.interaction_type,a=t.call_id,o=t.state;"feature_record_voice"===r&&"delivered"===o&&(e.transport.dispatch.agent_control_feature_item({item_id:n,data:{command:"record_start"}}),e.activeRecordings[n]={callId:a},e.produceState((function(e){e.status="recording"})))})),l(s(e),"recordingStop",(function(){var t=Object.keys(e.activeRecordings);if(t.length){var n=t[0];e.transport.dispatch.agent_control_feature_item({item_id:n,data:{command:"record_stop"}}),e.produceState((function(e){e.status="recording_complete"}))}})),l(s(e),"recordingReset",(function(){e.produceState((function(e){e.status="not_recording",e.id=void 0}))})),l(s(e),"onAgentMessage",(function(t){var n=t.item_id,r=t.message,o=e.sessionConnector.getStateData().tenantId;if((0,a.isRecordMessage)(r))switch(r.action){case"record_completed":if(n in e.activeRecordings){var i=g();e.transport.dispatch.agent_control_feature_item({item_id:n,data:{command:"record_save",voice_file_id:i}})}break;case"record_uploaded":var s=r.record_id;if(n in e.activeRecordings){var c=e.activeRecordings[n].callId;delete e.activeRecordings[n],c&&o&&e.transport.dispatch.e3pcc_disconnect({call_id:c,tenant_id:o}),e.produceState((function(e){e.status="recording_complete",e.id=s}))}}})),l(s(e),"onThreePccFailed",(function(){e.produceState((function(e){"establish_recording"===e.status&&(e.status="not_recording")}))})),e}return t=i,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_item_changed:this.onAgentItemChanged,agent_message:this.onAgentMessage,e3pcc_failed:this.onThreePccFailed}),this.fromClientDispenser.subscribe({recordingStart:this.recordingStart,recordingStop:this.recordingStop,recordingReset:this.recordingReset}))}},{key:"cleanup",value:function(){d(_(i.prototype),"cleanup",this).call(this),this.activeRecordings={}}},{key:"resetState",value:function(){d(_(i.prototype),"resetState",this).call(this),this.activeRecordings={}}}])&&u(t.prototype,n),r&&u(t,r),i}(i.StateFactory.createBaseStateClass({name:"recordingState",controlEvents:r.recordingStateControlEvents,trackerEvents:r.recordingStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:r.getInitialRecordingState,dependencies:["transport","sessionConnector"]}))},91188:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EMAIL_REGEX:()=>l,EMAIL_REGEX_NOT_WRAPPED_IN_ANCHOR_TAG:()=>d,ONLY_DIGITS_REGEX:()=>f,PHONE_NUMBER_REGEXP:()=>o,PHONE_NUMBER_REGEXP_NOT_WRAPPED_IN_ANCHOR_TAG:()=>u,PHONE_NUMBER_VALID_PAUSE_SYMBOLS_BEGIN_REGEX:()=>s,PHONE_NUMBER_VALID_PAUSE_SYMBOLS_END_REGEX:()=>c,PHONE_NUMBER_VALID_SYMBOLS_REGEX:()=>i,URL_REGEXP:()=>r,URL_REGEXP_NOT_WRAPPED_IN_HTML_ANCHOR_TAG:()=>a,notWrappedInAnchorTag:()=>_});var r="(?:(?:(?:https?|ftp):)?\\/\\/|www.)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#][^\\s\"']*)?",a=_(r),o="(?:\\+\\d{1,2})[\\s.-]?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?(?:\\d{4}|\\d{2}[\\s.-]\\d{2})",i="^[:#,\\ \\-\\+\\(\\)\\d]+$",s="^(?!(,))",c="(?!(,))+$",u=_(o),l='(([^<>()[\\]\\.,;:\\s@"]{1,64}(\\.[^<>()[\\]\\.,;:\\s@"]{1,64}){0,3})|(".{1,128}"))@(([^<>()[\\]\\.,;:\\s@"]{1,64}\\.){1,3}[^<>()[\\]\\.,;:\\s@"]{2,64})',d=_(l);function _(e){return"(?<!<a.*href=[\"'])"+e+"(?!.*</a>)"}var f="^[0-9]+$"},16752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RemoteAssistLocalStateImpl:()=>I});var r=n(52388),a=n(20981),o=n(26220),i=n(50726),s=n(97329),c=n(40381),u=n(16152);function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},p(e,t,n||e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function v(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?l(e):t;var n}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var S=["completed","wrap_up","wrap_up_hold"],C=o.bpLogger.withPrefix("@RA"),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,o,i=b(u);function u(){var e;return d(this,u),f(l(e=i.apply(this,arguments)),"interactionStateData",(0,a.getInitialInteractionState)()),f(l(e),"raWindowHandles",{}),f(l(e),"openRemoteAssist",(function(t,n){var r=e.sessionConnector.getStateData();(0,s.assertAuthorizedSession)(r);var a=r.tenantId,o=r.sessionId,i=r.serverOrigin,u=new URLSearchParams(n);u.set("tenantId",null!=a?a:""),u.set("authToken",o),u.set("embedded","true"),t.popup&&u.set("alreadyPopup","true");var l="".concat(i,"/ra/viewer?").concat(u);if(t.popup){var d=window.open(l,"ra_viewer_".concat(t.globalInteractionId),"width=".concat(window.outerWidth,",height=").concat(window.outerHeight,",top=0,left=0"));if(console.info("@RA open RA window:",l),d){try{d.addEventListener("load",(function(){console.info("@RA on RA window load"),d.addEventListener("beforeunload",(function(){console.info("@RA on RA window beforeunload"),e.removeRemoteAssistSession(t.globalInteractionId)}))}))}catch(m){C.error("Cannot assign event listener to RA window:",(0,c.getErrorMessage)(m))}e.raWindowHandles[t.globalInteractionId]=d}else C.error("Cannot open child window ",l)}else{var _=document.createElement("iframe");_.src=l,_.addEventListener("load",(function(){(null==_?void 0:_.contentWindow)&&(e.raWindowHandles[t.globalInteractionId]=_.contentWindow)})),e.updateState((function(e){return h(g({},e),{localItems:h(g({},e.localItems),f({},t.globalInteractionId,{iframe:_}))})}))}var p=e.currentTabDataProvider.get();e.remoteAssistStateConnector.dispatch.createRASessionData(t.globalInteractionId,{hostTabId:p.id,contactId:n.contactId,clientFirstName:n.clientFirstName,clientLastName:n.clientLastName,caseId:n.caseId})})),f(l(e),"onMessage",(function(t){var n=t.data,r=e.remoteAssistStateConnector.dispatch;try{if("string"!=typeof n)return;0;var a,o=JSON.parse(n);if(!o.command)return;var i=null!==(a=o.data.giid)&&void 0!==a?a:"";switch(o.command){case"ra_session_created":r.updateRASessionData(i,{sessionId:o.data.sessionId,pin:o.data.pin,clientUrl:o.data.clientUrl});break;case"ra_session_joined":r.updateRASessionData(i,{viewerState:"joined"});break;case"ra_session_left":r.updateRASessionData(i,{viewerState:"left"});break;case"ra_session_client_joined":var s,u,l=e.interactionStateData.items.find((function(e){var t;return(null===(t=e.scenarioData)||void 0===t?void 0:t.globalInteractionId)===i})),d=null==l||null===(s=l.scenarioData)||void 0===s?void 0:s.interactionStepId;d&&e.interactionChatStateConnector.dispatch.pauseChatInactivityTimeout(d);var _=null!==(u=e.stateData.items[i])&&void 0!==u?u:{},f=_.contactId,p=_.clientFirstName,m=_.clientLastName,g=_.caseId;f&&e.setContact(i,f,p,m),g&&e.setCase(i,g),r.updateRASessionData(i,{clientState:"joined"});break;case"ra_session_client_left":var h,v=e.interactionStateData.items.find((function(e){var t;return(null===(t=e.scenarioData)||void 0===t?void 0:t.globalInteractionId)===i})),y=null==v||null===(h=v.scenarioData)||void 0===h?void 0:h.interactionStepId;y&&e.interactionChatStateConnector.dispatch.resumeChatInactivityTimeout(y),r.updateRASessionData(i,{clientState:"left"});break;case"ra_session_chat_open":e.openRemoteAssistChat(i)}}catch(b){C.error((0,c.getErrorMessage)(b))}})),f(l(e),"activateRA",(function(t){var n;null===(n=e.raWindowHandles[t])||void 0===n||n.postMessage(JSON.stringify({event:"selected"}),"*")})),f(l(e),"setContact",(function(t,n,r,a){var o;null===(o=e.raWindowHandles[t])||void 0===o||o.postMessage(JSON.stringify({event:"set_contact",contact_id:n,first_name:r,last_name:a}),"*")})),f(l(e),"setCase",(function(t,n){var r;null===(r=e.raWindowHandles[t])||void 0===r||r.postMessage(JSON.stringify({event:"set_case",case_id:n}),"*")})),f(l(e),"removeRemoteAssistSession",(function(t){var n;try{var r;null===(r=e.raWindowHandles[t])||void 0===r||r.close()}catch(o){}delete e.raWindowHandles[t];var a=e.stateData.localItems[t];(null==a||null===(n=a.iframe)||void 0===n?void 0:n.parentElement)&&a.iframe.parentElement.removeChild(a.iframe),e.produceState((function(e){delete e.localItems[t]})),e.remoteAssistStateConnector.dispatch.removeRASessionData(t)})),e}return t=u,(n=[{key:"initialize",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("message",this.onMessage),this.subscriptions.push(this.fromClientDispenser.subscribe({openRemoteAssist:this.openRemoteAssist}),this.remoteAssistStateConnector.dispenser.subscribe({onInitialState:function(t){e.updateState(t)},onChange:function(t){e.updateState(t)},onSessionStarted:function(t){e.toClientDispatch.onSessionStarted(t)}}),this.interactionStateConnector.dispenser.subscribe({onInitialState:function(t){e.onInteractionStateChange(e.interactionStateData,t),e.interactionStateData=g({},t)},onChange:function(t){var n=g({},e.interactionStateData,t);e.onInteractionStateChange(e.interactionStateData,n),e.interactionStateData=n},onActiveItemChanged:function(t){var n=(0,r.getGlobalInteractionId)(t),a=n&&!!e.raWindowHandles[n];n&&a&&e.activateRA(n)},onDelegatedRASessionStart:function(t){var n,a=t.itemId,o=t.pin,i=e.interactionStateData.items.find((function(e){return e.id===a})),s=(0,r.getGlobalInteractionId)(i);if(i&&s){var c="ad"===e.currentTabDataProvider.get().app;e.openRemoteAssist({globalInteractionId:s,popup:!c},h(g({giid:s,mediaType:i.mediaType||"unknown",action:o?"join":"create"},o?{pin:o}:void 0),{caseId:null===(n=i.emailData)||void 0===n?void 0:n.caseId,contactId:i.contactId,clientFirstName:i.displayData.firstName,clientLastName:i.displayData.lastName,clientDisplayName:i.displayData.displayName}))}}}),{unsubscribe:function(){"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener("message",e.onMessage)}})}},{key:"onInteractionStateChange",value:function(e,t){var n=this;Object.keys(this.raWindowHandles).forEach((function(a){var o,i,s,c,u=e.items.find((function(e){return(0,r.getGlobalInteractionId)(e)===a})),l=t.items.find((function(e){return(0,r.getGlobalInteractionId)(e)===a}));!(null==u?void 0:u.contactId)&&(null==l?void 0:l.contactId)&&(n.remoteAssistStateConnector.dispatch.updateRASessionData(a,{contactId:l.contactId,clientFirstName:l.displayData.firstName,clientLastName:l.displayData.lastName}),n.setContact(a,l.contactId,l.displayData.firstName,l.displayData.lastName)),!(null==u||null===(o=u.emailData)||void 0===o?void 0:o.caseId)&&(null==l||null===(i=l.emailData)||void 0===i?void 0:i.caseId)&&(n.remoteAssistStateConnector.dispatch.updateRASessionData(a,{caseId:l.emailData.caseId}),n.setCase(a,l.emailData.caseId)),-1===S.indexOf(null!==(s=null==u?void 0:u.state)&&void 0!==s?s:"unknown")&&-1!==S.indexOf(null!==(c=null==l?void 0:l.state)&&void 0!==c?c:"unknown")&&n.removeRemoteAssistSession(a)}))}},{key:"openRemoteAssistChat",value:function(e){var t,n=this.stateData.items[e],r=this.interactionStateData.items.find((function(t){var n;return(null===(n=t.scenarioData)||void 0===n?void 0:n.globalInteractionId)===e}));"chat"===(null==r?void 0:r.mediaType)&&(null===(t=r.scenarioData)||void 0===t?void 0:t.serviceId)&&n.sessionId&&"joined"===n.clientState&&this.interactionChatStateConnector.dispatch.openChannel({channel:"remoteassist",address:n.sessionId,serviceId:r.scenarioData.serviceId,interactionStepId:r.scenarioData.interactionStepId})}},{key:"cleanup",value:function(){p(m(u.prototype),"cleanup",this).call(this),Object.keys(this.raWindowHandles).forEach(this.removeRemoteAssistSession),this.raWindowHandles={}}},{key:"resetState",value:function(){p(m(u.prototype),"resetState",this).call(this),Object.keys(this.raWindowHandles).forEach(this.removeRemoteAssistSession),this.raWindowHandles={}}}])&&_(t.prototype,n),o&&_(t,o),u}(u.StateFactory.createBaseStateClass({name:"remoteAssistLocalState",controlEvents:i.remoteAssistLocalStateControlEvents,trackerEvents:i.remoteAssistLocalStateTrackerEvents,getInitialState:i.getInitialRALocalState,options:{authorized:!0},dependencies:["currentTabDataProvider","sessionConnector","interactionStateConnector","interactionChatStateConnector","remoteAssistStateConnector"]}))},77021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RemoteAssistLocalStateContextProvider:()=>i,useRemoteAssistState:()=>c,useRemoteAssistStateConnector:()=>d,useRemoteAssistStateMethods:()=>l,useRemoteAssistStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("RemoteAssistLocalStateContextProvider"),o=a.getContext,i=a.RemoteAssistLocalStateContextProvider,s=(0,r.createStateHooks)("remoteAssistState",o),c=s.useRemoteAssistState,u=s.useRemoteAssistStateRef,l=s.useRemoteAssistStateMethods,d=s.useRemoteAssistStateConnector},58807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialRALocalState:()=>r,getInitialRASharedState:()=>a,raPartyState:()=>l,remoteAssistLocalStateControlEvents:()=>u,remoteAssistLocalStateTrackerEvents:()=>c,remoteAssistStateControlEvents:()=>s,remoteAssistStateTrackerEvents:()=>i});var r=function(){return{items:{},localItems:{}}},a=function(){return{items:{}}},o=n(64245),i={onInitialState:(0,o.event)(),onChange:(0,o.event)(),onSessionStarted:(0,o.event)()},s={createRASessionData:(0,o.event)(),updateRASessionData:(0,o.event)(),removeRASessionData:(0,o.event)()},c={onInitialState:(0,o.event)(),onChange:(0,o.event)(),onSessionStarted:(0,o.event)()},u={openRemoteAssist:(0,o.event)()},l=["no","joined","left"]},51052:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RemoteAssistStateImpl:()=>m});var r=n(63830),a=n.n(r),o=n(50726);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function _(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?i(e):t;var n}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,o=p(l);function l(){var e;return s(this,l),u(i(e=o.apply(this,arguments)),"createRASessionData",(function(t,n){e.stateData=a()(e.stateData,(function(e){e.items[t]=d({globalInteractionId:t,viewerState:"no",clientState:"no"},n)})),e.toClientDispatch.onChange(e.stateData)})),u(i(e),"updateRASessionData",(function(t,n){var r=e.stateData.items[t];if(r){e.stateData=a()(e.stateData,(function(e){e.items[t]=d({},e.items[t],n)}));var o=e.stateData.items[t];(null==r?void 0:r.clientUrl)!==o.clientUrl&&o.clientUrl&&e.toClientDispatch.onSessionStarted(o),e.toClientDispatch.onChange(e.stateData)}})),u(i(e),"removeRASessionData",(function(t){e.stateData=a()(e.stateData,(function(e){delete e.items[t]})),e.toClientDispatch.onChange(e.stateData)})),e}return t=l,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({createRASessionData:this.createRASessionData,updateRASessionData:this.updateRASessionData,removeRASessionData:this.removeRASessionData}))}}])&&c(t.prototype,n),r&&c(t,r),l}(n(16152).StateFactory.createBaseStateClass({name:"remoteAssistState",controlEvents:o.remoteAssistStateControlEvents,trackerEvents:o.remoteAssistStateTrackerEvents,getInitialState:o.getInitialRASharedState,options:{synchronized:!0,authorized:!0},dependencies:[]}))},59226:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return a=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&c(a,n.prototype),a},a.apply(null,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?r(e):t;var n}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},u(e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.r(t),n.d(t,{ApiError:()=>d,CancelError:()=>C,CancelablePromise:()=>w,DefaultService:()=>W,OpenAPI:()=>E,apiRequests:()=>z,getAttachmentUrl:()=>ee,getAudioUrl:()=>re,getCaseURL:()=>te,getContactUrl:()=>ne,getDownloadEmailUrl:()=>Z,getPlaybackUrl:()=>X,getRecordingUrl:()=>J,paramsToQueryString:()=>Q,requestUrls:()=>Y});var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,a=(t=u,n=l(),function(){var e,r=i(t);if(n){var a=i(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return s(this,e)});function u(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o(r(i=a.call(this,n)),"url",void 0),o(r(i),"status",void 0),o(r(i),"statusText",void 0),o(r(i),"body",void 0),o(r(i),"request",void 0),i.name="ApiError",i.url=t.url,i.status=t.status,i.statusText=t.statusText,i.body=t.body,i.request=e,i}return u}(u(Error));function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){return f=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&y(a,n.prototype),a},f.apply(null,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t="function"==typeof Map?new Map:void 0;return b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},b(e)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r=(t=a,n=S(),function(){var e,r=h(t);if(n){var a=h(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return v(this,e)});function a(e){var t;return _(this,a),(t=r.call(this,e)).name="CancelError",t}return m(a,[{key:"isCancelled",get:function(){return!0}}]),a}(b(Error)),I=Symbol.toStringTag,w=function(){function e(t){var n=this;_(this,e),g(this,I,void 0),g(this,"_isResolved",void 0),g(this,"_isRejected",void 0),g(this,"_isCancelled",void 0),g(this,"_cancelHandlers",void 0),g(this,"_promise",void 0),g(this,"_resolve",void 0),g(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return m(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(s){return void console.warn("Cancellation threw an error",s)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new C("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),E={BASE:"",VERSION:"1.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,s,"next",e)}function s(e){T(o,r,a,i,s,"throw",e)}i(void 0)}))}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var M,j=function(e){return null!=e},x=function(e){return"string"==typeof e},L=function(e){return x(e)&&""!==e},K=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},F=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},$=function(e){var t=[],n=function(e,r){j(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=k(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=k(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},U=(M=D((function(e,t){return N(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return M.apply(this,arguments)}),B=function(){var e=D((function(e,t){var n,r,a,o,i,s;return N(this,(function(c){switch(c.label){case 0:return[4,U(t,e.TOKEN)];case 1:return n=c.sent(),[4,U(t,e.USERNAME)];case 2:return r=c.sent(),[4,U(t,e.PASSWORD)];case 3:return a=c.sent(),[4,U(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(P({Accept:"application/json"},o,t.headers)).filter((function(e){var t=k(e,2),n=(t[0],t[1]);return j(n)})).reduce((function(e,t){var n=k(t,2),r=n[0],a=n[1];return R(P({},e),A({},r,String(a)))}),{}),L(n)&&(i.Authorization="Bearer ".concat(n)),L(r)&&L(a)&&(s=function(e){try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:K(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":x(t.body)?i["Content-Type"]="text/plain":F(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=D((function(e,t,n,r,a,o,i){var s,c;return N(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),G=function(){var e=D((function(e){var t,n;return N(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){return new w(function(){var n=D((function(n,r,a){var o,i,s,c,u,l,_,f,p;return N(this,(function(m){switch(m.label){case 0:return m.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat($(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){x(n)||K(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=k(e,2),n=(t[0],t[1]);return j(n)})).forEach((function(e){var t=k(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):x(e.body)||K(e.body)||F(e.body)?e.body:JSON.stringify(e.body)}(t),[4,B(e,t)];case 1:return c=m.sent(),a.isCancelled?[3,4]:[4,q(e,t,o,s,i,c,a)];case 2:return u=m.sent(),[4,G(u)];case 3:l=m.sent(),_=function(e,t){if(t){var n=e.headers.get(t);if(x(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=_?_:l},function(e,t){var n=P({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new d(e,t,n);if(!t.ok)throw new d(e,t,"Generic Error")}(t,f),n(f.body),m.label=4;case 4:return[3,6];case 5:return p=m.sent(),r(p),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"maskChatHistoryMessage",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/chats/contentMask",body:t,mediaType:"application/json"})}},{key:"saveEmailDraft",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/email/saveDraft",body:t,mediaType:"application/json"})}},{key:"getPinnedCases",value:function(e){var t=e.limit,n=e.service,r=e.user,a=e.sortBy,o=e.asc;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/followUpQueue",query:{service:n,user:r,limit:t,sortBy:a,asc:o}})}},{key:"getPersonalQueue",value:function(e){var t=e.length,n=e.skip,r=e.user,a=e.sortBy,o=e.asc;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/getPersonalQueue",query:{user:r,length:t,sortBy:a,asc:o,skip:n}})}},{key:"getQueueCountByService",value:function(e){var t=e.queueType,n=e.serviceIds;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/getQueueCountByService",query:{queueType:t,serviceIds:n}})}},{key:"getQueueCount",value:function(e){var t=e.service,n=e.team,r=e.user,a=e.queueType,o=e.languageSkillId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/getQueueCount",query:{service:t,team:n,user:r,queueType:a,languageSkillId:o}})}},{key:"getTeamQueue",value:function(e){var t=e.length,n=e.skip,r=e.queueType,a=e.services,o=e.languageSkillId,i=e.team,s=e.sortBy,c=e.asc;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/getTeamQueue",query:{queueType:r,services:a,languageSkillId:o,team:i,length:t,sortBy:s,asc:c,skip:n}})}},{key:"getContactFormDefinition",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/form/contactFormDefinition"})}},{key:"getFormDefinition",value:function(e){var t=e.service;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/form/formDefinition",query:{service:t}})}},{key:"getHelp",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/help"})}},{key:"getActivityFormValues",value:function(e){var t=e.serviceId,n=e.record,r=e.link,a=e.contactId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/form/values",query:{record:n,service_id:t,link:r,contact_id:a}})}},{key:"sendActivityFormValues",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/form/values",body:t,mediaType:"application/json"})}},{key:"getRescueNodeId",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/LogMeIn/getUserNodeId"})}},{key:"checkIfRescueIsEnabled",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/LogMeIn/isEnabled"})}},{key:"getRescuePinCode",value:function(e){var t=e.nodeId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/LogMeIn/requestPinCode",query:{nodeId:t}})}},{key:"getLicensePage",value:function(){return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/license"})}},{key:"getLocalizedMessages",value:function(e){var t=e.locale;return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/servlet/messages.json",query:{locale:t}})}},{key:"getRtcConfig",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/getWebRtcCfg"})}},{key:"getServerAddressList",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/location/servers"})}},{key:"checkIfNeedRenderReportProblemButton",value:function(e){var t=e.tenantUrl;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/location/problems",query:{tenantUrl:t}})}},{key:"getServerVersion",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/version"})}},{key:"getAppInfo",value:function(){return H(E,{method:"GET",url:"/agentdesktop/app-info"})}},{key:"getKbArticle",value:function(e){var t=e.articleId,n=e.external,r=e.includePath,a=e.html,o=e.query,i=e.contact;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/kb/article/{articleId}",path:{articleId:t},query:{external:n,includePath:r,html:a,query:o,contact:i}})}},{key:"updateKbArticle",value:function(e){var t=e.articleId,n=e.requestBody;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/kb/article/{articleId}",path:{articleId:t},body:n,mediaType:"application/json"})}},{key:"deleteKbArticle",value:function(e){var t=e.articleId;return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/kb/article/{articleId}",path:{articleId:t}})}},{key:"createKbArticle",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/kb/article",body:t,mediaType:"application/json"})}},{key:"getKbArticles",value:function(e){var t=e.language,n=e.folderId,r=e.sortOrder,a=e.service,o=e.limit,i=e.startingFromValue,s=e.startingFromId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/kb/articleList",query:{language:t,folderId:n,sortOrder:r,service:a,limit:o,startingFromValue:i,startingFromId:s}})}},{key:"getKbRootFolder",value:function(e){var t=e.language,n=e.onlyFolders,r=e.emptyFolders,a=e.service;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/kb/folder",query:{language:t,onlyFolders:n,emptyFolders:r,service:a}})}},{key:"createKbFolder",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/kb/folder",body:t,mediaType:"application/json"})}},{key:"getKbFolder",value:function(e){var t=e.directoryId,n=e.language,r=e.onlyFolders,a=e.emptyFolders,o=e.service;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/kb/folder/{directoryId}",path:{directoryId:t},query:{language:n,onlyFolders:r,emptyFolders:a,service:o}})}},{key:"deleteKbFolder",value:function(e){var t=e.directoryId;return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/kb/folder/{directoryId}",path:{directoryId:t}})}},{key:"getKbLanguages",value:function(e){var t=e.usedInKbOnly;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/kb/getLanguages",query:{usedInKBOnly:t}})}},{key:"searchTextInKb",value:function(e){var t=e.language,n=e.query,r=e.service,a=e.folderId,o=e.limit,i=e.startingFromId,s=e.startingFromValue,c=e.sortOrder;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/kb/search",query:{query:n,language:t,service:r,folderId:a,limit:o,startingFromId:i,startingFromValue:s,sortOrder:c}})}},{key:"incrementKbInsertionCount",value:function(e){var t=e.articleId;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/kb/incrementInsertionCount/{articleId}",path:{articleId:t}})}},{key:"getImageById",value:function(e){var t=e.imageId,n=e.token;return H(E,{method:"GET",url:"/agentdesktop/images/{imageId}",path:{imageId:t},query:{token:n}})}},{key:"getGreeting",value:function(e){var t=e.customerQuestion;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/cr/greeting",query:{customerQuestion:t}})}},{key:"getUnreadPersonalMessages",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/unreadPersonalMessages/messages",body:t,mediaType:"application/json"})}},{key:"getUnreadPersonalMessagesForUser",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/unreadPersonalMessages/messagesForUser",body:t,mediaType:"application/json"})}},{key:"markPersonalMessagesAsRead",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/unreadPersonalMessages/markRead/",body:t,mediaType:"application/json"})}},{key:"getPredefinedChatMessages",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/cr/response"})}},{key:"createPredefinedChatMessage",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/cr/response",body:t,mediaType:"application/json"})}},{key:"updatePredefinedChatMessage",value:function(e){var t=e.requestBody;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/cr/response",body:t,mediaType:"application/json"})}},{key:"deletePredefinedChatMessage",value:function(e){var t=e.messageId;return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/cr/response/{messageId}",path:{messageId:t}})}},{key:"getActivity",value:function(e){var t=e.transcriptType,n=e.activityId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/{transcriptType}/{activityId}",path:{transcriptType:t,activityId:n}})}},{key:"getChatTranscript",value:function(e){var t=e.globalInteractionId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/chat_transcript/{globalInteractionId}",path:{globalInteractionId:t}})}},{key:"getEmail",value:function(e){var t=e.emailId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/email/message/{emailId}",path:{emailId:t}})}},{key:"getAudio",value:function(e){var t=e.id,n=e.tenant,r=e.token,a=e.user,o=e.audiotag,i=e.wav;return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/playPrompt",query:{id:t,tenant:n,token:r,user:a,audiotag:o,".wav":i}})}},{key:"getRecording",value:function(e){var t=e.audiotag,n=e.id,r=e.interactionId,a=e.tenant,o=e.token,i=e.user;return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/playRecording",query:{audiotag:t,id:n,interaction_id:r,tenant:a,token:o,user:i}})}},{key:"getAudioNotification",value:function(e){var t=e.id;return H(E,{method:"GET",url:"/agentdesktop/getaudio",query:{id:t}})}},{key:"getChatAttachmentDownload",value:function(e){var t=e.id,n=e.tenant,r=e.token,a=e.user,o=e.noDisposition;return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/chatAttachmentDownload",query:{id:t,tenant:n,token:r,user:a,no_disposition:o}})}},{key:"getUserPictureUrl",value:function(e){var t=e.id,n=e.token,r=e.user,a=e.tenant,o=e.ifFound,i=e.tmp;return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/userIconDownload",query:{id:t,token:n,user:r,tenant:a,tmp:i,ifFound:o}})}},{key:"msteamsIconDownload",value:function(e){var t=e.id,n=e.token,r=e.user,a=e.tenant,o=e.type,i=e.emiServerUrlPrefix,s=e.photoUrl,c=e.tmp;return H(E,{method:"GET",url:"/agentdesktop/agentdesktop/msteamsIconDownload",query:{id:t,token:n,user:r,tenant:a,tmp:c,type:o,emi_server_url_prefix:i,photo_url:s}})}},{key:"getFileInfo",value:function(e){var t=e.fileId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/fileInfo/{fileId}",path:{fileId:t}})}},{key:"uploadFile",value:function(e){var t=e.contentType,n=e.type,r=e.token,a=e.user,o=e.tenant,i=e.formData;return H(E,{method:"POST",url:"/agentdesktop/agentdesktop/{type}",path:{type:n},headers:{"Content-Type":t},query:{token:r,user:a,tenant:o},formData:i,mediaType:"multipart/form-data"})}},{key:"deleteContactPhoto",value:function(e){var t=e.contactId;return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/photo",path:{contactId:t}})}},{key:"uploadContactPicture",value:function(e){var t=e.token,n=e.user,r=e.tenant,a=e.formData;return H(E,{method:"POST",url:"/agentdesktop/agentdesktop/contactPhotoUpload",query:{token:t,user:n,tenant:r},formData:a,mediaType:"multipart/form-data"})}},{key:"mediaFileUpload",value:function(e){var t=e.token,n=e.user,r=e.tenant,a=e.formData;return H(E,{method:"POST",url:"/agentdesktop/agentdesktop/mediaFileUpload",query:{token:t,user:n,tenant:r},formData:a,mediaType:"multipart/form-data"})}},{key:"uploadEmailAttachment",value:function(e){var t=e.contentType,n=e.token,r=e.user,a=e.tenant,o=e.formData;return H(E,{method:"POST",url:"/agentdesktop/agentdesktop/attachmentUpload",headers:{"Content-Type":t},query:{token:n,user:r,tenant:a},formData:o,mediaType:"multipart/form-data"})}},{key:"uploadChatFile",value:function(e){var t=e.contentType,n=e.token,r=e.user,a=e.tenant,o=e.formData;return H(E,{method:"POST",url:"/agentdesktop/agentdesktop/chatAttachmentUpload",headers:{"Content-Type":t},query:{token:n,user:r,tenant:a},formData:o,mediaType:"multipart/form-data"})}},{key:"uploadLogs",value:function(e){var t=e.app,n=e.device,r=e.formData;return H(E,{method:"POST",url:"/agentdesktop/agentdesktop/logsUpload",query:{app:t,device:n},formData:r,mediaType:"multipart/form-data"})}},{key:"getContact",value:function(e){var t=e.contactId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/{contactId}",path:{contactId:t}})}},{key:"updateContact",value:function(e){var t=e.contactId,n=e.requestBody;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/crm/contact/{contactId}",path:{contactId:t},body:n,mediaType:"application/json"})}},{key:"deleteContact",value:function(e){var t=e.contactId;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/{contactId}",path:{contactId:t}})}},{key:"getContactWithQuery",value:function(e){var t=e.query;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/brief/contact",query:{query:t}})}},{key:"createCaseActivity",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/activity",body:t,mediaType:"application/json"})}},{key:"getContactListWithQuery",value:function(e){var t=e.query,n=e.lang;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact",query:{query:t,lang:n}})}},{key:"createContact",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact",body:t,mediaType:"application/json"})}},{key:"getContactList",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/find/contact",body:t,mediaType:"application/json"})}},{key:"getContactActivity",value:function(e){var t=e.contactId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/activity",path:{contactId:t}})}},{key:"getContactPage",value:function(e){var t=e.contactId;return H(E,{method:"GET",url:"/agentdesktop/contact/id/{contactId}/details",path:{contactId:t}})}},{key:"getContactPictureUrl",value:function(e){var t=e.contactId,n=e.occurance,r=e.token,a=e.user,o=e.tenant,i=e.tmp;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/{occurance}",path:{contactId:t,occurance:n},query:{token:r,user:a,tenant:o,tmp:i}})}},{key:"getContactValues",value:function(e){var t=e.id,n=e.type;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/form/contactValues",query:{id:t,type:n}})}},{key:"getContactListWithParams",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/contact_list",body:t,mediaType:"application/json"})}},{key:"getContactActivityHistoryWithParams",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/getActivityHistory",body:t,mediaType:"application/json"})}},{key:"identifyContactByPhone",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/identifyContactByPhone",body:t,mediaType:"application/json"})}},{key:"createContactPhone",value:function(e){var t=e.contactId,n=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/phone",path:{contactId:t},body:n,mediaType:"application/json"})}},{key:"getContactListByEmail",value:function(e){var t=e.query;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/email",query:{query:t}})}},{key:"createContactEmail",value:function(e){var t=e.contactId,n=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/email",path:{contactId:t},body:n,mediaType:"application/json"})}},{key:"createCompany",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/crm/company",body:t,mediaType:"application/json"})}},{key:"updateContactDetails",value:function(e){var t=e.companyId,n=e.requestBody;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/crm/company/{companyId}",path:{companyId:t},body:n,mediaType:"application/json"})}},{key:"getCase",value:function(e){var t=e.caseId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}",path:{caseId:t}})}},{key:"updateCase",value:function(e){var t=e.caseId,n=e.requestBody;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/crm/case/{caseId}",path:{caseId:t},body:n,mediaType:"application/json"})}},{key:"getCaseReporter",value:function(e){var t=e.caseId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}/reporter",path:{caseId:t}})}},{key:"getCaseAssignments",value:function(e){var t=e.caseId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}/assignments",path:{caseId:t}})}},{key:"pinCase",value:function(e){var t=e.caseId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",path:{caseId:t}})}},{key:"unpinCase",value:function(e){var t=e.caseId;return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",path:{caseId:t}})}},{key:"getCaseList",value:function(e){var t=e.query,n=e.lang,r=e.statuses,a=e.service,o=e.sortBy,i=e.asc,s=e.team;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/case",query:{query:t,statuses:r,service:a,lang:n,sortBy:o,asc:i,team:s}})}},{key:"createCalendarEvent",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/calendar/items",body:t,mediaType:"application/json"})}},{key:"getCalendarAgenda",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/calendar/agenda"})}},{key:"getCalendarEventDetails",value:function(e){var t=e.calendarEventId;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",path:{calendarEventId:t}})}},{key:"deleteCalendarEvent",value:function(e){var t=e.calendarEventId;return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",path:{calendarEventId:t}})}},{key:"completeCalendarEvent",value:function(e){var t=e.calendarEventId;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/complete",path:{calendarEventId:t}})}},{key:"snoozeCalendarEvent",value:function(e){var t=e.calendarEventId;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/snooze",path:{calendarEventId:t}})}},{key:"moveCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/calendar/itemStart/{calendarEventId}",path:{calendarEventId:t},query:{delta:n}})}},{key:"stretchCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return H(E,{method:"PUT",url:"/agentdesktop/ws/ad/calendar/itemEnd/{calendarEventId}",path:{calendarEventId:t},query:{delta:n}})}},{key:"assignCalendarEvent",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/calendar/assignEvent",body:t,mediaType:"application/json"})}},{key:"getEventsByTimeFrame",value:function(e){var t=e.start,n=e.end,r=e.timezone,a=e.user;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/calendar/eventsByTimeFrame",query:{start:t,end:n,user:a,timezone:r}})}},{key:"checkSessionToken",value:function(){return H(E,{method:"GET",url:"/agentdesktop/auth/proxy/login"})}},{key:"login",value:function(e){var t=e.formData,n=e.userAgent;return H(E,{method:"POST",url:"/agentdesktop/auth/proxy/login",headers:{"User-Agent":n},formData:t,mediaType:"multipart/form-data"})}},{key:"checkSessionTokenWithSso",value:function(e){var t=e.app,n=e.path,r=e.params,a=e.sso;return H(E,{method:"GET",url:"/agentdesktop/auth/proxy/login2",query:{app:t,path:n,params:r,sso:a}})}},{key:"changePassword",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/config/changeADPassword",body:t,mediaType:"application/json"})}},{key:"logout",value:function(e){var t=e.keepSession;return H(E,{method:"GET",url:"/agentdesktop/auth/proxy/logout",query:{keepSession:t}})}},{key:"resetPassword",value:function(e){var t=e.user,n=e.tenant;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/config/resetADPassword",query:{user:t,tenant:n}})}},{key:"getPasswordConfig",value:function(e){var t=e.tenantUrl;return H(E,{method:"GET",url:"/agentdesktop/ws/ad/validatep/runtimeConfig",query:{tenantUrl:t}})}},{key:"validatePassword",value:function(e){var t=e.type,n=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/validatep/{type}",path:{type:t},body:n,mediaType:"application/json"})}},{key:"checkIfTenantExists",value:function(){return H(E,{method:"GET",url:"/statsapi/info/tenant_exists"})}},{key:"getMsTeamsLoginUrl",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/msteams/authorize"})}},{key:"getMsTeamsRefreshToken",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/msteams/authorize",body:t,mediaType:"application/json"})}},{key:"checkMsTeamsAuthStatus",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/msteams/status"})}},{key:"completeMsTeamsAuth",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/msteams/status",body:t,mediaType:"application/json"})}},{key:"getMsTeamsLogoutUrl",value:function(){return H(E,{method:"DELETE",url:"/agentdesktop/ws/ad/msteams/status"})}},{key:"getPersonalQueueHighlightedCount",value:function(){return H(E,{method:"GET",url:"/agentdesktop/ws/ad/crm/getPersonalQueueHighlightedCount"})}},{key:"adminLogoutHelper",value:function(){return H(E,{method:"GET",url:"/admin/misc/logoutHelper"})}},{key:"getSupervisedQualityScore",value:function(e){var t=e.fromTime,n=e.supervisorId,r=e.token;return H(E,{method:"GET",url:"/admin/rest/evaluation/quality-score-supervised",query:{fromTime:t,supervisorId:n,token:r}})}},{key:"requestDirectChatInvitationLink",value:function(e){var t=e.requestBody;return H(E,{method:"POST",url:"/agentdesktop/ws/ad/clientweb/dc",body:t,mediaType:"application/json",errors:{403:"User is not granted the  the Create personal chat invitation links privilege",503:"No more PINS available (there are 999999 not expired PINs already)"}})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}(),z=function(e){return void 0!==e&&E.BASE!==e&&(E.BASE=e),W};var Y={adminLogoutHelper:"/admin/misc/logoutHelper",assignCalendarEvent:"/agentdesktop/ws/ad/calendar/assignEvent",changePassword:"/agentdesktop/ws/ad/config/changeADPassword",checkIfNeedRenderReportProblemButton:"/agentdesktop/ws/ad/location/problems",checkIfRescueIsEnabled:"/agentdesktop/ws/ad/LogMeIn/isEnabled",checkIfTenantExists:"/statsapi/info/tenant_exists",checkMsTeamsAuthStatus:"/agentdesktop/ws/ad/msteams/status",checkSessionToken:"/agentdesktop/auth/proxy/login",checkSessionTokenWithSSO:"/agentdesktop/auth/proxy/login2",completeCalendarEvent:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/complete",completeMsTeamsAuth:"/agentdesktop/ws/ad/msteams/status",createCalendarEvent:"/agentdesktop/ws/ad/calendar/items",createCaseActivity:"/agentdesktop/ws/ad/crm/activity",createCompany:"/agentdesktop/ws/ad/crm/company",createContact:"/agentdesktop/ws/ad/crm/contact",createContactEmail:"/agentdesktop/ws/ad/crm/contact/{contactId}/email",createContactPhone:"/agentdesktop/ws/ad/crm/contact/{contactId}/phone",createKBArticle:"/agentdesktop/ws/ad/kb/article",createKBFolder:"/agentdesktop/ws/ad/kb/folder",createPredefinedChatMessage:"/agentdesktop/ws/ad/cr/response",deleteCalendarEvent:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",deleteContact:"/agentdesktop/ws/ad/crm/contact/{contactId}",deleteContactPhoto:"/agentdesktop/ws/ad/crm/contact/{contactId}/photo",deleteKBArticle:"/agentdesktop/ws/ad/kb/article/{articleId}",deleteKBFolder:"/agentdesktop/ws/ad/kb/folder/{directoryId}",deletePredefinedChatMessage:"/agentdesktop/ws/ad/cr/response/{messageId}",getActivity:"/agentdesktop/ws/ad/crm/{transcriptType}/{activityId}",getActivityFormValues:"/agentdesktop/ws/ad/form/values",getAppInfo:"/agentdesktop/app-info",getAudio:"/agentdesktop/agentdesktop/playPrompt",getAudioNotification:"/agentdesktop/getaudio",getCalendarAgenda:"/agentdesktop/ws/ad/calendar/agenda",getCalendarEventDetails:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",getCase:"/agentdesktop/ws/ad/crm/case/{caseId}",getCaseAssignments:"/agentdesktop/ws/ad/crm/case/{caseId}/assignments",getCaseList:"/agentdesktop/ws/ad/crm/case",getCaseReporter:"/agentdesktop/ws/ad/crm/case/{caseId}/reporter",getChatAttachmentDownload:"/agentdesktop/agentdesktop/chatAttachmentDownload",getChatTranscript:"/agentdesktop/ws/ad/crm/chat_transcript/{globalInteractionId}",getContact:"/agentdesktop/ws/ad/crm/contact/{contactId}",getContactActivity:"/agentdesktop/ws/ad/crm/contact/{contactId}/activity",getContactActivityHistoryWithParams:"/agentdesktop/ws/ad/crm/contact/getActivityHistory",getContactFormDefinition:"/agentdesktop/ws/ad/form/contactFormDefinition",getContactList:"/agentdesktop/ws/ad/crm/find/contact",getContactListByEmail:"/agentdesktop/ws/ad/crm/contact/email",getContactListWithParams:"/agentdesktop/ws/ad/crm/contact/contact_list",getContactListWithQuery:"/agentdesktop/ws/ad/crm/contact",getContactPage:"/agentdesktop/contact/id/{contactId}/details",getContactPictureUrl:"/agentdesktop/ws/ad/crm/contact/{contactId}/{occurance}",getContactValues:"/agentdesktop/ws/ad/form/contactValues",getContactWithQuery:"/agentdesktop/ws/ad/crm/brief/contact",getEmail:"/agentdesktop/ws/ad/email/message/{emailId}",getEventsByTimeFrame:"/agentdesktop/ws/ad/calendar/eventsByTimeFrame",getFileInfo:"/agentdesktop/ws/ad/fileInfo/{fileId}",getFormDefinition:"/agentdesktop/ws/ad/form/formDefinition",getGreeting:"/agentdesktop/ws/ad/cr/greeting",getHelp:"/agentdesktop/ws/ad/help",getImageById:"/agentdesktop/images/{imageId}",getKBArticle:"/agentdesktop/ws/ad/kb/article/{articleId}",getKBArticles:"/agentdesktop/ws/ad/kb/articleList",getKBFolder:"/agentdesktop/ws/ad/kb/folder/{directoryId}",getKBLanguages:"/agentdesktop/ws/ad/kb/getLanguages",getKBRootFolder:"/agentdesktop/ws/ad/kb/folder",getLicensePage:"/agentdesktop/agentdesktop/license",getLocalizedMessages:"/agentdesktop/agentdesktop/servlet/messages.json",getMsTeamsLoginUrl:"/agentdesktop/ws/ad/msteams/authorize",getMsTeamsLogoutUrl:"/agentdesktop/ws/ad/msteams/status",getMsTeamsRefreshToken:"/agentdesktop/ws/ad/msteams/authorize",getPasswordConfig:"/agentdesktop/ws/ad/validatep/runtimeConfig",getPersonalQueue:"/agentdesktop/ws/ad/crm/getPersonalQueue",getPersonalQueueHighlightedCount:"/agentdesktop/ws/ad/crm/getPersonalQueueHighlightedCount",getPinnedCases:"/agentdesktop/ws/ad/crm/followUpQueue",getPredefinedChatMessages:"/agentdesktop/ws/ad/cr/response",getQueueCount:"/agentdesktop/ws/ad/crm/getQueueCount",getQueueCountByService:"/agentdesktop/ws/ad/crm/getQueueCountByService",getRecording:"/agentdesktop/agentdesktop/playRecording",getRescueNodeId:"/agentdesktop/ws/ad/LogMeIn/getUserNodeId",getRescuePinCode:"/agentdesktop/ws/ad/LogMeIn/requestPinCode",getRtcConfig:"/agentdesktop/ws/ad/getWebRtcCfg",getServerAddressList:"/agentdesktop/ws/ad/location/servers",getServerVersion:"/agentdesktop/ws/ad/version",getSupervisedQualityScore:"/admin/rest/evaluation/quality-score-supervised",getTeamQueue:"/agentdesktop/ws/ad/crm/getTeamQueue",getUnreadPersonalMessages:"/agentdesktop/ws/ad/unreadPersonalMessages/messages",getUnreadPersonalMessagesForUser:"/agentdesktop/ws/ad/unreadPersonalMessages/messagesForUser",getUserPictureUrl:"/agentdesktop/agentdesktop/userIconDownload",identifyContactByPhone:"/agentdesktop/ws/ad/crm/contact/identifyContactByPhone",incrementKBInsertionCount:"/agentdesktop/ws/ad/kb/incrementInsertionCount/{articleId}",login:"/agentdesktop/auth/proxy/login",logout:"/agentdesktop/auth/proxy/logout",markPersonalMessagesAsRead:"/agentdesktop/ws/ad/unreadPersonalMessages/markRead/",maskChatHistoryMessage:"/agentdesktop/ws/ad/chats/contentMask",mediaFileUpload:"/agentdesktop/agentdesktop/mediaFileUpload",moveCalendarEvent:"/agentdesktop/ws/ad/calendar/itemStart/{calendarEventId}",msteamsIconDownload:"/agentdesktop/agentdesktop/msteamsIconDownload",pinCase:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",requestDirectChatInvitationLink:"/agentdesktop/ws/ad/clientweb/dc",resetPassword:"/agentdesktop/ws/ad/config/resetADPassword",saveEmailDraft:"/agentdesktop/ws/ad/email/saveDraft",searchTextInKB:"/agentdesktop/ws/ad/kb/search",sendActivityFormValues:"/agentdesktop/ws/ad/form/values",snoozeCalendarEvent:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/snooze",stretchCalendarEvent:"/agentdesktop/ws/ad/calendar/itemEnd/{calendarEventId}",undefined:"responses",unpinCase:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",updateCase:"/agentdesktop/ws/ad/crm/case/{caseId}",updateContact:"/agentdesktop/ws/ad/crm/contact/{contactId}",updateContactDetails:"/agentdesktop/ws/ad/crm/company/{companyId}",updateKBArticle:"/agentdesktop/ws/ad/kb/article/{articleId}",updatePredefinedChatMessage:"/agentdesktop/ws/ad/cr/response",uploadChatFile:"/agentdesktop/agentdesktop/chatAttachmentUpload",uploadContactPicture:"/agentdesktop/agentdesktop/contactPhotoUpload",uploadEmailAttachment:"/agentdesktop/agentdesktop/attachmentUpload",uploadFile:"/agentdesktop/agentdesktop/{type}",uploadLogs:"/agentdesktop/agentdesktop/logsUpload",validatePassword:"/agentdesktop/ws/ad/validatep/{type}"},Q=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(String(e[t])))})).join("&")};function J(e,t){return"".concat(e,"/admin/?interactionId=").concat(t)}function X(e,t){return"".concat(e,"/agentdesktop").concat(t)}function Z(e,t,n){return"".concat(e,"/agentdesktop/agentdesktop/download/emailOriginalMessage?token=").concat(t,"&id=").concat(n)}function ee(e){var t=e.serverOrigin,n={token:e.sessionId,user:e.loginId,tenant:e.domain,id:e.attachmentId,no_disposition:0},r=Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&");return"".concat(t,"/agentdesktop/agentdesktop/attachmentDownload?").concat(r)}function te(e,t){return"".concat(e,"/agent/search/case/id/").concat(t)}function ne(e,t){return"".concat(e,"/agent/search/contact/id/").concat(t)}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.serverOrigin,a=e.sessionId,o=e.loginId,i=e.domain,s={token:a,user:o,tenant:i,id:t,audiotag:n.download?1:void 0,".wav":""};return"".concat(r).concat(Y.getAudio,"?").concat(Q(s))}},94547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RescueStateContextProvider:()=>i,useRescueState:()=>c,useRescueStateConnector:()=>d,useRescueStateMethods:()=>l,useRescueStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("RescueStateContextProvider"),o=a.getContext,i=a.RescueStateContextProvider,s=(0,r.createStateHooks)("rescueState",o),c=s.useRescueState,u=s.useRescueStateRef,l=s.useRescueStateMethods,d=s.useRescueStateConnector},66842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialRescueState:()=>r,rescueStateControlEvents:()=>i,rescueStateTrackerEvents:()=>o});var r=function(){return{isEnabled:!1}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={getUserNodeId:(0,a.event)(),requestPinCode:(0,a.event)()}},49513:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RescueStateImpl:()=>m});var r=n(5518),a=n(598);function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?o(e):t;var n}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(_,e);var t,n,a,u=p(_);function _(){var e;return i(this,_),c(o(e=u.apply(this,arguments)),"onAgentWelcome",(function(){return e.checkIfEnabled()})),c(o(e),"checkIfEnabled",(function(){var t=e.sessionConnector.getStateData().serverOrigin;if(!e.stateData.isEnabled)return(0,r.apiRequests)(t).checkIfRescueIsEnabled().then((function(t){e.updateState((function(e){return d(l({},e),{isEnabled:t})}))}))})),c(o(e),"getUserNodeId",(function(){var t=e.sessionConnector.getStateData().serverOrigin;return(0,r.apiRequests)(t).getRescueNodeId().then((function(t){t&&t.nodeId?e.updateState((function(e){return d(l({},e),{userNodeId:t.nodeId})})):e.updateState((function(e){return d(l({},e),{isEnabled:!1})}))})).catch((function(){return e.updateState((function(e){return d(l({},e),{isEnabled:!1})}))}))})),c(o(e),"requestPinCode",(function(){var t=e.stateData,n=t.isEnabled,a=t.userNodeId;if(n){var o=function(){var t=e.sessionConnector.getStateData().serverOrigin,n=e.stateData.userNodeId;e.updateState((function(e){return d(l({},e),{pinCode:void 0,errorCode:void 0})})),n&&(0,r.apiRequests)(t).getRescuePinCode({nodeId:n}).then((function(t){if(t){var n=t.pinCode;n?e.updateState((function(e){return d(l({},e),{pinCode:n})})):e.updateState((function(e){return d(l({},e),{errorCode:"400"})}))}})).catch((function(){return e.updateState((function(e){return d(l({},e),{isEnabled:!1})}))}))};a?o():e.getUserNodeId().then(o)}})),e}return t=_,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({getUserNodeId:this.getUserNodeId,requestPinCode:this.requestPinCode}))}}])&&s(t.prototype,n),a&&s(t,a),_}(n(16152).StateFactory.createBaseStateClass({name:"rescueState",controlEvents:a.rescueStateControlEvents,trackerEvents:a.rescueStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:a.getInitialRescueState,dependencies:["transport","sessionConnector"]}))},2292:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createRoleManager:()=>v,roleManagerMock:()=>h});var r=n(26220),a=n(97329),o=n(96877),i=n(18189),s=n(26552),c=n(16152),u=n(87801);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var f=3e3;function p(e){return(0,c.isStateCoordinatorSwitch)(e)?e.realConnector:e}var m=r.bpLogger.withPrefix("@SYNC"),g=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"role","undecided"),d(this,"sessionStateConnector",void 0),d(this,"sessionData",(0,a.getInitialSessionState)()),d(this,"invalidateRoleHandlers",[]),d(this,"roleChangedListeners",[]),d(this,"failedLifeChecks",0),d(this,"failedHandshakeMaster",0),d(this,"handshakeInProcess",!1),d(this,"nextLifeCheckTimerId",null),d(this,"lifeCheckSubscription",null),d(this,"sessionStateResolvers",[]),d(this,"communicationChannelStateHost",void 0),d(this,"communicationChannelStateListener",void 0),d(this,"subscriptions",[]),d(this,"realSessionStateSubscription",null),d(this,"onStorage",(function(e){if(e.key===u.MASTER_TAB_ID_STORAGE_KEY){var n=t.getRole();"undecided"===n?t.resolveMyRole():"master"===n&&e.newValue!==u.tabId?m.warn("Master conflict!"):"follower"===n&&t.invalidateRole()}})),this.communicationChannelStateHost=(0,o.getCommunicationLayerBroadcastChannel)("state-host"),this.communicationChannelStateListener=(0,o.getCommunicationLayerBroadcastChannel)("state-listener"),m.info("Create role manager"),this.subscriptions.push({unsubscribe:function(){t.stopPollingMasterLifeCheck(),t.stopAnsweringMasterLifeCheck()}}),this.onRoleChanged((function(e){"follower"===e&&t.startPollingMasterLifeCheck(),"master"===e?(t.stopPollingMasterLifeCheck(),t.startAnsweringMasterLifeCheck()):t.stopAnsweringMasterLifeCheck(),t.tryToSubscribeForRealSessionState()})),this.resolveMyRole(),this.subscribeOnMasterChange()}var t,n,r;return t=e,n=[{key:"injectSessionStateConnector",value:function(e){this.sessionStateConnector=e,this.tryToSubscribeForRealSessionState(),this.sessionStateResolvers.forEach((function(e){return e()})),this.sessionStateResolvers.splice(0,this.sessionStateResolvers.length)}},{key:"waitForSessionConnector",value:function(){var e=this;return this.sessionStateConnector?Promise.resolve():new Promise((function(t){e.sessionStateResolvers.push(t)}))}},{key:"tryToSubscribeForRealSessionState",value:function(){var e=this;(0,s.assertDefined)(this.sessionStateConnector);var t=p(this.sessionStateConnector);t&&!this.realSessionStateSubscription&&(m.info("Real session state detected: subscribe"),this.realSessionStateSubscription=t.dispenser.subscribe({onInitialState:function(t){e.sessionData=_({},t)},onChange:function(t){var n=_({},e.sessionData),r=_({},e.sessionData,t);e.sessionData=r,n.isAuthorizing&&!r.isAuthorizing&&(!n.isLoggedIn&&r.isLoggedIn?(m.info("successful login, become master"),localStorage.setItem(u.MASTER_TAB_ID_STORAGE_KEY,u.tabId),e.setRole("master"),e.failedHandshakeMaster=0,e.failedLifeChecks=0):!n.isLoggedInOnOtherTab&&r.isLoggedInOnOtherTab&&(m.info("login failed: this session is logged in on different tab, resolve master"),e.resolveMyRole())),r.loginError&&r.loginError!==n.loginError&&m.info("login error:",r.loginError)},onDisconnect:function(t){m.warn("disconnect: code",t),t===i.incomingErrorMessageCodes.forced_logout_by_another_session?(m.warn("disconnect: forced logout by another session"),e.resolveMyRole()):t===i.incomingErrorMessageCodes.already_has_active_session&&(m.warn("disconnect: already has active session"),e.resolveMyRole())}})),!t&&this.realSessionStateSubscription&&(m.info("Real session state destroyed: unsubscribe"),this.realSessionStateSubscription.unsubscribe(),this.realSessionStateSubscription=null)}},{key:"getRole",value:function(){return this.role}},{key:"onInvalidateRole",value:function(e){this.invalidateRoleHandlers.push(e)}},{key:"removeInvalidateRoleHandler",value:function(e){var t=this.invalidateRoleHandlers.indexOf(e);-1!==t&&this.invalidateRoleHandlers.splice(t,1)}},{key:"onRoleChanged",value:function(e){this.roleChangedListeners.push(e)}},{key:"removeRoleChangedListener",value:function(e){var t=this.roleChangedListeners.indexOf(e);-1!==t&&this.roleChangedListeners.splice(t,1)}},{key:"startAnsweringMasterLifeCheck",value:function(){this.lifeCheckSubscription=this.communicationChannelStateHost.subscribe("__sync__",{lifeCheck:function(){return!0}})}},{key:"stopAnsweringMasterLifeCheck",value:function(){this.lifeCheckSubscription&&(this.lifeCheckSubscription.unsubscribe(),this.lifeCheckSubscription=null)}},{key:"masterLifeCheckIteration",value:function(){var e=this,t=this.getRole();"follower"!==t&&"follower_lost_master"!==t||this.masterLifeCheck().then((function(){return e.failedLifeChecks=0,e.setRole("follower")})).catch((function(){"follower"!==(t=e.getRole())&&"follower_lost_master"!==t||(e.failedLifeChecks++,m.info("master does not pass life check #".concat(e.failedLifeChecks,"!")),e.setRole("follower_lost_master"),e.failedLifeChecks<2||!e.sessionData.authChecked?e.tryToBecomeMaster():e.forceToBecomeMaster())})).finally((function(){e.nextLifeCheckTimerId=setTimeout((function(){e.masterLifeCheckIteration()}),f)}))}},{key:"startPollingMasterLifeCheck",value:function(){var e=this;"undefined"!=typeof localStorage&&"undefined"!=typeof window&&(this.failedLifeChecks=0,null===this.nextLifeCheckTimerId&&(this.nextLifeCheckTimerId=setTimeout((function(){e.masterLifeCheckIteration()}),f)))}},{key:"stopPollingMasterLifeCheck",value:function(){null!==this.nextLifeCheckTimerId&&(clearTimeout(this.nextLifeCheckTimerId),this.nextLifeCheckTimerId=null)}},{key:"invalidateRole",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getRole(),t=!0,n=!1,r=void 0;try{for(var a,o=this.invalidateRoleHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;try{i(e,this.role)}catch(s){m.error("error in invalidate role handler:",s)}}}catch(c){n=!0,r=c}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"setRole",value:function(e){if(e!==this.role){this.invalidateRole(e),m.info("new role: ".concat(e,", previous: ").concat(this.role));var t=this.role;this.role=e,this.roleChangedListeners.forEach((function(n){try{n(e,t)}catch(r){m.error("error in role changed listener:",r)}}))}}},{key:"resolveMyRole",value:function(){var e=this,t=localStorage.getItem(u.MASTER_TAB_ID_STORAGE_KEY);m.info("resolveMaster: masterId =",null!=t?t:"undefined"),t!==u.tabId?this.handshakeInProcess||(t?(this.handshakeInProcess=!0,this.masterLifeCheck().then((function(){return m.info("handshake succeeded"),e.failedHandshakeMaster=0,e.handshakeInProcess=!1,e.setRole("follower")})).catch((function(){m.info("handshake failed"),e.failedHandshakeMaster++,e.failedHandshakeMaster>=2?(m.warn("Limit of failed attempts to connect to the master reached!"),e.forceToBecomeMaster()):e.tryToBecomeMaster(),e.handshakeInProcess=!1}))):this.waitForSessionConnector().then((function(){e.tryToBecomeMaster()}))):this.waitForSessionConnector().then((function(){e.tryToBecomeMaster()}))}},{key:"masterLifeCheck",value:function(){var e=this,t=Date.now();return new Promise((function(n,r){e.communicationChannelStateListener.sendRequest({scope:"__sync__",event:"lifeCheck",payload:[]},6e3).then((function(){var e=Date.now()-t;e>f?m.warn("Life Check duration = ".concat((e/1e3).toFixed(1),"s "),"MORE THAN expectation timeout = ".concat(3..toFixed(1),"s!")):m.info("Life Check duration = ".concat((e/1e3).toFixed(1),"s")),n()})).catch(r),setTimeout(r,f)}))}},{key:"tryToBecomeMaster",value:function(){if(!this.sessionData.isAuthorizing){m.info("tryToBecomeMaster"),(0,s.assertDefined)(this.sessionStateConnector);var e=p(this.sessionStateConnector);(0,s.assertNotNull)(e),e.dispatch.checkToken(void 0)}}},{key:"forceToBecomeMaster",value:function(){if(!this.sessionData.isAuthorizing){m.info("forceToBecomeMaster"),(0,s.assertDefined)(this.sessionStateConnector);var e=p(this.sessionStateConnector);(0,s.assertNotNull)(e),e.dispatch.forceLogin()}}},{key:"subscribeOnMasterChange",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("storage",this.onStorage),this.subscriptions.push({unsubscribe:function(){"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener("storage",e.onStorage)}})}},{key:"cleanup",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}],n&&l(t.prototype,n),r&&l(t,r),e}(),h=function(e){return{getRole:function(){return e},onInvalidateRole:function(){},removeInvalidateRoleHandler:function(){},onRoleChanged:function(){},removeRoleChangedListener:function(){},injectSessionStateConnector:function(){},cleanup:function(){}}};function v(e){return"mobile"===e.clientType()||{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.REACT_APP_SIMPLE_STATES?h("master"):new g}},40727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addSavedItemState:()=>i,removeSavedItemState:()=>c,updateSavedItemState:()=>s});var r=n(41212),a=n.n(r);function o(e){var t;return{itemKind:e.itemKind,interactionStepId:e.scenarioData&&e.scenarioData.interactionStepId,contactId:e.contactId,userId:e.userId,displayData:e.displayData,dispositionData:e.dispositionData,voiceCallAccepted:e.voiceCallAccepted,associatedObjects:e.associatedObjects,openedBotSuggestionsUrls:e.openedBotSuggestionsUrls,callData:e.callData,details:{formData:null===(t=e.details)||void 0===t?void 0:t.formData}}}function i(e,t){var n=o(t);e.get("savedInteractionItems").then((function(r){var a=r||{};a[t.id]=n,e.set("savedInteractionItems",a)}))}function s(e){var t=e.localSettings,n=e.oldItem,r=e.newItem,i=o(n),s=o(r);a()(i,s)||t.get("savedInteractionItems").then((function(e){var n=e||{};n[r.id]=s,t.set("savedInteractionItems",n)}))}function c(e,t){e.get("savedInteractionItems").then((function(n){n&&(delete n[t],e.set("savedInteractionItems",n))}))}},14507:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ScreenPopStateContextProvider:()=>i,useScreenPopState:()=>c,useScreenPopStateConnector:()=>d,useScreenPopStateMethods:()=>l,useScreenPopStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("ScreenPopStateContextProvider"),o=a.getContext,i=a.ScreenPopStateContextProvider,s=(0,r.createStateHooks)("screenPopState",o),c=s.useScreenPopState,u=s.useScreenPopStateRef,l=s.useScreenPopStateMethods,d=s.useScreenPopStateConnector},91335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ScrollStateContext:()=>l,useNativeScrollDataManager:()=>m,useNativeScrollDataRetriever:()=>f,useNativeScrollDataSaver:()=>p,useScrollState:()=>_,useScrollStateProviderBuilder:()=>d,useVirtualScrollDataManager:()=>g});var r=n(52322),a=n(66029),o=n(63830),i=n.n(o),s=n(2122),c=n(79607),u={setScrollData:function(){throw Error("Cannot call method outside of ScrollStateProvider")},getScrollData:function(){throw Error("Cannot call method outside of ScrollStateProvider")}},l=(0,a.createContext)(u);function d(e){var t=e.children,n=e.defaultScrollStateData,o=(0,a.useRef)(n),u=(0,a.useCallback)((function(e,t){o.current=i()(o.current,(function(n){(0,s.set)(n,e,t)}))}),[]),d=(0,a.useCallback)((function(e){return(0,s.get)(o.current,e)}),[]),_=(0,a.useMemo)((function(){return{getScrollData:d,setScrollData:u}}),[d,u]),f=(0,a.useCallback)((function(){o.current=n}),[n]);return(0,c.useOnLogout)(f),(0,a.useMemo)((function(){return{scrollStateRef:o,Provider:(0,r.jsx)(l.Provider,{value:_,children:t})}}),[t,_])}l.displayName="ScrollStateContext";var _=function(){return(0,a.useContext)(l)};function f(e){var t=e.key,n=e.ref,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=_(),i=o.setScrollData,s=o.getScrollData,c=r.retrieveScrollCondition,u=void 0===c||c;(0,a.useLayoutEffect)((function(){u&&function(){if(t){var e=s(t)||{type:"NATIVE"},a=e.snapshot;if("NATIVE"===e.type){var o=n.current;if(o){var i=null==o?void 0:o.scrollTop,c=null==o?void 0:o.clientHeight,u=null==o?void 0:o.scrollHeight,l=null==a?void 0:a.scrollTop,d=null==a?void 0:a.clientHeight,_=null==a?void 0:a.scrollHeight;r.resetScrollByClientHeightChanged&&d&&c!==d?o.scrollTo({top:"top"===r.resetScrollByClientHeightChanged?0:u}):r.resetScrollByScrollHeightChanged&&_&&u!==_?o.scrollTo({top:"top"===r.resetScrollByScrollHeightChanged?0:u}):void 0!==l&&i!==l&&o.scrollTo({top:l})}}}}()}),[u,t,s,i,n,r.resetScrollByClientHeightChanged,r.resetScrollByScrollHeightChanged])}function p(e){var t=e.key,n=e.ref,r=_().setScrollData;(0,a.useLayoutEffect)((function(){return function(){if(t){var e=null==n?void 0:n.current,a=null!=e?e:{},o=a.scrollTop,i=a.scrollHeight,s=a.clientHeight;s===i?r(t,{type:"NATIVE",snapshot:void 0}):void 0!==o&&void 0!==s&&void 0!==i&&r(t,{type:"NATIVE",snapshot:{scrollTop:o,scrollHeight:i,clientHeight:s}})}}}),[t,r,n])}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.useRef)(null);return f({key:e,ref:n},t),p({key:e,ref:n}),n}function g(e,t){var n=_(),r=n.setScrollData,o=n.getScrollData;return(0,a.useLayoutEffect)((function(){return function(){var n;null===(n=t.current)||void 0===n||n.getState((function(t){r(e,{type:"VIRTUAL",snapshot:t})}))}}),[e,t,r]),(0,a.useMemo)((function(){var t=o(e)||{type:"VIRTUAL"},n=t.type,r=t.snapshot;if("VIRTUAL"===n)return r}),[o,e])}},70238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useLoginErrorsHumanizer:()=>c});var r=n(66029),a=n(27385),o=n(79607),i=n(40381),s=n(53179);function c(){var e=(0,s.useLocalizationState)().t,t=(0,o.useSessionState)(),n=t.forceLogoutInfo,c=t.displayNameFormat;return(0,r.useCallback)((function(t){switch(!0){case"invalid_user_name"===t:return e.ERROR_MESSAGES.login_invalid_user_name();case"invalid_password"===t:return e.ERROR_MESSAGES.login_invalid_password();case"invalid_domain"===t:return e.ERROR_MESSAGES.login_invalid_domain();case t.includes("forced_logout_by_another_session"):return e.ERROR_MESSAGES.sessionWasOverwritten();case"insufficient_privileges"===t:return e.ERROR_MESSAGES.insufficient_privileges();case"wait_before_login"===t:return e.ERROR_MESSAGES.login_rate_limit_exceeded();case"session was disconnected: forced_logout_by_supervisor"===t:return r={firstName:null==n?void 0:n.firstName,lastName:null==n?void 0:n.lastName,displayNameFormat:c,t:e},o=(0,a.formatFullName)(r.displayNameFormat,r.firstName,r.lastName),s=(0,i.getLTS)(),r.firstName||r.lastName?r.t.ERROR_MESSAGES.forcedLogout(o,s):r.t.ERROR_MESSAGES.forcedLogout_automatically(s);case"account_locked"===t:return e.AUTHORIZATION_FAILED_DIALOG.loginFailedDialog_message_lockedAccount();case"another_user_with_the_phone"===t:return e.AUTHORIZATION_FAILED_DIALOG.loginFailedDialog_message_phoneIsUsedByAnotherAgent();case"exceeded_concurrent_agents_limit"===t:return e.AUTHORIZATION_FAILED_DIALOG.loginFailedDialog_message_tooManyLoggedAgents();case"tenant_disabled"===t:return e.AUTHORIZATION_FAILED_DIALOG.loginFailedDialog_message_disabledAccount();case"ip_address_not_allowed"===t:return e.AUTHORIZATION_FAILED_DIALOG.loginFailedDialog_message_accessDenied();default:return e.ERROR_MESSAGES.login_unknown_error()}var r,o,s}),[c,null==n?void 0:n.firstName,null==n?void 0:n.lastName,e])}},20633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServiceStateContext:()=>C,ServiceStateProvider:()=>E,initialService:()=>S,initialState:()=>b,lastSelectedServiceStorageName:()=>I,touchedServiceStorageName:()=>w,useServiceState:()=>O});var r=n(52322),a=n(66029),o=n.n(a),i=n(84512),s=n(15922),c=n(79607),u=n(40381),l=n(29016),d=n(2122),_=n(3118),f=n(52388);var p=n(26220);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y="ServiceStateContext",b={selectedService:void 0,touched:{},setService:(0,u.throwNoProviderError)(y)},S=b.selectedService,C=o().createContext(b);C.displayName=y;var I="adLastSelectedService",w="adTouchedService",E=function(e){var t=v((0,a.useState)(S),2),n=t[0],o=t[1],m=v((0,a.useState)({}),2),y=m[0],E=m[1],O=(0,l.useNotificationsState)("methods").hideNotificationsByTag,T=(0,i.useLocalSettings)(),D=(0,s.useServicesDispositionsState)().services,A=(0,u.useEvent)((function(e){var t="function"==typeof e?e(n):e;return t&&O("interaction-init"),o(t),t?T.set(I,t):T.remove(I)})),P=(0,a.useCallback)((function(e){E((function(t){var n="function"==typeof e?e(t):e;return T.set(w,n),n}))}),[T]),R=(0,a.useCallback)((function(e,t){return t&&P((function(e){return h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({},e),g({},t,!0))})),A(e)}),[A,P]);!function(e){var t=e.localSettings,n=e.setTouched,r=(0,c.useSessionState)().isLoggedIn;(0,a.useEffect)((function(){r&&t.get(w).then((function(e){p.bpLogger.debug("Service touched?",e),e&&n(e)}))}),[r,t,n])}({localSettings:T,setTouched:E}),function(e){var t=(0,s.useServicesDispositionsState)(),n=t.outboundChatChannels,r=t.services,o=(0,s.useServicesDispositionsStateMethods)().requestOutboundChatChannels;(0,a.useEffect)((function(){var t;e&&(t=e,(0,f.getAssociatedChatServiceId)(r,t))&&function(e){return!n[e]}(e)&&o([e])}),[n,o,e,r])}(n);var k=function(e){var t=e.services,n=e.localSettings,r=e.setService,o=(0,a.useMemo)((function(){return Object.values(t)}),[t]),i=(0,a.useCallback)((function(){n.get(I).then((function(e){var t=o.find((function(t){return t.id===e}));r(t?t.id:S)}))}),[o,n,r]);return(0,a.useEffect)((function(){o.length&&i()}),[o.length,i]),i}({services:D,localSettings:T,setService:o});!function(e){var t=e.service,n=e.setService,r=e.touched,o=e.setTouched,i=e.retrieveLastSelectedService,c=(0,_.useInteractions)(),l=(0,u.usePrevious)(c),p=(0,s.useServicesDispositionsState)(),m=p.serviceRequiredForOutboundCall,g=p.resetServiceOnOutboundCall,h=(0,a.useMemo)((function(){return l?(0,d.differenceBy)(l,c,(function(e){return e.id})):[]}),[l,c]),v=(0,a.useMemo)((function(){return l?(0,d.differenceBy)(c,l,(function(e){return e.id})):c}),[l,c]);(0,a.useEffect)((function(){h.forEach((function(e){(0,f.getServiceId)(e)&&i()}));var e=h.map((function(e){return e.id})),t=(0,d.omitBy)(r,(function(t,n){return e.includes(n)}));Object.keys(r).length!==Object.keys(t).length&&o(t)}),[r,o,h,i]),(0,a.useEffect)((function(){v.forEach((function(e){m&&((0,f.isOutboundInteraction)(e)&&(0,f.isCall)(e)&&t?g&&n(S):i())}))}),[m,g,t,n,v,i])}({service:n,setService:R,touched:y,setTouched:P,retrieveLastSelectedService:k}),(0,c.useOnLogout)((function(){A(S),P(b.touched)}));var N=(0,a.useMemo)((function(){return{selectedService:n,setService:R,touched:y}}),[y,n,R]);return(0,r.jsx)(C.Provider,{value:N,children:e.children})},O=function(){return(0,a.useContext)(C)}},6438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServiceDetailsStateContextProvider:()=>i,useServiceDetailsState:()=>c,useServiceDetailsStateConnector:()=>d,useServiceDetailsStateMethods:()=>l,useServiceDetailsStateRef:()=>u,useSubscribeForHuntGroupDetails:()=>f,useSubscribeForServiceDetails:()=>m});var r=n(13641),a=(0,r.createStateContextProvider)("ServiceDetailsStateContextProvider"),o=a.getContext,i=a.ServiceDetailsStateContextProvider,s=(0,r.createStateHooks)("serviceDetailsState",o),c=s.useServiceDetailsState,u=s.useServiceDetailsStateRef,l=s.useServiceDetailsStateMethods,d=s.useServiceDetailsStateConnector,_=n(66029);function f(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=l(),r=n.subscribeForHuntGroupsDetails,a=n.unsubscribeFromHuntGroupsDetails;(0,_.useEffect)((function(){return e&&t&&r([e]),function(){e&&a([e])}}),[t])}var p=n(96559);function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,p.useAppConfigState)("agentStates"),r=l(),a=r.subscribeForServiceDetails,o=r.unsubscribeFromServiceDetails;(0,_.useEffect)((function(){return n&&e&&t&&a(e),function(){n&&e&&o(e)}}),[t,n,e,a,o])}},45197:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialServiceDetailsState:()=>r,serviceDetailsStateControlEvents:()=>i,serviceDetailsStateTrackerEvents:()=>o});var r=function(){return{serviceDetails:{},huntGroupsDetails:{}}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={subscribeForServiceDetails:(0,a.event)(),unsubscribeFromServiceDetails:(0,a.event)(),subscribeForServiceListDetails:(0,a.event)(),unsubscribeFromServiceListDetails:(0,a.event)(),subscribeForHuntGroupsDetails:(0,a.event)(),unsubscribeFromHuntGroupsDetails:(0,a.event)()}},92699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServiceDetailsStateImpl:()=>y,convertHuntGroupDetailsItem:()=>C,convertServiceDetailsItem:()=>b});var r=n(2122),a=n(29778),o=n(16152);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function p(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?i(e):t;var n}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}var h=3e4,v=5e3,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,n,r,a=g(o);function o(){var e;return s(this,o),u(i(e=a.apply(this,arguments)),"serviceIdList",{}),u(i(e),"isSubscribed",!1),u(i(e),"subscribeRequestTimeout",null),u(i(e),"subscribeResponseTimeout",null),u(i(e),"huntGroupSubscriptions",[]),u(i(e),"huntGroupSubscribeRequestTimeout",null),u(i(e),"huntGroupSubscribeResponseTimeout",null),u(i(e),"subscribe",(function(){if(e.subscribeRequestTimeout&&clearTimeout(e.subscribeRequestTimeout),e.subscribeResponseTimeout&&clearTimeout(e.subscribeResponseTimeout),Object.keys(e.serviceIdList).length){var t=e.appConfigConnector.getStateData(),n=t.primaryMetric,r=t.secondaryMetric,a={},o=["agents_ready","agents_logged"];n&&o.push(n),r&&o.push(r),Array.from(new Set(o)).forEach((function(e,t){return a[t]=e})),e.subscribeRequestTimeout=setTimeout((function(){e.transport.dispatch.agent_get_services_details({services:Object.assign({},Object.keys(e.serviceIdList)),service_fields:a}).then(e.onServiceDetails),e.isSubscribed=!0,e.subscribeResponseTimeout=setTimeout((function(){e.subscribe()}),h)}),500)}})),u(i(e),"unsubscribe",(function(){e.subscribeRequestTimeout&&clearTimeout(e.subscribeRequestTimeout),e.subscribeResponseTimeout&&clearTimeout(e.subscribeResponseTimeout),e.isSubscribed=!1})),u(i(e),"subscribeForServiceDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.unsubscribe(),e.serviceIdList[t]?e.serviceIdList[t]++:e.serviceIdList[t]=1,e.subscribe())})),u(i(e),"unsubscribeFromServiceDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.unsubscribe(),e.serviceIdList[t]>1?e.serviceIdList[t]--:delete e.serviceIdList[t],e.subscribe())})),u(i(e),"subscribeForServiceListDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.unsubscribe(),e.serviceIdList={},t.forEach((function(t){e.serviceIdList[t]=1})),e.subscribe())})),u(i(e),"unsubscribeFromServiceListDetails",(function(){var t;(null===(t=e.sessionConnector.getStateData().tenantFeatures)||void 0===t?void 0:t.rtDataEnabled)&&(e.serviceIdList={},e.unsubscribe())})),u(i(e),"onServiceDetails",(function(t){e.subscribeResponseTimeout&&clearTimeout(e.subscribeResponseTimeout);var n={};Object.values(t.services).forEach((function(e){var t=b(e);n[t.serviceId]=t})),e.updateState((function(e){return f(_({},e),{serviceDetails:_({},n)})})),e.subscribeRequestTimeout=setTimeout((function(){e.subscribe()}),v)})),u(i(e),"subscribeForHuntGroupsDetails",(function(t){var n,r=e.sessionConnector.getStateData();if(t.length&&(null===(n=r.tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)){e.huntGroupSubscribeRequestTimeout&&(clearTimeout(e.huntGroupSubscribeRequestTimeout),e.huntGroupSubscribeRequestTimeout=null),e.huntGroupSubscribeResponseTimeout&&(clearTimeout(e.huntGroupSubscribeResponseTimeout),e.huntGroupSubscribeResponseTimeout=null),t.forEach((function(t){-1===e.huntGroupSubscriptions.indexOf(t)&&e.huntGroupSubscriptions.push(t)}));var a={0:"agents_logged",1:"phones_registered"};e.huntGroupSubscribeRequestTimeout=setTimeout((function(){e.transport.dispatch.agent_get_hunt_groups_details({hunt_groups:e.huntGroupSubscriptions,hunt_groups_fields:a}).then(e.onHuntGroupsDetails),e.huntGroupSubscribeResponseTimeout=setTimeout((function(){e.subscribeForHuntGroupsDetails(e.huntGroupSubscriptions)}),h)}),500)}})),u(i(e),"unsubscribeFromHuntGroupsDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.huntGroupSubscriptions=e.huntGroupSubscriptions.filter((function(e){return-1===(null==t?void 0:t.indexOf(e))})),e.huntGroupSubscriptions.length||(e.huntGroupSubscribeRequestTimeout&&(clearTimeout(e.huntGroupSubscribeRequestTimeout),e.huntGroupSubscribeRequestTimeout=null),e.huntGroupSubscribeResponseTimeout&&(clearTimeout(e.huntGroupSubscribeResponseTimeout),e.huntGroupSubscribeResponseTimeout=null)))})),u(i(e),"onHuntGroupsDetails",(function(t){e.huntGroupSubscribeResponseTimeout&&(clearTimeout(e.huntGroupSubscribeResponseTimeout),e.huntGroupSubscribeResponseTimeout=null);var n={};Object.values(t.hunt_groups).forEach((function(e){var t=C(e);n[t.huntGroupId]=t})),e.produceState((function(e){e.huntGroupsDetails=n})),e.huntGroupSubscribeRequestTimeout=setTimeout((function(){e.subscribeForHuntGroupsDetails(e.huntGroupSubscriptions)}),v)})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({subscribeForServiceDetails:this.subscribeForServiceDetails,unsubscribeFromServiceDetails:this.unsubscribeFromServiceDetails,subscribeForServiceListDetails:this.subscribeForServiceListDetails,unsubscribeFromServiceListDetails:this.unsubscribeFromServiceListDetails,subscribeForHuntGroupsDetails:this.subscribeForHuntGroupsDetails,unsubscribeFromHuntGroupsDetails:this.unsubscribeFromHuntGroupsDetails}))}},{key:"cleanup",value:function(){l(d(o.prototype),"cleanup",this).call(this),this.serviceIdList={},this.isSubscribed=!1,this.subscribeRequestTimeout=null,this.subscribeResponseTimeout=null,this.huntGroupSubscriptions=[],this.huntGroupSubscribeRequestTimeout=null,this.huntGroupSubscribeResponseTimeout=null}},{key:"resetState",value:function(){l(d(o.prototype),"resetState",this).call(this),this.serviceIdList={},this.isSubscribed=!1,this.subscribeRequestTimeout=null,this.subscribeResponseTimeout=null,this.huntGroupSubscriptions=[],this.huntGroupSubscribeRequestTimeout=null,this.huntGroupSubscribeResponseTimeout=null}}])&&c(t.prototype,n),r&&c(t,r),o}(o.StateFactory.createBaseStateClass({name:"serviceDetailsState",controlEvents:a.serviceDetailsStateControlEvents,trackerEvents:a.serviceDetailsStateTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["transport","appConfigConnector","sessionConnector"],getInitialState:a.getInitialServiceDetailsState}));function b(e){var t={serviceId:e.service_id};return Object.keys(e).forEach((function(n){var a=(0,r.camelCase)(n);"serviceId"!==a&&(t[a]=e[n])})),t}function S(e){return"string"==typeof e&&""!==e}function C(e){return{huntGroupId:e.hunt_group_id,agentsLogged:S(e.agents_logged)?Number(e.agents_logged):void 0,phonesRegistered:S(e.phones_registered)?Number(e.phones_registered):void 0}}},71359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{registerServiceWorker:()=>i,unregisterServiceWorker:()=>s});var r=n(26220),a=n(40381),o=r.bpLogger.withPrefix("@SW");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/agent";if(t&&(e.scope=t,e.scope.endsWith("/")||(e.scope+="/")),"serviceWorker"in navigator){var n=new URL("/",window.location.href);if(n.origin!==window.location.origin)return void o.warn("Service Worker registration failed: PUBLIC_ULR is on a different origin");var r=null!=t?t:"",i="".concat(r,"/ad-service-worker.js");o.info("Registering Service Worker on ".concat(i," ...")),navigator.serviceWorker.register(i,e).then((function(e){o.info("Service Worker registration completed. Active =",!!e.active)})).catch((function(e){o.error("Error during service worker registration:"+(0,a.getErrorMessage)(e))}))}else o.error("Service Worker is not supported in this browser")}function s(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){return e.unregister()})).catch((function(e){return o.error((0,a.getErrorMessage)(e))}))}},9445:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServicesDispositionsStateContextProvider:()=>s,useServicesDispositions:()=>f,useServicesDispositionsState:()=>u,useServicesDispositionsStateConnector:()=>_,useServicesDispositionsStateMethods:()=>d,useServicesDispositionsStateRef:()=>l,useServicesDispositionsStateServices:()=>p});var r=n(86702),a=n(13641),o=(0,a.createStateContextProvider)("ServicesDispositionsStateContextProvider"),i=o.getContext,s=o.ServicesDispositionsStateContextProvider,c=(0,a.createStateHooks)("servicesDispositionsState",i),u=c.useServicesDispositionsState,l=c.useServicesDispositionsStateRef,d=c.useServicesDispositionsStateMethods,_=c.useServicesDispositionsStateConnector,f=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.dispositions}))},p=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.services}))}},13520:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServicesDispositionsStateImpl:()=>T});var r=n(26220),a=n(70163),o=n(40381),i=n(50712),s=n(50944),c=n(16152),u={id:"id",name:"name",code:"code",group:"group",icon:"icon",type:"type",s_type:["systemType",s.emptyStringToUndefined],visible:["isVisible",s.transportToBoolean],visible_in_toolbar:["isVisibleInToolbar",s.transportToBoolean],is_retry:["isRetry",s.transportToBoolean],is_i:["isInbound",s.transportToBoolean],is_o:["isOutbound",s.transportToBoolean],is_p:["isPreview",s.transportToBoolean]};function l(e){return(0,s.convertIncomingObject)(e,u)}var d={id:"id",type:"type",name:"name",short_name:"shortName",article_id:"kbArticleId",chat_service_id:"chatServiceId",mark_email_account:"marketingEmailAccount",email_type:"emailDistributionType",exclude_from_dashboard:["excludeFromDashboard",s.transportToBoolean],list_lookup:["doListLookup",s.transportToBoolean],kb_visible:["isKbVisible",s.transportToBoolean],use_dispositions:["useDispositions",s.transportToBoolean],require_dispositions:["requireDispositions",s.transportToBoolean],screenpop_form_enabled:["isScreenpopFormEnabled",s.transportToBoolean],voice_signature_enabled:["isVoiceSignatureEnabled",s.transportToBoolean],order:"formDisplayOrder",not_user_selectable:["notUserSelectable",s.transportToBoolean],native_remote_assist_pop_enabled:["remoteAssistPopEnabled",s.transportToBoolean]};function _(e){return(0,s.convertIncomingObject)(e,d)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function C(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?f(e):t;var n}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function E(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var O="services",T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(u,e);var t,n,a,c=w(u);function u(){var e;g(this,u),v(f(e=c.apply(this,arguments)),"servicesRequestTracker",(0,i.createRequestTracker)({timeoutMilliseconds:5e3}));var t,n=f(e);return v(f(e),"getService",(t=m((function(e){var t;return E(this,(function(r){return n.stateData.services[e]?[2,Promise.resolve(n.stateData.services[e])]:n.servicesRequestTracker.hasRequest(O)?[2,null===(t=n.servicesRequestTracker.getRequest(O))||void 0===t?void 0:t.promise.then((function(t){return t[e]}))]:[2,Promise.reject()]}))})),function(e){return t.apply(this,arguments)})),v(f(e),"requestServiceDispositions",(function(t){return e.transport.dispatch.service_dispositions({service_id:t}).then((function(n){var a=n.result,o=n.error;if(!(null==o?void 0:o.message)&&a){var i={},s=!0,c=!1,u=void 0;try{for(var d,_=a[Symbol.iterator]();!(s=(d=_.next()).done);s=!0){var f=d.value;i[f.id]=l(f)}}catch(p){c=!0,u=p}finally{try{s||null==_.return||_.return()}finally{if(c)throw u}}return e.produceState((function(e){e.dispositions[t]=i})),Object.values(i)}r.bpLogger.error(null==o?void 0:o.message)})).catch((function(e){return r.bpLogger.error((0,o.getErrorMessage)(e))}))})),v(f(e),"requestServiceRequiredOutboundCall",(function(){e.transport.dispatch.application_config().then((function(t){var n=t.result,a=t.error;if(!(null==a?void 0:a.message)&&n){var o="1"===n[0].outbound_call_service_required,i="1"===n[0].reset_service_for_outbound_calls;e.updateState((function(e){return S(b({},e),{serviceRequiredForOutboundCall:o,resetServiceOnOutboundCall:i})}))}else r.bpLogger.error(null==a?void 0:a.message)}))})),v(f(e),"requestOutboundChatChannels",(function(t){var n=t.map((function(t){return e.transport.dispatch.agent_outbound_chat_channels2({service_id:t})}));Promise.all(n).then((function(n){var a=n.reduce((function(e,n,a){var o=n.result,i=n.error;if((null==i?void 0:i.message)||!o)r.bpLogger.error(null==i?void 0:i.message);else{var s=D(o);e.push({serviceId:t[a],channels:s})}return e}),[]);e.produceState((function(e){a.forEach((function(t){e.outboundChatChannels[t.serviceId]=t.channels}))}))}))})),v(f(e),"requestServices",(function(){return e.servicesRequestTracker.addRequest({requestId:O}),e.transport.dispatch.agent_service_info().then((function(t){var n=t.result,a=t.error;if((null==a?void 0:a.message)||!n)return r.bpLogger.error(null==a?void 0:a.message),[];var o=n.reduce((function(e,t){return e[t.id]=_(t),e}),{});return e.servicesRequestTracker.onResponse(O,o),e.produceState((function(e){e.services=o})),Object.values(o)}))})),v(f(e),"requestServiceMessengers",(function(t){e.transport.dispatch.service_messenger_data({service_id:t}).then((function(n){var a=n.result,o=n.error;if(!(null==o?void 0:o.message)&&a){var i=a.reduce((function(e,t){return e[t.id]=t,e}),{});e.produceState((function(e){e.serviceMessengers[t]=i}))}else r.bpLogger.error(null==o?void 0:o.message)}))})),v(f(e),"onInitialStateData",(function(t){var n=t.items;(0,s.convertKVArray)(n,(function(e){return e})).forEach((function(t){return e.onItem(t)})),e.requestServiceRequiredOutboundCall(),e.requestAllOutboundChatChannels()})),v(f(e),"onItem",(function(t){var n=t.service_id;!n||e.stateData.services[n]||e.stateData.notAssignedServices[n]||e.transport.dispatch.service_info({service_id:n}).then((function(t){var n=t.result,a=t.error;!(null==a?void 0:a.message)&&n?e.produceState((function(e){n.forEach((function(t){e.notAssignedServices[t.id]=_(t)}))})):r.bpLogger.error(null==a?void 0:a.message)})),n&&!e.stateData.dispositions[n]&&e.transport.dispatch.service_dispositions({service_id:n}).then((function(t){var a=t.result,o=t.error;!(null==o?void 0:o.message)&&a?e.produceState((function(e){e.dispositions[n]=a.reduce((function(e,t){return e[t.id]=l(t),e}),{})})):r.bpLogger.error(null==o?void 0:o.message)})),"chat"===t.media_type&&n&&!e.stateData.serviceMessengers[n]&&e.requestServiceMessengers(n)})),e}return t=u,n=[{key:"initialize",value:function(){var e,t=this,n=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onInitialStateData,agent_item_created:this.onItem,agent_item_changed:this.onItem}),this.fromClientDispenser.subscribe({requestServiceDispositions:this.requestServiceDispositions,requestServiceRequiredOutboundCall:this.requestServiceRequiredOutboundCall,requestServices:this.requestServices,requestOutboundChatChannels:this.requestOutboundChatChannels,getService:this.getService}),this.sessionConnector.dispenser.subscribe({onInitialState:(e=m((function(e){return E(this,(function(n){switch(n.label){case 0:return e.isLoggedIn?[4,t.requestServices()]:[3,2];case 1:n.sent().filter((function(e){return e.useDispositions})).forEach((function(e){t.requestServiceDispositions(e.id)})),n.label=2;case 2:return[2]}}))})),function(t){return e.apply(this,arguments)}),onLogin:m((function(){return E(this,(function(e){switch(e.label){case 0:return[4,n.requestServices()];case 1:return e.sent().filter((function(e){return e.useDispositions})).forEach((function(e){n.requestServiceDispositions(e.id)})),[2]}}))}))}))}},{key:"requestAllOutboundChatChannels",value:function(){var e=this;this.transport.dispatch.agent_outbound_chat_channels().then((function(t){var n=t.result,a=t.error;!(null==a?void 0:a.message)&&n?e.updateState((function(e){return S(b({},e),{allOutboundChatChannels:D(n)})})):r.bpLogger.error(null==a?void 0:a.message)}))}}],n&&h(t.prototype,n),a&&h(t,a),u}(c.StateFactory.createBaseStateClass({name:"servicesDispositionsState",controlEvents:a.servicesDispositionsStateControlEvents,trackerEvents:a.servicesDispositionsStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:a.getInitialServicesDispositionsState,dependencies:["transport","sessionConnector"]}));function D(e){return e.reduce((function(e,t){var n=t.channel;return n&&e.push(n),e}),[])}},20840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialServicesDispositionsState:()=>r,servicesDispositionsStateControlEvents:()=>i,servicesDispositionsStateTrackerEvents:()=>o});var r=function(){return{dispositions:{},services:{},notAssignedServices:{},serviceRequiredForOutboundCall:!1,resetServiceOnOutboundCall:!1,outboundChatChannels:{},allOutboundChatChannels:[],serviceMessengers:{}}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={requestServices:(0,a.asyncEvent)(),requestServiceDispositions:(0,a.asyncEvent)(),requestServiceRequiredOutboundCall:(0,a.event)(),requestOutboundChatChannels:(0,a.event)(),getService:(0,a.asyncEvent)()}},80195:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SessionStateContextProvider:()=>i,useAuthorizedSession:()=>m,useOnLogout:()=>f,useSessionState:()=>c,useSessionStateConnector:()=>d,useSessionStateMethods:()=>l,useSessionStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("SessionStateContextProvider"),o=a.getContext,i=a.SessionStateContextProvider,s=(0,r.createStateHooks)("sessionState",o),c=s.useSessionState,u=s.useSessionStateRef,l=s.useSessionStateMethods,d=s.useSessionStateConnector,_=n(66029);function f(e){var t=c(),n=t.isLoggedIn,r=t.isAuthorizing,a=(0,_.useRef)(e);a.current=e,(0,_.useEffect)((function(){!1===n&&!1===r&&a.current()}),[r,n])}var p=n(97329);function m(){var e=c();return(0,p.assertAuthorizedSession)(e),e}},20557:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SessionStateImpl:()=>M});var r=n(7796),a=n(26220),o=n(5518),i=n(97329),s=n(18189),c=n(50944),u=n(26552),l=n(68939),d=n(16152);function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,s,"next",e)}function s(e){f(o,r,a,i,s,"throw",e)}i(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},v(e,t,n||e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function C(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?_(e):t;var n}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function E(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var O="random-string-that-nobody-cares-about",T="BASE_CFG:0",D="NAVIGATION_CFG:0",A="1";function P(e,t,n){e.dispatchWifiMobEvent(t,n)}var R=function(e){return["phone_type_external","phone_type_hard_custom","phone_type_microsoft_teams"].includes(e)},k=function(){return{data_id:(0,l.uuid)(),msteams_principal_name:null,msteams_directory_id:null,msteams_client_id:null,auto_play_voice_prompt_id:null,default_email_font_fg_color:null,default_email_font_text:null,default_email_font_name:null,default_email_font_size:0,follow_up_queue_enabled:!0,volume:{SOFTPHONE_RING:-4,EXTERNAL_CHAT_NOTIFICATION:-4,INTERNAL_CHAT_NOTIFICATION:0,NEW_CHAT_MESSAGE_NOTIFICATION:-12},mutes:[]}},N=a.bpLogger.withPrefix("@SESSION"),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(C,e);var t,n,d,f=w(C);function C(){var e;m(this,C),h(_(e=f.apply(this,arguments)),"phoneDeviceCapabilitiesPerServer",{}),h(_(e),"awaitingLoginData",void 0),h(_(e),"awaitingReconnectData",void 0),h(_(e),"authRedirectInProgress",void 0),h(_(e),"phoneTypeSelected",void 0),h(_(e),"dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived",void 0),h(_(e),"shouldSendAgentSetPhoneTypeMobile",!1),h(_(e),"pushNotificationCallingSupportedByServer",void 0),h(_(e),"reconnectTimeout",void 0);var t,n=_(e);h(_(e),"checkToken",(t=p((function(e){var t,r,a,o,i;return E(this,(function(s){switch(s.label){case 0:return N.info("checkToken"),[4,n.localSettings.get("serverOrigin")];case 1:return t=s.sent(),[4,n.localSettings.get("tenantUrl")];case 2:return r=s.sent(),a="mobile"===n.platformSpecific.clientType()?r:r||location.host,"mobile"!==n.platformSpecific.clientType()?[3,4]:[4,n.localSettings.get("sessionId")];case 3:return i=s.sent(),[3,5];case 4:i=!0,s.label=5;case 5:return o=i,a&&o?n.stateData.isLoggedIn||n.awaitingLoginData?[3,7]:[4,n.sendLoginRequest("check_token",{serverOrigin:t,domain:a},e)]:[3,8];case 6:s.sent(),s.label=7;case 7:return[3,9];case 8:n.shouldSendAgentSetPhoneTypeMobile=!0,n.updateState({showLoginDialog:!0}),s.label=9;case 9:return[2]}}))})),function(e){return t.apply(this,arguments)}));var a=_(e);h(_(e),"login",function(){var e=p((function(e){return E(this,(function(t){return a.stateData.isLoggedIn||a.awaitingLoginData||a.sendLoginRequest("auth",e),[2]}))}));return function(t){return e.apply(this,arguments)}}());var d=_(e);h(_(e),"forceLogin",p((function(){return E(this,(function(e){switch(e.label){case 0:return N.info("forceLogin 255",d.stateData),d.stateData.isLoggedIn||d.awaitingLoginData?[3,2]:[4,d.sendLoginRequest("force")];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))),h(_(e),"logout",(function(){e.awaitingReconnectData?e.awaitingReconnectData.logoutRequested=!0:e.stateData.isLoggedIn&&e.stateData.serverOrigin&&(e.resetState(),e.transport.dispatch.logout(),e.setLoggedOut(),(0,r.logout)(e.stateData.serverOrigin),j(e.stateData.serverOrigin),e.toClientDispatch.onLogout(),(0,r.clearSessionCookie)())}));var g=_(e);h(_(e),"onAuthAccept",function(){var e=p((function(e){var t,n,r,a,o,i,s,u,l,d,_,f,p,m,h,v,y,S,C,I,w,O;return E(this,(function(E){switch(E.label){case 0:if(N.info("onAuthAccept 442",e),"mobile"===g.platformSpecific.clientType()&&(e.force_full_login===(0,c.booleanToTransport)(!1)&&"1"===(null===(t=e.capabilities)||void 0===t?void 0:t.partial_login)&&(g.shouldSendAgentSetPhoneTypeMobile=!1),"1"===e.force_full_login&&(g.shouldSendAgentSetPhoneTypeMobile=!0),"force"==(null===(n=g.awaitingLoginData)||void 0===n?void 0:n.loginType)&&(g.shouldSendAgentSetPhoneTypeMobile=!0),g.pushNotificationCallingSupportedByServer=null!==(a=null===(r=e.capabilities)||void 0===r?void 0:r.push_notification_calling)&&void 0!==a?a:(0,c.booleanToTransport)(!1)),void 0!==e.user_id&&(N.info("onAuthAccept 444",e),g.localSettings.setCurrentUserId(e.user_id)),N.info("onAuthAccept 448",e.force_full_login,g.awaitingLoginData,g.awaitingReconnectData,g.authRedirectInProgress),!("1"===e.force_full_login||g.awaitingLoginData||g.awaitingReconnectData||g.authRedirectInProgress))return[3,6];g.authRedirectInProgress=!1,N.info("onAuthAccept 452",g.awaitingLoginData),g.awaitingLoginData?(o=g.awaitingLoginData.domain,g.clearAwaitingLoginData(),g.tweakOldADSharedSession()):(o=g.stateData.domain,delete g.awaitingReconnectData),i=b({},e.phone_types),s=!0,u=!1,l=void 0;try{for(d=g.platformSpecific.unsupportedPhoneTypes()[Symbol.iterator]();!(s=(_=d.next()).done);s=!0)f=_.value,delete i[f]}catch(T){u=!0,l=T}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}return p={serverOrigin:g.platformSpecific.currentServerOrigin(o),isAuthorizing:!1,isLoggedIn:!0,loginId:e.username,userId:e.user_id,wsIsReconnecting:!1,wsDisconnectTime:void 0,wsReconnectAttempts:void 0,domain:o,availablePhoneTypes:i,disableAutoLogoutPrevention:(0,c.transportToBoolean)(e.disable_autologout_prevention),authChecked:!0},g.platformSpecific.storeServerOrigin(g.localSettings),g.localSettings.set("tenantUrl",o),g.localSettings.set("loginId",e.username),g.updateState(p),g.transport.dispatch.agent_delete_old_user_data({is_system:(0,c.booleanToTransport)(!1),keep_records:"100",type:"RECENT"}),[4,x(g.localSettings)];case 1:return m=E.sent(),h=m.phoneType,v=m.phoneNumber,y=m.hardPhoneNumber,S=m.msTeamsPhoneNumber,C=m.externalPhoneNumber,I=h||e.default_phone_type,(w=K({phoneType:I,phoneNumber:v,hardPhoneNumber:y,externalPhoneNumber:C,msTeamsPhoneNumber:S,availablePhoneTypes:p.availablePhoneTypes}))?(g.updateState({offerPhoneSelection:w}),"mobile"===g.platformSpecific.clientType()&&g.setPhoneType({phoneType:"phone_type_browser"}),[3,5]):[3,2];case 2:return g.phoneTypeSelected=!0,g.updateState({phoneType:I,phoneNumber:v,isLoggedInWithPhoneType:!0}),"mobile"!==g.platformSpecific.clientType()?[3,5]:(console.log("shouldSendAgentSetPhone",g.shouldSendAgentSetPhoneTypeMobile),g.shouldSendAgentSetPhoneTypeMobile?(g.setPhoneType({phoneType:I,phoneNumber:v}),[3,5]):[3,3]);case 3:return"phone_type_browser"!==I?[3,5]:[4,g.localSettings.get("extension")];case 4:O=E.sent(),g.updateState({phoneNumber:O}),E.label=5;case 5:setTimeout((function(){g.toClientDispatch.onLogin(g.stateData)}),10),E.label=6;case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),h(_(e),"onAuthReject",(function(t){var n=t.error_message,a=t.error_code;if(console.log("onAuthReject"),e.toClientDispatch.onServerError("auth",parseInt(a),n),e.awaitingLoginData||e.awaitingReconnectData||e.authRedirectInProgress){e.authRedirectInProgress=!1,e.transport.disconnect();var o=a===s.incomingAuthRejectCodes.already_logged_in_with_the_same_session;if(e.awaitingLoginData){var i=a===s.incomingAuthRejectCodes.already_logged_in&&"auth"===e.awaitingLoginData.loginType,c=i||o?e.awaitingLoginData.domain:void 0,u=i||o?e.stateData.sessionId:void 0,l=e.filterLoginError({message:n,loginType:e.awaitingLoginData.loginType}),d=!i||o;e.clearAwaitingLoginData();var _=i&&!o;e.updateState({isAuthorizing:!1,sessionId:u,domain:c,loginError:l,offerForceLogin:_,showLoginDialog:d,wsIsReconnecting:!1,wsDisconnectTime:void 0,wsReconnectAttempts:void 0,isLoggedInOnOtherTab:o,authChecked:!0}),d&&(e.shouldSendAgentSetPhoneTypeMobile=!0),_||(0,r.clearSessionCookie)()}else{delete e.awaitingReconnectData;var f=a===s.incomingAuthRejectCodes.already_logged_in,p=f&&!o,m=!f||o;e.updateState({isLoggedIn:!1,isLoggedInWithPhoneType:!1,loginError:f?n:void 0,offerForceLogin:p,showLoginDialog:m,wsIsReconnecting:!1,wsDisconnectTime:void 0,wsReconnectAttempts:void 0,isLoggedInOnOtherTab:o}),m&&(e.shouldSendAgentSetPhoneTypeMobile=!0),p||(0,r.clearSessionCookie)()}}a===s.incomingAuthRejectCodes.login_id_is_not_valid_for_application&&"mobile"===e.platformSpecific.clientType()&&e.logout()})),h(_(e),"onAuthRedirect",(function(t){var n=t.server_id;e.authRedirectInProgress=!0,e.transport.disconnect();var r,a=e.stateData.sessionId;r=e.awaitingLoginData?e.awaitingLoginData.domain:e.stateData.domain;var o=e.platformSpecific.currentServerOrigin(r);e.transportConnect({sessionId:a,serverOrigin:o,force:(0,c.booleanToTransport)(!1),serverId:n})})),h(_(e),"onLoginError",(function(t){if(e.awaitingLoginData){var n=e.filterLoginError({message:t.message,loginType:e.awaitingLoginData.loginType}),r="must_change_password"===t.message&&"auth"===e.awaitingLoginData.loginType,a=r?e.awaitingLoginData.domain:void 0,o=r?e.awaitingLoginData.loginId:void 0;e.clearAwaitingLoginData(),e.shouldSendAgentSetPhoneTypeMobile=!0,e.updateState({isAuthorizing:!1,sessionId:void 0,pushToken:void 0,firebaseToken:void 0,loginError:n,domain:a,loginId:o,showLoginDialog:!0,authChecked:!0})}})),h(_(e),"onIncomingErrorMessage",(function(t){var n=[s.incomingErrorMessageCodes.forced_logout_by_another_session,s.incomingErrorMessageCodes.forced_logout_by_supervisor,s.incomingErrorMessageCodes.forced_logout_by_disabling_tenant,s.incomingErrorMessageCodes.forced_logout_by_disabling_user],r=t.error_code,a=t.error_message,o=t.firstname,i=t.lastname;if(e.toClientDispatch.onServerError("agentServer",parseInt(r),a),n.indexOf(r)>=0){e.updateState({forceLogoutInfo:{firstName:o,lastName:i,timestamp:String(Date.now()),forceLogoutReason:t.force_logout_reason||"",errorMessage:a,errorCode:r}}),e.transport.dispatch.agent_change_state({acd_state:"not_ready",reason:"logout pending"});var c="unknown error";Object.keys(s.incomingErrorMessageCodes).forEach((function(e){s.incomingErrorMessageCodes[e]===r&&(c=e)})),clearTimeout(e.reconnectTimeout),delete e.awaitingReconnectData,e.transport.disconnect(),e.toClientDispatch.onDisconnect(r),e.toClientDispatch.onLogout(),e.setDisconnected("session was disconnected: ".concat(c))}})),h(_(e),"onAgentWelcome",(function(t){var n,r,a=F(t.privileges),o=!!a&&$(a);if(e.localSettings.set("tenantId",t.tenant_id),e.updateState({nonCallCasesUrls:t.initcasemgmturl?[t.initcasemgmturl]:void 0,firstName:t.firstname,lastName:t.lastname,tenantId:t.tenant_id,teamId:t.team_id,teamName:t.team_name,displayNameFormat:t.display_name_format,licensedTo:t.licensed_to,serverVersion:t.server_version,serverComments:t.server_comments,privileges:a,isAgent:o,isSupervisor:i.supervisorPrivileges.filter((function(e){return!0===a[e]})).length>0,sipDomain:t.sip_domain,softphonePassword:t.password,reconnectTimeout:parseInt(t.reconnect_timeout)||0,screenSharingEnabled:"1"===t.screen_sharing_enabled,screenRecordingEnabled:"1"===t.screen_recording_enabled,myRemoteIpAddress:t.remote_address,screenRecordingBitrate:parseInt(t.screen_recording_target_bitrate)||512,screenRecordingGrayscale:"1"===t.screen_recording_grayscale,screenRecordingMultiMonitors:t.screen_recording_multi_monitors,disablePluginUpdate:null===(n=t.tenant_options)||void 0===n?void 0:n.disable_plugin_update,country:t.country,redirectMobileEmergencyCallsToNativePhone:"1"===(null===(r=t.tenant_options)||void 0===r?void 0:r.redirect_mobile_emergency_calls_to_native_phone)}),e.checkIsClientAndServerCompatible()){var s=Object.keys(t.audio_notifications).map((function(e){return t.audio_notifications[e]}));e.setAudioNotifications(s),e.transport.dispatch.agent_get_user_data({types:"BASE_CFG",is_system:(0,c.booleanToTransport)(!1),request_id:T}),e.transport.dispatch.agent_get_user_data({types:"NAVIGATION_DATA",is_system:(0,c.booleanToTransport)(!1),request_id:D}),e.getTenantFeatures(),"mobile"!==e.platformSpecific.clientType()&&e.submitPhoneTypeSelection(e.stateData.phoneType?{phoneNumber:e.stateData.phoneNumber,phoneType:e.stateData.phoneType,userId:e.stateData.userId}:void 0),e.toClientDispatch.onAgentWelcomeReceived(t.items)}})),h(_(e),"checkIsClientAndServerCompatible",(function(){if("mobile"!==e.platformSpecific.clientType())return!0;if(A===(0,c.booleanToTransport)(!1))return!0;if(A===e.pushNotificationCallingSupportedByServer)return!0;return e.updateState({loginError:"incompatible_server_and_client"}),!1})),h(_(e),"getTenantFeatures",(function(){e.transport.dispatch.tenant_features().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){if(n.length&&n[0]){var a={dbname:n[0].dbname,emailMaxSize:n[0].limit_email_message,emailAttachmentMaxSize:n[0].limit_email_file,kbArticleMaxSize:n[0].limit_kb_article,canSeeAllAssignedAgents:"1"===n[0].all_teams,emailEnabled:"1"===n[0].email_enabled,mobileAgentAppLogEnabled:"1"===n[0].mobile_agent_app_log_enabled,qmProEnabled:"1"===n[0].qm_pro_enabled,rtDataEnabled:"1"===n[0].rt_data_in_ad_enabled,surflyCobrowsingEnabled:"1"===n[0].surfly_cobrowsing_enabled,useOutboundDIDEnabled:"1"===n[0].use_outbound_did_enabled,msTeamsIntegrationEnabled:"1"===n[0].microsoft_teams_integration_enabled,nativeRemoteAssistEnabled:"1"===n[0].native_remote_assist_enabled};e.updateState({tenantFeatures:a}),e.dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived&&(e.dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived=!1,e.toClientDispatch.onPhoneNumberChanged({useOutboundDIDEnabled:a.useOutboundDIDEnabled,phoneNumber:e.stateData.phoneNumber}))}}else N.error(null==r?void 0:r.message)}))})),h(_(e),"setAudioNotifications",(function(t){var n=e.stateData.serverOrigin,r={};t.forEach((function(t){var a=t.type,i=t.audio_id,s=t.audio_version,c=t.audio_periodicity,u="".concat(n).concat(o.requestUrls.getAudioNotification,"?id=").concat(i);r[a]={type:a,audioId:i,audioVersion:s,audioPeriodicity:parseInt(c),url:"".concat(n).concat(o.requestUrls.getAudioNotification,"?id=").concat(i)},"mobile"!==e.platformSpecific.clientType()&&e.prefetchLink(u)})),e.updateState({audioNotifications:r})})),h(_(e),"onAgentUserData",(function(t){t.request_id!==T||0!==Object.keys(t.data).length?t.request_id!==D||0!==Object.keys(t.data).length?Object.keys(t.data).forEach((function(n){var r=t.data[n];switch(null==r?void 0:r.type){case"BASE_CFG":try{var a=JSON.parse(r.value);e.setBaseConfig(a)}catch(o){N.error("Unable to parse BASE_CFG")}break;case"NAVIGATION_DATA":try{e.produceState((function(e){e.navigationData=S(b({},JSON.parse(r.value)),{dataId:r.data_id})}))}catch(o){N.error("Unable to parse NAVIGATION_DATA")}}})):e.createInitialNavigationData():e.createInitialBaseConfig()})),h(_(e),"createInitialBaseConfig",(function(){var t=k();e.transport.dispatch.agent_add_user_data({type:"BASE_CFG",data_id:t.data_id,is_system:(0,c.booleanToTransport)(!1),value:JSON.stringify(t)}),e.setBaseConfig(t)})),h(_(e),"createInitialNavigationData",(function(){var t=(0,l.uuid)();e.transport.dispatch.agent_add_user_data({type:"NAVIGATION_DATA",data_id:t,is_system:(0,c.booleanToTransport)(!1),value:JSON.stringify({route:{}})}),e.produceState((function(e){e.navigationData={dataId:t,route:{}}}))})),h(_(e),"setBaseConfig",(function(t){var n={dataId:t.data_id,autoPlayVoicePromptId:t.auto_play_voice_prompt_id,defaultEmailFontFgColor:t.default_email_font_fg_color,defaultEmailFontText:t.default_email_font_text,defaultEmailFontName:t.default_email_font_name,defaultEmailFontSize:t.default_email_font_size,followUpQueueEnabled:t.follow_up_queue_enabled,volume:t.volume,mutes:t.mutes},r=b({},e.stateData.emi);t.msteams_principal_name&&(r.msteams=S(b({up:!1},r.msteams),{principalName:t.msteams_principal_name,directoryId:t.msteams_directory_id,clientId:t.msteams_client_id}),e.emiAccountChanged("msteams")),e.toClientDispatch.onBaseConfigReceived(n),e.updateState({baseConfig:n,emi:r})})),h(_(e),"updateBaseConfig",(function(t){var n;if(e.stateData.baseConfig){var r=e.stateData.baseConfig.dataId,a=null===(n=e.stateData.emi)||void 0===n?void 0:n.msteams,o=b({},e.stateData.baseConfig,t),i={data_id:o.dataId,auto_play_voice_prompt_id:o.autoPlayVoicePromptId,default_email_font_fg_color:o.defaultEmailFontFgColor,default_email_font_text:o.defaultEmailFontText,default_email_font_name:o.defaultEmailFontName,default_email_font_size:o.defaultEmailFontSize,follow_up_queue_enabled:o.followUpQueueEnabled,volume:o.volume,mutes:o.mutes};a&&(i.msteams_principal_name=a.principalName,i.msteams_directory_id=a.directoryId,i.msteams_client_id=a.clientId),e.transport.dispatch.agent_update_user_data({data_id:r,value:JSON.stringify(i),is_system:(0,c.booleanToTransport)(!1)}),e.updateState({baseConfig:o})}})),h(_(e),"saveActiveRoute",(function(t){var n,r,a=null===(n=e.stateData.navigationData)||void 0===n?void 0:n.dataId;if(a){var o=e.currentTabDataProvider.get().app;e.produceState((function(e){(0,u.assertDefined)(e.navigationData),e.navigationData.route[o]=t})),e.transport.dispatch.agent_update_user_data({data_id:a,value:JSON.stringify({route:null===(r=e.stateData.navigationData)||void 0===r?void 0:r.route}),is_system:(0,c.booleanToTransport)(!1)})}})),h(_(e),"onThreePccDataCaps",(function(t){var n=t.caps,r=t.sip_processor_id,a={canDial:"true"===n.can_dial,canAnswer:"true"===n.can_answer,canHold:"true"===n.can_hold,canRetrieve:"true"===n.can_retrieve};e.updatePhoneCapabilities(r,a),e.toClientDispatch.onUpdateCapabilities(e.stateData.phoneDeviceCapabilities)})),h(_(e),"onThreePccFailed",(function(t){var n=t.cause,r=t.msg;e.toClientDispatch.onServerError("3pcc",parseInt(n),r)})),h(_(e),"onThreePccAudioQualityAlert",(function(t){var n=t.call_id,r=t.status;e.toClientDispatch.onBadCallQualityAlert(n,"1"===r||"true"===r)})),h(_(e),"onThreePccServerConnected",(function(t){e.updateState({sipServer:{id:t.sipserver_id,address:t.sipserver_address,port:t.sipserver_port}}),e.toClientDispatch.onThreePCCServerReady(),e.toClientDispatch.onUpdateCapabilities(e.stateData.phoneDeviceCapabilities)})),h(_(e),"onThreePccServerDisconnected",(function(t){var n=t.sipserver_id,r=!!e.stateData.sipServer;e.updateState({sipServer:void 0}),e.clearPhoneDeviceCapabilities(n),r&&e.toClientDispatch.onThreePCCServerGone({sipServerId:n})})),h(_(e),"onConnected",(function(t){var n=t.host,r=t.port;e.updateState({wsHost:n,wsPort:r})})),h(_(e),"onDisconnected",(function(){N.info("onDisconnected 916",e.stateData),e.updateState({wsDisconnectTime:Date.now()}),e.awaitingReconnectData?(clearTimeout(e.reconnectTimeout),delete e.awaitingReconnectData,e.initiateReconnect()):e.stateData.isLoggedIn&&!e.authRedirectInProgress?(N.info("onDisconnected 921"),P(e.transport,"wifi","onDisconnected 876"),e.clearPhoneDeviceCapabilities(),clearTimeout(e.reconnectTimeout),e.initiateReconnect()):e.authRedirectInProgress?N.info("Disconnected Websocket During authRedirect Ignoring"):e.setDisconnected("session was disconnected")})),h(_(e),"onUnhandledDisconnection",(function(){e.stateData.isLoggedIn&&e.initiateReconnect()})),h(_(e),"tryToDisconnect",(function(){N.info("tryToDisconnect 987",e.awaitingReconnectData),e.awaitingReconnectData||e.transport.disconnectWithDispatch()})),h(_(e),"sendPing",(function(){return e.transport.sendPing()})),h(_(e),"forceReconnect",(function(){clearTimeout(e.reconnectTimeout),delete e.awaitingReconnectData,N.info("forceReconnect",{}),P(e.transport,"wifi","forceReconnect 941"),e.initiateReconnect()})),h(_(e),"rejectForceLogin",(function(){e.shouldSendAgentSetPhoneTypeMobile=!0,e.updateState({offerForceLogin:!1,showLoginDialog:!0}),(0,r.clearSessionCookie)()})),h(_(e),"updatePersonalDetails",(function(t){e.updateState(t)})),h(_(e),"onSetPhoneResult",(function(t){var n=t.error_code,r=t.phone_type,a=t.phone_number,o=t.error_message;if(n!==(0,c.booleanToTransport)(!1))e.updateState({phoneTypeErrorCode:+n,phoneTypeErrorText:o}),e.toClientDispatch.onSetPhoneTypeError({errorCode:+n,errorMessage:o});else{var i={phoneType:r,phoneNumber:a,isLoggedInWithPhoneType:!0,phoneTypeErrorCode:void 0,phoneTypeErrorText:void 0};e.stateData.phoneNumber!==a&&(e.stateData.tenantFeatures?e.toClientDispatch.onPhoneNumberChanged({useOutboundDIDEnabled:e.stateData.tenantFeatures.useOutboundDIDEnabled,phoneNumber:a}):e.dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived=!0),e.localSettings.set("phoneType",r).then((function(){switch(r){case"phone_type_browser":e.localSettings.set("extension",a);break;case"phone_type_hard_custom":e.localSettings.set("hardPhoneNumber",a);break;case"phone_type_external":e.localSettings.set("externalPhoneNumber",a);break;case"phone_type_microsoft_teams":e.localSettings.set("msTeamsPhoneNumber",a)}})),e.updateState(i),e.toClientDispatch.onSetPhoneDeviceResultReceived({phoneType:r,phoneNumber:a}),"phone_type_none"===r?e.clearPhoneDeviceCapabilities():e.toClientDispatch.onUpdateCapabilities(e.stateData.phoneDeviceCapabilities)}})),h(_(e),"sendPhoneDeviceChanged",(function(t){var n=t.code,r=t.inDeviceString,a=t.outDeviceString;e.transport.dispatch.agent_phone_status({code:n,in_device:r,out_device:a}),e.updateState({phoneDeviceIn:r,phoneDeviceOut:a})})),h(_(e),"sendSipEndpointStatusChanged",(function(t){var n=t.fail,r={session_id:e.stateData.sessionId,message_type:n?"show_sip_fail":"hide_sip_fail"};e.transport.dispatch.agent_message({user_id:e.stateData.userId,message:r})})),h(_(e),"sendAgentInfo",(function(t){var n=t.hostName,r=t.pluginVersion;e.transport.dispatch.agent_info({hostname:n,plugin_version:r})}));var v=_(e);h(_(e),"startPhoneTypeSelection",p((function(){var e,t,n,r,a,o,i,s;return E(this,(function(c){switch(c.label){case 0:return[4,x(v.localSettings)];case 1:return e=c.sent(),t=e.phoneType,n=e.hardPhoneNumber,r=e.msTeamsPhoneNumber,a=e.externalPhoneNumber,o=v.stateData.phoneType||t,i=v.stateData.availablePhoneTypes||{phone_type_none:"1"},o&&i[o]||(o=void 0),s={phoneType:o,hardPhoneNumber:n,externalPhoneNumber:a,availablePhoneTypes:i,msTeamsPhoneNumber:r},v.updateState({offerPhoneSelection:s}),[2]}}))}))),h(_(e),"cancelPhoneTypeSelection",(function(){e.phoneTypeSelected||e.setPhoneType({phoneType:"phone_type_none"}),e.updateState({offerPhoneSelection:void 0})}));var y=_(e);h(_(e),"submitPhoneTypeSelection",function(){var e=p((function(e){var t,n,r,a,o,i,s,c,u,l;return E(this,(function(d){switch(d.label){case 0:return e?[3,2]:[4,x(y.localSettings)];case 1:return t=d.sent(),n=t.phoneType,r=t.hardPhoneNumber,a=t.externalPhoneNumber,o=t.msTeamsPhoneNumber,n&&y.setPhoneType({phoneType:n,phoneNumber:r||a||o}),[2];case 2:return i=e.phoneType,s=e.phoneNumber,c=e.phoneNumbers,y.phoneTypeSelected=!0,y.updateState({offerPhoneSelection:void 0}),u=y.stateData.availablePhoneTypes[i]?i:"phone_type_none",l=s||(c&&R(u)?c[u]:void 0),y.setPhoneType({phoneType:u,phoneNumber:l}),c&&y.localSettings.set("phoneType",u).then((function(){y.localSettings.set("hardPhoneNumber",c.phone_type_hard_custom),y.localSettings.set("externalPhoneNumber",c.phone_type_external),y.localSettings.set("msTeamsPhoneNumber",c.phone_type_microsoft_teams)})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),h(_(e),"setPhoneType",(function(t){e.toClientDispatch.onSetPhoneType(t)})),h(_(e),"sendPhoneTypeSelection",(function(t){e.updateState({phoneTypeErrorCode:void 0,phoneTypeErrorText:void 0}),e.transport.dispatch.agent_set_phone_device({phone_type:t.phoneType,phone_number:t.phoneNumber,plugin_type:t.pluginType})})),h(_(e),"validateServerOrigin",(function(){var t=e.platformSpecific.currentServerOrigin("");(0,o.apiRequests)(t).checkIfTenantExists().then((function(t){e.updateState({isValidServerOrigin:!0===t})})).catch((function(){e.updateState({isValidServerOrigin:!1})}))})),h(_(e),"setLoggedOut",(function(){e.updateState({isLoggedIn:!1,isLoggedInWithPhoneType:!1,sessionId:void 0,pushToken:void 0,firebaseToken:void 0,loginId:void 0,domain:void 0,showLoginDialog:!0}),e.shouldSendAgentSetPhoneTypeMobile=!0,"mobile"===e.platformSpecific.clientType()&&e.localSettings.set("sessionId",void 0)})),h(_(e),"getPasswordConfig",(function(){var t=e.stateData.domain,n=e.platformSpecific.currentServerOrigin(e.stateData.domain);(0,o.apiRequests)(n).getPasswordConfig({tenantUrl:t}).then((function(t){e.updateState({passwordConfig:{passwordHistoryConfig:t.passwordHistoryConfig,passwordPolicy:t.passwordPolicy}})}))}));var I=_(e);h(_(e),"remindPassword",function(){var e=p((function(e){var t;return E(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=I.platformSpecific.currentServerOrigin(e.domain),[4,(0,r.resetPasswordRequest)(e,t)];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return I.updateState({remindPasswordSuccess:!0}),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),h(_(e),"cancelRemindPassword",(function(){e.updateState({remindPasswordSuccess:!1})})),h(_(e),"changePassword",(function(t,n){e.transport.dispatch.changePassword({params:[t,n]}).then((function(t){var n,r=t.error;r?e.updateState({changePasswordError:null!==(n=r.message)&&void 0!==n?n:"Unknown error",changePasswordSuccess:!1}):e.updateState({changePasswordError:void 0,changePasswordSuccess:!0})}))})),h(_(e),"cancelChangePassword",(function(){e.updateState({changePasswordError:void 0,changePasswordSuccess:!1})})),h(_(e),"submitResetPassword",(function(t){var n=e.platformSpecific.currentServerOrigin(e.stateData.domain);e.updateState({resetPasswordError:void 0,resetPasswordSuccess:!1}),(0,o.apiRequests)(n).changePassword({requestBody:{loginId:e.stateData.loginId||"",tenantUrl:e.stateData.domain||"",oldPassword:t.oldPassword,newPassword:t.newPassword}}).then((function(){e.updateState({resetPasswordSuccess:!0})})).catch((function(){e.updateState({resetPasswordError:"Some error occurred"})}))})),h(_(e),"cancelResetPassword",(function(){e.updateState({resetPasswordError:void 0,resetPasswordSuccess:!1})})),h(_(e),"closeForceLogout",(function(){e.updateState({forceLogoutInfo:void 0})}));var w=_(e);return h(_(e),"getAppInfo",function(){var e=p((function(e){var t;return E(this,(function(n){switch(n.label){case 0:return[4,(0,r.requestAppInfo)(e)];case 1:return t=n.sent(),w.updateGlobalEnableMacPluginVariable(t.enable_mac_plugin),w.updateState({appInfo:{productName:t.product_name,companyName:t.company_name,pluginVersion:t.plugin_version,enableMacPlugin:t.enable_mac_plugin,muteRecordingIfNotReady:t.mute_recording_if_note_ready,hideErrorBar:t.hide_error_bar,completeTransferOnOriginalCallWithOriginService:t.complete_transfer_on_original_call_with_origin_service}}),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),h(_(e),"onAgentStartScreenRecording",(function(t){var n=t.sr_host,r=t.sr_port,a=t.sr_file;e.toClientDispatch.onAgentStartScreenRecording({host:n,port:parseInt(r),file:a})})),h(_(e),"onAgentStopScreenRecording",(function(){e.toClientDispatch.onAgentStopScreenRecording()})),h(_(e),"onAgentEMIUp",(function(t){var n;"msteams"===t.type&&(N.info("MSTeams integration is up:",t),e.updateState({emi:S(b({},e.stateData.emi),{msteams:S(b({},null===(n=e.stateData.emi)||void 0===n?void 0:n.msteams),{up:!0,emiServerUrlPrefix:t.emi_server_url_prefix,errorCode:void 0,errorMessage:void 0})})}))})),h(_(e),"onAgentEMIDown",(function(t){var n;"msteams"===t.type&&(N.info("MSTeams integration going down:",t),e.updateState({emi:S(b({},e.stateData.emi),{msteams:S(b({},null===(n=e.stateData.emi)||void 0===n?void 0:n.msteams),{up:!1,errorCode:t.error_code,errorMessage:t.error_message})})}))})),h(_(e),"transmitMessageFromPlugin",(function(t,n){e.transport.dispatch.agent_message({user_id:t,message:S(b({},n),{peer_type:"plugin"})})})),h(_(e),"saveMSTeamsUserData",(function(t){e.stateData.baseConfig&&(e.updateState({emi:S(b({},e.stateData.emi),{msteams:b({up:!1},e.stateData.emi,t)})}),e.updateBaseConfig({}),e.emiAccountChanged("msteams"))})),h(_(e),"sendAgentRecordOutOfBandCallAttempt",(function(t,n){e.transport.dispatch.agent_record_out_of_band_call_attempt({destination:t,origination:e.stateData.phoneNumber,result:n})})),h(_(e),"onAgentCallWaitingNotifyAudio",(function(t){var n=t.notify_state;e.toClientDispatch.onCallWaitingInQueueNotification("1"===n)})),h(_(e),"onAgentMessage",(function(t){"peer_type"in t.message&&e.toClientDispatch.onPluginMessageReceived(t.user_id||"",JSON.stringify(t.message))})),h(_(e),"onTransportError",(function(t){var n=t.message;"mobile"===e.platformSpecific.clientType()&&N.error("onTransportError",n)})),h(_(e),"onWebsocketErrorEvent",(function(e){N.error("onWebsocketErrorEvent",e)})),e}return t=C,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({onConnected:this.onConnected,onDisconnected:this.onDisconnected,onUnhandledDisconnection:this.onUnhandledDisconnection,auth_accept:this.onAuthAccept,auth_reject:this.onAuthReject,auth_redirect:this.onAuthRedirect,error_message:this.onIncomingErrorMessage,agent_set_phone_device_result:this.onSetPhoneResult,byebye:this.setLoggedOut,agent_welcome:this.onAgentWelcome,agent_user_data:this.onAgentUserData,"3pcc_server_connected":this.onThreePccServerConnected,"3pcc_server_disconnected":this.onThreePccServerDisconnected,e3pcc_device_snapshot:this.onThreePccDataCaps,e3pcc_caps_changed:this.onThreePccDataCaps,e3pcc_failed:this.onThreePccFailed,e3pcc_audio_quality_alert:this.onThreePccAudioQualityAlert,agent_start_screen_recording:this.onAgentStartScreenRecording,agent_stop_screen_recording:this.onAgentStopScreenRecording,agent_emi_up:this.onAgentEMIUp,agent_emi_down:this.onAgentEMIDown,agent_call_waiting_notify_audio:this.onAgentCallWaitingNotifyAudio,agent_message:this.onAgentMessage,onTransportError:this.onTransportError,onWebsocketErrorEvent:this.onWebsocketErrorEvent}),this.fromClientDispenser.subscribe({login:this.login,checkToken:this.checkToken,forceLogin:this.forceLogin,logout:this.logout,rejectForceLogin:this.rejectForceLogin,updatePersonalDetails:this.updatePersonalDetails,getPasswordConfig:this.getPasswordConfig,remindPassword:this.remindPassword,cancelRemindPassword:this.cancelRemindPassword,changePassword:this.changePassword,cancelChangePassword:this.cancelChangePassword,submitResetPassword:this.submitResetPassword,cancelResetPassword:this.cancelResetPassword,startPhoneTypeSelection:this.startPhoneTypeSelection,cancelPhoneTypeSelection:this.cancelPhoneTypeSelection,submitPhoneTypeSelection:this.submitPhoneTypeSelection,sendPhoneTypeSelection:this.sendPhoneTypeSelection,sendPhoneDeviceChanged:this.sendPhoneDeviceChanged,sendSipEndpointStatusChanged:this.sendSipEndpointStatusChanged,validateServerOrigin:this.validateServerOrigin,updateBaseConfig:this.updateBaseConfig,closeForceLogout:this.closeForceLogout,forceReconnect:this.forceReconnect,tryToDisconnect:this.tryToDisconnect,transmitMessageFromPlugin:this.transmitMessageFromPlugin,sendAgentInfo:this.sendAgentInfo,sendAgentRecordOutOfBandCallAttempt:this.sendAgentRecordOutOfBandCallAttempt,saveMSTeamsUserData:this.saveMSTeamsUserData,sendPing:this.sendPing,saveActiveRoute:this.saveActiveRoute}))}},{key:"updatePhoneCapabilities",value:function(e,t){e||t?e&&!t?delete this.phoneDeviceCapabilitiesPerServer[e]:e&&t?this.phoneDeviceCapabilitiesPerServer[e]=t:N.info("updatePhoneCapabilities: bad parameters: serverId=".concat(e,", capabilities: "),t):this.phoneDeviceCapabilitiesPerServer={};var n={},r=!0,a=!1,o=void 0;try{for(var i,s=Object.values(this.phoneDeviceCapabilitiesPerServer)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;n.canHold=n.canHold||c.canHold,n.canDial=n.canDial||c.canDial,n.canAnswer=n.canAnswer||c.canAnswer,n.canRetrieve=n.canRetrieve||c.canRetrieve}}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}this.updateState({phoneDeviceCapabilities:n})}},{key:"sendLoginRequest",value:function(e,t,n){var o=this;a.bpLogger.info("sendLoginRequest ",e),delete this.awaitingReconnectData;var i="force"===e?this.stateData.domain:t.domain;this.awaitingLoginData={loginType:e,domain:(0,r.trimProtocol)(i)||i,loginId:t&&t.loginId,timeout:setTimeout((function(){return o.onLoginError({message:"login timeout expired: no response received"})}),12e3)},this.updateState({isAuthorizing:!0,loginError:void 0,offerForceLogin:!1,showLoginDialog:!1}),this.platformSpecific.setServerOrigin((null==t?void 0:t.serverOrigin)||"");var s=this.platformSpecific.currentServerOrigin(i);this.getSessionId(e,s,t,n).then((function(t){o.localSettings.set("sessionId",t),o.transportConnect({sessionId:t,serverOrigin:s,force:"force"===e?"1":(0,c.booleanToTransport)(!1)})})).catch((function(e){N.warn("onLoginError:",e),o.onLoginError(e)}))}},{key:"transportConnect",value:function(e){var t=this;return p((function(){var n,r,a,o;return E(this,(function(i){return N.info("transportConnect 332"),P(t.transport,"transportConnect","transportConnect session State 472"),n=e.sessionId,r=e.serverOrigin,a=e.force,o=e.serverId,t.getAppInfo(r),N.info("transportConnect 338"),[2,t.transport.connect(r,o).then(p((function(){var e,r,o,i,s,u,l,d,_,f,p,m;return E(this,(function(g){switch(g.label){case 0:return N.info("transportConnect 341"),t.isDestroyed()?[2]:(t.updateState({sessionId:n,isLoggedInOnOtherTab:!1}),e=t.stateData,r=e.os,o=e.browser,[4,t.platformSpecific.getDeviceName()]);case 1:return i=g.sent(),N.info("transportConnect 352"),[4,t.platformSpecific.getNotificationTokens()];case 2:return s=g.sent(),u=s.voipToken,l=s.pushToken,d=s.firebaseToken,N.info("transportConnect 354",{voipToken:u,pushToken:l,firebaseToken:d}),_=t.platformSpecific.getTimezoneName(),f={FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.REACT_APP_SIMPLE_STATES?(0,c.booleanToTransport)(!1):"1",p=(0,c.booleanToTransport)(!1),m=(0,c.booleanToTransport)(!1),"mobile"===t.platformSpecific.clientType()&&(f=(0,c.booleanToTransport)(!1),p="1",m=A),N.info("transportConnect 357"),t.transport.dispatch.auth_session(S(b(S(b({session_id:n,force:a,detect_active_session:f,client_type:t.platformSpecific.clientType(),firebase_token:d,push_token:l,voip_token:u,os:r,browser:o},i?{device_name:i}:void 0),{app_type:t.platformSpecific.getAppType(),app_version:t.platformSpecific.getAppVersion()}),_?{client_timezone_name:_}:void 0),{capabilities:{partial_login:p,push_notification_calling:m,inactivity_logout:"1"}})),[2]}}))})))]}))}))()}},{key:"getSessionId",value:function(e,t,n,a){var o=this;return p((function(){var i,s,c,u,l,d,_,f;return E(this,(function(p){switch(p.label){case 0:return N.info("getSessionId:",e),"check_token"!==e?[3,2]:(i=o.platformSpecific.getUserAgent(),[4,(0,r.checkSessionToken)(t,o.localSettings,o.platformSpecific,a,i)]);case 1:if(s=p.sent(),N.info("response to checkToken",s),"error"in s)throw new Error(s.error);return o.updateState({isSsoEnabled:s.sso_enabled,os:s.os,browser:s.browser}),[2,s.session_id];case 2:if("force"!==e)return[3,3];if(!o.stateData.sessionId)throw new Error("forceLogin() is called but there is no sessionId from previous login attempt");if(!o.stateData.domain)throw new Error("forceLogin() is called but current tenant domain is not initialized");return j(o.stateData.serverOrigin),[2,o.stateData.sessionId];case 3:if("mobile"===o.platformSpecific.clientType())return[3,7];c=o.platformSpecific.getUserAgent(),p.label=4;case 4:return p.trys.push([4,6,,7]),[4,(0,r.checkSessionToken)(t,o.localSettings,o.platformSpecific,a,c)];case 5:return u=p.sent(),N.info("response to checkToken attempt on auth",u),"error"in u?[3,7]:[2,u.session_id];case 6:return p.sent(),[3,7];case 7:return o.platformSpecific.removeSessionCookies(o.localSettings),l=o.platformSpecific.getUserAgent(),[4,o.platformSpecific.getDeviceName()];case 8:return d=p.sent(),_=S(b({},n,d?{deviceName:d}:void 0),{appType:o.platformSpecific.getAppType(),appVersion:o.platformSpecific.getAppVersion()}),[4,(0,r.authRequest)(_,t,l)];case 9:if(f=p.sent(),N.info("response to authRequest",f),"error"in f)throw new Error(f.error);return j(t),o.updateState({os:f.os,browser:f.browser}),[2,f.session_id];case 10:return[2]}}))}))()}},{key:"tweakOldADSharedSession",value:function(){var e=this;setTimeout((function(){e.localSettings.setExternal("shared-session",O),setTimeout((function(){e.localSettings.getExternal("shared-session").then((function(t){t===O&&e.localSettings.removeExternal("shared-session")}))}),1e4)}),10)}},{key:"filterLoginError",value:function(e){var t=e.message;return"check_token"===e.loginType?void 0:t}},{key:"prefetchLink",value:function(e){var t;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?fetch(e):((t=document.createElement("link")).rel="prefetch",t.href=e,document.getElementsByTagName("head")[0].appendChild(t))}},{key:"setDisconnected",value:function(e){N.info("setDisconnected 940",this.stateData),(this.stateData.isLoggedIn||this.stateData.isAuthorizing)&&(this.logout(),this.shouldSendAgentSetPhoneTypeMobile=!0,this.updateState({isAuthorizing:!1,isLoggedIn:!1,isLoggedInWithPhoneType:!1,loginError:e,sessionId:void 0,pushToken:void 0,firebaseToken:void 0,showLoginDialog:!0}))}},{key:"initiateReconnect",value:function(){N.info("initiateReconnect 956",this.awaitingReconnectData),this.awaitingReconnectData||(this.updateState({wsIsReconnecting:!0,wsReconnectAttempts:0}),this.awaitingReconnectData={retryCount:0,backoffTimeoutMilliseconds:100},N.info("initiateReconnect 966"),this.reconnect())}},{key:"tryToConnect",value:function(){var e=this;N.info("tryToConnect 972"),P(this.transport,"wifi","tryToConnect 920"),this.transportConnect({sessionId:this.stateData.sessionId,serverOrigin:this.stateData.serverOrigin,force:(0,c.booleanToTransport)(!1)}).catch((function(){N.info("tryToConnect catch 980"),P(e.transport,"wifi","tryToConnect catch 929"),e.reconnect()}))}},{key:"reconnect",value:function(){var e=this;if(N.info("reconnect 1002",this.awaitingReconnectData),P(this.transport,"wifi","reconnect 946"),this.awaitingReconnectData){var t=this.awaitingReconnectData.backoffTimeoutMilliseconds<15e3?this.awaitingReconnectData.backoffTimeoutMilliseconds:15e3;N.info("reconnectTimeOut 1008",t),P(this.transport,"wifi","reconnectTimeOut ".concat(t)),this.reconnectTimeout=setTimeout((function(){N.info("timeout in reconnect 1012",e.awaitingReconnectData),e.awaitingReconnectData&&(e.updateState({wsReconnectAttempts:(e.stateData.wsReconnectAttempts||0)+1}),N.info("timeout in reconnect 1017"),P(e.transport,"wifi","reconnect 955"),e.tryToConnect())}),t),this.awaitingReconnectData.retryCount+=1,this.awaitingReconnectData.backoffTimeoutMilliseconds*=4}}},{key:"clearAwaitingLoginData",value:function(){this.awaitingLoginData&&this.awaitingLoginData.timeout&&clearTimeout(this.awaitingLoginData.timeout),delete this.awaitingLoginData}},{key:"updateGlobalEnableMacPluginVariable",value:function(e){window.__enableMacPlugin=e}},{key:"emiAccountChanged",value:function(e){var t=this;this.localSettings.get("emiLastAccounts").then((function(n){var r,a,o,i=null==n?void 0:n[e],s=null===(o=t.stateData)||void 0===o||null===(a=o.emi)||void 0===a||null===(r=a[e])||void 0===r?void 0:r.principalName;s&&(t.localSettings.set("emiLastAccounts",S(b({},n),h({},e,s))),i&&s!==i&&t.toClientDispatch.onEmiAccountChanged({emiType:e,oldAccount:i,newAccount:s}))}))}},{key:"clearPhoneDeviceCapabilities",value:function(e){N.info("clearPhoneDeviceCapabilities 1451, sipServerId: ".concat(e),this.awaitingReconnectData),this.awaitingReconnectData||(this.updatePhoneCapabilities(e,void 0),this.toClientDispatch.onUpdateCapabilities(this.stateData.phoneDeviceCapabilities))}},{key:"resetState",value:function(){var e=this.stateData.authChecked;v(y(C.prototype),"resetState",this).call(this),this.produceState((function(t){t.authChecked=e,t.navigationData=void 0}))}}])&&g(t.prototype,n),d&&g(t,d),C}(d.StateFactory.createBaseStateClass({name:"sessionState",controlEvents:i.sessionControlEvents,trackerEvents:i.sessionTrackerEvents,options:{synchronized:!0},getInitialState:i.getInitialSessionState,dependencies:["transport","localSettings","platformSpecific","currentTabDataProvider"]}));function j(e){(0,o.apiRequests)(e).adminLogoutHelper().then((function(){}),(function(){}))}function x(e){return L.apply(this,arguments)}function L(){return(L=p((function(e){var t,n,r,a;return E(this,(function(o){switch(o.label){case 0:return[4,e.get("phoneType")];case 1:return t=o.sent(),[4,e.get("hardPhoneNumber")];case 2:return n=o.sent(),[4,e.get("externalPhoneNumber")];case 3:return r=o.sent(),[4,e.get("msTeamsPhoneNumber")];case 4:return a=o.sent(),[2,{phoneType:t,phoneNumber:"phone_type_hard_custom"===t?n:"phone_type_external"===t?r:void 0,hardPhoneNumber:n,msTeamsPhoneNumber:a,externalPhoneNumber:r}]}}))}))).apply(this,arguments)}function K(e){var t=e.phoneType,n=e.phoneNumber,r=e.hardPhoneNumber,a=e.externalPhoneNumber,o=e.msTeamsPhoneNumber,i=e.availablePhoneTypes;return!t||!i[t]||i[t]===(0,c.booleanToTransport)(!1)||!n&&function(e){return"phone_type_hard_custom"===e||"phone_type_external"===e||"phone_type_microsoft_teams"===e}(t)?{phoneType:i[t]?t:void 0,hardPhoneNumber:r,externalPhoneNumber:a,msTeamsPhoneNumber:o,availablePhoneTypes:i}:void 0}function F(e){var t={};e.split(",").forEach((function(e){t[e]=!0}));var n={};return Object.keys(i.agentPrivilegeValues).forEach((function(e){var r=e,a=i.agentPrivilegeValues[r];t[a]&&(n[r]=!0)})),n}function $(e){return!!e.SYS_RECEIVE_AUTOMATICALLY_DISTRIBUTED_CALLS||!!e.SYS_RECEIVE_CUSTOMER_CHATS||!!e.SYS_HANDLE_EMAILS}},45361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{agentPrivilegeValues:()=>r,assertAuthorizedSession:()=>u,getInitialSessionState:()=>o,sessionControlEvents:()=>c,sessionTrackerEvents:()=>s,supervisorPrivileges:()=>a});var r={SYS_RECEIVE_AUTOMATICALLY_DISTRIBUTED_CALLS:1001,SYS_RECEIVE_CUSTOMER_CHATS:1023,SYS_HANDLE_EMAILS:1037,EDIT_KNOWLEDGE_BASE:1038,SYS_EXTERNAL_CALLS:1043,SYS_LOGIN_TO_AGENT_DESKTOP:1052,SYS_ACCESS_FULL_AD:1056,SYS_USE_RECENT_TAB:1059,SYS_USE_FAVORITES_TAB:1061,SYS_MONITOR_AGENT_SCREEN:1036,SYSTEM_WIDE_SUPERVISOR_ALERT_THRESHOLDS:1021,SYS_LISTEN_TO_CRM_LINKED_RECORDINGS:1057,SYS_FORCE_STATE_OF_OTHER_AGENTS:1003,CAN_SEE_CONTENTS_OF_EMAIL_PUSH_QUEUES:1080,CAN_SEE_ACTIVITIES:1014,CAN_SEE_OWN_ACTIVITIES:1062,LISTEN_ALL_RECORDINGS:1067,LISTEN_RECORDINGS_FOR_SERVICE:1050,GENERATE_VIEW_REPORTS:1019,MANAGE_CANNED_CHAT_RESPONSES:1024,SYS_ALERT_CONFIG:1041,SYS_VIEW_LIST_OF_AGENTS:1002,SYS_MONITOR_INTERACTIONS:1004,EDIT_CONTACTS:1063,DELETE_CONTACTS:1064,SYS_ALL_ASSIGNED_TEAMS_COMBINED_VIEW:1070,SYS_CUSTOMIZE_WALLBOARDS:1073,SYS_VIEW_QUEUE_STATUS:1006,SYS_PUSH_PULL_GLOBAL_WALLBOARDS:1074,SYS_ACCESS_REALTIME_STATSAPI:1054,DOWNLOAD_RECORDINGS:1044,REP_INTERACTION_SEARCH:1017,SYSTEM_WIDE_SUPERVISOR_REAL_TIME_METRICS:1045,SYS_REALTIME_METRICS_CONFIG:1040,SYS_PULL_SCREEN_POP:1005,SYS_USE_AGENT_SEAT_MAPS:1081,SYS_DELETE_CASES:1069,SYS_USE_SUBTEAMS:1072,CAN_START_EXTERNAL_CHAT:1033,CAN_START_INTERNAL_CHAT:1007,CAN_HANDLE_LEADS:1047,CAN_OPERATE_CAMPAIGNS:1027,CAN_VIEW_DIRECTORY:1030,CAN_START_RECORDING:1032,CAN_STOP_RECORDING:1039,CAN_FORCE_POP_PUT_WINDOW:1035,CAN_TRANSFER:1042,CAN_SEE_OTHER_AGENT_CASES:1051,CAN_MASK_INTERACTION_CONTENT:1053,CAN_USE_ZENDESK:1055,CAN_USE_RIGHTNOW:1058,CAN_USE_SERVICENOW:1068,CAN_USE_CALENDAR:1071,SYS_PRIVILEGED_ACCESS_IP_RANGE:1075,CAN_MODIFY_OWN_IDENTIFICATION_DATA:1076,BYPASS_SSO:1095,SYS_USE_REMOTE_ASSIST:1100,DIRECT_CHAT_INVITATION:1113,MANAGE_KNOWLEDGE_BASE_SETTINGS:1123,MANAGE_EVALUATIONS_ACCROSS_TEAMS:1084,DELETE_EVALS_COMPLETED_BY_THEMSELVES:1085,DELETE_EVALS_COMPLETED_BY_ANYONE:1086,SEE_EVALS_OF_SELF:1088,EVALUATE_OWN_INTERACTIONS:1089,CONFIRM_EVALUATIONS_OF_SUPERVISED_AGENTS:1090,CONFIRM_EVALUATIONS_OF_SELF:1091,ASSIGN_EVALUATIONS_AND_CALIBRATIONS:1093,CUSTOMIZE_HOME_PAGE_VIEWS:1124,PUSH_PULL_GLOBAL_HOME_PAGE_VIEWS:1125},a=["SYS_MONITOR_AGENT_SCREEN","SYSTEM_WIDE_SUPERVISOR_ALERT_THRESHOLDS","SYS_FORCE_STATE_OF_OTHER_AGENTS","SYS_ALERT_CONFIG","SYS_VIEW_LIST_OF_AGENTS","SYS_MONITOR_INTERACTIONS","SYS_ALL_ASSIGNED_TEAMS_COMBINED_VIEW","SYS_VIEW_QUEUE_STATUS","SYSTEM_WIDE_SUPERVISOR_REAL_TIME_METRICS","SYS_REALTIME_METRICS_CONFIG","SYS_USE_SUBTEAMS"],o=function(){return{serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"}},i=n(12746),s={onInitialState:(0,i.event)(),onChange:(0,i.event)(),onLogin:(0,i.event)(),onLogout:(0,i.event)(),onDisconnect:(0,i.event)(),onSetPhoneType:(0,i.event)(),onSetPhoneDeviceResultReceived:(0,i.event)(),onSetPhoneTypeError:(0,i.event)(),onThreePCCServerReady:(0,i.event)(),onThreePCCServerGone:(0,i.event)(),onAgentWelcomeReceived:(0,i.event)(),onAgentStartScreenRecording:(0,i.event)(),onAgentStopScreenRecording:(0,i.event)(),onServerError:(0,i.event)(),onBadCallQualityAlert:(0,i.event)(),onPhoneNumberChanged:(0,i.event)(),onUpdateCapabilities:(0,i.event)(),onEmiAccountChanged:(0,i.event)(),onCallWaitingInQueueNotification:(0,i.event)(),onBaseConfigReceived:(0,i.event)(),onPluginMessageReceived:(0,i.event)()},c={login:(0,i.event)(),checkToken:(0,i.event)(),forceLogin:(0,i.event)(),logout:(0,i.event)(),rejectForceLogin:(0,i.event)(),updatePersonalDetails:(0,i.event)(),clearTransportError:(0,i.event)(),getPasswordConfig:(0,i.event)(),remindPassword:(0,i.event)(),cancelRemindPassword:(0,i.event)(),changePassword:(0,i.event)(),cancelChangePassword:(0,i.event)(),submitResetPassword:(0,i.event)(),cancelResetPassword:(0,i.event)(),startPhoneTypeSelection:(0,i.event)(),cancelPhoneTypeSelection:(0,i.event)(),submitPhoneTypeSelection:(0,i.event)(),sendPhoneTypeSelection:(0,i.event)(),sendPhoneDeviceChanged:(0,i.event)(),sendSipEndpointStatusChanged:(0,i.event)(),sendAgentInfo:(0,i.event)(),closeForceLogout:(0,i.event)(),validateServerOrigin:(0,i.event)(),updateBaseConfig:(0,i.event)(),forceReconnect:(0,i.event)(),transmitMessageFromPlugin:(0,i.event)(),saveMSTeamsUserData:(0,i.event)(),tryToDisconnect:(0,i.event)(),sendPing:(0,i.event)(),saveActiveRoute:(0,i.event)(),sendAgentRecordOutOfBandCallAttempt:(0,i.event)()};function u(e){if(void 0===e.isLoggedIn||void 0===e.loginId||void 0===e.userId||void 0===e.sessionId||void 0===e.teamId||void 0===e.firstName||void 0===e.lastName||void 0===e.displayNameFormat||void 0===e.licensedTo||void 0===e.serverVersion||void 0===e.serverComments||void 0===e.privileges||void 0===e.isAgent||void 0===e.isSupervisor||void 0===e.sipDomain||void 0===e.softphonePassword||void 0===e.reconnectTimeout||void 0===e.screenSharingEnabled||void 0===e.screenRecordingEnabled||void 0===e.myRemoteIpAddress||void 0===e.screenRecordingBitrate||void 0===e.screenRecordingGrayscale||void 0===e.screenRecordingMultiMonitors||void 0===e.country)throw Error("SessionData is not AuthorizedSessionData")}},64741:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DO_NOT_RESPOND:()=>r,isCommunicationMessage:()=>o,isCommunicationRequest:()=>i,isCommunicationResponse:()=>s});var r="__do_not_respond__",a=n(26552);function o(e){return(0,a.isObject)(e)&&"scope"in e&&"event"in e&&"payload"in e&&(t=e.payload,null!=(n=Array)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n);var t,n}function i(e){return(0,a.isObject)(e)&&"async"in e&&"requestId"in e&&!0===e.async&&"string"==typeof e.requestId}function s(e){return(0,a.isObject)(e)&&"scope"in e&&"requestId"in e&&"payload"in e&&"__response__"===e.scope&&"string"==typeof e.requestId&&(0,a.isObject)(e.payload)&&"status"in e.payload&&("success"===e.payload.status||"error"===e.payload.status)}},31145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{communicationLayerWorkerClient:()=>l});var r=n(26220);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(){function e(t,n){var r,a,i;o(this,e),i=void 0,(a="listener")in(r=this)?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,this.listener=function(e){var r,a,o=e.data,i=o.scope,s=o.event;i===t&&(null===(a=n[s])||void 0===a||(r=a).call.apply(r,[n].concat(c(o.payload))))},window.navigator.serviceWorker.addEventListener("message",this.listener)}return s(e,[{key:"unsubscribe",value:function(){this.listener&&window.navigator.serviceWorker.removeEventListener("message",this.listener),delete this.listener}}]),e}(),l=new(function(){function e(){o(this,e)}return s(e,[{key:"subscribe",value:function(e,t){return new u(e,t)}},{key:"sendMessage",value:function(e){var t,n,a;(null===(a=window)||void 0===a||null===(n=a.navigator)||void 0===n||null===(t=n.serviceWorker)||void 0===t?void 0:t.controller)?window.navigator.serviceWorker.controller.postMessage(e):r.bpLogger.warn("Bright Pattern AD Shared/Service Worker isn't activated!")}},{key:"sendRequest",value:function(e){return Promise.reject("Not implemented for Worker Client communication layer")}}]),e}())},55289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCommunicationLayerBroadcastChannel:()=>U,getCommunicationLayerLocalStorage:()=>ae});var r=n(21918),a=n(7909),o=n(40381),i=n(50712),s=n(68939),c=n(26220),u=c.bpLogger.withPrefix("@COMM"),l="bp-channel-master-to-followers",d="bp-channel-follower-to-master",_="bp-channel-api-to-proxy",f="bp-channel-proxy-to-api",p="p0iu1_k@7p0v14",m=n(2122),g=n(26552),h=n(87801);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return e?"state-listener":"state-host"}function S(e,t){return Array.isArray(e)?e.map(t):"object"==typeof e&&e?(0,m.mapValues)(e,t):e}function C(e){return S(e,(function(e){return void 0===e?p:e}))}function I(e){return S(e,(function(e){return e===p?void 0:e}))}function w(){return localStorage.getItem(h.MASTER_TAB_ID_STORAGE_KEY)===h.tabId}function E(e,t){var n={scope:"__response__",requestId:e,payload:t};return JSON.stringify(n)}function O(e){var t=e.sendResponse,n=e.eventHandlers,r=e.event,o=e.payload,i=e.requestId,s=e.channelId;n.length||t(i,s,{status:"error",error:{message:'Remote event handler not found for "'.concat(r,'"')}}),n.length>1&&u.warn("More than one handler (".concat(n.length,') found for request "').concat(r,'"'));var c=n[n.length-1].apply(void 0,y(o));(0,g.isPromise)(c)?c.then((function(e){t(i,s,{status:"success",data:C(e)})})).catch((function(e){e!==a.DO_NOT_RESPOND&&t(i,s,{status:"error",error:{message:'Remote handler returns a promise that was rejected: "'.concat(e,'"')}})})):(0,m.isUndefined)(c)?t(i,s,{status:"error",error:{message:"Remote handler function does not return result"}}):t(i,s,{status:"success",data:C(c)})}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function M(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j={"state-host":d,"state-listener":l,"api-host":f,"api-listener":_},x={"state-host":l,"state-listener":d,"api-host":_,"api-listener":f};function L(e){throw u.panic("@communicationLayer localStorage.setItem error:",(0,o.getErrorMessage)(e)),e}var K=new(function(){function e(){D(this,e),R(this,"requestTracker",(0,i.createRequestTracker)({timeoutMilliseconds:5e3})),R(this,"subscriptions",{"api-host":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"api-listener":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"state-host":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"state-listener":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}}})}return P(e,[{key:"handleAsyncRequest",value:function(e,t,n,r,a){O({eventHandlers:e,event:t,payload:n,requestId:a,channelId:r,sendResponse:this.sendResponse.bind(this)})}},{key:"sendResponse",value:function(e,t,n){var a=E(e,n);new r.BroadcastChannel(x[t]).postMessage(a).catch(L)}},{key:"makeBroadcastChannelSubscription",value:function(e){var t=this;new r.BroadcastChannel(j[e]).addEventListener("message",(function(n){var r=JSON.parse(n);if((0,a.isCommunicationResponse)(r)){if(t.requestTracker.hasRequest(r.requestId))if("success"===r.payload.status){var o=I(r.payload.data);t.requestTracker.onResponse(r.requestId,o)}else t.requestTracker.onError(r.requestId,new Error(r.payload.error.message))}else if((0,a.isCommunicationMessage)(r)){var i=t.subscriptions[e][r.scope],s=Object.values(i).reduce((function(e,t){return"function"==typeof t[r.event]&&e.push(t[r.event]),e}),[]);if(s.length){var c=r.payload.map(I);(0,a.isCommunicationRequest)(r)?t.handleAsyncRequest(s,r.event,c,e,r.requestId):s.forEach((function(e){e.apply(void 0,M(c))}))}}}))}},{key:"makeSubscription",value:function(e,t,n){var r=(0,s.uuid)(),a=this.subscriptions[e][t];return a[r]=n,{unsubscribe:function(){delete a[r]}}}}]),e}()),F=function(){function e(t){D(this,e),R(this,"channelId",void 0),R(this,"dispatchChannel",void 0),this.channelId=t,this.dispatchChannel=null,this.dispatchChannel=new r.BroadcastChannel(x[this.channelId]),K.makeBroadcastChannelSubscription(this.channelId)}return P(e,[{key:"subscribe",value:function(e,t){return K.makeSubscription(this.channelId,e,t)}},{key:"sendMessage",value:function(e){if(b(w())!==this.channelId){var t,n=e.payload.map(C),r=N(k({},e),{payload:n}),a=JSON.stringify(r);null===(t=this.dispatchChannel)||void 0===t||t.postMessage(a).catch(L)}}},{key:"sendRequest",value:function(e,t){if(b(w())!==this.channelId){var n,r=e.payload.map(C),a=K.requestTracker.addRequest({requestId:(0,s.uuid)(),overrideTimeout:t,displayName:"communication:".concat(e.scope,".").concat(String(e.event))}),o=a.requestId,i=a.promise,c=N(k({},e),{payload:r,async:!0,requestId:o}),u=JSON.stringify(c);return null===(n=this.dispatchChannel)||void 0===n||n.postMessage(u).catch(L),i}return Promise.reject("Communication Layer: blocked role")}}]),e}(),$={};function U(e){return $[e]||($[e]=new F(e)),$[e]}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){V(e,t,n[t])}))}return e}function z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Y(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q={"state-host":d,"state-listener":l,"api-host":f,"api-listener":_},J=(0,m.invert)(Q),X={"state-host":l,"state-listener":d,"api-host":_,"api-listener":f};function Z(e,t){u.panic("@communicationLayer localStorage.setItem error:",(0,o.getErrorMessage)(e));var n=0;for(var r in localStorage){if(Object.hasOwnProperty.call(localStorage,r))n+=2*(localStorage[r].length+r.length)}throw u.info("Used size =",(n/1024).toFixed(2),"KB"),u.info("Message size =",(t.length/1024).toFixed(2),"KB"),e}var ee=function(){function e(){var t=this;q(this,e),V(this,"requestTracker",(0,i.createRequestTracker)({timeoutMilliseconds:5e3})),V(this,"subscriptions",{"api-host":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"api-listener":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"state-host":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"state-listener":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}}}),"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.addEventListener("storage",(function(e){var n=e.key,r=e.newValue;if(n&&r&&(o=n,Object.keys(J).includes(o))){var o,i=J[n];if(i&&!function(e){return e===J[b(w())]}(i)){var s=JSON.parse(r);if((0,a.isCommunicationResponse)(s)){if(t.requestTracker.hasRequest(s.requestId))if("success"===s.payload.status){var c=I(s.payload.data);t.requestTracker.onResponse(s.requestId,c)}else t.requestTracker.onError(s.requestId,new Error(s.payload.error.message))}else if((0,a.isCommunicationMessage)(s)){var u=t.subscriptions[i][s.scope],l=Object.values(u).reduce((function(e,t){return"function"==typeof t[s.event]&&e.push(t[s.event]),e}),[]);if(l.length){var d=s.payload.map(I);(0,a.isCommunicationRequest)(s)?t.handleAsyncRequest(l,s.event,d,s.requestId,i):l.forEach((function(e){e.apply(void 0,Y(d))}))}}}}}))}return H(e,[{key:"handleAsyncRequest",value:function(e,t,n,r,a){O({eventHandlers:e,event:t,payload:n,requestId:r,channelId:a,sendResponse:this.sendResponse})}},{key:"sendResponse",value:function(e,t,n){var r=E(e,n);try{localStorage.setItem(X[t],r)}catch(a){Z(a,r)}}},{key:"makeSubscription",value:function(e,t,n){var r=(0,s.uuid)(),a=this.subscriptions[e][t];return a[r]=n,{unsubscribe:function(){delete a[r]}}}}]),e}(),te=new ee,ne=function(){function e(t){q(this,e),V(this,"channelId",void 0),this.channelId=t}return H(e,[{key:"subscribe",value:function(e,t){return te.makeSubscription(this.channelId,e,t)}},{key:"sendMessage",value:function(e){if(b(w())!==this.channelId){var t=e.payload.map(C),n=z(W({},e),{payload:t}),r=JSON.stringify(n);try{var a=X[this.channelId];localStorage.setItem(a,r)}catch(o){Z(o,r)}}}},{key:"sendRequest",value:function(e,t){if(b(w())!==this.channelId){var n=e.payload.map(C),r=te.requestTracker.addRequest({requestId:(0,s.uuid)(),overrideTimeout:t,displayName:"communication:".concat(e.scope,".").concat(String(e.event))}),a=r.requestId,o=r.promise,i=z(W({},e),{payload:n,async:!0,requestId:a}),c=JSON.stringify(i);try{var u=X[this.channelId];return localStorage.setItem(u,c),o}catch(l){Z(l,c)}}return Promise.reject("Communication Layer: blocked role")}}]),e}(),re={};function ae(e){return re[e]||(re[e]=new ne(e)),re[e]}},65694:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createStateContextProvider:()=>d,createStateHooks:()=>y,createUIStateContextProvider:()=>w,createUIStateHooks:()=>k,createUIStateSelectorHook:()=>N});var r=n(52322),a=n(66029),o=n(86702),i=n(40381);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){var t;return c({getContext:function(){return t}},e,(function(n){var s=n.children,c=n.connector,d=l((0,a.useState)((function(){return c.getStateData()})),2),_=d[0],f=d[1],p=(0,i.useAsRef)(_);(0,a.useEffect)((function(){var e=c.dispenser.subscribe({onInitialState:function(e){f(u({},e))},onChange:function(e){f((function(t){return u({},t,e)}))}});return function(){e.unsubscribe()}}),[c]);var m=(0,a.useMemo)((function(){return{connector:c,methods:c.dispatch,state:_,stateRef:p}}),[c,_,p]);return t||((t=(0,o.createContext)(m)).displayName=e),(0,r.jsx)(t.Provider,{value:m,children:s})}))}var _=n(5977);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=new Map;function v(e,t,n){var r=[e].concat(g(n.slice().sort())).join("-");if(!h.has(r)){var a=(0,_.createStructuredSelector)(n.reduce((function(e,t){return m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},e),p({},t,(function(e){return e[t]})))}),Object.assign({})));h.set(r,a)}var o=h.get(r);return function(e){return o(e.state)}}function y(e,t){var n,r=(0,i.capitalize)(e);return p(n={},"use".concat(r),(function(n){var r,a,i;return"string"==typeof n?r=function(e){return e.state[n]}:(a=n,r=(null!=(i=Array)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](a):a instanceof i)?v(e,0,n):"function"==typeof n?function(e){return n(e.state)}:function(e){return e.state}),(0,o.useContextSelector)(t(),r)})),p(n,"use".concat(r,"Ref"),(function(){return(0,o.useContextSelector)(t(),(function(e){return e.stateRef}))})),p(n,"use".concat(r,"Methods"),(function(){return(0,o.useContextSelector)(t(),(function(e){return e.methods}))})),p(n,"use".concat(r,"Connector"),(function(){return(0,o.useContextSelector)(t(),(function(e){return e.connector}))})),n}var b=n(63830),S=n.n(b);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){var t,n,s,c;return c=function(n){var s=n.children,c=n.getStateData,u=I((0,a.useState)((function(){return c()})),2),l=u[0],d=u[1],_=(0,i.useAsRef)(l),f=(0,a.useCallback)((function(e){var t=S()(_.current,e);d(t)}),[_]),p=(0,a.useMemo)((function(){return{state:l,produceState:f,stateRef:_}}),[f,l,_]);return t||((t=(0,o.createContext)(p)).displayName=e),(0,r.jsx)(t.Provider,{value:p,children:s})},(s=e)in(n={getContext:function(){return t}})?Object.defineProperty(n,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[s]=c,n}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function D(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=new Map;function P(e,t){var n=[e].concat(D(t.slice().sort())).join("-");if(!A.has(n)){var r=(0,_.createStructuredSelector)(t.reduce((function(e,t){return T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},e),O({},t,(function(e){return e[t]})))}),{}));A.set(n,r)}return A.get(n)}function R(e,t,n,r,a,i){var s,c,u;return"string"==typeof i?s=t(i):(c=i,s=(null!=(u=Array)&&"undefined"!=typeof Symbol&&u[Symbol.hasInstance]?u[Symbol.hasInstance](c):c instanceof u)?n(i):"function"==typeof i?r(i):a),(0,o.useContextSelector)(e,s)}function k(e,t){var n,r=(0,i.capitalize)(e);return O(n={},"use".concat(r),(function(n){return R(t(),(function(e){return function(t){return t.state[e]}}),(function(t){return function(e,t){var n=P(e,t);return function(e){return n(e.state)}}(e,t)}),(function(e){return function(t){return e(t.state)}}),(function(e){return e.state}),n)})),O(n,"use".concat(r,"Ref"),(function(){return(0,o.useContextSelector)(t(),(function(e){return e.stateRef}))})),O(n,"use".concat(r,"Producer"),(function(){return(0,o.useContextSelector)(t(),(function(e){return e.produceState}))})),n}function N(e,t){var n=(0,i.capitalize)(t);return O({},"use".concat(n),(function(n){return R(e,(function(e){return function(t){return t[e]}}),(function(e){return function(e,t){var n=P(e,t);return function(e){return n(e)}}(t,e)}),(function(e){return function(t){return e(t)}}),(function(e){return e}),n)}))}},5180:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StatsStateContextProvider:()=>i,useStatsState:()=>c,useStatsStateConnector:()=>d,useStatsStateMethods:()=>l,useStatsStateRef:()=>u,useTableGroups:()=>f,useTableMetrics:()=>_});var r=n(13641),a=(0,r.createStateContextProvider)("StatsStateContextProvider"),o=a.getContext,i=a.StatsStateContextProvider,s=(0,r.createStateHooks)("statsState",o),c=s.useStatsState,u=s.useStatsStateRef,l=s.useStatsStateMethods,d=s.useStatsStateConnector,_=function(e){return c((function(t){var n,r,a,o=t.monitoringConfig;return{teams:null==o||null===(n=o.configs)||void 0===n?void 0:n.TEAMS_COLUMN_CONFIGS,services:null==o||null===(r=o.configs)||void 0===r?void 0:r.SERVICES_COLUMN_CONFIGS,users:null==o||null===(a=o.configs)||void 0===a?void 0:a.USERS_COLUMN_CONFIGS}[e]}))},f=function(e){return c((function(t){var n,r=null===(n=t.monitoringConfig)||void 0===n?void 0:n.additionalData.groups;return{teams:null==r?void 0:r.TEAMS_COLUMN_CONFIGS,services:null==r?void 0:r.SERVICES_COLUMN_CONFIGS,users:null==r?void 0:r.USERS_COLUMN_CONFIGS}[e]}))}},64075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INITIAL_PEEK_ITEM:()=>f,QM_ITEM_FIELDS:()=>U,QM_USER_FIELDS:()=>F,SERVER_QM_ITEM_FIELDS:()=>$,SERVER_QM_USER_FIELDS:()=>K,alignedLeftColumns:()=>T,createGroupId:()=>A,defaultNotReadyReasonThresholdConfig:()=>d,defaultThresholdConfig:()=>l,getInitialStatsState:()=>_,getNotReadyKey:()=>c,isGroup:()=>C,isGroupIndexMetricId:()=>D,isMetric:()=>I,isNotReadyKey:()=>s,isSystemMetric:()=>w,isThresholdKey:()=>i,monitoringInitialAdditionalData:()=>L,monitoringInitialConfigs:()=>x,monitoringInitialServicesColumnConfig:()=>N,monitoringInitialTeamsColumnConfig:()=>k,monitoringInitialUsersColumnConfig:()=>M,monitoringInitialUsersGroupConfig:()=>j,nameColumns:()=>O,notReadyKeyToReason:()=>u,servicesThresholdsKeys:()=>r,statsStateControlEvents:()=>g,statsStateTrackerEvents:()=>m,thresholdsFormattingMap:()=>o,timeFormattingThresholdsKeys:()=>a});var r=["in_max_wait_time","service_level","agents_logged","out_calls_unattended_ratio_per_day","records_dialable","agents_ready"],a=["in_max_wait_time","active_item_talk_duration","wrap_up_time","active_item_hold_duration","agent_occupancy","ready_state"],o={in_max_wait_time:"time",active_item_talk_duration:"time",wrap_up_time:"time",active_item_hold_duration:"time",ready_state:"time"};function i(e){return e in l||s(e)}function s(e){return e.startsWith("__not_ready_reason_")}function c(e){return"__not_ready_reason_".concat(e)}function u(e){return e.replace("__not_ready_reason_","")}var l={in_max_wait_time:{value:"180",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},service_level:{value:"70",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"AUTO"},agents_logged:{value:"1",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},out_calls_unattended_ratio_per_day:{value:"2",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},records_dialable:{value:"1000",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},agents_ready:{value:"3",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},active_item_talk_duration:{value:"900",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},active_item_sentiment:{value:"0",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},wrap_up_time:{value:"180",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},active_item_hold_duration:{value:"120",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},agent_occupancy:{value:"70",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},ready_state:{value:"900",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"}},d={value:"900",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},_=function(){return{agentStats:{},monitoringTeamsStats:{},monitoringTeamStats:{services:{},serviceSummary:{},users:{}},userDetails:{},keepMonitoredUsers:[],thresholds:{id:void 0,config:{}},systemThresholds:{id:void 0,config:l},intents:{all:[],alerts:[],dataId:void 0},peekItems:{},intentAlerts:[],teamServicesInfo:[]}},f={messages:[],parties:{},isLoading:!0,isUnsubscribed:!1,intents:[]},p=n(64245),m={onInitialState:(0,p.event)(),onChange:(0,p.event)()},g={getDashboardConfig:(0,p.event)(),getMonitoringConfig:(0,p.event)(),subscribeForTeamsStats:(0,p.event)(),unsubscribeFromTeamsStats:(0,p.event)(),setSelectedTeamId:(0,p.event)(),setIncludeLoggedOut:(0,p.event)(),setShowSubTeamOnly:(0,p.event)(),updateSelectedSubTeamUserIds:(0,p.event)(),subscribeToUserDetails:(0,p.event)(),unsubscribeFromUserDetails:(0,p.event)(),addKeepMonitoringUser:(0,p.event)(),removeKeepMonitoringUser:(0,p.event)(),resetMonitoringColumns:(0,p.event)(),resizeMonitoringColumns:(0,p.event)(),changeMonitoringServices:(0,p.event)(),saveMonitoringConfigAsSystem:(0,p.event)(),updateMetrics:(0,p.event)(),updateScrollingState:(0,p.event)(),saveTableConfig:(0,p.event)(),deleteTableConfig:(0,p.event)(),saveThresholdsConfig:(0,p.event)(),setDefaultSystemThresholds:(0,p.event)(),setAlertIntents:(0,p.event)(),setAgentState:(0,p.event)(),logoutAgent:(0,p.event)(),seeAgentScreen:(0,p.event)(),pullAgentScreen:(0,p.event)(),subscribeToItemPeek:(0,p.event)(),unsubscribeFromItemPeek:(0,p.event)(),closeIntentAlert:(0,p.event)()},h=n(68939);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function C(e){return!!e.isGroup}function I(e){return!C(e)}function w(e){return I(e)&&!!e.isSystem}var E,O=["name","display_name"],T=(E=O,function(e){if(Array.isArray(e))return v(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(["agent_preview_duration","login_time","active_item_talk_duration","active_item_hold_duration","state_duration","agent_average_idle_time","agent_average_preview_time","agent_idle_time","agent_total_acw_time","agent_total_break_time","agent_total_busy_time","agent_total_ready_time","calls_average_acw_time_per_day","calls_average_handling_time_per_day","in_calls_duration_average_per_day","in_calls_duration_total_per_day","in_ewt","in_max_wait_time","out_calls_duration_average_per_day","out_calls_duration_total_per_day","active_item_qm_is_recording","active_item_sentiment","state_text","custom:checkbox","custom:status","custom:interactions"]);function D(e,t){return I(e)&&e.parentId===t&&e.id==="".concat(t,"_index")}function A(){var e="_group_".concat((0,h.uuid)());return{groupId:e,indexMetricId:"".concat(e,"_index")}}var P,R=function(e){var t=100/(e.filter((function(e){return e.v})).length+1),n=0;return e.map((function(e){return S(b({},e),{idx:e.v||e.isSystem?n++:-1,v:!!e.v,w:O.includes(String(e.id))?"".concat(2*t,"%"):"".concat(t,"%"),sW:O.includes(String(e.id))?"200px":"100px",asc:!!e.asc})}))},k=R([{id:"name",v:!0},{id:"agents_busy",v:!0},{id:"agents_not_ready",v:!0},{id:"agents_ready",v:!0},{id:"agents_logged",v:!0},{id:"agent_occupancy",v:!0},{id:"in_calls_handled_per_day",v:!0},{id:"calls_average_handling_time_per_day",v:!0},{id:"calls_average_acw_time_per_day",v:!1},{id:"in_calls_first_time_handled_per_day",v:!1},{id:"agents_in_wrap_up",v:!1}]),N=R([{id:"name",v:!0},{id:"service_level",v:!0},{id:"in_calls_waiting",v:!0},{id:"in_callbacks_waiting",v:!0},{id:"in_max_wait_time",v:!0},{id:"in_calls_in_ivr",v:!0},{id:"in_calls_queued_per_day",v:!0},{id:"in_calls_handled_per_day",v:!0},{id:"in_calls_active_on_agents",v:!0},{id:"in_calls_short_abandoned_in_queue_per_day",v:!0},{id:"agents_logged",v:!0},{id:"agents_busy",v:!0},{id:"agents_ready",v:!1},{id:"agents_not_ready",v:!1},{id:"agents_in_wrap_up",v:!1},{id:"agent_occupancy",v:!1},{id:"agents_busy_on_service",v:!1},{id:"in_calls_received_per_day",v:!1},{id:"in_calls_rejected_per_day",v:!1},{id:"in_calls_abandoned_total_per_day",v:!1},{id:"in_calls_abandoned_percent_per_day",v:!1},{id:"in_calls_handled_percent_per_day",v:!1},{id:"in_calls_duration_average_per_day",v:!1},{id:"in_calls_duration_total_per_day",v:!1},{id:"in_transfers_received_per_day",v:!1},{id:"in_calls_self_serviced_per_day",v:!1},{id:"in_calls_abandoned_in_ivr_per_day",v:!1},{id:"in_calls_dropped_in_ivr_per_day",v:!1},{id:"in_calls_abandoned_in_queue_per_day",v:!1},{id:"in_calls_abandoned_in_queue_ratio_per_day",v:!1},{id:"in_calls_short_abandoned_in_queue_ratio_per_day",v:!1},{id:"in_calls_dropped_in_queue_per_day",v:!1},{id:"in_calls_routed_per_day",v:!1},{id:"in_calls_ringing",v:!1},{id:"in_calls_abandoned_ringing_per_day",v:!1},{id:"in_calls_dropped_ringing_per_day",v:!1},{id:"in_calls_disconnected_talking_per_day",v:!1},{id:"in_calls_dropped_talking_per_day",v:!1},{id:"in_calls_transferred_per_day",v:!1},{id:"in_calls_first_time_handled_per_day",v:!1},{id:"in_calls_first_time_queued_per_day",v:!1},{id:"in_calls_in_progress",v:!1},{id:"in_calls_put_on_hold_per_day",v:!1},{id:"in_calls_first_time_put_on_hold_per_day",v:!1},{id:"in_average_speed_of_answer",v:!1},{id:"in_ewt",v:!1},{id:"in_callbacks_requested_per_day",v:!1},{id:"out_calls_placed_per_day",v:!1},{id:"out_calls_in_progress",v:!1},{id:"out_calls_answered_per_day",v:!1},{id:"out_calls_abandoned_per_day",v:!1},{id:"out_calls_abandoned_in_ivr_per_day",v:!1},{id:"out_calls_dropped_in_ivr_per_day",v:!1},{id:"out_calls_abandoned_in_queue_per_day",v:!1},{id:"out_calls_dropped_in_queue_per_day",v:!1},{id:"out_calls_answered_ratio_per_day",v:!1},{id:"out_calls_dropped_ringing_per_day",v:!1},{id:"out_calls_routed_per_day",v:!1},{id:"out_calls_ringing",v:!1},{id:"out_calls_abandoned_ringing_per_day",v:!1},{id:"out_calls_rejected_per_day",v:!1},{id:"out_calls_handled_per_day",v:!1},{id:"out_calls_active_on_agents",v:!1},{id:"out_calls_disconnected_talking_per_day",v:!1},{id:"out_calls_dropped_talking_per_day",v:!1},{id:"out_calls_transferred_per_day",v:!1},{id:"out_calls_unattended_per_day",v:!1},{id:"out_calls_unattended_ratio_per_day",v:!1},{id:"out_calls_duration_average_per_day",v:!1},{id:"out_calls_duration_total_per_day",v:!1},{id:"calls_average_handling_time_per_day",v:!1},{id:"out_calls_abandoned_ratio_per_day",v:!1},{id:"out_calls_abandoned_in_ivr_ratio_per_day",v:!1},{id:"out_calls_abandoned_in_queue_ratio_per_day",v:!1},{id:"in_service_changed_per_day",v:!1},{id:"in_service_change_received_per_day",v:!1},{id:"in_email_carried_over",v:!1},{id:"in_email_carried_over_new",v:!1},{id:"in_email_processed_replied_per_day",v:!1},{id:"in_email_processed_noreply_per_day",v:!1},{id:"in_email_received_new_per_day",v:!1},{id:"in_email_waiting_in_pq_breached_sla",v:!1},{id:"in_email_waiting_in_personal_queues",v:!1},{id:"in_email_handled_new_per_day",v:!1},{id:"in_email_rejected_per_day",v:!1},{id:"in_email_spam",v:!1},{id:"in_email_trash",v:!1},{id:"in_emails_joined_existing_cases",v:!1},{id:"service_level_per_day",v:!1}]),M=R([{id:"display_name",v:!0},{id:"state_duration",v:!0},{id:"active_item_sentiment",v:!0},{id:"active_item_talk_duration",v:!0},{id:"_group_state_index",v:!1,parentId:"_group_state",isSystem:!0},{id:"active_item_party_name",v:!0,parentId:"_group_state"},{id:"active_item_service_name",v:!0,parentId:"_group_state"},{id:"active_item_hold_duration",v:!0,parentId:"_group_state"},{id:"login_time",v:!0,parentId:"_group_state"},{id:"agent_idle_time",v:!0,parentId:"_group_state"},{id:"agent_preview_duration",v:!0,parentId:"_group_state"},{id:"_group_states_daily_index",v:!1,parentId:"_group_states_daily",isSystem:!0},{id:"agent_total_ready_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_not_ready_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_break_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_busy_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_acw_time",v:!0,parentId:"_group_states_daily"},{id:"agent_occupancy",v:!0,parentId:"_group_states_daily"},{id:"agent_average_idle_time",v:!0,parentId:"_group_states_daily"},{id:"agent_average_preview_time",v:!0,parentId:"_group_states_daily"},{id:"calls_average_acw_time_per_day",v:!0,parentId:"_group_states_daily"},{id:"_group_out_daily_index",v:!1,parentId:"_group_out_daily",isSystem:!0},{id:"out_calls_rejected_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_handled_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_transferred_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_dropped_talking_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_disconnected_talking_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_duration_average_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_duration_total_per_day",v:!0,parentId:"_group_out_daily"},{id:"_group_in_daily_index",v:!1,parentId:"_group_in_daily",isSystem:!0},{id:"in_transfers_received_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_rejected_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_handled_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_first_time_handled_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_transferred_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_put_on_hold_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_first_time_put_on_hold_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_dropped_talking_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_disconnected_talking_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_duration_average_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_duration_total_per_day",v:!0,parentId:"_group_in_daily"},{id:"calls_average_handling_time_per_day",v:!0,parentId:"_group_in_daily"},{id:"_group_in_email_daily_index",v:!1,parentId:"_group_in_email_daily",isSystem:!0},{id:"in_emails_joined_existing_cases",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_carried_over",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_carried_over_new",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_offered_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_pulled_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_rejected_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_handled_new_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_processed_replied_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"_group_surveys_daily_index",v:!1,parentId:"_group_surveys_daily",isSystem:!0},{id:"agent_success_ratio_per_day",v:!0,parentId:"_group_surveys_daily"},{id:"agent_fcr",v:!0,parentId:"_group_surveys_daily"},{id:"agent_nps",v:!0,parentId:"_group_surveys_daily"},{id:"agent_csat",v:!0,parentId:"_group_surveys_daily"},{id:"agent_cm1",v:!0,parentId:"_group_surveys_daily"},{id:"agent_cm2",v:!0,parentId:"_group_surveys_daily"},{id:"_group_records_daily_index",v:!1,parentId:"_group_records_daily",isSystem:!0},{id:"records_accepted_per_day",v:!0,parentId:"_group_records_daily"},{id:"records_skipped_per_day",v:!0,parentId:"_group_records_daily"},{id:"records_skipped_ratio_per_day",v:!0,parentId:"_group_records_daily"},{id:"records_with_assigned_agents_completed",v:!0,parentId:"_group_records_daily"},{id:"records_with_assigned_agents_remaining",v:!0,parentId:"_group_records_daily"},{id:"_group_remainders_index",v:!1,parentId:"_group_remainders",isSystem:!0},{id:"agent_calendar_overdue",v:!0,parentId:"_group_remainders"},{id:"agent_calendar_pending",v:!0,parentId:"_group_remainders"},{id:"agent_current_number_interactions",v:!1},{id:"active_item_qm_is_recording",v:!1},{id:"state_text",v:!1},{id:"in_email_processed_noreply_per_day",v:!1},{id:"in_email_waiting_in_personal_queues",v:!1},{id:"in_email_waiting_in_pq_breached_sla",v:!1},{id:"out_email_waiting_in_personal_queues",v:!1},{id:"in_service_changed_per_day",v:!1},{id:"in_calls_active_on_agents",v:!1},{id:"last_alert",v:!1}]),j=(P=0,[{id:"_group_state"},{id:"_group_states_daily"},{id:"_group_out_daily"},{id:"_group_in_daily"},{id:"_group_in_email_daily"},{id:"_group_surveys_daily"},{id:"_group_records_daily"},{id:"_group_remainders"}].map((function(e){return S(b({},e),{isGroup:!0,idx:P++})}))),x={TEAMS_COLUMN_CONFIGS:k,SERVICES_COLUMN_CONFIGS:N,USERS_COLUMN_CONFIGS:M,SERVICES_CONFIGS:{}},L={groups:{TEAMS_COLUMN_CONFIGS:[],USERS_COLUMN_CONFIGS:j,SERVICES_COLUMN_CONFIGS:[],SERVICES_CONFIGS:[]}},K=["acd_state","active_item_id","capacity","extension","firstname","is_logged","is_super","items","lastname","photo_id","presence_state","reason","user_id"],F=["acdState","activeItemId","capacity","extension","firstName","isLogged","isSuper","items","lastName","photoId","presenceState","reason","userId","userType"],$=["direction","hold_duration","item_id","media_type","party_name","qm_is_recording","qm_monitor_mode","qm_monitored_item_id","sentiment","service_name","state","talk_duration"],U=["direction","id","mediaType","partyName","qmIsRecording","qmMonitorItemId","qmMonitorMode","sentiment","serviceName","state","talkDuration"]},54124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StatsStateImpl:()=>Ce,convertTableTypeToConfig:()=>T,getMonitoringUserActiveItem:()=>D});var r=n(2509),a=n(40381),o=n(16152),i=n(2122),s=n(27385),c=n(26220),u=n(18189),l=n(50944),d=n(26552),_=n(68939);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var y="INTENTS_TEAM_STATS",b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getAllIntents",value:function(){var e=this;return m((function(){var t,n,r;return v(this,(function(a){switch(a.label){case 0:return[4,e.transport.dispatch.ia_intents()];case 1:return t=a.sent(),n=t.result,(null==(r=t.error)?void 0:r.message)||!n?(c.bpLogger.error(null==r?void 0:r.message),[2]):(e.produceState((function(e){e.intents.all=n||[]})),[2])}}))}))()}},{key:"getAlertIntents",value:function(){var e=this;return m((function(){var t,n,r,a;return v(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.transport.dispatch.agent_get_user_data({types:u.userDataTypes.INTENT_ALERTS_CFG})];case 1:return n=o.sent(),r=JSON.parse((null===(t=n.data[0])||void 0===t?void 0:t.value)||"[]"),n.data[0]&&(Array.isArray(r)||(0,d.every)(r,(function(e){return"string"==typeof e})))?(e.produceState((function(e){e.intents.alerts=r,e.intents.dataId=n.data[0].data_id})),[3,3]):(e.produceState((function(e){e.intents.alerts=[],e.intents.dataId=void 0})),[2]);case 2:return a=o.sent(),c.bpLogger.error(a),[3,3];case 3:return[2]}}))}))()}},{key:"setAlertIntents",value:function(e){try{var t=this.stateData.intents.dataId,n=JSON.stringify(e);t?this.transport.dispatch.agent_update_user_data({value:n,data_id:t,is_system:"0"}):this.transport.dispatch.agent_add_user_data({value:n,data_id:t||(0,_.uuid)(),type:u.userDataTypes.INTENT_ALERTS_CFG,is_system:"0"}),this.produceState((function(t){t.intents.alerts=e}))}catch(r){c.bpLogger.error(r)}}},{key:"closeIntentAlert",value:function(e){this.produceState((function(t){var n=t.intentAlerts.find((function(t){return t.id===e}));n&&(n.closed=!0)}))}},{key:"subscribeForIntentsTeamsStats",value:function(){this.transport.dispatch.agent_subscribe_team_stats({type:y,team_id:"",include_logged_out:(0,l.booleanToTransport)(!1),team_fields:{},service_fields:{},exclude_services:{},user_fields:(0,l.toKVArray)(["user_id","firstname","lastname","items"]),item_fields:(0,l.toKVArray)(["item_id","intents","party_name","media_type"])})}},{key:"unsubscribeFromIntentsTeamsStats",value:function(){this.transport.dispatch.agent_unsubscribe_team_stats({type:y})}},{key:"onIncomingIntentTeamStats",value:function(e){var t=this;if(e.type===y){var n=this.sessionConnector.getStateData().displayNameFormat,r=(0,l.convertKVArray)(e.user_stats).reduce((function(e,r){return(0,l.convertKVArray)(r.items||{}).forEach((function(a){Object.entries(a.intents||{}).forEach((function(o){var i=h(o,2),c=i[0],u=i[1];if(t.stateData.intents.alerts.includes(c)){var l=t.stateData.intents.all.find((function(e){return e.id===c})),d=t.stateData.intentAlerts.find((function(e){var t=e.intentId,n=e.itemId,o=e.userId;return t===c&&o===r.user_id&&n===a.item_id}));e.push({id:(null==d?void 0:d.id)||(0,_.uuid)(),intentId:c,userId:r.user_id,itemId:a.item_id,timestamp:Number(u),closed:(null==d?void 0:d.closed)||!1,intentMessage:(null==l?void 0:l.name)||"",agentName:(0,s.formatFullName)(n,r.firstname,r.lastname),customerName:a.party_name||"",mediaType:a.media_type})}}))})),e}),[]);this.produceState((function(e){e.intentAlerts=(0,i.orderBy)(r,"timestamp","desc")}))}}}])&&g(t.prototype,n),r&&g(t,r),e}();function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(){return(0,_.uuid)().toUpperCase()};function T(e){return"teams"===e?"TEAMS_COLUMN_CONFIGS":"services"===e?"SERVICES_COLUMN_CONFIGS":"USERS_COLUMN_CONFIGS"}function D(e){var t=e.active_item_id;return e.items&&(0,l.convertKVArray)(e.items).find((function(e){return e.item_id===t}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){if(!R(n))return e;var r={id:n.party_id,type:n.type,firstName:void 0,lastName:void 0,userId:void 0,contactId:void 0,isQm:(0,l.transportToBoolean)(n.is_qm),qmMode:n.qm_mode};switch(n.type){case"scenario":r.lastName=n.entry_name;break;case"internal":r.firstName=n.first_name,r.lastName=n.last_name,r.userId=n.user_id;break;case"external":if(n.contact_id){var a=t.find((function(e){return e.Id.oid===n.contact_id}));r.contactId=n.contact_id,r.firstName=null==a?void 0:a.firstName,r.lastName=null==a?void 0:a.lastName}else r.firstName=n.first_name,r.lastName=n.last_name}return e[r.id]=I({},e[r.id]||{},r),e}),{})}function P(e){return E(e).sort((function(e,t){return e.timestamp-t.timestamp}))}function R(e){return"party_joined"===e.event||"party_changed"===e.event}function k(e){return e?"scenario"===e.type?"scenario":"regular":"unknown"}function N(e){return w(I({},e),{systemType:"party_connected",type:"system"})}function M(e){return w(I({},e),{systemType:"party_left",type:"system"})}function j(e){return!((0,l.transportToBoolean)(e.is_qm)||e.qm_mode&&"participate"!==e.qm_mode)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,s,"next",e)}function s(e){L(o,r,a,i,s,"throw",e)}i(void 0)}))}}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function q(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var H="adSupervisionShowLoggedOut",V="adSupervisionShowSubTeamOnly",W="MONITORING_TEAMS_STATS",z="MONITORING_TEAM_STATS",Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"onIncomingMonitoringAgentStats",value:function(e){var t=e.stats;this.produceState((function(e){e.agentStats=U({},e.agentStats,function(e){var t={};return Object.values(e).forEach((function(e){var n=e.service_id;t[n]=Object.values(e.stats).map((function(e){return I({},e)}))})),t}(t))}))}},{key:"onIncomingMonitoringTeamsStats",value:function(e){e.type===W&&this.produceState((function(t){t.monitoringTeamsStats=function(e){var t={};return Object.values(e.stats).forEach((function(e){var n=e.team_id;n&&(t[n]=I({},e))})),t}(e)}))}},{key:"onIncomingMonitoringTeamStats",value:function(e){e.type===z&&this.produceState((function(t){t.monitoringTeamStats=function(e){var t={services:{},serviceSummary:{},users:{}};return Object.values(e.service_stats).forEach((function(e){var n=e.service_id;n&&(t.services[n]=I({},e))})),t.serviceSummary=I({},e.service_total_stats),t.users={},Object.values(e.user_stats).forEach((function(e){var n=e.user_id;if(n){t.users[n]=I({},e);var r,a=null==(r=D(e))?void 0:r.sentiment;a&&(t.users[n].active_item_sentiment=a)}})),t}(e)}))}},{key:"subscribeForMonitoringTeamsStats",value:function(){this.updateTeamsStatsSubscription("teams"),this.updateTeamsStatsSubscription("team")}},{key:"unsubscribeMonitoringFromTeamsStats",value:function(){this.transport.dispatch.agent_unsubscribe_teams_stats({type:W}),this.transport.dispatch.agent_unsubscribe_team_stats({type:z})}},{key:"getDashboardConfig",value:function(){var e=this;this.transport.dispatch.agent_dashboard_config().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){var a=function(e){var t=e[0];if(!t)throw Error("No config returned from agent_query.agent_dashboard_config()");return{enabled:"1"===t.enabled,rotatePeriod:Number(t.rotate_period)}}(n);a&&e.produceState((function(e){e.dashboardConfig=a}))}else c.bpLogger.error(null==r?void 0:r.message)}))}},{key:"getMonitoringConfig",value:function(){this.transport.dispatch.agent_get_user_data({types:"MONITORING_CFG_NEW_AD",is_system:(0,l.booleanToTransport)(!0)}).then(this.onMonitoringConfig),this.transport.dispatch.agent_get_user_data({types:"MONITORING_CFG_NEW_AD",is_system:(0,l.booleanToTransport)(!1)}).then(this.onMonitoringConfig)}},{key:"updateSelectedSubTeamUserIds",value:function(e){this.produceState((function(t){(0,d.assertDefined)(t.monitoringConfig),t.monitoringConfig.additionalData.selectedSubTeamUserIds=e})),this.updateCurrentMonitoringConfig({additionalData:{selectedSubTeamUserIds:e}})}},{key:"saveMonitoringConfigAsSystem",value:function(e){var t=(this.stateData.systemMonitoringConfig||{}).id,n=this.stateData.monitoringConfig||{},r=n.configs,a=n.additionalData,o=void 0===a?{}:a,i=(this.stateData.systemMonitoringConfig||{}).configs,s=t||O(),c=this.getConfigName(e);(0,d.assertDefined)(r),(0,d.assertDefined)(i),this.produceState((function(e){var t,n;(0,d.assertDefined)(null===(n=e.systemMonitoringConfig)||void 0===n||null===(t=n.configs)||void 0===t?void 0:t[c]),(0,d.assertDefined)(r[c]),e.systemMonitoringConfig.id=s,e.systemMonitoringConfig.configs=B(U({},e.systemMonitoringConfig.configs),$({},c,r[c]))})),this.saveMonitoringConfig({id:s,configs:B(U({},i),$({},c,r[c])),createNew:!t,isSystem:!0,additionalData:o})}},{key:"setSelectedTeamId",value:function(e){this.produceState((function(t){(0,d.assertDefined)(t.monitoringConfig),t.monitoringConfig.localData.selectedTeamId=e})),this.updateTeamsStatsSubscription("team"),this.getAvailableTeams()}},{key:"setIncludeLoggedOut",value:function(e){this.produceState((function(t){(0,d.assertDefined)(t.monitoringConfig),t.monitoringConfig.localData.includeLoggedOut=e})),this.updateTeamsStatsSubscription("team"),this.localSettings.set(H,e)}},{key:"setShowSubTeamOnly",value:function(e){this.produceState((function(t){(0,d.assertDefined)(t.monitoringConfig),t.monitoringConfig.localData.showSubTeamOnly=e})),this.localSettings.set(V,e)}},{key:"changeMonitoringServices",value:function(e){var t=(this.stateData.monitoringConfig||{}).configs,n=U({},e.services);if(t&&Object.keys(n).length){var r=(t.SERVICES_CONFIGS[e.teamId]||[]).map((function(e){if(n[e.id]){var t=n[e.id].visibility;if(delete n[e.id],"boolean"==typeof t)return B(U({},e),{v:t})}return e}));Object.keys(n).forEach((function(e){r.push({id:e,idx:r.length,v:n[e].visibility||!1})}));var a=B(U({},t),{SERVICES_CONFIGS:B(U({},t.SERVICES_CONFIGS),$({},e.teamId,r))});0===r.length&&delete a.SERVICES_CONFIGS[e.teamId],this.produceState((function(e){(0,d.assertDefined)(e.monitoringConfig),e.monitoringConfig.configs=a})),this.updateCurrentMonitoringConfig({configs:a}),this.updateTeamsStatsSubscription("team")}}},{key:"updateMetrics",value:function(e){var t=this.stateData.monitoringConfig||{},n=t.id,r=t.configs,a=t.additionalData,o=n||O();if(r){var i=this.getConfigName(e.table),s=B(U({},r),$({},i,e.metrics)),c=B(U({},null==a?void 0:a.groups),$({},i,e.groups));this.produceState((function(t){var n,r;(0,d.assertDefined)(null===(r=t.monitoringConfig)||void 0===r||null===(n=r.configs)||void 0===n?void 0:n[i]),t.monitoringConfig.id=o,t.monitoringConfig.configs=s,t.monitoringConfig.additionalData.groups=c,t.monitoringConfig.additionalData.savedConfigOriginId=e.savedConfigOriginId})),this.saveMonitoringConfig({id:o,additionalData:{savedConfigOriginId:e.savedConfigOriginId,groups:c},configs:s,createNew:!n}),"teams"===e.table?this.updateTeamsStatsSubscription("teams"):this.updateTeamsStatsSubscription("team")}}},{key:"saveTableConfig",value:function(e){var t,n,r,a,o=e.name,i=e.table,s=this.stateData.monitoringConfig,c=null!==(a=this.stateData.customConfigs)&&void 0!==a?a:{};(0,d.assertDefined)(s);var u=this.getConfigName(i),f=null===(t=s.configs)||void 0===t?void 0:t[u],p=null===(r=s.additionalData)||void 0===r||null===(n=r.groups)||void 0===n?void 0:n[u];(0,d.assertDefined)(f);var m,g=(0,_.uuid)(),h={id:g,name:o,configType:u,type:"custom_config",groups:p,metrics:f},v=B(U({},c),$({},u,q(null!==(m=c[u])&&void 0!==m?m:[]).concat([h])));this.produceState((function(e){e.customConfigs=v})),this.transport.dispatch.agent_add_user_data({data_id:g,type:"MONITORING_CFG_NEW_AD",value:JSON.stringify(h),is_system:(0,l.booleanToTransport)(!1)})}},{key:"deleteTableConfig",value:function(e,t){this.produceState((function(n){var r,a,o,i,s=null===(a=n.customConfigs)||void 0===a||null===(r=a[e])||void 0===r?void 0:r.findIndex((function(e){return e.id===t}));void 0!==s&&-1!==s&&(null===(i=n.customConfigs)||void 0===i||null===(o=i[e])||void 0===o||o.splice(s,1))})),this.transport.dispatch.agent_delete_user_data({data_id:t,is_system:(0,l.booleanToTransport)(!1)})}},{key:"resetMonitoringColumns",value:function(e){var t,n,r,a=null===(t=this.stateData.systemMonitoringConfig)||void 0===t?void 0:t.configs,o=null===(n=this.stateData.systemMonitoringConfig)||void 0===n?void 0:n.additionalData.groups;if((null===(r=this.stateData.monitoringConfig)||void 0===r?void 0:r.configs)&&a&&o){var i=this.stateData.monitoringConfig.id,s=U({},this.stateData.monitoringConfig.configs),c=U({},this.stateData.monitoringConfig.additionalData),u=i||O();switch(e){case"teams":s.TEAMS_COLUMN_CONFIGS=a.TEAMS_COLUMN_CONFIGS,c.groups=B(U({},(null==c?void 0:c.groups)||{}),{TEAMS_COLUMN_CONFIGS:o.TEAMS_COLUMN_CONFIGS});break;case"services":s.SERVICES_COLUMN_CONFIGS=a.SERVICES_COLUMN_CONFIGS,c.groups=B(U({},(null==c?void 0:c.groups)||{}),{SERVICES_COLUMN_CONFIGS:o.SERVICES_COLUMN_CONFIGS});break;case"users":s.USERS_COLUMN_CONFIGS=a.USERS_COLUMN_CONFIGS,c.groups=B(U({},(null==c?void 0:c.groups)||{}),{USERS_COLUMN_CONFIGS:o.USERS_COLUMN_CONFIGS})}this.produceState((function(e){(0,d.assertDefined)(e.monitoringConfig),e.monitoringConfig.configs=s,e.monitoringConfig.additionalData=c})),this.saveMonitoringConfig({id:u,configs:s,additionalData:c,createNew:!i}),"teams"===e?this.updateTeamsStatsSubscription("teams"):this.updateTeamsStatsSubscription("team")}}},{key:"resizeMonitoringColumns",value:function(e){var t=(this.stateData.monitoringConfig||{}).configs;if(t){var n={teams:"TEAMS_COLUMN_CONFIGS",services:"SERVICES_COLUMN_CONFIGS",users:"USERS_COLUMN_CONFIGS"}[e.table],r=t[n];r=r.map((function(t){if(t.id in e.columns){var n=e.columns[t.id];return B(U({},t),$({},e.scrollEnabled?"sW":"w",n))}return t}));var a=B(U({},t),$({},n,r));this.produceState((function(e){(0,d.assertDefined)(e.monitoringConfig),e.monitoringConfig.configs=a})),this.updateCurrentMonitoringConfig({configs:a})}}},{key:"updateScrollingState",value:function(e){var t,n;(null===(t=this.stateData.monitoringConfig)||void 0===t?void 0:t.configs)&&(this.produceState((function(t){(0,d.assertDefined)(t.monitoringConfig),t.monitoringConfig.additionalData.scrolling||(t.monitoringConfig.additionalData.scrolling={}),t.monitoringConfig.additionalData.scrolling[e.table]=e.scrollingEnabled})),this.updateCurrentMonitoringConfig({additionalData:{scrolling:B(U({},null===(n=this.stateData.monitoringConfig)||void 0===n?void 0:n.additionalData.scrolling),$({},e.table,e.scrollingEnabled))}}))}},{key:"getConfigName",value:function(e){return{teams:"TEAMS_COLUMN_CONFIGS",services:"SERVICES_COLUMN_CONFIGS",users:"USERS_COLUMN_CONFIGS"}[e]}},{key:"onMonitoringConfig",value:function(e){var t=this;return K((function(){var n,a,o,i,s,c,u;return G(this,(function(d){switch(d.label){case 0:return n=null,a=(0,l.transportToBoolean)(e.is_system),[4,t.getStateFromStorage()];case 1:return i=null!==(o=d.sent())&&void 0!==o?o:{},s=Object.values(e.data).map((function(e){var t=e.data_id,n=e.type,r=e.value;return{id:t,type:n,value:JSON.parse(r)}})),c=s.reduce((function(e,t){var n=t.type,r=t.value;if("MONITORING_CFG_NEW_AD"!==n||"custom_config"!==r.type)return e;var a=r,o=a.configType;return e[o]=q(e[o]||[]).concat([a]),e}),{}),s.forEach((function(e){var r=e.id,o=e.type,s=e.value;if("MONITORING_CFG_NEW_AD"===o&&s&&"custom_config"!==s.type){var u,l=null!==(u=s.additionalData)&&void 0!==u?u:{};delete s.additionalData,n=!0,t.setMonitoringConfig({config:{id:r,configs:s,additionalData:l,localData:i},customConfigs:c,isSystem:a})}})),n||(!a&&t.stateData.systemMonitoringConfig?t.setMonitoringConfig({config:B(U({id:null},structuredClone(t.stateData.systemMonitoringConfig)),{localData:i}),customConfigs:c,isSystem:a}):(u={id:null,configs:r.monitoringInitialConfigs,additionalData:r.monitoringInitialAdditionalData,localData:i},t.setMonitoringConfig({config:u,customConfigs:c,isSystem:a}))),t.isTeamStatsSubscribed&&t.subscribeForMonitoringTeamsStats(),[2]}}))}))()}},{key:"setMonitoringConfig",value:function(e){var t=e.config,n=e.customConfigs,r=e.isSystem;(null==t?void 0:t.configs)&&(t.configs=this.normalizeMonitoringConfigs(structuredClone(t.configs))),this.produceState((function(e){r?e.systemMonitoringConfig=t:e.monitoringConfig=t,e.customConfigs=n}))}},{key:"saveMonitoringConfig",value:function(e){var t=e.id,n=e.configs,r=e.createNew,a=e.additionalData,o=e.isSystem,i=void 0!==o&&o;r?this.transport.dispatch.agent_add_user_data({data_id:t,type:"MONITORING_CFG_NEW_AD",value:JSON.stringify(B(U({},n),{additionalData:a})),is_system:(0,l.booleanToTransport)(i)}):this.transport.dispatch.agent_update_user_data({data_id:t,value:JSON.stringify(B(U({},n),{additionalData:a})),is_system:(0,l.booleanToTransport)(i)})}},{key:"updateTeamsStatsSubscription",value:function(e){var t,n=this.stateData.monitoringConfig||{},r=n.configs,a=n.localData,o=null!==(t=null==a?void 0:a.selectedTeamId)&&void 0!==t?t:"",i=null==a?void 0:a.includeLoggedOut;if(r&&this.isTeamStatsSubscribed){if("teams"===e){var s=r.TEAMS_COLUMN_CONFIGS.filter((function(e){return e.v})).map((function(e){return e.id}));s.push("team_id"),this.transport.dispatch.agent_subscribe_teams_stats({type:W,team_fields:(0,l.toKVArray)(s)})}if("team"===e){var c={services:{},users:{}};if(r.SERVICES_COLUMN_CONFIGS.forEach((function(e){c.services[e.id]=e.v})),r.USERS_COLUMN_CONFIGS.forEach((function(e){c.users[e.id]=e.v})),void 0!==o){var d=u.teamStatsTeamFields.filter((function(e){var t=function(e){return c.services[e]};switch(e){case"service_id":return!0;case"service_level_target":case"service_level_threshold_time":return t("service_level");default:return t(e)}})),_=d.slice(0),f=u.teamStatsUserFields.filter((function(e){var t=function(e){return c.users[e]};switch(e){case"active_item_sentiment":case"acd_state":case"acd_next_state":case"active_item_id":case"client_type":case"extension":case"is_agent":case"is_logged":case"is_mobile":case"items":case"login_id":case"phone_exists":case"presence_state":case"reason":case"next_reason":case"user_id":return!0;case"firstname":case"lastname":return t("display_name");default:return t(e)}})),p=u.teamStatsItemFields.slice(0),m=(r.SERVICES_CONFIGS[o]||[]).filter((function(e){return!e.v})).map((function(e){return e.id}));this.transport.dispatch.agent_subscribe_team_stats({type:z,team_id:o,team_fields:(0,l.toKVArray)(d),service_fields:(0,l.toKVArray)(_),user_fields:(0,l.toKVArray)(f),item_fields:(0,l.toKVArray)(p),exclude_services:(0,l.toKVArray)(m),include_logged_out:(0,l.booleanToTransport)(i||!1)})}}}}},{key:"updateCurrentMonitoringConfig",value:function(e){var t=e.configs,n=e.additionalData,r=this.stateData.monitoringConfig;(0,d.assertDefined)(r);var a=r.id,o=a||O();a||this.produceState((function(e){(0,d.assertDefined)(e.monitoringConfig),e.monitoringConfig.id=o})),this.saveMonitoringConfig({id:o,configs:U({},r.configs,t),additionalData:U({},r.additionalData,n),createNew:!a})}},$({key:"getStateFromStorage"},"value",(function(){var e=this;return K((function(){var t,n,r;return G(this,(function(a){switch(a.label){case 0:return[4,e.localSettings.getSettings(H,V)];case 1:return t=a.sent(),n=t.adSupervisionShowLoggedOut,r=t.adSupervisionShowSubTeamOnly,[2,{includeLoggedOut:"boolean"==typeof n&&n,showSubTeamOnly:"boolean"==typeof r&&r}]}}))}))()})),{key:"normalizeMonitoringConfigs",value:function(e){return r.monitoringInitialConfigs.USERS_COLUMN_CONFIGS.forEach((function(t){e.USERS_COLUMN_CONFIGS.some((function(e){return e.id===t.id}))||e.USERS_COLUMN_CONFIGS.push(t)})),r.monitoringInitialConfigs.TEAMS_COLUMN_CONFIGS.forEach((function(t){e.TEAMS_COLUMN_CONFIGS.some((function(e){return e.id===t.id}))||e.TEAMS_COLUMN_CONFIGS.push(t)})),r.monitoringInitialConfigs.SERVICES_COLUMN_CONFIGS.forEach((function(t){e.SERVICES_COLUMN_CONFIGS.some((function(e){return e.id===t.id}))||e.SERVICES_COLUMN_CONFIGS.push(t)})),e.USERS_COLUMN_CONFIGS=e.USERS_COLUMN_CONFIGS.filter((function(e){return e.isSystem||r.monitoringInitialConfigs.USERS_COLUMN_CONFIGS.some((function(t){return t.id===e.id}))})),e.TEAMS_COLUMN_CONFIGS=e.TEAMS_COLUMN_CONFIGS.filter((function(e){return e.isSystem||r.monitoringInitialConfigs.TEAMS_COLUMN_CONFIGS.some((function(t){return t.id===e.id}))})),e.SERVICES_COLUMN_CONFIGS=e.SERVICES_COLUMN_CONFIGS.filter((function(e){return e.isSystem||r.monitoringInitialConfigs.SERVICES_COLUMN_CONFIGS.some((function(t){return t.id===e.id}))})),e}},{key:"getAvailableTeams",value:function(){var e=this;return K((function(){var t,n,r;return G(this,(function(a){switch(a.label){case 0:return e.produceState((function(e){e.teamServicesInfo=[]})),[4,e.transport.dispatch.team_service_info({team_id:(null===(t=e.stateData.monitoringConfig)||void 0===t?void 0:t.localData.selectedTeamId)||void 0})];case 1:return n=a.sent(),r=n.result,e.produceState((function(e){e.teamServicesInfo=r||[]})),[2]}}))}))()}}])&&F(t.prototype,n),a&&F(t,a),e}(),Q=n(32669);function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){X(o,r,a,i,s,"next",e)}function s(e){X(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ae="EXTENDED_MONITORING",oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,n=[{key:"subscribeToUserDetails",value:function(e){this.produceState((function(t){e.forEach((function(e){var n=t.userDetails[e];t.userDetails[e]=n}))})),this.updateSubscribedUserDetails()}},{key:"unsubscribeFromUserDetails",value:function(e){var t=e||Object.keys(this.stateData.userDetails);this.produceState((function(e){t.forEach((function(t){delete e.userDetails[t]}))})),this.updateSubscribedUserDetails(!0)}},{key:"clearUserDetailsSubscription",value:function(){var e=ne(Object.keys(this.stateData.userDetails)).concat(ne(this.stateData.keepMonitoredUsers));this.produceState((function(t){e.forEach((function(e){delete t.userDetails[e]})),t.keepMonitoredUsers=[]})),this.transport.dispatch.agent_unsubscribe_users_details({type:ae})}},{key:"onIncomingAgentUsersDetails",value:function(e){e.type===ae&&(this.produceState((function(t){Object.values(e.users).map(Q.convertUserDetailsItem).forEach((function(e){t.userDetails[e.userId]=e}))})),this.updateKeepMonitoringInteractions())}},{key:"addKeepMonitoringUser",value:function(e){this.produceState((function(t){t.keepMonitoredUsers.push(e)})),this.updateSubscribedUserDetails()}},{key:"removeKeepMonitoringUser",value:function(e){this.produceState((function(t){t.keepMonitoredUsers.filter((function(t){return t!==e}))})),this.updateSubscribedUserDetails(!0)}},{key:"setAgentState",value:function(e,t){this.transport.dispatch.agent_change_state({acd_state:t,user_id:e})}},{key:"logoutAgent",value:function(e){this.transport.dispatch.agent_force_logout({agent_id:e})}},{key:"pullAgentScreen",value:function(e){var t=e.userId,n=e.interactionId,r=this.sessionConnector.getStateData().userId;(0,d.assertDefined)(r),this.transport.dispatch.agent_message({user_id:t,message:{message_type:"take_screenpop",item_id:n,user_id:r}})}},{key:"seeAgentScreen",value:function(e){var t=this;return Z((function(){var n;return re(this,(function(r){switch(r.label){case 0:return[4,t.transport.dispatch.agent_get_screen_recorder()];case 1:return n=r.sent(),t.bpClientStateConnector.dispatch.viewUserScreen(e,n.sr_host,Number(n.sr_port)),[2]}}))}))()}},{key:"subscribeToItemPeek",value:function(e){if(this.stateData.peekItems[e]&&this.stateData.peekItems[e].isLoading)this.produceState((function(t){t.peekItems[e].isUnsubscribed=!1}));else{this.produceState((function(t){t.peekItems[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}({},r.INITIAL_PEEK_ITEM)}));var t,n=this;this.transport.dispatch.agent_item_peek_subscribe({item_id:e}).then((t=Z((function(t){var r,a,o,i,s;return re(this,(function(c){switch(c.label){case 0:return(null===(r=n.stateData.peekItems[e])||void 0===r?void 0:r.isUnsubscribed)?(n.produceState((function(t){t.peekItems[e].isLoading=!1})),n.unsubscribeFromItemPeek(e),[2]):(0,u.isIncomingErrorMessage)(t)?(t.error_code===u.incomingErrorMessageCodes.duplicate_subscription&&(n.produceState((function(t){t.peekItems[e].isLoading=!1})),n.unsubscribeFromItemPeek(e),n.subscribeToItemPeek(e)),[2]):(a=(0,l.convertKVArray)(t.transcript,(function(e){return e})),[4,n.getItemPeekInitialParties(a)]);case 1:return o=c.sent(),i=function(e,t){return P(e.reduce((function(n,r){if("intent_result"===r.event)return n;var a=t[r.party_id];switch(r.event){case"party_joined":case"party_changed":if("connected"!==r.status||!j(r))break;var o=N({id:(0,_.uuid)(),partyId:r.party_id,timestamp:parseInt(r.timestamp)});n.push(o);break;case"party_message":var i={id:r.msg_id||(0,_.uuid)(),partyId:r.party_id,timestamp:parseInt(r.timestamp),text:r.msg,type:k(a)};n.push(i);break;case"party_left":if("scenario"===a.type)break;var s=e.find((function(e){return"party_joined"===e.event&&e.party_id===a.id}));if(s&&R(s)&&!j(s))break;var c=M({id:(0,_.uuid)(),partyId:r.party_id,timestamp:parseInt(r.timestamp)});n.push(c)}return n}),[]))}(a,o),s=(d=a).reduce((function(e,t){if("intent_result"!==t.event)return e;var n=t.locations[0],r=d.find((function(e){return"msg_id"in e&&e.msg_id===(null==n?void 0:n.msg_id)})),a=r&&"msg"in r?r.msg.substring(parseInt((null==n?void 0:n.start_pos)||"0"),parseInt((null==n?void 0:n.end_pos)||"0")):"";return e.push({id:t.intent_id,name:t.intent_name,msgId:(null==n?void 0:n.msg_id)||"",text:a}),e}),[]),n.produceState((function(t){t.peekItems[e]={isLoading:!1,isUnsubscribed:!1,parties:o,messages:i,intents:s}})),[2]}var d}))})),function(e){return t.apply(this,arguments)}))}}},{key:"unsubscribeFromItemPeek",value:function(e){this.stateData.peekItems[e]&&this.stateData.peekItems[e].isLoading?this.produceState((function(t){t.peekItems[e].isUnsubscribed=!0})):(this.transport.dispatch.agent_item_peek_unsubscribe({item_id:e}),this.produceState((function(t){delete t.peekItems[e]})))}},{key:"onAgentItemPeekVoiceTranscriptData",value:function(e){if(this.stateData.peekItems[e.item_id]){var t=this.getParty(e.item_id,e.party_id),n={id:e.msg_id,text:e.transcript_data.t,timestamp:parseInt(e.transcript_data.e),partyId:e.party_id,type:k(t)};this.addMessage(e.item_id,n)}}},{key:"onAgentItemPeekChatTranscriptData",value:function(e){if(this.stateData.peekItems[e.item_id]){var t=e.timestamp?parseInt(e.timestamp):(new Date).getTime();switch(e.external_chat_action){case"agent_external_chat_party_joined":case"agent_external_chat_party_changed":var n=e.type;if("conference_peer"===n||"conference_link"===n)return;var r={id:e.party_id,type:n,firstName:e.first_name,lastName:e.last_name,userId:e.user_id,contactId:e.contact_id,isQm:(0,l.transportToBoolean)(e.is_qm),qmMode:e.qm_mode};switch(this.produceState((function(t){t.peekItems[e.item_id].parties[e.party_id]=r})),e.status){case"notifying":if(!j(e))break;var a=function(e){return w(I({},e),{systemType:"party_inviting",type:"system"})}({id:e.item_id,partyId:e.party_id,timestamp:t});this.addMessage(e.item_id,a);break;case"connected":if(!j(e))break;var o=N({id:e.item_id,partyId:e.party_id,timestamp:t});this.addMessage(e.item_id,o)}break;case"agent_external_chat_party_message":var i=this.getParty(e.item_id,e.party_id),s={id:e.msg_id,text:e.msg,timestamp:t,partyId:e.party_id,type:k(i)};this.addMessage(e.item_id,s);break;case"agent_external_chat_party_left":var c=this.stateData.peekItems[e.item_id].parties[e.party_id];if(c&&c.isQm&&"participate"!==c.qmMode)break;var u=M({id:e.item_id,partyId:e.party_id,timestamp:t});this.addMessage(e.item_id,u)}}}},{key:"onAgentItemPeekIntentResult",value:function(e){this.stateData.peekItems[e.item_id]&&this.produceState((function(t){var n=t.peekItems[e.item_id],r=n.intents,a=e.locations[0],o=n.messages.find((function(e){return e.id===(null==a?void 0:a.msg_id)})),i=o&&"text"in o?o.text.substring(parseInt((null==a?void 0:a.start_pos)||"0"),parseInt((null==a?void 0:a.end_pos)||"0")):"";r.push({id:e.intent_id,name:e.intent_name,msgId:(null==a?void 0:a.msg_id)||"",text:i})}))}},{key:"updateSubscribedUserDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.transport.dispatch.agent_unsubscribe_users_details({type:ae});var t=ne(Object.keys(this.stateData.userDetails)).concat(ne(this.stateData.keepMonitoredUsers));t.length&&this.transport.dispatch.agent_subscribe_users_details({users:(0,l.toKVArray)(t),type:ae,user_fields:(0,l.toKVArray)(r.SERVER_QM_USER_FIELDS),item_fields:(0,l.toKVArray)(r.SERVER_QM_ITEM_FIELDS)})}},{key:"updateKeepMonitoringInteractions",value:function(){var e=this,t=this.sessionConnector.getStateData().phoneNumber,n=void 0===t?"":t,r=this.interactionStateConnector.getStateData().items;Object.values(this.stateData.userDetails).filter((function(t){var n;return t&&e.stateData.keepMonitoredUsers.includes(t.userId)&&(null===(n=t.items)||void 0===n?void 0:n.length)})).reduce((function(e,t){return(null==t?void 0:t.items)?(null==t||t.items.forEach((function(t){"state"in t&&"delivered"!==t.state||r.some((function(e){var n;return(null===(n=e.scenarioData)||void 0===n?void 0:n.qmMonitoredItemId)===t.id}))||e.push(t.id)})),e):e}),[]).forEach((function(t){e.interactionStateConnector.dispatch.qmStartCall({mode:"monitor",itemId:t,extension:n})}))}},{key:"getItemPeekInitialParties",value:function(e){var t=this;return Z((function(){var n,r;return re(this,(function(a){switch(a.label){case 0:return n=e.reduce((function(e,t){return R(t)&&"external"===t.type&&t.contact_id?(e.includes(t.contact_id)||e.push(t.contact_id),e):e}),[]),[4,t.contactsStateConnector.dispatch.getContacts(n)];case 1:return r=a.sent(),[2,A(e,r)]}}))}))()}},{key:"getParty",value:function(e,t){var n;return null===(n=this.stateData.peekItems[e])||void 0===n?void 0:n.parties[t]}},{key:"addMessage",value:function(e,t){this.produceState((function(n){var r=n.peekItems[e],a=r.messages;"system"===t.type&&"party_connected"===t.systemType&&(a=a.filter((function(e){return!("system"===e.type&&"party_inviting"===e.systemType&&e.partyId===t.partyId)}))),a.push(t),r.messages=P(a)}))}}],n&&ee(t.prototype,n),a&&ee(t,a),e}();function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}function le(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function de(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"saveDefaultNotReadyThresholds",value:function(e){var t=e.system_reasons,n=e.reasons,a=de((0,l.convertKVArray)(t,(function(e){return e.name}))).concat(de((0,l.convertKVArray)(n,(function(e){return e.name}))));this.produceState((function(e){a.forEach((function(t){e.systemThresholds.config[(0,r.getNotReadyKey)(t)]=r.defaultNotReadyReasonThresholdConfig}))}))}},{key:"getThresholds",value:function(){this.transport.dispatch.agent_get_user_data({request_id:"THRESHOLDS:0",types:"THRESHOLD",is_system:"0"}).then(this.onThresholds).catch((function(e){return console.error(e)})),this.transport.dispatch.agent_get_user_data({request_id:"THRESHOLDS:1",types:"THRESHOLD",is_system:"1"}).then(this.onThresholds)}},{key:"onThresholds",value:function(e){var t=this;Object.values(e.data).forEach((function(n){if("THRESHOLD"===n.type)try{var r,a=n.value?JSON.parse(n.value):{},o=(0,l.transportToBoolean)(e.is_system),i=null!==(r=n.data_id)&&void 0!==r?r:(0,_.uuid)();o?t.produceState((function(e){e.systemThresholds={id:i,config:ue({},e.systemThresholds,a)}})):t.produceState((function(e){e.thresholds={id:i,config:a}}))}catch(s){c.bpLogger.error("onThresholds",s)}}))}},{key:"saveThresholdsConfig",value:function(e){var t,n=e.thresholds,r=null!==(t=this.stateData.thresholds.id)&&void 0!==t?t:(0,_.uuid)();this.produceState((function(e){e.thresholds.config=n})),this.transport.dispatch.agent_update_user_data({data_id:r,value:JSON.stringify(n),is_system:(0,l.booleanToTransport)(!1)})}},{key:"setDefaultSystemThresholds",value:function(e){var t,n=e.thresholds,r=null!==(t=this.stateData.systemThresholds.id)&&void 0!==t?t:(0,_.uuid)();this.produceState((function(e){(0,d.typedKeys)(n).forEach((function(t){var r=n[t];r&&(e.systemThresholds.config[t]=r),delete e.thresholds.config[t]}))})),this.transport.dispatch.agent_update_user_data({data_id:r,value:JSON.stringify(le(ue({},this.stateData.systemThresholds.config),{thresholds:n})),is_system:(0,l.booleanToTransport)(!0)})}}])&&se(t.prototype,n),a&&se(t,a),e}();function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t,n){return he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},he(e,t,n||e)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ye(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?fe(e):t;var n}function be(e,t){return be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},be(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var a=ve(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,e);var t,n,r,o=Se(i);function i(){var e;return pe(this,i),ge(fe(e=o.apply(this,arguments)),"isTeamStatsSubscribed",!1),ge(fe(e),"monitoringNS",(0,a.inheritConnector)(fe(e),new Y)),ge(fe(e),"thresholdsNS",(0,a.inheritConnector)(fe(e),new _e)),ge(fe(e),"intentsNS",(0,a.inheritConnector)(fe(e),new b)),ge(fe(e),"qualityManagementNS",(0,a.inheritConnector)(fe(e),new oe)),ge(fe(e),"onAgentWelcome",(function(t){e.thresholdsNS.saveDefaultNotReadyThresholds(t)})),ge(fe(e),"onAgentWelcomeReceived",(function(){var t=e.sessionConnector.getStateData().privileges;(t.SYS_VIEW_LIST_OF_AGENTS||t.SYS_VIEW_QUEUE_STATUS)&&(e.isTeamStatsSubscribed=!0,e.monitoringNS.getMonitoringConfig(),e.monitoringNS.subscribeForMonitoringTeamsStats(),e.thresholdsNS.getThresholds(),e.intentsNS.subscribeForIntentsTeamsStats(),e.intentsNS.getAllIntents(),e.intentsNS.getAlertIntents())})),ge(fe(e),"subscribeForTeamsStats",(function(){e.isTeamStatsSubscribed=!0,e.monitoringNS.subscribeForMonitoringTeamsStats(),e.intentsNS.subscribeForIntentsTeamsStats()})),ge(fe(e),"unsubscribeFromTeamsStats",(function(){e.isTeamStatsSubscribed&&(e.monitoringNS.unsubscribeMonitoringFromTeamsStats(),e.intentsNS.unsubscribeFromIntentsTeamsStats())})),ge(fe(e),"onIncomingTeamsStats",(function(t){e.monitoringNS.onIncomingMonitoringTeamsStats(t)})),ge(fe(e),"onIncomingTeamStats",(function(t){e.monitoringNS.onIncomingMonitoringTeamStats(t),e.intentsNS.onIncomingIntentTeamStats(t)})),e}return t=i,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_teams_stats:this.onIncomingTeamsStats,agent_team_stats:this.onIncomingTeamStats,agent_agent_stats:this.monitoringNS.onIncomingMonitoringAgentStats,agent_users_details:this.qualityManagementNS.onIncomingAgentUsersDetails,agent_item_peek_voice_transcript_data:this.qualityManagementNS.onAgentItemPeekVoiceTranscriptData,agent_item_peek_chat_transcript_data:this.qualityManagementNS.onAgentItemPeekChatTranscriptData,agent_item_peek_intent_result:this.qualityManagementNS.onAgentItemPeekIntentResult,agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({subscribeForTeamsStats:this.subscribeForTeamsStats,unsubscribeFromTeamsStats:this.unsubscribeFromTeamsStats,updateSelectedSubTeamUserIds:this.monitoringNS.updateSelectedSubTeamUserIds,getDashboardConfig:this.monitoringNS.getDashboardConfig,getMonitoringConfig:this.monitoringNS.getMonitoringConfig,saveMonitoringConfigAsSystem:this.monitoringNS.saveMonitoringConfigAsSystem,setSelectedTeamId:this.monitoringNS.setSelectedTeamId,setIncludeLoggedOut:this.monitoringNS.setIncludeLoggedOut,setShowSubTeamOnly:this.monitoringNS.setShowSubTeamOnly,changeMonitoringServices:this.monitoringNS.changeMonitoringServices,updateMetrics:this.monitoringNS.updateMetrics,saveTableConfig:this.monitoringNS.saveTableConfig,deleteTableConfig:this.monitoringNS.deleteTableConfig,resetMonitoringColumns:this.monitoringNS.resetMonitoringColumns,resizeMonitoringColumns:this.monitoringNS.resizeMonitoringColumns,updateScrollingState:this.monitoringNS.updateScrollingState,subscribeToUserDetails:this.qualityManagementNS.subscribeToUserDetails,unsubscribeFromUserDetails:this.qualityManagementNS.unsubscribeFromUserDetails,setAgentState:this.qualityManagementNS.setAgentState,logoutAgent:this.qualityManagementNS.logoutAgent,seeAgentScreen:this.qualityManagementNS.seeAgentScreen,pullAgentScreen:this.qualityManagementNS.pullAgentScreen,subscribeToItemPeek:this.qualityManagementNS.subscribeToItemPeek,unsubscribeFromItemPeek:this.qualityManagementNS.unsubscribeFromItemPeek,addKeepMonitoringUser:this.qualityManagementNS.addKeepMonitoringUser,removeKeepMonitoringUser:this.qualityManagementNS.removeKeepMonitoringUser,saveThresholdsConfig:this.thresholdsNS.saveThresholdsConfig,setDefaultSystemThresholds:this.thresholdsNS.setDefaultSystemThresholds,setAlertIntents:this.intentsNS.setAlertIntents,closeIntentAlert:this.intentsNS.closeIntentAlert}),this.sessionConnector.dispenser.subscribe({onAgentWelcomeReceived:this.onAgentWelcomeReceived}))}},{key:"cleanup",value:function(){he(ve(i.prototype),"cleanup",this).call(this),this.monitoringNS.unsubscribeMonitoringFromTeamsStats(),this.qualityManagementNS.clearUserDetailsSubscription(),this.intentsNS.unsubscribeFromIntentsTeamsStats(),this.isTeamStatsSubscribed=!1}},{key:"resetState",value:function(){he(ve(i.prototype),"resetState",this).call(this),this.monitoringNS.unsubscribeMonitoringFromTeamsStats(),this.qualityManagementNS.clearUserDetailsSubscription(),this.intentsNS.unsubscribeFromIntentsTeamsStats(),this.isTeamStatsSubscribed=!1}}])&&me(t.prototype,n),r&&me(t,r),i}(o.StateFactory.createBaseStateClass({name:"statsState",controlEvents:r.statsStateControlEvents,trackerEvents:r.statsStateTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["transport","sessionConnector","interactionStateConnector","localSettings","bpClientStateConnector","contactsStateConnector"],getInitialState:r.getInitialStatsState}))},27245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INITIAL_STATE:()=>i,MIN_QM_WIDTH:()=>o,SupervisionUIContextProvider:()=>S,useSupervisionUIContext:()=>I,useSupervisionUIContextProducer:()=>w,useSupervisionUIContextRef:()=>E});var r,a=n(2122),o=496,i={qmUserId:void 0,qmViewType:"floating",qmShowDetails:!1,qmFloatingState:"closed",qmAutofocusedIntentAlert:void 0,qmWidth:o,mainContentNode:null,setMainContentNode:a.noop,qmModalClose:void 0},s=n(52322),c=n(66029),u=n(63830),l=n.n(u),d=n(86702),_=n(84512),f=n(79607),p=n(13641),m=n(40381);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){var t=e.children,n=(0,c.useRef)(null),a=b((0,c.useState)(i),2),u=a[0],p=a[1],g=(0,m.useValueUpdated)(u.qmFloatingState),h=u.qmUserId,S=u.qmViewType,C=(0,m.useAsRef)(u),I=(0,m.useAsRef)(y(v({},C.current),{mainContentRef:n})),w=(0,c.useCallback)((function(e){var t=l()(C.current,e);C.current=t,p((function(e){return v({},e,t)}))}),[C]),E=(0,c.useCallback)((function(e){return w((function(t){t.qmShowDetails=e}))}),[w]),O=(0,c.useCallback)((function(e){return w((function(t){t.qmViewType=e}))}),[w]),T=(0,c.useCallback)((function(e){return w((function(t){t.qmWidth=e}))}),[w]),D=(0,c.useCallback)((function(e){return w((function(t){t.qmFloatingState=e}))}),[w]),A=(0,c.useMemo)((function(){return{state:u,produceState:w,stateRef:I}}),[u,w,I]);return(0,_.useLocalStorageForState)(u.qmWidth,"adQMWidth",T,o),(0,_.useLocalStorageForState)(u.qmViewType,"adQMViewType",O,"floating"),(0,_.useLocalStorageForState)(u.qmShowDetails,"adQMWShowDetails",E,!1),(0,c.useEffect)((function(){if(h)switch(S){case"floating":D("closed");break;case"docked":D("pinned");break;case"overlay":D("floating")}else D("closed")}),[S,h,D]),(0,c.useEffect)((function(){g&&"closed"===u.qmFloatingState&&"floating"!==S&&w((function(e){e.qmUserId=void 0}))}),[g,u.qmFloatingState,S,h,D,w]),(0,f.useOnLogout)((function(){p(i)})),r||((r=(0,d.createContext)(A)).displayName="SupervisionUIContext"),(0,s.jsx)(r.Provider,{value:A,children:t})},C=(0,p.createUIStateHooks)("supervisionUIContext",(function(){return r})),I=C.useSupervisionUIContext,w=C.useSupervisionUIContextProducer,E=C.useSupervisionUIContextRef},25714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TabsStateContextProvider:()=>i,useTabsState:()=>c,useTabsStateConnector:()=>d,useTabsStateMethods:()=>l,useTabsStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("TabsStateContextProvider"),o=a.getContext,i=a.TabsStateContextProvider,s=(0,r.createStateHooks)("tabsState",o),c=s.useTabsState,u=s.useTabsStateRef,l=s.useTabsStateMethods,d=s.useTabsStateConnector},44161:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getDefaultTabState:()=>a,getInitialTabsSharedState:()=>r,tabsStateControlEvents:()=>s,tabsStateTrackerEvents:()=>i});var r=function(){return{tabs:{}}},a=function(){return{app:"ad",boss:!1,id:"unknown",role:"undecided",visible:!1,activeApi:!1,frozen:!1,latestActivationTimestamp:0}},o=n(64245),i={onInitialState:(0,o.event)(),onChange:(0,o.event)(),onCollectTabsInfo:(0,o.event)(),onBossHasBeenReassigned:(0,o.event)()},s={updateTabState:(0,o.event)(),dropTab:(0,o.event)()}},98562:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TabsStateImpl:()=>S});var r=n(63830),a=n.n(r),o=n(26220),i=n(37319),s=n(16152);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?c(e):t;var n}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function v(e){return 16e3+3e3*e}function y(e,t){return Object.keys(t).every((function(n){return t[n]===e[n]}))}var b=o.bpLogger.withPrefix("@TABS"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,n,r,o=h(s);function s(){var e;return u(this,s),d(c(e=o.apply(this,arguments)),"tabsPollingTimerId",-1),d(c(e),"broadcastChanges",(function(){b.info("change",e.stateData.tabs),e.toClientDispatch.onChange(e.stateData)})),d(c(e),"updateTabState",(function(t,n){var r=e.stateData.tabs[t];if(r){if(y(r,n))return;e.updateTab(t,n)}else e.addTab(t,n);e.checkBoss(),e.broadcastChanges()})),d(c(e),"dropTab",(function(t){e.deleteTab(t),e.broadcastChanges()})),d(c(e),"collectTabsInfo",(function(){b.info("collect tabs info..."),e.toClientDispatch.onCollectTabsInfo()})),d(c(e),"scheduledTabsPollIteration",(function(){e.collectTabsInfo(),e.tabsPollingTimerId=setTimeout(e.scheduledTabsPollIteration,v(Object.keys(e.stateData.tabs).length))})),d(c(e),"startScheduledTabsPoll",(function(){e.scheduledTabsPollIteration()})),d(c(e),"addTab",(function(t,n){e.stateData=a()(e.stateData,(function(e){e.tabs[t]=p(f({},(0,i.getDefaultTabState)(),n),{id:t})}))})),e}return t=s,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({updateTabState:this.updateTabState,dropTab:this.dropTab}),{unsubscribe:function(){clearTimeout(e.tabsPollingTimerId)}}),"mobile"!==this.platformSpecific.clientType()&&this.startScheduledTabsPoll()}},{key:"updateTab",value:function(e,t){this.stateData=a()(this.stateData,(function(n){n.tabs[e]=f({},n.tabs[e],t)}))}},{key:"deleteTab",value:function(e){this.stateData.tabs[e]&&(this.stateData=a()(this.stateData,(function(t){delete t.tabs[e]})),this.checkBoss(!0))}},{key:"checkBoss",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object.values(this.stateData.tabs),r=n.filter((function(e){return"undecided"!==e.role}));if(r.length){var a=n.find((function(e){return e.boss}));if(!a){var o=r.find((function(e){return e.visible})),i=r[0],s=o?o.id:i.id;this.updateTab(s,{boss:!0}),t&&setTimeout((function(){e.toClientDispatch.onBossHasBeenReassigned(s)}),1e3)}}}}],n&&l(t.prototype,n),r&&l(t,r),s}(s.StateFactory.createBaseStateClass({name:"tabsState",controlEvents:i.tabsStateControlEvents,trackerEvents:i.tabsStateTrackerEvents,options:{synchronized:!0},getInitialState:i.getInitialTabsSharedState,dependencies:["platformSpecific"]}))},99942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TimersStateContextProvider:()=>s,useTimerById:()=>f,useTimersState:()=>u,useTimersStateConnector:()=>_,useTimersStateMethods:()=>d,useTimersStateRef:()=>l});var r=n(86702),a=n(13641),o=(0,a.createStateContextProvider)("TimersStateContextProvider"),i=o.getContext,s=o.TimersStateContextProvider,c=(0,a.createStateHooks)("timersState",i),u=c.useTimersState,l=c.useTimersStateRef,d=c.useTimersStateMethods,_=c.useTimersStateConnector,f=function(e){return(0,r.useContextSelector)(i(),(function(t){return t.state.timers[e]}))}},39387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TimersStateImpl:()=>v});var r=n(63830),a=n.n(r),o=n(47402),i=n(40381);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},d(e,t,n||e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?s(e):t;var n}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(m,e);var t,n,r,o=h(m);function m(){var e;return c(this,m),l(s(e=o.apply(this,arguments)),"timeouts",{}),l(s(e),"startTimer",(function(t){e.stateData.timers[t.id]||(e.updateState(a()((function(e){var n=Date.now(),r=(0,i.addTime)(new Date,"seconds",t.timeoutInSeconds).getTime();e.timers[t.id]=p(f({},t),{startTime:n,endTime:r})}))),e.checkTimer(t.id))})),l(s(e),"stopTimer",(function(t){e.updateState(a()((function(e){delete e.timers[t]})))})),e}return t=m,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({startTimer:this.startTimer,stopTimer:this.stopTimer}))}},{key:"checkTimer",value:function(e){var t=this,n=this.stateData.timers[e];if(n){var r=Date.now();if(n.endTime<=r)switch(delete this.timeouts[e],this.stopTimer(e),n.type){case"autoAnswer":return this.toClientDispatch.onAutoAnswerTimerCompleted(n);case"workitemAutoDial":return this.toClientDispatch.onWorkItemAutoDialTimerCompleted(n)}this.timeouts[e]=setTimeout((function(){return t.checkTimer(e)}),200)}}},{key:"clearTimeouts",value:function(){Object.values(this.timeouts).forEach((function(e){clearTimeout(e)})),this.timeouts={}}},{key:"cleanup",value:function(){d(_(m.prototype),"cleanup",this).call(this),this.clearTimeouts()}},{key:"resetState",value:function(){d(_(m.prototype),"resetState",this).call(this),this.clearTimeouts()}}])&&u(t.prototype,n),r&&u(t,r),m}(n(16152).StateFactory.createBaseStateClass({name:"timersState",controlEvents:o.timersStateControlEvents,trackerEvents:o.timersStateTrackerEvents,getInitialState:o.getInitialTimersState,options:{synchronized:!0},dependencies:[]}))},73583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialTimersState:()=>r,timersStateControlEvents:()=>i,timersStateTrackerEvents:()=>o});var r=function(){return{timers:{}}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onAutoAnswerTimerCompleted:(0,a.event)(),onWorkItemAutoDialTimerCompleted:(0,a.event)()},i={startTimer:(0,a.event)(),stopTimer:(0,a.event)()}},24823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TimezonesStateContextProvider:()=>s,useAllTimezones:()=>p,useFavoritesTimezones:()=>f,useLocalTimezones:()=>m,useRecentSecondaryTimezones:()=>h,useSecondaryTimezones:()=>g,useTimezonesState:()=>u,useTimezonesStateConnector:()=>_,useTimezonesStateMethods:()=>d,useTimezonesStateRef:()=>l});var r=n(86702),a=n(13641),o=(0,a.createStateContextProvider)("TimezonesStateContextProvider"),i=o.getContext,s=o.TimezonesStateContextProvider,c=(0,a.createStateHooks)("timezonesState",i),u=c.useTimezonesState,l=c.useTimezonesStateRef,d=c.useTimezonesStateMethods,_=c.useTimezonesStateConnector,f=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.favoriteTimezones}))},p=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.allTimezones}))},m=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.localTimezone}))},g=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.secondaryTimezone}))},h=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.recentSecondaryTimezones}))}},29437:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialTimezonesState:()=>r,timezonesStateControlEvents:()=>i,timezonesStateTrackerEvents:()=>o});var r=function(){return{allTimezones:[],favoriteTimezones:[],localTimezone:"",recentSecondaryTimezones:[],secondaryTimezone:""}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={addToFavorites:(0,a.event)(),setSecondaryTimezone:(0,a.event)()}},4445:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TimezonesStateImpl:()=>g});var r=n(26220),a=n(77356);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function _(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?i(e):t;var n}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _(this,n)}}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(_,e);var t,n,a,o=m(_);function _(){var e;return s(this,_),u(i(e=o.apply(this,arguments)),"dirty",!1),u(i(e),"timezonesRequestId",""),u(i(e),"refreshFullTimezoneList",(function(){e.transport.dispatch.getAgentDesktopTimeZoneNameDataList({params:[]}).then((function(t){var n=t.result,a=t.error;n?e.produceState((function(e){e.allTimezones=n})):r.bpLogger.error("getAgentDesktopTimeZoneNameDataList return no data",a)}))})),u(i(e),"refreshFavoriteTimezones",(function(){e.transport.dispatch.agent_get_user_data({types:"TIMEZONES"})})),u(i(e),"refreshSecondaryTimezones",(function(){e.localSettings.get("secondaryTimezone").then((function(t){if(t){var n=t.recentTimezones,r=t.timezone;e.produceState((function(e){e.recentSecondaryTimezones=n,e.secondaryTimezone=r}))}}))})),u(i(e),"setSecondaryTimezone",(function(t){var n;null===(n=e.localSettings)||void 0===n||n.set("secondaryTimezone",t),e.produceState((function(e){e.recentSecondaryTimezones=t.recentTimezones,e.secondaryTimezone=t.timezone}))})),u(i(e),"addToFavorites",(function(t){var n=p(e.stateData.favoriteTimezones),r=n.findIndex((function(e){return e.id===t.id}));-1!==r?n.splice(r,1):(e.dirty=!0,n.length>4&&n.pop()),n.unshift(t),e.produceState((function(e){e.favoriteTimezones=n}))})),u(i(e),"onAgentUserData",(function(t){var n=Object.values(t.data).find((function(e){return"TIMEZONES"===e.type}));if(n){var r=JSON.parse(n.value);e.dirty=!1,e.timezonesRequestId=n.data_id,e.produceState((function(e){e.favoriteTimezones=r}))}})),u(i(e),"onAgentItemChanged",(function(t){"completed"===t.state&&e.dirty&&e.transport.dispatch.agent_update_user_data({data_id:e.timezonesRequestId,is_system:"0",value:JSON.stringify(e.stateData.favoriteTimezones)})})),u(i(e),"onAgentWelcome",(function(t){var n=t.timezone_id;n&&e.produceState((function(e){e.localTimezone=n}))})),e}return t=_,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_user_data:this.onAgentUserData,agent_item_changed:this.onAgentItemChanged,agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({addToFavorites:this.addToFavorites,setSecondaryTimezone:this.setSecondaryTimezone}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&(e.refreshFullTimezoneList(),e.refreshFavoriteTimezones(),e.refreshSecondaryTimezones())},onLogin:function(){e.refreshFullTimezoneList(),e.refreshFavoriteTimezones(),e.refreshSecondaryTimezones()}}))}},{key:"cleanup",value:function(){l(d(_.prototype),"cleanup",this).call(this),this.timezonesRequestId="",this.dirty=!1}},{key:"resetState",value:function(){l(d(_.prototype),"resetState",this).call(this),this.timezonesRequestId="",this.dirty=!1}}])&&c(t.prototype,n),a&&c(t,a),_}(n(16152).StateFactory.createBaseStateClass({name:"timezonesState",controlEvents:a.timezonesStateControlEvents,trackerEvents:a.timezonesStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:a.getInitialTimezonesState,dependencies:["transport","localSettings","sessionConnector"]}))},9532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CRM_KEY_DYNAMICS365:()=>me,CRM_KEY_RIGHTNOW:()=>ve,CRM_KEY_SALESFORCE:()=>ge,CRM_KEY_SERVICENOW:()=>he,CRM_KEY_ZENDESK:()=>ye,METRICS_DATA:()=>x,NotReadyReasonType:()=>I,SERVICE_DETAILS_FIELDS:()=>Se,ServiceServiceImpEvents:()=>E,T3PCC_EVENT_PREFIX:()=>i,UserContextServiceImpEvents:()=>w,acdStates:()=>D,campaignDetailsTableColumns:()=>A,campaignListsTableColumns:()=>R,campaignsTableColumns:()=>M,checkIsCampaignListsColumnGroup:()=>k,checkIsCampaignsTableColumnGroup:()=>j,checkIsGroupedTableColumnGroup:()=>P,contactPhoneTypes:()=>_e,crmTypes:()=>be,dispositionMetricPrefix:()=>N,emiTypes:()=>G,getGroupByMetric:()=>F,getMetricsByApplicable:()=>K,getMetricsByGroup:()=>L,incomingActivityServerEvents:()=>S,incomingAgentQueryEvents:()=>_,incomingAuthRejectCodes:()=>Z,incomingEMIErrorMessageCodes:()=>H,incomingErrorMessageCodes:()=>oe,incomingServerInvocationEvents:()=>T,incomingThreePccDataEvents:()=>l,incomingWebSocketEvents:()=>f,isEmiUserDetails:()=>Ee,isIncomingErrorMessage:()=>ae,isItemDirection:()=>de,isLinkSuggestion:()=>pe,isMediaType:()=>se,isMessengerChannel:()=>Q,isPhoneType:()=>X,isRecordMessage:()=>re,isRegularUserDetails:()=>Oe,isSendScreenPop:()=>te,isSingleStepTransferUserData:()=>ne,isTakeScreenPop:()=>ee,itemDirections:()=>le,itemStates:()=>ue,itemTypes:()=>ce,mediaTypes:()=>ie,messengerChannels:()=>Y,msTeamsAvailabilityStatuses:()=>V,outgoingActivityServerEvents:()=>b,outgoingAgentQueryEvents:()=>d,outgoingServerInvocationEvents:()=>O,outgoingThreePccDataEvents:()=>u,outgoingWebSocketEvents:()=>p,publicIncomingWebSocketEvents:()=>v,publicOutgoingWebSocketEvents:()=>y,qmMonitorModeTypes:()=>fe,teamStatsItemFields:()=>q,teamStatsTeamFields:()=>U,teamStatsUserFields:()=>B,userCapacityMediaTypes:()=>$,userDataTypes:()=>Ie,userDataTypesList:()=>Ce,userDetailsItemFields:()=>we});var r=n(64245);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,i="e3pcc_";function s(e){return"".concat(i).concat(e)}var c,u=(a(o={},s("dial"),(0,r.asyncEvent)()),a(o,s("rtc_call_made"),(0,r.asyncEvent)()),a(o,s("rtc_call_reset"),(0,r.asyncEvent)()),a(o,s("disconnect"),(0,r.asyncEvent)()),a(o,s("answer"),(0,r.asyncEvent)()),a(o,s("hold"),(0,r.asyncEvent)()),a(o,s("resume"),(0,r.asyncEvent)()),a(o,s("mute"),(0,r.asyncEvent)()),a(o,s("unmute"),(0,r.asyncEvent)()),a(o,s("send_dtmf"),(0,r.asyncEvent)()),a(o,s("single_step_transfer"),(0,r.asyncEvent)()),a(o,s("complete_conference"),(0,r.asyncEvent)()),a(o,s("complete_transfer"),(0,r.asyncEvent)()),a(o,s("destroy_conference"),(0,r.asyncEvent)()),a(o,s("remove_party"),(0,r.asyncEvent)()),a(o,s("reserve_call"),(0,r.asyncEvent)()),a(o,s("release_call"),(0,r.asyncEvent)()),o),l=(a(c={},s("rtc_call_make"),(0,r.event)()),a(c,s("rtc_call_drop"),(0,r.event)()),a(c,s("offered"),(0,r.event)()),a(c,s("failed"),(0,r.event)()),a(c,s("call_setup"),(0,r.event)()),a(c,s("dialing"),(0,r.event)()),a(c,s("ringing"),(0,r.event)()),a(c,s("user_data"),(0,r.event)()),a(c,s("disconnected"),(0,r.event)()),a(c,s("established"),(0,r.event)()),a(c,s("party_removed"),(0,r.event)()),a(c,s("party_added"),(0,r.event)()),a(c,s("party_changed"),(0,r.event)()),a(c,s("muted"),(0,r.event)()),a(c,s("unmuted"),(0,r.event)()),a(c,s("device_snapshot"),(0,r.event)()),a(c,s("caps_changed"),(0,r.event)()),a(c,s("local_held"),(0,r.event)()),a(c,s("local_resumed"),(0,r.event)()),a(c,s("audio_quality_alert"),(0,r.event)()),a(c,s("reserve_call_result"),(0,r.event)()),c),d={agent_email_uniqueness_check:(0,r.asyncEvent)(),agent_service_info:(0,r.asyncEvent)(),service_dispositions:(0,r.asyncEvent)(),hs_supervisor_dispositions:(0,r.asyncEvent)(),evaluation_areas:(0,r.asyncEvent)(),application_config:(0,r.asyncEvent)(),agent_dashboard_config:(0,r.asyncEvent)(),chat_launch_point_info:(0,r.asyncEvent)(),user_profile_info_read:(0,r.asyncEvent)(),voice_mail_greetings:(0,r.asyncEvent)(),voice_prompt_read:(0,r.asyncEvent)(),service_info:(0,r.asyncEvent)(),localized_languages:(0,r.asyncEvent)(),tenant_features:(0,r.asyncEvent)(),agent_access_number_info:(0,r.asyncEvent)(),agent_outbound_chat_channels:(0,r.asyncEvent)(),agent_outbound_chat_channels2:(0,r.asyncEvent)(),service_voice_prompts:(0,r.asyncEvent)(),email_reply_template:(0,r.asyncEvent)(),agent_name_info:(0,r.asyncEvent)(),supervisor_sub_team_agents:(0,r.asyncEvent)(),agent_service_info_by_team:(0,r.asyncEvent)(),language_skill_info:(0,r.asyncEvent)(),case_categories:(0,r.asyncEvent)(),case_pending_reasons:(0,r.asyncEvent)(),service_messenger_data:(0,r.asyncEvent)(),messenger_data:(0,r.asyncEvent)(),custom_activity_history_fields:(0,r.asyncEvent)(),ia_intents:(0,r.asyncEvent)(),team_service_info:(0,r.asyncEvent)()},_={agent_query_result:(0,r.event)()},f={auth_accept:(0,r.event)(),auth_reject:(0,r.event)(),auth_redirect:(0,r.event)(),agent_welcome:(0,r.event)(),agent_message:(0,r.event)(),error_message:(0,r.event)(),agent_set_phone_device_result:(0,r.event)(),"3pcc_data":(0,r.event)(),"3pcc_server_connected":(0,r.event)(),"3pcc_server_disconnected":(0,r.event)(),agent_change_state:(0,r.event)(),agent_item_created:(0,r.event)(),agent_new_item:(0,r.event)(),agent_item_changed:(0,r.event)(),agent_item_intent:(0,r.event)(),agent_item_pre_complete:(0,r.event)(),agent_agent_stats:(0,r.event)(),agent_teams_stats:(0,r.event)(),agent_team_stats:(0,r.event)(),agent_campaigns_summary:(0,r.event)(),agent_campaign_details:(0,r.event)(),agent_campaign_lists_summary:(0,r.event)(),agent_campaign_teams_summary:(0,r.event)(),agent_record_report:(0,r.event)(),byebye:(0,r.event)(),agent_external_chat_party_joined:(0,r.event)(),agent_external_chat_party_changed:(0,r.event)(),agent_external_chat_party_left:(0,r.event)(),agent_external_chat_channel_opened:(0,r.event)(),agent_external_chat_error:(0,r.event)(),agent_external_chat_message:(0,r.event)(),agent_external_chat_message_attributes:(0,r.event)(),agent_external_chat_content:(0,r.event)(),agent_external_chat_navigation:(0,r.event)(),agent_external_chat_session_ended:(0,r.event)(),agent_external_chat_file:(0,r.event)(),agent_external_chat_typing:(0,r.event)(),agent_external_chat_not_typing:(0,r.event)(),agent_external_chat_cobrowsing_started:(0,r.event)(),agent_external_chat_cobrowsing_rejected:(0,r.event)(),agent_external_chat_cobrowsing_ended:(0,r.event)(),agent_external_chat_signaling:(0,r.event)(),agent_external_chat_location:(0,r.event)(),agent_chat:(0,r.event)(),agent_internal_message:(0,r.event)(),agent_chat_history:(0,r.event)(),agent_im_conv_list:(0,r.event)(),agent_im_conv_info:(0,r.event)(),agent_im_conv_history:(0,r.event)(),agent_im_conv_message:(0,r.event)(),agent_im_conv_member_added:(0,r.event)(),agent_im_conv_member_deleted:(0,r.event)(),agent_im_conv_updated:(0,r.event)(),agent_im_conv_created:(0,r.event)(),agent_im_conv_deleted:(0,r.event)(),agent_im_conv_members_added:(0,r.event)(),agent_im_conv_members_deleted:(0,r.event)(),agent_workitem_data:(0,r.event)(),agent_query_result:(0,r.event)(),agent_user_data:(0,r.event)(),agent_teams:(0,r.event)(),agent_logged_users:(0,r.event)(),agent_find_contact_result:(0,r.event)(),agent_users_details:(0,r.event)(),agent_services_details:(0,r.event)(),agent_hunt_groups_details:(0,r.event)(),agent_directory_categories:(0,r.event)(),agent_directory:(0,r.event)(),server_data:(0,r.event)(),service_status:(0,r.event)(),agent_send_screenpop:(0,r.event)(),agent_user_voice_prompt_completed:(0,r.event)(),agent_start_screen_recording:(0,r.event)(),agent_stop_screen_recording:(0,r.event)(),agent_screen_recorder:(0,r.event)(),agent_unread_chat_sessions:(0,r.event)(),agent_emi_up:(0,r.event)(),agent_emi_down:(0,r.event)(),agent_call_waiting_notify_audio:(0,r.event)(),agent_emi_channel_received:(0,r.event)(),agent_emi_channel_sent:(0,r.event)(),agent_item_voice_transcript_data:(0,r.event)(),agent_item_suggestion_data:(0,r.event)(),agent_item_sentiment_data:(0,r.event)(),agent_item_message_attributes:(0,r.event)(),agent_scenario_variables:(0,r.event)(),agent_item_peek_transcript:(0,r.event)(),agent_item_peek_voice_transcript_data:(0,r.event)(),agent_item_peek_chat_transcript_data:(0,r.event)(),agent_item_peek_intent_result:(0,r.event)(),agent_call_pickup_notify:(0,r.event)(),agent_call_pickup_cancel:(0,r.event)(),__ping__:(0,r.event)(),__pong__:(0,r.event)()},p={auth_session:(0,r.asyncEvent)(),agent_delete_old_user_data:(0,r.asyncEvent)(),agent_change_state:(0,r.asyncEvent)(),logout:(0,r.asyncEvent)(),agent_force_logout:(0,r.asyncEvent)(),agent_set_phone_device:(0,r.asyncEvent)(),agent_activate_item:(0,r.asyncEvent)(),agent_accept_item:(0,r.asyncEvent)(),agent_complete_item:(0,r.asyncEvent)(),agent_control_feature_item:(0,r.asyncEvent)(),agent_external_chat_message:(0,r.asyncEvent)(),agent_external_chat_get_content:(0,r.asyncEvent)(),agent_external_chat_message_delivered:(0,r.asyncEvent)(),agent_external_chat_message_read:(0,r.asyncEvent)(),agent_external_chat_open_channel:(0,r.asyncEvent)(),agent_external_chat_session_mask:(0,r.asyncEvent)(),agent_external_chat_disconnect:(0,r.asyncEvent)(),agent_external_chat_typing:(0,r.asyncEvent)(),agent_external_chat_not_typing:(0,r.asyncEvent)(),agent_external_chat_pickup_item:(0,r.asyncEvent)(),"3pcc_data":(0,r.asyncEvent)(),agent_item_discard_draft:(0,r.asyncEvent)(),agent_item_create_draft:(0,r.asyncEvent)(),agent_item_send_draft:(0,r.asyncEvent)(),agent_item_disposition:(0,r.asyncEvent)(),agent_item_custom_fields:(0,r.asyncEvent)(),agent_item_use_contact:(0,r.asyncEvent)(),agent_external_chat_file:(0,r.asyncEvent)(),agent_external_chat_session_init:(0,r.asyncEvent)(),agent_external_chat_cobrowsing_requested:(0,r.asyncEvent)(),agent_external_chat_signaling:(0,r.asyncEvent)(),agent_external_chat_media_added:(0,r.asyncEvent)(),agent_chat_delivered:(0,r.asyncEvent)(),agent_chat_read:(0,r.asyncEvent)(),agent_chat:(0,r.asyncEvent)(),agent_message:(0,r.asyncEvent)(),agent_item_save_draft:(0,r.asyncEvent)(),agent_get_chat_history:(0,r.asyncEvent)(),agent_get_users_details:(0,r.asyncEvent)(),agent_get_services_details:(0,r.asyncEvent)(),agent_get_hunt_groups_details:(0,r.asyncEvent)(),agent_external_chat_invite_other:(0,r.asyncEvent)(),agent_external_chat_remove_other:(0,r.asyncEvent)(),agent_im_conv_get_list:(0,r.asyncEvent)(),agent_im_conv_get_info:(0,r.asyncEvent)(),agent_im_conv_get_history:(0,r.asyncEvent)(),agent_im_conv_message:(0,r.asyncEvent)(),agent_im_conv_create:(0,r.asyncEvent)(),agent_im_conv_update:(0,r.asyncEvent)(),agent_im_conv_delete:(0,r.asyncEvent)(),agent_im_conv_add_member:(0,r.asyncEvent)(),agent_im_conv_delete_member:(0,r.asyncEvent)(),agent_im_conv_mark_delivered:(0,r.asyncEvent)(),agent_im_conv_mark_read:(0,r.asyncEvent)(),agent_im_conv_message_delivered:(0,r.asyncEvent)(),agent_im_conv_message_read:(0,r.asyncEvent)(),agent_im_conv_add_members:(0,r.asyncEvent)(),agent_im_conv_delete_members:(0,r.asyncEvent)(),agent_get_workitem_data:(0,r.asyncEvent)(),agent_get_screen_recorder:(0,r.asyncEvent)(),agent_notification_result:(0,r.asyncEvent)(),agent_query:(0,r.asyncEvent)(),agent_modify:(0,r.asyncEvent)(),agent_get_user_data:(0,r.asyncEvent)(),agent_add_user_data:(0,r.asyncEvent)(),agent_update_user_data:(0,r.asyncEvent)(),agent_delete_user_data:(0,r.asyncEvent)(),agent_get_teams:(0,r.asyncEvent)(),agent_get_directory_categories:(0,r.asyncEvent)(),agent_get_unread_chat_sessions:(0,r.asyncEvent)(),agent_get_directory:(0,r.asyncEvent)(),agent_get_logged_users:(0,r.asyncEvent)(),agent_find_contact:(0,r.asyncEvent)(),agent_subscribe_users_details:(0,r.asyncEvent)(),agent_unsubscribe_users_details:(0,r.asyncEvent)(),agent_subscribe_teams_stats:(0,r.asyncEvent)(),agent_unsubscribe_teams_stats:(0,r.asyncEvent)(),agent_subscribe_team_stats:(0,r.asyncEvent)(),agent_unsubscribe_team_stats:(0,r.asyncEvent)(),agent_get_campaigns_summary:(0,r.asyncEvent)(),agent_get_campaign_details:(0,r.asyncEvent)(),agent_get_campaign_lists_summary:(0,r.asyncEvent)(),agent_get_campaign_teams_summary:(0,r.asyncEvent)(),agent_get_record_report:(0,r.asyncEvent)(),user_change_state:(0,r.asyncEvent)(),agent_qm_call_start:(0,r.asyncEvent)(),agent_qm_record_start:(0,r.asyncEvent)(),agent_qm_record_stop:(0,r.asyncEvent)(),agent_qm_record_mute:(0,r.asyncEvent)(),agent_qm_record_unmute:(0,r.asyncEvent)(),agent_mark_problem_item:(0,r.asyncEvent)(),agent_flag_item:(0,r.asyncEvent)(),agent_update_screenpop:(0,r.asyncEvent)(),agent_send_screenpop:(0,r.asyncEvent)(),agent_set_scenario_variables:(0,r.asyncEvent)(),agent_get_scenario_variables:(0,r.asyncEvent)(),agent_phone_status:(0,r.asyncEvent)(),agent_stop_item:(0,r.asyncEvent)(),server_data:(0,r.asyncEvent)(),agent_play_user_voice_prompt:(0,r.asyncEvent)(),agent_stop_user_voice_prompt:(0,r.asyncEvent)(),agent_info:(0,r.asyncEvent)(),agent_external_chat_timeout_pause:(0,r.asyncEvent)(),agent_external_chat_timeout_resume:(0,r.asyncEvent)(),agent_activity_report:(0,r.asyncEvent)(),agent_record_out_of_band_call_attempt:(0,r.asyncEvent)(),agent_item_peek_subscribe:(0,r.asyncEvent)(),agent_item_peek_unsubscribe:(0,r.asyncEvent)(),agent_call_pickup_accept:(0,r.asyncEvent)(),agent_call_pickup_reject:(0,r.asyncEvent)(),agent_item_intents_subscribe:(0,r.asyncEvent)(),__ping__:(0,r.asyncEvent)(),__pong__:(0,r.asyncEvent)()},m=n(2122),g=["__ping__","__pong__","server_data","agent_query_result","3pcc_data"],h=["__ping__","__pong__","server_data","agent_query","3pcc_data"];var v=(0,m.omit)(f,g),y=(0,m.omit)(p,h),b={agent_calendar_alert_delivered:(0,r.asyncEvent)(),agent_open_case:(0,r.asyncEvent)(),agent_open_queue_item:(0,r.asyncEvent)(),agent_open_reply_for_email:(0,r.asyncEvent)(),agent_create_email:(0,r.asyncEvent)(),agent_create_case_email:(0,r.asyncEvent)(),agent_create_followup_case:(0,r.asyncEvent)(),agent_move_queue_item:(0,r.asyncEvent)(),agent_transfer_email:(0,r.asyncEvent)(),agent_edit_email:(0,r.asyncEvent)(),agent_delete_case:(0,r.asyncEvent)(),agent_close_queue_item:(0,r.asyncEvent)(),agent_close_case_as_spam:(0,r.asyncEvent)(),agent_close_case_with_disposition:(0,r.asyncEvent)()},S={agent_calendar_alert:(0,r.event)(),agent_close_case_with_disposition_completed:(0,r.event)(),agent_pull_failed:(0,r.event)()};function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I,w={getAgentDesktopTimeZoneNameDataList:(0,r.asyncEvent)(),changePassword:(0,r.asyncEvent)()},E={stopCampaign:(0,r.asyncEvent)(),startCampaign:(0,r.asyncEvent)(),enableList:(0,r.asyncEvent)(),disableList:(0,r.asyncEvent)()},O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({},w,E),T={invocation_result:(0,r.event)()},D=["","ready","not_ready","busy","after_call_work","reserved","ringing"];!function(e){e.userDefined="0",e.noAnswer="1",e.connectionLoss="2",e.afterCallBreak="3",e.logoutPending="4",e.busyExternal="5"}(I||(I={}));var A=["running","out_campaign_mode","out_average_success_rate","out_calls_in_ivr","out_calls_active_on_agents","out_calls_in_progress","out_calls_current_call_rate","out_campaign_duration_forecast","agent_occupancy","agents_logged","agents_ready","agents_busy","agents_in_wrap_up","agents_not_ready","records_total","records_dialable","records_remaining","records_completed","records_completed_ratio","records_in_dnc","records_expired","records_with_assigned_agents_completed","records_with_assigned_agents_remaining","out_calls_placed_per_day","out_calls_answered_per_day","out_calls_answered_ratio_per_day","out_calls_failed_per_day","out_calls_abandoned_per_day","out_calls_abandoned_ratio_per_day","out_calls_abandoned_in_ivr_per_day","out_calls_abandoned_in_ivr_ratio_per_day","out_calls_abandoned_in_queue_per_day","out_calls_abandoned_in_queue_ratio_per_day","out_calls_abandoned_ringing_per_day","out_calls_unattended_per_day","out_calls_unattended_ratio_per_day","out_calls_dropped_in_ivr_per_day","out_calls_dropped_in_queue_per_day","out_calls_routed_per_day","out_calls_handled_per_day","out_calls_transferred_per_day","out_calls_dropped_talking_per_day","out_calls_disconnected_talking_per_day","out_calls_duration_average_per_day","out_calls_duration_total_per_day","records_attempted_per_day","records_attempted_ratio_per_day","records_completed_per_day","records_completed_ratio_per_day","in_max_wait_time"],P=function(e){return!!e&&"columns"in e},R=["status_group","active_lists_records_group","records_daily_group","name","is_enabled","priority","ratio","records_total","records_dialable","records_remaining","records_completed","records_completed_ratio","records_in_dnc","records_expired","records_with_assigned_agents_completed","records_with_assigned_agents_remaining","list_last_updated","records_completed_per_day"],k=function(e){return P(e)},N="calls_dispositions_per_day.",M=["dialer_diagnostics","name","status_group","running","out_campaign_mode","out_average_success_rate","out_calls_in_ivr","out_calls_active_on_agents","out_calls_in_progress","out_calls_current_call_rate","out_campaign_duration_forecast","agents_group","teams","agent_occupancy","agents_logged","agents_ready","agents_busy","agents_in_wrap_up","agents_not_ready","active_lists_records_group","records_total","records_dialable","records_remaining","records_completed","records_completed_ratio","records_in_dnc","records_expired","records_with_assigned_agents_completed","records_with_assigned_agents_remaining","calls_daily_group","out_calls_placed_per_day","out_calls_answered_per_day","out_calls_answered_ratio_per_day","out_calls_failed_per_day","out_calls_abandoned_per_day","out_calls_abandoned_ratio_per_day","out_calls_abandoned_in_ivr_per_day","out_calls_abandoned_in_ivr_ratio_per_day","out_calls_abandoned_in_queue_per_day","out_calls_abandoned_in_queue_ratio_per_day","out_calls_abandoned_ringing_per_day","out_calls_unattended_per_day","out_calls_unattended_ratio_per_day","out_calls_dropped_in_ivr_per_day","out_calls_dropped_in_queue_per_day","out_calls_routed_per_day","out_calls_handled_per_day","out_calls_transferred_per_day","out_calls_dropped_talking_per_day","out_calls_disconnected_talking_per_day","out_calls_duration_average_per_day","out_calls_duration_total_per_day","records_daily_group","records_attempted_per_day","records_attempted_ratio_per_day","records_completed_per_day","records_completed_ratio_per_day","inbound_group","in_max_wait_time"],j=function(e){return P(e)},x=[{key:"agents_logged",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_busy",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_in_wrap_up",group:"status",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_busy_on_service",group:"agents",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_ready",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_not_ready",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agent_occupancy",group:"states_daily",applicable:["user","team","service","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_average_idle_time",group:"states_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_idle_time",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_preview_duration",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_average_preview_time",group:"states_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_success_ratio_per_day",group:"surveys_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_total_not_ready_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_total_break_time",group:"states_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_total_busy_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_total_acw_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_total_ready_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_fcr",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_nps",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_csat",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_cm1",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_cm2",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_current_number_interactions",group:void 0,applicable:["user","team_stats_user"]},{key:"top_dispositions_per_day",group:void 0,applicable:["user"]},{key:"team_success_ratio_per_day",group:void 0,applicable:["team"]},{key:"agent_calendar_pending",group:"reminders",applicable:["user","team","team_stats_user","supervisor_stats_agent"]},{key:"agent_calendar_overdue",group:"reminders",applicable:["user","team","team_stats_user","supervisor_stats_agent"]},{key:"in_calls_received_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_transfers_received_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_transfers_received_per_day",group:"outbound_daily",applicable:["user","service"]},{key:"in_calls_in_ivr",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_self_serviced_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_in_ivr_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_total_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_percent_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_in_ivr_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_queued_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_first_time_queued_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_waiting",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_in_progress",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_in_queue_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_in_queue_ratio_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_short_abandoned_in_queue_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_short_abandoned_in_queue_ratio_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_in_queue_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level_target",group:void 0,applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level_threshold_time",group:void 0,applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_max_wait_time",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_ewt",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_routed_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_ringing",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_handled_per_day",group:"inbound_daily",applicable:["service","user","team","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_handled_percent_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_first_time_handled_per_day",group:"inbound_daily",applicable:["user","team","service","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_put_on_hold_per_day",group:"inbound_daily",applicable:["user","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_first_time_put_on_hold_per_day",group:"inbound_daily",applicable:["user","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_rejected_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_abandoned_ringing_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_ringing_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_active_on_agents",group:"inbound_now",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_disconnected_talking_per_day",group:"inbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_talking_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_duration_average_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_duration_total_per_day",group:"inbound_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_transferred_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_average_speed_of_answer",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"calls_average_handling_time_per_day",group:"states_daily",applicable:["user","team","service","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"calls_average_acw_time_per_day",group:"states_daily",applicable:["user","team","service","teams_stats","team_stats_user","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_call_handling_rate",group:void 0,applicable:["team"]},{key:"in_callbacks_requested_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_callbacks_waiting",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"records_total",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_completed",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_with_assigned_agents_completed",group:"active_lists_records",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"records_remaining",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_quota",group:void 0,applicable:[]},{key:"records_successes",group:void 0,applicable:["service"]},{key:"records_out_of_quota",group:void 0,applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_with_assigned_agents_remaining",group:"active_lists_records",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"records_in_dnc",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_attempted_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_attempted_ratio_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_accepted_per_day",group:"records_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"records_skipped_per_day",group:"records_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"records_skipped_ratio_per_day",group:"records_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"records_completed_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_completed_ratio_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_completed_ratio",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_progress",group:void 0,applicable:["service"]},{key:"records_dialable",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_expired",group:"active_lists_records",applicable:["service"]},{key:"list_last_updated",group:"active_lists_records",applicable:[]},{key:"out_campaign_mode",group:"campaign",applicable:[]},{key:"out_campaign_duration_forecast",group:"campaign",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_average_success_rate",group:"outbound_now",applicable:[]},{key:"calls_dispositions_per_day",group:void 0,applicable:["user","service","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"calls_dispositions_ratio_per_day",group:void 0,applicable:["service","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_current_call_rate",group:"outbound_now",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_placed_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_in_progress",group:"outbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_failed_per_day",group:"outbound_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_answered_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_answered_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_in_ivr",group:"outbound_now",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_self_serviced_per_day",group:"outbound_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_ivr_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_ivr_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_in_ivr_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_queued_per_day",group:"outbound_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_waiting",group:"outbound_now",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_queue_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_queue_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_in_queue_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_unattended_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_unattended_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_routed_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_ringing",group:"outbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_ringing_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_ringing_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_duration_average_per_day",group:"outbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_duration_total_per_day",group:"outbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_rejected_per_day",group:"outbound_daily",applicable:["user","team","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_handled_per_day",group:"outbound_daily",applicable:["user","team","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_active_on_agents",group:"outbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_disconnected_talking_per_day",group:"outbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_talking_per_day",group:"outbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_transferred_per_day",group:"outbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_emails_joined_existing_cases",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_email_received_new_per_day",group:"inbound_at_specific_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_email_carried_over",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_email_carried_over_new",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_service"]},{key:"in_email_offered_per_day",group:"inbound_at_specific_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"in_email_rejected_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_pulled_per_day",group:"inbound_at_specific_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"in_email_processed_replied_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_processed_noreply_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_handled_new_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_waiting_in_personal_queues",group:"at_personal_queues",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_waiting_in_pq_breached_sla",group:"at_personal_queues",applicable:["user","service","team_stats_team","team_stats_user"]},{key:"out_email_waiting_in_personal_queues",group:"at_personal_queues",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"in_service_changed_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_service_change_received_per_day",group:"inbound_at_specific_daily",applicable:["service","team_stats_team","supervisor_stats_total"]},{key:"in_email_spam",group:"inbound_at_specific_daily",applicable:["service","team_stats_team"]},{key:"in_email_trash",group:"inbound_at_specific_daily",applicable:["service","team_stats_team"]},{key:"item_id",group:void 0,applicable:["item","team_stats_item"]},{key:"user_id",group:void 0,applicable:["user","team_stats_user"]},{key:"team_id",group:void 0,applicable:["user","team","teams_stats"]},{key:"service_id",group:void 0,applicable:["item","service","team_stats_team"]},{key:"list_id",group:void 0,applicable:[]},{key:"name",group:void 0,applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_service"]},{key:"firstname",group:void 0,applicable:["user","team_stats_user"]},{key:"lastname",group:void 0,applicable:["user","team_stats_user"]},{key:"login_id",group:void 0,applicable:["user","team_stats_user"]},{key:"extension",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"team_name",group:void 0,applicable:["user","supervisor_stats_agent"]},{key:"is_agent",group:void 0,applicable:["user","team_stats_user"]},{key:"is_super",group:void 0,applicable:["user"]},{key:"is_mobile",group:void 0,applicable:["user","team_stats_user"]},{key:"is_logged",group:void 0,applicable:["user","team_stats_user"]},{key:"login_time",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"acd_state",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"state_duration",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"reason",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"acd_next_state",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"next_reason",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_id",group:void 0,applicable:["user","team_stats_user"]},{key:"active_item_service_id",group:void 0,applicable:["user"]},{key:"active_item_service_name",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_media_type",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_state",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_direction",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_party_phone",group:void 0,applicable:["user"]},{key:"active_item_party_name",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_party_firstname",group:void 0,applicable:["user"]},{key:"active_item_party_lastname",group:void 0,applicable:["user"]},{key:"active_item_is_flagged",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_qm_monitor_user",group:void 0,applicable:["user"]},{key:"active_item_qm_monitor_mode",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_qm_monitor_item_id",group:void 0,applicable:["user"]},{key:"active_item_qm_monitored_item_id",group:void 0,applicable:["user"]},{key:"active_item_talk_duration",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_hold_duration",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_current_hold_duration",group:void 0,applicable:["user"]},{key:"active_item_sentiment",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_qm_is_recording",group:"active_item",applicable:["user","team_stats_user"]},{key:"items",group:void 0,applicable:["user","team_stats_user"]},{key:"media_type",group:void 0,applicable:["item","team_stats_item"]},{key:"state",group:void 0,applicable:["item","service","team_stats_item"]},{key:"direction",group:void 0,applicable:["item","team_stats_item"]},{key:"service_name",group:void 0,applicable:["item","team_stats_item"]},{key:"party_name",group:void 0,applicable:["item","team_stats_item"]},{key:"party_firstname",group:void 0,applicable:["item"]},{key:"party_lastname",group:void 0,applicable:["item"]},{key:"is_flagged",group:void 0,applicable:["item","team_stats_item"]},{key:"qm_is_recording",group:void 0,applicable:["item","team_stats_item"]},{key:"qm_monitor_user",group:void 0,applicable:["item"]},{key:"qm_monitor_mode",group:void 0,applicable:["item","team_stats_item"]},{key:"qm_monitor_item_id",group:void 0,applicable:["item"]},{key:"qm_monitored_item_id",group:void 0,applicable:["item","team_stats_item"]},{key:"intents",group:void 0,applicable:["item","team_stats_item"]},{key:"last_alert",group:void 0,applicable:["item","team_stats_item"]},{key:"talk_duration",group:"status",applicable:["item","team_stats_item"]},{key:"hold_duration",group:"status",applicable:["item","team_stats_item"]},{key:"current_hold_duration",group:"status",applicable:["item"]},{key:"sentiment",group:void 0,applicable:["item","team_stats_item"]},{key:"priority",group:"list",applicable:[]},{key:"state_reason",group:void 0,applicable:["service"]},{key:"is_enabled",group:"list",applicable:["team"]},{key:"ratio",group:"list",applicable:[]},{key:"outbound_campaign_link_group",group:"campaign",applicable:["service"]},{key:"client_type",group:void 0,applicable:["team_stats_user"]},{key:"phone_exists",group:void 0,applicable:["team_stats_user"]},{key:"presence_state",group:void 0,applicable:["team_stats_user"]},{key:"state_text",group:void 0,applicable:["team_stats_user"]},{key:"first_last_name",group:void 0,applicable:["supervisor_stats_agent"]},{key:"last_first_name",group:void 0,applicable:["supervisor_stats_agent"]}];function L(e){return x.filter((function(t){return t.group===e})).map((function(e){return e.key}))}function K(e){return x.filter((function(t){return t.applicable.some((function(t){return e.includes(t)}))})).map((function(e){return e.key}))}function F(e){var t;return null===(t=x.find((function(t){return t.key===e})))||void 0===t?void 0:t.group}var $=["chat","email","forum","voice","workitem"],U=K(["team_stats_team"]),B=K(["team_stats_user"]),q=K(["team_stats_item"]),G=["msteams"],H={success:"0",unable_to_get_access_token:"100",user_deauthorized:"101",no_integration_account:"102",mismatched_directory_id:"103",mismatched_client_id:"104",feature_disabled:"105",integration_account_changed:"106",no_emi_servers:"107",azure_user_deleted:"108",unsufficient_privileges:"109",refresh_token_expired:"110",other:"199"},V=["Available","AvailableIdle","Away","BeRightBack","Busy","BusyIdle","DoNotDisturb","Offline","PresenceUnknown"];function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=["telegram","line","facebook","nexmo","viber","twitter","wechat","whatsapp"];function Q(e){return!!e&&Y.includes(e)}z(["sms","web","remoteassist"]).concat(z(Y));var J=["phone_type_browser","phone_type_external","phone_type_hard_custom","phone_type_hard_default","phone_type_microsoft_teams","phone_type_nailed","phone_type_none","phone_type_soft_secure","phone_type_soft_unsecure"];function X(e){return J.includes(e)}var Z={invalid_credentials:"1",another_user_with_the_phone:"2",invalid_token:"3",already_logged_in:"4",exceeded_concurrent_agents_limit:"5",tenant_disabled:"6",account_locked:"7",ip_address_not_allowed:"9",account_disabled:"11",already_logged_in_with_the_same_session:"12",login_id_is_not_valid_for_application:"13",application_version_out_of_data:"14"};function ee(e){return"take_screenpop"==e.message_type}function te(e){return"send_screenpop"==e.message_type}function ne(e){return"transfer_data"==e.message_type}function re(e){return"agent_feature_item_event"==e.message_type}function ae(e){return"error_code"in e}var oe={forced_logout_by_another_session:"1",not_enough_privileges:"2",invalid_message_received:"3",phone_in_dial_plan_not_registered:"4",phone_not_in_dial_plan:"5",not_enough_privileges_for_chat:"6",forced_logout_by_supervisor:"7",forced_logout_by_disabling_tenant:"8",phone_not_registered:"9",destination_user_not_logged_in:"10",forced_logout_by_disabling_user:"11",already_has_active_session:"12",duplicate_subscription:"13"},ie=["voice","workitem","chat","email","forum","unknown","agent_chat"];function se(e){return!!e&&ie.includes(e)}var ce=["unknown","direct_call","outbound","scenario","feature_voicemail","feature_playback","feature_record_voice","mock_failed","mock_search","mock_reserved","chat"],ue=["unknown","queued","IVR","wrap_up","wrap_up_hold","delivered","delivery_pending","hold","completed"],le=["inbound","outbound"];function de(e){return le.includes(e)}var _e=["BUSINESS","HOME","MOBILE","FAX"],fe=["monitor","whisper","participate"];function pe(e){return"suggestion_url"in e}var me="dynamicscrm",ge="salesforce",he="servicenow",ve="rightnow",ye="zendesk",be=[me,ge,he,ve,ye],Se=["service_id","name","in_calls_waiting","in_max_wait_time","service_level","agents_ready","agents_logged","service_level_per_day","in_calls_handled_per_day","in_calls_abandoned_in_queue_per_day","in_ewt","in_average_speed_of_answer","calls_average_handling_time_per_day","out_calls_handled_per_day","out_calls_unattended_per_day","out_calls_unattended_ratio_per_day"],Ce=["DETAILS","RECENT","FAVORITE","THRESHOLD","MONITORING_CFG_NEW_AD","CAMPAIGN_MONITORING_CFG","VOICE_PROMPTS","TIMEZONES","BASE_CFG","CHAT_CENTER","AGENT_HOME_SCREEN","SUPERVISOR_HOME_SCREEN","INTENT_ALERTS_CFG","NAVIGATION_DATA","CAMPAIGNS_PAGE_CFG_NEW_AD"],Ie={};Ce.forEach((function(e){return Ie[e]=e}));var we=["media_type","state","direction","service_name","from_name","from_firstname","from_lastname","is_flagged","qm_is_recording","qm_monitor_user","qm_monitor_mode","qm_monitor_item_id","qm_monitored_item_id","talk_duration","hold_duration"];function Ee(e){return"user_type"in e&&"msteams"===e.user_type}function Oe(e){return"extension"in e&&!Ee(e)}},4744:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createWebSocketTransport:()=>Te,wifiEventsReceiver:()=>Ie});var r=n(26220),a=n(18189),o=n(64245);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}var c,u,l=(c=s({},a.publicIncomingWebSocketEvents,a.incomingServerInvocationEvents,a.incomingActivityServerEvents,a.incomingAgentQueryEvents,a.incomingThreePccDataEvents),u=null!=(u={onConnectInitiated:(0,o.event)(),onConnectError:(0,o.event)(),onTransportError:(0,o.event)(),onWebsocketErrorEvent:(0,o.event)(),onPingMessage:(0,o.event)(),onPongMessage:(0,o.event)(),onConnected:(0,o.event)(),onDisconnected:(0,o.event)(),onUnhandledDisconnection:(0,o.event)()})?u:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(u)).forEach((function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(u,e))})),c),d=s({},a.publicOutgoingWebSocketEvents,a.outgoingServerInvocationEvents,a.outgoingActivityServerEvents,a.outgoingAgentQueryEvents,a.outgoingThreePccDataEvents),_=n(40381),f=n(61650),p=n.n(f),m=n(26552);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var I=function(e){return(0,m.typedKeys)(a.publicOutgoingWebSocketEvents).reduce((function(t,n){return t[n]=function(t){e((0,m.withoutUndefinedKeys)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({action:n},t)))},t}),{})};function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=function(e){return(0,m.typedKeys)(a.outgoingActivityServerEvents).reduce((function(t,n){return t[n]=function(t){e(function(e,t){var n=t.request_id,r=T(t,["request_id"]);return{action:"server_data",request_id:n,server_type:"ACTIVITYSERVER",data:(0,m.withoutUndefinedKeys)(E({activityserver_action:e},r))}}(n,t))},t}),{})};function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var k=function(e){var t=function(t,n){return(0,m.typedKeys)(t).reduce((function(t,r){return R(P({},t),A({},r,(function(t){e(function(e,t,n){var r=t.request_id,a=t.params;return{action:"server_data",request_id:r,server_type:"PORTAL",data:{invocate_service:JSON.stringify({service:n,method:e,params:a})}}}(r,t,n))})))}),{})};return P({},t(a.UserContextServiceImpEvents,"UserContextServiceImp"),t(a.ServiceServiceImpEvents,"ServiceServiceImp"))};var N=n(2122),M=n(50712),j=n(50944);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var K=(0,m.typedKeys)(a.outgoingAgentQueryEvents).reduce((function(e,t){return e[t]=[],e}),{}),F=(0,M.createRequestTracker)({timeoutMilliseconds:1e4}),$=function(e,t){return(0,m.typedKeys)(a.outgoingAgentQueryEvents).reduce((function(n,a){return n[a]=function(n){(0,m.assertDefined)(null==n?void 0:n.request_id);var o=n.request_id;r.bpLogger.info('@@@ agent query "'.concat(a,'" with id "').concat(o,'"'));var i=(0,N.omit)(n,"request_id"),s=K[a].find((function(e){return(0,N.isEqual)(e.payload,i)}));if(s)return r.bpLogger.debug('Cache is found for "'.concat(a,'" agent_query')),void s.promise.then((function(e){t.agent_query_result(L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},e),{request_id:o}))}));var c=F.addRequest({requestId:o,displayName:a}).promise,u={payload:i,promise:c};K[a].push(u);var l=function(){var e=K[a].indexOf(u);-1!==e&&K[a].splice(e,1)};c.then((function(){setTimeout(l,1e3)})).catch((function(e){throw l(),new Error(e)})),e(function(e,t){var n={action:"agent_query",request_id:t.request_id,query:e},r=(0,m.withoutUndefinedKeys)(t);return Object.keys(r).length&&(n.params=r),n}(a,n))},n}),{})};function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}function q(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function G(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function H(e){return e.slice(a.T3PCC_EVENT_PREFIX.length)}var V=function(e){return(0,m.typedKeys)(a.outgoingThreePccDataEvents).reduce((function(t,n){return t[n]=function(t){e(function(e,t){return(0,m.withoutUndefinedKeys)({action:"3pcc_data",request_id:"request_id"in t?t.request_id:void 0,data:q(B({},t),{request:H(e)})})}(n,t))},t}),{})};function W(e,t){var n=e.data,o=n.event,i=G(n,["event"]),s=function(e){return"".concat(a.T3PCC_EVENT_PREFIX).concat(e)}(o),c=t[s];if(c)return c(i);r.bpLogger.warn('Receive unknown 3pcc_data event "'.concat(o,'":'),n)}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){if(Array.isArray(e))return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function ee(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function te(e,t){return Y(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||ae(e,t)||X()}function ne(e){return Y(e)||J(e)||ae(e)||X()}function re(e){return function(e){if(Array.isArray(e))return z(e)}(e)||J(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}var oe=function(e){var t=(0,o.createPromisesStorage)();return{resolvePromiseOnIncomingEvent:function(e){return ee(Z({},e),{dispenser:function(){var n=e.dispenser();return Object.keys(e.events()).forEach((function(n){e.eventTarget.addEventListener(n,(function(e){!function(e,n){var r,a=null===(r=n.detail.parameters)||void 0===r?void 0:r[0],o=se(e,a)||(null==a?void 0:a.request_id);o&&t.resolvePromise(o,a)}(n,e)}))})),n}})},returnPromiseOnOutgoingDispatch:function(n){return ee(Z({},n),{dispatch:function(){var r=n.dispatch(),a=n.events();return(0,m.typedKeys)(a).reduce((function(n,a){return ee(Z({},n),Q({},a,(function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=r[a],c=ne(o),u=c[0],l=c.slice(1),d=se(a,o[0])||ie(o)||e(),_=ee(Z({},u),{request_id:d}),f=[_].concat(re(l));s.apply(void 0,re(f));var p=te(t.createPromise(d),1),m=p[0];return m})))}),{})}})}}};function ie(e){var t,n;return e[0]&&(t=e[0],null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"request_id"in e[0]?e[0].request_id:void 0}function se(e,t){var n,r=null===(n=[{requestEventName:"agent_get_workitem_data",responseEventName:"agent_workitem_data",connectedByParamName:"workitem_id"}].find((function(t){return t.requestEventName===e||t.responseEventName===e})))||void 0===n?void 0:n.connectedByParamName;if(r)return null==t?void 0:t[r]}var ce=n(5518);function ue(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ue(o,r,a,i,s,"next",e)}function s(e){ue(o,r,a,i,s,"throw",e)}i(void 0)}))}}function de(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function _e(e){return e.host}function fe(e,t){var n=new Promise((function(t,n){var r=setTimeout((function(){clearTimeout(r),n(new Error("timeout"))}),e)}));return Promise.race([t,n])}function pe(e){return me.apply(this,arguments)}function me(){return me=le((function(e){var t=arguments;return de(this,(function(n){switch(n.label){case 0:return[4,fe(t.length>1&&void 0!==t[1]?t[1]:1e4,(0,ce.apiRequests)(e).getServerAddressList())];case 1:return[2,n.sent()]}}))})),me.apply(this,arguments)}function ge(e){return he.apply(this,arguments)}function he(){return(he=le((function(e){var t,n,r,a,o,i;return de(this,(function(s){switch(s.label){case 0:return t=e.serverAddressList,n=e.triedServerAddresses,r=e.localSettings,a=e.serverId,o=void 0,a&&(o=t.find((function(e){return e.id===a}))),o?[3,3]:[4,r.get("lastConnectedServerAddress")];case 1:return(i=s.sent())&&(o=t.find((function(e){return _e(e)===_e(i)}))),o||(o=t[0]),o?[4,r.remove("lastConnectedServerAddress")]:[3,3];case 2:s.sent(),s.label=3;case 3:return o&&(n[_e(o)]=1),[2,o]}}))}))).apply(this,arguments)}function ve(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ve(o,r,a,i,s,"next",e)}function s(e){ve(o,r,a,i,s,"throw",e)}i(void 0)}))}}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ie=new o.EventTargetConstructor,we=r.bpLogger.withPrefix("@WS");function Ee(e,t,n){var r,a;"action"in e&&("incoming"===t?(r="Incoming message",a="background: #a9eda9;"):"outgoing"===t&&(r="Outgoing message",a="background: lightblue;"),{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.REACT_APP_DISABLE_WEBSOCKET_MESSAGE_LOGGING||(console.groupCollapsed("%c".concat(r,"%c: ").concat(e.action),a,""),"mobile"===n.clientType()&&"agent_get_scenario_variables"===e.action&&(e.names=e.names.substring(0,500)+"..."),we.info(e),console.groupEnd()))}var Oe=function(){function e(t,n){var a,i,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Se(this,"localSettings",void 0),Se(this,"platformSpecific",void 0),Se(this,"ws",void 0),Se(this,"wsIsConnecting",void 0),Se(this,"resolversDecorators",void 0),Se(this,"eventCacheContainer",void 0),Se(this,"incomingEvents",void 0),Se(this,"outgoingEvents",void 0),Se(this,"dispenser",void 0),Se(this,"dispatch",void 0),Se(this,"incomingDispatch",void 0),Se(this,"subscriptions",void 0),Se(this,"lastRequestId",void 0),Se(this,"lastOutgoingPingTimestamp",void 0),Se(this,"wifiEventsReceiver",void 0),Se(this,"outgoingMessageInterceptors",void 0),Se(this,"lastServerAddressList",void 0),Se(this,"connect",void 0),Se(this,"disconnect",void 0),Se(this,"disconnectWithDispatch",void 0),Se(this,"sendPing",void 0),Se(this,"initiateSendMessage",void 0),Se(this,"addOutgoingMessageInterceptor",void 0),Se(this,"interceptOutgoingMessage",void 0),Se(this,"sendTransportErrorMessage",void 0),Se(this,"dispatchWifiMobEvent",void 0),this.localSettings=t,this.platformSpecific=n,this.resolversDecorators=oe(this.getNextRequestId.bind(this)),this.eventCacheContainer=(a=!1,i=[],{eventCacheDecorator:function(e){return y(v({},e),{dispatch:function(){var t=e.dispatch();return(0,m.typedKeys)(e.events()).reduce((function(e,n){return y(v({},e),h({},n,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var s;(s=t)[n].apply(s,b(r)),a&&i.push({event:n,payload:r})})))}),{})},dispenser:function(){var t=e.dispenser();return{subscribe:function(e){var n=t.subscribe(e);return a&&p()((function(){i.forEach((function(t){var n,r,a=t.event,o=t.payload;null===(r=e[a])||void 0===r||(n=r).call.apply(n,[e].concat(b(o)))}))})),{unsubscribe:function(){n.unsubscribe()}}}}}})},startCaching:function(){a=!0,r.bpLogger.debug("@WS start incoming events caching"),setTimeout((function(){a=!1,i.splice(0,i.length),r.bpLogger.debug("@WS stop incoming events caching")}),5e3)}}),this.incomingEvents=(0,o.typedEvents)(l).with(this.resolversDecorators.resolvePromiseOnIncomingEvent).with(this.eventCacheContainer.eventCacheDecorator),this.outgoingEvents=(0,o.typedEvents)(d).with(this.resolversDecorators.returnPromiseOnOutgoingDispatch),this.dispenser=this.incomingEvents.dispenser(),this.dispatch=this.outgoingEvents.dispatch(),this.incomingDispatch=this.incomingEvents.dispatch(),this.subscriptions=[],this.lastRequestId=1e4,this.lastOutgoingPingTimestamp=null,this.wifiEventsReceiver=Ie,this.outgoingMessageInterceptors=[];var c,u=this;this.connect=(c=ye((function(e,t){return Ce(this,(function(n){switch(n.label){case 0:return we.info("impl connect 104"),u.dispatchWifiMobEvent("wifi","connect  transport 81"),u.ws?[3,2]:(we.info("impl connect 107",{localSettings:u.localSettings,serverOrigin:e,serverId:t}),u.incomingDispatch.onConnectInitiated(),u.wsIsConnecting=u.createWebSocket(e,t).then((function(e){return we.info("impl connect resolved 112"),u.ws=e,u.wsIsConnecting=void 0,e}),(function(e){throw we.info("impl connect rejected 118"),u.wsIsConnecting=void 0,e})),[4,u.wsIsConnecting]);case 1:n.sent(),n.label=2;case 2:return[2]}}))})),function(e,t){return c.apply(this,arguments)}),this.disconnect=function(){we.info("impl disconnect 124"),s.ws&&s.ws.close(),delete s.ws},this.disconnectWithDispatch=function(){we.info("impl disconnectWithDispatch 130"),s.disconnect(),s.incomingDispatch.onDisconnected()},this.sendPing=function(){s.ws&&(s.lastOutgoingPingTimestamp=Date.now(),setTimeout((function(){s.dispatchWifiMobEvent("wifi","outgoingPing")}),200),s.ws.send(JSON.stringify(s.interceptOutgoingMessage({__ping__:"1"}))))},this.initiateSendMessage=function(e){s.ws?s.sendMessage(e,s.ws):s.wsIsConnecting?s.wsIsConnecting.then(s.initiateSendMessage.bind(s,e)):s.sendTransportErrorMessage()},this.addOutgoingMessageInterceptor=function(e){s.outgoingMessageInterceptors.push(e)},this.interceptOutgoingMessage=function(e){return s.outgoingMessageInterceptors.reduce((function(e,t){return t(e)}),e)},this.sendTransportErrorMessage=function(){return s.incomingDispatch.onTransportError({message:"attempt to send message over disconnected websocket"})},this.dispatchWifiMobEvent=function(e,t){s.wifiEventsReceiver.dispatchEvent(new o.CustomEventConstructor(e,{detail:t}))},this.subscriptions.push(this.outgoingEvents.dispenser().subscribe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}({},I(this.initiateSendMessage),D(this.initiateSendMessage),k(this.initiateSendMessage),$(this.initiateSendMessage,this.incomingDispatch),V(this.initiateSendMessage)))),this.pingWsConnection()}var t,n,i;return t=e,(n=[{key:"isConnected",value:function(){return!!this.ws}},{key:"createWebSocket",value:function(e,t){var n=this;return ye((function(){var r,a,o,i,s,c,u,l,d,f,p;return Ce(this,(function(m){switch(m.label){case 0:n.dispatchWifiMobEvent("wifi","createWebSocket transport 118"),o={},we.info("impl createWebSocket 152"),m.label=1;case 1:return m.trys.push([1,6,,7]),t&&n.lastServerAddressList||(we.info("impl createWebSocket 157"),n.lastServerAddressList=pe(e,5e3)),we.info("impl createWebSocket 160"),[4,n.lastServerAddressList];case 2:return r=m.sent(),we.info("impl createWebSocket 162",{serverAddressList:r,triedServerAddresses:o,serverId:t}),!t||r.find((function(e){return e.id===t}))?[3,4]:(n.lastServerAddressList=pe(e,5e3),[4,n.lastServerAddressList]);case 3:r=m.sent(),m.label=4;case 4:return[4,ge({serverAddressList:r,triedServerAddresses:o,localSettings:n.localSettings,serverId:t})];case 5:return a=m.sent(),we.info("impl createWebSocket 164",a),n.dispatchWifiMobEvent("wifi","serverAddress, ".concat(!!a)),[3,7];case 6:return i=m.sent(),s=(0,_.getErrorMessage)(i),we.info("impl createWebSocket catch 167",s),n.incomingDispatch.onConnectError({message:null!=s?s:""}),n.dispatchWifiMobEvent("wifi","createWebSocket failed"),[2,Promise.reject(i)];case 7:if(void 0===a)return we.info("impl createWebSocket onConnectError 174"),c="unable to get first server address",n.incomingDispatch.onConnectError({message:c}),[2,Promise.reject(new Error(c))];u="undefined"==typeof document||"https:"===window.location.protocol,l=void 0,d=void 0,m.label=8;case 8:return m.trys.push([8,10,,11]),we.info("impl createWebSocket 186",{serverAddress:a,useHttps:u}),[4,n.createWebSocketForServer({serverAddress:a,useHttps:u})];case 9:return l=m.sent(),we.info("impl createWebSocket 188"),[3,11];case 10:return f=m.sent(),we.info("impl createWebSocket catch 190",(0,_.getErrorMessage)(f)),g=f,h=Error,d=(null!=h&&"undefined"!=typeof Symbol&&h[Symbol.hasInstance]?h[Symbol.hasInstance](g):g instanceof h)?f:void 0,a=function(e){var t=e.serverAddressList,n=e.triedServerAddresses,r=t.find((function(e){return!n[_e(e)]}));return r&&(n[_e(r)]=1),r}({serverAddressList:r,triedServerAddresses:o,localSettings:n.localSettings}),[3,11];case 11:if(void 0===l&&void 0!==a)return[3,8];m.label=12;case 12:return we.info("impl createWebSocket 196"),l?(we.info("impl createWebSocket 198"),[4,n.localSettings.set("lastConnectedServerAddress",a)]):[3,14];case 13:return m.sent(),we.info("impl createWebSocket 200"),[2,l];case 14:return p="could not connect to agent server. ".concat(d?d.message:""),we.info("impl createWebSocket reject 204",p),n.incomingDispatch.onConnectError({message:p}),[2,Promise.reject(new Error(p))]}var g,h}))}))()}},{key:"createWebSocketForServer",value:function(e){var t=this,n=e.serverAddress,o=e.useHttps;this.dispatchWifiMobEvent("wifi","createWebSocketForServer 169");var i,s=o?"wss":"ws",c=_e(n),u=o?n.httpsPort:n.httpPort,l="".concat(s,"://").concat(c,":").concat(u);return i=new WebSocket(l),new Promise((function(e,n){setTimeout((function(){n(new Error("TransportWebsocketImpl: connection timeout"))}),1e4);var o=function(){t.dispatchWifiMobEvent("wifi","open"),Promise.resolve().then((function(){t.incomingDispatch.onConnected({host:c,port:String(u)})})),e(i),"mobile"!==t.platformSpecific.clientType()&&t.eventCacheContainer.startCaching()},s=function(e){var n,o;try{n=JSON.parse(e.data)}catch(u){return void t.incomingDispatch.onTransportError({message:"error parsing incoming message: ".concat((0,_.getErrorMessage)(u))})}if(n){if("__ping__"in n)return t.dispatchWifiMobEvent("wifi","__ping__"),t.incomingDispatch.onPingMessage(),i.send(JSON.stringify(t.interceptOutgoingMessage({__pong__:"1"}))),void setTimeout((function(){t.dispatchWifiMobEvent("wifi","__pong__")}),200);if("action"in n)return Ee(n,"incoming",t.platformSpecific),"action"in(o=n)&&"server_data"===o.action&&"PORTAL"===o.server_type&&"invocation_result"in o.data?void function(e,t){var n=e.request_id,r=e.data;try{t.invocation_result(P({request_id:n},JSON.parse(r.invocation_result)))}catch(u){return t.invocation_result({request_id:n,error:{message:"Result parsing error"}})}}(n,t.incomingDispatch):function(e){return"action"in e&&"server_data"===e.action&&"ACTIVITYSERVER"===e.server_type&&"activityserver_action"in e.data}(n)?void function(e,t){var n=e.request_id,a=e.data,o=a.activityserver_action,i=T(a,["activityserver_action"]),s=t[o];if(s)return s(O(E({},i),{request_id:n}));r.bpLogger.warn('Receive unknown Activity Server action "'.concat(o,'":'),a)}(n,t.incomingDispatch):function(e){return"action"in e&&"agent_query_result"===e.action&&("result"in e||"error_message"in e)}(n)?void function(e,t){var n=e.request_id,r=e.result,a=e.error_message,o=(0,m.withoutUndefinedKeys)({request_id:n,result:a?void 0:(0,j.convertKVArray)(r),error:a?{message:a}:void 0});F.hasRequest(n)&&F.onResponse(n,o),t.agent_query_result(o)}(n,t.incomingDispatch):function(e){return"action"in e&&"3pcc_data"===e.action}(n)?void W(n,t.incomingDispatch):function(e){return"action"in e&&(0,m.typedKeys)(a.publicIncomingWebSocketEvents).includes(e.action)}(n)?void function(e,t){var n=e.action,a=C(e,["action"]),o=t[n];if(o)return o(a);r.bpLogger.warn('Receive unknown WebSocket action "'.concat(n,'":'),e)}(n,t.incomingDispatch):void we.warn("Received unknown event from the server:",n);if("__pong__"in n){var s=Date.now();t.incomingDispatch.onPongMessage({timestamp:s});var c=t.lastOutgoingPingTimestamp?s-t.lastOutgoingPingTimestamp:0;return void setTimeout((function(){var e=t.lastOutgoingPingTimestamp?c/1e3:"";t.dispatchWifiMobEvent("wifi","incomingPong, RTT: ".concat(e," seconds"))}),200)}}t.incomingDispatch.onTransportError({message:"unrecognized incoming message: neither __ping__ nor __pong__ nor action"})},l=function(e){we.info("impl onTransportError 254",e),t.incomingDispatch.onWebsocketErrorEvent(e)},d=function(){we.info("impl websocket closed"),i.removeEventListener("open",o),i.removeEventListener("message",s),i.removeEventListener("error",l),i.removeEventListener("close",d),t.ws===i&&(we.info("impl websocket deleted"),t.dispatchWifiMobEvent("wifi","close"),delete t.ws,t.incomingDispatch.onDisconnected())};i.addEventListener("open",o),i.addEventListener("message",s),i.addEventListener("error",l),i.addEventListener("close",d)}))}},{key:"sendMessage",value:function(e,t){Ee(e,"outgoing",this.platformSpecific),t.send(JSON.stringify(this.interceptOutgoingMessage(e)))}},{key:"getNextRequestId",value:function(){return(this.lastRequestId++).toString()}},{key:"getStateData",value:function(){return{}}},{key:"resetState",value:function(){this.disconnect(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.splice(0)}},{key:"cleanup",value:function(){this.disconnect(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.splice(0)}},{key:"pingWsConnection",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&"undefined"!=typeof document&&(window.addEventListener("online",(function(){we.info("impl online event"),e.sendPing()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&(we.info("impl visible event"),e.sendPing())})))}}])&&be(t.prototype,n),i&&be(t,i),e}();function Te(e,t){return new Oe(e,t)}},88898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UIContext:()=>d,UIContextProvider:()=>_,useUIState:()=>f});var r=n(52322),a=n(66029),o=n(86702),i=n(40381);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u="UIContext",l={isTabNavHighlighted:!1,setIsTabNavHighlighted:(0,i.throwNoProviderError)(u)},d=(0,o.createContext)(l);d.displayName=u;var _=function(e){var t=e.children,n=c((0,a.useState)(l.isTabNavHighlighted),2),o=n[0],s=n[1];!function(e){var t=(0,a.useCallback)((function(){e(!1),document.body.classList.remove("tab-highlighted")}),[e]),n=(0,a.useCallback)((function(){e(!0),document.body.classList.add("tab-highlighted")}),[e]);(0,i.useEventListener)("mousedown",t,document,!0),(0,i.usePressKeyHandler)("Tab",n,{capture:!0})}(s);var u=(0,a.useMemo)((function(){return{isTabNavHighlighted:o,setIsTabNavHighlighted:s}}),[o]);return(0,r.jsx)(d.Provider,{value:u,children:t})},f=function(){return(0,o.useContext)(d)}},62514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useUploadChatFile:()=>d,useUploadContactPicture:()=>_,useUploadEmailFile:()=>f,useUploadFile:()=>p,useUploadMediaFile:()=>m});var r=n(66029),a=n(84700),o=n.n(a),i=n(26220),s=n(5518),c=n(79607),u=n(97329),l=n(40381);function d(){var e=(0,c.useSessionState)();return(0,r.useCallback)((function(t,n){var r=t.data,a=t.token,c=t.user,d=t.tenant,_=n.onSuccess,f=n.onError,p=n.onProgress;(0,u.assertAuthorizedSession)(e);var m=o().CancelToken.source(),g={url:"".concat(e.serverOrigin).concat(s.requestUrls.uploadChatFile,"?").concat((0,s.paramsToQueryString)({token:a,user:c,tenant:d})),method:"POST",cancelToken:m.token,headers:{"Content-Type":"multipart/form-data"},data:r};return p&&(g.onUploadProgress=function(e){var t=Math.round(100*e.loaded/e.total);null==p||p(t)}),o()(g).then((function(e){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.data;if(n)_(n);else{var r=e&&e.data||{},a=r.message,o=void 0===a?"No file data in response":a,i=r.code;null==f||f({message:o,code:void 0===i?"Unknown error code":i})}})).catch((function(e){i.bpLogger.error((0,l.getErrorMessage)(e)),null==f||f(e),null==p||p(100)})),Promise.resolve(m.cancel)}),[e])}function _(){var e=(0,c.useSessionState)();return(0,r.useCallback)((function(t){var n=t.formDataWithFile,r=t.contactId,a=t.callbacks,c=a.onSuccess,d=a.onError;(0,u.assertAuthorizedSession)(e);var _=e.sessionId,f=e.loginId,p=e.domain,m=e.serverOrigin,g="".concat(m).concat(s.requestUrls.uploadContactPicture,"?").concat((0,s.paramsToQueryString)({token:_,user:f,tenant:p}));_&&n.append("token",_),p&&n.append("url",p),f&&n.append("user",f),n.append("contact",r);var h={url:g,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:n};o()(h).then((function(e){200===e.status?c():d()})).catch((function(e){i.bpLogger.error((0,l.getErrorMessage)(e)),d&&d()}))}),[e])}function f(){var e=(0,c.useSessionState)();return(0,r.useCallback)((function(t,n){var r=t.data,a=t.token,c=t.user,d=t.tenant,_=n.onSuccess,f=n.onError,p=n.onProgress;(0,u.assertAuthorizedSession)(e);var m=o().CancelToken.source(),g={url:"".concat(e.serverOrigin).concat(s.requestUrls.uploadEmailAttachment,"?").concat((0,s.paramsToQueryString)({token:a,user:c,tenant:d})),method:"POST",cancelToken:m.token,headers:{"Content-Type":"multipart/form-data"},data:r};return p&&(g.onUploadProgress=function(e){var t=Math.round(100*e.loaded/e.total);null==p||p(t)}),o()(g).then((function(e){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.data;if(n)_(n[0]);else{var r=e&&e.data||{},a=r.message,o=void 0===a?"No file data in response":a,i=r.code;null==f||f({message:o,code:void 0===i?"Unknown error code":i})}})).catch((function(e){i.bpLogger.error((0,l.getErrorMessage)(e)),null==f||f(e),null==p||p(100)})),Promise.resolve(m.cancel)}),[e])}function p(){var e=(0,c.useSessionState)();return(0,r.useCallback)((function(t,n){var r=n.type;return new Promise((function(n,a){(0,u.assertAuthorizedSession)(e);var o=e.sessionId,i=e.loginId,c=e.domain,l=e.serverOrigin,d="image"===r?"mediaFileUpload":"userPromptUpload",_=(0,s.paramsToQueryString)({token:o,user:i,tenant:c}),f="".concat(l).concat(s.requestUrls.uploadFile).replace("{type}",d),p=new FormData;p.append("token",o),p.append("user",i),p.append("file",t),c&&p.append("url",c);var m=new XMLHttpRequest;m.open("POST","".concat(f,"?").concat(_)),m.withCredentials=!0,m.onload=function(){if(200==m.status){var e;try{e=JSON.parse(m.responseText)}catch(t){e=null}return e?"string"==typeof e.data?n(e.data):a({message:e.message,code:e.code}):a({message:"Invalid response",code:"invalid_response"})}},m.send(p)}))}),[e])}function m(){var e=(0,c.useSessionState)();return(0,r.useCallback)((function(t){var n=t.formDataWithFile,r=t.callbacks,a=r.onSuccess,c=r.onError;(0,u.assertAuthorizedSession)(e);var d=e.sessionId,_=e.loginId,f=e.domain,p=e.serverOrigin,m="".concat(p).concat(s.requestUrls.mediaFileUpload,"?").concat((0,s.paramsToQueryString)({token:d,user:_,tenant:f}));d&&n.append("token",d),f&&n.append("url",f),_&&n.append("user",_);var g={url:m,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:n};o()(g).then((function(e){if(200===e.status){var t=e.data.data;a(t)}else c&&c("")})).catch((function(e){i.bpLogger.error((0,l.getErrorMessage)(e)),c&&c(e)}))}),[e])}},93240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserActivityStateContextProvider:()=>i,useUserActivityState:()=>c,useUserActivityStateConnector:()=>d,useUserActivityStateMethods:()=>l,useUserActivityStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("UserActivityStateContextProvider"),o=a.getContext,i=a.UserActivityStateContextProvider,s=(0,r.createStateHooks)("userActivityState",o),c=s.useUserActivityState,u=s.useUserActivityStateRef,l=s.useUserActivityStateMethods,d=s.useUserActivityStateConnector},22868:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserDetailsStateContextProvider:()=>s,getStateDuration:()=>S,getUserStatusIcon:()=>b,useSubscribeForUserDetails:()=>y,useUserDetails:()=>g,useUserDetailsById:()=>p,useUserDetailsOnceGetter:()=>f,useUserDetailsSelector:()=>m,useUserDetailsState:()=>u,useUserDetailsStateConnector:()=>_,useUserDetailsStateMethods:()=>d,useUserDetailsStateRef:()=>l});var r=n(86702),a=n(13641),o=(0,a.createStateContextProvider)("UserDetailsStateContextProvider"),i=o.getContext,s=o.UserDetailsStateContextProvider,c=(0,a.createStateHooks)("userDetailsState",i),u=c.useUserDetailsState,l=c.useUserDetailsStateRef,d=c.useUserDetailsStateMethods,_=c.useUserDetailsStateConnector,f=function(){return(0,r.useContextSelector)(i(),(function(e){return e.methods.getUserDetailsOnce}))},p=function(e){return(0,r.useContextSelector)(i(),(function(t){if(e)return t.state.userDetails[e]}))},m=function(e,t){return(0,r.useContextSelector)(i(),(function(n){var r;return t(null===(r=n.state.userDetails[e])||void 0===r?void 0:r.data)}))},g=function(){return(0,r.useContextSelector)(i(),(function(e){return e.state.userDetails}))},h=n(66029);function v(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function y(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d(),r=n.subscribeForUserDetails,a=n.unsubscribeFromUserDetails;(0,h.useEffect)((function(){return e&&t&&(v(e,Array)?e.forEach((function(e){return r(e)})):r(e)),function(){e&&(v(e,Array)?e.forEach((function(e){return a(e)})):a(e))}}),[t,r,a,e])}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==e?void 0:e.presenceState;if(e){if(!e.isLogged)return"loggedOut";if(t&&!e.acdState&&!e.isSuper&&!e.userType)switch(t){case"available":return"ready";case"busy":return r();default:return"dnd"}if(void 0!==e.acdState)switch(e.acdState){case"":return"supervising";case"ready":return"ready";case"not_ready":return"notReady";case"busy":return r();case"after_call_work":return"afterCallWork"}if(e.capacity){var n=function(t){var n=e.capacity&&e.capacity[t];return n&&n.usedSlots>0};if(n("voice")||n("workitem"))return"busyCall";if(n("chat"))return"busyChat";if(n("email"))return"busyEmail"}switch(t){case"available":return"ready";case"offline":return"loggedOut";case"away":return"notReady";case"dnd":return"dnd";case"busy":return"busy"}return e.isSuper?"supervising":"unknown"}function r(){return t("voice")||t("workitem")?"busyCall":t("chat")?"busyChat":t("email")?"busyEmail":"busy";function t(t){var n;return null==e||null===(n=e.items)||void 0===n?void 0:n.some((function(e){return e.mediaType===t}))}}}var S=function(e){if(!e)return 0;var t=e.data,n=e.lastUpdated,r=Number(t.stateDuration);return r?r+Math.floor((Date.now()-n)/1e3):0}},7420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertUserDetailsItem:()=>s});var r=n(25842),a=n(57041),o=n(13583),i=n(50944);function s(e){var t;return(0,o.isRegularUserDetails)(e)?(e.capacity&&(t={},Object.keys(e.capacity).map((function(n){var r=n,a=e.capacity[r];t[r]={active:"1"===a.active,usedSlots:Number(a.used_slots)||0}}))),{userId:e.user_id,activeItemId:e.active_item_id,firstName:e.firstname,lastName:e.lastname,isLogged:(0,i.transportToBoolean)(e.is_logged),isSuper:(0,i.transportToBoolean)(e.is_super),isAgent:(0,i.transportToBoolean)(e.is_agent),loginId:e.login_id,photoId:e.photo_id,teamId:e.team_id,items:Object.values(e.items||{}).map((function(e){return{mediaType:e.media_type,direction:e.direction,talkDuration:Number(e.talk_duration),holdDuration:Number(e.hold_duration),id:e.item_id,fromFirstname:e.from_firstname,fromLastname:e.from_lastname,fromName:e.from_name,isFlagged:(0,i.transportToBoolean)(e.is_flagged),qmIsRecording:(0,i.transportToBoolean)(e.qm_is_recording),qmMonitorItemId:e.qm_monitor_item_id,qmMonitorMode:e.qm_monitor_mode,qmMonitorUser:e.qm_monitor_user,qmMonitoredItemId:e.qm_monitored_item_id,serviceName:e.service_name,state:e.state,userId:e.user_id,serviceId:e.service_id,sentiment:Number(e.sentiment),partyName:e.party_name}})),reason:e.reason,nextReason:e.next_reason,capacity:t,extension:e.extension,acdState:e.acd_state,acdNextState:e.acd_next_state,presenceState:e.presence_state,stateDuration:e.state_duration}):{userId:e.user_id,loginId:e.login_id,photoId:e.photo_url,presenceState:(0,a.convertMsTeamsAvailability)(e.availability),hasChat:(0,i.transportToBoolean)(e.has_chat),msTeamsPhones:e.phones,firstName:e.firstname,lastName:e.lastname,userType:"msteams",teamId:r.MS_TEAMS_CHATS_CATEGORY_ID,isLogged:"Offline"!==e.availability&&"PresenceUnknown"!==e.availability,isSuper:!1,email:e.email}}},6101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialUserDetailsState:()=>r,userDetailsStateControlEvents:()=>i,userDetailsStateTrackerEvents:()=>o});var r=function(){return{userDetails:{}}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={subscribeForUserDetails:(0,a.event)(),unsubscribeFromUserDetails:(0,a.event)(),subscribeToUserListDetails:(0,a.event)(),unsubscribeFromUserListDetails:(0,a.event)(),getUserDetailsOnce:(0,a.asyncEvent)(),saveStaticUserDetails:(0,a.event)()}},48567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserDetailsStateImpl:()=>h});var r=n(32669),a=n(29046),o=n(50944);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function p(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?i(e):t;var n}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(h,e);var t,n,a,p=g(h);function h(){var e;return s(this,h),u(i(e=p.apply(this,arguments)),"userIdList",{}),u(i(e),"isSubscribed",!1),u(i(e),"subscribeTimeout",null),u(i(e),"cachedUserDetails",{}),u(i(e),"subscribe",(function(){if(e.subscribeTimeout&&clearTimeout(e.subscribeTimeout),Object.keys(e.userIdList).length){var t=e.getUserFields(),n={};["media_type"].forEach((function(e,t){return n[t]=e})),e.subscribeTimeout=setTimeout((function(){e.transport.dispatch.agent_subscribe_users_details({type:"DETAILS",users:(0,o.toKVArray)(Object.keys(e.userIdList)),user_fields:t,item_fields:n}),e.isSubscribed=!0}),500)}})),u(i(e),"unsubscribe",(function(){e.isSubscribed?(e.transport.dispatch.agent_unsubscribe_users_details({type:"DETAILS"}),e.isSubscribed=!1):e.subscribeTimeout&&clearTimeout(e.subscribeTimeout)})),u(i(e),"subscribeForUserDetails",(function(t){e.unsubscribe(),e.userIdList[t]?e.userIdList[t]++:e.userIdList[t]=1,e.subscribe()})),u(i(e),"unsubscribeFromUserDetails",(function(t){e.unsubscribe(),e.userIdList[t]>1?e.userIdList[t]--:delete e.userIdList[t],e.subscribe()})),u(i(e),"subscribeToUserListDetails",(function(t){e.unsubscribe(),e.userIdList={},t.forEach((function(t){e.userIdList[t]=1})),e.subscribe()})),u(i(e),"unsubscribeFromUserListDetails",(function(){e.userIdList={},e.unsubscribe()})),u(i(e),"onUserDetails",(function(t){if("DETAILS"===t.type){var n=Object.keys(e.stateData.userDetails).reduce((function(t,n){var r=e.stateData.userDetails[n];return(null==r?void 0:r.data.isStatic)&&(t[n]=r),t}),{});Object.values(t.users).map(r.convertUserDetailsItem).forEach((function(e){n[e.userId]={data:e,lastUpdated:Date.now()}})),e.updateState((function(e){return f(_({},e),{userDetails:n})}))}})),u(i(e),"getUserDetailsOnce",(function(t){var n=t.type,a=void 0===n?"DETAILS":n,i=t.userIds,s=t.fields;if(e.userDetailsAreCached(i))return Promise.resolve(e.getCachedUserDetails(i));var c=e.getUserFields();return e.transport.dispatch.agent_get_users_details({type:a,users:(0,o.toKVArray)(i),user_fields:s?(0,o.toKVArray)(s):c}).then((function(t){return Object.values(t.users).map((function(t){var n=(0,r.convertUserDetailsItem)(t);return e.cachedUserDetails[n.userId]=n,n}))}))})),u(i(e),"saveStaticUserDetails",(function(t){e.updateState((function(e){return f(_({},e),{userDetails:_({},e.userDetails,t.reduce((function(e,t){return e[t.userId]={lastUpdated:Date.now(),data:t},e}),{}))})}))})),e}return t=h,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_users_details:this.onUserDetails}),this.fromClientDispenser.subscribe({subscribeForUserDetails:this.subscribeForUserDetails,unsubscribeFromUserDetails:this.unsubscribeFromUserDetails,subscribeToUserListDetails:this.subscribeToUserListDetails,unsubscribeFromUserListDetails:this.unsubscribeFromUserListDetails,getUserDetailsOnce:this.getUserDetailsOnce,saveStaticUserDetails:this.saveStaticUserDetails}))}},{key:"getUserFields",value:function(){var e=this.appConfigConnector.getStateData().agentStates,t={},n=["user_id","is_logged","is_super","presence_state","reason","photo_id","extension","firstname","lastname"];return e?n.push("acd_state","items","state_duration"):n.push("capacity"),n.forEach((function(e,n){return t[n]=e})),t}},{key:"userDetailsAreCached",value:function(e){var t=this;return e.every((function(e){return t.cachedUserDetails[e]}))}},{key:"getCachedUserDetails",value:function(e){var t=this;return e.map((function(e){return t.cachedUserDetails[e]}))}},{key:"cleanup",value:function(){l(d(h.prototype),"cleanup",this).call(this),this.userIdList={},this.isSubscribed=!1,this.subscribeTimeout=null,this.cachedUserDetails={}}},{key:"resetState",value:function(){l(d(h.prototype),"resetState",this).call(this),this.userIdList={},this.isSubscribed=!1,this.subscribeTimeout=null,this.cachedUserDetails={}}}])&&c(t.prototype,n),a&&c(t,a),h}(n(16152).StateFactory.createBaseStateClass({name:"userDetailsState",controlEvents:a.userDetailsStateControlEvents,trackerEvents:a.userDetailsStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:a.getInitialUserDetailsState,dependencies:["transport","appConfigConnector"]}))},43909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPresenceStateContextProvider:()=>g,useUserPresenceCurrentState:()=>h,useUserPresenceOptions:()=>v,useUserPresenceSelectedOption:()=>y,useUserPresenceStateMethods:()=>b});var r=n(52322),a=n(66029),o=n.n(a),i=n(86702),s=n(53179);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var l,d=[{canSelect:!0,label:"Available",localizeId:"presence_available",presenceState:"available"},{canSelect:!0,canSelectDuringInteraction:!0,label:"Do Not Disturb",localizeId:"presence_dnd",presenceState:"dnd"},{label:"Away",localizeId:"presence_away",presenceState:"away"},{label:"Offline",localizeId:"presence_offline",presenceState:"offline"},{canSelectDuringInteraction:!0,requiresNextState:!0,label:"Busy",localizeId:"acd_busy",presenceState:"busy"},{label:"Ringing",requiresNextState:!0,localizeId:"acd_ringing",presenceState:"ringing"}],_=function(e){var t=function(t){return t in e};return d.map((function(n){var r=n.localizeId||n.label;return u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},n),{localizedLabel:t(r)?e[r](""):n.label})}))};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var t=e.connector,n=e.children,c=m((0,a.useState)((function(){return t.getStateData()})),2),u=c[0],d=c[1],f=(0,s.useLocalizationState)().t.AGENT_STATE_CONTROL;o().useEffect((function(){var e=t.dispenser.subscribe({onChange:function(e){d((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},t,e)}))},onInitialState:function(e){d(e)}});return function(){return e.unsubscribe()}}),[t,f]);var g=(0,a.useMemo)((function(){var e=_(f),n=function(e,t){return t.find((function(t){return t.presenceState===e}))}(u.presenceState,e);return{state:u,methods:t.dispatch,connector:t,options:e,selectedOption:n}}),[u,t,f]);return l||((l=(0,i.createContext)(g)).displayName="UserPresenceStateContext"),(0,r.jsx)(l.Provider,{value:g,children:n})},h=function(){return(0,i.useContextSelector)(l,(function(e){return e.state.presenceState}))},v=function(){return(0,i.useContextSelector)(l,(function(e){return e.options}))},y=function(){return(0,i.useContextSelector)(l,(function(e){return e.selectedOption}))},b=function(){return(0,i.useContextSelector)(l,(function(e){return e.methods}))}},13479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialUserPresenceState:()=>r,userPresenceStateControlEvents:()=>i,userPresenceStateTrackerEvents:()=>o});var r=function(){return{presenceState:void 0}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={setUserPresenceState:(0,a.event)()}},33699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserPresenceStateImpl:()=>_});var r=n(78820);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?a(e):t;var n}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,c=d(u);function u(){var e;return o(this,u),s(a(e=c.apply(this,arguments)),"onAgentStateChange",(function(t){e.updateState({presenceState:t.presence_state})})),s(a(e),"onAgentItemCreatedOrChanged",(function(t){e.changeAvailableStateByIncomingInteraction(t),e.changeRingingStateByIncomingInteraction(t),e.changeStateByCompletedInteraction(t)})),s(a(e),"changeAvailableStateByIncomingInteraction",(function(t){"available"===e.stateData.presenceState&&(e.isIncomingCall(t)?e.updateState({presenceState:"ringing",nextPresenceState:"available"}):(e.isDelivered(t)||e.isOutgoingCall(t))&&e.updateState({presenceState:"busy",nextPresenceState:"available"}))})),s(a(e),"changeRingingStateByIncomingInteraction",(function(t){"ringing"===e.stateData.presenceState&&e.isDelivered(t)&&e.updateState({presenceState:"busy",nextPresenceState:"available"})})),s(a(e),"setUserPresenceState",(function(t,n){e.updateState({presenceState:t,nextPresenceState:n}),e.transport.dispatch.user_change_state({presence_state:t})})),e}return t=u,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_change_state:this.onAgentStateChange,agent_item_created:this.onAgentItemCreatedOrChanged,agent_item_changed:this.onAgentItemCreatedOrChanged}),this.fromClientDispenser.subscribe({setUserPresenceState:this.setUserPresenceState}))}},{key:"isIncomingCall",value:function(e){return this.isPendingPhone(e)&&"inbound"===e.direction}},{key:"isOutgoingCall",value:function(e){return this.isPendingPhone(e)&&"outbound"===e.direction}},{key:"isPendingPhone",value:function(e){return"delivery_pending"===e.state&&"voice"===e.media_type}},{key:"isDelivered",value:function(e){return"delivered"===e.state}},{key:"changeStateByCompletedInteraction",value:function(e){"completed"!==e.state||"busy"!==this.stateData.presenceState&&"ringing"!==this.stateData.presenceState||this.updateState({presenceState:this.stateData.nextPresenceState,nextPresenceState:void 0})}}])&&i(t.prototype,n),r&&i(t,r),u}(n(16152).StateFactory.createBaseStateClass({name:"userPresenceState",controlEvents:r.userPresenceStateControlEvents,trackerEvents:r.userPresenceStateTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["transport"],getInitialState:r.getInitialUserPresenceState}))},20847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserProfileStateContextProvider:()=>i,useUserProfileState:()=>c,useUserProfileStateConnector:()=>d,useUserProfileStateMethods:()=>l,useUserProfileStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("UserProfileStateContextProvider"),o=a.getContext,i=a.UserProfileStateContextProvider,s=(0,r.createStateHooks)("userProfileState",o),c=s.useUserProfileState,u=s.useUserProfileStateRef,l=s.useUserProfileStateMethods,d=s.useUserProfileStateConnector},43886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialUserProfileState:()=>r,userProfileStateControlEvents:()=>i,userProfileStateTrackerEvents:()=>o});var r=function(){return{errors:[],greetings:[],isSaveInProgress:!1,isSaved:!1,languages:[],persistentAvatar:{},userLanguage:"",userProfile:null}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={saveData:(0,a.event)(),saveReset:(0,a.event)(),updateAvatar:(0,a.event)()}},26003:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserProfileStateImpl:()=>D});var r=n(3211),a=n(26220),o=n(79812),i=n(40381),s=n(26552),c=n(68939),u=n(16152),l=function(e){return e?{about:e.about,city:e.city,country:e.country,email:e.email,extension:e.extension,firstName:e.first,forwardDestination:e.forward_destination,forwardEnabled:"1"===e.forward_enabled,forwardTimeout:e.forward_timeout,language:e.language,lastName:e.last,mobilePhone:e.mobile_phone,nickname:e.nickname,photo:e.photo,state:e.state,timezone:e.timezone,title:e.title,voicemailEnabled:"1"===e.voicemail_enabled,voicemailTimeout:e.voicemail_timeout,workPhone:e.work_phone}:null},d=function(e){return{about:"about",city:"city",country:"country",email:"email",extension:"extension",firstName:"first",forwardDestination:"destination",forwardEnabled:"enabled",forwardTimeout:"timeout",language:"language",lastName:"last",mobilePhone:"mobile_phone",nickname:"nickname",photo:"photo",state:"state",timezone:"timezone",title:"title",voicemailEnabled:"enabled",voicemailTimeout:"timeout",workPhone:"work_phone"}[e]},_=function(e,t){return"boolean"==typeof e?e?"1":"0":["language","forwardTimeout","voicemailTimeout"].includes(t)?e||void 0:e},f=function(e){return{id:e.id,name:e.name,voiceFileId:e.voice_file_id,active:"1"===e.active}};function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,s,"next",e)}function s(e){m(o,r,a,i,s,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function I(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?p(e):t;var n}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function O(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var T=function(e){var t=(0,c.uuid)().toUpperCase(),n=e/3*16,r=(e+1)/3*16;return(0,i.getRandomInt)(n,r,16)+t.substring(1)},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(m,e);var t,n,c,u=E(m);function m(){var e;h(this,m),y(p(e=u.apply(this,arguments)),"updateAvatar",(function(t){e.produceState((function(e){Object.assign(e.persistentAvatar,t)}))})),y(p(e),"updateSessionUserInfo",(function(){var t,n;e.sessionConnector.dispatch.updatePersonalDetails((0,s.withoutUndefinedKeys)({firstName:null===(t=e.stateData.userProfile)||void 0===t?void 0:t.firstName,lastName:null===(n=e.stateData.userProfile)||void 0===n?void 0:n.lastName}))})),y(p(e),"onAgentWelcome",(function(){var t=e.getInitialPersistentAvatar();e.updateAvatar({src:t,draftSrc:t})})),y(p(e),"saveReset",(function(){e.produceState((function(e){e.isSaved=!1,e.isSaveInProgress=!1,e.errors=[]}))}));var t=p(e);y(p(e),"getData",g((function(){return O(this,(function(e){switch(e.label){case 0:return[4,Promise.all([t.getUserProfileData(),t.getVoiceGreetingsData(),t.getLanguagesData()])];case 1:return e.sent(),t.updateSessionUserInfo(),t.updateUserLanguage(),[2]}}))})));var n=p(e);y(p(e),"getUserProfileData",g((function(){var e,t,r;return O(this,(function(o){switch(o.label){case 0:return[4,n.transport.dispatch.user_profile_info_read()];case 1:return e=o.sent(),t=e.result,r=e.error,t?n.produceState((function(e){e.userProfile=l(t[0])})):a.bpLogger.error(null==r?void 0:r.message),[2]}}))})));var r=p(e);y(p(e),"getVoiceGreetingsData",g((function(){var e,t,n,o;return O(this,(function(i){switch(i.label){case 0:return[4,r.transport.dispatch.voice_mail_greetings()];case 1:return e=i.sent(),t=e.result,n=e.error,t?(o=Object.values(t).map((function(e){return f(e)})),r.produceState((function(e){e.greetings=o}))):a.bpLogger.error(null==n?void 0:n.message),[2]}}))})));var o=p(e);y(p(e),"getLanguagesData",g((function(){var e,t,n,r;return O(this,(function(i){switch(i.label){case 0:return[4,o.transport.dispatch.localized_languages()];case 1:return e=i.sent(),t=e.result,n=e.error,t?(r=Object.values(t).map((function(e){return e})),o.produceState((function(e){e.languages=r}))):a.bpLogger.error(null==n?void 0:n.message),[2]}}))})));var i,c=p(e);return y(p(e),"saveData",(i=g((function(e,t){var n,r,a,o,i,s,u,l,f,p,m,g,h;return O(this,(function(v){switch(v.label){case 0:return(n=c.stateData.userProfile)?(r=Object.assign({},n,e),a=[],o=c.localizationConnector.getStateData(),i=o.t,s=i.USER_PROFILE,r.firstName||a.push({field:"firstName",message:s.error_empty_first_name()}),r.lastName||a.push({field:"lastName",message:s.error_empty_last_name()}),!e.email&&n.email&&a.push({field:"email",message:s.error_empty_email()}),e.email&&!e.email.match(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g)&&a.push({field:"email",message:s.error_invalid_email()}),r.forwardEnabled&&(r.forwardDestination||a.push({field:"forwardDestination",message:s.error_call_forwarding_empty_destination()}),r.forwardTimeout||a.push({field:"forwardTimeout",message:s.error_call_forwarding_empty_timeout()})),r.voicemailEnabled&&(r.voicemailTimeout||a.push({field:"voicemailTimeout",message:s.error_voicemail_empty_timeout()})),!e.email||a.length?[3,2]:[4,c.transport.dispatch.agent_email_uniqueness_check({email:e.email})]):[2];case 1:l=v.sent(),f=l.result,p=l.error,(null==f||null===(u=f[0])||void 0===u?void 0:u.result)===e.email&&a.push({field:"email",message:s.error_email_already_used()}),p&&a.push({field:"email",message:s.error_email_check_failed()}),v.label=2;case 2:return a.length?(c.produceState((function(e){e.errors=a})),[2]):(m={},g=function(e,t,n){m[e]||(m[e]={}),t&&(m[e][t]=n)},Object.keys(e).map((function(t){var r=t,a=e[r];void 0!==a&&("photo"===r&&(a?g("user_profile_photo_insert",r,a):n.photo&&g("user_profile_photo_delete")),["firstName","lastName","title","about"].includes(r)&&g("user_profile_info_update",r,a),["nickname","extension","workPhone","mobilePhone","email"].includes(r)&&g("user_contact_info_update",r,a),["timezone","language","country","state","city"].includes(r)&&g("user_location_info_update",r,a),["forwardEnabled","forwardDestination","forwardTimeout"].includes(r)&&g("user_forwarding_info_update",r,a),["voicemailEnabled","voicemailTimeout"].includes(r)&&g("user_voicemail_info_update",r,a))})),(h=Object.keys(m).map((function(e){var t=m[e],r=!1,a=Object.keys(t).reduce((function(e,a){var o=a,i=t[o];t[o]!==n[o]&&(r=!0);var s=d(o),c=_(i,o);return C(S({},e),y({},s,c))}),{});if(Object.keys(a).length&&!r)return Promise.resolve({result:{allOk:!0},request_id:"FAKE_ID"});var o={query:e};return Object.keys(a).length&&(o.params=a),c.transport.dispatch.agent_modify(o)}))).length&&(c.produceState((function(e){e.isSaveInProgress=!0})),Promise.all(h).then((function(e){var t=[];e.forEach((function(e){e.result||t.push({message:e.error_message||"Unknown error"})})),t.length?c.produceState((function(e){e.errors=t,e.isSaveInProgress=!1,e.isSaved=!0})):c.produceState((function(e){e.errors=[],e.isSaveInProgress=!1,e.isSaved=!0}))}))),c.saveVoiceGreetings(t),c.produceState((function(e){e.userProfile=r})),c.updateSessionUserInfo(),c.updateUserLanguage(),[2])}}))})),function(e,t){return i.apply(this,arguments)})),y(p(e),"saveVoiceGreetings",(function(t){var n=e.stateData.greetings,r=[],a=[],o=[],i=[],s=t.map((function(e,t){if(e.id)return e;var n=S({id:T(t)},e);return r.push(n),n})),c=n.find((function(e){return e.active})),u=s.find((function(e){return e.active}));n.forEach((function(e){var t=s.find((function(t){return t.id===e.id}));t?t.voiceFileId!==e.voiceFileId?i.push({item:S({},e,t),oldItem:e}):t.name!==e.name&&o.push(S({},e,t)):a.push(e)})),r.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_mail_greetings_insert",params:{id:t.id,name:t.name,new_voice_file_id:t.voiceFileId}})})),a.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_mail_greetings_delete",params:{voice_file_id:t.id}})})),o.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_mail_greetings_update_name",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),i.forEach((function(t){var n=t.item,r=t.oldItem;e.transport.dispatch.agent_modify({query:"voice_mail_greetings_replace",params:{id:n.id,name:n.name,voice_file_id:r.voiceFileId,new_voice_file_id:n.voiceFileId}})})),u?c&&c.id===u.id||e.transport.dispatch.agent_modify({query:"set_active_voice_mail_greeting",params:{voice_mail_greeting_id:u.id}}):c&&void 0===a.find((function(e){return e.id===c.id}))&&e.transport.dispatch.agent_modify({query:"set_active_voice_mail_greeting"}),e.produceState((function(t){t.greetings=s,t.isSaved=!e.stateData.isSaveInProgress}))})),e}return t=m,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({saveData:this.saveData,saveReset:this.saveReset,updateAvatar:this.updateAvatar}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.getData()},onLogin:function(){e.getData()},onLogout:function(){e.cleanupData()}}))}},{key:"cleanupData",value:function(){this.produceState((function(e){Object.assign(e,(0,o.getInitialUserProfileState)())}))}},{key:"updateUserLanguage",value:function(){var e=this.stateData,t=e.languages,n=e.userProfile;if(n){var r=t.find((function(e){return e.id===n.language})),a=r&&(0,i.getLanguageCode)(r.code,r.region);this.produceState((function(e){e.userLanguage=a})),this.localSettings.set("userLanguage",a)}}},{key:"getInitialPersistentAvatar",value:function(){var e=this.sessionConnector.getStateData();return e.userId?(0,r.constructUserPictureUrl)(e,e.userId):""}}])&&v(t.prototype,n),c&&v(t,c),m}(u.StateFactory.createBaseStateClass({name:"userProfileState",controlEvents:o.userProfileStateControlEvents,trackerEvents:o.userProfileStateTrackerEvents,options:{synchronized:!0,authorized:!0},dependencies:["localSettings","sessionConnector","transport","localizationConnector"],getInitialState:o.getInitialUserProfileState}))},73033:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebRtcStateContextProvider:()=>i,useWebRtcState:()=>c,useWebRtcStateConnector:()=>d,useWebRtcStateMethods:()=>l,useWebRtcStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("WebRtcStateContextProvider"),o=a.getContext,i=a.WebRtcStateContextProvider,s=(0,r.createStateHooks)("webRtcState",o),c=s.useWebRtcState,u=s.useWebRtcStateRef,l=s.useWebRtcStateMethods,d=s.useWebRtcStateConnector},32495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getInitialWebRtcState:()=>r,webRtcControlEvents:()=>i,webRtcTrackerEvents:()=>o});var r=function(){return{microphoneDeviceId:"",speakerDeviceId:"",streams:{}}},a=n(12746),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={dropWebRtcConnection:(0,a.event)(),resetWebRtcConnection:(0,a.event)(),togglePhoneSpeaker:(0,a.event)(),toggleVideoCamera:(0,a.event)(),getStats:(0,a.asyncEvent)(),setMicrophoneDeviceId:(0,a.event)()}},69903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebRtcStateImpl:()=>w});var r=n(26220),a=n(94263),o=n(40381),i=n(68939),s=n(56617),c=n(16152);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,s,"next",e)}function s(e){d(o,r,a,i,s,"throw",e)}i(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function v(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?l(e):t;var n}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function C(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var I=r.bpLogger.withPrefix("@WebRTC"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,n,r,a=S(c);function c(){var e;f(this,c),m(l(e=a.apply(this,arguments)),"peerConnection","mobile"===e.platformSpecific.clientType()?void 0:(0,s.createWebRtcPeerConnection)()),m(l(e),"lastNum",void 0),m(l(e),"data",{audioSessionIsActivated:!1,rtcCallData:void 0}),m(l(e),"hasBPClient",["mobile"!==e.platformSpecific.clientType(),"undefined"!=typeof window,"BPClient"in window].every(Boolean)),m(l(e),"dropWebRtcConnection",(function(){"phone_type_browser"===e.sessionConnector.getStateData().phoneType&&e.dropCall()})),m(l(e),"setMicrophoneDeviceId",(function(t){var n,r;e.updateState({microphoneDeviceId:t}),e.localSettings.set("lastUsedMicrophone",t),null===(r=e.peerConnection)||void 0===r||null===(n=r.changeMicrophone)||void 0===n||n.call(r,t)})),m(l(e),"resetWebRtcConnection",(function(){e.lastNum&&(console.log("VoiceModule.JSDebug.resetWebRtcConnection"),e.dropCall(),e.interactionStateConnector.dispatch.sendRtcCallReset({number:e.lastNum}))})),m(l(e),"togglePhoneSpeaker",(function(t){var n;(null===(n=e.peerConnection)||void 0===n?void 0:n.togglePhoneSpeaker)&&e.peerConnection.togglePhoneSpeaker(t)})),m(l(e),"toggleVideoCamera",(function(t){var n;(null===(n=e.peerConnection)||void 0===n?void 0:n.toggleVideoCamera)&&e.peerConnection.toggleVideoCamera(t)}));var t=l(e);m(l(e),"getStats",_((function(){var e,n;return C(this,(function(r){switch(r.label){case 0:return(null===(e=t.peerConnection)||void 0===e?void 0:e.getStats)?[4,t.peerConnection.getStats()]:[3,2];case 1:return[2,r.sent()];case 2:throw n="peerConnection.getStats is undefined",I.error(n),new Error(n);case 3:return[2]}}))})));var n=l(e);return m(l(e),"createRtcCallMobile",_((function(){var e,t,r;return C(this,(function(a){switch(a.label){case 0:return n.hasBPClient?[2]:(I.info("Checking createRtcCall",n.data),void 0===n.data.rtcCallData?[2]:(I.info("Call createRtcCall"),e=n.data.rtcCallData,[4,n.localSettings.get("phoneType")]));case 1:return t=a.sent(),I.info("createRtcCall phoneType",t),"phone_type_browser"===t&&(null===(r=n.peerConnection)||void 0===r||r.answerCall(e.sdp).then((function(t){return n.interactionStateConnector.dispatch.createRtcCall({number:e.number,sdp:t,requestId:e.request_id,status:"200"})}),(function(){return n.interactionStateConnector.dispatch.createRtcCall({number:e.number,sdp:"",requestId:e.request_id,status:"400"})}))),n.data.rtcCallData=void 0,[2]}}))}))),m(l(e),"dropCall",(function(){var t,n;null===(n=e.peerConnection)||void 0===n||null===(t=n.dropCall)||void 0===t||t.call(n)})),e}return t=c,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.interactionStateConnector.dispenser.subscribe({onDidActivateAudioSessioniOS:function(){I.info("onDidActivateAudioSession"),e.hasBPClient||(e.data.audioSessionIsActivated=!0,e.createRtcCallMobile())},onDidDeactivateAudioSessioniOS:function(){I.info("onDidDeactivateAudioSession"),e.hasBPClient||(e.data.audioSessionIsActivated=!1)},onRtcCallMake:function(t){I.info("onRtcCallMake",t),e.lastNum=t.number,e.hasBPClient||(e.data.rtcCallData=t,e.createRtcCallMobile())},onRtcCallDrop:function(){I.info("onRtcCallDrop");var t=e.sessionConnector.getStateData().phoneType;e.hasBPClient||"phone_type_browser"!==t||e.dropCall()},onShouldResetRtc:function(){e.lastNum&&(console.log("VoiceModule.JSDebug.onShouldResetRtc"),e.dropCall(),e.interactionStateConnector.dispatch.sendRtcCallReset({number:e.lastNum}))}}),this.interactionChatStateConnector.dispenser.subscribe({onRtcCallMake:function(t){var n,r=t.chatId,a=t.withVideo,s=t.rtcConfig,c=e;I.info("onRtcCallMake event from chatStateConnector");var u={iceServers:s.iceServers.map((function(e){return h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},e),{urls:e.url})}))};null===(n=e.peerConnection)||void 0===n||n.makeCall(u,a,{onIceCandidate:function(t){e.interactionChatStateConnector.dispatch.onRtcCallIceCandidate({chatId:r,candidate:t})},onNewStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isLocal,a=void 0!==n&&n,o=(0,i.uuid)();c.produceState((function(t){t.streams[o]=e})),c.interactionChatStateConnector.dispatch.onRtcCallStream({chatId:r,streamId:o,isLocal:a})},onAnswerTimeout:function(){e.interactionChatStateConnector.dispatch.stopRtcCall({chatId:r,error:"answer_timeout"})}}).then((function(t){return e.interactionChatStateConnector.dispatch.startRtcCall({chatId:r,sdp:t})})).catch((function(t){I.error("Chat WebRTC call error:",(0,o.getErrorMessage)(t)),e.interactionChatStateConnector.dispatch.stopRtcCall({chatId:r,error:"invalid_server"})}))},onRtcCallAnswer:function(t){var n,r=t.sdp;I.info("onRtcCallAnswer event from chatStateConnector"),null===(n=e.peerConnection)||void 0===n||n.onAnswer(r)},onRtcIceCandidate:function(t){var n;I.info("onRtcIceCandidate event from chatStateConnector"),null===(n=e.peerConnection)||void 0===n||n.onIceCandidate(t)},onRtcCallToggleDevice:function(t){var n,r=t.device,a=t.enabled;if("audio"===r)(null===(n=e.peerConnection)||void 0===n?void 0:n.togglePhoneSpeaker)&&e.peerConnection.togglePhoneSpeaker(a);else if("video"===r){var o;(null===(o=e.peerConnection)||void 0===o?void 0:o.toggleVideoCamera)&&e.peerConnection.toggleVideoCamera(a)}},onRtcCallDrop:function(){e.produceState((function(e){e.streams={}})),console.log("VoiceModule.JSDebug.onRtcCallDrop2"),e.dropCall()}})),this.subscriptions.push(this.fromClientDispenser.subscribe({dropWebRtcConnection:this.dropWebRtcConnection,getStats:this.getStats,resetWebRtcConnection:this.resetWebRtcConnection,togglePhoneSpeaker:this.togglePhoneSpeaker,toggleVideoCamera:this.toggleVideoCamera,setMicrophoneDeviceId:this.setMicrophoneDeviceId})),Promise.all([this.localSettings.get("lastUsedMicrophone"),this.localSettings.get("lastUsedSpeaker")]).then((function(t){var n=b(t,2),r=n[0],a=n[1];e.updateState({microphoneDeviceId:r||"",speakerDeviceId:a||""})}))}}],n&&p(t.prototype,n),r&&p(t,r),c}(c.StateFactory.createBaseStateClass({name:"webRtcState",controlEvents:a.webRtcControlEvents,trackerEvents:a.webRtcTrackerEvents,getInitialState:a.getInitialWebRtcState,options:{authorized:!0},dependencies:["platformSpecific","localSettings","sessionConnector","interactionStateConnector","interactionChatStateConnector"]}))},42336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RESPONSE_SUFFIX:()=>i,agentStates:()=>d,callDirections:()=>m,callbackMessages:()=>o,callbackResponseMessages:()=>c,chatChannelTypes:()=>p,chatPartyTypes:()=>v,dispositionTypes:()=>h,interactionOriginations:()=>y,interactionStates:()=>_,interactionTypes:()=>f,phoneDevices:()=>g,phoneTypes:()=>b,requestMessages:()=>a,requestResponseMessages:()=>s,resultErrorCodes:()=>u,serverErrorCodes:()=>l});var r,a=["GET_LOGIN_STATE","LOGIN","LOGOUT","GET_AGENT_STATE","SET_AGENT_STATE","ACCEPT_INTERACTION","REJECT_INTERACTION","START_CALL","START_CHAT","START_EMAIL","SEND_DTMF","CONSULT_CALL","BLIND_TRANSFER","TRANSFER","LEAVE_INTERACTION","COMPLETE_INTERACTION","LEAVE_AND_COMPLETE_INTERACTION","SWITCH_ACTIVE_INTERACTION","INVITE_TO_CALL_CONFERENCE","REMOVE_FROM_CALL_CONFERENCE","DESTROY_CALL_CONFERENCE","INVITE_TO_CHAT_CONFERENCE","REMOVE_FROM_CHAT_CONFERENCE","MERGE_ALL_CALLS_INTO_CONFERENCE","GET_TEAMS","GET_TEAM_MEMBERS","GET_SERVICES_LIST","GET_SERVICE","SET_SERVICE","GET_DID_LIST","GET_DID","SET_DID","GET_DISPOSITIONS_LIST","SET_DISPOSITION","SET_RESCHEDULE","ADD_NOTE","UPDATE_NOTE","REPLACE_NOTE","GET_CONFIG","GET_VARIABLES","SET_VARIABLE","ADD_INTERACTION_ASSOCIATED_OBJECT","SET_INTERACTION_ACTIVE_SCREEN","GET_PHONE_DEVICES_LIST","GET_PHONE_DEVICE","SET_PHONE_DEVICE","SET_CALL_HOLD","SET_CALL_RECORDING","SET_CALL_MUTE","SET_SCREEN_RECORDING_MUTE","GET_SCREEN_RECORDING_STATE","SET_WIDGET_MINIMIZED","SEND_CHAT_MESSAGE","SUGGEST_CHAT_MESSAGE","GET_AGENT_NOT_READY_REASONS","ACTIVATE_PAGE","GET_INTERACTIONS_STATE","SET_CALL_RECORDING_MUTE","SET_DIAL_CANDIDATES"],o={ON_LOGIN:{needResponse:!1},ON_LOGOUT:{needResponse:!1},ON_NEW_INTERACTION:{needResponse:!1},ON_INTERACTION_REMOVED:{needResponse:!1},ON_INTERACTION_STATE_CHANGE:{needResponse:!1},ON_ACTIVE_INTERACTION_SWITCHED:{needResponse:!1},ON_AGENT_STATE_CHANGE:{needResponse:!1},ON_REQUEST_TRANSFER_DATA:{needResponse:!0},ON_LOAD_TRANSFER_DATA:{needResponse:!1},ON_GET_KNOWLEDGE_BASE_FOLDER:{needResponse:!0},ON_SEARCH_KNOWLEDGE_BASE:{needResponse:!0},ON_GET_KNOWLEDGE_BASE_ARTICLE:{needResponse:!0},ON_OPEN_RECORD:{needResponse:!1},ON_SEARCH_RECORDS:{needResponse:!1},ON_SHOW_SCREEN:{needResponse:!1},ON_SCREEN_RECORDING_STATE_CHANGE:{needResponse:!1},ON_WIDGET_MINIMIZED_CHANGE:{needResponse:!1},ON_SERVER_ERROR:{needResponse:!1},ON_SOFTPHONE_STATUS_CHANGE:{needResponse:!1},ON_AUDIO_DEVICE_CHANGE:{needResponse:!1},ON_PHONE_CAPABILITIES_CHANGE:{needResponse:!1},ON_CALL_AUDIO_QUALITY_ALERT:{needResponse:!1},ON_WEB_SCREEN_POP_CUSTOM:{needResponse:!0},ON_SAVE_ACTIVITY_RECORD:{needResponse:!1},ON_VALIDATE_ASSOCIATED_RECORDS:{needResponse:!0},ON_REQUEST_RECORD_INFO:{needResponse:!0},ON_REQUEST_RECORD_ON_SCREEN:{needResponse:!0}},i="_RESPONSE",s=a.map((function(e){return"".concat(e).concat(i)})),c=(r=o,Object.keys.call(r,r)).filter((function(e){return o[e].needResponse})).map((function(e){return"".concat(e).concat(i)})),u={not_enough_privileges:1,not_logged_in:2,invalid_args:3,logged_without_phone:4,banned:5,api_not_answer:6,invalid_request:7,timeout:8,no_chat_in_service:9,empty_number:10,no_service:11,self_call:12,no_interaction:13,api_method_not_implemented:14,not_suitable_state:15,no_disposition:16,object_not_found:17,no_permissions_did_sms:18,no_permissions_did_call:19,no_channel_in_service:20,unknown_error:99},l={forced_logout_by_other_client:100,forced_logout_by_supervisor:101,invalid_request:102,phone_not_registered:103,phone_not_in_dial_plan:104,tenant_disabled:105,destination_user_not_logged:106,user_disabled_or_deleted:107,user_already_logged_in:108,invalid_credentials:109,other_user_logged_with_phone:110,invalid_token:111,logged_users_limit_reached:112,already_logged_in_with_the_same_session:113,not_enough_privileges:114,sip_server_error:200,unknown_error:300},d=["supervising","ready","not_ready","busy","after_call_work","reserved","ringing"],_=["unknown","queued","ivr","wrap_up","wrap_up_hold","delivered","delivery_pending","hold","completed"],f=["voice","chat","email"],p=["telegram","line","facebook","web","nexmo","sms","viber","twitter","wechat","whatsapp"],m=["inbound","outbound"],g=["phone_type_browser","phone_type_external","phone_type_hard_custom","phone_type_hard_default","phone_type_nailed","phone_type_none","phone_type_soft_secure","phone_type_microsoft_teams","phone_type_soft_unsecure"],h=["SUCCESS","FAILURE","CONTINUE","SPAM","DO_NOT_CALL"],v=["internal","external"],y=["dialpad","dialpad-search","directory","recent","favorites","workitem","interaction","contact-profile","help","conference","auto","integration-api","chat-center","topbar"],b=["mobile","business","home","fax","other"]},84226:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CalendarAlertStateContextProvider:()=>o,useCalendarAlertState:()=>c,useCalendarAlertStateConnector:()=>d,useCalendarAlertStateMethods:()=>l,useCalendarAlertStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("CalendarAlertStateContextProvider"),o=a.CalendarAlertStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("calendarAlertState",i),c=s.useCalendarAlertState,u=s.useCalendarAlertStateRef,l=s.useCalendarAlertStateMethods,d=s.useCalendarAlertStateConnector},27293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calendarAlertStateControlEvents:()=>i,calendarAlertStateTrackerEvents:()=>o,getInitialCalendarAlertState:()=>r});var r=function(){return{calendarEventAlerts:[]}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)()},i={removeAlert:(0,a.event)()}},39403:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CalendarAlertStateImpl:()=>_});var r=n(86497);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?a(e):t;var n}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,c=d(u);function u(){var e;return o(this,u),s(a(e=c.apply(this,arguments)),"onAgentCalendarAlert",(function(t){var n=t.alert_time,r=t.calendar_id;e.produceState((function(e){e.calendarEventAlerts.push({id:r,time:1e3*Number(n)})}))})),s(a(e),"removeAlert",(function(t){var n=e.stateData.calendarEventAlerts,r=n.filter((function(e){return e.id!==t}));n.length!==r.length&&(e.produceState((function(e){e.calendarEventAlerts=r})),e.transport.dispatch.agent_calendar_alert_delivered({calendar_id:t}))})),e}return t=u,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_calendar_alert:this.onAgentCalendarAlert}),this.fromClientDispenser.subscribe({removeAlert:this.removeAlert}))}}])&&i(t.prototype,n),r&&i(t,r),u}(n(16152).StateFactory.createBaseStateClass({name:"calendarAlertState",controlEvents:r.calendarAlertStateControlEvents,trackerEvents:r.calendarAlertStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:r.getInitialCalendarAlertState,dependencies:["transport"]}))},12018:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return a=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&c(a,n.prototype),a},a.apply(null,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?r(e):t;var n}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},u(e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{A:()=>z});var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,a=(t=u,n=l(),function(){var e,r=i(t);if(n){var a=i(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return s(this,e)});function u(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o(r(i=a.call(this,n)),"url",void 0),o(r(i),"status",void 0),o(r(i),"statusText",void 0),o(r(i),"body",void 0),o(r(i),"request",void 0),i.name="ApiError",i.url=t.url,i.status=t.status,i.statusText=t.statusText,i.body=t.body,i.request=e,i}return u}(u(Error));function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){return f=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&y(a,n.prototype),a},f.apply(null,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t="function"==typeof Map?new Map:void 0;return b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},b(e)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r=(t=a,n=S(),function(){var e,r=h(t);if(n){var a=h(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return v(this,e)});function a(e){var t;return _(this,a),(t=r.call(this,e)).name="CancelError",t}return m(a,[{key:"isCancelled",get:function(){return!0}}]),a}(b(Error)),I=Symbol.toStringTag,w=function(){function e(t){var n=this;_(this,e),g(this,I,void 0),g(this,"_isResolved",void 0),g(this,"_isRejected",void 0),g(this,"_isCancelled",void 0),g(this,"_cancelHandlers",void 0),g(this,"_promise",void 0),g(this,"_resolve",void 0),g(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return m(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(s){return void console.warn("Cancellation threw an error",s)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new C("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),E={BASE:"/swagger-calendar",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,s,"next",e)}function s(e){T(o,r,a,i,s,"throw",e)}i(void 0)}))}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var M,j=function(e){return null!=e},x=function(e){return"string"==typeof e},L=function(e){return x(e)&&""!==e},K=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},F=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},$=function(e){var t=[],n=function(e,r){j(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=k(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=k(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},U=(M=D((function(e,t){return N(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return M.apply(this,arguments)}),B=function(){var e=D((function(e,t){var n,r,a,o,i,s;return N(this,(function(c){switch(c.label){case 0:return[4,U(t,e.TOKEN)];case 1:return n=c.sent(),[4,U(t,e.USERNAME)];case 2:return r=c.sent(),[4,U(t,e.PASSWORD)];case 3:return a=c.sent(),[4,U(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(P({Accept:"application/json"},o,t.headers)).filter((function(e){var t=k(e,2),n=(t[0],t[1]);return j(n)})).reduce((function(e,t){var n=k(t,2),r=n[0],a=n[1];return R(P({},e),A({},r,String(a)))}),{}),L(n)&&(i.Authorization="Bearer ".concat(n)),L(r)&&L(a)&&(s=function(e){try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:K(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":x(t.body)?i["Content-Type"]="text/plain":F(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=D((function(e,t,n,r,a,o,i){var s,c;return N(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),G=function(){var e=D((function(e){var t,n;return N(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){return new w(function(){var n=D((function(n,r,a){var o,i,s,c,u,l,_,f,p;return N(this,(function(m){switch(m.label){case 0:return m.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat($(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){x(n)||K(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=k(e,2),n=(t[0],t[1]);return j(n)})).forEach((function(e){var t=k(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):x(e.body)||K(e.body)||F(e.body)?e.body:JSON.stringify(e.body)}(t),[4,B(e,t)];case 1:return c=m.sent(),a.isCancelled?[3,4]:[4,q(e,t,o,s,i,c,a)];case 2:return u=m.sent(),[4,G(u)];case 3:l=m.sent(),_=function(e,t){if(t){var n=e.headers.get(t);if(x(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=_?_:l},function(e,t){var n=P({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new d(e,t,n);if(!t.ok)throw new d(e,t,"Generic Error")}(t,f),n(f.body),m.label=4;case 4:return[3,6];case 5:return p=m.sent(),r(p),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W,z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getCalendarAgenda",value:function(e){var t=e.calendarId,n=e.defaultCalendarEventsIncluded;return H(E,{method:"GET",url:"/v1/calendar/agenda",query:{calendarId:t,defaultCalendarEventsIncluded:n},errors:{401:"Unauthorized",500:"Internal Error"}})}},{key:"assignCalendarEvent",value:function(e){var t=e.body;return H(E,{method:"POST",url:"/v1/calendar/assignEvent",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getEventsByTimeFrame",value:function(e){var t=e.start,n=e.end,r=e.timezone,a=e.user,o=e.calendarId,i=e.defaultCalendarEventsIncluded;return H(E,{method:"GET",url:"/v1/calendar/eventsByTimeFrame",query:{start:t,end:n,user:a,calendarId:o,defaultCalendarEventsIncluded:i,timezone:r},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"stretchCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return H(E,{method:"PUT",url:"/v1/calendar/itemEnd/{calendarEventId}",path:{calendarEventId:t},query:{delta:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"moveCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return H(E,{method:"PUT",url:"/v1/calendar/itemStart/{calendarEventId}",path:{calendarEventId:t},query:{delta:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createCalendarEvent",value:function(e){var t=e.body;return H(E,{method:"POST",url:"/v1/calendar/items",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getCalendarEventDetails",value:function(e){var t=e.calendarEventId;return H(E,{method:"GET",url:"/v1/calendar/items/{calendarEventId}",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"deleteCalendarEvent",value:function(e){var t=e.calendarEventId;return H(E,{method:"DELETE",url:"/v1/calendar/items/{calendarEventId}",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}},{key:"completeCalendarEvent",value:function(e){var t=e.calendarEventId;return H(E,{method:"POST",url:"/v1/calendar/items/{calendarEventId}/complete",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"snoozeCalendarEvent",value:function(e){var t=e.calendarEventId;return H(E,{method:"POST",url:"/v1/calendar/items/{calendarEventId}/snooze",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getListCalendar",value:function(){return H(E,{method:"GET",url:"/v1/calendar/list",errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createNewCalendar",value:function(e){var t=e.body;return H(E,{method:"POST",url:"/v1/calendar/new",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getAvailabilitySettings",value:function(){return H(E,{method:"GET",url:"/v1/calendar/settings/availability",errors:{401:"Unauthorized",500:"Internal Error"}})}},{key:"upsertAvailabilitySettings",value:function(e){var t=e.body;return H(E,{method:"PUT",url:"/v1/calendar/settings/availability",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"getLocaleSettings",value:function(){return H(E,{method:"GET",url:"/v1/calendar/settings/locale",errors:{401:"Unauthorized",500:"Internal Error"}})}},{key:"upsertLocaleSettings",value:function(e){var t=e.body;return H(E,{method:"PUT",url:"/v1/calendar/settings/locale",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"getCalendar",value:function(e){var t=e.calendarId;return H(E,{method:"GET",url:"/v1/calendar/{calendarId}",path:{calendarId:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Calendar not found",500:"Internal Error"}})}},{key:"updateCalendar",value:function(e){var t=e.calendarId,n=e.body;return H(E,{method:"PUT",url:"/v1/calendar/{calendarId}",path:{calendarId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Calendar not found",500:"Internal Error"}})}},{key:"deleteCalendar",value:function(e){var t=e.calendarId;return H(E,{method:"DELETE",url:"/v1/calendar/{calendarId}",path:{calendarId:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Error"}})}},{key:"changeColorCalendar",value:function(e){var t=e.calendarId,n=e.body;return H(E,{method:"PATCH",url:"/v1/calendar/{calendarId}/color",path:{calendarId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Error"}})}},{key:"changeCalendarPublish",value:function(e){var t=e.calendarId,n=e.body;return H(E,{method:"PATCH",url:"/v1/calendar/{calendarId}/published",path:{calendarId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Error"}})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}();!function(e){e.EVENT="event",e.REQUEST="request",e.SHIFT="shift"}(W||(W={})),E.BASE="/newadws/api"},76777:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CalendarStateContextProvider:()=>o,useCalendarState:()=>c,useCalendarStateConnector:()=>d,useCalendarStateMethods:()=>l,useCalendarStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("CalendarStateContextProvider"),o=a.CalendarStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("calendarState",i),c=s.useCalendarState,u=s.useCalendarStateRef,l=s.useCalendarStateMethods,d=s.useCalendarStateConnector},49628:(e,t,n)=>{"use strict";var r,a,o,i,s,c;function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{DefaultCalendars:()=>r,DragItemTypes:()=>c,EventCustomId:()=>i,EventType:()=>s,Page:()=>a,View:()=>o,calendarStateControlEvents:()=>f,calendarStateTrackerEvents:()=>_,getInitialCalendarState:()=>l}),function(e){e.HOLIDAYS="holidays",e.EVENTS="events",e.REQUESTS="requests",e.SHIFTS="shifts"}(r||(r={})),function(e){e.MY_CALENDAR="my-calendar",e.MY_REQUESTS="my-requests"}(a||(a={})),function(e){e.MONTH="month",e.WEEK="week",e.DAY="day",e.SCHEDULE="schedule"}(o||(o={})),function(e){e.NEW_EVENT="new_event",e.SELECTION="selection"}(i||(i={})),function(e){e.EVENT="event",e.NEW_EVENT="new_event",e.OCCUPIED="occupied",e.EMPTY="empty"}(s||(s={})),function(e){e.EVENT="event",e.HEADER_EVENT="header_event",e.EVENT_RESIZE="event_resize"}(c||(c={}));var l=function(){var e;return{calendarsLoading:!1,calendars:[],calendarAgenda:[],calendarEventDetails:{},calendarEventDetailsLoading:{},calendarEvents:[],calendarOwnerUserId:"",calendarEventsLoading:!1,calendarFilters:(e={},u(e,r.HOLIDAYS,!1),u(e,r.EVENTS,!0),u(e,r.REQUESTS,!1),u(e,r.SHIFTS,!1),e),viewDate:Date.now(),view:o.MONTH,viewDaysAmount:1,showCalendarSidebar:!1,eventEditing:!1,eventSaving:!1,eventDeleting:!1,timeoffTypes:[],timeoffBalances:[],timeoffRequests:[],timeoffRequestsLoading:!1,timeoffRequestSaving:!1,timeoffRequestDeleting:!1,shifts:[],shiftsLoading:!1}},d=n(12746),_={onInitialState:(0,d.event)(),onChange:(0,d.event)()},f={getCalendarsList:(0,d.event)(),assignCalendarEvent:(0,d.event)(),completeCalendarEvent:(0,d.event)(),deleteCalendarEvent:(0,d.asyncEvent)(),getCalendarAgenda:(0,d.event)(),getCalendarEventDetails:(0,d.asyncEvent)(),getCalendarEvents:(0,d.event)(),moveCalendarEvent:(0,d.event)(),saveCalendarEventDetails:(0,d.asyncEvent)(),setCalendarOwnerUserId:(0,d.event)(),snoozeCalendarEvent:(0,d.event)(),stretchCalendarEvent:(0,d.event)(),changeViewDate:(0,d.event)(),changeView:(0,d.event)(),toggleCalendarSidebar:(0,d.event)(),changeCalendarFilter:(0,d.event)(),selectEvent:(0,d.event)(),updateSelectedEvent:(0,d.event)(),editSelectedEvent:(0,d.event)(),closeEventForm:(0,d.event)(),discardEventForm:(0,d.event)(),continueEventForm:(0,d.event)(),resetEventForm:(0,d.event)(),getTimeoffTypes:(0,d.event)(),getTimeoffBalances:(0,d.event)(),getTimeoffRequests:(0,d.event)(),saveTimeoffRequest:(0,d.asyncEvent)(),deleteTimeoffRequest:(0,d.asyncEvent)(),getShifts:(0,d.event)()}},62824:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CalendarStateImpl:()=>Ve});var r=n(8807),a=(n(28584),n(45312));var o=5*a.MS_IN_WEEK;a.MS_IN_MINUTE;var i=n(12018);n(2122);var s=n(80867),c=n(52137);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var _=function(e){return Boolean(!e.id&&e._temporaryId)};var f=function(e,t){var n,r=t.userId,a=t.firstName,o=t.lastName,i=t.displayNameFormat,u=(0,s.formatFullName)(i,a,o),_=e.userName||u,f=e.userId||r;return(0,c.assertDefined)(f),d(l({},e),{completed:!!e.completed,startTime:e.startTime,endTime:e.endTime,remindIn:e.remindIn?Number(e.remindIn):void 0,remindInUnit:null!==(n=e.remindInUnit)&&void 0!==n?n:"MINUTES",screenpopSize:e.screenpopSize||-1,userId:f,userName:_})};var p=n(40381),m=n(26552),g=n(16152);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return v=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&C(a,n.prototype),a},v.apply(null,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function S(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?h(e):t;var n}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function I(e){var t="function"==typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return v(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),C(r,e)},I(e)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r=(t=a,n=w(),function(){var e,r=b(t);if(n){var a=b(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return S(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),y(h(o=r.call(this,n)),"url",void 0),y(h(o),"status",void 0),y(h(o),"statusText",void 0),y(h(o),"body",void 0),y(h(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(I(Error));function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t,n){return T=j()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&N(a,n.prototype),a},T.apply(null,arguments)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function k(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function M(e){var t="function"==typeof Map?new Map:void 0;return M=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return T(e,arguments,R(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),N(r,e)},M(e)}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(a,e);var t,n,r=(t=a,n=j(),function(){var e,r=R(t);if(n){var a=R(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return k(this,e)});function a(e){var t;return O(this,a),(t=r.call(this,e)).name="CancelError",t}return A(a,[{key:"isCancelled",get:function(){return!0}}]),a}(M(Error)),L=Symbol.toStringTag,K=function(){function e(t){var n=this;O(this,e),P(this,L,void 0),P(this,"_isResolved",void 0),P(this,"_isRejected",void 0),P(this,"_isCancelled",void 0),P(this,"_cancelHandlers",void 0),P(this,"_promise",void 0),P(this,"_resolve",void 0),P(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return A(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(s){return void console.warn("Cancellation threw an error",s)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new x("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),F={BASE:"/swagger-wfm-calendar",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,s,"next",e)}function s(e){U(o,r,a,i,s,"throw",e)}i(void 0)}))}}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}function H(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var z,Y=function(e){return null!=e},Q=function(e){return"string"==typeof e},J=function(e){return Q(e)&&""!==e},X=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},Z=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},ee=function(e){var t=[],n=function(e,r){Y(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=V(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=V(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},te=(z=B((function(e,t){return W(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return z.apply(this,arguments)}),ne=function(){var e=B((function(e,t){var n,r,a,o,i,s;return W(this,(function(c){switch(c.label){case 0:return[4,te(t,e.TOKEN)];case 1:return n=c.sent(),[4,te(t,e.USERNAME)];case 2:return r=c.sent(),[4,te(t,e.PASSWORD)];case 3:return a=c.sent(),[4,te(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(G({Accept:"application/json"},o,t.headers)).filter((function(e){var t=V(e,2),n=(t[0],t[1]);return Y(n)})).reduce((function(e,t){var n=V(t,2),r=n[0],a=n[1];return H(G({},e),q({},r,String(a)))}),{}),J(n)&&(i.Authorization="Bearer ".concat(n)),J(r)&&J(a)&&(s=function(e){try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:X(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":Q(t.body)?i["Content-Type"]="text/plain":Z(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=B((function(e,t,n,r,a,o,i){var s,c;return W(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),ae=function(){var e=B((function(e){var t,n;return W(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),oe=function(e,t){return new K(function(){var n=B((function(n,r,a){var o,i,s,c,u,l,d,_,f;return W(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(ee(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){Q(n)||X(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=V(e,2),n=(t[0],t[1]);return Y(n)})).forEach((function(e){var t=V(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):Q(e.body)||X(e.body)||Z(e.body)?e.body:JSON.stringify(e.body)}(t),[4,ne(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,re(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,ae(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(Q(n))return n}}(u,t.responseHeader),_={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=G({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new E(e,t,n);if(!t.ok)throw new E(e,t,"Generic Error")}(t,_),n(_.body),p.label=4;case 4:return[3,6];case 5:return f=p.sent(),r(f),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"postV1Shifts",value:function(e){var t=e.params;return oe(F,{method:"POST",url:"/v1/shifts",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"putV1Shifts",value:function(e){var t=e.id,n=e.params;return oe(F,{method:"PUT",url:"/v1/shifts/{id}",path:{id:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"deleteV1Shifts",value:function(e){var t=e.id;return oe(F,{method:"DELETE",url:"/v1/shifts/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1ShiftsById",value:function(e){var t=e.id;return oe(F,{method:"GET",url:"/v1/shifts/by-id/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1ShiftsByUserId",value:function(e){var t=e.userId;return oe(F,{method:"GET",url:"/v1/shifts/by-user-id/{userId}",path:{userId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Server Error"}})}}],(n=null)&&ie(t.prototype,n),r&&ie(t,r),e}();function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue,le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getV1TimeOffRequests",value:function(e){var t=e.dateFrom,n=e.dateTo,r=e.sortBy,a=e.sortType,o=e.status,i=e.text,s=e.timeOffTypeId,c=e.userId;return oe(F,{method:"GET",url:"/v1/time-off/requests",query:{dateFrom:t,dateTo:n,sortBy:r,sortType:a,status:o,text:i,timeOffTypeId:s,userId:c},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Server Error"}})}},{key:"postV1TimeOffRequests",value:function(e){var t=e.params;return oe(F,{method:"POST",url:"/v1/time-off/requests",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffRequestsApprove",value:function(e){var t=e.params;return oe(F,{method:"POST",url:"/v1/time-off/requests/approve",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",409:"Conflict",500:"Internal Server Error"}})}},{key:"getV1TimeOffRequestsById",value:function(e){var t=e.id;return oe(F,{method:"GET",url:"/v1/time-off/requests/by-id/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffRequestsDeny",value:function(e){var t=e.params;return oe(F,{method:"POST",url:"/v1/time-off/requests/deny",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",409:"Conflict",500:"Internal Server Error"}})}},{key:"putV1TimeOffRequests",value:function(e){var t=e.id,n=e.params;return oe(F,{method:"PUT",url:"/v1/time-off/requests/{id}",path:{id:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"deleteV1TimeOffRequests",value:function(e){var t=e.id;return oe(F,{method:"DELETE",url:"/v1/time-off/requests/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"putV1TimeOffRequestsWait",value:function(e){var t=e.id;return oe(F,{method:"PUT",url:"/v1/time-off/requests/{id}/wait",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1TimeOffTypes",value:function(){return oe(F,{method:"GET",url:"/v1/time-off/types",errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffTypes",value:function(e){var t=e.params;return oe(F,{method:"POST",url:"/v1/time-off/types",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1TimeOffTypes1",value:function(e){var t=e.id;return oe(F,{method:"GET",url:"/v1/time-off/types/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"putV1TimeOffTypes",value:function(e){var t=e.id,n=e.params;return oe(F,{method:"PUT",url:"/v1/time-off/types/{id}",path:{id:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"deleteV1TimeOffTypes",value:function(e){var t=e.id;return oe(F,{method:"DELETE",url:"/v1/time-off/types/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1TimeOffUserBalance",value:function(e){var t=e.userId;return oe(F,{method:"GET",url:"/v1/time-off/user/{userId}/balance",path:{userId:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffUserBalance",value:function(e){var t=e.params,n=e.userId;return oe(F,{method:"POST",url:"/v1/time-off/user/{userId}/balance",path:{userId:n},body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Server Error"}})}}],(n=null)&&ce(t.prototype,n),r&&ce(t,r),e}();function de(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){de(o,r,a,i,s,"next",e)}function s(e){de(o,r,a,i,s,"throw",e)}i(void 0)}))}}function fe(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){e.TIMEOFF_TYPE="TIME_OFF_TYPE",e.START_TIME="START_TIME",e.CREATION_TIME="CREATION_TIME",e.RESOLVED_TIME="RESOLVED_TIME",e.APPROVER="APPROVER"}(ue||(ue={})),F.BASE="/newadws/api";var pe=function(){var e=_e((function(){return fe(this,(function(e){switch(e.label){case 0:return[4,i.A.getListCalendar()];case 1:return[2,e.sent()]}}))}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=_e((function(e){return fe(this,(function(t){switch(t.label){case 0:return e?[4,i.A.getEventsByTimeFrame(e)]:[2,Promise.reject("Error: no options provided")];case 1:return[2,t.sent().items||[]]}}))}));return function(t){return e.apply(this,arguments)}}(),ge=function(e){return i.A.getCalendarEventDetails({calendarEventId:e})},he=function(e){return i.A.createCalendarEvent({body:e})},ve=function(e){return i.A.completeCalendarEvent({calendarEventId:e})},ye=function(e){return i.A.snoozeCalendarEvent({calendarEventId:e})},be=function(e,t){return i.A.moveCalendarEvent({calendarEventId:e,delta:t.toString()})},Se=function(e,t){return i.A.stretchCalendarEvent({calendarEventId:e,delta:t.toString()})},Ce=function(e){return i.A.assignCalendarEvent({body:e})},Ie=function(e){return i.A.deleteCalendarEvent({calendarEventId:e})},we=function(e){return i.A.getCalendarAgenda(e)},Ee=function(){var e=_e((function(e){return fe(this,(function(t){switch(t.label){case 0:return[4,le.getV1TimeOffRequests(e)];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=_e((function(){return fe(this,(function(e){switch(e.label){case 0:return[4,le.getV1TimeOffTypes()];case 1:return[2,e.sent()]}}))}));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=_e((function(e){return fe(this,(function(t){switch(t.label){case 0:return[4,le.getV1TimeOffUserBalance({userId:e})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),De=function(e){return le.postV1TimeOffRequests({params:e})},Ae=function(){var e=_e((function(e){return fe(this,(function(t){switch(t.label){case 0:return[4,le.deleteV1TimeOffRequests({id:e})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=_e((function(e){return fe(this,(function(t){switch(t.label){case 0:return[4,se.getV1ShiftsByUserId({userId:e})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}();function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t,n){return xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},xe(e,t,n||e)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){je(e,t,n[t])}))}return e}function Fe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function $e(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?ke(e):t;var n}function Ue(e,t){return Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ue(e,t)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var a=Le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $e(this,n)}}var Ge=(0,p.createSeriesCallback)(),He=(0,p.createSeriesCallback)(),Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(s,e);var t,n,a,i=qe(s);function s(){var e;return Ne(this,s),je(ke(e=i.apply(this,arguments)),"lastGetCalendarEventsOptions",void 0),je(ke(e),"lastGetTimeoffRequestsOptions",{}),je(ke(e),"getCalendarsList",(function(){e.produceState((function(e){e.calendarsLoading=!0})),pe().then((function(t){e.produceState((function(e){e.calendars=t,e.calendarsLoading=!1}))})).catch((function(){e.produceState((function(e){e.calendarsLoading=!1}))}))})),je(ke(e),"getCalendarEvents",(function(t){return e.produceState((function(e){e.calendarEventsLoading=!0})),e.lastGetCalendarEventsOptions=t&&Fe(Ke({},t),{start:t.start-o}),me(e.lastGetCalendarEventsOptions).then(e.onCalendarEvents).catch(e.onCalendarEventsError)})),je(ke(e),"onCalendarEvents",(function(t){e.produceState((function(e){e.calendarEventsLoading=!1;var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=e.calendarEvents.findIndex((function(e){return e.id===t.id}));n>=0?e.calendarEvents.splice(n,1,t):e.calendarEvents.push(t)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}))})),je(ke(e),"onCalendarEventsError",(function(){e.produceState((function(e){e.calendarEvents=[],e.calendarEventsLoading=!1}))})),je(ke(e),"getCalendarEventDetails",(function(t){return e.setContactDetailsLoading(t,!0),ge(t).then((function(n){return e.onCalendarEventDetails(n),e.setContactDetailsLoading(t,!1),n}),(function(n){throw e.setContactDetailsLoading(t,!1),n}))})),je(ke(e),"onCalendarEventDetails",(function(t){e.produceState((function(e){if(t&&t.id){var n=e.calendarEvents;e.calendarEventDetails[t.id]=t;var r=n.find((function(e){return e.id===t.id}));r&&(r.end=t.endTime,r.start=t.startTime,r.title=t.title),e.nextSelectedEvent=t}}))})),je(ke(e),"setCalendarOwnerUserId",(function(t){e.produceState((function(e){e.calendarOwnerUserId=t}))})),je(ke(e),"toggleCalendarSidebar",(function(){e.produceState((function(e){e.showCalendarSidebar=!e.showCalendarSidebar}))})),je(ke(e),"saveCalendarEventDetails",(function(t){var n=t.id||t._temporaryId;(0,m.assertDefined)(n),e.produceState((function(e){e.eventSaving=!0}));var r=e.sessionConnector.getStateData(),a=f(t,r);return he(a).then((function(t){return e.produceState((function(e){e.eventSaving=!1;var r=e.calendarEventDetails,a=e.calendarEvents,o=a.findIndex((function(e){return e.id===n}));o>=0&&a.splice(o,1),a.push(t),delete r[n]})),e.resetEventForm(),t}))})),je(ke(e),"completeCalendarEvent",(function(t){return ve(t).then((function(){e.getCalendarEvents(e.lastGetCalendarEventsOptions),e.produceState((function(e){var n=e.calendarEventDetails;n[t]&&(n[t].completed=!0)})),e.calendarAlertConnector.dispatch.removeAlert(t)}))})),je(ke(e),"snoozeCalendarEvent",(function(t){return ye(t).then((function(){e.getCalendarEvents(e.lastGetCalendarEventsOptions),e.calendarAlertConnector.dispatch.removeAlert(t)}))})),je(ke(e),"revertEventAfterError",(function(t,n){t&&e.produceState((function(r){var a=t.id,o=r.calendarEvents.findIndex((function(e){return e.id===a}));o>=0&&r.calendarEvents.splice(o,1,t),n&&(r.calendarEventDetails[a]=n,r.nextSelectedEvent=n),e.getCalendarEventDetails(a).then((function(t){e.onCalendarEventDetails(t)}))}))})),je(ke(e),"moveCalendarEvent",(function(t,n){if(n){e.produceState((function(e){var r=e.calendarEvents.find((function(e){return e.id===t})),a=e.calendarEventDetails[t];r&&(r.start+=n,r.end+=n),a&&(a.startTime+=n,a.endTime+=n,a.remindTime&&(a.remindTime+=n)),e.nextSelectedEvent=a}));var r=e.stateData.calendarEvents.find((function(e){return e.id===t})),a=e.stateData.calendarEventDetails[t];be(t,n).then(Ge((function(t){e.onCalendarEventDetails(t)})),He((function(){e.revertEventAfterError(r,a)})))}})),je(ke(e),"stretchCalendarEvent",(function(t,n){var r=e.stateData.calendarEvents.find((function(e){return e.id===t})),a=e.stateData.calendarEventDetails[t];if(n&&r){var o=r.end-r.start,i=Be(n<0&&Math.abs(n)>o?[r.end+n,r.start]:[r.start,r.end+n],2),s=i[0],c=i[1];e.produceState((function(e){var n=e.calendarEvents.find((function(e){return e.id===t})),r=e.calendarEventDetails[t];n&&(n.start=s,n.end=c),r&&(r.startTime=s,r.endTime=c),e.nextSelectedEvent=r}));var u=function(){Se(t,n).then(Ge((function(t){e.onCalendarEventDetails(t)})),He((function(){e.revertEventAfterError(r,a)})))};r.start===s?u():be(t,n+o).then(Ge((function(){r=e.stateData.calendarEvents.find((function(e){return e.id===t})),a=e.stateData.calendarEventDetails[t],u()})),He((function(){e.revertEventAfterError(r,a)})))}})),je(ke(e),"changeViewDate",(function(t){e.produceState((function(e){e.viewDate=t}))})),je(ke(e),"changeView",(function(t){t!==e.stateData.view&&e.produceState((function(e){e.view=t,e.viewDaysAmount=t===r.View.WEEK?7:1}))})),je(ke(e),"assignCalendarEvent",(function(t){return Ce(t).then((function(){e.getCalendarEvents(e.lastGetCalendarEventsOptions)}))})),je(ke(e),"deleteCalendarEvent",(function(t){return e.produceState((function(e){e.eventDeleting=!0})),Ie(t).then((function(){e.produceState((function(e){e.eventDeleting=!1;var n=e.calendarEventDetails,r=e.calendarEvents,a=r.findIndex((function(e){return e.id===t}));a>=0&&r.splice(a,1),delete n[t]}))}))})),je(ke(e),"getCalendarAgenda",(function(t){we(t).then(e.onCalendarAgenda)})),je(ke(e),"onCalendarAgenda",(function(t){e.produceState((function(e){e.calendarAgenda=t}))})),je(ke(e),"closeEventForm",(function(){e.produceState((function(e){e.nextSelectedEvent=void 0}))})),je(ke(e),"resetEventForm",(function(){e.produceState((function(e){e.selectedEvent=void 0,e.nextSelectedEvent=void 0,e.eventEditing=!1,e.eventSaving=!1,e.eventDeleting=!1}))})),je(ke(e),"selectEvent",(function(t){e.produceState((function(e){e.selectedEvent&&e.eventEditing?e.nextSelectedEvent=t:(e.selectedEvent=t,e.nextSelectedEvent=t,_(t)&&(e.eventEditing=!0))}))})),je(ke(e),"updateSelectedEvent",(function(t){e.produceState((function(e){e.nextSelectedEvent&&(e.nextSelectedEvent=Ke({},e.nextSelectedEvent,t))}))})),je(ke(e),"discardEventForm",(function(){var t=e.stateData.nextSelectedEvent;t?e.produceState((function(e){e.selectedEvent=t})):e.resetEventForm()})),je(ke(e),"continueEventForm",(function(){e.produceState((function(e){e.nextSelectedEvent=e.selectedEvent}))})),je(ke(e),"editSelectedEvent",(function(){e.produceState((function(e){e.eventEditing=!0}))})),je(ke(e),"changeCalendarFilter",(function(t,n){e.produceState((function(e){e.calendarFilters[t]=n}))})),je(ke(e),"getTimeoffRequests",(function(t){return e.produceState((function(e){e.timeoffRequestsLoading=!0})),e.lastGetTimeoffRequestsOptions=t,Ee(e.lastGetTimeoffRequestsOptions).then(e.onTimeoffRequests).catch(e.onTimeoffRequestsError)})),je(ke(e),"onTimeoffRequests",(function(t){e.produceState((function(e){e.timeoffRequestsLoading=!1;var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=e.timeoffRequests.findIndex((function(e){return e.id===t.id}));n>=0?e.timeoffRequests.splice(n,1,t):e.timeoffRequests.push(t)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}))})),je(ke(e),"onTimeoffRequestsError",(function(){e.produceState((function(e){e.timeoffRequests=[],e.timeoffRequestsLoading=!1}))})),je(ke(e),"getTimeoffBalances",(function(t){return Te(t).then(e.onTimeoffBalances).catch(e.onTimeoffBalancesError)})),je(ke(e),"onTimeoffBalances",(function(t){e.produceState((function(e){e.timeoffBalances=t}))})),je(ke(e),"onTimeoffBalancesError",(function(){e.produceState((function(e){e.timeoffBalances=[]}))})),je(ke(e),"getTimeoffTypes",(function(){return Oe().then(e.onTimeoffTypes).catch(e.onTimeoffTypesError)})),je(ke(e),"onTimeoffTypes",(function(t){e.produceState((function(e){e.timeoffTypes=t}))})),je(ke(e),"onTimeoffTypesError",(function(){e.produceState((function(e){e.timeoffTypes=[]}))})),je(ke(e),"saveTimeoffRequest",(function(t){return e.produceState((function(e){e.timeoffRequestSaving=!0})),De(t).then((function(t){t.id&&e.getTimeoffRequests(e.lastGetTimeoffRequestsOptions)}))})),je(ke(e),"deleteTimeoffRequest",(function(t){return e.produceState((function(e){e.timeoffRequestDeleting=!0})),Ae(t).then((function(){e.produceState((function(e){e.timeoffRequestDeleting=!1;var n=e.timeoffRequests,r=n.findIndex((function(e){return e.id===t}));r>=0&&n.splice(r,1)}))}))})),je(ke(e),"getShifts",(function(t){return e.produceState((function(e){e.shiftsLoading=!0})),Pe(t).then(e.onShiftsLoaded).catch(e.onShiftsLoadError)})),je(ke(e),"onShiftsLoaded",(function(t){e.produceState((function(e){e.shiftsLoading=!1;var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=e.shifts.findIndex((function(e){return e.id===t.id}));n>=0?e.shifts.splice(n,1,t):e.shifts.push(t)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}))})),je(ke(e),"onShiftsLoadError",(function(){e.produceState((function(e){e.shifts=[],e.shiftsLoading=!1}))})),e}return t=s,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getCalendarsList:this.getCalendarsList,assignCalendarEvent:this.assignCalendarEvent,completeCalendarEvent:this.completeCalendarEvent,deleteCalendarEvent:this.deleteCalendarEvent,getCalendarAgenda:this.getCalendarAgenda,getCalendarEventDetails:this.getCalendarEventDetails,getCalendarEvents:this.getCalendarEvents,moveCalendarEvent:this.moveCalendarEvent,saveCalendarEventDetails:this.saveCalendarEventDetails,setCalendarOwnerUserId:this.setCalendarOwnerUserId,snoozeCalendarEvent:this.snoozeCalendarEvent,stretchCalendarEvent:this.stretchCalendarEvent,changeViewDate:this.changeViewDate,changeView:this.changeView,toggleCalendarSidebar:this.toggleCalendarSidebar,changeCalendarFilter:this.changeCalendarFilter,resetEventForm:this.resetEventForm,closeEventForm:this.closeEventForm,discardEventForm:this.discardEventForm,continueEventForm:this.continueEventForm,selectEvent:this.selectEvent,updateSelectedEvent:this.updateSelectedEvent,editSelectedEvent:this.editSelectedEvent,getTimeoffBalances:this.getTimeoffBalances,getTimeoffRequests:this.getTimeoffRequests,getTimeoffTypes:this.getTimeoffTypes,saveTimeoffRequest:this.saveTimeoffRequest,deleteTimeoffRequest:this.deleteTimeoffRequest,getShifts:this.getShifts}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){var n=t.userId;n&&e.produceState((function(e){e.calendarOwnerUserId=n}))},onLogin:function(t){var n=t.userId;n&&e.produceState((function(e){e.calendarOwnerUserId=n}))}}))}},{key:"resetState",value:function(){xe(Le(s.prototype),"resetState",this).call(this),this.lastGetCalendarEventsOptions=void 0,this.lastGetTimeoffRequestsOptions={}}},{key:"setContactDetailsLoading",value:function(e,t){this.produceState((function(n){n.calendarEventDetailsLoading[e]=t}))}}])&&Me(t.prototype,n),a&&Me(t,a),s}(g.StateFactory.createBaseStateClass({name:"calendarState",controlEvents:r.calendarStateControlEvents,trackerEvents:r.calendarStateTrackerEvents,options:{authorized:!0},getInitialState:r.getInitialCalendarState,dependencies:["sessionConnector","calendarAlertConnector"]}))},98145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomePageStateContextProvider:()=>i,useHomePageState:()=>c,useHomePageStateConnector:()=>u,useHomePageStateMethods:()=>l,useHomePageStateRef:()=>d});var r=n(13641),a=(0,r.createStateContextProvider)("HomePageStateContextProvider"),o=a.getContext,i=a.HomePageStateContextProvider,s=(0,r.createStateHooks)("homePageState",o),c=s.useHomePageState,u=s.useHomePageStateConnector,l=s.useHomePageStateMethods,d=s.useHomePageStateRef},22247:(e,t,n)=>{"use strict";n.r(t),n.d(t,{playAudio:()=>a});var r=new Map,a=function(e,t){var n,a=t||{},o=a.volume,i=a.suppressive,s=a.onEnd;return e&&"undefined"!=typeof AudioContext&&(n=new Audio(e),r.set(n,n),"number"==typeof o&&(n.volume=o),n.addEventListener("ended",(function(){n&&r.delete(n),s&&s()})),n.setVolume=function(e){e&&n&&(n.volume=e)},i&&r.forEach((function(e){e===n||e.paused||(e.pause(),e.dispatchEvent(new Event("ended")))})),n.play().catch((function(){}))),n}},77066:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IntegrationApiStateImpl:()=>Y});var r=n(55597),a=n(26220),o=n(97329),i=n(7909),s=n(14441),c=n(40381),u=n(68939),l=n(16152),d=n(26552);function _(e){return(0,d.array)(s.callbackResponseMessages).includes(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m={extractURLParams:function(e){var t={};if(e)try{var n=e.split("?").slice(1).join("?");if(n.length)n.split("&").reduce((function(e,t){var n=t.split("=");n.length&&(e[decodeURIComponent(n.shift())]=decodeURIComponent(n.join("=")));return e}),t)}catch(r){a.bpLogger.error("@API Unable to parse URL parameters: ",e)}return t},fromPairs:function(e){return e.reduce((function(e,t){var n=p(t,2),r=n[0],a=n[1];return e[r]=a,e}),{})}},g=function(){return m.fromPairs(s.callbackResponseMessages.map((function(e){return[e,{}]})))};function h(e){var t;null===(t=window.parent)||void 0===t||t.postMessage(e,"*")}function v(e,t,n){h({uid:e,type:"".concat(t).concat(s.RESPONSE_SUFFIX),params:{status:"error",error:n}})}var y={GET_LOGIN_STATE:"onGetLoginState",LOGIN:"onLogin",LOGOUT:"onLogout",GET_AGENT_STATE:"onGetAgentState",SET_AGENT_STATE:"onSetAgentState",ACCEPT_INTERACTION:"onAcceptInteraction",REJECT_INTERACTION:"onRejectInteraction",START_CALL:"onStartCall",START_CHAT:"onStartChat",START_EMAIL:"onStartEmail",SEND_DTMF:"onSendDtmf",CONSULT_CALL:"onConsultCall",BLIND_TRANSFER:"onBlindTransfer",TRANSFER:"onTransfer",LEAVE_INTERACTION:"onLeaveInteraction",COMPLETE_INTERACTION:"onCompleteInteraction",LEAVE_AND_COMPLETE_INTERACTION:"onLeaveAndCompleteInteraction",SWITCH_ACTIVE_INTERACTION:"onSwitchActiveInteraction",INVITE_TO_CALL_CONFERENCE:"onInviteToCallConference",REMOVE_FROM_CALL_CONFERENCE:"onRemoveFromCallConference",DESTROY_CALL_CONFERENCE:"onDestroyCallConference",INVITE_TO_CHAT_CONFERENCE:"onInviteToChatConference",REMOVE_FROM_CHAT_CONFERENCE:"onRemoveFromChatConference",MERGE_ALL_CALLS_INTO_CONFERENCE:"onMergeAllCallsIntoConference",GET_TEAMS:"onGetTeams",GET_TEAM_MEMBERS:"onGetTeamMembers",GET_SERVICES_LIST:"onGetServicesList",GET_SERVICE:"onGetService",SET_SERVICE:"onSetService",GET_DID_LIST:"onGetDIDNumbersList",GET_DID:"onGetDIDNumber",SET_DID:"onSetDIDNumber",GET_DISPOSITIONS_LIST:"onGetDispositionsList",SET_DISPOSITION:"onSetDisposition",SET_RESCHEDULE:"onSetRescheduleWindow",ADD_NOTE:"onAddNote",UPDATE_NOTE:"onUpdateNote",REPLACE_NOTE:"onReplaceNote",GET_CONFIG:"onGetConfig",SET_VARIABLE:"onSetVariable",GET_VARIABLES:"onGetVariables",ADD_INTERACTION_ASSOCIATED_OBJECT:"onAddInteractionAssociatedObject",SET_INTERACTION_ACTIVE_SCREEN:"onSetInteractionActiveScreen",GET_PHONE_DEVICES_LIST:"onGetPhoneDevicesList",GET_PHONE_DEVICE:"onGetPhoneDevice",SET_PHONE_DEVICE:"onSetPhoneDevice",SET_CALL_HOLD:"onSetCallHold",SET_CALL_RECORDING:"onSetCallRecording",SET_CALL_MUTE:"onSetCallMute",SET_SCREEN_RECORDING_MUTE:"onSetScreenRecordingMute",GET_SCREEN_RECORDING_STATE:"onGetScreenRecordingState",SET_WIDGET_MINIMIZED:"onSetWidgetMinimized",SEND_CHAT_MESSAGE:"onSendChatMessage",SUGGEST_CHAT_MESSAGE:"onSuggestChatMessage",GET_AGENT_NOT_READY_REASONS:"onGetAgentNotReadyReasons",ACTIVATE_PAGE:"onActivatePage",GET_INTERACTIONS_STATE:"onGetInteractionsState",SET_CALL_RECORDING_MUTE:"onSetCallRecordingMute",SET_DIAL_CANDIDATES:"onSetDialCandidates"};function b(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function S(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var C=["null","undefined","boolean","number","string"],I=["primitiveObject","interactionAssociatedObject","interactionAssociatedObjectsArray","externalKBItems","externalKBSearchResults","externalKBArticle","formattedDate","phoneDeviceData","dispositionTarget","loginData","rescheduleData","arrayOfStrings","dialCandidates","phoneNumbers","recordsValidationResult"],w=function(e,t){if(!(0,d.isObject)(e))return!1;var n=Object.keys(e),r=Object.keys(t);return!!n.every((function(n){return!!r.includes(n)&&A(e[n],t[n])}))&&r.filter((function(e){return!n.includes(e)})).every((function(e){var n,r;return(null===(n=t[e].types)||void 0===n?void 0:n.includes("undefined"))||(null===(r=t[e].values)||void 0===r?void 0:r.includes(void 0))}))},E=function(e){if(!(0,d.isObject)(e))return!1;return w(e,{id:{types:["string"]},type:{types:["string"]},displayName:{types:["string"]},displayType:{types:["string"]},customFields:{types:["primitiveObject"]}})},O=function(e){if(!(0,d.isObject)(e))return!1;return w(e,{id:{types:["string"]},title:{types:["string"]},text:{types:["string"]},type:{values:["article"]}})},T=/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/,D={primitiveObject:function(e){return!(null===e||!(0,d.isObject)(e))&&!Object.values(e).some((function(e){return null!==e&&!C.includes(void 0===e?"undefined":S(e))}))},interactionAssociatedObject:E,interactionAssociatedObjectsArray:function(e){return!!b(e,Array)&&e.every((function(e){return E(e)}))},externalKBItems:function(e){return!!b(e,Array)&&e.every((function(e){return O(e)||function(e){return!!(0,d.isObject)(e)&&w(e,{id:{types:["string"]},title:{types:["string"]},type:{values:["folder"]}})}(e)}))},externalKBSearchResults:function(e){return!!b(e,Array)&&e.every(O)},externalKBArticle:function(e){if(!(0,d.isObject)(e))return!1;return w(e,{id:{types:["string"]},title:{types:["string"]},keywords:{types:["string"]},answer:{types:["string"]},notes:{types:["string"]},language:{types:["string"]},createdByUser:{types:["string"]},lastEditedByUser:{types:["string"]},customFields:{types:["primitiveObject"]}})},formattedDate:function(e){if("string"!=typeof e||!T.test(e))return!1;var t=parseInt(e.slice(0,4),10),n=parseInt(e.slice(5,7),10),r=parseInt(e.slice(8,10),10),a=parseInt(e.slice(11,13),10),o=parseInt(e.slice(14,16),10),i=parseInt(e.slice(17,19),10);if(t<1e3||t>3e3||n<1||n>12)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(t%400==0||t%100!=0&&t%4==0)&&(s[1]=29),!(r<1||r>s[n-1])&&!(a<0||a>23||o<0||o>59||i<0||i>59)},phoneDeviceData:function(e){if(!(0,d.isObject)(e))return!1;var t={type:{values:s.phoneDevices},phone:{types:["string","undefined"]}};return w(e,t)},dispositionTarget:function(e){if(!(0,d.isObject)(e))return!1;return w(e,{service:{types:["string","undefined"]},interactionId:{types:["string","undefined"]}})},loginData:function(e){if(!(0,d.isObject)(e))return!1;return w(e,{username:{types:["string"]},password:{types:["string"]},tenant:{types:["string","undefined"]}})},rescheduleData:function(e){if(!(0,d.isObject)(e))return!1;return w(e,{numberToDial:{types:["string"]},fromTime:{types:["formattedDate"]},untilTime:{types:["formattedDate"]},timezoneCode:{types:["string","undefined"]}})},arrayOfStrings:function(e){return b(e,Array)&&e.every((function(e){return"string"==typeof e}))},dialCandidates:function(e){var t={id:{types:["string"]},displayName:{types:["string"]},phones:{types:["phoneNumbers"]},email:{types:["string","undefined"]},associatedObjects:{types:["interactionAssociatedObjectsArray"]}};return!!b(e,Array)&&e.every((function(e){return w(e,t)}))},phoneNumbers:function(e){var t={number:{types:["string"]},type:{values:s.phoneTypes},displayType:{types:["string","undefined"]}};return!!b(e,Array)&&e.every((function(e){return w(e,t)}))},recordsValidationResult:function(e){if(!(0,d.isObject)(e))return!1;return w(e,{valid:{types:["boolean"]},message:{types:["string","undefined"]}})}},A=function(e,t){var n,r;if(null===(n=t.types)||void 0===n?void 0:n.length){if(t.types.includes("null")&&null===e)return!0;if((0,d.array)(t.types).includes(void 0===e?"undefined":S(e)))return!0;var a=I.filter((function(e){return(0,d.assertDefined)(t.types),t.types.includes(e)})),o=!0,i=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;if(D[l](e))return!0}}catch(_){i=!0,s=_}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return!1}return!!(null===(r=t.values)||void 0===r?void 0:r.length)&&t.values.includes(e)};function P(e,t){if(e.length>t.length)throw new r.ApiError("invalid_args","Expected to receive ".concat(t.length," parameters, but got ").concat(e.length));t.forEach((function(t,n){if(!A(e[n],t)){var a,o;if(null===(a=t.types)||void 0===a?void 0:a.length)throw new r.ApiError("invalid_args","Allowed types: ".concat(t.types.join(", "),'. But got: "').concat(S(e[n]),'"'));if(null===(o=t.values)||void 0===o?void 0:o.length)throw new r.ApiError("invalid_args","Allowed values: ".concat(t.values.join(", "),'. But got: "').concat(e[n],'"'));throw new r.ApiError("unknown_error","Type constraint for this method isn't working. Please contact the support.")}}))}var R={GET_LOGIN_STATE:[],LOGIN:[{types:["loginData"]},{types:["boolean","undefined"]}],LOGOUT:[],GET_AGENT_STATE:[],SET_AGENT_STATE:[{values:s.agentStates},{types:["string","undefined"]}],ACCEPT_INTERACTION:[{types:["string","undefined"]}],REJECT_INTERACTION:[{types:["string","undefined"]}],START_CALL:[{types:["string"]},{types:["interactionAssociatedObjectsArray"]}],START_CHAT:[{values:s.chatChannelTypes},{types:["string"]},{types:["interactionAssociatedObjectsArray"]}],START_EMAIL:[{types:["string"]},{types:["interactionAssociatedObjectsArray"]}],SEND_DTMF:[{types:["string"]},{types:["string","undefined"]}],CONSULT_CALL:[{types:["string"]}],BLIND_TRANSFER:[{types:["string"]},{types:["primitiveObject","undefined"]},{types:["string","undefined"]}],TRANSFER:[{types:["primitiveObject","undefined"]}],LEAVE_INTERACTION:[{types:["string","undefined"]}],COMPLETE_INTERACTION:[{types:["string","undefined"]}],LEAVE_AND_COMPLETE_INTERACTION:[{types:["string","undefined"]},{types:["string","undefined"]},{types:["string","undefined"]}],SWITCH_ACTIVE_INTERACTION:[{types:["string"]}],INVITE_TO_CALL_CONFERENCE:[{types:["string"]},{types:["primitiveObject","undefined"]},{types:["string","undefined"]}],REMOVE_FROM_CALL_CONFERENCE:[{types:["string"]},{types:["string","undefined"]}],DESTROY_CALL_CONFERENCE:[{types:["string","undefined"]}],INVITE_TO_CHAT_CONFERENCE:[{types:["string"]},{types:["string","undefined"]}],REMOVE_FROM_CHAT_CONFERENCE:[{types:["string"]},{types:["string","undefined"]}],MERGE_ALL_CALLS_INTO_CONFERENCE:[{types:["primitiveObject","undefined"]}],GET_TEAMS:[],GET_TEAM_MEMBERS:[{types:["string"]}],GET_SERVICES_LIST:[],GET_SERVICE:[],SET_SERVICE:[{types:["string","null"]}],GET_DID_LIST:[],GET_DID:[],SET_DID:[{types:["string","null"]}],GET_DISPOSITIONS_LIST:[{types:["dispositionTarget"]}],SET_DISPOSITION:[{types:["string"]},{types:["string","undefined"]}],ADD_NOTE:[{types:["string"]},{types:["string","undefined"]}],UPDATE_NOTE:[{types:["string"]},{types:["string","undefined"]}],REPLACE_NOTE:[{types:["string"]},{types:["string","undefined"]}],SET_RESCHEDULE:[{types:["rescheduleData"]},{types:["string","undefined"]}],GET_CONFIG:[],SET_VARIABLE:[{types:["string"]},{types:["string"]},{types:["string","undefined"]}],GET_VARIABLES:[{types:["arrayOfStrings"]},{types:["string","undefined"]}],ADD_INTERACTION_ASSOCIATED_OBJECT:[{types:["interactionAssociatedObject"]},{types:["string","undefined"]}],SET_INTERACTION_ACTIVE_SCREEN:[{types:["primitiveObject"]},{types:["string","undefined"]}],GET_PHONE_DEVICES_LIST:[],GET_PHONE_DEVICE:[],SET_PHONE_DEVICE:[{types:["phoneDeviceData"]}],SET_CALL_HOLD:[{types:["boolean"]},{types:["string","undefined"]}],SET_CALL_RECORDING:[{types:["boolean"]},{types:["string","undefined"]}],SET_CALL_MUTE:[{types:["boolean"]},{types:["string","undefined"]}],SET_SCREEN_RECORDING_MUTE:[{types:["boolean"]}],GET_SCREEN_RECORDING_STATE:[],SET_WIDGET_MINIMIZED:[{types:["boolean"]}],SEND_CHAT_MESSAGE:[{types:["string"]},{types:["string","undefined"]}],SUGGEST_CHAT_MESSAGE:[{types:["string"]},{types:["boolean","undefined"]},{types:["string","undefined"]}],GET_AGENT_NOT_READY_REASONS:[],ACTIVATE_PAGE:[],GET_INTERACTIONS_STATE:[],SET_CALL_RECORDING_MUTE:[{types:["boolean"]},{types:["string","undefined"]}],SET_DIAL_CANDIDATES:[{types:["dialCandidates"]}]},k={ON_REQUEST_TRANSFER_DATA:[{types:["primitiveObject","null"]}],ON_SEARCH_KNOWLEDGE_BASE:[{types:["externalKBSearchResults"]}],ON_GET_KNOWLEDGE_BASE_ARTICLE:[{types:["externalKBArticle","null"]}],ON_GET_KNOWLEDGE_BASE_FOLDER:[{types:["externalKBItems"]}],ON_WEB_SCREEN_POP_CUSTOM:[{types:["boolean"]}],ON_VALIDATE_ASSOCIATED_RECORDS:[{types:["recordsValidationResult"]}],ON_REQUEST_RECORD_INFO:[{types:["interactionAssociatedObject","null"]}],ON_REQUEST_RECORD_ON_SCREEN:[{types:["interactionAssociatedObject","null"]}]};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t,n){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},K(e,t,n||e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function $(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function q(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?M(e):t;var n}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}function H(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}var W=2e3,z=a.bpLogger.withPrefix("@API"),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(f,e);var t,n,a,l=V(f);function f(){var e;return j(this,f),L(M(e=l.apply(this,arguments)),"callbackResponseResolverMap",g()),L(M(e),"pendingMessages",[]),L(M(e),"sessionState",(0,o.getInitialSessionState)()),L(M(e),"onSessionDataChange",(function(e,t){!e.authChecked&&t.authChecked&&(console.info("@@@ Integration API is ready"),h({type:"ready",uid:(0,u.uuid)()}))})),L(M(e),"simpleApiCall",(function(t,n){null===e.stateData.integrationKey?e.pendingMessages.push({mode:"simple",type:t,params:n}):h({uid:(0,u.uuid)(),type:t,params:n})})),L(M(e),"makeApiCallWithTimeout",(function(t,n,r){h({uid:r,type:t,params:n}),e.runResponseTimeoutWatch(t,r)})),L(M(e),"apiCallWithResponse",(function(t,n){return new Promise((function(r,a){var o=(0,u.uuid)();e.callbackResponseResolverMap[t+s.RESPONSE_SUFFIX][o]={resolve:r,reject:a},null===e.stateData.integrationKey?e.pendingMessages.push({mode:"withResponse",uid:o,type:t,params:n}):e.makeApiCallWithTimeout(t,n,o)}))})),L(M(e),"runResponseTimeoutWatch",(function(t,n){var a="".concat(t).concat(s.RESPONSE_SUFFIX);_(a)&&setTimeout((function(){var o=e.callbackResponseResolverMap[a],i=o[n];i&&(delete o[n],i.reject((0,r.resultError)("timeout","Response message ".concat(t," wasn't received ")+"in the set timeout of ".concat(W," ms"))))}),W)})),L(M(e),"assertCurrentTabIsLatestActiveADC",(function(t){if(!e.isCurrentTabActiveADC())throw z.info('Singleton event "'.concat(t,'" has been skipped on this tab')),new Error(i.DO_NOT_RESPOND)})),L(M(e),"tabSingleton",(function(t,n){e.isCurrentTabActiveADC()?n():console.info('@@@ IntegrationAPI: singleton event "'.concat(t,'" has been skipped on this tab'))})),L(M(e),"login",(function(t){e.simpleApiCall("ON_LOGIN",[t])})),L(M(e),"logout",(function(){e.simpleApiCall("ON_LOGOUT",[])})),L(M(e),"newInteraction",(function(t){e.simpleApiCall("ON_NEW_INTERACTION",[t])})),L(M(e),"interactionRemoved",(function(t){e.simpleApiCall("ON_INTERACTION_REMOVED",[t])})),L(M(e),"interactionStateChange",(function(t){e.simpleApiCall("ON_INTERACTION_STATE_CHANGE",[t])})),L(M(e),"activeInteractionSwitched",(function(t){e.simpleApiCall("ON_ACTIVE_INTERACTION_SWITCHED",[t])})),L(M(e),"agentStateChange",(function(t){e.simpleApiCall("ON_AGENT_STATE_CHANGE",[t.state,t.notReadyReason])})),L(M(e),"loadTransferData",(function(t,n){e.simpleApiCall("ON_LOAD_TRANSFER_DATA",[t,n])})),L(M(e),"screenRecordingStateChange",(function(t){e.simpleApiCall("ON_SCREEN_RECORDING_STATE_CHANGE",[t])})),L(M(e),"widgetMinimizedChange",(function(t){e.simpleApiCall("ON_WIDGET_MINIMIZED_CHANGE",[t])})),L(M(e),"serverError",(function(t){e.simpleApiCall("ON_SERVER_ERROR",[t])})),L(M(e),"softphoneStatusChange",(function(t,n){e.simpleApiCall("ON_SOFTPHONE_STATUS_CHANGE",[t,n])})),L(M(e),"audioDeviceChange",(function(t,n){e.simpleApiCall("ON_AUDIO_DEVICE_CHANGE",[t,n])})),L(M(e),"phoneCapabilitiesChange",(function(t){e.simpleApiCall("ON_PHONE_CAPABILITIES_CHANGE",[t])})),L(M(e),"callAudioQualityAlert",(function(t,n){e.simpleApiCall("ON_CALL_AUDIO_QUALITY_ALERT",[t,n])})),L(M(e),"openRecord",(function(t,n,r){e.tabSingleton("ON_OPEN_RECORD",(function(){return e.simpleApiCall("ON_OPEN_RECORD",[t,n,r])}))})),L(M(e),"searchRecords",(function(t,n,r){e.tabSingleton("ON_SEARCH_RECORDS",(function(){return e.simpleApiCall("ON_SEARCH_RECORDS",[t,n,r])}))})),L(M(e),"showScreen",(function(t,n){e.tabSingleton("ON_SHOW_SCREEN",(function(){return e.simpleApiCall("ON_SHOW_SCREEN",[t,n])}))})),L(M(e),"saveActivityRecord",(function(t){e.tabSingleton("ON_SAVE_ACTIVITY_RECORD",(function(){return e.simpleApiCall("ON_SAVE_ACTIVITY_RECORD",[t])}))})),L(M(e),"requestTransferData",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_REQUEST_TRANSFER_DATA"),e.apiCallWithResponse("ON_REQUEST_TRANSFER_DATA",[t])})),L(M(e),"getKnowledgeBaseFolder",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_GET_KNOWLEDGE_BASE_FOLDER"),e.apiCallWithResponse("ON_GET_KNOWLEDGE_BASE_FOLDER",[t]).then((function(t){return t.map((function(t){var n;return B(U({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""})}))}))})),L(M(e),"searchKnowledgeBase",(function(t,n,r){return e.assertCurrentTabIsLatestActiveADC("ON_SEARCH_KNOWLEDGE_BASE"),e.apiCallWithResponse("ON_SEARCH_KNOWLEDGE_BASE",[t,n,r]).then((function(t){return t.map((function(t){var n;return B(U({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""})}))}))})),L(M(e),"getKnowledgeBaseArticle",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_GET_KNOWLEDGE_BASE_ARTICLE"),e.apiCallWithResponse("ON_GET_KNOWLEDGE_BASE_ARTICLE",[t]).then((function(t){var n;return t?B(U({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""}):null}))})),L(M(e),"webScreenPopCustom",(function(t,n){return e.assertCurrentTabIsLatestActiveADC("ON_WEB_SCREEN_POP_CUSTOM"),e.apiCallWithResponse("ON_WEB_SCREEN_POP_CUSTOM",[t,n])})),L(M(e),"validateAssociatedRecords",(function(t,n){return e.assertCurrentTabIsLatestActiveADC("ON_VALIDATE_ASSOCIATED_RECORDS"),e.apiCallWithResponse("ON_VALIDATE_ASSOCIATED_RECORDS",[t,n])})),L(M(e),"requestRecordInfo",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_REQUEST_RECORD_INFO"),e.apiCallWithResponse("ON_REQUEST_RECORD_INFO",[t]).then((function(t){var n;return t?B(U({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""}):null}))})),L(M(e),"requestRecordOnScreen",(function(){return e.assertCurrentTabIsLatestActiveADC("ON_REQUEST_RECORD_ON_SCREEN"),e.apiCallWithResponse("ON_REQUEST_RECORD_ON_SCREEN",[]).then((function(t){var n;return t?B(U({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""}):null}))})),e}return t=f,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({setDeferredDialData:this.setDeferredDialData,addPendingAssociatedObjects:this.addPendingAssociatedObjects,removePendingAssociatedObjects:this.removePendingAssociatedObjects,login:this.login,logout:this.logout,newInteraction:this.newInteraction,interactionRemoved:this.interactionRemoved,interactionStateChange:this.interactionStateChange,activeInteractionSwitched:this.activeInteractionSwitched,agentStateChange:this.agentStateChange,loadTransferData:this.loadTransferData,openRecord:this.openRecord,searchRecords:this.searchRecords,showScreen:this.showScreen,screenRecordingStateChange:this.screenRecordingStateChange,widgetMinimizedChange:this.widgetMinimizedChange,serverError:this.serverError,audioDeviceChange:this.audioDeviceChange,callAudioQualityAlert:this.callAudioQualityAlert,phoneCapabilitiesChange:this.phoneCapabilitiesChange,softphoneStatusChange:this.softphoneStatusChange,saveActivityRecord:this.saveActivityRecord,requestTransferData:this.requestTransferData,getKnowledgeBaseFolder:this.getKnowledgeBaseFolder,getKnowledgeBaseArticle:this.getKnowledgeBaseArticle,searchKnowledgeBase:this.searchKnowledgeBase,webScreenPopCustom:this.webScreenPopCustom,validateAssociatedRecords:this.validateAssociatedRecords,requestRecordInfo:this.requestRecordInfo,requestRecordOnScreen:this.requestRecordOnScreen}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){e.onSessionDataChange(e.sessionState,t),e.sessionState=U({},t)},onChange:function(t){var n=U({},e.sessionState,t);e.onSessionDataChange(e.sessionState,n),e.sessionState=n}})),this.registerMessageListeners(),this.startAutoDetectionAdapterPing()}},{key:"isCurrentTabActiveADC",value:function(){var e,t=this.currentTabDataProvider.get().latestActivationTimestamp,n=this.tabsConnector.getStateData().tabs,r=(e=Math).max.apply(e,H(Object.values(n).filter((function(e){return e.activeApi})).map((function(e){return e.latestActivationTimestamp}))));return z.info("### current tab latest activation timestamp:",t),z.info("### latest activated ADC timestamp overall:",r),t>=r}},{key:"setDeferredDialData",value:function(e){this.produceState((function(t){t.deferredDialData=e}))}},{key:"addPendingAssociatedObjects",value:function(e,t){var n=this;if(t.length){var r=(0,u.uuid)();this.produceState((function(n){n.pendingAssociatedObjects[e]={lastId:r,objects:t}})),setTimeout((function(){var t=n.stateData.pendingAssociatedObjects[e];(null==t?void 0:t.lastId)===r&&n.removePendingAssociatedObjects(e)}),3e4)}}},{key:"removePendingAssociatedObjects",value:function(e){this.produceState((function(t){delete t.pendingAssociatedObjects[e]}))}},{key:"startAutoDetectionAdapterPing",value:function(){var e=this,t=function(){return h({type:"hello",uid:(0,u.uuid)()})};t();var n=setInterval((function(){null!==e.stateData.integrationKey?clearInterval(n):t()}),5e3)}},{key:"handlePendingMessages",value:function(){var e=this;this.pendingMessages.forEach((function(t){"simple"===t.mode?e.simpleApiCall(t.type,t.params):"withResponse"===t.mode&&e.makeApiCallWithTimeout(t.type,t.params,t.uid)})),this.pendingMessages.splice(0)}},{key:"registerMessageListeners",value:function(){var e=this;window&&"function"==typeof window.addEventListener&&window.addEventListener("message",(function(t){var n=t.data;if(function(e){return!!e&&(0,d.isObject)(e)&&"type"in e&&"string"==typeof e.type&&"uid"in e&&"string"==typeof e.uid}(n)){var a=n.type,o=n.uid,i=n.params,u=n.noHandlers;if("hi"===a)return i&&$(i,Array)&&e.produceState((function(e){e.integrationKey="string"==typeof i[0]?i[0]:null,e.adapterUrlParams="string"==typeof i[1]?m.extractURLParams(i[1]):null,e.disableNewInteractionPopup="boolean"==typeof i[2]&&i[2]})),void(e.stateData.integrationKey?(e.handlePendingMessages(),e.produceState((function(e){e.isAvailable=!0}))):z.error("API will not work without specifying integration key in the constructor"));if(null!==e.stateData.integrationKey)try{if(!$(i,Array))return void v(o,a,(0,r.resultError)("invalid_args","params expected to be an array"));if(function(e){return(0,d.array)(s.requestMessages).includes(e)}(a))return void e.handleIncomingRequest(o,a,i);if(_(a))return void e.handleIncomingCallbackResponse(o,a,i,null!=u&&u);v(o,a,(0,r.resultError)("invalid_request","Incorrect message type, or this method is not yet implemented"))}catch(l){z.error("Error in message event listener:",(0,c.getErrorMessage)(l))}}}))}},{key:"dispatchRequestMessage",value:function(e,t){var n;return this.internalHandlers(e,t),(n=this.toClientDispatch)[y[e]].apply(n,H(t))}},{key:"internalHandlers",value:function(e,t){"SET_DIAL_CANDIDATES"===e&&this.produceState((function(e){e.dialCandidates=t[0].map((function(t){return B(U({},t),{associatedObjects:t.associatedObjects.map((function(t){var n;return B(U({},t),{source:null!==(n=e.integrationKey)&&void 0!==n?n:""})}))})}))}))}},{key:"handleIncomingRequest",value:function(e,t,n){try{P(n,R[t])}catch(o){var a=(0,r.extractResultError)(o);return console.error("@@@ Api error: ".concat(t," ").concat(e,": ").concat(JSON.stringify(a))),void v(e,t,a)}this.dispatchRequestMessage(t,n).then((function(n){!function(e,t,n){h({uid:e,type:"".concat(t).concat(s.RESPONSE_SUFFIX),params:{status:"success",data:n}})}(e,t,n)})).catch((function(n){var a=(0,r.extractResultError)(n);console.error("@@@ Api error: ".concat(t," ").concat(e,": ").concat(JSON.stringify(a))),v(e,t,a)}))}},{key:"handleIncomingCallbackResponse",value:function(e,t,n,a){var o=this.callbackResponseResolverMap[t];if(null==o?void 0:o[e]){var i=o[e],c=i.resolve,u=i.reject;delete o[e],a?Promise.resolve().then((function(){u(r.NO_HANDLERS_ERROR)})):Promise.resolve().then((function(){var e=t.substring(0,t.length-s.RESPONSE_SUFFIX.length),a=null;try{P(n,k[e])}catch(o){a=(0,r.extractResultError)(o)}Promise.resolve().then((function(){null===a?c(n[0]):u(a)}))}))}else z.warn("API received response for unknown request")}},{key:"resetState",value:function(){K(F(f.prototype),"resetState",this).call(this),this.pendingMessages.splice(0)}}])&&x(t.prototype,n),a&&x(t,a),f}(l.StateFactory.createBaseStateClass({name:"integrationApiState",controlEvents:r.integrationApiStateControlEvents,trackerEvents:r.integrationApiStateTrackerEvents,getInitialState:r.getInitialIntegrationApiState,options:{synchronized:!0,coordinationMode:"adc-app"},dependencies:["currentTabDataProvider","sessionConnector","tabsConnector"]}))},21775:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppRoutes:()=>r,NavigationStateContext:()=>k,NavigationStateProvider:()=>N,useNavigationState:()=>M,useNavigationStateRef:()=>j});var r,a=n(52322),o=n(66029),i=n(27005),s=n(86702),c=n(3118),u=n(13641),l=n(40381),d=n(77024);!function(e){e.Recents="Recents",e.Dial="Dial",e.Favorites="Favorites",e.Directory="Directory",e.Interactions="Interactions",e.Cases="Cases",e.ContactDetails="Contact Details",e.KnowledgeBase="Knowledge Base",e.Help="Help",e.Calendar="Calendar"}(r||(r={}));var _=n(63830),f=n.n(_),p=n(2122),m=n(84512),g=n(79607),h=n(29016),v=n(53179),y=[r.Cases],b="adcNavigationActivePage",S="NavigationStateContext",C={activePage:{name:r.Interactions},defaultPage:r.Recents,noVisibleInteractionsOnMainPannel:!0,setActivePage:(0,l.throwNoProviderError)(S),addPageParams:(0,l.throwNoProviderError)(S),cleanPageParams:(0,l.throwNoProviderError)(S),removePageParam:(0,l.throwNoProviderError)(S),goBack:(0,l.throwNoProviderError)(S)};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=null;function A(e){var t=e.defaultPage,n=e.activePage,a=e.noInteractions,i=e.handlePageChange,s=e.privilegesLoaded,c=e.isInteractionItemsLoaded,u=(0,g.useSessionState)().isLoggedIn,d=(0,m.useLocalSettings)(),_=(0,l.useAsRef)(t);(0,o.useEffect)((function(){u&&d.get(b).then((function(e){var t,n;e&&(n=e.name,D=Object.values(r).includes(n)?{name:e.name,params:e.params}:{name:null!==(t=_.current)&&void 0!==t?t:r.Directory})}))}),[_,u,d]),(0,o.useEffect)((function(){if(D&&c&&s){var e;if(D.name===r.Interactions)i({name:a?null!==(e=_.current)&&void 0!==e?e:r.Recents:r.Interactions});else i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}({},n,D));D=null}}),[n,_,i,c,a,s])}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=(0,s.createContext)(C);k.displayName=S;var N=function(e){var t,n=(0,c.useActiveInteraction)()?C.activePage:{name:C.defaultPage},s=R((0,o.useState)(n),2),u=s[0],_=s[1],S=(t=(0,g.useSessionState)().privileges,{checkPrivileges:(0,o.useCallback)((function(e){var n,a=(O(n={},r.Recents,!!t.SYS_USE_RECENT_TAB),O(n,r.Dial,!0),O(n,r.Favorites,!!t.SYS_USE_FAVORITES_TAB),O(n,r.Directory,!0),O(n,r.Cases,!0),O(n,r.KnowledgeBase,!0),O(n,r.Interactions,!0),n);return!Object.prototype.hasOwnProperty.call(a,e)||a[e]}),[t]),privilegesLoaded:!!Object.keys(t).length}),I=S.checkPrivileges,T=S.privilegesLoaded,D=function(e){var t=e.privilegesLoaded,n=e.checkPrivileges,r=e.setActivePage,a=(0,g.useSessionState)().isLoggedIn,i=(0,v.useLocalizationState)().t,s=(0,m.useLocalSettings)(),c=(0,h.useNotificationsState)("methods"),u=c.showNotification,l=c.hideNotificationsByTag,d=(0,o.useCallback)((function(e){if(t){if(!n(e.name))return u({type:"error",id:h.Notifications.UserHasNoAccessError,tags:["current-view"],content:i.ERROR_MESSAGES.notEnoughPrivileges(),duration:5e3});var o=!y.includes(e.name);r((function(t){var n,r=e.name===t.name,i=(0,p.isEqual)(null!==(n=e.params)&&void 0!==n?n:{},(0,p.omit)(t.params,"prev","prevParams"));if(r&&i)return t;var c={name:e.name,params:w({},o&&!r?{prev:t.name,prevParams:t.params}:{},e.params)};return a&&s.set(b,c),c})),e.autoRouting||l("current-view")}}),[n,l,a,s,t,r,u,i.ERROR_MESSAGES]),_=(0,o.useCallback)((function(e){r((function(t){var n={name:t.name,params:w({},t.params,e)};return a&&s.set(b,n),n}))}),[a,s,r]),S=(0,o.useCallback)((function(e){r((function(t){var n=f()(t,(function(t){var n;(null==t||null===(n=t.params)||void 0===n?void 0:n[e])&&delete t.params[e]}));return a&&s.set(b,n),n}))}),[a,s,r]),I=(0,o.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r((function(t){var n={name:t.name,params:e?{prev:(0,p.get)(t.params,"prev"),prevParams:(0,p.get)(t.params,"prevParams")}:{}};return a&&s.set(b,n),n}))}),[a,s,r]);return{handleGoBack:(0,o.useCallback)((function(){r((function(e){if(e.params&&"prev"in e.params){var t=e.params,n=t.prev,r=t.prevParams,o={name:n,params:E(w({},null!=r?r:{}),{prev:null==r?void 0:r.name,prevParams:null==r?void 0:r.params})};if(n)return a&&s.set(b,o),o}return a&&s.set(b,C.activePage),C.activePage})),l("current-view")}),[l,a,s,r]),handlePageChange:d,cleanPageParams:I,removePageParam:S,addPageParams:_}}({setActivePage:_,activePage:u,checkPrivileges:I,privilegesLoaded:T}),P=D.handleGoBack,N=D.handlePageChange,M=D.addPageParams,j=D.cleanPageParams,x=D.removePageParam,L=function(e){var t=e.checkPrivileges,n=e.privilegesLoaded;return(0,o.useMemo)((function(){if(n)return t(r.Recents)?r.Recents:r.Directory}),[t,n])}({checkPrivileges:I,privilegesLoaded:T});!function(e){var t=e.defaultPage,n=e.checkPrivileges,r=e.activePage,a=e.privilegesLoaded,i=e.handlePageChange;(0,o.useEffect)((function(){t&&a&&!n(r.name)&&i({name:t})}),[r.name,n,t,i,a])}({defaultPage:L,handlePageChange:N,privilegesLoaded:T,checkPrivileges:I,activePage:u});var K=(0,i.useAtomValue)(d.parallelItemsAtom),F=(0,c.useInteractionStateSelector)((function(e){return!e.itemsWithoutAssociated.filter((function(e){return t=e.id,!K.find((function(e){return e.itemIds.includes(t)}));var t})).length})),$=(0,c.useInteractionStateSelector)((function(e){return e.isLoaded}));A({handlePageChange:N,defaultPage:L,activePage:u,privilegesLoaded:T,isInteractionItemsLoaded:$,noInteractions:F}),function(e){var t,n=e.handlePageChange,a=e.isInteractionItemsLoaded,i=e.privilegesLoaded,s=e.activePage,c=e.defaultPage,u=e.noInteractions,d=(0,l.usePrevious)(u);(0,o.useLayoutEffect)((function(){if(a&&i&&s.name===r.Interactions&&!d&&u){var e,t=null==s||null===(e=s.params)||void 0===e?void 0:e.prev;n({name:t&&t!==r.Interactions?t:c})}}),[i,s.name,null==s||null===(t=s.params)||void 0===t?void 0:t.prev,u,n,a,d,c])}({defaultPage:L,handlePageChange:N,privilegesLoaded:T,activePage:u,isInteractionItemsLoaded:$,noInteractions:F});var U=(0,o.useMemo)((function(){return{activePage:u,defaultPage:L,setActivePage:N,addPageParams:M,cleanPageParams:j,removePageParam:x,goBack:P,noVisibleInteractionsOnMainPannel:F}}),[u,L,N,M,j,x,P,F]);return(0,a.jsx)(k.Provider,{value:U,children:e.children})},M=(0,u.createUIStateSelectorHook)(k,"adcNavigationState").useAdcNavigationState,j=function(){var e=(0,s.useContext)(k);return(0,l.useAsRef)(e)}},67373:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CommunicatorUIContext:()=>L,CommunicatorUIProvider:()=>U,contextName:()=>j,emptyDirectoryUIState:()=>y,emptyRecentState:()=>A,recentStorageNames:()=>P,useCommunicatorUIState:()=>B,useDirectoryUIState:()=>S,useDirectoryUIStateModule:()=>b,useRecentUIState:()=>k,useRecentUIStateModule:()=>R});var r=n(52322),a=n(66029),o=n(86702),i=n(84512),s=n(13641),c=n(2122),u=(0,c.invert)(["all","calls","messages"]),l=(0,c.invert)(["recent","favorites","directory"]),d=(0,c.invert)(["internal","external"]),_=n(40381);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v={createContactMode:!1,tabIndex:d.internal,selected:void 0,firstFoundItemId:void 0,searchValue:"",createContactFormValues:{firstName:"",lastName:"",phone:"",email:"",messenger:void 0},searchInputRef:{current:null}},y=g(m({},v),{toggleCreateContactMode:(0,_.throwNoProviderError)(j),setCreateContactFormValues:(0,_.throwNoProviderError)(j),setSelected:(0,_.throwNoProviderError)(j),setSearchValue:(0,_.throwNoProviderError)(j),handleTabChange:(0,_.throwNoProviderError)(j),setFirstFoundItemId:(0,_.throwNoProviderError)(j)});function b(){var e=h((0,a.useState)(v.tabIndex),2),t=e[0],n=e[1],r=(0,a.useRef)(null),o=(0,a.useCallback)((function(e){n(e.toString())}),[]),s=h((0,a.useState)(v.selected),2),c=s[0],u=s[1],l=h((0,a.useState)(v.firstFoundItemId),2),d=l[0],f=l[1],p=h((0,a.useState)(v.searchValue),2),b=p[0],S=p[1],C=h((0,a.useState)(y.createContactFormValues),2),I=C[0],w=C[1],E=(0,_.useBoolean)(!1),O=E.value,T=E.toggle,D=(0,a.useMemo)((function(){return{tabIndex:t,selected:c,searchValue:b,createContactMode:O,createContactFormValues:I,firstFoundItemId:d,searchInputRef:r}}),[t,c,b,O,I,d]),A=(0,a.useCallback)((function(e){n(e.tabIndex),u(e.selected),S(e.searchValue),T(e.createContactMode),w(e.createContactFormValues)}),[T]);return(0,i.useLocalStorageForState)(g(m({},D),{searchInputRef:y.searchInputRef}),"adcDirectoryStateData",A,v),(0,a.useMemo)((function(){return g(m({},D),{handleTabChange:o,setSelected:u,setSearchValue:S,setFirstFoundItemId:f,toggleCreateContactMode:T,setCreateContactFormValues:w})}),[D,o,T])}function S(e){return(0,o.useContextSelector)(L,(function(t){return e?e(t.directory):t.directory}))}var C=n(26552);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D={searchValue:"",tabIndex:u.all,selected:void 0},A=O(E({},D),{setSearchValue:(0,_.throwNoProviderError)(j),handleTabChange:(0,_.throwNoProviderError)(j),setSelected:(0,_.throwNoProviderError)(j)}),P={stateData:"adcRecentStateData"};function R(){var e=T((0,a.useState)(D.tabIndex),2),t=e[0],n=e[1],r=T((0,a.useState)(D.selected),2),o=r[0],s=r[1],c=T((0,a.useState)(D.searchValue),2),u=c[0],l=c[1],d=(0,a.useCallback)((function(e){(0,C.assertDefined)(e),n(e.toString())}),[]),_=(0,a.useMemo)((function(){return{tabIndex:t,selected:o,searchValue:u}}),[u,t,o]),f=(0,a.useCallback)((function(e){s(e.selected),l(e.searchValue),n(e.tabIndex)}),[]);return(0,i.useLocalStorageForState)(_,P.stateData,f,D),(0,a.useMemo)((function(){return O(E({},_),{handleTabChange:d,setSelected:s,setSearchValue:l})}),[_,d])}function k(e){return(0,o.useContextSelector)(L,(function(t){return e?e(t.recent):t.recent}))}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j="CommunicatorUIContext",x={rightPanelOpened:!1,leftPanelOpened:!1,settingsOpened:!1,serviceSelectorVisible:!1,transferTabIndex:l.recent,recent:A,directory:y,dialpad:{searchValue:"",setSearchValue:(0,_.throwNoProviderError)(j)},toggleLeftPanel:(0,_.throwNoProviderError)(j),toggleRightPanel:(0,_.throwNoProviderError)(j),toggleSettings:(0,_.throwNoProviderError)(j),handleTransferTabChange:(0,_.throwNoProviderError)(j),setServiceSelectorVisibility:(0,_.throwNoProviderError)(j),interactionChatFormRef:{current:null}},L=(0,o.createContext)(x);L.displayName=j;var K="adcLeftPanelOpened",F="adcRightPanelOpened",$="adcTransferTabIndex",U=function(e){var t=e.children,n=(0,a.useCallback)((function(e){c(null==e?void 0:e.toString())}),[]),o=M((0,a.useState)(x.transferTabIndex),2),s=o[0],c=o[1],u=(0,_.useBoolean)(!1),l=u.value,d=u.toggle,f=(0,_.useBoolean)(!1),p=f.value,m=f.toggle,g=(0,_.useBoolean)(!1),h=g.value,v=g.toggle,y=M((0,a.useState)(!1),2),S=y[0],C=y[1],I=M((0,a.useState)(x.dialpad.searchValue),2),w=I[0],E=I[1],O=R(),T=b(),D=(0,a.useRef)(null),A=(0,a.useMemo)((function(){return{searchValue:w,setSearchValue:E}}),[w]);(0,i.useLocalStorageForState)(p,K,m,x.leftPanelOpened),(0,i.useLocalStorageForState)(l,F,d,x.rightPanelOpened),(0,i.useLocalStorageForState)(s,$,c,x.transferTabIndex);var P=(0,a.useMemo)((function(){return{rightPanelOpened:l,toggleRightPanel:d,leftPanelOpened:p,toggleLeftPanel:m,settingsOpened:h,toggleSettings:v,transferTabIndex:s,handleTransferTabChange:n,recent:O,directory:T,dialpad:A,serviceSelectorVisible:S,setServiceSelectorVisibility:C,interactionChatFormRef:D}}),[l,d,p,m,h,v,s,n,O,T,A,S]);return(0,r.jsx)(L.Provider,{value:P,children:t})},B=(0,s.createUIStateSelectorHook)(L,"communicatorUIState").useCommunicatorUIState},46329:(e,t,n)=>{"use strict";function r(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return e}function o(e,t){const n=(t=t||{}).delimiter||".",o=t.maxDepth,i=t.transformKey||a,s={};return function e(a,c,u){u=u||1,Object.keys(a).forEach((function(l){const d=a[l],_=t.safe&&Array.isArray(d),f=Object.prototype.toString.call(d),p=r(d),m="[object Object]"===f||"[object Array]"===f,g=c?c+n+i(l):i(l);if(!_&&!p&&m&&Object.keys(d).length&&(!t.maxDepth||u<o))return e(d,g,u+1);s[g]=d}))}(e),s}function i(e,t){const n=(t=t||{}).delimiter||".",s=t.overwrite||!1,c=t.transformKey||a,u={};if(r(e)||"[object Object]"!==Object.prototype.toString.call(e))return e;function l(e){const n=Number(e);return isNaN(n)||-1!==e.indexOf(".")||t.object?e:n}return e=Object.keys(e).reduce((function(r,a){const i=Object.prototype.toString.call(e[a]);return!("[object Object]"===i||"[object Array]"===i)||function(e){const t=Object.prototype.toString.call(e),n="[object Object]"===t;return!e||("[object Array]"===t?!e.length:n?!Object.keys(e).length:void 0)}(e[a])?(r[a]=e[a],r):function(e,t,r){return Object.keys(r).reduce((function(t,a){return t[e+n+a]=r[a],t}),t)}(a,r,o(e[a],t))}),{}),Object.keys(e).forEach((function(r){const a=r.split(n).map(c);let o=l(a.shift()),d=l(a[0]),_=u;for(;void 0!==d;){if("__proto__"===o)return;const e=Object.prototype.toString.call(_[o]),n="[object Object]"===e||"[object Array]"===e;if(!s&&!n&&void 0!==_[o])return;(s&&!n||!s&&null==_[o])&&(_[o]="number"!=typeof d||t.object?{}:[]),_=_[o],a.length>0&&(o=l(a.shift()),d=l(a[0]))}_[o]=i(e[r],t)})),u}n.r(t),n.d(t,{flatten:()=>o,unflatten:()=>i})},51541:(e,t,n)=>{"use strict";n.r(t);var r=n(90967),a={};for(const o in r)"default"!==o&&(a[o]=()=>r[o]);n.d(t,a)},30646:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{DAYS_IN_WEEK:()=>Y,DAYS_IN_WEEKEND:()=>Q,Deferred:()=>i,EscapeManager:()=>l,MS_IN_DAY:()=>z,MS_IN_HOUR:()=>W,MS_IN_MINUTE:()=>V,MS_IN_SECOND:()=>H,MS_IN_WEEK:()=>J,Mask:()=>f,MicrophoneVolume:()=>y,SECONDS_IN_DAY:()=>Z,SECONDS_IN_HOUR:()=>X,Selection:()=>I,Stack:()=>O,TabsManager:()=>A,WEEK_DAYS_INDICES:()=>ee,WEEK_DAYS_ORDER_MONDAY:()=>G,WEEK_DAYS_ORDER_SUNDAY:()=>q,addLeadingZero:()=>P,addTime:()=>re,areSameDays:()=>Ce,areSameMonths:()=>Ie,calculateTextWidth:()=>R,capitalize:()=>k,clipboard:()=>a,combineFilters:()=>Qe,convertToDate:()=>se,convertToDayjs:()=>Oe,createProviderWrapper:()=>j,createSeriesCallback:()=>Rt,cutMilliseconds:()=>xe,downloadAudio:()=>Ge,downloadJsonFile:()=>We,downloadURL:()=>$e,fetchWithRetries:()=>ze,formatDate:()=>ne,formatDuration:()=>Me,formatDurationShort:()=>je,formatTime:()=>Ke,get12HourFormat:()=>Pe,getDuration:()=>le,getElementFontString:()=>Je,getErrorMessage:()=>Xe,getFileFromUrl:()=>nt,getFileNameAndExtension:()=>it,getLTS:()=>ue,getLanguageCode:()=>st,getLongDateFormat:()=>te,getMomentUTC:()=>ce,getNextMonthDate:()=>me,getRandomInt:()=>mt,getStartOfDay:()=>pe,getStartTime:()=>ke,getTimeOfDate:()=>fe,getTimerValue:()=>pr,getUserTimezone:()=>Ne,getWeekDays:()=>_e,hhmmToDate:()=>Ae,inheritConnector:()=>d,initialBooleanManager:()=>hn,isBefore:()=>ie,isDayStart:()=>ge,isMidnight:()=>Re,isSame:()=>be,isSameWeek:()=>ye,isSameYear:()=>Se,isSelectOrTextField:()=>ct,isToday:()=>he,isUrl:()=>ut,isYesterday:()=>ve,languageToLocaleMap:()=>Xt,lowerCase:()=>lt,makeObservable:()=>pt,mergeMessages:()=>vt,normalizeExternalURL:()=>bt,not:()=>Ye,parseQueryString:()=>It,prepareSearchRegExp:()=>wt,readFromJsonFile:()=>Tt,removeHttp:()=>Dt,removeLastSlash:()=>At,removeSpaces:()=>Pt,secondsToMilliseconds:()=>Ee,secsToMinutes:()=>de,setDayjsLocaleGlobally:()=>Zt,setQueryParams:()=>en,stopPropagation:()=>tn,stringToHTML:()=>nn,stringToHTMLFragment:()=>rn,throwNoProviderError:()=>an,timeFromNow:()=>oe,timePassedFromNow:()=>ae,toDateISOString:()=>we,toHHMMSS:()=>De,toMMSS:()=>Te,truncateText:()=>on,unixTimestampToTimestamp:()=>Le,unstringifyNumber:()=>K,useAsRef:()=>_n,useBoolean:()=>vn,useDebounce:()=>Sn,useDidUnmount:()=>pn,useEffectDebugger:()=>Tn,useEscapeManager:()=>kn,useEvent:()=>Pn,useEventListener:()=>Nn,useFocusElement:()=>Ln,useInfiniteScroll:()=>Gn,useInnerHTML:()=>Hn,useIntersectionObserver:()=>Yn,useOnKeyPressHandler:()=>Qn,useOutsideClick:()=>Zn,usePageVisibility:()=>nr,usePersistedFormValues:()=>rr,usePressKeyHandler:()=>ar,usePrevious:()=>Cn,usePreviousRef:()=>or,usePreviousValue:()=>In,usePreviousValueRef:()=>ir,useResizeObserver:()=>$n,useScrollObserver:()=>sr,useSelectionOnMouseUp:()=>lr,useTimer:()=>mr,useValueUpdated:()=>Un,waitNextTick:()=>ln,weekDaysSort:()=>Fe});var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"copyFormatted",value:function(e){var t,n,r=document.createElement("div");r.innerHTML=e,r.style.position="fixed",r.style.pointerEvents="none",r.style.opacity="0",document.body.appendChild(r),null===(t=window.getSelection())||void 0===t||t.removeAllRanges();var a=document.createRange();a.selectNode(r),null===(n=window.getSelection())||void 0===n||n.addRange(a),document.execCommand("copy"),document.body.removeChild(r)}},{key:"copy",value:function(e){navigator.clipboard.writeText(e)}}])&&r(t.prototype,n),a&&r(t,a),e}());function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"promise",void 0),o(this,"resolve",void 0),o(this,"reject",void 0),this.resolve=function(){},this.reject=function(){},this.promise=new Promise((function(e,n){t.reject=n,t.resolve=e}))},s=n(18164);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"eventListeners",[]),u(this,"listenForEscape",(function(){"undefined"!=typeof document&&document.addEventListener("keydown",(function(e){if("Escape"===e.key){var n=t.eventListeners[t.eventListeners.length-1];if(!n)return;var r=n.handler,a=n.id;r(e),t.unregisterEscapeHandler(a)}}))})),this.listenForEscape()}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"unregisterEscapeHandler",value:function(e){this.eventListeners=this.eventListeners.filter((function(t){return t.id!==e}))}},{key:"registerEscapeHandler",value:function(e){var t=(0,s.uuid)();return this.eventListeners.push({handler:e,id:t}),t}}])&&c(t.prototype,n),r&&c(t,r),e}();function d(e,t){var n=Object.create(e);return n.produceState=e.produceState.bind(e),Object.assign(n,r(Object.getPrototypeOf(t)),r(t));function r(e){return Object.getOwnPropertyNames(e).filter((function(e){return"constructor"!==e})).reduce((function(e,t){var r=e[t],a="function"==typeof r;return Object.defineProperty(e,t,{enumerable:!0,writable:!a,value:a?r.bind(n):r}),e}),Object.create(e))}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}u(l,"instance",null);var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"obscureHTML",value:function(t){var n,r,a=this;Array.from(t.childNodes).forEach((function(e){a.obscureHTML(e)})),t.nodeType===Node.TEXT_NODE&&(t.textContent=e.obscure(null!==(n=t.textContent)&&void 0!==n?n:"")),this.isElement(t)&&"A"===t.nodeName&&(Array.from(t.childNodes).forEach((function(e){var n;return null===(n=t.parentNode)||void 0===n?void 0:n.appendChild(e)})),null===(r=t.parentNode)||void 0===r||r.removeChild(t))}},{key:"obscure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",a=arguments.length>4?arguments[4]:void 0;return e.substring(0,t)+r.repeat(a||n-t)+e.substring(n)}},{key:"isElement",value:function(e){return e.nodeType===Node.ELEMENT_NODE}}],(n=null)&&_(t.prototype,n),r&&_(t,r),e}();function p(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,s,"next",e)}function s(e){p(o,r,a,i,s,"throw",e)}i(void 0)}))}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"audioContext",null),h(this,"analyser",null),h(this,"dataArray",null),h(this,"animationFrameId",null),h(this,"waitingForUserMedia",!1),h(this,"interruptStartAnalysis",!1)}var t,n,r;return t=e,(n=[{key:"startAnalysis",value:function(e){var t=this;return m((function(){var n,r,a,o,i,s;return v(this,(function(c){switch(c.label){case 0:if(t.audioContext)return[2];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.getUserMedia()];case 2:return n=c.sent(),t.interruptStartAnalysis?(t.interruptStartAnalysis=!1,[2]):(t.audioContext=new(window.AudioContext||AudioContext),r=t.audioContext.createMediaStreamSource(n),t.analyser=t.audioContext.createAnalyser(),r.connect(t.analyser),a=t.analyser.frequencyBinCount,t.dataArray=new Uint8Array(a),o=0,(i=function(){if(t.analyser&&t.dataArray){t.analyser.getByteFrequencyData(t.dataArray);var n=function(e){for(var t=[20.6,23.7,27,30.6,34.5,38.7,43.3,48.4,54,60.1,66.7,73.8,81.4,89.7,98.7,108.5,119.2,130.8,143.3,156.8,171.4,187.2,204.2,222.6,242.5,264.9,289,315.9,344.9,376.9,411.3,448.5,488.7,532.4,579.9,631.6,687.9,749.3,816.3,889.3,968.1,1053,1145,1244,1351,1467,1592,1727,1872,2028],n=new Uint8Array(e.length),r=0;r<e.length;r++){var a,o;n[r]=(null!==(a=e[r])&&void 0!==a?a:0)*Math.pow(10,(null!==(o=t[r])&&void 0!==o?o:0)/20)}return n}(t.dataArray),r=Math.sqrt(n.reduce((function(e,t){return e+t*t}),0)/a);o=Number((.7*o+(1-.7)*r).toFixed(2)),e(o),t.animationFrameId=requestAnimationFrame(i)}})(),[3,4]);case 3:return s=c.sent(),console.error("Error accessing the microphone:",s),[3,4];case 4:return[2]}}))}))()}},{key:"getUserMedia",value:function(){var e=this;return m((function(){var t;return v(this,(function(n){switch(n.label){case 0:return e.waitingForUserMedia=!0,[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 1:return t=n.sent(),e.waitingForUserMedia=!1,[2,t]}}))}))()}},{key:"stopAnalysis",value:function(){var e=this;return m((function(){return v(this,(function(t){switch(t.label){case 0:return e.waitingForUserMedia&&(e.interruptStartAnalysis=!0),e.audioContext?"closed"===e.audioContext.state?[3,2]:[4,e.audioContext.close()]:[3,3];case 1:t.sent(),t.label=2;case 2:e.audioContext=null,e.analyser=null,e.dataArray=null,e.animationFrameId&&cancelAnimationFrame(e.animationFrameId),t.label=3;case 3:return[2]}}))}))()}}])&&g(t.prototype,n),r&&g(t,r),e}();var b=n(54515);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"node",document),C(this,"getSelectionBoundingClientRect",(function(){var e=n.getSelectionWithinNode(),t=null==e?void 0:e.getRangeAt(0);return null==t?void 0:t.getBoundingClientRect()})),C(this,"getHTML",(function(){var t=n.getContentWithParents();if(t)return e.formatHTMLOutput(t)})),C(this,"getContentWithParents",(function(){var e=n.getContent();if(e)return n.wrapContentWithParentNodes(e)})),C(this,"getText",(function(){var e=n.getSelectionWithinNode();return null==e?void 0:e.toString()})),t&&(this.node=t)}var t,n,r;return t=e,r=[{key:"formatHTMLOutput",value:function(e){var t=document.createElement("SPAN");return t.appendChild(e),t&&t.innerHTML}}],(n=[{key:"getContent",value:function(){var e=this.getSelectionWithinNode();if(e){var t=e.getRangeAt(0);return null==t?void 0:t.cloneContents()}}},{key:"wrapContentWithParentNodes",value:function(e){var t=this.getSelectionWithinNode(),n=e;if(this.node!==document){var r,a,o=this.getParentNodesArray(null==t||null===(r=t.anchorNode)||void 0===r?void 0:r.parentElement),i=this.getParentNodesArray(null==t||null===(a=t.focusNode)||void 0===a?void 0:a.parentElement);this.mergeParentNodeArrays(o,i).forEach((function(e){var t=null==e?void 0:e.cloneNode(!1);n&&(null==t||t.appendChild(n)),(0,b.isElement)(t)&&(n=t)}))}return n}},{key:"getParentNodesArray",value:function(e){for(var t=e,n=[];t&&t!==this.node;)t&&t!==this.node&&(n.push(t),t=t.parentElement);return n}},{key:"mergeParentNodeArrays",value:function(e,t){return e.filter((function(e){return t.includes(e)}))}},{key:"getSelectionWithinNode",value:function(){var e=document.getSelection();if(e&&this.node.contains(e.anchorNode)&&this.node.contains(e.focusNode))return e}},{key:"getFirstNode",value:function(){var e,t=this.getSelectionWithinNode();return null!==(e="forward"===this.getPosition()?null==t?void 0:t.anchorNode:null==t?void 0:t.focusNode)&&void 0!==e?e:null}},{key:"getLastNode",value:function(){var e,t=this.getSelectionWithinNode();return null!==(e="forward"===this.getPosition()?null==t?void 0:t.focusNode:null==t?void 0:t.anchorNode)&&void 0!==e?e:null}},{key:"getSelectionStartIndex",value:function(){var e=this.getSelectionWithinNode();return"forward"===this.getPosition()?null==e?void 0:e.anchorOffset:null==e?void 0:e.focusOffset}},{key:"getSelectionEndIndex",value:function(){var e=this.getSelectionWithinNode();return"forward"===this.getPosition()?null==e?void 0:e.focusOffset:null==e?void 0:e.anchorOffset}},{key:"deleteSelected",value:function(){var e=this.getSelectionWithinNode();null==e||e.deleteFromDocument()}},{key:"getPosition",value:function(){var e,t=this.getSelectionWithinNode();if(!(null==t?void 0:t.focusNode))return"forward";var n=null===(e=t.anchorNode)||void 0===e?void 0:e.compareDocumentPosition(t.focusNode);return!n&&t.anchorOffset>t.focusOffset||n===Node.DOCUMENT_POSITION_PRECEDING?"backward":"forward"}},{key:"getRange",value:function(){var e=this.getSelectionWithinNode();return null==e?void 0:e.getRangeAt(0)}}])&&S(t.prototype,n),r&&S(t,r),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"sizeLimit",void 0),E(this,"store",void 0),E(this,"size",void 0),this.store=[],this.size=0,t&&(this.sizeLimit=t)}var t,n,r;return t=e,(n=[{key:"push",value:function(e){this.store.push(e),this.size++,this.sizeLimit&&this.size>this.sizeLimit&&(this.store.shift(),this.size--)}},{key:"pop",value:function(){return this.size--,this.store.pop()}},{key:"has",value:function(e){return this.store.includes(e)}},{key:"getSize",value:function(){return this.size}},{key:"getHead",value:function(){return this.store[this.size-1]}},{key:"getTail",value:function(){return this.store[0]}},{key:"getNth",value:function(e){return this.store[this.store.length-e-1]}}])&&w(t.prototype,n),r&&w(t,r),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,"windowPrefix",""),D(this,"openedTabs",{}),this.windowPrefix=t}var t,n,r;return t=e,(n=[{key:"openOrFocus",value:function(e,t){var n=this,r=this.getTabId(t),a=this.openedTabs[r];if(!a||a.closed){delete this.openedTabs[r];var o=window.open(e,r);o&&(this.openedTabs[r]=o,o.onload=function(){o.addEventListener("beforeunload",(function(){delete n.openedTabs[r]}))})}else a.focus()}},{key:"getTabId",value:function(e){return"".concat(this.windowPrefix,"-").concat(e)}}])&&T(t.prototype,n),r&&T(t,r),e}();function P(e){return e.toString().padStart(2,"0")}function R(e,t){var n=document.createElement("canvas").getContext("2d");return n?(n.font=t,n.measureText(e).width):0}function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}var N=n(52322),M=n(66029),j=function(e){return function(t){var n=t.children;return e.slice().reverse().reduce((function(e,t){return(0,N.jsx)(t,{children:e})}),(0,N.jsx)(N.Fragment,{children:n}))}},x=n(82008),L=n.n(x);function K(e,t){var n=Number(e);return 0===n?n:n||t}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}var B,q=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],G=(B=q.slice(1),function(e){if(Array.isArray(e))return F(e)}(B)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(B)||U(B)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([q[0]]),H=1e3,V=60*H,W=60*V,z=24*W,Y=7,Q=2,J=Y*z,X=W/H,Z=z/H,ee=Array.from({length:Y}).map((function(e,t){return t}));function te(e){return L()().localeData().longDateFormat(e)}function ne(e,t,n){return n?L()(e).locale(n).format(t):L()(e).format(t)}function re(e,t,n){return L()(e).add(n,t).toDate()}function ae(e,t){return L()().diff(L()(e),t)}function oe(e){return L()(e).fromNow()}function ie(e){return L()(e).isBefore()}function se(e){return L()(e).toDate()}function ce(e,t){return L().utc(e).format(t)}function ue(){return L()().format("LTS")}function le(e,t,n){return L()(t).diff(L()(e),n)}function de(e){return Math.floor(e*H/V)}function _e(e){for(var t=[],n=e?L()().locale(e).startOf("week"):L()().startOf("week"),r=0;r<7;r++)t[r]=n.add(r,"d").format("dd");return t}var fe=function(e){if(e){var t=new Date(e);return t.setHours(0,0,0,0),e-t.getTime()}return 0},pe=function(e){if(e){var t=new Date(e);return t.setHours(0,0,0,0),t.getTime()}return 0},me=function(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t};function ge(e){var t=new Date(e);return!(new Date(t).getMinutes()||new Date(t).getHours()||new Date(t).getSeconds())}function he(e){var t=new Date;return("number"==typeof e?new Date(e):e).toDateString()===t.toDateString()}function ve(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1);return e.toDateString()===n.toDateString()}function ye(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-((t.getDay()||7)-1)),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()-((e.getDay()||7)-1));return n.getTime()===r.getTime()}function be(e,t,n){var r=L()(e),a=L()(t);return r.isSame(a,n)}function Se(e){var t=new Date;return e.getFullYear()===t.getFullYear()}function Ce(e,t){var n="number"==typeof e?new Date(e):e,r="number"==typeof t?new Date(t):t;return n.toDateString()===r.toDateString()}function Ie(e,t){var n="number"==typeof e?new Date(e):e,r="number"==typeof t?new Date(t):t;return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function we(e,t){return(null==e?void 0:e.length)?L()(e,t).toISOString():""}function Ee(e){return e*H}function Oe(e,t){return e?L()(e,t):L()()}function Te(e){var t=L().duration(e,"seconds"),n=e<0?"-":"",r=Math.floor(t.asMinutes()).toString().replace("-","").padStart(2,"0"),a=t.format("ss").replace("-","");return"".concat(n).concat(r,":").concat(a)}function De(e){if(void 0===e)return"00:00:00";var t=L().duration(e,"seconds"),n=Math.floor(t.asHours()),r=t.format("mm:ss");return n?"".concat(n.toString().padStart(2,"0"),":").concat(r):r}function Ae(e){var t=$(e.split(":"),2),n=t[0],r=t[1];if(!n||!r)return new Date;var a=new Date;return a.setHours(Number(n)),a.setMinutes(Number(r)),a}function Pe(e){var t=e.getHours(),n=t<12?"AM":"PM";return[t=t%12||12,n]}function Re(e){return 0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds()&&0===e.getMilliseconds()}var ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",t=L()();switch(e){case"day":t.subtract(1,"days").startOf("day");break;case"week":t.subtract(1,"weeks").startOf("day");break;case"month":t.subtract(1,"month").startOf("day");break;default:return 1e3}return t.valueOf()};function Ne(){if(Intl)return Intl.DateTimeFormat().resolvedOptions().timeZone}var Me=function(e){var t=Math.round(Number(e));return isNaN(t)?"incorrect parameter ".concat(e):L().duration(t,"seconds").format("H:mm:ss")},je=function(e){var t=Math.round(Number(e));if(isNaN(t))return"incorrect parameter ".concat(e);var n=t>=X,r=t>=Z,a=L().duration(t,"seconds");return r?"".concat(Math.floor(a.asDays()),"d ").concat(a.format("HH:mm:ss")):n?a.format("H:mm:ss"):a.format("m:ss")};function xe(e){if(e)return"string"==typeof e?e.slice(0,-3):Number(String(e).slice(0,-3))}function Le(e){var t=K(e);return"number"==typeof t?t*H:void 0}var Ke=function(e){return e?new Date(e).toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"}):""},Fe=function(e,t,n){var r=n?G:q;return r.indexOf(e)-r.indexOf(t)};function $e(e,t){var n=document.createElement("a");n.setAttribute("download",t),n.href=e,document.body.appendChild(n),n.click(),n.remove()}function Ue(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ue(o,r,a,i,s,"next",e)}function s(e){Ue(o,r,a,i,s,"throw",e)}i(void 0)}))}}function qe(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ge(e){return He.apply(this,arguments)}function He(){return(He=Be((function(e){var t,n,r,a,o;return qe(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(e)];case 1:return[4,(t=i.sent()).blob()];case 2:return n=i.sent(),r=URL.createObjectURL(n),a=Ve(t.headers),$e(r,a),[3,4];case 3:throw o=i.sent(),console.error("Failed to download audio: ".concat(o)),o;case 4:return[2]}}))}))).apply(this,arguments)}function Ve(e){var t=e.get("content-disposition");if(t){var n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);if(null!=n&&n[1])return n[1].replace(/['"]/g,"").replace("utf-8","")}return"recording.wav"}function We(e,t){var n=JSON.stringify(e),r=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(r);$e(a,t),URL.revokeObjectURL(a)}function ze(e,t){return new Promise((function(n,r){var a=function(o){e.then((function(e){n(e)})).catch((function(e){o===t-1?r(e):a(o+1)}))};a(0)}))}function Ye(e){return function(t){return!e(t)}}function Qe(e){return function(t){return e.every((function(e){return e(t)}))}}function Je(e){if(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("font-size"),r=t.getPropertyValue("font-family"),a=t.getPropertyValue("font-style"),o=t.getPropertyValue("font-variant"),i=t.getPropertyValue("font-weight"),s=t.getPropertyValue("line-height");return"".concat(a," ").concat(o," ").concat(i," ").concat(n,"/").concat(s," ").concat(r)}}function Xe(e){return t=e,(null!=(n=Error)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e.message:"string"==typeof e?e:void 0;var t,n}function Ze(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ze(o,r,a,i,s,"next",e)}function s(e){Ze(o,r,a,i,s,"throw",e)}i(void 0)}))}}function tt(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=et((function(e,t){var n;return tt(this,(function(r){switch(r.label){case 0:return[4,fetch(e)];case 1:return[4,r.sent().blob()];case 2:return n=r.sent(),[2,new File([n],t,{type:n.type})]}}))}))).apply(this,arguments)}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e){var t,n=ot(null!==(t=e.match(/(.*)\.(\S+)$/))&&void 0!==t?t:[],3),r=n[0],a=n[1],o=n[2];return{name:null!=r?r:e,nameWithoutExtension:null!=a?a:e,extension:null!=o?o:""}}function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return"".concat(e).concat(n).concat(t)}function ct(e){return"SELECT"===(null==e?void 0:e.tagName)||"TEXTAREA"===(null==e?void 0:e.tagName)||(null==e?void 0:e.hasAttribute("contenteditable"))||(t=["text","password","date","datetime-local","email","month","number","search","tel","time","url","week","datetime"],"INPUT"===(null==e?void 0:e.tagName)&&t.includes(e.type));var t}function ut(e){try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(n){return!1}}function lt(e){return e.toLowerCase()}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var ft=Symbol("handlers");function pt(e){var t,n=_t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dt(e,t,n[t])}))}return e}({},e),(dt(t={},ft,{}),dt(t,"observe",(function(e){var t=(0,s.uuid)();return this[ft][t]=e,t})),dt(t,"destroyObserver",(function(e){delete this[ft][e]})),t));return new Proxy(n,{set:function(e,t,r,a){var o=Reflect.set(e,t,r,a);return o&&Object.values(n[ft]).forEach((function(n){return n(e,t,r)})),o}})}function mt(e,t,n){return n&&10!==n?parseInt(mt(e,t,10).toString(10)).toString(n):Math.floor(Math.random()*(t-e+1)+e)}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return e.length?t.length?e.reduce((function(e,t){var a=n(t);if(!e.some((function(e){return r(t,e)}))){var o=yt(e,(function(e){return a>=n(e)}));e.splice(o,0,t)}return e}),ht(t).reverse()):ht(e):ht(t).reverse()}function yt(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return n+1;return 0}function bt(e){return e.startsWith("http")||e.startsWith("//")?e:"//"+e}var St=n(50292),Ct=n.n(St);function It(){return Ct().parse(location.search)}function wt(e){return e.replace(/[-[\]{}()+?.,\\^$|#]/g,"\\$&").replace(/\*/g,".$&")}function Et(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ot(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Tt(){return new Promise((function(e,t){try{var n=document.createElement("input");n.type="file",n.accept="application/JSON",n.onchange=(r=function(n){var r,a;return Ot(this,(function(o){if(i=n.target,(null!=(s=HTMLInputElement)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](i):i instanceof s)&&n.target.files){if(r=n.target.files[0],(a=new FileReader).onload=function(t){if(t.target&&"string"==typeof t.target.result){var n=JSON.parse(t.target.result);e(n)}},!r)return t(),[2];a.readAsText(r)}else e(void 0);var i,s;return[2]}))},a=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){Et(o,n,a,i,s,"next",e)}function s(e){Et(o,n,a,i,s,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)}),n.onabort=function(){t("Abort on choose file input")},n.oncancel=function(){t("Cancel on choose file input")},n.click()}catch(o){t(o)}var r,a}))}function Dt(e){return e.replace(/^https?:\/\//,"")}function At(e){return e.replace(/\/$/,"")}function Pt(e){return e.replace(/\s/g,"")}var Rt=function(){var e;return function(t){return e=Math.random(),n=e,function(r){if(n===e)return t(r)};var n}},kt=n(89945),Nt=n.n(kt),Mt=n(64989),jt=n.n(Mt),xt=n(50030),Lt=n.n(xt),Kt=n(63575),Ft=n.n(Kt),$t=n(49388),Ut=n.n($t),Bt=n(70909),qt=n.n(Bt),Gt=n(33147),Ht=n.n(Gt),Vt=n(22745),Wt=n.n(Vt),zt=n(77491),Yt=n.n(zt),Qt=n(10264),Jt=n.n(Qt);n(55411),n(65668),n(16017),n(8338),n(62618),n(21295),n(11570),n(33214),n(31605),n(65958),n(18034),n(61389),n(34738),n(98833);L().extend(Nt()),L().extend(Lt()),L().extend(Ft()),L().extend(Ut()),L().extend(qt()),L().extend(Ht()),L().extend(Wt()),L().extend(Yt()),L().extend(Jt()),L().extend(jt());var Xt={"de-DE":"de","en-NZ":"en-nz","en-US":"en","en-ZA":"en","es-MX":"es-mx","fr-CA":"fr-ca","fr-FR":"fr","it-IT":"it","ja-JP":"ja","ko-KR":"ko","nl-NL":"nl","pt-BR":"pt-br","ru-RU":"ru","tr-TR":"tr","zh-CN":"zh-cn"};function Zt(e){var t=function(e){return e in Xt}(e)?Xt[e]:"en";L().locale(t)}function en(e){var t=Ct().parseUrl(window.location.href).url,n=Ct().stringifyUrl({url:t,query:e});window.history.replaceState({},document.title,n)}function tn(e){e.stopPropagation()}function nn(e){return(new DOMParser).parseFromString(e,"text/html").body}function rn(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=document.createDocumentFragment();return t.body.childNodes.forEach((function(e){var t=e.cloneNode(!0);n.append(t)})),n}function an(e){return function(){throw Error("".concat(e," method was used without ContextProvider"))}}function on(e,t){return e.length>t?e.substring(0,t)+"\u2026":e}function sn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){sn(o,r,a,i,s,"next",e)}function s(e){sn(o,r,a,i,s,"throw",e)}i(void 0)}))}}function un(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ln(){return dn.apply(this,arguments)}function dn(){return(dn=cn((function(){return un(this,(function(e){return[2,new Promise((function(e){setTimeout(e)}))]}))}))).apply(this,arguments)}function _n(e){var t=(0,M.useRef)(e);return t.current=e,t}var fn=n(2122),pn=function(e){var t=(0,M.useRef)(e);t.current=e;var n=(0,M.useMemo)((function(){return{mounted:!0,unmounted:!1}}),[]);return(0,M.useEffect)((function(){return function(){"function"==typeof t.current&&t.current(),n.mounted=!1,n.unmounted=!0}}),[]),n};function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{value:e,toggle:fn.noop,setTrue:fn.noop,setFalse:fn.noop}};function vn(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=pn(),n=gn((0,M.useState)(e),2),r=n[0],a=n[1],o=(0,M.useCallback)((function(e){t.mounted&&a((function(t){return"boolean"==typeof e?e:!t}))}),[t,a]),i=(0,M.useMemo)((function(){return(0,fn.partial)(o,!0)}),[o]),s=(0,M.useMemo)((function(){return(0,fn.partial)(o,!1)}),[o]);return(0,M.useMemo)((function(){return{value:r,toggle:o,setTrue:i,setFalse:s}}),[r,o,i,s])}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){var n=bn((0,M.useState)(e),2),r=n[0],a=n[1];return(0,M.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=(0,M.useRef)(t);return(0,M.useEffect)((function(){n.current=e})),n.current}function In(e){var t=(0,M.useRef)(null),n=(0,M.useRef)(e);return e!==n.current&&(t.current=n.current,n.current=e),t.current}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wn(e,t,n[t])}))}return e}function On(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var Tn=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=null!==(n=Cn(t))&&void 0!==n?n:[],o=t.reduce((function(e,t,n){if(t!==a[n]){var o=r[n]||n;return On(En({},e),wn({},o,{before:a[n],after:t}))}return e}),{});Object.keys(o).length&&console.debug("[use-effect-debugger] ",o),(0,M.useEffect)(e,t)};function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function An(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e){var t=(0,M.useRef)(e);return t.current=e,(0,M.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a;return(a=t).current.apply(a,An(n))}),[])}var Rn=l.getInstance();function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn.noop,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,r=void 0===n||n,a=Pn(e);(0,M.useEffect)((function(){if(r){var e=Rn.registerEscapeHandler(a);return function(){Rn.unregisterEscapeHandler(e)}}}),[r,a])}function Nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=arguments.length>3?arguments[3]:void 0,a=_n(t);(0,M.useEffect)((function(){if(n&&n.addEventListener){var t=function(e){return a.current(e)};return n.addEventListener(e,t,r),function(){n.removeEventListener(e,t,r)}}}),[e,n,r,a])}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xn={dependencies:[],condition:!0};function Ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn,n=t.timeout,r=t.dependencies,a=void 0===r?[]:r,o=t.condition,i=void 0===o||o;(0,M.useEffect)((function(){var t=function(){i&&e&&e.current&&e.current.focus()};void 0!==n?setTimeout(t,n):t()}),jn(a).concat([e,n,i]))}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $n=function(e){var t,n=Fn((0,M.useState)(),2),r=n[0],a=n[1],o=(t=e)&&"current"in t?null==e?void 0:e.current:e,i=(0,M.useRef)(null),s=(0,M.useCallback)((function(){(null==i?void 0:i.current)&&i.current.disconnect()}),[]),c=(0,M.useCallback)((function(){o&&(i.current=new ResizeObserver((function(e){var t=Fn(e,1)[0];return a(t)})),i.current.observe(o))}),[o]);return(0,M.useLayoutEffect)((function(){return c(),function(){return s()}}),[s,c]),r};function Un(e,t){var n=Cn(e);return(0,M.useMemo)((function(){return(t||void 0!==n)&&e!==n}),[t,n,e])}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e){var t=e.fetchMore,n=e.isLoading,r=e.isAllLoaded,a=e.threshold,o=void 0===a?0:a,i=e.disabled,s=qn((0,M.useState)(null),2),c=s[0],u=s[1],l=qn((0,M.useState)(0),2),d=l[0],_=l[1],f=(0,M.useMemo)((function(){var e,t,n=null!==(e=null==c?void 0:c.scrollHeight)&&void 0!==e?e:NaN,r=null!==(t=null==c?void 0:c.clientHeight)&&void 0!==t?t:NaN;return Math.ceil(d+r+o)>=n}),[c,d,o]),p=$n(c),m=!!(null==p?void 0:p.target.scrollHeight),g=Un(f);(0,M.useEffect)((function(){i||n||r||!f||!g||t()}),[i,t,f,g,d,r,n]),(0,M.useEffect)((function(){var e,a,o=null!==(e=null==c?void 0:c.scrollHeight)&&void 0!==e?e:NaN,s=null!==(a=null==c?void 0:c.clientHeight)&&void 0!==a?a:NaN;i||r||n||o>s||!m||t()}),[i,r,m,n,t,null==c?void 0:c.scrollHeight,null==c?void 0:c.clientHeight]);var h=(0,M.useMemo)((function(){return(0,fn.throttle)((function(e){e.target&&(0,b.isHTMLElement)(e.target)&&_(e.target.scrollTop)}),200)}),[]);return(0,M.useEffect)((function(){return null==c||c.addEventListener("scroll",h),function(){return null==c?void 0:c.removeEventListener("scroll",h)}}),[c,h]),{setListNode:u}}function Hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn.identity;return(0,M.useMemo)((function(){return{__html:t(e)}}),[t,e])}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zn={isIntersecting:!1};function Yn(e,t){var n=t.threshold,r=void 0===n?0:n,a=t.root,o=t.rootMargin,i=void 0===o?"0%":o,s=t.freezeOnceVisible,c=void 0!==s&&s,u=t.enabled,l=void 0===u||u,d=Wn((0,M.useState)(zn),2),_=d[0],f=d[1],p=(null==_?void 0:_.isIntersecting)&&c,m=(0,M.useCallback)((function(e){var t=e[e.length-1];t&&f(t)}),[]);return(0,M.useEffect)((function(){if(l){var t=null==e?void 0:e.current;if(!!!window.IntersectionObserver||p||!t)return;var n=new IntersectionObserver(m,{threshold:r,root:a,rootMargin:i});return n.observe(t),function(){n.disconnect()}}}),[e,r,a,i,p,l,m]),_}function Qn(e,t){return(0,M.useCallback)((function(n){((null==t?void 0:t.length)?t:["Enter"," "]).includes(n.key)&&(n.preventDefault(),e(n))}),[e,t])}function Jn(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var Xn=function(e,t){return Jn(e,Element)&&Jn(t,Element)&&e.contains(t)};function Zn(e){var t=e.exceptionSelectors,n=e.handler,r=e.openerRef,a=void 0===r?null:r,o=e.ref;Nn("click",(function(e){var r=Jn(o,HTMLElement)?o:null==o?void 0:o.current,i=e.target,s=i===document.documentElement||Xn(r,i)||function(e,t){return Jn(e,Array)?e.some((function(e){return Xn(e.current,t)})):Jn(e,HTMLElement)?Xn(e,t):Xn(null==e?void 0:e.current,t)}(a,i)||t&&function(e,t){return(Array.isArray(e)?e:[e]).some((function(e){var n=document.querySelectorAll(e);return Array.from(n).some((function(e){return Xn(e,t)}))}))}(t,i);s||n(e)}),document,!0)}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(){var e=tr((0,M.useState)(!document.hidden),2),t=e[0],n=e[1];return Nn("visibilitychange",(0,M.useCallback)((function(){n(!document.hidden)}),[])),t}function rr(e){var t=e.setPersistedValues,n=e.clearPersistedValues,r=(0,M.useRef)(!1);return(0,M.useEffect)((function(){return function(){r.current?n():t(),r.current=!1}}),[]),{controlledUnmountRef:r}}function ar(e,t,n){var r;Nn("keydown",(0,M.useCallback)((function(n){n.key===e&&t(n)}),[t,e]),null!==(r=null==n?void 0:n.element)&&void 0!==r?r:document,null==n?void 0:n.capture)}function or(e){var t=(0,M.useRef)(e);return(0,M.useEffect)((function(){return function(){t.current=e}}),[e]),t}function ir(e){var t=(0,M.useRef)(null),n=(0,M.useRef)(e);return e!==n.current&&(t.current=n.current,n.current=e),t}function sr(e){var t=e.onScrollAppeared,n=e.onScrollDisappeared,r=(0,M.useRef)(null),a=$n(r);return(0,M.useLayoutEffect)((function(){r.current&&(r.current.scrollHeight>r.current.clientHeight?null==t||t(r.current):null==n||n(r.current))}),[t,n,a]),r}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(e,t){var n=pn(),r=ur((0,M.useState)(""),2),a=r[0],o=r[1],i=ur((0,M.useState)(),2),s=i[0],c=i[1];return Nn("mouseup",(0,M.useCallback)((function(){n.unmounted||setTimeout((function(){var n=new I(e),r=t?n.getHTML():n.getText();r&&o(r),c({html:n.getHTML(),range:n.getRange(),startIndex:n.getSelectionStartIndex(),toIndex:n.getSelectionEndIndex(),firstNode:n.getFirstNode(),lastNode:n.getLastNode(),position:n.getPosition()})}),0)}),[n,t,e]),e),(0,M.useMemo)((function(){return{selectedText:a,selectionData:s}}),[a,s])}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fr=200,pr=function(e,t){if(e){var n,r=e,a=null!==(n=null==t?void 0:t.format)&&void 0!==n?n:fn.identity;if(null==t?void 0:t.countdown){if(Date.now()>r)return;r=e-Date.now()}else{if(Date.now()<e)return;r=Date.now()-e}return a(r)}},mr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{updateInterval:fr},n=_n(t),r=_r((0,M.useState)((function(){return pr(e,t)})),2),a=r[0],o=r[1];return(0,M.useEffect)((function(){var r,a=setInterval((function(){o(pr(e,n.current))}),null!==(r=t.updateInterval)&&void 0!==r?r:fr);return function(){clearInterval(a)}}),[t.updateInterval,n,e]),a}},76096:(e,t,n)=>{"use strict";function r(e){if(null===e)throw Error("assertHtmlElement: value is null");if(t=e,!(null!=(n=HTMLElement)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n))throw Error("assertHtmlElement: value is not HTMLElement");var t,n}n.r(t),n.d(t,{assertHtmlElement:()=>r,condenseNewLines:()=>a,formatHTMLAsMultiLineString:()=>s,formatHTMLAsOneLineString:()=>c,highlightHTML:()=>d,isElement:()=>f,isHTMLButtonElement:()=>v,isHTMLCheckboxOrRadio:()=>y,isHTMLDivElement:()=>h,isHTMLElement:()=>p,isHTMLInputElement:()=>m,isHTMLTextAreaElement:()=>g,removeTagsFromHTML:()=>S,sanitizeHtml:()=>A});var a=function(e){return e.replace(/(<br *\/?>\s*){2,}/g,"<br/>")},o=n(29108),i=n.n(o);function s(e){return e&&i().sanitize?i().sanitize(e,{ALLOWED_TAGS:["br"]}).replace(/(<br>|&nbsp;)/g,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e||""}function c(e){return e&&i().sanitize?i().sanitize(e,{ALLOWED_TAGS:["br"]}).replace(/(<br>|&nbsp;)/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e||""}var u=n(57934),l=n.n(u);function d(e){var t=e.html,n=e.textToHighlight,r=e.className,a=e.element,o=void 0===a?"mark":a;if(!n)return t;var i=document.createElement("div");return i.innerHTML=t,new(l())(i).mark(n,{element:o,className:r}),i.innerHTML}function _(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function f(e){return _(e,HTMLElement)}function p(e){return _(e,HTMLElement)}function m(e){return _(e,HTMLInputElement)}function g(e){return _(e,HTMLTextAreaElement)}function h(e){return _(e,HTMLDivElement)}function v(e){return _(e,HTMLButtonElement)}function y(e){return m(e)&&"checked"in e&&"defaultChecked"in e&&("radio"===e.type||"checkbox"===e.type)}var b={ALLOWED_TAGS:[]};function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return e&&i().sanitize?i().sanitize(e,t):e}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=i()();var E=["audio","details","dialog","fieldset","footer","form","frame","frameset","header","input","label","legend","main","noframes","noscript","optgroup","option","output","picture","select","summary","textarea","video"],O={a:["href","target"],blockquote:["style"],abbr:["title"],acronym:["title"],base:["href","target"],bdo:["dir"],canvas:["height","width"],caption:["align","valign"],col:["width"],del:["cite","datetime"],div:["align","style"],font:["size","face","style","color"],hr:["align","color","noshade","size","width"],img:["align","alt","height","src","style","title","width"],ins:["cite","datetime"],meter:["value","min","max","low","high","optimum"],pre:["style"],progress:["value","max"],q:["cite"],svg:["width","height"],span:["style"],table:["align","border","cellspacing","cellpadding","style","bgcolor","width","height","valign"],td:["align","valign","colspan","rowspan","width","height","bgcolor"],th:["colspan"],thead:["align","char","charoff","bgcolor","valign"],time:["datetime"]},T={img:[["style","max-width:100%"]],pre:[["style","overflow:hidden"]]},D={ALLOWED_TAGS:["a","abbr","acronym","address","article","aside","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","dd","del","dfn","dir","div","dl","dt","em","figcaption","figure","font","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","mark","meter","nav","ol","p","pre","progress","q","rp","rt","ruby","s","samp","section","small","span","strike","strong","sub","sup","svg","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","wbr","#text"],KEEP_CONTENT:!0};w.addHook&&(w.addHook("uponSanitizeElement",(function(e,t){t.allowedTags[t.tagName]||E.includes(t.tagName)||(e.innerHTML="")})),w.addHook("afterSanitizeAttributes",(function(e){var t=e.tagName.toLowerCase(),n=O[t]||[];(function(e){var t=[];try{if(e.hasAttributes())for(var n=0;n<e.attributes.length;n++)t.push(e.attributes[n].name)}catch(r){}return t})(e).forEach((function(t){n.includes(t)||e.removeAttribute(t)})),(T[t]||[]).forEach((function(t){var n=I(t,2),r=n[0],a=n[1];e.setAttribute(r,a)}))})),w.addHook("afterSanitizeAttributes",(function(e){var t,n;t=e,(null!=(n=HTMLAnchorElement)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})));var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{condenseNewLines:!0};return w.sanitize?w.sanitize(t.condenseNewLines?a(e):e,D):e}},82348:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t),n.d(t,{getHTMLCaretPos:()=>o,getInputCaretPos:()=>s,setHTMLCaretPos:()=>i,setInputCaretPos:()=>c});var o=function(e){if("undefined"!=typeof document&&document.getSelection){var t=document.getSelection();if(t){var n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,o=t.focusOffset;if(n===a&&a==e)return[r,o]}}return[0,0]},i=function(e,t){var n=a(t,2),r=n[0],o=n[1];if("undefined"!=typeof document&&document.createRange){var i=document.createRange();i.setStart(e,r),i.setEnd(e,o)}},s=function(e){var t=e.value.length,n=a([e.selectionStart,e.selectionEnd].map((function(e){return"number"==typeof e?e:t})).sort((function(e,t){return e-t})),2);return[n[0],n[1]]},c=function(e,t){var n=a(t,2),r=n[0],o=n[1];e.setSelectionRange&&e.setSelectionRange(r,o)}},52103:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActiveInteractionContextProvider:()=>_,InteractionContextProvider:()=>c,useInteractionId:()=>l,useIsParallelInteractionContext:()=>d,useNonAssertedInteractionId:()=>u});var r=n(52322),a=(n(66029),n(3118)),o=n(86702),i=n(26552),s=(0,o.createContext)({interactionId:void 0,isParallelInteractionContext:void 0}),c=function(e){var t=e.children,n=e.interactionId,a=e.isParallelInteractionContext;return(0,r.jsx)(s.Provider,{value:{interactionId:n,isParallelInteractionContext:a},children:t})},u=function(){return(0,o.useContextSelector)(s,(function(e){return e.interactionId}))},l=function(){var e=u();return(0,i.assertDefined)(e),e},d=function(){var e=(0,o.useContextSelector)(s,(function(e){return e.isParallelInteractionContext}));return Boolean(e)},_=function(e){var t=e.children,n=(0,a.useActiveInteractionId)();return(0,r.jsx)(c,{interactionId:n,children:t})}},38436:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{NotificationStateContext:()=>S,Notifications:()=>r,NotificationsStateProvider:()=>C,useNotificationsState:()=>I}),function(e){e.ContactMergeError="contactMergeFailed",e.ContactCreationError="contactCreationFailed",e.ContactDeleteError="contactDeleteFailed",e.ContactSaveError="contactSaveFailed",e.ContactOpenError="contactOpenFailed",e.InteractionNoServiceError="noService",e.InteractionNoChatServiceError="noChatInService",e.InteractionNoPhoneNumberError="noNumber",e.InteractionSelfDialError="selfCall",e.InteractionDIDNoCallPermissionError="noDIDPermissionsCall",e.InteractionDIDNoSMSPermissionError="noDIDPermissionsSMS",e.InteractionNoChannelInServiceError="noChannelInService",e.InteractionMessageTooBigError="messageTooBig",e.ChatMessageMaskError="chatMessageMaskingError",e.ChatFileMaskError="chatFileMaskError",e.ChatWebRtcError="chatWebRtcError",e.ChatChannelInviteBadFormatError="chatChannelInviteBadFormatError",e.ChatChannelInviteUnknownMessengerError="chatChannelInviteUnknownMessengerError",e.MSTeamsNoChatWithUserError="MSTeamsNoChatWithUserError",e.MSTeamsIntegrationError="MSTeamsIntegrationError",e.DirectChatSafariConfirmation="directChatSafariConfirmation",e.UserHasNoAccessError="userHasNoAccessError",e.NotesLengthExceededError="notesLengthExceededError",e.PasteKBArticleToChatError="pasteKBArticleToChatError",e.DispositionNotSelectedError="dispositionNotSelectedError",e.CallFailedDueNetworkIssueWarning="callFailedDueNetworkIssueWarning",e.IncomingInteractionNotAcceptedError="incomingInteractionNotAcceptedError",e.PhoneDeviceDetectedMessage="phoneDeviceDetectedMessage",e.PhoneDeviceNotDetectedError="phoneDeviceNotDetectedError",e.BadPhoneExtensionError="badPhoneExtensionError",e.ReservedForIncomingInteractionMessage="reservedForIncomingInteractionMessage",e.OfflineStateError="offlineStateError",e.OutdatedClientAppError="outdatedClientAppError",e.PhoneOutOfServiceError="phoneOutOfServiceError",e.SipServerConnectionError="sipServerConnectionError",e.SlowNetworkConnectionError="slowNetworkConnectionError",e.DomainNotAuthorizedForBPClientError="domainNotAuthorizedForBPClientError",e.RescheduleDateInThePastError="rescheduleDateInThePastError",e.InvalidCrmRecordsSelection="invalidCrmRecordsSelection"}(r||(r={}));var a=n(52322),o=n(66029),i=n(86702),s=n(79607),c=n(13641),u=n(40381);var l=n(63830),d=n.n(l),_=n(26552);var f=n(68939);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t,n;if(!("id"in e&&"string"==typeof e.id&&"type"in e&&"string"==typeof e.type&&"tags"in e&&(t=e.tags,n=Array,null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&"closable"in e&&"boolean"==typeof e.closable&&"delayed"in e&&"boolean"==typeof e.delayed&&"showDelay"in e&&"number"==typeof e.showDelay))throw Error("assertFullNotification: notification data is not full")}function g(e){var t=e.timeoutsRef,n=e.setNotifications;return(0,o.useCallback)((function(e){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},{type:"info",tags:[],closable:!0,showDelay:0,delayed:!1},e);r.id||(r.id=(0,f.uuid)()),r.showDelay>0&&(r.delayed=!0),m(r);var a=r.id,o=r.duration,i=r.showDelay;if(n(d()((function(e){e[a]=r}))),o){var s=setTimeout((function(){delete t.current[a],n(d()((function(e){var t,n;null===(n=e[a])||void 0===n||null===(t=n.onHide)||void 0===t||t.call(n),delete e[a]})))}),o);t.current[a]&&clearTimeout(t.current[a]),t.current[a]=s}if(i){var c="".concat(a,"_showDelay"),u=setTimeout((function(){delete t.current[c],n(d()((function(e){var t=e[a];t&&(t.delayed=!1)})))}),i),l=t.current[c];l&&clearTimeout(l),t.current[c]=u}}),[n,t])}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y="NotificationStateContext",b={notifications:{},methods:{showNotification:(0,u.throwNoProviderError)(y),hideNotificationById:(0,u.throwNoProviderError)(y),hideNotificationsByTag:(0,u.throwNoProviderError)(y)}},S=(0,i.createContext)(b);S.displayName=y;var C=function(e){var t=v((0,o.useState)(b.notifications),2),n=t[0],r=t[1],i=(0,o.useRef)({}),c=g({timeoutsRef:i,setNotifications:r}),u=function(e){var t=e.setNotifications;return(0,o.useCallback)((function(e){t(d()((function(t){var n,r;null===(r=t[e])||void 0===r||null===(n=r.onHide)||void 0===n||n.call(r),delete t[e]})))}),[t])}({setNotifications:r}),l=function(e){var t=e.setNotifications;return(0,o.useCallback)((function(e){t(d()((function(t){Object.values(t).forEach((function(n){var r,a;(0,_.assertDefined)(n),n.tags.includes(e)&&(null===(a=t[n.id])||void 0===a||null===(r=a.onHide)||void 0===r||r.call(a),delete t[n.id])}))})))}),[t])}({setNotifications:r});!function(e){var t=e.timeoutsRef;(0,o.useEffect)((function(){var e=t.current;return function(){Object.values(e).forEach(clearTimeout)}}),[t])}({timeoutsRef:i}),(0,s.useOnLogout)((function(){return r(b.notifications)}));var f=(0,o.useMemo)((function(){return{showNotification:c,hideNotificationById:u,hideNotificationsByTag:l}}),[c,u,l]),p=(0,o.useMemo)((function(){return{notifications:n,methods:f}}),[n,f]);return(0,a.jsx)(S.Provider,{value:p,children:e.children})},I=(0,c.createUIStateSelectorHook)(S,"notificationsState").useNotificationsState},2164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PhoneNumberUtilCountryCodeSource:()=>r,phoneNumberFormatter:()=>a});var r;!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.FROM_NUMBER_WITH_PLUS_SIGN=1]="FROM_NUMBER_WITH_PLUS_SIGN",e[e.FROM_NUMBER_WITH_IDD=5]="FROM_NUMBER_WITH_IDD",e[e.FROM_NUMBER_WITHOUT_PLUS_SIGN=10]="FROM_NUMBER_WITHOUT_PLUS_SIGN",e[e.FROM_DEFAULT_COUNTRY=20]="FROM_DEFAULT_COUNTRY"}(r||(r={}));var a={format:function(e,t){return"undefined"!=typeof window&&window.__phoneNumberUtilWrapper?window.__phoneNumberUtilWrapper.format(e,t):{success:!1,error:"EXCEPTION",message:"window.__phoneNumberUtilWrapper is undefined"}},getSupportedRegions:function(){return"undefined"!=typeof window&&window.__phoneNumberUtilWrapper?window.__phoneNumberUtilWrapper.getSupportedRegions():[]},getCountryCodeForRegion:function(e){return"undefined"!=typeof window&&window.__phoneNumberUtilWrapper?window.__phoneNumberUtilWrapper.getCountryCodeForRegion(e):""}}},56871:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}n.r(t),n.d(t,{createRequestTracker:()=>c});var i=0,s=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"timeoutMilliseconds",void 0),a(this,"handleResponse",void 0),a(this,"handleError",void 0),a(this,"handleTimeout",void 0),a(this,"pendingRequests",void 0),this.timeoutMilliseconds=t,this.handleResponse=n,this.handleError=r,this.handleTimeout=o,this.pendingRequests={}}var t,n,s;return t=e,n=[{key:"addRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0===t.requestId?(++i).toString():t.requestId,r=void 0===t.overrideTimeout?this.timeoutMilliseconds:t.overrideTimeout;if(this.pendingRequests[n])return{requestId:n,promise:this.pendingRequests[n].promise};var a={trackingData:t.trackingData,timeout:setTimeout((function(){return e.onTimeout(n,r)}),r),displayName:t.displayName};return a.promise=new Promise((function(e,t){a.resolve=e,a.reject=t})),this.pendingRequests[n]=a,{requestId:n,promise:a.promise}}},{key:"onResponse",value:function(e,t){var n=this.pendingRequests[e];n&&(delete this.pendingRequests[e],clearTimeout(n.timeout),this.handleResponse?this.handleResponse(t,o({requestId:e},n)):n.resolve(t))}},{key:"onError",value:function(e,t){var n=this.pendingRequests[e];n&&(delete this.pendingRequests[e],clearTimeout(n.timeout),this.handleError?this.handleError(t,o({requestId:e},n)):n.reject(t))}},{key:"onTimeout",value:function(e,t){var n=this.pendingRequests[e];n&&(delete this.pendingRequests[e],this.handleTimeout?this.handleTimeout(o({requestId:e},n)):n.reject(new Error("RequestTracker: timeout ".concat(t," while waiting response for ").concat(n.displayName," ").concat(e))))}},{key:"hasRequest",value:function(e){return!!this.getRequest(e)}},{key:"getRequest",value:function(e){return this.pendingRequests[e]}},{key:"getTrackedData",value:function(e){var t;return null===(t=this.pendingRequests[e])||void 0===t?void 0:t.trackingData}},{key:"cleanup",value:function(){this.pendingRequests={}}}],n&&r(t.prototype,n),s&&r(t,s),e}();function c(e){var t=e.timeoutMilliseconds,n=e.handleResponse,r=e.handleError,a=e.handleTimeout;return new s(t,n,r,a)}},36816:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SlidingModalContext:()=>l,SlidingModalContextProvider:()=>b,TOGGLE_SLIDING_MODAL_ANIMATION_DURATION:()=>a,useCloseGlobalSlidingModal:()=>O,useCloseInteractionSlidingModal:()=>w,useOpenGlobalSlidingModal:()=>E,useOpenInteractionSlidingModal:()=>I,useShowSlidingModalChecker:()=>C,useSlidingModalState:()=>S});var r=n(40381),a=100,o="SlidingModalContext",i={keypad:{show:!1,closing:!1},transfer:{show:!1,closing:!1},knowledgeBase:{show:!1,closing:!1},reschedule:{show:!1,closing:!1},recentConference:{show:!1,closing:!1,handleCallClick:(0,r.throwNoProviderError)(o),handleChatClick:(0,r.throwNoProviderError)(o)}},s={recentConference:{show:!1,closing:!1,handleCallClick:(0,r.throwNoProviderError)(o),handleChatClick:(0,r.throwNoProviderError)(o)},mergeContacts:{show:!1,closing:!1,srcContactDetails:{}},calendarEvent:{show:!1,closing:!1},voiceTranscript:{show:!1,closing:!1,contentVoiceTranscript:null}},c={globalModalsData:s,openGlobalModal:(0,r.throwNoProviderError)(o),closeGlobalModal:(0,r.throwNoProviderError)(o),getInteractionModalData:function(){return i},openInteractionModal:(0,r.throwNoProviderError)(o),closeInteractionModal:(0,r.throwNoProviderError)(o),resetInteractionModalsData:(0,r.throwNoProviderError)(o)},u=n(86702),l=(0,u.createContext)(c);l.displayName=o;var d=n(52322),_=n(66029),f=n(63830),p=n.n(f),m=n(26);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){var t,n,r,o,c,u,f,g,h,b,S,C,I,w=(t=y((0,_.useState)({}),2),n=t[0],r=t[1],o=y((0,_.useState)(s),2),c=o[0],u=o[1],f=(0,_.useCallback)((function(e){var t;return null!==(t=n[e])&&void 0!==t?t:v({},i)}),[n]),g=(0,_.useCallback)((function(e,t){r(p()((function(n){n[e]||(n[e]=v({},i)),t(n[e])})))}),[]),h=(0,_.useCallback)((function(e,t,n){g(e,(function(e){e[t]=v({show:!0,closing:!1},null!=n?n:{})}))}),[g]),b=(0,_.useCallback)((function(e,t){g(e,(function(e){e[t].closing=!0,e[t].show=!0})),setTimeout((function(){g(e,(function(e){e[t]={closing:!1,show:!1}}))}),a)}),[g]),S=(0,_.useCallback)((function(e){r(p()((function(t){t[e]=v({},i)})))}),[]),C=(0,_.useCallback)((function(e,t){u(p()((function(n){n[e]=v({show:!0,closing:!1},null!=t?t:{})})))}),[]),I=(0,_.useCallback)((function(e){u(p()((function(t){t[e].closing=!0,t[e].show=!0}))),setTimeout((function(){u(p()((function(t){t[e]={closing:!1,show:!1}})))}),a)}),[]),(0,m.useOnItemRemoved)((function(e){r(p()((function(t){delete t[e.id]})))})),(0,_.useMemo)((function(){return{globalModalsData:c,openGlobalModal:C,closeGlobalModal:I,getInteractionModalData:f,openInteractionModal:h,closeInteractionModal:b,resetInteractionModalsData:S}}),[I,b,f,c,C,h,S]));return(0,d.jsx)(l.Provider,{value:w,children:e.children})},S=(0,n(13641).createUIStateSelectorHook)(l,"slidingModalState").useSlidingModalState,C=function(e,t){return(0,u.useContextSelector)(l,(function(n){return!!e&&n.getInteractionModalData(e)[t].show}))},I=function(){return S("openInteractionModal")},w=function(){return S("closeInteractionModal")},E=function(){return S("openGlobalModal")},O=function(){return S("closeGlobalModal")}},94223:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{getStorage:()=>o});var a="@bpinc/lib-storage:test-item-that-you-should-never-see";try{localStorage.setItem(a,a),localStorage.removeItem(a),r=!0}catch(i){r=!1}var o=function(e){var t=function(e,t){var n,r=e.getItem(t);if(r)try{n=JSON.parse(r)}catch(i){}return n};return{getItem:function(n){var a;if(r)return e&&(a=t(sessionStorage,n)),a||(a=t(localStorage,n)),a&&a.value},setItem:function(t,n){if(r){var a=JSON.stringify({value:n});e&&sessionStorage.setItem(t,a),localStorage.setItem(t,a)}},removeItem:function(e){r&&(sessionStorage.removeItem(e),localStorage.removeItem(e))},clear:function(){r&&(sessionStorage.clear(),localStorage.clear())},clearExcept:function(e){if(r)for(var t,n=0,a=[sessionStorage,localStorage];n<a.length;n++){t=a[n];var o=void 0,i=void 0;for(o=0;o<t.length;o++)(i=t.key(o))&&!e.includes(i)&&t.removeItem(i)}},getExternalItem:function(e){return r?t(localStorage,e):null},setExternalItem:function(e,t){r&&localStorage.setItem(e,JSON.stringify(t))},removeExternalItem:function(e){r&&localStorage.removeItem(e)}}}},38017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSyncEvents:()=>_,createSyncSubscriberInitDecorator:()=>g});var r=n(26552),a=n(68939),o=n(87801);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function l(e){return t=e,(null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"_destination"in e&&"string"==typeof e._destination;var t,n}function d(e,t,n,i,u){return{dispatchEvents:function(){return i},dispenserEvents:function(){return u},dispenser:function(){return function(e,t,n){return{subscribe:function(i){var u=(0,a.uuid)(),d=e.subscribe(t,(0,r.typedKeys)(i).reduce((function(e,t){var a=i[t];return a?(e[t]=function(){for(var e=arguments.length,i=new Array(e),d=0;d<e;d++)i[d]=arguments[d];var _=n.get();if("boss"!==(i.length&&l(i[0])&&(0,r.array)(o.tabDestinations).includes(i[0]._destination)?i[0]._destination:void 0)||_.boss){if("onInitialState"!==t||2!==i.length)return a.apply(void 0,c(i));var f=s(i,2),p=f[0];f[1]===u&&a(p)}},e):e}),{}));return e.sendMessage({scope:"__sync__",event:"newSubscription",payload:[t,u]}),d}}}(t,e,n)},dispatch:function(){return function(e,t,n){return Object.keys(n).reduce((function(r,a){return r[a]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if("async"in n[a])return e.sendRequest({scope:t,event:a,payload:o});e.sendMessage({scope:t,event:a,payload:o})},r}),{})}(t,e,i)},pair:function(){return[this.dispatch(),this.dispenser()]},with:function(e){return e(this)}}}function _(e,t,n){return function(r,a){return d(e,t,n,r,a)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function m(e,t,n){return{onInitialState:function(r){e.sendMessage({scope:t,event:"onInitialState",payload:n?[r,n]:[r]})}}}function g(e,t){return function(n){return function(r){return p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},r),{dispenser:function(){var a=r.dispenser();return Promise.resolve().then((function(){n(m(e,t))})),e.subscribe("__sync__",{newSubscription:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];2===a.length&&a[0]===t&&n(m(e,t,a[1]))}}),a}})}}}},28068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{booleanToTransport:()=>a,convertIncomingObject:()=>i,convertKVArray:()=>s,emptyStringToUndefined:()=>o,isKVArray:()=>c,toKVArray:()=>u,transportToBoolean:()=>r});var r=function(e){return"1"===e||"true"===e},a=function(e){return e?"1":"0"},o=function(e){return e||void 0};function i(e,t){var n={};return Object.keys(t).forEach((function(r){var a=r,o=t[a];Array.isArray(o)?n[o[0]]=o[1](e[a]):o&&(n[o]=e[a])})),n}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=[],a=0;do{(t=e[a.toString()])&&(r[a]=n(t)),++a}while(t);return r}function c(e){return!Array.isArray(e)&&"object"==typeof e&&"0"in e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.reduce((function(e,n,r){return n&&(e[r.toString()]=t(n)),e}),{})}},89394:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.r(t),n.d(t,{CustomEventConstructor:()=>d,EventTargetConstructor:()=>l,asyncEvent:()=>y,createEventTargetDispatch:()=>g,createEventTargetDispenser:()=>I,createPromisesStorage:()=>O,event:()=>v,isAsyncCustomEvent:()=>b,subscriberInit:()=>o,typedEvents:()=>T});var o=function(e){return function(t){return a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},t),{dispenser:function(){var n=t.dispenser();return{subscribe:function(t){var r=n.subscribe(t);return Promise.resolve().then((function(){return e(t)})),r}}}})}},i=n(95465),s=n.n(i);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,d,_=(new Date).getTime(),f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"bubbles",!1),u(this,"cancelBubble",!1),u(this,"cancelable",!1),u(this,"composed",!1),u(this,"currentTarget",null),u(this,"defaultPrevented",!1),u(this,"eventPhase",0),u(this,"isTrusted",!1),u(this,"returnValue",!0),u(this,"srcElement",null),u(this,"target",null),u(this,"AT_TARGET",2),u(this,"BUBBLING_PHASE",3),u(this,"CAPTURING_PHASE",1),u(this,"NONE",0),u(this,"detail",void 0),u(this,"timeStamp",void 0),u(this,"type",void 0),Object.assign(this,n||{}),this.type=t,this.timeStamp=(new Date).getTime()-_}var t,n,r;return t=e,(n=[{key:"composedPath",value:function(){return[]}},{key:"initEvent",value:function(e,t,n){this.type=e,t&&(this.bubbles=t),n&&(this.cancelable=n)}},{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){}},{key:"stopPropagation",value:function(){}}])&&c(t.prototype,n),r&&c(t,r),e}();function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t,n){var r={};return Object.entries(e).forEach((function(e){var a=m(e,2),o=a[0],i=a[1];r[o]=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];if("async"in i){var s=m(n(),2),c=s[0],u=s[1];return t.dispatchEvent(new d(o,{detail:{parameters:r,promiseId:u,async:!0}})),c}t.dispatchEvent(new d(o,{detail:{parameters:r}}))}})),r}"undefined"==typeof EventTarget||"undefined"==typeof CustomEvent?(l=s(),d=f):(l=EventTarget,d=CustomEvent);var h=n(26552);function v(){return{parameters:[]}}function y(){return{async:!0,parameters:[],result:void 0}}var b=function(e){var t,n,r=e.detail;return t=r,(null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&Array.isArray(r.parameters)&&r.async&&"string"==typeof r.promiseId};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t,n){var r={};return{subscribe:function(a){var o=(0,h.typedKeys)(a).reduce((function(e,o){var i=a[o];return i?(e[o]=function(e,a){var o=function(i){var s=i.detail.parameters,c=r[e];(0,h.assertDefined)(c);var u=c[c.length-1];try{var l=a.apply(void 0,C(s));return b(i)&&(o===u?t(i.detail.promiseId,l):console.log('@@@dispenser: skip resolve not last async event handler for event "'.concat(e,'"'))),l}catch(d){console.error(d),b(i)&&o===u&&n(i.detail.promiseId,d)}};return o}(o,i),e):e}),{});return(0,h.typedKeys)(o).forEach((function(t){var n=o[t];e.addEventListener(t,n),r[t]||(r[t]=[]);var a=r[t];(0,h.assertDefined)(a),a.push(n)})),{unsubscribe:function(){(0,h.typedKeys)(o).forEach((function(t){var n=o[t];e.removeEventListener(t,n);var a=r[t];(0,h.assertDefined)(a);var i=a.indexOf(n);-1!==i&&a.splice(i,1)}))}}}}}var w=n(68939);function E(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var O=function(){var e={},t=function(t){delete e[t]};return{createPromise:function(n){var r=n||(0,w.uuid)();return[new Promise((function(n,a){e[r]={resolve:n,reject:a},setTimeout((function(){t(r)}),6e4)})),r]},resolvePromise:function(n,r){var a=e[n];a&&(E(r,Promise)?r.then((function(e){a.resolve(e)}),(function(e){a.reject(e)})):(a.resolve(r),t(n)))},rejectPromise:function(n,r){var a=e[n];a&&(E(r,Promise)?r.then((function(e){a.reject(e)}),(function(e){a.reject(e)})):(a.reject(r),t(n)))}}};function T(e){var t=new l,n=O();return{eventTarget:t,events:function(){return e},dispenser:function(){return I(t,n.resolvePromise,n.rejectPromise)},dispatch:function(){return g(e,t,n.createPromise)},pair:function(){return[this.dispatch(),this.dispenser()]},with:function(e){return e(this)}}}},47769:(e,t,n)=>{"use strict";function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}n.r(t),n.d(t,{array:()=>v,assertDefined:()=>i,assertDefinedProperties:()=>c,assertIsObject:()=>_,assertNever:()=>C,assertNotNull:()=>S,assertTrue:()=>s,clearObject:()=>b,every:()=>u,filter:()=>g,includes:()=>m,isDefined:()=>l,isObject:()=>d,isPromise:()=>h,isStringInEnum:()=>I,isStringifiedNumber:()=>f,truthy:()=>p,typedEntries:()=>o,typedKeys:()=>a,withoutUndefinedKeys:()=>y});var a=function(e){return Object.keys.call(e,e)},o=function(e){return Object.entries(e)};function i(e,t){if(null==e)throw new Error(null!=t?t:"The assertDefined check is not passed. Argument has type undefined")}function s(e,t){if(!0!==e)throw new Error(null!=t?t:"The assertTrue check is not passed")}function c(e,t,n){if(i(e),t)(Array.isArray(t)?t:[t]).forEach((function(t){if(void 0===e[t]||null===e[t])throw new Error(null!=n?n:"The assertDefinedProp check is not passed. Argument ".concat(String(t)," has type undefined"))}));else if(Object.values(e).some((function(e){return null==e})))throw new Error(null!=n?n:"The assertDefinedProperties check is not passed. One of argument's properties has type undefined")}function u(e,t){return e.every(t)}function l(e){return void 0!==e}var d=function(e){return r(e,Object)};function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Not an object";if(!d(e))throw new Error(t)}function f(e){return"string"==typeof e&&!isNaN(Number(e))}var p=function(e){return e.filter(Boolean)},m=function(e,t){return e.some((function(e){return e===t}))},g=function(e,t){return e.filter(t)},h=function(e){return r(e,Promise)},v=function(e){return e};function y(e){return a(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function b(e){return d(e)&&Object.getOwnPropertyNames(e).forEach((function(t){return delete e[t]})),e}function S(e){if(null===e)throw Error("assertNotNull failed")}function C(e,t){throw new Error(t||"Unexpected value",e)}function I(e,t){return void 0!==t&&Object.values(e).includes(t)}},80768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{uuid:()=>r.v4});var r=n(47123)},88318:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{createWebRtcPeerConnection:()=>s});var o=function(){},i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"peerConnection",void 0),a(this,"voiceElement",void 0),a(this,"localStream",void 0),a(this,"timeout",void 0),a(this,"iceCandidateQueue",[]),a(this,"withVideo",!1)}var t,n,i;return t=e,(n=[{key:"setTimeout",value:function(e,t){var n=this;this.timeout=setTimeout((function(){n.cleanup(),t(new Error("WebRTC ".concat(e," error: timeout")))}),1e4)}},{key:"clearTimeout",value:function(){this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"cleanup",value:function(){this.clearTimeout(),this.iceCandidateQueue=[],this.withVideo=!1,this.peerConnection&&this.dropCall()}},{key:"sendStreamToHtml",value:function(e){this.voiceElement=document.createElement("audio"),this.voiceElement.autoplay=!0,this.voiceElement.srcObject=e}},{key:"togglePhoneSpeaker",value:function(e){var t;null===(t=this.localStream)||void 0===t||t.getAudioTracks().forEach((function(t){t.enabled=e}))}},{key:"toggleVideoCamera",value:function(e){var t;null===(t=this.localStream)||void 0===t||t.getVideoTracks().forEach((function(t){t.enabled=e}))}},{key:"onLocalIceCandidate",value:function(e,t){e||(this.clearTimeout(),t(this.peerConnection.localDescription.sdp))}},{key:"makeCall",value:function(e,t,n){var r=this,a=n.onIceCandidate,i=void 0===a?o:a,s=n.onNewStream,c=void 0===s?o:s,u=n.onAnswerTimeout,l=void 0===u?o:u;return this.cleanup(),this.withVideo=t,new Promise((function(t,n){r.setTimeout("makeCall",l);try{r.peerConnection=new RTCPeerConnection(e)}catch(a){return r.cleanup(),n(a)}r.peerConnection.onicecandidate=function(e){if(e.candidate){var t=e.candidate,n=t.candidate,r=t.sdpMid,a=t.sdpMLineIndex;null!==r&&null!==a&&i({candidate:n,sdpMLineIndex:a,sdpMid:r})}},r.peerConnection.ontrack=function(e){var t=e.streams[0];"audio"===e.track.kind?r.sendStreamToHtml(t):"video"===e.track.kind&&c(t)},navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){r.localStream=e,r.localStream.getTracks().forEach((function(e){r.peerConnection.addTrack(e,r.localStream),r.withVideo||"video"!==e.kind||(e.enabled=!1)})),c(r.localStream,{isLocal:!0})})).then((function(){return r.peerConnection.createOffer()})).then((function(e){r.peerConnection.setLocalDescription(e),t(e.sdp||"")})).catch((function(e){return r.cleanup(),n(e)}))}))}},{key:"onAnswer",value:function(e){var t=this;if(this.peerConnection){this.clearTimeout();var n=new RTCSessionDescription({type:"answer",sdp:e});this.peerConnection.setRemoteDescription(n),this.iceCandidateQueue.length&&(this.iceCandidateQueue.forEach((function(e){return t.onIceCandidate(e)})),this.iceCandidateQueue=[])}}},{key:"onIceCandidate",value:function(e){this.peerConnection&&("have-local-offer"===this.peerConnection.signalingState?this.iceCandidateQueue.push(e):this.peerConnection.addIceCandidate(new RTCIceCandidate({candidate:e.candidate,sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid})))}},{key:"answerCall",value:function(e){var t=this;return this.cleanup(),new Promise((function(n,r){t.setTimeout("answerCall",r),t.peerConnection=new RTCPeerConnection,t.peerConnection.onicecandidate=function(e){t.onLocalIceCandidate(e.candidate,n)},t.peerConnection.ontrack=function(e){return t.sendStreamToHtml(e.streams[0])},navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then((function(e){e.getTracks().forEach((function(n){return t.peerConnection.addTrack(n,e)}))})).then((function(){var n=new RTCSessionDescription({sdp:e,type:"offer"});return t.peerConnection.setRemoteDescription(n)})).then((function(){return t.peerConnection.createAnswer()})).then((function(e){return t.peerConnection.setLocalDescription(e)})).catch((function(e){t.cleanup(),r(e)}))}))}},{key:"changeMicrophone",value:function(e){var t=this;this.peerConnection&&navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:e}}}).then((function(e){var n,r=e.getAudioTracks()[0],a=null===(n=t.peerConnection)||void 0===n?void 0:n.getSenders().find((function(e){var t;return"audio"==(null===(t=e.track)||void 0===t?void 0:t.kind)}));null==a||a.replaceTrack(r)}))}},{key:"dropCall",value:function(){this.voiceElement&&(this.voiceElement.pause(),this.voiceElement.removeAttribute("srcObject"),this.voiceElement.remove(),delete this.voiceElement),this.localStream&&(this.localStream.getTracks().forEach((function(e){return e.stop()})),delete this.localStream),this.peerConnection&&(this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null,this.peerConnection.close(),delete this.peerConnection)}}])&&r(t.prototype,n),i&&r(t,i),e}();function s(){return new i}},49845:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t),n.d(t,{checkPermissions:()=>g,closeNotification:()=>m,notify:()=>h});var s=function(){},c="denied",u="granted",l="NO_CONTENT",d="NO_SUPPORT",_="USER_DENIED",f=function(){return"undefined"!=typeof window},p=function(){return self},m=function(e){f()||p().registration.getNotifications({tag:e}).then((function(e){e.forEach((function(e){return e.close()}))}))},g=function(e){var t=e||{},n=t.onSuccess,r=void 0===n?s:n,a=t.onError,o=void 0===a?s:a;"Notification"in self?Notification.permission===u?r():Notification.permission===c?o(_):Notification.requestPermission().then((function(e){e===u?r():o(_)})).catch((function(){return o(_)})):o(d)},h=function(e,t,n){var r=(n||{}).onError,c=void 0===r?s:r;e?g({onSuccess:function(){return function(e,t,n){var r=t||{},c=r.actions,u=void 0===c?[]:c,l=i(r,["actions"]),d=(n||{}).onClick,_=void 0===d?s:d,m=function(e){var t,n,r=u.find((function(t){return t.action===e.action}));null===(t=e.notification)||void 0===t||t.close(),null===(n=e.waitUntil)||void 0===n||n.call(e,new Promise((function(e){return setTimeout(e,500)}))),r?_(r):_()};if(f()){var g=new Notification(e,o(a({},l),{actions:u}));g.addEventListener("click",m),setTimeout((function(){return g.close()}),5e3)}else{var h=p();h.registration.showNotification(e,o(a({},l),{actions:u})),h.onnotificationclick=m}}(e,t,n)},onError:c}):c(l)}},14192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StateFactory:()=>_e,assertNotInitializedConnector:()=>o,isStateCoordinatorSwitch:()=>a});n(25130);var r=n(26552);function a(e){return"realConnector"in e&&"proxyConnector"in e}function o(e){if(!("start"in e))throw Error("assertNotInitializedConnector failed")}function i(e){return!!e.authorized}function s(){return function(e,t){return{dispatchEvents:function(){return e},dispenserEvents:function(){return t},dispenser:function(){return{subscribe:function(){return{unsubscribe:function(){}}}}},dispatch:function(){return(0,r.typedKeys)(e).reduce((function(e,t){return e[t]=function(){return Promise.resolve()},e}),{})},pair:function(){return[this.dispatch(),this.dispenser()]},with:function(){return this}}}}var c=n(63830),u=n.n(c),l=n(2122),d=n(61650),_=n.n(d),f=n(26220),p=n(64245),m=n(96877),g=n(5660);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var I=function(){function e(t,n,a,o){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"dispatch",void 0),y(this,"dispenser",void 0),y(this,"stateData",void 0),y(this,"subscription",void 0),y(this,"sync",!0),y(this,"syncDispatch",void 0),y(this,"syncDispenser",void 0),y(this,"dispenserSubscriptions",[]),i=b(a(t,n).pair(),2),this.syncDispatch=i[0],this.syncDispenser=i[1],this.dispatch=this.createPublicDispatch(t),this.dispenser=this.createPublicDispenser();var s=function(e,t){var n=e(),a=t.subscribe({onInitialState:function(e){(0,r.clearObject)(n),Object.assign(n,e)},onChange:function(e){Object.assign(n,e)}});return{data:n,subscription:a}}(o,this.dispenser),c=s.data,u=s.subscription;this.stateData=c,this.subscription=u}var t,n,a;return t=e,n=[{key:"createPublicDispatch",value:function(e){var t=this;return(0,r.typedKeys)(e).reduce((function(e,n){var r=t;return e[n]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o;if(r.sync)return(o=r.syncDispatch)[n].apply(o,S(t))},e}),{})}},{key:"createPublicDispenser",value:function(){var e=this;return{subscribe:function(t){var n={subscription:e.sync?e.syncDispenser.subscribe(t):null,handler:t};return e.dispenserSubscriptions.push(n),{unsubscribe:function(){var t;null===(t=n.subscription)||void 0===t||t.unsubscribe();var r=e.dispenserSubscriptions.indexOf(n);-1!==r&&e.dispenserSubscriptions.splice(r,1)}}}}}},{key:"enableSync",value:function(){var e=this;this.sync=!0,this.dispenserSubscriptions.forEach((function(t){t.subscription||(t.subscription=e.syncDispenser.subscribe(t.handler))}))}},{key:"disableSync",value:function(){this.sync=!1,this.dispenserSubscriptions.forEach((function(e){var t;null===(t=e.subscription)||void 0===t||t.unsubscribe(),e.subscription=null}))}},{key:"start",value:function(){}},{key:"getStateData",value:function(){return this.stateData}},{key:"cleanup",value:function(){this.subscription.unsubscribe()}},{key:"resetState",value:function(){this.subscription.unsubscribe()}}],n&&v(t.prototype,n),a&&v(t,a),e}();function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var O=function e(t,n,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"communicationChannelApiHost",(0,m.getCommunicationLayerBroadcastChannel)("api-host")),w(this,"communicationChannelApiListener",(0,m.getCommunicationLayerBroadcastChannel)("api-listener")),w(this,"dispatch",void 0),w(this,"dispenser",void 0),w(this,"getStateData",void 0),w(this,"start",void 0),w(this,"cleanup",void 0),w(this,"resetState",void 0);var i=a.get().app,s=E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},n),{localSettings:r}),c="adc"===i||"api"===i?new t(s,(0,g.createSyncEvents)(t.stateName,this.communicationChannelApiHost,a),(0,g.createSyncSubscriberInitDecorator)(this.communicationChannelApiHost,t.stateName),o):new I(t.controlEvents,t.trackerEvents,(0,g.createSyncEvents)(t.stateName,this.communicationChannelApiListener,a),t.initialDataGetter);this.dispatch=c.dispatch,this.dispenser=c.dispenser,this.getStateData=c.getStateData.bind(c),this.start=c.start.bind(c),this.cleanup=c.cleanup.bind(c),this.resetState=c.resetState.bind(c)};function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}function k(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function N(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=["follower","follower_lost_master"],j=["master","undecided"],x=function(){function e(t,n,a,o,i,s){var c=this,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{stateDataRecovery:!1};D(this,e),P(this,"stateClass",void 0),P(this,"stateDeps",void 0),P(this,"localSettings",void 0),P(this,"currentTabDataProvider",void 0),P(this,"roleManager",void 0),P(this,"initialStateData",void 0),P(this,"options",void 0),P(this,"communicationChannelStateHost",void 0),P(this,"communicationChannelStateListener",void 0),P(this,"dispatch",void 0),P(this,"dispenser",void 0),P(this,"realConnector",void 0),P(this,"proxyConnector",void 0),P(this,"dispenserSubscriptions",void 0),P(this,"roleTransitionLock",void 0),P(this,"roleTransitionLockCallbacks",void 0),P(this,"invalidateRole",void 0),P(this,"afterRoleChanged",void 0),this.stateClass=t,this.stateDeps=n,this.localSettings=a,this.currentTabDataProvider=o,this.roleManager=i,this.initialStateData=s,this.options=u,this.communicationChannelStateHost=(0,m.getCommunicationLayerBroadcastChannel)("state-host"),this.communicationChannelStateListener=(0,m.getCommunicationLayerBroadcastChannel)("state-listener"),this.realConnector=null,this.proxyConnector=null,this.dispenserSubscriptions=[],this.roleTransitionLock=!1,this.roleTransitionLockCallbacks=[],this.invalidateRole=function(e,t){if(c.log("@SYNC invalidate role",t,"next role is",e,"state:",c.stateClass.stateName),c.roleTransitionLock=!0,"master"===e)c.proxyConnector&&(c.log("@SYNC cleanup proxy connector for",c.stateClass.stateName),c.proxyConnector.cleanup(),c.proxyConnector=null),(0,r.assertNotNull)(c.realConnector),c.realConnector.enableSync();else if("follower"===e)c.realConnector&&(c.log("@SYNC cleanup real connector for",c.stateClass.stateName),c.realConnector.cleanup(),c.realConnector=null),c.proxyConnector||(c.proxyConnector=c.createProxyConnector()),c.proxyConnector.enableSync();else if("follower_lost_master"===e){(0,r.assertTrue)("follower"===t),(0,r.assertNotNull)(c.proxyConnector),c.proxyConnector.disableSync();var n=c.options.stateDataRecovery?c.proxyConnector.getStateData():void 0,a=c.restoreStateData(n);c.realConnector=c.createRealConnector(a)}},this.afterRoleChanged=function(e,t){c.roleTransitionLock=!1,"follower_lost_master"===e&&((0,r.assertNotNull)(c.realConnector),c.realConnector.start()),M.includes(e)&&j.includes(t)||"follower"===e&&"follower"===t?c.dispenserSubscriptions.forEach((function(e){e.internalSubscription.unsubscribe(),(0,r.assertNotNull)(c.proxyConnector),e.internalSubscription=c.proxyConnector.dispenser.subscribe(e.subscriptionHandler)})):j.includes(e)&&M.includes(t)&&c.dispenserSubscriptions.forEach((function(e){e.internalSubscription.unsubscribe(),(0,r.assertNotNull)(c.realConnector),e.internalSubscription=c.realConnector.dispenser.subscribe(e.subscriptionHandler)})),c.roleTransitionLockCallbacks.forEach((function(e){return e()})),c.roleTransitionLockCallbacks.splice(0,c.roleTransitionLockCallbacks.length)};var l=i.getRole();j.includes(l)?(this.realConnector=this.createRealConnector(s),"master"===l&&this.realConnector.enableSync()):(this.proxyConnector=this.createProxyConnector(),"follower"===l&&this.proxyConnector.enableSync()),this.dispatch=this.createPublicDispatch(),this.dispenser=this.createPublicDispenser(),this.roleManager.onInvalidateRole(this.invalidateRole),this.roleManager.onRoleChanged(this.afterRoleChanged)}var t,n,a;return t=e,n=[{key:"getActiveConnector",value:function(){var e=this.roleManager.getRole(),t=M.includes(e)?this.proxyConnector:this.realConnector;return(0,r.assertNotNull)(t),t}},{key:"waitForRoleTransitionLockRelease",value:function(){var e=this;return this.roleTransitionLock?new Promise((function(t){e.roleTransitionLockCallbacks.push(t)})):Promise.resolve()}},{key:"createPublicDispatch",value:function(){var e=this;return(0,r.typedKeys)(this.stateClass.controlEvents).reduce((function(t,n){var r=e;return t[n]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o;if(r.roleTransitionLock)return r.waitForRoleTransitionLockRelease().then((function(){var e;return(e=r.getActiveConnector().dispatch)[n].apply(e,N(t))}));var i=r.getActiveConnector();return(o=i.dispatch)[n].apply(o,N(t))},t}),{})}},{key:"createPublicDispenser",value:function(){var e=this;return{subscribe:function(t){var n=e.getActiveConnector().dispenser.subscribe(t),r=e.dispenserSubscriptions,a={internalSubscription:n,subscriptionHandler:t,unsubscribe:function(){a.internalSubscription.unsubscribe();var e=r.indexOf(a);-1!==e&&r.splice(e,1)}};return e.dispenserSubscriptions.push(a),a}}}},{key:"restoreStateData",value:function(e){var t;if(e)return e;var n=this.stateClass.initialDataGetter();if(!i(this.stateClass.stateConfig)||!(null===(t=this.stateClass.stateConfig.persistentKeys)||void 0===t?void 0:t.length))return n;var r=this.localSettings.getSync("persistentStateKeys"),a=null==r?void 0:r[this.stateClass.stateName];return a?(this.log("@@@PK restored persistent data:",a),R({},n,a)):n}},{key:"createRealConnector",value:function(e){this.log("@SYNC createRealConnector for",this.stateClass.stateName);var t=k(R({},this.stateDeps),{localSettings:this.localSettings});return new this.stateClass(t,(0,g.createSyncEvents)(this.stateClass.stateName,this.communicationChannelStateHost,this.currentTabDataProvider),(0,g.createSyncSubscriberInitDecorator)(this.communicationChannelStateHost,this.stateClass.stateName),e)}},{key:"createProxyConnector",value:function(){return this.log("@SYNC createProxyConnector for",this.stateClass.stateName),new I(this.stateClass.controlEvents,this.stateClass.trackerEvents,(0,g.createSyncEvents)(this.stateClass.stateName,this.communicationChannelStateListener,this.currentTabDataProvider),this.stateClass.initialDataGetter)}},{key:"getStateData",value:function(){return this.getActiveConnector().getStateData()}},{key:"start",value:function(){j.includes(this.roleManager.getRole())&&((0,r.assertNotNull)(this.realConnector),this.realConnector.start())}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=console).info.apply(r,N(t))}},{key:"cleanup",value:function(){var e,t;this.log("@SYNC state coordinator: cleanup() for",this.stateClass.stateName),null===(e=this.realConnector)||void 0===e||e.cleanup(),null===(t=this.proxyConnector)||void 0===t||t.cleanup(),this.roleManager.removeInvalidateRoleHandler(this.invalidateRole),this.roleManager.removeRoleChangedListener(this.afterRoleChanged),this.roleTransitionLock=!1,this.roleTransitionLockCallbacks.splice(0,this.roleTransitionLockCallbacks.length),this.dispenserSubscriptions.forEach((function(e){return e.unsubscribe()})),this.dispenserSubscriptions.splice(0,this.dispenserSubscriptions.length)}},{key:"resetState",value:function(){var e,t;null===(e=this.realConnector)||void 0===e||e.resetState(),null===(t=this.proxyConnector)||void 0===t||t.resetState(),this.roleTransitionLock=!1,this.roleTransitionLockCallbacks.splice(0,this.roleTransitionLockCallbacks.length)}}],n&&A(t.prototype,n),a&&A(t,a),e}(),L=n(21918);function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,s,"next",e)}function s(e){F(o,r,a,i,s,"throw",e)}i(void 0)}))}}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},q(e,t,n||e)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function H(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?K(e):t;var n}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var a=G(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return H(this,n)}}function z(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Y(e,t,n){var a="".concat("bp-pear-to-pear","-").concat(e.stateName),o=function(){},i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(l,e);var i,s,c,u=W(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),B(K(e=u.call(this,t,void 0,void 0,n)),"channel",new L.BroadcastChannel(a)),B(K(e),"isLeader",!1),B(K(e),"onChangeSubscription",{unsubscribe:function(){}}),B(K(e),"handleBroadcastMessages",(function(t){switch(t.type){case"requestStateData":return e.broadcastStateData();case"stateData":return e.handleStateData(t.state);case"stateUpdate":return e.handleStateUpdate(t.state)}})),B(K(e),"subscribeToStateChanges",(function(){o("Subscribe to state data changes");var t=e.dispenser.subscribe;e.onChangeSubscription=t({onChange:function(t){e.isLeader?e.broadcastStateData():e.broadcastStateUpdate(t)}})})),e.electLeader(),e}return i=l,(s=[{key:"electLeader",value:function(){var e=this;return $((function(){var t;return z(this,(function(n){switch(n.label){case 0:return[4,(t=(0,L.createLeaderElection)(e.channel)).hasLeader()];case 1:return n.sent()&&(o("I am follower. Requesting initial state..."),e.listenToBroadcastMessages(),e.sendToChannel({type:"requestStateData"})),t.awaitLeadership().then($((function(){return z(this,(function(t){switch(t.label){case 0:return e.isLeader=!0,[4,e.waitForInitialization()];case 1:return t.sent(),o("I am leader. Sending state data"),e.listenToBroadcastMessages(),e.broadcastStateData(),[2]}}))}))),[2]}}))}))()}},{key:"listenToBroadcastMessages",value:function(){this.channel.removeEventListener("message",this.handleBroadcastMessages),this.channel.addEventListener("message",this.handleBroadcastMessages)}},{key:"start",value:function(){q(G(l.prototype),"start",this).call(this),this.subscribeToStateChanges()}},{key:"handleStateData",value:function(e){o("Set initial state from channel",e),this.produceState((function(){return e}))}},{key:"handleStateUpdate",value:function(e){o("Received state update",e),this.onChangeSubscription.unsubscribe(),this.produceState((function(t){(0,r.typedKeys)(e).forEach((function(n){t[n]=e[n]}))})),_()(this.subscribeToStateChanges)}},{key:"broadcastStateData",value:function(){this.isLeader&&(o("Broadcast state data to followers"),this.sendToChannel({type:"stateData",state:this.stateData}))}},{key:"broadcastStateUpdate",value:function(e){o("Broadcast state update",e),this.sendToChannel({type:"stateUpdate",state:e})}},{key:"sendToChannel",value:function(e){this.channel.postMessage(e).catch((function(t){var n="Error while broadcasting mesage to cannel ".concat(a);o("".concat(n," ").concat(e)),f.bpLogger.error("".concat(n," ").concat(t))}))}}])&&U(i.prototype,s),c&&U(i,c),l}(e),s=new i;return s.constructor=e,s}var Q=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ne(e,t,n[t])}))}return e}function oe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ie(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?X(e):t;var n}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ie(this,n)}}var _e=function(){function e(t){var n=t.platformSpecific,r=t.localSettings,a=t.currentTabDataProvider,o=t.roleManager;Z(this,e),ne(this,"platformSpecific",void 0),ne(this,"localSettings",void 0),ne(this,"currentTabDataProvider",void 0),ne(this,"roleManager",void 0),this.platformSpecific=n,this.localSettings=r,this.currentTabDataProvider=a,this.roleManager=o}return te(e,[{key:"createState",value:function(e,t,n){var r,a=oe(ae({},t),{localSettings:this.localSettings});if("mobile"===this.platformSpecific.clientType()||{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"/",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:"true",REACT_APP_SERVICE_WORKER_SCOPE:"/agent"}.REACT_APP_SIMPLE_STATES)return new e(a);var o=n?ae({},e.initialDataGetter(),n):e.initialDataGetter();if(i(e.stateConfig)&&(null===(r=e.stateConfig.persistentKeys)||void 0===r?void 0:r.length)){console.log("@@@PK: persisted keys detected:",e.stateConfig.persistentKeys);var c=this.localSettings.getSync("persistentStateKeys"),u=null==c?void 0:c[e.stateName];console.log("@@@PK restoredStateData:",u),u&&(o=ae({},o,u))}if(!e.stateConfig.synchronized)return new e(a,s(),(function(){return function(e){return e}}),o);switch(e.stateConfig.coordinationMode){case"adc-app":return new O(e,t,this.localSettings,this.currentTabDataProvider,o);case"master-role-with-recovery":return new x(e,t,this.localSettings,this.currentTabDataProvider,this.roleManager,o,{stateDataRecovery:!0});case"pear-to-pear":return Y(e,a,o);default:return new x(e,t,this.localSettings,this.currentTabDataProvider,this.roleManager,o)}}}],[{key:"createBaseStateClass",value:function(e){var t=e.name,n=e.controlEvents,a=e.trackerEvents,o=e.dependencies,c=e.options,d=e.getInitialState,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(m,e);var o=de(m);function m(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return function(e){return e}},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d();Z(this,m),ne(X(t=o.call(this)),"dispatch",void 0),ne(X(t),"dispenser",void 0),ne(X(t),"fromClientDispenser",void 0),ne(X(t),"toClientDispatch",void 0),ne(X(t),"subscriptions",[]),ne(X(t),"stateData",void 0),ne(X(t),"destroyed",!1),ne(X(t),"initialized",!1),ne(X(t),"sync",!1),ne(X(t),"initializationCallbacks",[]),ne(X(t),"fromFollowersDispenser",void 0),ne(X(t),"controlSubscriptions",[]),ne(X(t),"onChangeOptimization",{isMicrotaskScheduled:!1}),ne(X(t),"sendInitialState",(function(e){var n;t.isInitialized()?null===(n=e.onInitialState)||void 0===n||n.call(e,t.stateData):t.waitForInitialization().then((function(){var n;null===(n=e.onInitialState)||void 0===n||n.call(e,t.stateData)}))})),t.stateData=ae({},u),Object.assign(X(t),e),(0,r.assertDefined)(t.localSettings);var l=ce((0,p.typedEvents)(n).pair(),2),_=l[0],f=l[1],g=ce((0,p.typedEvents)(a).with((0,p.subscriberInit)(t.sendInitialState)).pair(),2),h=g[0],v=g[1],y=ce(i(a,n).with(c(t.sendInitialState)).pair(),2),b=y[0],S=y[1];return t.dispatch=t.createPublicDispatch(_),t.dispenser=t.createPublicDispenser(v),t.fromFollowersDispenser=S,t.toClientDispatch=t.createToClientDispatch(h,b),t.fromClientDispenser=t.createFromClientDispenser(f),t}return te(m,[{key:"waitForInitialization",value:function(){var e=this;return this.isInitialized()?Promise.resolve():new Promise((function(t){e.initializationCallbacks.push(t)}))}},{key:"createToClientDispatch",value:function(e,t){var n=this;return(0,r.typedKeys)(e).reduce((function(r,a){var o=n;return r[a]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s,c,u=(s=e)[a].apply(s,ue(r));o.sync&&(c=t)[a].apply(c,ue(r));return u},r}),{})}},{key:"createFromClientDispenser",value:function(e){var t=this;return{subscribe:function(n){var r=e.subscribe(n),a=t.sync?t.fromFollowersDispenser.subscribe(n):null,o={subscription:r,handler:n,syncSubscription:a};return t.controlSubscriptions.push(o),{unsubscribe:function(){var e;r.unsubscribe(),null===(e=o.syncSubscription)||void 0===e||e.unsubscribe();var n=t.controlSubscriptions.indexOf(o);-1!==n&&t.controlSubscriptions.splice(n,1)}}}}}},{key:"createPublicDispatch",value:function(e){var t=this;return(0,r.typedKeys)(e).reduce((function(n,r){var a=t;return n[r]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i;return a.isInitialized()?(i=e)[r].apply(i,ue(n)):a.waitForInitialization().then((function(){var t;return(t=e)[r].apply(t,ue(n))}))},n}),{})}},{key:"createPublicDispenser",value:function(e){var t=this;return{subscribe:function(n){var r=!1,a=null;return t.isInitialized()?t.isDestroyed()||(a=e.subscribe(n)):t.waitForInitialization().then((function(){r||t.isDestroyed()||(a=e.subscribe(n))})),{unsubscribe:function(){r=!0,null==a||a.unsubscribe()}}}}}},{key:"start",value:function(){if(this.isInitialized())throw Error("`state.start()` can be set only once!");this.initialize(),this.initialized=!0,this.initializationCallbacks.forEach((function(e){try{e()}catch(t){f.bpLogger.error("StateFactory: exception during state initialization callback:",t)}})),this.initializationCallbacks.splice(0,this.initializationCallbacks.length)}},{key:"isInitialized",value:function(){return this.initialized}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"getStateData",value:function(){return this.stateData}},{key:"updateState",value:function(e){var n=this;if(this.destroyed)f.bpLogger.warn("You are trying to update data of destroyed connector ".concat(t));else{var a="function"==typeof e?e(this.stateData):e;if(a!==this.stateData){var o=this.stateData;this.stateData=ae({},this.stateData,a),this.onChangeOptimization.isMicrotaskScheduled?this.onChangeOptimization.combinedPayload=ae({},this.onChangeOptimization.combinedPayload,a):(this.onChangeOptimization={isMicrotaskScheduled:!0,originalStateData:o,combinedPayload:ae({},a)},_()((function(){(0,r.assertTrue)(n.onChangeOptimization.isMicrotaskScheduled);var e=n.onChangeOptimization,a=e.originalStateData,o=e.combinedPayload;n.onChangeOptimization={isMicrotaskScheduled:!1};var s=(0,r.typedKeys)(o).reduce((function(e,t){return(0,l.isEqual)(o[t],a[t])||(e[t]=o[t]),e}),{});if(n.toClientDispatch.onChange(s),i(c)){var u=(0,r.typedKeys)(s).reduce((function(e,t){var n;return(null===(n=c.persistentKeys)||void 0===n?void 0:n.includes(t))&&(e[t]=s[t]),e}),{});Object.keys(u).length&&(console.log("@@@PK Update ".concat(t," persistent data:"),u),n.localSettings.get("persistentStateKeys").then((function(e){e||(e={}),e[t]=ae({},e[t],u),n.localSettings.set("persistentStateKeys",e)})))}})))}}}},{key:"produceState",value:function(e){this.updateState(u()(e))}},{key:"enableSync",value:function(){var e=this;this.sync=!0,this.controlSubscriptions.forEach((function(t){t.syncSubscription||(t.syncSubscription=e.fromFollowersDispenser.subscribe(t.handler))}))}},{key:"disableSync",value:function(){this.sync=!1,this.controlSubscriptions.forEach((function(e){var t;null===(t=e.syncSubscription)||void 0===t||t.unsubscribe(),e.syncSubscription=null}))}},{key:"cleanup",value:function(){this.disableSync(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.splice(0,this.subscriptions.length),this.controlSubscriptions.splice(0,this.controlSubscriptions.length),this.stateData=d(),this.destroyed=!0}},{key:"resetState",value:function(){this.updateState(d()),this.toClientDispatch.onInitialState(this.stateData)}}]),m}(Q);return ne(m,"stateName",t),ne(m,"controlEvents",n),ne(m,"trackerEvents",a),ne(m,"dependencies",o),ne(m,"stateConfig",c),ne(m,"initialDataGetter",d),m}}]),e}()},87294:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FavoritesStateContextProvider:()=>o,useFavoritesState:()=>c,useFavoritesStateConnector:()=>d,useFavoritesStateMethods:()=>l,useFavoritesStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("FavoritesStateContextProvider"),o=a.FavoritesStateContextProvider,i=a.getContext,s=(0,r.createStateHooks)("favoritesState",i),c=s.useFavoritesState,u=s.useFavoritesStateRef,l=s.useFavoritesStateMethods,d=s.useFavoritesStateConnector},90567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertCustomFavoriteItem:()=>b,assertMultiMediaChannel:()=>S,countAvailableChannels:()=>w,favoritesStateControlEvents:()=>i,favoritesStateTrackerEvents:()=>o,getChannelValue:()=>I,getInitialFavoritesState:()=>r,isFavoritesContactItem:()=>c,isFavoritesCustomItem:()=>_,isFavoritesDirectoryEntryItem:()=>l,isFavoritesEmailChannel:()=>g,isFavoritesEmiItem:()=>d,isFavoritesInternalChannel:()=>v,isFavoritesMessengerChannel:()=>h,isFavoritesMultiMediaChannel:()=>y,isFavoritesPhoneChannel:()=>m,isFavoritesScenarioEntryItem:()=>p,isFavoritesStaticEntryItem:()=>f,isFavoritesUserItem:()=>u,similarChannel:()=>C});var r=function(){return{favoritesList:[],isLoading:!1,isLoaded:!1}},a=n(64245),o={onInitialState:(0,a.event)(),onChange:(0,a.event)(),onLimitReachedError:(0,a.event)()},i={getFavoritesList:(0,a.asyncEvent)(),createCustomFavoriteItem:(0,a.asyncEvent)(),updateCustomFavoriteItem:(0,a.event)(),toggleFavoriteChannel:(0,a.event)(),setFavoriteItemChannels:(0,a.event)(),deleteFavoritesItem:(0,a.event)()},s=n(26552);function c(e){return"contact"===e.type}function u(e){return"user"===e.type}function l(e){return"entry"===e.type}function d(e){return"EMI"===e.type}function _(e){return"custom"===e.type}function f(e){if(!l(e))return!1;if(void 0!==e.serviceId||e.huntGroupId)return!1;var t=e.channels[0];return t&&m(t)||g(t)}function p(e){if(!l(e))return!1;if(void 0===e.serviceId||e.serviceId===e.entryId)return!1;var t=e.channels[0];return t&&v(t)}function m(e){return"phone"===e.channelType}function g(e){return"email"===e.channelType}function h(e){return"messenger"===e.channelType}function v(e){return"internal"===e.channelType}function y(e){return m(e)||v(e)}function b(e){if((0,s.assertDefined)(e),!_(e))throw Error("favorites item is not custom favorites item")}function S(e){if(!m(e)&&!v(e))throw Error("favorites channel is not multi-media channel")}function C(e){return function(t){if(e.channelType!==t.channelType)return!1;switch(e.channelType){case"internal":return!t.number||!e.number||t.number===e.number;case"phone":return t.number===e.number;case"email":return t.email===e.email;case"messenger":return t.messengerType===e.messengerType&&t.userId===e.userId}}}function I(e){return v(e)&&e.number||m(e)?e.number:g(e)?e.email:h(e)?e.userId:e.channelType}function w(e){return e.reduce((function(e,t){return e+(y(t)?t.media.length:1)}),0)}},66954:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FavoritesStateImpl:()=>k});var r=n(2122),a=n(33976),o=n(27385),i=n(26220),s=n(97329),c=n(18189),u=n(40381),l=n(26552),d=n(68939),_=n(16152),f=n(41682),p=n(50944);function m(e,t){return(0,p.convertKVArray)(e).filter((function(e){return e.type===c.userDataTypes.FAVORITE})).map((function(e){return function(e,t,n){var r=function(e){switch(!0){case!!(e.user_id&&e.user_type&&e.photo_url&&e.owner_id):return"EMI";case!!e.contact_id:return"contact";case!!(e.static_entry_type||e.static_entry_id||e.entry_id):return"entry";case!!e.user_id:return"user";default:return"custom"}}(t),a=function(e,t){var n,r,a,o,s;if(null===(n=e.channels)||void 0===n?void 0:n.length)return e.channels.map((function(e){var n;return(0,l.withoutUndefinedKeys)({channelType:null!==(n=e.type)&&void 0!==n?n:"phone",number:e.number,numberId:e.number_id,numberType:e.number_type,media:"phone"===e.type||"internal"===e.type?e.media||["voice","chat"]:void 0,email:e.email,emailId:e.email_id,messengerType:e.messenger_type,userId:e.user_id,accountId:e.account_id,userName:e.user_name,hidden:e.hidden,hiddenMedia:"custom"!==t||"phone"!==e.type&&"internal"!==e.type?void 0:e.hidden_media||["voice","chat"]})}));if(null===(r=e.active_channels)||void 0===r?void 0:r.length)return e.active_channels.reduce((function(t,n){switch(n){case"number":if(!e.number){i.bpLogger.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}var r=t.filter(f.isFavoritesMultiMediaChannel).find((function(t){return t.number===e.number}));r?r.media.push("voice"):t.push({channelType:e.user_id?"internal":"phone",number:e.number,media:["voice"]});break;case"chat_number":if(!e.chat_number){i.bpLogger.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}var a=t.filter(f.isFavoritesMultiMediaChannel).find((function(t){return t.number===e.chat_number}));a?a.media.push("chat"):t.push({channelType:e.user_id?"internal":"phone",number:e.chat_number,media:["chat"]});break;case"email":if(!e.email){i.bpLogger.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}t.push({channelType:"email",email:e.email});break;case"messenger":if(!e.messenger){i.bpLogger.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}t.push({channelType:"messenger",messengerType:e.messenger.type,userId:e.messenger.userId,accountId:e.messenger.accountId,userName:e.messenger.userName})}return t}),[]);var c=[];null===(a=e.numbers)||void 0===a||a.forEach((function(t){c.push({channelType:e.user_id?"internal":"phone",number:t,media:["voice"]})})),null===(o=e.chat_numbers)||void 0===o||o.forEach((function(t){var n=c.filter(f.isFavoritesMultiMediaChannel).find((function(e){return e.number===t}));n?n.media.push("chat"):c.push({channelType:e.user_id?"internal":"phone",number:t,media:["chat"]})})),null===(s=e.emails)||void 0===s||s.forEach((function(e){c.push({channelType:"email",email:e})})),e.messenger&&c.push({channelType:"messenger",messengerType:e.messenger.type,userId:e.messenger.userId,accountId:e.messenger.accountId,userName:e.messenger.userName});if(e.user_type&&e.photo_url&&e.owner_id){var u;c.push({channelType:"internal",media:["chat"]}),Object.values(null!==(u=e.phones)&&void 0!==u?u:{}).forEach((function(e){c.push({channelType:"phone",number:e.phone,numberType:e.type,media:["voice"]})}))}e.number&&c.push({channelType:e.user_id?"internal":"phone",number:e.number,media:["voice","chat"]});if(e.chat_number){var d=c.filter(f.isFavoritesMultiMediaChannel).find((function(t){return t.number===e.chat_number}));d?d.media.push("chat"):c.push({channelType:e.user_id?"internal":"phone",number:e.chat_number,media:["chat"]})}e.email&&c.push({channelType:"email",email:e.email});return c}(t,r);if("custom"===r){a.length&&a.every((function(e){return(0,f.isFavoritesMultiMediaChannel)(e)?e.media.every((function(t){var n;return null===(n=e.hiddenMedia)||void 0===n?void 0:n.includes(t)})):e.hidden}))&&(delete a[0].hiddenMedia,delete a[0].hidden)}return(0,l.withoutUndefinedKeys)({id:e,type:r,firstName:t.first,lastName:t.last,displayName:t.name||(0,o.formatFullName)(n,t.first,t.last),channels:a,contactId:t.contact_id,contactData:void 0,userId:"user"===r?t.user_id:void 0,userDetails:void 0,entryId:t.entry_id||t.static_entry_id||("entry"===r?t.user_id:void 0),serviceId:t.service_id,huntGroupId:t.hunt_group_id,emiUserType:t.user_type,emiPhotoUrl:t.photo_url,emiOwnerId:t.owner_id,emiUserId:"EMI"===r?t.user_id:void 0})}(e.data_id,JSON.parse(e.value),t)}))}function g(e){var t,n,r=e.channels.filter(f.isFavoritesPhoneChannel),a=e.channels.find(f.isFavoritesInternalChannel),o=r.filter((function(e){return e.media.includes("voice")})),i=e.channels.find(f.isFavoritesEmailChannel),s=(0,f.isFavoritesEmiItem)(e)?Object.assign({},o.map((function(e){return{type:e.numberType,phone:e.number}}))):void 0;return(0,l.withoutUndefinedKeys)({first:e.firstName,last:e.lastName,name:e.firstName||e.lastName?void 0:e.displayName,user_id:e.userId||e.emiUserId||e.entryId,contact_id:e.contactId,entry_id:e.entryId,service_id:e.serviceId,hunt_group_id:e.huntGroupId,user_type:e.emiUserType,photo_url:e.emiPhotoUrl,owner_id:e.emiOwnerId,channels:h(e),phones:s,email:null==i?void 0:i.email,number:null!==(n=null===(t=r[0])||void 0===t?void 0:t.number)&&void 0!==n?n:null==a?void 0:a.number})}function h(e){return e.channels.map((function(t){return(0,l.withoutUndefinedKeys)({type:t.channelType,number:t.number,number_id:t.numberId,number_type:t.numberType,media:(0,f.isFavoritesMultiMediaChannel)(t)?t.media:void 0,email:t.email,email_id:t.emailId,hidden:!!t.hidden||void 0,hidden_media:(0,f.isFavoritesCustomItem)(e)&&(0,f.isFavoritesMultiMediaChannel)(t)?t.hiddenMedia:void 0,messenger_type:t.messengerType,user_id:t.userId,account_id:t.accountId,user_name:t.userName})}))}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,s,"next",e)}function s(e){y(o,r,a,i,s,"throw",e)}i(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},w(e,t,n||e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function D(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?v(e):t;var n}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}function R(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(h,e);var t,n,_,p=P(h);function h(){var e;S(this,h),I(v(e=p.apply(this,arguments)),"getAuthorizedSessionData",(function(){var t=e.sessionConnector.getStateData();return(0,s.assertAuthorizedSession)(t),t})),I(v(e),"formatName",(function(t,n){var r=e.getAuthorizedSessionData().displayNameFormat;return(0,o.formatFullName)(r,t,n)}));var t=v(e);I(v(e),"getFavoritesList",b((function(){var e,n,r,a,o,i;return R(this,(function(s){switch(s.label){case 0:return t.produceState((function(e){e.isLoading=!0,e.isLoaded=!1})),[4,t.transport.dispatch.agent_get_user_data({types:c.userDataTypes.FAVORITE})];case 1:return e=s.sent().data,n=t.getAuthorizedSessionData().displayNameFormat,r=m(e,n),[4,t.linkFavoriteItemsWithContactsData(r)];case 2:return a=s.sent(),[4,t.linkFavoriteItemsWithUserData(a)];case 3:return o=s.sent(),i=t.removeCustomFavoriteItems(o),t.produceState((function(e){e.favoritesList=i,e.isLoading=!1,e.isLoaded=!0})),[2,t.stateData.favoritesList]}}))})));var n,_=v(e);I(v(e),"linkFavoriteItemsWithContactsData",(n=b((function(e){var t,n,a,o;return R(this,(function(s){switch(s.label){case 0:t=e.reduce((function(e,t){var n=t.contactId;return n&&e.push(n),e}),[]),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,_.contactsStateConnector.dispatch.getContacts(t)];case 2:return n=s.sent(),[3,4];case 3:return a=s.sent(),i.bpLogger.error("@FV: getContacts error:",a),[3,4];case 4:return n?(o=(0,r.keyBy)(n,"Id.oid"),[2,e.reduce((function(e,t){try{if(!(0,f.isFavoritesContactItem)(t))return e.push(t),e;var n=o[t.contactId];if(!n)return i.bpLogger.info("@FV contact associated with favorites item not found - remove it:",t),_.transport.dispatch.agent_delete_user_data({data_id:t.id,is_system:"0"}),e;var r=_.updateItemWithContactData(t,n);r.channels.length?e.push(r):(i.bpLogger.info("@FV all channels in this favorites item are no more valid ","for the associated contact - delete this item from favorites:",t),_.transport.dispatch.agent_delete_user_data({data_id:t.id,is_system:"0"}))}catch(a){i.bpLogger.warn("@FV error while updating favorite item with contact data - skip this favorite item:",t,"Error is:",a)}return e}),[])]):(i.bpLogger.warn("@FV: getContacts method return no data - unable to sync favorites with contacts"),[2,e])}}))})),function(e){return n.apply(this,arguments)}));var y=v(e);I(v(e),"linkFavoriteItemsWithUserData",function(){var e=b((function(e){var t,n;return R(this,(function(r){switch(r.label){case 0:return t=e.reduce((function(e,t){var n=t.userId;return n&&e.push(n),e}),[]),[4,y.userDetailsConnector.dispatch.getUserDetailsOnce({type:"FAVORITE",userIds:t})];case 1:return n=r.sent(),[2,e.reduce((function(e,t){try{if(!(0,f.isFavoritesUserItem)(t))return e.push(t),e;var r=n.find((function(e){return e.userId===t.userId}));if(!r)return y.transport.dispatch.agent_delete_user_data({data_id:t.id,is_system:"0"}),e;var a=y.updateItemWithUserData(t,r);e.push(a)}catch(o){i.bpLogger.warn("@FV error while updating favorite item with user data - skip this favorite item:",t,"Error is:",o)}return e}),[])]}}))}));return function(t){return e.apply(this,arguments)}}()),I(v(e),"removeCustomFavoriteItems",(function(e){return e.filter((0,u.not)(f.isFavoritesCustomItem))})),I(v(e),"deleteFavoritesItem",(function(t){var n=t.id;n?e.stateData.favoritesList.find((function(e){return e.id===n}))?(e.produceState((function(e){var t=e.favoritesList.findIndex((function(e){return e.id===n}));-1!==t&&e.favoritesList.splice(t,1)})),e.transport.dispatch.agent_delete_user_data({data_id:n,is_system:"0"})):i.bpLogger.warn("@FV delete favorite: item not found:",n):i.bpLogger.warn("@FV attempt to delete favorite item with empty ID")})),I(v(e),"deleteEmiFavorites",(function(t){var n=t.emiType,r=t.newAccountId,o=e.stateData.favoritesList.reduce((function(e,t){return(0,f.isFavoritesEmiItem)(t)&&(0,a.emiUserTypes)(n).includes(t.emiUserType)&&t.emiOwnerId!==r&&e.push(t.id),e}),[]);o.length&&(o.forEach((function(t){e.transport.dispatch.agent_delete_user_data({data_id:t,is_system:"0"})})),e.produceState((function(e){e.favoritesList=e.favoritesList.filter((function(e){return!o.includes(e.id)}))})))}));var C=v(e);return I(v(e),"createFavoriteItem",function(){var e=b((function(e){var t,n,r,o,s,u,_,f,p,h,v,y;return R(this,(function(b){switch(b.label){case 0:return C.stateData.favoritesList.length+1>50?(i.bpLogger.info("@FV createFavoriteItem: cannot add more favorite items - limit is reached"),C.toClientDispatch.onLimitReachedError(),[2,null]):e.channels.length?(t=(0,d.uuid)(),n=O({id:t,displayName:C.formatName(e.firstName,e.lastName)},e),"EMI"===e.type&&(r=C.sessionConnector.getStateData(),n.emiOwnerId=(0,a.getEmiOwnerId)(r,n.emiUserType)),"contact"===e.type&&(o=C.contactsStateConnector.getStateData().contacts,(0,l.assertDefined)(e.contactId),n.contactData=null!==(s=o[e.contactId].data)&&void 0!==s?s:void 0),"user"===e.type&&(_=C.userDetailsConnector.getStateData().userDetails,(0,l.assertDefined)(e.userId),n.userDetails=null===(u=_[e.userId])||void 0===u?void 0:u.data),C.produceState((function(e){e.favoritesList.push(n)})),f=g(n),C.transport.dispatch.agent_add_user_data({data_id:t,is_system:"0",type:c.userDataTypes.FAVORITE,value:JSON.stringify(f)}),[4,C.transport.dispatch.agent_get_user_data({types:c.userDataTypes.FAVORITE})]):(i.bpLogger.warn("@FV createFavoriteItem: invalid item without channels:",e),[2,null]);case 1:return p=b.sent().data,h=C.getAuthorizedSessionData().displayNameFormat,v=m(p,h),(y=v.find((function(e){return e.id===t})))?[2,y]:(C.produceState((function(e){var n=e.favoritesList.findIndex((function(e){return e.id===t}));-1!==n&&e.favoritesList.splice(n,1)})),i.bpLogger.warn("@FV createFavoriteItem - server does not return new item"),[2,Promise.reject("Item not found")])}}))}));return function(t){return e.apply(this,arguments)}}()),I(v(e),"toggleFavoriteChannel",(function(t){var n=t.id,r=t.itemData,a=t.channel,o=t.media,s=o?T(O({},a),{media:[o]}):a;if(n){var c=e.stateData.favoritesList.find((function(e){return e.id===n}));if(c){e.produceState((function(e){var t=e.favoritesList.find((function(e){return e.id===n}));(0,l.assertDefined)(t);var r=t.channels.findIndex((0,f.similarChannel)(a));if(-1===r)t.channels.push(s);else if(o){var i=t.channels[r];(0,f.assertMultiMediaChannel)(i);var c=i.media.indexOf(o);-1===c?i.media.push(o):i.media.splice(c,1),i.media.length||t.channels.splice(r,1)}else t.channels.splice(r,1)}));var u=e.stateData.favoritesList.find((function(e){return e.id===n}));if((0,l.assertDefined)(u),u.channels.length){var d=g(u);e.transport.dispatch.agent_update_user_data({data_id:n,is_system:"0",value:JSON.stringify(d)})}else e.deleteFavoritesItem({id:c.id})}else i.bpLogger.warn("@FV setFavoriteItemChannels: item not found")}else e.createFavoriteItem(T(O({},r),{channels:[s]}))})),I(v(e),"onContactChanged",(function(t){e.produceState((function(n){n.favoritesList=n.favoritesList.map((function(n){return n.contactId!==t.Id.oid?n:e.updateItemWithContactData(n,t)}))}))})),I(v(e),"onContactDeleted",(function(t){e.produceState((function(n){n.favoritesList=n.favoritesList.reduce((function(n,r){return r.contactId===t?e.transport.dispatch.agent_delete_user_data({data_id:r.id,is_system:"0"}):n.push(r),n}),[])}))})),I(v(e),"updateItemWithContactData",(function(t,n){if(t.contactId!==n.Id.oid)return t;var r=t.channels.reduce((function(e,t){switch(t.channelType){case"phone":var r,a,o=void 0;if(t.numberId)o=null===(r=n.nonEmptyPhones)||void 0===r?void 0:r.find((function(e){return e.id===t.numberId}));else o=null===(a=n.nonEmptyPhones)||void 0===a?void 0:a.find((function(e){return e.phone===t.number}));o&&e.push({channelType:t.channelType,number:o.phone,numberId:o.id,numberType:o.type,media:t.media});break;case"email":var i,s,c=void 0;if(t.emailId)c=null===(i=n.emails)||void 0===i?void 0:i.find((function(e){return e.id===t.emailId}));else c=null===(s=n.emails)||void 0===s?void 0:s.find((function(e){return e.emailAddress===t.email}));c&&e.push({channelType:"email",email:c.emailAddress,emailId:c.id});break;case"messenger":var u,l,d=null===(u=n.messengers)||void 0===u?void 0:u.find((function(e){return e.type===t.messengerType&&e.userId===t.userId}));if(d)e.push({channelType:"messenger",messengerType:d.type,userId:d.userId,accountId:null!==(l=d.accountId)&&void 0!==l?l:"",userName:d.userName})}return e}),[]);return T(O({},t),{contactData:n,channels:r,firstName:n.firstName,lastName:n.lastName,displayName:e.formatName(n.firstName,n.lastName)})})),I(v(e),"updateItemWithUserData",(function(t,n){if(t.userId!==n.userId)return t;var r=t.channels.reduce((function(e,t){return(0,f.isFavoritesInternalChannel)(t)&&e.push({channelType:"internal",number:n.extension,media:t.media}),(0,f.isFavoritesPhoneChannel)(t),(0,f.isFavoritesEmailChannel)(t)&&e.push({channelType:"email",email:n.email}),e}),[]);return T(O({},t),{userDetails:n,channels:r,firstName:n.firstName,lastName:n.lastName,displayName:e.formatName(n.firstName,n.lastName)})})),e}return t=h,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getFavoritesList:this.getFavoritesList,toggleFavoriteChannel:this.toggleFavoriteChannel}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.getFavoritesList()},onLogin:function(){e.getFavoritesList()},onEmiAccountChanged:function(t){var n=t.emiType,r=t.newAccount;e.deleteEmiFavorites({emiType:n,newAccountId:r})}}),this.contactsStateConnector.dispenser.subscribe({onContactChanged:this.onContactChanged,onContactDeleted:this.onContactDeleted}))}},{key:"cleanup",value:function(){w(E(h.prototype),"cleanup",this).call(this)}},{key:"resetState",value:function(){w(E(h.prototype),"resetState",this).call(this)}}])&&C(t.prototype,n),_&&C(t,_),h}(_.StateFactory.createBaseStateClass({name:"favoritesState",controlEvents:f.favoritesStateControlEvents,trackerEvents:f.favoritesStateTrackerEvents,options:{synchronized:!0,authorized:!0},getInitialState:f.getInitialFavoritesState,dependencies:["transport","sessionConnector","contactsStateConnector","userDetailsConnector"]}))},76786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GroupChatContextProvider:()=>i,getContext:()=>o,useGroupChatState:()=>c,useGroupChatStateConnector:()=>d,useGroupChatStateMethods:()=>l,useGroupChatStateRef:()=>u,useGroupChatTotalUnread:()=>p,useIsMultiuserGroupChat:()=>h,useLastGroupChatMessage:()=>g,useUnreadGroupChatsQuantity:()=>m});var r=n(13641),a=(0,r.createStateContextProvider)("GroupChatContextProvider"),o=a.getContext,i=a.GroupChatContextProvider,s=(0,r.createStateHooks)("groupChatState",o),c=s.useGroupChatState,u=s.useGroupChatStateRef,l=s.useGroupChatStateMethods,d=s.useGroupChatStateConnector,_=n(2122),f=n(38756),p=function(e){var t=c("items");return(0,_.reduce)(t,(function(t,n){return t+(e(n)&&n.unreadCount||0)}),0)},m=function(){var e=c("items");return(0,_.reduce)(e,(function(e,t){return t.muted||t.hidden?e:e+t.unreadCount&&1}),0)};function g(e){var t=c("items")[e];if(!t.messages.length)return null;var n=(0,_.findLastIndex)(t.messages,(function(e){return"system"!==e.type}));if(-1===n)return null;var r=t.messages[n];return(0,f.assertGroupChatMessage)(r),r}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=c((function(t){var n;return null===(n=t.items[e])||void 0===n?void 0:n.members}));return t&&t.length>2}},88288:(e,t,n)=>{"use strict";function r(e){if(!e||"system"===e.type)throw Error("Object is not a GroupChatMessage")}function a(e){return"message"===e.type}n.r(t),n.d(t,{assertGroupChatMessage:()=>r,isRegularMessage:()=>a})},19733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GroupChatUIProvider:()=>u,autoFocusAtom:()=>a,chatScopeAtom:()=>o,getContext:()=>l,scrollerApiAtom:()=>i,useGroupChatItem:()=>S,useGroupChatUIParams:()=>C,useGroupChatUIState:()=>_,useGroupChatUIStateConnector:()=>m,useGroupChatUIStateMethods:()=>p,useGroupChatUIStateRef:()=>f,useMessageParams:()=>I,useRemoveMemberFromGroupChat:()=>T,useResetGroupChat:()=>D,useSetMessageParams:()=>O,useSetupGroupChatById:()=>w,useSetupGroupChatByMembers:()=>E});var r=n(27005),a=(0,r.atom)(!0),o=(0,r.atom)("chatCenter"),i=(0,r.atom)({scrollToMessage:function(){},scrollToBottom:function(){}}),s=n(13641),c=(0,s.createStateContextProvider)("GroupChatUIProvider"),u=c.GroupChatUIProvider,l=c.getContext,d=(0,s.createStateHooks)("groupChatUIState",l),_=d.useGroupChatUIState,f=d.useGroupChatUIStateRef,p=d.useGroupChatUIStateMethods,m=d.useGroupChatUIStateConnector,g=n(66029),h=n(74130),v=n(41687),y={groupChatMembers:[]},b={};function S(){var e=C().groupChatId;return(0,h.useGroupChatState)((function(t){var n=t.items;return e?n[e]:void 0}))}function C(){var e=(0,r.useAtomValue)(o);return _((function(t){return t.scopeMap[e]}))||y}function I(){var e=(0,r.useAtomValue)(o),t=C(),n=v.a.getMessageParamsId(e,t);return _((function(e){return e.messageParams[n]}))||b}function w(){var e=(0,r.useAtomValue)(o),t=p().setupGroupChatById;return(0,g.useCallback)((function(n){t(e,n)}),[t,e])}function E(){var e=(0,r.useAtomValue)(o),t=p().setupGroupChatByMembers;return(0,g.useCallback)((function(n){t(e,n)}),[t,e])}function O(){var e=(0,r.useAtomValue)(o),t=p().setMessageParams;return(0,g.useCallback)((function(n){t(e,n)}),[e,t])}function T(){var e=(0,r.useAtomValue)(o),t=p().removeMemeberFromChat;return(0,g.useCallback)((function(n){t(e,n)}),[e,t])}function D(){var e=(0,r.useAtomValue)(o),t=p().resetGroupChat;return(0,g.useCallback)((function(){t(e)}),[e,t])}Object.freeze(y),Object.freeze(b)},41687:(e,t,n)=>{"use strict";n.d(t,{a:()=>_});var r=n(2122),a=n(52388),o=n(26552);function i(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function d(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,n=[{key:"findGroupChatByInteraction",value:function(e){if(e.groupChatId)return this.groupChatConnector.getStateData().items[e.groupChatId];var t=this.getMembersFromInteraction(e);return t?this.findGroupChatItemByMembers(t):void 0}},{key:"findGroupChatItemByMembers",value:function(t){var n=this.groupChatConnector.getStateData().items;return Object.values(n).find((function(n){return e.isMembersMatch(t,n.members)}))}},{key:"findInteraction",value:function(e){var t=this.interactionStateConnector.getStateData().items.find((function(t){return t.id===e}));return(0,o.assertDefined)(t),t}},{key:"findInteractionByGroupChatParams",value:function(t){var n=this;return this.interactionStateConnector.getStateData().items.find((function(r){if(t.groupChatId)return r.groupChatId===t.groupChatId;var a=n.utilsNS.getMembersFromInteraction(r);return t.groupChatMembers&&a?e.isMembersMatch(t.groupChatMembers,a):void 0}))}},{key:"getMembersFromInteraction",value:function(e){if(e.groupChatMembers)return e.groupChatMembers;if(e.userId){var t=this.sessionConnector.getStateData();return[{id:t.userId,firstName:t.firstName,lastName:t.lastName},{id:e.userId,firstName:e.displayData.firstName,lastName:e.displayData.lastName}]}}},{key:"replacePotentialInteraction",value:function(e){var t,n=this;return(t=function(){var t,r,o,i,s;return d(this,(function(c){switch(c.label){case 0:return t=n.groupChatConnector.getStateData().items[e],r=t.members,o=n.utilsNS.findInteractionByGroupChatParams({groupChatId:e,groupChatMembers:r}),(0,a.isPotentialInteraction)(o)?[4,n.interactionStateConnector.dispatch.openInternalChat({direction:o.direction||"outbound",displayName:t.title,groupChatId:t.chatId})]:[2];case 1:return i=c.sent(),s=o.id,n.interactionStateConnector.dispatch.completeItem(s),[2,{newInteractionId:i,oldInteractionId:s}]}}))},function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))})()}},{key:"setGroupChatParamsToInteraction",value:function(e,t){this.interactionStateConnector.dispatch.setGroupChat(e,t)}},{key:"updateGroupChatId",value:function(t,n){var r=this.groupChatConnector.getStateData().items[n];this.produceState((function(a){a.scopeMap[t]=l(u({},a.scopeMap[t]),{groupChatId:n,groupChatMembers:r?e.clearExtraKeysInMembes(r.members):[]})}))}},{key:"updateInteractionId",value:function(t,n){var r=this.utilsNS.findInteraction(n),a=this.utilsNS.getMembersFromInteraction(r)||[];this.produceState((function(r){r.scopeMap[t]=l(u({},r.scopeMap[t]),{interactionId:n,groupChatMembers:a});var i=!0,s=!1,c=void 0;try{for(var d,_=(0,o.typedKeys)(r.scopeMap)[Symbol.iterator]();!(i=(d=_.next()).done);i=!0){var f=d.value,p=r.scopeMap[f];if(f===t||!p||!p.groupChatMembers)return;e.isMembersMatch(p.groupChatMembers,a)&&(p.interactionId=n)}}catch(m){s=!0,c=m}finally{try{i||null==_.return||_.return()}finally{if(s)throw c}}}))}},{key:"updateMembers",value:function(t,n){this.produceState((function(r){r.scopeMap[t]=l(u({},r.scopeMap[t]),{groupChatMembers:e.clearExtraKeysInMembes(n)})}))}}],c=[{key:"getMessageParamsId",value:function(e,t){return t.groupChatId?t.groupChatId:t.interactionId?"potential_".concat(t.interactionId):"potential_".concat(e)}},{key:"isMembersMatch",value:function(e,t){return(e.length===t.length?(0,r.intersection)(e.map((function(e){return e.id})),t.map((function(e){return e.id}))):[]).length===e.length}},{key:"clearExtraKeysInMembes",value:function(e){return e.map((function(e){return(0,r.pick)(e,["firstName","id","lastName"])}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()},88951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GroupChatConvertors:()=>f,GroupChatState:()=>ee,groupChatControlEvents:()=>o,groupChatTrackerEvents:()=>a});var r=n(64245),a={onChange:(0,r.event)(),onChatListReceived:(0,r.event)(),onCreateGroupChat:(0,r.event)(),onHideGroupChat:(0,r.event)(),onInitialState:(0,r.event)(),onOutgoingMessage:(0,r.event)(),onRemoveGroupChat:(0,r.event)(),onRemoveUnreadCount:(0,r.event)(),onSystemMessage:(0,r.event)(),onUnreadMessage:(0,r.event)(),onMessage:(0,r.event)()},o={createGroupChat:(0,r.asyncEvent)(),deleteMessage:(0,r.event)(),getChatDisplayName:(0,r.asyncEvent)(),getChatHistory:(0,r.event)(),getChatLastMessage:(0,r.asyncEvent)(),hideGroupChat:(0,r.event)(),inviteToChat:(0,r.event)(),markChatAsDelivered:(0,r.event)(),markChatAsRead:(0,r.event)(),markMessageAsDelivered:(0,r.event)(),markMessageAsRead:(0,r.event)(),openGroupChat:(0,r.event)(),pinMessage:(0,r.event)(),reactOnMessage:(0,r.event)(),removeFromChat:(0,r.event)(),removeGroupChat:(0,r.event)(),removeReactionOnMessage:(0,r.event)(),renameGroupChat:(0,r.event)(),restoreDeletedMessage:(0,r.event)(),sendMessage:(0,r.event)(),toggleMuteChat:(0,r.event)(),togglePinChat:(0,r.event)(),unpinMessage:(0,r.event)(),updateMessage:(0,r.event)()},i=n(26220),s=n(40381),c=n(16152),u=n(27385),l=n(50944),d=n(26552);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"incomingChatInfoToChatItem",value:function(t){var n=Object.values(t.members).map(e.incomingMemberToChatUser);return{chatId:t.conv_id,createdByFirstName:t.created_by_firstname,createdByLastName:t.created_by_lastname,createdByLoginId:t.created_by_login_id,createdByUserId:t.created_by_user_id,disabled:!1,firstUndeliveredTimestamp:(0,s.unixTimestampToTimestamp)(t.undelivered_first_ts),firstUnreadTimestamp:(0,s.unixTimestampToTimestamp)(t.unread_first_ts),hidden:!1,members:n,messages:[],muted:!1,pinned:!1,pinnedMessages:[],title:t.name,type:"GROUP",undeliveredCount:(0,s.unstringifyNumber)(t.undelivered_count,0),unreadMessages:[],unreadCount:(0,s.unstringifyNumber)(t.unread_count,0)}}},{key:"incomingHistoryToChatMessages",value:function(e,t){return Object.values(e.messages).map((function(e){var n,r;return{content:e.content,direction:e.from_user_id===t?"out":"in",firstName:e.from_firstname,fromUserId:e.from_user_id,isDeleted:!1,isDelivered:Boolean(null===(n=e.receipts[t])||void 0===n?void 0:n.delivered),isRead:Boolean(null===(r=e.receipts[t])||void 0===r?void 0:r.read),isUrgent:e.is_urgent&&(0,l.transportToBoolean)(e.is_urgent),lastName:e.from_lastname,loginId:e.from_login_id,messageId:e.message_id,reactions:[],sendTime:(0,s.unixTimestampToTimestamp)(e.ts),type:"message",userId:e.from_user_id}}))}},{key:"incomingMessageToChatMessage",value:function(e,t){return{content:e.content,direction:e.from_user_id===t?"out":"in",fromUserId:e.from_user_id,isDeleted:!1,isDelivered:!0,isUrgent:e.is_urgent&&(0,l.transportToBoolean)(e.is_urgent),messageId:e.message_id,reactions:[],sendTime:(0,s.unixTimestampToTimestamp)(e.ts),type:"message",userId:e.from_user_id}}},{key:"incomingMemberToChatUser",value:function(e){var t={id:e.user_id,firstName:e.firstname,lastName:e.lastname,login:e.login_id};return"created_ts"in e&&(t.invitationTimestamp=(0,s.unixTimestampToTimestamp)(e.created_ts)),t}}],(n=null)&&_(t.prototype,n),r&&_(t,r),e}(),p=n(38756);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,s,"next",e)}function s(e){h(o,r,a,i,s,"throw",e)}i(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var S=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="pendingChatHistory")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,n=[{key:"getGroupChatUserId",value:function(e){var t=this.sessionConnector.getStateData().userId,n=this.stateData.items[e].members.map((function(e){return e.id})).filter((function(e){return e!==t}));if(1===n.length)return n[0]}},{key:"getChatDisplayName",value:function(e){var t=this.localizationConnector.getStateData().t.CHAT_CENTER,n=this.sessionConnector.getStateData(),r=n.displayNameFormat,a=n.userId,o=e.filter((function(e){return e.id!==a})).sort((function(e,t){return e.firstName.toLowerCase().localeCompare(t.firstName.toLowerCase())}));if(!o.length)return t.chat_empty_title();if(1===o.length){var i=o[0],s=i.firstName,c=i.lastName;return(0,u.formatFullName)(r,s,c)}return 2===o.length?t.chat_2_members_title(o[0].firstName,o[1].firstName):t.chat_many_members_title(o[0].firstName,o[1].firstName,String(o.length-2))}},{key:"unhideGroupChat",value:function(e){this.stateData.items[e].hidden&&this.produceState((function(t){t.items[e].hidden=!1}))}},{key:"createGroupChatInteraction",value:function(e,t){var n=this.stateData.items[e];this.interactionStateConnector.getStateData().items.find((function(t){return t.groupChatId===e}))||this.interactionStateConnector.dispatch.openInternalChat({groupChatId:e,direction:t,displayName:n.title,userId:this.getGroupChatUserId(e)})}},{key:"onChatInfo",value:function(e){var t=f.incomingChatInfoToChatItem(e);t.title=t.title||this.getChatDisplayName(t.members);var n=t.chatId;this.pendingChatHistory[n]?(t.messages=this.pendingChatHistory[n],delete this.pendingChatHistory[n]):this.getChatHistory(n,1e3),this.produceState((function(e){e.items[n]=t})),this.unreadNS.updateUnread(n,t.messages)}},{key:"onChatList",value:function(e){this.produceState((function(e){e.items={}}));var t=!0,n=!1,r=void 0;try{for(var a,o=Object.values(e.conversations)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;this.onChatInfo(i)}}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.produceState((function(e){e.chatListReceived=!0})),this.toClientDispatch.onChatListReceived(this.stateData.items)}},{key:"onRemoved",value:function(e){var t=e.conv_id;this.produceState((function(e){delete e.items[t]})),this.systemMessageNS.chatRemoved(t),this.toClientDispatch.onRemoveGroupChat(t)}},{key:"onTitleUpdated",value:function(e){var t=e.conv_id,n=e.name,r=this.stateData.items[t];r&&r.title!==n&&(this.produceState((function(e){e.items[t].title=n})),this.systemMessageNS.titleUpdated(t,n))}},{key:"createGroupChat",value:function(e){var t=e.name,n=void 0===t?"":t,r=e.userIds,a=this;return v((function(){var e,t;function o(){return i.apply(this,arguments)}function i(){return(i=v((function(){var e;return b(this,(function(t){switch(t.label){case 0:return[4,this.transport.dispatch.agent_im_conv_create({name:n,type:"group"})];case 1:return e=t.sent().conv_id,[4,this.loadChatInfo(e)];case 2:return t.sent(),[2,e]}}))}))).apply(this,arguments)}function s(){return c.apply(this,arguments)}function c(){return(c=v((function(){var t;return b(this,(function(n){switch(n.label){case 0:return[4,this.transport.dispatch.agent_im_conv_add_members({conv_id:e,users:(0,l.toKVArray)(r)})];case 1:return t=n.sent().users,[2,Object.values(t).map(f.incomingMemberToChatUser)]}}))}))).apply(this,arguments)}return b(this,(function(n){switch(n.label){case 0:return[4,o.call(a)];case 1:return e=n.sent(),[4,s.call(a)];case 2:return t=n.sent(),a.produceState((function(n){n.items[e].title=a.getChatDisplayName(t)})),a.systemMessageNS.chatCreated(e,t),a.toClientDispatch.onCreateGroupChat(e),[2,e]}}))}))()}},{key:"getChatHistory",value:function(e,t){var n=this;return v((function(){var r,a,o,i,c,u;return b(this,(function(l){switch(l.label){case 0:return[4,n.transport.dispatch.agent_im_conv_get_history({conv_id:e,start_time:String((0,s.cutMilliseconds)(t))})];case 1:return r=l.sent(),a=n.sessionConnector.getStateData(),o=a.userId,(0,d.assertDefined)(o),i=f.incomingHistoryToChatMessages(r,o),(c=n.stateData.items[e])?(u=function(e,t){var n=new Map,r=new Map,a=!0,o=!1,i=void 0;try{for(var s,c=g(e).concat(g(t))[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=l(s.value);n.set(u.messageId,u),r.set(u.sendTime,u)}}catch(d){o=!0,i=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return Array.from(r.keys()).sort().map((function(e){return r.get(e)}));function l(e){var t=n.get(e.messageId);return t?(n.delete(t.messageId),r.delete(t.sendTime),e.sendTime!==t.sendTime?e.sendTime>t.sendTime?e:t:(0,p.isRegularMessage)(t)&&(0,p.isRegularMessage)(e)&&t.content===e.content&&t.isRead?t:e):e}}(c.messages,i),n.produceState((function(t){t.items[e].messages=u})),n.unreadNS.updateUnread(e,u),[2]):(n.pendingChatHistory[e]=i,[2])}}))}))()}},{key:"loadChatInfo",value:function(e){var t=this;return v((function(){return b(this,(function(n){switch(n.label){case 0:return[4,t.transport.dispatch.agent_im_conv_get_info({conv_id:e})];case 1:return n.sent(),[2]}}))}))()}},{key:"hideGroupChat",value:function(e){this.stateData.items[e].hidden||(this.produceState((function(t){t.items[e].hidden=!0})),this.toClientDispatch.onHideGroupChat(e))}},{key:"markAsDelivered",value:function(e){this.transport.dispatch.agent_im_conv_mark_delivered({conv_id:e}),this.produceState((function(t){var n=t.items[e];n&&(n.firstUndeliveredTimestamp=void 0,n.undeliveredCount=0)}))}},{key:"markChatAsRead",value:function(e){this.transport.dispatch.agent_im_conv_mark_read({conv_id:e}),this.produceState((function(t){var n=t.items[e];n&&(n.firstUnreadTimestamp=void 0,n.unreadCount=0,n.unreadMessages=[])}))}},{key:"markAsVisible",value:function(e){this.stateData.items[e].hidden&&this.produceState((function(t){t.items[e].hidden=!1}))}},{key:"removeGroupChat",value:function(e){this.produceState((function(t){delete t.items[e]})),this.transport.dispatch.agent_im_conv_delete({conv_id:e}),this.toClientDispatch.onRemoveGroupChat(e)}},{key:"renameGroupChat",value:function(e,t){var n=this.stateData.items[e];n&&n.title!==t&&(this.produceState((function(n){n.items[e].title=t})),this.transport.dispatch.agent_im_conv_update({conv_id:e,name:t}))}},{key:"toggleMute",value:function(e){this.stateData.items[e]&&this.produceState((function(t){var n=t.items[e];n.muted=!n.muted}))}},{key:"togglePin",value:function(e){this.stateData.items[e]&&this.produceState((function(t){var n=t.items[e];n.pinned=!n.pinned}))}},{key:"reset",value:function(){this.pendingChatHistory={}}}],n&&y(t.prototype,n),r&&y(t,r),e}(),C=n(97329);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"removeMembers",value:function(e,t){if(!this.stateData.items[e]){var n=this.sessionConnector.getStateData().userId;(0,d.assertDefined)(n);var r=t.includes(n);this.produceState((function(n){var a=n.items[e];a.members.filter((function(e){var n=e.id;return!t.includes(n)})),r&&(a.disabled=!0)})),r?this.systemMessageNS.selfMemberRemoved(e):this.systemMessageNS.membersRemoved(e,t)}}},{key:"onMembersAdded",value:function(e){var t,n=e.conv_id,r=e.users,a=this;return(t=function(){var e,t,o,i;return T(this,(function(s){switch(s.label){case 0:return e=Object.values(r),t=a.sessionConnector.getStateData(),o=t.userId,i=a.stateData.items[n],!e.find((function(e){return e.user_id===o}))||i?[3,2]:[4,a.groupChatNS.loadChatInfo(n)];case 1:return s.sent(),[3,3];case 2:a.produceState((function(t){var r,a=e.map(f.incomingMemberToChatUser);(r=t.items[n].members).push.apply(r,O(a))})),s.label=3;case 3:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){w(o,r,a,i,s,"next",e)}function s(e){w(o,r,a,i,s,"throw",e)}i(void 0)}))})()}},{key:"onMemberRemoved",value:function(e){var t=e.conv_id,n=e.user_id;this.removeMembers(t,[n])}},{key:"onSeveralMembersRemoved",value:function(e){var t=e.conv_id,n=e.users;this.removeMembers(t,Object.values(n))}},{key:"inviteToChat",value:function(e){var t=e.chatId,n=e.userIds;e.shareHistory,this.transport.dispatch.agent_im_conv_add_members({conv_id:t,users:(0,l.toKVArray)(n)})}},{key:"removeFromChat",value:function(e){var t=e.chatId,n=e.userIds;this.transport.dispatch.agent_im_conv_delete_members({conv_id:t,users:(0,l.toKVArray)(n)});var r=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(r);var a=n.includes(r.userId);this.stateData.items[t]&&a&&this.produceState((function(e){e.items[t].disabled=!0}))}}],n&&E(t.prototype,n),r&&E(t,r),e}(),A=n(63830),P=n.n(A),R=n(68939);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,s,"next",e)}function s(e){N(o,r,a,i,s,"throw",e)}i(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"findMessage",value:function(e){var t=this,n=e.chatId,r=e.messageId,a=this.stateData.items[n],o=null==a?void 0:a.messages.findIndex((function(e){return"system"!==e.type&&e.messageId===r}));if(-1===o)return[!1];var i=a.messages[o];return(0,p.assertGroupChatMessage)(i),[!0,i,function(e){t.produceState((function(t){var r=t.items[n].messages[o];(0,p.assertGroupChatMessage)(r),t.items[n].messages[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},i,e)}))}]}},{key:"onMessage",value:function(e){var t=e.conv_id,n=this.sessionConnector.getStateData().userId,r=f.incomingMessageToChatMessage(e,n),a=r.direction,o=r.messageId;this.markMessageAsDelivered({chatId:t,messageId:o}),this.appendItemMessage(t,r),"out"===a?this.markMessageAsRead({chatId:t,messageId:o}):(this.groupChatNS.createGroupChatInteraction(t,"inbound"),this.groupChatNS.unhideGroupChat(t),this.unreadNS.addUnread(t,r),this.toClientDispatch.onUnreadMessage(t,r)),this.toClientDispatch.onMessage(t,r)}},{key:"deleteMessage",value:function(e){var t=e.chatId,n=e.messageId,r=L(this.findMessage({chatId:t,messageId:n}),3),a=r[0],o=r[1],i=r[2],s=this.sessionConnector.getStateData().userId;if(a){if(o.isDeleted)return void this.logger.warn("Trying to delete already deleted message, chat = ".concat(t,", message = ").concat(n));if(o.userId!==s)return void this.logger.warn("Cannot delete messages of other users, chat = ".concat(t,", message = ").concat(n));i({isDeleted:!0})}}},{key:"getChatLastMessage",value:function(e){var t=e.chatId,n=e.startTime,r=void 0===n?1e3:n,a=this;return M((function(){var e,n;return K(this,(function(o){switch(o.label){case 0:return[4,a.transport.dispatch.agent_im_conv_get_history({conv_id:t,start_time:String((0,s.cutMilliseconds)(r)),last_message:!0})];case 1:return e=o.sent(),n=a.sessionConnector.getStateData().userId,(0,d.assertDefined)(n),[2,L(f.incomingHistoryToChatMessages(e,n),1)[0]]}}))}))()}},{key:"markMessageAsDelivered",value:function(e){var t=e.chatId,n=e.messageId;this.transport.dispatch.agent_im_conv_message_delivered({conv_id:t,message_id:n})}},{key:"markMessageAsRead",value:function(e){var t=e.chatId,n=e.messageId;this.transport.dispatch.agent_im_conv_message_read({conv_id:t,message_id:n}),this.unreadNS.removeUnread(t,n)}},{key:"pinMessage",value:function(e){var t=e.chatId,n=e.messageId,r=this.stateData.items[t];if(!(null==r?void 0:r.pinnedMessages.some((function(e){return e.messageId===n})))){var a=L(this.findMessage({chatId:t,messageId:n}),2),o=a[0],i=a[1];o&&this.produceState((function(e){e.items[t].pinnedMessages.push({messageId:i.messageId,content:i.content,sendTime:i.sendTime,userId:i.userId})}))}}},{key:"reactOnMessage",value:function(e){var t=e.chatId,n=e.messageId,r=e.emoji,a=this.sessionConnector.getStateData().userId;(0,d.assertDefined)(a);var o=L(this.findMessage({chatId:t,messageId:n}),3),i=o[0],s=o[1],c=o[2];if(i){var u,l=s.reactions,_=l.findIndex((function(e){return e.userIds.includes(a)})),f=null===(u=l[_])||void 0===u?void 0:u.emoji;r!==f&&c({reactions:P()(l,(function(e){if(-1!==_){var t=e[_];if(1===t.userIds.length)e.splice(_,1);else{var n=t.userIds.indexOf(a);t.userIds.splice(n,1)}}var o=e.find((function(e){return e.emoji===r}));o?o.userIds.push(a):e.push({emoji:r,userIds:[a]})}))})}}},{key:"removeReactionOnMessage",value:function(e){var t=e.chatId,n=e.messageId,r=this.sessionConnector.getStateData().userId;(0,d.assertDefined)(r);var a=L(this.findMessage({chatId:t,messageId:n}),3),o=a[0],i=a[1],s=a[2];if(o){var c=i.reactions,u=c.findIndex((function(e){return e.userIds.includes(r)}));-1!==u&&s({reactions:P()(c,(function(e){var t=e[u].userIds.indexOf(r);e[u].userIds.splice(t,1)}))})}}},{key:"restoreDeletedMessage",value:function(e){var t=e.chatId,n=e.messageId,r=L(this.findMessage({chatId:t,messageId:n}),3),a=r[0],o=r[1],i=r[2];if(a){if(!o.isDeleted)return void this.logger.warn("Trying to restore not deleted message, chat = ".concat(t,", message = ").concat(n));i({isDeleted:!1})}}},{key:"sendMessage",value:function(e){var t=e.groupChatId,n=e.groupChatMembers,r=e.message,a=e.replyOnMessageId,o=this;return M((function(){var e,i,s,c,u,l,d,_,f,p;return K(this,(function(m){switch(m.label){case 0:return t||!n?[3,2]:(e=n.map((function(e){return e.id})),[4,o.groupChatNS.createGroupChat({userIds:e})]);case 1:return t=m.sent(),[3,3];case 2:if(!t)return[2];m.label=3;case 3:return i=(0,R.uuid)(),s=o.sessionConnector.getStateData(),c=s.userId,u=s.firstName,l=s.lastName,c&&u&&l?(d={attachments:[],content:r,direction:"out",firstName:u,fromUserId:c,isDeleted:!1,isDelivered:!1,isRead:!1,isUrgent:!1,lastName:l,messageId:i,reactions:[],sendTime:Date.now(),type:"message",userId:c},a&&(_=L(o.findMessage({chatId:t,messageId:a}),2),f=_[0],p=_[1],f&&(d.replyOnMessage={messageId:p.messageId,content:p.content,sendTime:p.sendTime,userId:p.userId})),o.transport.dispatch.agent_im_conv_message({conv_id:t,message_id:i,content:r}),o.appendItemMessage(t,d),o.toClientDispatch.onOutgoingMessage(t,d),[2]):[2]}}))}))()}},{key:"unpinMessage",value:function(e){var t=e.chatId,n=e.messageId,r=this.stateData.items[t],a=null==r?void 0:r.pinnedMessages.findIndex((function(e){return e.messageId===n}));-1!==a?this.produceState((function(e){e.items[t].pinnedMessages.splice(a,1)})):this.logger.warn("Trying to unpin not pinned message, chat = ".concat(t,", message = ").concat(n))}},{key:"updateMessage",value:function(e){var t=e.chatId,n=e.messageId,r=e.content,a=e.replyOnMessageId,o=L(this.findMessage({chatId:t,messageId:n}),3),i=o[0],s=(o[1],o[2]);if(i){var c={content:r};if(a){var u=L(this.findMessage({chatId:t,messageId:a}),2),l=u[0],d=u[1];l&&(c.replyOnMessage={messageId:d.messageId,content:d.content,sendTime:d.sendTime,userId:d.userId})}s(c)}}},{key:"appendItemMessage",value:function(e,t){var n,r,a=null!==(r=null===(n=this.stateData.items[e])||void 0===n?void 0:n.messages)&&void 0!==r?r:[],o=P()(a,(function(e){var n=e.findIndex((function(e){return e.messageId===t.messageId}));-1===n?e.push(t):e[n]=t}));this.produceState((function(t){t.items[e].messages=o}))}}],n&&j(t.prototype,n),r&&j(t,r),e}();function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"appendSystemMessage",value:function(e,t){this.messagesNS.appendItemMessage(e,t),this.toClientDispatch.onSystemMessage(e,t)}},{key:"chatCreated",value:function(e,t){var n=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(n);var r=Date.now();this.appendSystemMessage(e,{type:"system",event:"chat_created",messageId:String(r),sendTime:r,creatorUserId:n.userId,creatorFirstName:n.firstName,creatorLastName:n.lastName,addedUsers:Object.values(t).map((function(e){return{userId:e.id,firstName:e.firstName,lastName:e.lastName}}))})}},{key:"chatRemoved",value:function(e){var t=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(t);var n=Date.now();this.toClientDispatch.onSystemMessage(e,{type:"system",event:"chat_deleted",messageId:String(n),sendTime:n,userId:t.userId,firstName:t.firstName,lastName:t.lastName})}},{key:"membersAdded",value:function(e,t){var n=this.stateData.items[e];(0,d.assertDefined)(n);var r=t.map((function(e){var t=n.members.find((function(t){return t.id===e}));return(0,d.assertDefined)(t),{userId:t.id,firstName:t.firstName,lastName:t.lastName}})),a=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(a);var o=Date.now();this.appendSystemMessage(e,{type:"system",event:"members_added",messageId:String(o),sendTime:o,sharedHistory:!1,addedUsers:r,userId:a.userId,firstName:a.firstName,lastName:a.lastName})}},{key:"membersRemoved",value:function(e,t){if(Array.isArray(t)){var n=this.stateData.items[e];(0,d.assertDefined)(n);var r=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(r);var a=Date.now();this.appendSystemMessage(e,{type:"system",event:"members_removed",messageId:String(a),sendTime:a,sharedHistory:!1,removedUsersIds:t,userId:r.userId,firstName:r.firstName,lastName:r.lastName})}else{var o=this.stateData.items[e].members.find((function(e){return e.id===t}));(0,d.assertDefined)(o);var i=Date.now();this.appendSystemMessage(e,{type:"system",event:"member_left",messageId:String(i),sendTime:i,userId:t,firstName:o.firstName,lastName:o.lastName})}}},{key:"selfMemberRemoved",value:function(e){var t=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(t);var n=Date.now();this.toClientDispatch.onSystemMessage(e,{type:"system",event:"self_member_removed",messageId:String(n),sendTime:n,userId:t.userId,firstName:t.firstName,lastName:t.lastName})}},{key:"titleUpdated",value:function(e,t){var n=this.sessionConnector.getStateData();(0,C.assertAuthorizedSession)(n);var r=Date.now();this.toClientDispatch.onSystemMessage(e,{type:"system",event:"chat_renamed",messageId:String(r),sendTime:r,newTitle:t,userId:n.userId,firstName:n.firstName,lastName:n.lastName})}}])&&$(t.prototype,n),r&&$(t,r),e}(),B=n(2122);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"addUnread",value:function(e,t){var n=this.stateData.items[e].unreadMessages.findIndex((function(e){return e.sendTime>t.sendTime}));this.produceState((function(r){var a=r.items[e];-1===n?a.unreadMessages.push(t):a.unreadMessages.splice(n,0,t),a.firstUnreadTimestamp=a.unreadMessages[0].sendTime,a.unreadCount=a.unreadMessages.length}))}},{key:"removeUnread",value:function(e,t){var n=this.stateData.items[e].unreadMessages.findIndex((function(e){return e.messageId===t}));-1!==n&&(this.produceState((function(r){var a,o=r.items[e];o.unreadMessages=o.unreadMessages.slice(n+1);var i=o.messages.find((function(e){return e.messageId===t}));i&&(0,p.isRegularMessage)(i)&&(i.isRead=!0),o.firstUnreadTimestamp=null===(a=o.unreadMessages[0])||void 0===a?void 0:a.sendTime,o.unreadCount=o.unreadMessages.length})),this.toClientDispatch.onRemoveUnreadCount(e,this.stateData.items[e].unreadCount))}},{key:"updateUnread",value:function(e,t){var n=this,r=this.stateData.items[e].unreadMessages;t.forEach((function(t){"message"!==t.type||t.isRead||n.addUnread(e,t)}));var a=this.stateData.items[e].unreadMessages;a.length&&!(0,B.isEqual)(r,a)&&this.toClientDispatch.onUnreadMessage(e,a[0])}}])&&q(t.prototype,n),r&&q(t,r),e}();function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t,n){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Y(e,t,n||e)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function J(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?H(e):t;var n}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var a=Q(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J(this,n)}}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,e);var t,n,r,a=Z(o);function o(){var e;return V(this,o),z(H(e=a.apply(this,arguments)),"logger",i.bpLogger.withPrefix("@GC")),z(H(e),"groupChatNS",(0,s.inheritConnector)(H(e),new S)),z(H(e),"membersNS",(0,s.inheritConnector)(H(e),new D)),z(H(e),"messagesNS",(0,s.inheritConnector)(H(e),new F)),z(H(e),"systemMessageNS",(0,s.inheritConnector)(H(e),new U)),z(H(e),"unreadNS",(0,s.inheritConnector)(H(e),new G)),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_im_conv_deleted:this.groupChatNS.onRemoved,agent_im_conv_info:this.groupChatNS.onChatInfo,agent_im_conv_list:this.groupChatNS.onChatList,agent_im_conv_member_deleted:this.membersNS.onMemberRemoved,agent_im_conv_members_added:this.membersNS.onMembersAdded,agent_im_conv_members_deleted:this.membersNS.onSeveralMembersRemoved,agent_im_conv_message:this.messagesNS.onMessage,agent_im_conv_updated:this.groupChatNS.onTitleUpdated,agent_welcome:function(){e.transport.dispatch.agent_im_conv_get_list({})}}),this.fromClientDispenser.subscribe({createGroupChat:this.groupChatNS.createGroupChat,deleteMessage:this.messagesNS.deleteMessage,getChatDisplayName:this.groupChatNS.getChatDisplayName,getChatHistory:this.groupChatNS.getChatHistory,getChatLastMessage:this.messagesNS.getChatLastMessage,hideGroupChat:this.groupChatNS.hideGroupChat,inviteToChat:this.membersNS.inviteToChat,markChatAsRead:this.groupChatNS.markChatAsRead,markChatAsDelivered:this.groupChatNS.markAsDelivered,markMessageAsDelivered:this.messagesNS.markMessageAsDelivered,markMessageAsRead:this.messagesNS.markMessageAsRead,openGroupChat:this.groupChatNS.loadChatInfo,pinMessage:this.messagesNS.pinMessage,reactOnMessage:this.messagesNS.reactOnMessage,removeFromChat:this.membersNS.removeFromChat,removeGroupChat:this.groupChatNS.removeGroupChat,removeReactionOnMessage:this.messagesNS.removeReactionOnMessage,renameGroupChat:this.groupChatNS.renameGroupChat,restoreDeletedMessage:this.messagesNS.restoreDeletedMessage,sendMessage:this.messagesNS.sendMessage,toggleMuteChat:this.groupChatNS.toggleMute,togglePinChat:this.groupChatNS.togglePin,unpinMessage:this.messagesNS.unpinMessage,updateMessage:this.messagesNS.updateMessage}))}},{key:"resetState",value:function(){Y(Q(o.prototype),"resetState",this).call(this),this.groupChatNS.reset()}}])&&W(t.prototype,n),r&&W(t,r),o}(c.StateFactory.createBaseStateClass({name:"groupChatState",controlEvents:o,trackerEvents:a,options:{authorized:!0,synchronized:!0},dependencies:["interactionStateConnector","localizationConnector","sessionConnector","transport"],getInitialState:function(){return{items:{},chatListReceived:!1}}}))},56928:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INTERACTION_TABS:()=>ae,InteractionUIStateContext:()=>B,InteractionUIStateProvider:()=>q,activityFilters:()=>oe,createIsParallelItemAtom:()=>I,getEmptyItemUIState:()=>o,isParallelItemAtom:()=>C,parallelItemsAtom:()=>y,parallelItemsCountAtom:()=>b,parallelItemsDefaultValue:()=>v,parallelItemsHaveEnoughSpaceAtom:()=>S,useAvailableInteractionTabsController:()=>de,useChatSentimentsOn:()=>X,useInteractionPopupItemIdSelector:()=>Y,useInteractionUIActiveTab:()=>J,useInteractionUIAvailableTabs:()=>re,useInteractionUIChatScrollerApi:()=>ne,useInteractionUIChatType:()=>Q,useInteractionUIChatTypeTopItemId:()=>te,useInteractionUIItemStateSetter:()=>Z,useInteractionUIState:()=>W,useInteractionUIStateItemSelector:()=>z,useInteractionsUIStateSetter:()=>ee});var r=n(2122),a=n(5141),o=function(){return{historyPeriod:void 0,chatView:"embedded",availableTabs:{all:!0,messages:!0,calls:!0,transcript:!1,workitemContacts:!1,workitemDetails:!1,workitemHistory:!1,crm:!1,resolution:!1},activeTab:"all",dispositionSearch:"",chatMessage:"",chatSentimentsOn:!1,rescheduleForm:{title:"",dateFrom:"",timeFrom:"",dateTo:"",timeTo:"",selectedTimezoneId:"",remindIn:10,remindInUnit:"MINUTES",notes:"",completed:!1,name:"",phone:"",phoneType:a.PhoneTypes.BUSINESS,contacts:[]},tabTopItemId:{},scrollerApi:void 0}},i={items:{},setItemState:r.noop,setItemsState:r.noop,getItemState:function(){return null}},s=n(27005);let c=0;function u(e){return e(this)}function l(e,t,n){return t(this,"function"==typeof n?n(e(this)):n)}Symbol("CONTINUE_PROMISE");Symbol("RESET");const d=e=>"function"==typeof(null==e?void 0:e.then);!function(e=(()=>{try{return window.localStorage}catch(e){return void("undefined"!=typeof window&&console.warn(e))}}),t){var n;let r,a;const o={getItem:(n,o)=>{var i,s;const c=e=>{if(r!==(e=e||"")){try{a=JSON.parse(e,null==t?void 0:t.reviver)}catch(n){return o}r=e}return a},u=null!=(s=null==(i=e())?void 0:i.getItem(n))?s:null;return d(u)?u.then(c):c(u)},setItem:(n,r)=>{var a;return null==(a=e())?void 0:a.setItem(n,JSON.stringify(r,null==t?void 0:t.replacer))},removeItem:t=>{var n;return null==(n=e())?void 0:n.removeItem(t)}};let i=null==(n=e())?void 0:n.subscribe;var s;!i&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&e()instanceof window.Storage&&(i=(t,n)=>{const r=r=>{r.storageArea===e()&&r.key===t&&n(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),i&&(o.subscribe=(s=i,(e,t,n)=>s(e,(e=>{let r;try{r=JSON.parse(e||"")}catch(a){r=n}t(r)}))))}();function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h,v=[],y=(h=function(e,t){switch(t.type){case"set":return t.payload.items;case"add":var n=e.findIndex((function(e){return!e.itemIds.length})),r=-1===n?e.length:n,a=g(e);return a[r]={itemIds:t.payload.ids,activeItemId:t.payload.activeId,index:r},a;case"addToEmpty":var o=e.findIndex((function(e){return!e.itemIds.length}));if(-1===o)return e;var i=g(e);return i[o]={itemIds:[t.payload.id],activeItemId:t.payload.id,index:o},i;case"empty":return e.map((function(e){if(e.itemIds.some((function(e){return t.payload.ids.includes(e)}))){var n=e.itemIds.filter((function(e){return!t.payload.ids.includes(e)}));return m(p({},e),{itemIds:n,activeItemId:n[0]})}return e}));case"remove":return e.filter((function(e){return e.index!==t.payload.index}));case"insert":return e.map((function(e){if(e.index===t.payload.index){var n=e.itemIds?g(e.itemIds).concat([t.payload.id]):[t.payload.id];return m(p({},e),{itemIds:n,activeItemId:t.payload.activate?t.payload.id:e.activeItemId})}return e}));case"activate":return e.map((function(e){var n;return e.index===t.payload.index&&(null===(n=e.itemIds)||void 0===n?void 0:n.includes(t.payload.id))?m(p({},e),{activeItemId:t.payload.id}):e}))}},function(e,t){const n="atom"+ ++c,r={toString:()=>n};return"function"==typeof e?r.read=e:(r.init=e,r.read=u,r.write=l),t&&(r.write=t),r}(v,(function(e,t,n){t(this,h(e(this),n))}))),b=(0,s.atom)((function(e){return e(y).length})),S=(0,s.atom)(!1),C=(0,s.atom)((function(e){return function(t){return e(y).some((function(e){return e.itemIds.includes(t)}))}})),I=function(e){return(0,s.atom)((function(t){return t(y).some((function(t){return t.itemIds.includes(e)}))}))},w=n(52322),E=n(66029),O=n(63830),T=n.n(O),D=n(86702),A=n(3118),P=n(26),R=n(52388),k=n(84512),N=n(40381),M=n(26552);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function K(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}var B=(0,D.createContext)(i);B.displayName="InteractionUIStateContext";var q=function(e){var t=e.children,n=F((0,E.useState)({}),2),r=n[0],a=n[1],i=(0,N.useAsRef)(r),c=(0,E.useCallback)((function(e,t){a((function(n){var r,a=null!==(r=n[e])&&void 0!==r?r:o(),i=t(a),s=i.activeTab,c=i.availableTabs;if(!c[s])if(a.activeTab!==i.activeTab)i=K(L({},i),{activeTab:a.activeTab});else{var u=(0,M.typedKeys)(c).find((function(e){return c[e]}));(0,M.assertDefined)(u),i=K(L({},i),{activeTab:u})}return K(L({},n),x({},e,i))}))}),[]),u=(0,s.useAtomValue)(C),l=F((0,s.useAtom)(y),2),d=l[0],_=l[1],f=(0,A.useInteractionStateConnector)();(0,k.useLocalStorageForState)(d,"adParallelInteractions",(function(e){return _({type:"set",payload:{items:e}})}),v);var p=(0,A.useInteractionStateRef)(),m=(0,N.useAsRef)(d);(0,E.useEffect)((function(){var e=f.dispenser.subscribe({onPasteFromKB:function(e,t){c(e,(function(e){return K(L({},e),{chatMessage:e.chatMessage+t})}))},onNewItem:function(e){var t;(0,R.isExternalChat)(e)&&_({type:"addToEmpty",payload:{id:e.id}}),(t=p.current.items.filter((function(t){return t.contactId===e.contactId}))).forEach((function(n){var r;if(u(n.id)){var a=null===(r=(0,R.getHighestPriorityMediaItem)($(t).concat([e])))||void 0===r?void 0:r.id;if(a){var o=m.current.findIndex((function(e){var t;return null===(t=e.itemIds)||void 0===t?void 0:t.includes(n.id)}));_({type:"insert",payload:{index:o,id:a,activate:!0}})}}}))},onItemRemoved:function(e){m.current.find((function(t){return t.itemIds.includes(e.id)}))&&_({type:"empty",payload:{ids:[e.id]}})},onInteractionItemsRestored:function(e){setTimeout((function(){var t=m.current.flatMap((function(t){return t.itemIds.filter((function(t){return!e.find((function(e){return e.id===t}))}))}));t.forEach((function(e){_({type:"empty",payload:{ids:[e]}})}))}))}});return function(){e.unsubscribe()}}),[f.dispenser,m,_,c,p,u]);var g=(0,E.useCallback)((function(e){return i.current[e]}),[i]),h=(0,E.useCallback)((function(e){Promise.resolve().then((function(){a((function(t){return T()(t,(function(t){delete t[e.id]}))}))}))}),[]);(0,P.useOnItemRemoved)(h);var b=(0,E.useMemo)((function(){return{items:r,setItemState:c,setItemsState:a,getItemState:g}}),[g,r,c]);return(0,w.jsx)(B.Provider,{value:b,children:t})},G=n(82393);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(){return(0,D.useContext)(B)},z=function(e,t){return(0,D.useContextSelector)(B,(function(n){var r;return t(null!==(r=n.items[e])&&void 0!==r?r:o())}))},Y=function(){return(0,D.useContextSelector)(B,(function(e){var t;return null===(t=Object.entries(e.items).find((function(e){var t=V(e,2)[1];return"popup"===(null==t?void 0:t.chatView)})))||void 0===t?void 0:t[0]}))};var Q=function(e){return(0,D.useContextSelector)(B,(function(t){if(!e||!t.items[e])return o().activeTab;var n,r=t.items[e],a=r.activityFilter,i=r.activeTab;return a||(n=i,(0,M.array)(G.CHAT_TYPES).includes(n)?i:o().activeTab)}))},J=function(e){return(0,D.useContextSelector)(B,(function(t){return e&&t.items[e]?t.items[e].activeTab:o().activeTab}))},X=function(e){return(0,D.useContextSelector)(B,(function(t){var n;return e&&(null===(n=t.items[e])||void 0===n?void 0:n.chatSentimentsOn)}))},Z=function(){return(0,D.useContextSelector)(B,(function(e){return e.setItemState}))},ee=function(){return(0,D.useContextSelector)(B,(function(e){return e.setItemsState}))},te=function(e,t){return(0,D.useContextSelector)(B,(function(n){var r,a;return null===(a=n.items[e])||void 0===a||null===(r=a.tabTopItemId)||void 0===r?void 0:r[t]}))},ne=function(e){return(0,D.useContextSelector)(B,(function(t){var n;return null===(n=t.items[e])||void 0===n?void 0:n.scrollerApi}))},re=function(e){return(0,D.useContextSelector)(B,(function(t){return e&&t.items[e]?t.items[e].availableTabs:o().availableTabs}))},ae=["all","calls","transcript","messages","crm","workitemContacts","workitemDetails","workitemHistory","resolution"],oe=["all","calls","messages"],ie=n(27554),se=n(15922),ce=n(85682);function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function de(e){var t=Z(),n=(0,A.useInteractionProp)(e,(function(e){return!!(null==e?void 0:e.voiceTranscript)||!!(null==e?void 0:e.botSuggestions)})),r=(0,se.useServicesDispositionsStateServices)(),a=(0,A.useActiveInteractionProp)((function(e){return(0,R.canHaveDisposition)(e,r)})),i=(0,A.useInteractionProp)(e,R.isNeedToShowWorkitemUI),s=(0,A.useInteractionProp)(e,R.isContact),c=(0,ce.useTabsState)("tabs"),u=(0,ie.useIntegrationApiState)().isAvailable,l=(0,E.useMemo)((function(){return!Object.values(c).some((function(t){var n;return"avt"===t.app&&(null===(n=t.data)||void 0===n?void 0:n.itemId)===e}))&&n}),[e,c,n]),d=(0,E.useMemo)((function(){var e=o().availableTabs;return a&&(e.resolution=!0),l&&(e.transcript=!0),u&&(e.crm=!0),i&&(e.all=!1,e.calls=!1,e.messages=!1,e.crm=!1,e.workitemContacts=!0,e.workitemDetails=!0,s&&(e.workitemHistory=!0)),e}),[u,a,s,i,l]);(0,E.useLayoutEffect)((function(){e&&t(e,(function(e){return le(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ue(e,t,n[t])}))}return e}({},e),{availableTabs:d})}))}),[t,e,d])}},68646:(e,t,n)=>{"use strict";function r(e){var t,n;if(!(t=e,(null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"addEventListener"in e&&"dispatchEvent"in e&&"getStateData"in e))throw new Error("kbBridge should implement KBBridgeInterface")}n.r(t),n.d(t,{KBBridgeContextProvider:()=>s,assertKBBridgeInterface:()=>r,useKbBridge:()=>u,useKbBridgeConnector:()=>l,useKbBridgeMethods:()=>d,useKbBridgeRef:()=>_});var a=n(13641),o=(0,a.createStateContextProvider)("KBBridgeContextProvider"),i=o.getContext,s=o.KBBridgeContextProvider,c=(0,a.createStateHooks)("kbBridge",i),u=c.useKbBridge,l=c.useKbBridgeConnector,d=c.useKbBridgeMethods,_=c.useKbBridgeRef},99797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KBBridge:()=>le,getKBBridgeInitialState:()=>r,kbBridgeControlEvents:()=>o,kbBridgeTrackerEvents:()=>i});var r=function(){return{focusedInteraction:void 0,globalInteractionIds:[],hasEditPrivilege:!1,hasManageSettingsPrivilege:!1,knowledgeBaseType:"internal",language:"en-US",persistentStorageId:"kb",serverOrigin:"",services:{},translations:void 0,userId:"",userProfile:{email:"",firstName:"",lastName:""},settings:void 0,settingsRefreshing:!1,settingsError:!1}},a=n(64245),o={setupInteractionKB:(0,a.event)()},i={onChange:(0,a.event)(),onInitialState:(0,a.event)()},s=n(2122),c=n(52388);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n){return l=g()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&p(a,n.prototype),a},l.apply(null,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function f(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?u(e):t;var n}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t="function"==typeof Map?new Map:void 0;return m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},m(e)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r=(t=a,n=g(),function(){var e,r=_(t);if(n){var a=_(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return f(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),d(u(o=r.call(this,n)),"url",void 0),d(u(o),"status",void 0),d(u(o),"statusText",void 0),d(u(o),"body",void 0),d(u(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(m(Error));function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){return y=T()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&E(a,n.prototype),a},y.apply(null,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function w(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function O(e){var t="function"==typeof Map?new Map:void 0;return O=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,I(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)},O(e)}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,r=(t=a,n=T(),function(){var e,r=I(t);if(n){var a=I(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return w(this,e)});function a(e){var t;return v(this,a),(t=r.call(this,e)).name="CancelError",t}return S(a,[{key:"isCancelled",get:function(){return!0}}]),a}(O(Error)),A=Symbol.toStringTag,P=function(){function e(t){var n=this;v(this,e),C(this,A,void 0),C(this,"_isResolved",void 0),C(this,"_isRejected",void 0),C(this,"_isCancelled",void 0),C(this,"_cancelHandlers",void 0),C(this,"_promise",void 0),C(this,"_resolve",void 0),C(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return S(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(s){return void console.warn("Cancellation threw an error",s)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new D("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),R={BASE:"/swagger-kb",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,s,"next",e)}function s(e){N(o,r,a,i,s,"throw",e)}i(void 0)}))}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var $,U=function(e){return null!=e},B=function(e){return"string"==typeof e},q=function(e){return B(e)&&""!==e},G=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},H=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},V=function(e){var t=[],n=function(e,r){U(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=K(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=K(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},W=($=M((function(e,t){return F(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return $.apply(this,arguments)}),z=function(){var e=M((function(e,t){var n,r,a,o,i,s;return F(this,(function(c){switch(c.label){case 0:return[4,W(t,e.TOKEN)];case 1:return n=c.sent(),[4,W(t,e.USERNAME)];case 2:return r=c.sent(),[4,W(t,e.PASSWORD)];case 3:return a=c.sent(),[4,W(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(x({Accept:"application/json"},o,t.headers)).filter((function(e){var t=K(e,2),n=(t[0],t[1]);return U(n)})).reduce((function(e,t){var n=K(t,2),r=n[0],a=n[1];return L(x({},e),j({},r,String(a)))}),{}),q(n)&&(i.Authorization="Bearer ".concat(n)),q(r)&&q(a)&&(s=function(e){try{return btoa(e)}catch(t){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:G(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":B(t.body)?i["Content-Type"]="text/plain":H(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=M((function(e,t,n,r,a,o,i){var s,c;return F(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),Q=function(){var e=M((function(e){var t,n;return F(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){return new P(function(){var n=M((function(n,r,a){var o,i,s,c,u,l,d,_,f;return F(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(V(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){B(n)||G(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=K(e,2),n=(t[0],t[1]);return U(n)})).forEach((function(e){var t=K(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):B(e.body)||G(e.body)||H(e.body)?e.body:JSON.stringify(e.body)}(t),[4,z(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,Y(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,Q(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(B(n))return n}}(u,t.responseHeader),_={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=x({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new h(e,t,n);if(!t.ok)throw new h(e,t,"Generic Error")}(t,_),n(_.body),p.label=4;case 4:return[3,6];case 5:return f=p.sent(),r(f),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getKbCustomFields",value:function(){return J(R,{method:"GET",url:"/v1/kb/customFields",errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getLanguages",value:function(e){var t=e.usedInKbOnly;return J(R,{method:"GET",url:"/v1/kb/getLanguages",query:{usedInKBOnly:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not found",500:"Internal Error"}})}},{key:"getKbSettings",value:function(){return J(R,{method:"GET",url:"/v1/kb/settings",errors:{401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}},{key:"setKbSettings",value:function(e){var t=e.body;return J(R,{method:"POST",url:"/v1/kb/settings",body:t,errors:{401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}}],(n=null)&&X(t.prototype,n),r&&X(t,r),e}();R.BASE="/newadws/api";var ee=n(40381),te=n(26552);function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function se(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?ne(e):t;var n}function ce(e,t){return ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ce(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var a=ie(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return se(this,n)}}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(o,e);var t,n,r,a=ue(o);function o(){var e;return re(this,o),oe(ne(e=a.apply(this,arguments)),"bridgeEventTarget",new EventTarget),oe(ne(e),"activeListeners",{}),oe(ne(e),"kbSettingsIntervalId",void 0),oe(ne(e),"addEventListener",(function(t,n){var r=n;e.bridgeEventTarget.addEventListener(t,r),void 0===e.activeListeners[t]&&(e.activeListeners[t]=[]),e.activeListeners[t].push(n)})),oe(ne(e),"dispatchEvent",(function(t,n){e.bridgeEventTarget.dispatchEvent(new CustomEvent(t,{detail:n}))})),oe(ne(e),"subscribeToServices",(function(){return e.servicesDispositionsConnector.dispenser.subscribe({onChange:function(t){var n=t.services;n&&e.produceState((function(e){e.services=n}))},onInitialState:function(t){var n=t.services;e.produceState((function(e){e.services=n}))}})})),e}return t=o,(n=[{key:"removeAllListeners",value:function(){var e=this;(0,te.typedKeys)(this.activeListeners).forEach((function(t){var n;null===(n=e.activeListeners[t])||void 0===n||n.forEach((function(n){var r=n;e.bridgeEventTarget.removeEventListener(t,r)}))}))}},{key:"clearAllIntervals",value:function(){clearInterval(this.kbSettingsIntervalId)}},{key:"initialize",value:function(){this.subscriptions.push(this.propagateStateChanges(),this.subscribeToControlEvents(),this.subscribeToInteractions(),this.subscribeToKnowledgeBaseType(),this.subscribeToServices(),this.subscribeToSession(),this.subscribeToUserProfile(),this.subscribeToLocalization()),this.initKbSettingsFetching()}},{key:"propagateStateChanges",value:function(){var e=this;return this.dispenser.subscribe({onInitialState:function(t){return e.dispatchEvent("onChange",{stateData:t})},onChange:function(t){return e.dispatchEvent("onChange",{stateData:t})}})}},{key:"subscribeToControlEvents",value:function(){var e=this;return this.addEventListener("logoutHost",(function(){e.sessionConnector.dispatch.logout()})),this.addEventListener("pasteToInteraction",(function(t){var n=t.detail,r=n.interactionStepId,a=n.html,o=e.interactionStateConnector.getStateData().items.find((function(e){var t;return(null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId)===r}));o&&e.interactionStateConnector.dispatch.pasteFromKB(o.id,a)})),this.addEventListener("refreshKBSettings",(function(){e.fetchKbSettings()})),this.fromClientDispenser.subscribe({setupInteractionKB:function(t){return e.dispatchEvent("setupInteractionKB",{textToSearch:t})}})}},{key:"subscribeToInteractions",value:function(){var e=this,t=function(){var t=n();a(t)||(e.produceState((function(e){e.focusedInteraction=t})),t&&e.dispatchEvent("interactionFocused",{interaction:t}))},n=function(){var t=e.interactionStateConnector.getStateData(),n=t.activeItemId;return t.items.find((function(e){return e.id===n&&(0,c.isWorkInProgressItem)(e)}))},r=function(e){var t;return(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId)||""},a=function(t){return r(e.stateData.focusedInteraction)===r(t)},o=function(n){e.dispatchEvent("interactionActive",{interaction:n}),t()},i=function(){var t=e.interactionStateConnector.getStateData().items.map(r).filter((function(e){return Boolean(e)})),n=e.stateData.globalInteractionIds;t.length===n.length&&0===(0,s.difference)(t,n).length||e.produceState((function(e){e.globalInteractionIds=t}))};return this.interactionStateConnector.dispenser.subscribe({onChange:function(e){e.activeItemId&&t(),e.items&&i()},onInitialState:function(){t(),i()},onItemAccepted:o,onActivateItemAttempt:o,onItemDelivered:o,onItemRemoved:function(t){e.dispatchEvent("interactionRemoved",{interaction:t}),a(t)&&e.produceState((function(e){e.focusedInteraction=void 0}))}})}},{key:"subscribeToSession",value:function(){var e=this,t=function(t){var n=t.userId,r=void 0===n?e.stateData.userId:n,a=t.privileges,o=void 0===a?{}:a,i=t.serverOrigin,s=void 0===i?e.stateData.serverOrigin:i;e.produceState((function(e){var t,n;e.hasEditPrivilege=Boolean(null!==(t=o.EDIT_KNOWLEDGE_BASE)&&void 0!==t?t:e.hasEditPrivilege),e.hasManageSettingsPrivilege=Boolean(null!==(n=o.MANAGE_KNOWLEDGE_BASE_SETTINGS)&&void 0!==n?n:e.hasManageSettingsPrivilege),e.serverOrigin=s,e.userId=r}))};return this.sessionConnector.dispenser.subscribe({onChange:t,onInitialState:t,onLogout:function(){e.dispatchEvent("onLogout",void 0),e.removeAllListeners(),e.clearAllIntervals()}})}},{key:"subscribeToUserProfile",value:function(){var e=this,t=function(t){var n=t.userProfile;if(n){var r=n.email,a=void 0===r?e.stateData.userProfile.email:r,o=n.firstName,i=void 0===o?e.stateData.userProfile.firstName:o,s=n.lastName,c=void 0===s?e.stateData.userProfile.lastName:s;e.produceState((function(e){e.userProfile.email=a,e.userProfile.firstName=i,e.userProfile.lastName=c}))}};return this.userProfileStateConnector.dispenser.subscribe({onChange:t,onInitialState:t})}},{key:"subscribeToKnowledgeBaseType",value:function(){return this.appConfigConnector.dispenser.subscribe({onInitialState:e.bind(this),onChange:e.bind(this)});function e(e){var t=this;void 0===e.crmWidgetUseCrmKB&&void 0===e.crmWidgetUseInternalKB||this.produceState((function(e){var n=t.appConfigConnector.getStateData(),r=n.crmWidgetUseCrmKB,a=n.crmWidgetUseInternalKB;e.knowledgeBaseType=r&&a?"combined":r?"crm":"internal"}))}}},{key:"subscribeToLocalization",value:function(){var e=this;return this.localizationConnector.dispenser.subscribe({onChange:function(t){void 0===t.translations&&void 0===t.language||e.produceState((function(t){var n=e.localizationConnector.getStateData(),r=n.language,a=n.translations;t.translations=a[r],t.language=r||e.stateData.language}))}})}},{key:"initKbSettingsFetching",value:function(){var e=this;this.fetchKbSettings(),this.kbSettingsIntervalId=setInterval((function(){e.fetchKbSettings()}),9e5)}},{key:"fetchKbSettings",value:function(){var e=this;return this.produceState((function(e){e.settingsRefreshing=!0})),(0,ee.fetchWithRetries)(Z.getKbSettings(),10).then((function(t){e.produceState((function(e){e.settings=t,e.settingsRefreshing=!1,e.settingsError=!1}))})).catch((function(){e.produceState((function(e){e.settingsRefreshing=!1,e.settingsError=!0}))}))}}])&&ae(t.prototype,n),r&&ae(t,r),o}(n(16152).StateFactory.createBaseStateClass({name:"kbBridge",controlEvents:o,trackerEvents:i,dependencies:["appConfigConnector","interactionStateConnector","localizationConnector","localSettings","servicesDispositionsConnector","sessionConnector","userProfileStateConnector"],getInitialState:r,options:{}}))},8138:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LocalizationStateContextProvider:()=>l,useLocalizationState:()=>_,useLocalizationStateConnector:()=>m,useLocalizationStateMethods:()=>p,useLocalizationStateRef:()=>f,useLocalizeString:()=>g});var r=n(66029),a=n(2122),o=n(13641);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=(0,o.createStateContextProvider)("LocalizationStateContextProvider"),u=c.getContext,l=c.LocalizationStateContextProvider,d=(0,o.createStateHooks)("localizationState",u),_=d.useLocalizationState,f=d.useLocalizationStateRef,p=d.useLocalizationStateMethods,m=d.useLocalizationStateConnector,g=function(){var e=_().t,t=(0,r.useCallback)((function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(!t)return"";var i=(0,a.get)(e,t);return"function"==typeof i?i.apply(void 0,s(r)):t}),[e]);return t}},95441:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KnownLanguage:()=>a.KnownLanguage,Language:()=>a.Language,LocalizationControlEvents:()=>r.LocalizationControlEvents,LocalizationStateConnector:()=>r.LocalizationStateConnector,LocalizationStateData:()=>a.LocalizationStateData,LocalizationStateImpl:()=>L,LocalizationTrackerEvents:()=>r.LocalizationTrackerEvents,MessagesDeclaration:()=>a.MessagesDeclaration,MessagesDeclarationPath:()=>a.MessagesDeclarationPath,localMessagesDeclaration:()=>b,newMessagesDeclaration:()=>f,wrapInterpolator:()=>w});var r={};n.r(r),n.d(r,{i:()=>s,_:()=>i});var a={};n.r(a);var o=n(64245),i={onInitialState:(0,o.event)(),onChange:(0,o.event)()},s={setLanguage:(0,o.event)()},c=n(26220),u=n(5518),l=n(40381),d=n(16152),_=n(2122),f={GLOBAL:{complete_interaction:function(){return"Complete Interaction"},disposition:function(){return"Disposition"},service_selector_label:function(){return"Select a Service"},select:function(){return"Select"},view_all:function(){return"View all"},pagination:function(e,t,n){return"{0}-{1} of {2}"},search:function(){return"Search"},add:function(){return"Add"},audio_player_handled_by_label:function(){return"Handled by:"},cancel:function(){return"Cancel"},continue:function(){return"Continue"},not_found:function(){return"Not found"},copy:function(){return"Copy"},add_to_copy:function(){return"Add to copy"},copy_shareable_link:function(){return"Copy shareable link"},country_selector_all_countries_title:function(){return"All Countries"},country_selector_button_tooltip:function(){return"Select Country"},country_selector_countries:function(){return"Countries"},country_selector_recent:function(){return"Recent"},country_selector_search_input_placeholder:function(){return"Search"},delete:function(){return"Delete"},dial_request_status_long_connection:function(){return"Connecting..."},done:function(){return"Done"},drag_and_drop_subtitle:function(){return"To send them with a message"},edit:function(){return"Edit"},hours_short:function(){return"hr"},in:function(){return"In"},interaction_bar_calls_label:function(){return"Voice calls"},interaction_bar_chats_label:function(){return"Chats"},interaction_bar_contact_activities_label:function(){return"History contacts"},minutes_short:function(){return"min"},more:function(){return"More"},no_results_found:function(){return"No results found"},ok:function(){return"OK"},optional:function(){return"Optional"},play:function(){return"Play"},stop:function(){return"Stop"},reload_confirm_action_button_text:function(){return"OK"},reload_confirm_new_msg_part1:function(){return"Your copy of Agent Desktop is out of date. Press "},reload_confirm_new_msg_part2:function(){return" to update it now. The application may not work properly if you do not update it."},clear:function(){return"Clear"},remove:function(){return"Remove"},search_contact_input_placeholder:function(){return"Enter name or number"},seconds_short:function(){return"sec"},see_less:function(){return"See less"},see_more:function(){return"See more"},time_in_queue:function(){return"Time in queue:"},validation_hint:function(e){return"Validation hint: {0}"},chat_type_whatsapp:function(){return"WhatsApp"},slow_connection:function(){return"Slow connection"},available:function(){return"Available"},included:function(){return"Included"},title:function(){return"Title"},statistic:function(){return"Statistic"},sort:function(){return"Sort"},published:function(){return"Published"},publish:function(){return"Publish"},unpublish:function(){return"Unpublish"},select_color:function(){return"Select Color"},name:function(){return"Name"},owner:function(){return"Owner"},created:function(){return"Created"},modified:function(){return"Modified"},modified_by:function(){return"Modified by"},find_user:function(){return"Find user"},close:function(){return"Close"},create:function(){return"Create"},now:function(){return"Now"},next:function(){return"Next"},back:function(){return"Back"},restore:function(){return"Restore"},heading_incomingUnknown:function(){return"Unknown / incoming"},merge:function(){return"Merge"},reset:function(){return"Reset"},confirm:function(){return"Confirm"},previous:function(){return"Previous"},no_data:function(){return"No data"},no_available:function(){return"N/A"},unknown:function(){return"Unknown"}},DAYS:{monday:function(){return"Monday"},tuesday:function(){return"Tuesday"},wednesday:function(){return"Wednesday"},thursday:function(){return"Thursday"},friday:function(){return"Friday"},saturday:function(){return"Saturday"},sunday:function(){return"Sunday"},mondayShort:function(){return"Mon"},tuesdayShort:function(){return"Tue"},wednesdayShort:function(){return"Wed"},thursdayShort:function(){return"Thu"},fridayShort:function(){return"Fri"},saturdayShort:function(){return"Sat"},sundayShort:function(){return"Sun"},mondayLetter:function(){return"M"},tuesdayLetter:function(){return"T"},wednesdayLetter:function(){return"W"},thursdayLetter:function(){return"T"},fridayLetter:function(){return"F"},saturdayLetter:function(){return"S"},sundayLetter:function(){return"S"}},MONTHS:{january:function(){return"January"},february:function(){return"February"},march:function(){return"March"},april:function(){return"April"},may:function(){return"May"},june:function(){return"June"},july:function(){return"July"},august:function(){return"August"},september:function(){return"September"},october:function(){return"October"},november:function(){return"November"},december:function(){return"December"},januaryShort:function(){return"Jan"},februaryShort:function(){return"Feb"},marchShort:function(){return"Mar"},aprilShort:function(){return"Apr"},mayShort:function(){return"May"},juneShort:function(){return"Jun"},julyShort:function(){return"Jul"},augustShort:function(){return"Aug"},septemberShort:function(){return"Sep"},octoberShort:function(){return"Oct"},novemberShort:function(){return"Nov"},decemberShort:function(){return"Dec"}},AGENT_ASSIST:{suggestions_tab:function(){return"Suggestions"},kb_tab:function(){return"Knowledge Base"}},INTERACTIONS:{interaction_details:function(){return"Interaction Details"},quick_add:function(){return"Quick Add"},new_contact:function(){return"New Contact"},add_to_existing:function(){return"Add to Existing"},call:function(){return"Call"},message:function(){return"Message"},email:function(){return"Email"},end:function(){return"End"},end_interaction:function(){return"End Interaction"},end_conference:function(){return"End Conference"},conference:function(e){return"Conference ({0})"},disconnect:function(){return"Disconnect"},count_members:function(e){return"{0} Members"},self_item_name:function(){return"(you)"},no_new_interactions:function(){return"No New Interactions Yet"},next_message_interaction_show:function(){return"The next message interaction will show up here"},acl_after_call_work_label:function(){return"After Call Work"}},AUDIO_PLAYER:{play:function(){return"Play"},pause:function(){return"Pause"},download:function(){return"Download"},open_volume_controls:function(){return"Open Volume Controls"},close_volume_controls:function(){return"Close Volume Controls"},time_slider:function(){return"Time Slider"},volume_slider:function(){return"Volume Slider"}},WALLBOARD:{topbar_tooltip_btn:function(){return"Wallboard"},select_teams:function(){return"Select Teams"},menu_new:function(){return"New"},menu_edit:function(){return"Edit"},menu_duplicate:function(){return"Duplicate"},menu_export:function(){return"Export"},menu_import:function(){return"Import"},menu_push_to_global:function(){return"Push to Global"},menu_pull_from_global:function(){return"Pull from Global"},menu_rotation:function(){return"Rotation"},menu_hide_title_bar:function(){return"Hide title bar"},menu_show_title_bar:function(){return"Show title bar"},menu_user_widgets:function(){return"User widgets"},wallboard_select_personal:function(){return"Personal Wallboards"},wallboard_select_global:function(){return"Global Wallboards"},pull_from_global_modal_title:function(){return"Wallboard will not be available for other Users after Pull. Duplicate instead?"},pull:function(){return"Pull"},duplicate:function(){return"Duplicate"},cancel:function(){return"Cancel"},delete:function(){return"Delete"},confirm_delete_title:function(e){return"Delete {0}?"},menu_logout:function(){return"Logout"},new_wallboard:function(){return"New Wallboard"},new_widget:function(){return"New Widget"},new_wallboard_type:function(){return"Type:"},rotation_setting:function(){return"Rotation Setting"},rotation_enabled:function(){return"Enabled:"},rotation_wallboards:function(){return"Wallboards:"},rotation_interval:function(){return"Interval(sec):"},agent_select_title:function(){return"Select agent"},agent_select_label:function(){return"Agent"},logged_in_user:function(){return"Logged in User"},no_data:function(){return"No data"},no_available:function(){return"N/A"}},WALLBOARD_AGENT_STATES:{busy:function(){return"Busy"},ready:function(){return"Ready"},after_call_work:function(){return"After Call Work"},not_ready:function(){return"NR"}},WALLBOARD_BREAK_TIME_WIDGET:{name:function(e){return"Break Time: {0}"},minutes_label:function(e,t){return"{0} mins {1}"},remaining:function(){return"Remaining"},used:function(){return"Used"}},WALLBOARD_AGENDA_WIDGET:{name:function(e){return"Agenda: {0}"}},WALLBOARD_SATISFACTION_WIDGET:{name:function(e){return"Satisfaction: {0}"},percent_label:function(e){return"{0}%"}},WALLBOARD_SINGLE_OR_GAUGE_WIDGET:{name_single:function(){return"Single Statistic"},name_gauge:function(){return"Gauge"},mode:function(){return"Mode"},title:function(){return"Title"},primary_statistic:function(){return"Primary Statistic"},secondary_statistic:function(){return"Secondary Statistic"},warning_threshold:function(){return"warning threshold"},alert_threshold:function(){return"alert threshold"},max_threshold:function(){return"max threshold"},enable_warning_sound:function(){return"enable warning sound"},services:function(){return"services"}},WALLBOARD_SERVICES_MODAL:{title:function(){return"Select Services"}},WALLBOARD_TEAMS_MODAL:{title:function(){return"Select Teams"}},WALLBOARD_STATES_MODAL:{title:function(){return"Select Agents by State"},states_header:function(){return"States"},limits_header:function(){return"Limit to"},state_busy:function(){return"Busy"},state_ready:function(){return"Ready"},state_after_call_work:function(){return"After Call Work"},state_not_ready:function(){return"Not Ready"},limit_my_subteam:function(){return"My Subteam Only"},limit_logged_in:function(){return"Logged in Agents Only"}},WALLBOARD_WIDGET_IMAGE:{name:function(){return"Image"},select_image:function(){return"Select image"},image:function(){return"Image"},style:function(){return"Style"},style_contain:function(){return"Contain"},style_cover:function(){return"Cover"}},WALLBOARD_STATS_SINGLE:{agent_cm1_name:function(){return"Custom Survey Metric 1"},agent_cm2_name:function(){return"Custom Survey Metric 2"},agent_csat_name:function(){return"Customer Satisfaction"},agent_fcr_name:function(){return"First Call Resolution"},agent_nps_name:function(){return"Net Promoter Score"},agent_average_idle_time_name:function(){return"Average idle time of matching agents"},agent_average_preview_time_name:function(){return"Average preview time of matching agents"},agent_occupancy_name:function(){return"Occupancy of matching agents"},agents_busy_name:function(){return"Matching agents busy"},agents_busy_on_service_name:function(){return"Agents busy with this service"},agents_logged_name:function(){return"Matching agents logged-in"},agents_not_ready_name:function(){return"Matching agents not ready"},agents_ready_name:function(){return"Matching agents ready"},agents_in_wrap_up_name:function(){return"Agents in ACW state"},calls_average_handling_time_per_day_name:function(){return"Average handle time"},calls_dispositions_per_day_name:function(){return"Count of selected dispositions"},calls_dispositions_ratio_per_day_name:function(){return"Selected Dispositions Percentage"},in_calls_received_per_day_name:function(){return"Inbound received"},in_calls_ringing_name:function(){return"Inbound ringing on agents now"},in_average_speed_of_answer_name:function(){return"Average speed of answer/reply"},in_callbacks_requested_per_day_name:function(){return"Callbacks requested"},in_callbacks_waiting_name:function(){return"Callbacks in queue now"},in_calls_abandoned_in_ivr_per_day_name:function(){return"Inbound abandoned in IVR"},in_calls_abandoned_in_queue_per_day_name:function(){return"Inbound abandoned in queue"},in_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound abandoned in queue %"},in_calls_abandoned_percent_per_day_name:function(){return"Inbound abandoned %"},in_calls_abandoned_ringing_per_day_name:function(){return"Inbound abandoned while ringing"},in_calls_abandoned_total_per_day_name:function(){return"Inbound abandoned"},in_calls_active_on_agents_name:function(){return"Inbound handled by agents now"},in_calls_disconnected_talking_per_day_name:function(){return"Inbound released by callers"},in_calls_dropped_in_ivr_per_day_name:function(){return"Inbound dropped by system in IVR"},in_calls_dropped_in_queue_per_day_name:function(){return"Inbound dropped by system in queue"},in_calls_dropped_ringing_per_day_name:function(){return"Inbound dropped by system while ringing"},in_calls_dropped_talking_per_day_name:function(){return"Inbound released by agents"},in_calls_duration_average_per_day_name:function(){return"Inbound duration average"},in_calls_duration_total_per_day_name:function(){return"Inbound duration total"},in_calls_first_time_handled_per_day_name:function(){return"Inbound handled unique"},in_calls_first_time_queued_per_day_name:function(){return"Inbound queued unique"},in_calls_handled_per_day_name:function(){return"Inbound handled by agents"},in_calls_handled_percent_per_day_name:function(){return"Inbound handled by agents %"},in_calls_in_ivr_name:function(){return"Inbound in IVR now"},in_calls_in_progress_name:function(){return"Inbound in IVR, queue or on agents now"},in_calls_first_time_put_on_hold_per_day_name:function(){return"Inbound held, non-transferred"},in_calls_queued_per_day_name:function(){return"Inbound queued"},in_calls_put_on_hold_per_day_name:function(){return"Inbound held"},in_calls_rejected_per_day_name:function(){return"Inbound rejected or missed by agents"},in_calls_routed_per_day_name:function(){return"Inbound routed to agents"},in_calls_self_serviced_per_day_name:function(){return"Inbound self serviced"},in_calls_short_abandoned_in_queue_per_day_name:function(){return"Inbound short-abandoned in queue"},in_calls_short_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound short-abandoned in queue %"},in_calls_transferred_per_day_name:function(){return"Inbound transferred away"},in_email_carried_over_name:function(){return"Inbound emails carried over"},in_email_handled_new_per_day_name:function(){return"Inbound emails handled"},in_email_processed_noreply_per_day_name:function(){return"Inbound emails dispositioned without reply"},in_email_processed_replied_per_day_name:function(){return"Inbound emails replied"},in_email_received_new_per_day_name:function(){return"Inbound emails that created new cases"},in_email_rejected_per_day_name:function(){return"Inbound emails not accepted"},in_email_waiting_in_personal_queues_name:function(){return"Inbound emails in personal queues now"},in_emails_joined_existing_cases_name:function(){return"Inbound emails for existing queued cases"},in_ewt_name:function(){return"Estimated wait time"},in_max_wait_time_name:function(){return"Inbound longest wait now"},in_service_change_received_per_day_name:function(){return"Number of interactions recategorized from a different service"},in_service_changed_per_day_name:function(){return"Number of interactions recategorized to a different service"},in_transfers_received_per_day_name:function(){return"Inbound received as transfers"},out_calls_abandoned_in_ivr_per_day_name:function(){return"Outbound calls abandoned in IVR"},out_calls_abandoned_in_ivr_ratio_per_day_name:function(){return"Outbound calls abandoned in IVR %"},out_calls_abandoned_in_queue_per_day_name:function(){return"Outbound calls abandoned in queue"},out_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Outbound calls abandoned in queue %"},out_calls_abandoned_per_day_name:function(){return"Outbound calls abandoned"},out_calls_abandoned_ratio_per_day_name:function(){return"Outbound calls abandoned %"},out_calls_abandoned_ringing_per_day_name:function(){return"Outbound calls abandoned while ringing"},out_calls_active_on_agents_name:function(){return"Outbound interactions handled by agents now"},out_calls_answered_per_day_name:function(){return"Outbound calls attempts successful"},out_calls_answered_ratio_per_day_name:function(){return"Outbound calls attempts successful %"},out_calls_current_call_rate_name:function(){return"Outbound calling rate now"},out_calls_disconnected_talking_per_day_name:function(){return"Outbound calls released by remote party"},out_calls_dropped_in_ivr_per_day_name:function(){return"Outbound calls dropped in IVR"},out_calls_dropped_in_queue_per_day_name:function(){return"Outbound calls dropped in queue"},out_calls_dropped_ringing_per_day_name:function(){return"Outbound calls dropped while ringing"},out_calls_dropped_talking_per_day_name:function(){return"Outbound calls released by agent"},out_calls_duration_average_per_day_name:function(){return"Outbound calls duration average"},out_calls_duration_total_per_day_name:function(){return"Outbound calls duration total"},out_calls_failed_per_day_name:function(){return"Outbound calls attemtps failed"},out_calls_handled_per_day_name:function(){return"Outbound interactions handled by agents (email - send non-replies)"},out_calls_in_ivr_name:function(){return"Outbound calls in IVR %"},out_calls_in_progress_name:function(){return"Outbound call attempts in progress now"},out_calls_placed_per_day_name:function(){return"Outbound call attempts"},out_calls_queued_per_day_name:function(){return"Outbound calls queued"},out_calls_rejected_per_day_name:function(){return"Outbound calls rejected or missed by agents"},out_calls_ringing_name:function(){return"Outbound calls ringing on agents now"},out_calls_routed_per_day_name:function(){return"Outbound calls routed to agents"},out_calls_self_serviced_per_day_name:function(){return"Outbound calls self serviced"},out_calls_transferred_per_day_name:function(){return"Outbound calls transferred away"},out_calls_unattended_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance"},out_calls_unattended_ratio_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance %"},out_calls_waiting_name:function(){return"Outbound calls in queue now"},out_campaign_duration_forecast_name:function(){return"Estimated campaign duration"},records_accepted_per_day_name:function(){return"Records previews"},records_attempted_per_day_name:function(){return"Records attempts"},records_attempted_ratio_per_day_name:function(){return"Records attempts %"},records_completed_name:function(){return"Completed records in active lists"},records_completed_per_day_name:function(){return"Records completions"},records_completed_ratio_name:function(){return"Records completed in active lists %"},records_completed_ratio_per_day_name:function(){return"Records completions %"},records_dialable_name:function(){return"Dialable"},records_in_dnc_name:function(){return"Number of records excluded by DNC lists from active Lists"},records_out_of_quota_name:function(){return"Records in quota groups that reached quota limits"},records_remaining_name:function(){return"Remaining records in active lists"},records_skipped_per_day_name:function(){return"Records skips"},records_skipped_ratio_per_day_name:function(){return"Records skips %"},records_total_name:function(){return"Count of records in all active lists"},records_with_assigned_agents_completed_name:function(){return"Completed records with personal agent assignments"},records_with_assigned_agents_remaining_name:function(){return"Remaining records with personal agent assignments"},service_level_name:function(){return"Inbound interactions answered in Service Level % (moving window)"},service_level_target_name:function(){return"Inbound Service Level target"},service_level_threshold_time_name:function(){return"Inbound Service Level threshold"},service_level_per_day_name:function(){return"Inbound interactions answered in Service Level %"},in_calls_waiting_name:function(){return"Inbound in queue now"}},WALLBOARD_STATS_AGENT:{acd_next_state_name:function(){return"Next state"},acd_state_name:function(){return"State"},active_item_direction_name:function(){return"Active item: direction"},active_item_hold_duration_name:function(){return"Active item: hold duration"},active_item_is_flagged_name:function(){return"Active item: flagged"},active_item_media_type_name:function(){return"Active item: media"},active_item_party_name_name:function(){return"Active item: party name"},active_item_qm_monitor_mode_name:function(){return"Active item: monitor mode"},active_item_sentiment_name:function(){return"Active item: sentiment"},active_item_service_name_name:function(){return"Active item: service"},active_item_state_name:function(){return"Active item: state"},active_item_talk_duration_name:function(){return"Active item: talk duration"},agent_cm1_name:function(){return"Custom Survey Metric 1"},agent_cm2_name:function(){return"Custom Survey Metric 2"},agent_csat_name:function(){return"Customer Satisfaction"},agent_fcr_name:function(){return"First Call Resolution"},agent_nps_name:function(){return"Net Promoter Score"},agent_average_idle_time_name:function(){return"Average idle time"},agent_average_preview_time_name:function(){return"Average preview duration"},agent_calendar_overdue_name:function(){return"Calendar events overdue"},agent_calendar_pending_name:function(){return"Calendar events"},agent_occupancy_name:function(){return"Occupancy"},agent_preview_duration_name:function(){return"Preview duration now"},agent_success_ratio_per_day_name:function(){return"Success rate"},agent_total_break_time_name:function(){return"Break time total"},calls_average_handling_time_per_day_name:function(){return"Average handle time"},calls_dispositions_per_day_name:function(){return"Count of selected dispositions"},calls_dispositions_ratio_per_day_name:function(){return"Selected Dispositions Percentage"},extension_name:function(){return"Extension"},first_last_name_name:function(){return"First Name Last Name"},in_calls_active_on_agents_name:function(){return"Inbound handled by agents now"},in_calls_dropped_talking_per_day_name:function(){return"Inbound released by agent"},in_calls_duration_average_per_day_name:function(){return"Inbound duration average"},in_calls_duration_total_per_day_name:function(){return"Inbound duration total"},in_calls_first_time_put_on_hold_per_day_name:function(){return"Inbound held, non-transferred"},in_calls_handled_per_day_name:function(){return"Inbound handled by agents"},in_calls_put_on_hold_per_day_name:function(){return"Inbound held"},in_calls_rejected_per_day_name:function(){return"Inbound rejected or missed"},in_calls_transferred_per_day_name:function(){return"Inbound transferred away"},in_email_handled_new_per_day_name:function(){return"Inbound emails handled"},in_email_offered_per_day_name:function(){return"Inbound emails offered"},in_email_processed_noreply_per_day_name:function(){return"Inbound emails dispositioned without reply"},in_email_processed_replied_per_day_name:function(){return"Inbound emails replied"},in_email_pulled_per_day_name:function(){return"Inbound emails pulled by agent"},in_email_rejected_per_day_name:function(){return"Inbound emails unanswered"},in_email_waiting_in_personal_queues_name:function(){return"Inbound emails in personal queue now"},in_service_changed_per_day_name:function(){return"Number of interactions recategorized to a different service"},in_transfers_received_per_day_name:function(){return"Inbound transfers received"},last_first_name_name:function(){return"Last Name First Name"},login_time_name:function(){return"Login duration"},next_reason_name:function(){return"Next not ready reason"},out_calls_duration_average_per_day_name:function(){return"Outbound calls duration average"},out_calls_duration_total_per_day_name:function(){return"Outbound calls duration total"},out_calls_handled_per_day_name:function(){return"Outbound interactions handled (email - send non-replies)"},out_calls_rejected_per_day_name:function(){return"Outbound calls rejected or missed by agents"},out_email_waiting_in_personal_queues_name:function(){return"Outbound emails in personal queue"},reason_name:function(){return"Not ready reason"},records_accepted_per_day_name:function(){return"Records previews"},records_skipped_per_day_name:function(){return"Records skips"},records_skipped_ratio_per_day_name:function(){return"Records skips %"},state_duration_name:function(){return"State duration"},team_name_name:function(){return"Team name"},agent_idle_time_name:function(){return"Idle Time"},calls_average_acw_time_per_day_name:function(){return"Avg ACW"}},WALLBOARD_STATS_SERVICE:{agent_cm1_name:function(){return"Custom Survey Metric 1"},agent_cm2_name:function(){return"Custom Survey Metric 2"},agent_csat_name:function(){return"Customer Satisfaction"},agent_fcr_name:function(){return"First Call Resolution"},agent_nps_name:function(){return"Net Promoter Score"},agent_average_idle_time_name:function(){return"Average idle time of matching agents"},agent_average_preview_time_name:function(){return"Average preview time of matching agents"},agent_occupancy_name:function(){return"Occupancy of matching agents"},agents_busy_name:function(){return"Matching agents busy"},agents_busy_on_service_name:function(){return"Agents busy with this service"},agents_logged_name:function(){return"Matching agents logged-in"},agents_not_ready_name:function(){return"Matching agents not ready"},agents_ready_name:function(){return"Matching agents ready"},agents_in_wrap_up_name:function(){return"Agents in ACW state"},calls_average_handling_time_per_day_name:function(){return"Average handle time"},calls_dispositions_per_day_name:function(){return"Count of selected dispositions"},calls_dispositions_ratio_per_day_name:function(){return"Selected Dispositions Percentage"},in_average_speed_of_answer_name:function(){return"Average speed of answer/reply"},in_calls_first_time_put_on_hold_per_day_name:function(){return"Inbound held, non-transferred"},in_callbacks_requested_per_day_name:function(){return"Callbacks requested"},in_callbacks_waiting_name:function(){return"Callbacks in queue now"},in_calls_abandoned_in_ivr_per_day_name:function(){return"Inbound abandoned in IVR"},in_calls_abandoned_in_queue_per_day_name:function(){return"Inbound abandoned in queue"},in_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound abandoned in queue %"},in_calls_abandoned_percent_per_day_name:function(){return"Inbound abandoned %"},in_calls_abandoned_ringing_per_day_name:function(){return"Inbound abandoned while ringing"},in_calls_abandoned_total_per_day_name:function(){return"Inbound abandoned"},in_calls_active_on_agents_name:function(){return"Inbound handled by agents now"},in_calls_disconnected_talking_per_day_name:function(){return"Inbound released by callers"},in_calls_dropped_in_ivr_per_day_name:function(){return"Inbound dropped by system in IVR"},in_calls_dropped_in_queue_per_day_name:function(){return"Inbound dropped by system in queue"},in_calls_dropped_ringing_per_day_name:function(){return"Inbound dropped by system while ringing"},in_calls_dropped_talking_per_day_name:function(){return"Inbound released by agents"},in_calls_duration_average_per_day_name:function(){return"Inbound duration average"},in_calls_duration_total_per_day_name:function(){return"Inbound duration total"},in_calls_first_time_handled_per_day_name:function(){return"Inbound handled unique"},in_calls_first_time_queued_per_day_name:function(){return"Inbound queued unique"},in_calls_handled_per_day_name:function(){return"Inbound handled by agents"},in_calls_handled_percent_per_day_name:function(){return"Inbound handled by agents %"},in_calls_in_ivr_name:function(){return"Inbound in IVR now"},in_calls_in_progress_name:function(){return"Inbound in IVR, queue or on agents now"},in_calls_put_on_hold_per_day_name:function(){return"Inbound held"},in_calls_queued_per_day_name:function(){return"Inbound queued"},in_calls_received_per_day_name:function(){return"Inbound received"},in_calls_rejected_per_day_name:function(){return"Inbound rejected or missed by agents"},in_calls_ringing_name:function(){return"Inbound ringing on agents now"},in_calls_routed_per_day_name:function(){return"Inbound routed to agents"},in_calls_self_serviced_per_day_name:function(){return"Inbound self serviced"},in_calls_short_abandoned_in_queue_per_day_name:function(){return"Inbound short-abandoned in queue"},in_calls_short_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound short-abandoned in queue %"},in_calls_transferred_per_day_name:function(){return"Inbound transferred away"},in_calls_waiting_name:function(){return"Inbound in queue now"},in_email_carried_over_name:function(){return"Inbound emails carried over"},in_email_carried_over_new_name:function(){return"Inbound emails carried over from previous day"},in_email_handled_new_per_day_name:function(){return"Inbound emails handled"},in_email_processed_noreply_per_day_name:function(){return"Inbound emails dispositioned without reply"},in_email_processed_replied_per_day_name:function(){return"Inbound emails replied"},in_email_received_new_per_day_name:function(){return"Inbound emails that created new cases"},in_email_rejected_per_day_name:function(){return"Inbound emails not accepted"},in_email_waiting_in_personal_queues_name:function(){return"Inbound emails in personal queues now"},in_emails_joined_existing_cases_name:function(){return"Inbound emails for existing queued cases"},in_ewt_name:function(){return"Estimated wait time"},in_max_wait_time_name:function(){return"Inbound longest wait now"},in_service_changed_per_day_name:function(){return"Number of interactions recategorized to a different service"},in_transfers_received_per_day_name:function(){return"Inbound received as transfers"},name_name:function(){return"Service Name"},out_calls_abandoned_in_ivr_per_day_name:function(){return"Outbound calls abandoned in IVR"},out_calls_abandoned_in_ivr_ratio_per_day_name:function(){return"Outbound calls abandoned in IVR %"},out_calls_abandoned_in_queue_per_day_name:function(){return"Outbound calls abandoned in queue"},out_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Outbound calls abandoned in queue %"},out_calls_abandoned_per_day_name:function(){return"Outbound calls abandoned"},out_calls_abandoned_ratio_per_day_name:function(){return"Outbound calls abandoned %"},out_calls_abandoned_ringing_per_day_name:function(){return"Outbound calls abandoned while ringing"},out_calls_active_on_agents_name:function(){return"Outbound interactions handled by agents now"},out_calls_answered_per_day_name:function(){return"Outbound calls attempts successful"},out_calls_answered_ratio_per_day_name:function(){return"Outbound calls attempts successful %"},out_calls_current_call_rate_name:function(){return"Outbound calling rate now"},out_calls_disconnected_talking_per_day_name:function(){return"Outbound calls released by remote party"},out_calls_dropped_in_ivr_per_day_name:function(){return"Outbound calls dropped in IVR"},out_calls_dropped_in_queue_per_day_name:function(){return"Outbound calls dropped in queue"},out_calls_dropped_ringing_per_day_name:function(){return"Outbound calls dropped while ringing"},out_calls_dropped_talking_per_day_name:function(){return"Outbound calls released by agent"},out_calls_duration_average_per_day_name:function(){return"Outbound calls duration average"},out_calls_duration_total_per_day_name:function(){return"Outbound calls duration total"},out_calls_failed_per_day_name:function(){return"Outbound calls attemtps failed"},out_calls_handled_per_day_name:function(){return"Outbound interactions handled by agents (email - send non-replies)"},out_calls_in_ivr_name:function(){return"Outbound calls in IVR %"},out_calls_in_progress_name:function(){return"Outbound call attempts in progress now"},out_calls_placed_per_day_name:function(){return"Outbound call attempts"},out_calls_queued_per_day_name:function(){return"Outbound calls queued"},out_calls_rejected_per_day_name:function(){return"Outbound calls rejected or missed by agents"},out_calls_ringing_name:function(){return"Outbound calls ringing on agents now"},out_calls_routed_per_day_name:function(){return"Outbound calls routed to agents"},out_calls_self_serviced_per_day_name:function(){return"Outbound calls self serviced"},out_calls_transferred_per_day_name:function(){return"Outbound calls transferred away"},out_calls_unattended_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance"},out_calls_unattended_ratio_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance %"},out_calls_waiting_name:function(){return"Outbound calls in queue now"},out_campaign_duration_forecast_name:function(){return"Estimated campaign duration"},records_accepted_per_day_name:function(){return"Records previews"},records_attempted_per_day_name:function(){return"Records attempts"},records_attempted_ratio_per_day_name:function(){return"Records attempts %"},records_completed_name:function(){return"Completed records in active lists"},records_completed_per_day_name:function(){return"Records completions"},records_completed_ratio_name:function(){return"Records completed in active lists %"},records_completed_ratio_per_day_name:function(){return"Records completions %"},records_dialable_name:function(){return"Dialable"},records_in_dnc_name:function(){return"Number of records excluded by DNC lists from active Lists"},records_out_of_quota_name:function(){return"Records in quota groups that reached quota limits"},records_remaining_name:function(){return"Remaining records in active lists"},records_skipped_per_day_name:function(){return"Records skips"},records_skipped_ratio_per_day_name:function(){return"Records skips %"},records_total_name:function(){return"Count of records in all active lists"},records_with_assigned_agents_completed_name:function(){return"Completed records with personal agent assignments"},records_with_assigned_agents_remaining_name:function(){return"Remaining records with personal agent assignments"},service_level_name:function(){return"Inbound interactions answered in Service Level % (moving window)"},service_level_target_name:function(){return"Inbound Service Level target"},service_level_threshold_time_name:function(){return"Inbound Service Level threshold"},service_level_per_day_name:function(){return"Inbound interactions answered in Service Level %"},calls_average_acw_time_per_day_name:function(){return"Avg ACW"}},WALLBOARD_STATS_TIME_SERIES_SERVICES:{in_calls_waiting:function(){return"Inbound in queue now"},in_calls_in_progress:function(){return"Inbound in IVR, queue or on agents now"},service_level:function(){return"Inbound interactions answered in Service Level % (moving window)"},in_calls_in_ivr:function(){return"Inbound in IVR now"},in_calls_received_per_day:function(){return"Inbound received"},in_calls_abandoned_total_per_day:function(){return"Inbound abandoned"}},WALLBOARD_STATS_TIME_SERIES_TEAMS:{agents_busy:function(){return"Matching agents busy"},agents_logged:function(){return"Matching agents logged-in"},agents_ready:function(){return"Matching agents ready"},agents_not_ready:function(){return"Matching agents not ready"},agent_occupancy:function(){return"Occupancy of matching agents"}},WALLBOARD_STATS_CUSTOM:{handled:function(){return"Handled"},average_handling_time:function(){return"Average Handling Time"},successful_interaction:function(){return"Successful Interactions"}},WALLBOARD_DISPOSITION_WIDGET:{name:function(e){return"Dispositions: {0}"},count:function(){return"Count"}},WALLBOARD_MY_STATS_WIDGET:{name:function(e){return"My Stats vs My Team's: {0}"},handled:function(){return"Handled"},average_handling_time:function(){return"Average Handling Time"},successful_interactions:function(){return"Successful Interactions"},my_stats:function(){return"My Stats"},teams_stats:function(){return"Team's Stats"}},WALLBOARD_WIDGETS_GRIDS:{name:function(){return"Grid"},agent_grid:function(){return"Agent Grid"},service_grid:function(){return"Service Grid"},column_headings:function(){return"Column Headings"},max_to_show:function(){return"Max items to show"},teams:function(){return"Select Teams"},services:function(){return"Select Services"},states:function(){return"Select States"},state_busy:function(){return"Busy"},state_ready:function(){return"Ready"},state_after_call_work:function(){return"ACW"},state_not_ready:function(){return"Not Ready"},state_default:function(){return"Logged Out"},add_column:function(){return"Add Column"}},WALLBOARD_WIDGET_TIME_SERIES:{name:function(){return"Time Series"},series_type:function(){return"Series type"},teams:function(){return"Teams"},services:function(){return"Services"},statistics:function(){return"Statistics"},time_range:function(){return"Time range"},show_x_grid:function(){return"Show X grid lines"},show_y_grid:function(){return"Show Y grid lines"},mins_5:function(){return"5 minutes"},mins_15:function(){return"15 minutes"},hours_1:function(){return"1 hour"},hours_3:function(){return"3 hours"},hours_6:function(){return"6 hours"},hours_12:function(){return"12 hours"},hours_24:function(){return"24 hours"},days_2:function(){return"2 days"},days_7:function(){return"7 days"}},WALLBOARD_WIDGET_TEXT:{name:function(){return"Text"},title:function(){return"Title"},text:function(){return"Text"}},WALLBOARD_WIDGET_NEWS:{name:function(){return"News"},title:function(){return"Title"},newsCount:function(){return"Number of messages"}},WALLBOARD_WIDGET_EMPTY:{name:function(){return"Select widget"},standardWidgets:function(){return"Standard Widgets"},userWidgets:function(){return"User Widgets"},timeSeriesWidgets:function(){return"Time Series Widgets"},copyFromExisting:function(){return"Copy From Existing"},single:function(){return"Single Statistic"},agent_grid:function(){return"Agent Grid"},service_grid:function(){return"Service Grid"},news:function(){return"News"},summary:function(){return"Agent State Summary"},gauge:function(){return"Gauge"},text:function(){return"Text"},datetime:function(){return"Time"},image:function(){return"Image"},time_series:function(){return"Time Series"},copy_from_other:function(){return"Copy from other wallboard"},break_time:function(){return"Break Time"},dispositions:function(){return"Dispositions"},my_stats:function(){return"My Stats"},satisfaction:function(){return"Satisfaction"},agenda:function(){return"Agenda"},confirm_delete_widget:function(e){return"Are you sure you want to delete the {0} widget?"}},WALLBOARD_WIDGET_SUMMARY:{title_label:function(){return"Title"},teams_label:function(){return"Show only"},selected_teams:function(){return"Selected teams"},default_name:function(){return"Agent State Summary"}},PLAY_CANNED_PROMPTS_DIALOG_BOX:{canned_prompts:function(){return"Canned prompts from service"},custom_prompts:function(){return"Personal prerecorded messages"}},AGENT_STATE_CONTROL:{acd_nr_short:function(){return"NR"},aria_current_state:function(){return"Your current state"},state:function(){return"State"},next_state:function(){return"Next state"},aria_state_button:function(){return"Agent state"},aria_timer:function(){return"The time spent in the current state"},call_in_queue:function(){return"A call in the queue is waiting"},current_state:function(e){return"Current: {0}"},next:function(e){return"Next: {0}"},logged_out:function(){return"Logged out"},acd_busy_call:function(){return"Busy: Call"},acd_busy_chat:function(){return"Busy: Chat"},acd_busy_email:function(){return"Busy: Email"}},RECENT:{button_show_crm_objects_text:function(){return"Show linked CRM objects"},button_show_crm_objects_text_short:function(){return"CRM"},no_recent_interactions_found:function(){return"No recent interactions found"},no_recent_interactions_found_for:function(e){return"No recent interactions found for {0}"},blue_placeholder_text:function(){return"Blue placeholder text"},simple_placeholder_text:function(){return"Simple placeholder text"},search_field_placeholder:function(){return"Search Recents"},conference_title_text:function(){return"Conference"},conference_call_details_description_text:function(e){return"Conference Call from {0}"},conference_chat_details_description_text:function(e){return"Conference Chat from {0}"},conference_details_input_placeholder:function(){return"Dial Number"}},DIRECTORY:{waiting:function(e){return"Waiting: {0}"},max_wait:function(e){return"Max Wait: {0}"},ewt:function(e){return"Estimated wait time: {0}"},svc_level:function(e){return"Svc Level: {0}%"},ready:function(e){return"Ready: {0}"},logged_in:function(e){return"Logged In: {0}"},too_many_results_found:function(){return"Too many results found, please refine your search."},external_contacts:function(){return"External Contacts"},search_placeholder:function(){return"Search in directory"},search_field_placeholder:function(){return"Search Directory"},no_results_internal:function(){return"No internal contacts found"},no_results_external:function(){return"No external contacts found"},no_results_internal_for_query:function(e){return'No internal contacts found for "{0}"'},no_results_external_for_query:function(e){return'No external contacts found for "{0}"'},no_results_for_query:function(e){return'No contacts found for "{0}"'},phones_registered:function(e){return"Phones: {0}"}},CONFERENCE:{party_mobile_phone:function(e){return"mobile: {0}"},party_extension:function(e){return"ext.: {0}"}},WINDOW_POPUP_TITLES_AND_MESSAGES:{button_save:function(){return"Save"}},USER_PROFILE:{forwarding_none:function(){return"None"},label_voicemail_text:function(){return"Use the following greeting for voicemail:"},label_voicemail_active_text:function(){return"Active"},label_voicemail_not_set_text:function(){return"Not set"},label_voicemail_other_text:function(){return"Other"},label_voicemail_timeout:function(){return"Send to voicemail after:"},button_voicemail_set_active_tooltip:function(){return"Make Active"},button_voicemail_add_new_greeting_tooltip:function(){return"Add Greeting"},button_voicemail_remove_from_active_tooltip:function(){return"Remove from Active"},button_change_avatar_text:function(){return"Change"},button_change_avatar_tooltip:function(){return"Change user avatar"},tab_name_heading:function(){return"Name"},tab_forwarding_and_voicemail_heading:function(){return"Forwarding and Voicemail"},location_tz_not_selected:function(){return"Not Selected"},form_location_language_label:function(){return"Language"},location_not_selected:function(){return"System default"},sidebar_profile_link:function(){return"See profile"},sidebar_ext:function(e){return"ext: {0}"},form_integrations_loading_tooltip:function(){return"Loading..."},form_integrations_bad_config_tooltip:function(){return"Integration not configured properly"},voicemail_reached_max_amount:function(){return"You have reached the maximum allowed number of greetings."},error_recording_no_title:function(){return"Please enter a name"},error_recording_no_audio:function(){return"Record voice or upload a voice file"},error_recording_max_file_size:function(){return"The size of the file is too big. (max 25Mb)"},error_empty_first_name:function(){return"First name is required"},error_empty_last_name:function(){return"Last name is required"},error_empty_email:function(){return"Email should not be empty"},error_invalid_email:function(){return"Email should be correct"},error_call_forwarding_empty_destination:function(){return"Forwarding destination is required"},error_call_forwarding_empty_timeout:function(){return"Forwarding timeout is required"},error_voicemail_empty_timeout:function(){return"Voicemail timeout is required"},error_email_already_used:function(){return"Email should be unique"},error_email_check_failed:function(){return"Error checking email uniqueness"}},FAVORITES:{contact_added_to_favorites:function(){return"Contact added to favorites"},contact_removed_from_favorites:function(){return"Contact removed from favorites"},create_favorite_item:function(){return"Create Favorite Item"},edit_favorite_heading:function(){return"Edit Favorite"},delete_favorite_tooltip:function(){return"Delete Favorite"},modify_favorite_heading:function(){return"Modify Favorite"},create_new_contact:function(){return"Create new contact"},add_to_existing_contact:function(){return"Add to existing contact"},favorite_item_exists:function(e,t){return"Item {0}: {1} already exists"},favorites_limit_reached_error:function(){return"You couldn't add more contacts to Favorites, limit reached"}},CANNED_RESPONSES:{item_actions:function(){return"Item actions"},insert:function(){return"Insert"},button_add_response_text:function(){return"Add response"},for_all_agents:function(){return"For all agents"},new_response:function(){return"New Response"},new_folder:function(){return"New Folder"},response_label:function(){return"Message content"},folder_label:function(){return"Folder name"}},KNOWLEDGE_BASE:{actions:function(){return"Actions"},all_articles_number:function(e){return"All Articles ({0})"},all_items_number:function(e){return"All Items ({0})"},any_lang_label:function(){return"Any Language"},aria_article_cancel_label:function(){return"Discard changes and close panel"},aria_article_delete_label:function(){return"Delete article"},aria_article_save_label:function(){return"Save article"},article_characters:function(e){return"Characters: {0}"},article_create_title:function(){return"Create new article"},article_deleting_blocked_text:function(){return"Cannot delete the article because it is currently open for editing"},article_deleting_blocked_title:function(){return"Deleting is not allowed"},article_editing_blocked_text:function(){return"Only one article can be opened for editing at a time."},article_editing_blocked_title:function(){return"Another article is editing"},article_is_not_found:function(){return"Knowledge article is not found. It might have been moved, renamed, or deleted."},article_moving_locked_by_other_kb:function(){return"Article moving is not allowed because the article has been edited in other Knowledge Base window"},article_saving_error_text:function(){return"Article saving was not successful. Please try again later."},article_saving_error_title:function(){return"Saving error"},article_search_no_results_label:function(){return"No results found"},article_search_no_results_scope_label:function(e){return'No results found in the scope "{0}"'},article_size:function(e){return"Size: {0}"},article_usage_count:function(e){return"Usage count: {0}"},articles_list_error_text:function(){return"Error loading articles list"},back_btn_tooltip:function(){return"Back"},button_cancel_text:function(){return"Cancel"},button_delete_text:function(){return"Delete"},button_deleting_text:function(){return"Deleting..."},button_move:function(){return"Move"},button_move_in_progress_text:function(){return"Moving..."},button_ok_text:function(){return"Ok"},button_replace_text:function(){return"Replace"},button_save_and_close_text:function(){return"Save and Close"},button_save_text:function(){return"Save"},button_toggle_split_pane_mode_off_tooltip:function(){return"Toggle split pane mode off"},button_toggle_split_pane_mode_on_tooltip:function(){return"Toggle split pane mode on"},checkbox_export_all_articles:function(){return"Export all articles"},checkbox_export_selected_articles:function(){return"Export selected articles only"},clear_selection:function(){return"Clear Selection"},close_button_text:function(){return"Close"},close_tab_text:function(){return"Close tab"},color:function(){return"Color"},content_inserted:function(){return"Content inserted"},content_type:function(){return"Content type"},content_type_crm:function(){return"CRM Articles"},content_type_internal:function(){return"Internal Articles"},content_type_internal_and_crm:function(){return"Internal and CRM Articles"},copy_link:function(){return"Copy Link"},copy_to_clipboard:function(){return"Copy to clipboard"},create_article_in_folder:function(){return"Create Article in Folder"},create_subfolder:function(){return"Create Subfolder"},crm_msdynamics365_folder_title:function(){return"MS Dynamics 365 Articles"},crm_servicenow_folder_title:function(){return"ServiceNow Articles"},crm_unknown_folder_title:function(){return"External Articles"},custom_service:function(e){return"Custom Service - {0}"},default_article_font:function(){return"Default Article Font"},default_for_services:function(){return"Default article for services"},default_sorting_order:function(){return"Default Sorting Order"},default_sorting_order_alphabetical:function(){return"Alphabetical"},default_sorting_order_by_usage:function(){return"By Usage"},default_sorting_order_manually:function(){return"Manually Arranged"},delete:function(){return"Delete"},delete_error_text:function(){return"A deleting error occurred. Please try again later."},delete_error_title:function(){return"Deleting error"},delete_modal_article_body:function(e){return'Are you sure you want to delete article "{0}"?'},delete_modal_article_title:function(){return"Delete Article"},delete_modal_batch_body:function(){return"Are you sure you want to delete selected items?"},delete_modal_batch_title:function(){return"Delete selected items"},delete_modal_cancel:function(){return"Cancel"},delete_modal_folder_body:function(e){return'Are you sure you want to delete folder "{0}"?'},delete_modal_folder_title:function(){return"Delete Folder"},delete_modal_ok:function(){return"Delete"},delete_modal_selected_items_text:function(e){return"{0} item(s) will be moved to the Recycle. Delete item(s)?"},deleted_toast_article:function(e){return'Article "{0}" has been deleted'},deleted_toast_folder:function(e){return'Folder "{0}" has been deleted'},deleted_toast_items:function(){return"Selected items have been deleted"},discard_editing_mode_exit:function(){return"Exit"},discard_editing_mode_text:function(){return"You have unsaved changes. Exit edit mode?"},discard_editing_mode_title:function(){return"Exit editing"},edit:function(){return"Edit"},edit_article:function(){return"Edit Article"},edit_article_button_tooltip:function(){return"Article editing options"},edit_folder:function(){return"Edit Folder"},edit_folder_button_tooltip:function(){return"Folder editing options"},edit_mode_tooltip:function(){return"Edit Mode"},enable_kb:function(){return"Enable Knowledge Base"},enable_sorting_order_change:function(){return"Enable Sorting Order Change"},error_field_required:function(){return"Field is required"},export_articles:function(){return"Export Articles"},export_btn_text:function(){return"Export"},export_error_text:function(){return"Export was not successful. Please try again later."},export_error_title:function(){return"Exporting error"},exported_toast:function(){return"Articles have been exported"},exporting_btn_text:function(){return"Exporting..."},field_article_name:function(){return"Article Name"},field_language:function(){return"Language"},field_language_not_selected:function(){return"Not selected"},folder_content_heading:function(){return"Folder content"},folder_deleting_blocked_text:function(){return"Folder deleting is not allowed because a descendant article has been edited"},folder_deleting_blocked_title:function(){return"Deleting is not allowed"},folder_loading_error:function(){return"Error loading folder content"},folder_moving_locked:function(){return"Folder moving is not allowed because a descendant article has been edited in other Knowledge Base window"},home_tab_name:function(){return"Home"},import_articles:function(){return"Import Articles"},import_report_download_csv:function(){return"Result CSV"},import_report_skipped:function(e){return"Articles skipped: {0}"},import_report_skipped_duplicate:function(){return"Duplicate article titles"},import_report_skipped_format:function(){return"Format errors"},import_report_skipped_kb_limit:function(){return"KB size limit exceeded"},import_report_skipped_limit:function(){return"Article size limit exceeded"},import_report_total:function(e,t){return"Articles imported: {0} of {1}"},imported_error_text:function(){return"Import was not successful. Please try again later."},imported_error_title:function(){return"Importing error"},imported_notification_title:function(){return"Your articles have been imported"},importing_modal_text:function(){return"Your articles is currently being imported. Edits are not allowed while this is being processed. Try again later."},importing_modal_title:function(){return"Import in progress"},importing_notification_text:function(){return"This may take some time"},importing_notification_title:function(){return"Your articles are being imported"},info_characters:function(){return"Characters"},info_created_at:function(){return"Created on"},info_created_by:function(){return"Created by"},info_modified_at:function(){return"Last modified on"},info_modified_by:function(){return"Last modified by"},info_size:function(){return"Size"},info_usage_count:function(){return"Usage Count"},info_words:function(){return"Words"},insert_article:function(){return"Insert the article"},insert_selection_to:function(){return"INSERT SELECTION TO"},insert_selection_to_response:function(){return"Insert selection to response"},insert_to_chat_option_label:function(e){return"Chat: {0}"},insert_to_dropdown_text:function(){return"INSERT TO"},insert_to_history_option_label:function(e){return"History contact: {0}"},kb_disabled_text:function(){return"Knowledge Base is not currently enabled in your configuration.\nTo enable Knowledge Base, contact your system administrator."},kb_heading:function(){return"Knowledge Base"},kb_mode_combined_label:function(){return"Combined Knowledge Base"},kb_mode_crm_label:function(){return"CRM Knowledge Base"},kb_mode_internal_label:function(){return"Internal Knowledge Base"},kb_settings:function(){return"Knowledge Base Settings"},kb_settings_disable_warning:function(){return"The Knowledge Base will be disabled for all users of your contact center. You can save or revert the change."},kb_settings_modal_sorting_warning:function(){return"The new sorting order will be applied to Knowledge Base views of all users of your contact center. You can save or revert the change."},label_show_results_only_for_server:function(e){return"Show results only for service: {0}"},label_tab_attachments:function(){return"Attachments"},last_edited_by:function(e){return"Last edited by: {0}"},loading_article_error_text:function(){return"Article loading was not successful. Please try again later."},loading_error_title:function(){return"Loading error"},move_items:function(e){return"Move {0} items"},move_one_parent_items:function(e){return"Move {0} items"},move_single_item:function(e){return'Move "{0}"'},move_to:function(){return"Move To"},move_to_folder:function(e){return'to "{0}"'},move_undone:function(){return"Move undone"},moved_items:function(e,t){return'{0} items have been moved to "{1}"'},moved_one_parent_items:function(e,t,n){return'{0} items has been moved from "{1}" to "{2}"'},moved_single_item:function(e,t,n){return'"{0}" has been moved from "{1}" to "{2}"'},moved_single_item_dnd:function(e){return'"{0}" has been moved'},moving_error_text:function(e){return'Unable to move "{0}"'},moving_error_title:function(){return"Error"},new:function(){return"New"},new_article:function(){return"New Article"},new_folder:function(){return"New Folder"},new_tab_button_tooltip:function(){return"Open In New Tab"},not_selected:function(){return"Not selected"},number_of_results:function(e){return"{0} Results"},open_folder_tooltip:function(){return"Open folder"},pane_article_title:function(){return"Article"},pane_info_title:function(){return"Info"},pane_keywords_title:function(){return"Keywords"},pane_notes_title:function(){return"Usage Notes"},pane_properties_title:function(){return"Properties"},paste_article_error_text:function(){return"An error occurred while inserting the article. Please try again later."},paste_article_error_title:function(){return"Inserting error"},paste_article_tooltip:function(){return"Insert article to chat"},pin_tooltip:function(){return"Pin"},plus_more:function(e){return"+ {0} more"},recommended_articles:function(){return"Recommended Articles"},recycle_bin_button_text:function(e){return"Recycle Bin {0}"},recycle_bin_delete:function(){return"Delete"},recycle_bin_delete_all_header:function(){return"Empty Recycle Bin"},recycle_bin_delete_all_text:function(){return"Are you sure you want to delete all items permanently?"},recycle_bin_delete_one_header:function(){return"Delete item permanently"},recycle_bin_delete_one_text:function(){return"Are you sure you want to delete one item permanently?"},recycle_bin_delete_selected_header:function(){return"Delete selected items permanently"},recycle_bin_delete_selected_text:function(){return"Are you sure you want to delete selected items permanently?"},recycle_bin_deleted_all_toast:function(){return"Recycle bin has been emptied"},recycle_bin_deleted_one_toast:function(){return"Item has been deleted permanently"},recycle_bin_deleted_selected_toast:function(){return"Items have been deleted permanently"},recycle_bin_empty_text:function(){return"Empty Recycle Bin"},recycle_bin_header:function(){return"Recycle Bin"},recycle_bin_no_items_header:function(){return"No items in Recycle Bin"},recycle_bin_no_items_text:function(){return"When deleting items, they will appear here"},recycle_bin_restore:function(){return"Restore"},recycle_bin_restored_error_text:function(){return"An error occurred while restoring"},recycle_bin_restored_error_title:function(){return"Restoring error"},recycle_bin_restored_one:function(){return"Item has been successfully restored"},recycle_bin_restored_selected:function(){return"Selected items have been successfully restored"},recycle_bin_sorting_date:function(){return"Recycled"},recycle_bin_sorting_name:function(){return"Name"},rename:function(){return"Rename"},replace_default_article_title:function(){return"Replace default article"},replace_default_article_text:function(e){return"The {0} service already has a default article. Are you sure you want to replace it?"},restore_btn_text:function(){return"Restore"},revert:function(){return"Revert"},root_folder_name:function(){return"Root Folder"},search_articles:function(){return"Search for Articles"},search_folders:function(){return"Search for Folders"},search_recycle_bin:function(){return"Search Recycle Bin"},search_results_heading:function(){return"Search results"},search_service:function(){return"Search service"},search_tags_all:function(){return"All"},search_tags_body:function(){return"Body"},search_tags_folder:function(){return"Folder"},search_tags_keywords:function(){return"Keywords"},search_tags_service:function(){return"Service"},search_tags_title:function(){return"Title"},search_trash_bin:function(){return"Search Trash Bin"},select_destination_folder:function(){return"Select a destination folder"},select_lang_input_placeholder:function(){return"Select Language"},select_services_modal_available:function(){return"Available services"},select_services_modal_search_placeholder:function(){return"Search"},select_services_modal_selected:function(){return"Selected services"},selected:function(e){return"{0} Selected"},selection_mode:function(){return"Selection mode"},services:function(){return"Services"},size:function(){return"Size"},sort_a_to_z:function(){return"A to Z"},sort_btn_text:function(){return"Sort by"},sort_by_default_order:function(){return"Default Order"},sort_by_relevance:function(){return"Relevance"},sort_by_usage:function(){return"Usage"},sort_dropdown_text:function(){return"SORT BY"},sort_z_to_a:function(){return"Z to A"},tinymce_close_button:function(){return"Close"},tinymce_name:function(){return"Variables"},tinymce_selectbox:function(){return"Insert ($)"},type:function(){return"Type"},undo:function(){return"Undo"},unnamed_article_title:function(){return"Unnamed (draft)"},unpin_tooltip:function(){return"Unpin"},validation_error:function(){return"Validation error"}},ACTIVITY_HISTORY:{button_close_tooltip:function(){return"Close activity history"},button_open_popup_tooltip:function(){return"Open in a pop-up"},heading_user_started_call_on_date:function(e,t,n){return"{0} started a {1} on {2}"},call_message_created_time_aria:function(){return"Created time:"},call_message_duration_aria:function(){return"Duration:"},call_message_incoming_text:function(){return"Incoming"},call_message_incoming_aria_label:function(){return"Incoming call"},call_message_outgoing_text:function(){return"Outgoing"},call_message_outgoing_aria_label:function(){return"Outgoing call"},call_message_missed:function(){return"Missed"},call_message_expand_voice_transcript:function(){return"Expand voice transcript"},call_message_collapse_voice_transcript:function(){return"Collapse voice transcript"},call_message_transcript_confidence_high:function(){return"Transcript confidence level: High"},call_message_transcript_confidence_medium:function(){return"Transcript confidence level: Medium"},call_message_transcript_confidence_low:function(){return"Transcript confidence level: Low"},remote_assist_title:function(){return"Remote assistance"},remote_assist_duration_label:function(){return"Duration:"},remote_assist_private_ip_label:function(){return"Private IP:"},remote_assist_public_ip_label:function(){return"Public IP:"},remote_assist_os_version_label:function(){return"OS version:"},remote_assist_empty_private_ip_display_value:function(){return"Unknown"},remote_assist_empty_public_ip_display_value:function(){return"Unknown"},remote_assist_empty_os_version_display_value:function(){return"Unknown"},agent_notes_title:function(){return"Agent Notes"},disposition_title:function(){return"Disposition"},view_transcript_option:function(){return"View Transcript"},download_transcript_option:function(){return"Download Transcript"},empty_activity_message_title:function(){return"No conversation history"},empty_activity_message_description:function(){return"All messages and calls will show up here."},navigate_to:function(){return"navigated to"},close_transcript_option:function(){return"Close Transcript"}},INTERNAL_CHAT:{message_input_placeholder:function(){return"Write a message"},message_input_placeholder_disabled:function(){return"You can't send messages because you are not a member of the chat"},chat_history_no_recent_while_loading:function(e){return"No recent {0}"},chat_history_search_for_older:function(e){return"Search for older {0}"},chat_history_no_recent_found:function(e){return"No older {0} found"},chat_note_input_placeholder:function(){return"Enter note"},chat_in_popup_message:function(){return"Chat has been pinned to the bottom of the screen"},unpin:function(){return"Unpin"}},MS_TEAMS_CHAT:{unsupported_code_snippet_card:function(){return"Unsupported Code Snippet Card"},unsupported_thumbnail_card:function(){return"Unsupported thumbnail card"},unsupported_hero_card:function(){return"Unsupported hero card"},unsupported_office_365_connector_card:function(){return'Unsupported Office 365 Connector Card"'}},EXTERNAL_CHAT:{unmask:function(){return"Unmask"},mask:function(){return"Mask"},add_emoji:function(){return"Add emoji"},attachment:function(){return"Attachment"},knowledge_base:function(){return"Knowledge Base"},predefined_messages:function(){return"Predefined Messages"},suggestions:function(){return"Suggestions"},send_message_btn_tooltip:function(){return"Send message"},insert_emoji_btn_tooltip:function(){return"Insert emoji"},insert_predefined_message_btn_tooltip:function(){return"Insert predefined message"},voice_transcript_header:function(e){return"{0} - Voice Transcript"},search_transcript:function(){return"Search transcript"},disposition_message_title:function(e,t,n){return"{0} dispositioned chat interaction on {1} at {2}"},disposition_message_service_name:function(){return"Service:"},disposition_message_name:function(){return"Disposition:"},sentiment_positive_tooltip:function(){return"Sentiment: Positive"},sentiment_neutral_tooltip:function(){return"Sentiment: Neutral"},sentiment_negative_tooltip:function(){return"Sentiment: Negative"},chat_attachment_remove_button:function(){return"Remove attachment"},masking_failed_error_message:function(){return"An error occurred while masking the message, please try again later."},invalid_file_extension_error:function(e){return"This message was blocked because its content presents a potential security issue {0}"},external_chat_party_joined_new:function(){return"has joined the session"},external_chat_party_left_new:function(){return"has left the session"},party_joined_chat_2:function(){return"has joined the chat"},party_left_chat_2:function(){return"has left the chat"},party_is_typing:function(){return"typing..."},agent_is_typing:function(e){return"{0} is typing..."},dialog_header_invite_to_group_chat:function(e){return"Invite to group: {0}"},invite_dialog_label:function(){return"Chat conference"},dialog_header_start_internal_chat:function(){return"Start an internal chat"},message_connection_accepted:function(e){return"{0} connection accepted"},button_start_web_call_tooltip:function(){return"Start Web Call"},button_start_video_call_tooltip:function(){return"Start Video Call"},warning_second_web_call_line_1:function(){return"you already have web call in progress,"},warning_second_web_call_line_2:function(){return"which will be dropped if you accept this web call"},warning_have_other_call_line_1:function(){return"you have voice call in progress,"},warning_have_other_call_line_2:function(){return"which will be put on hold if you accept this web call"},display_name_placeholder:function(){return"Anonymous"},download_attachment_button_text:function(){return"Download attachment"},open_fullsize_image_button_text:function(){return"Open fullsize image"},sms_messages_number:function(e){return"{0} messages"},location_message_icon_tooltip:function(){return"Show location"},messenger_unavailable_for_service_tooltip:function(){return"Selected service doesn't support that messenger"},system_message:function(){return"System Message"},file:function(){return"File"},received:function(){return"received"},contact:function(){return"Contact"},url:function(){return"Url"},external_chat_file_sent_new:function(){return"Sent file"},external_chat_party_coaching_new:function(){return"is now coaching"}},VOICE_TRANSCRIPT:{search_results:function(e,t){return"{0} of {1}"},title:function(){return"Call Transcript"},bot_suggestion_btn_tooltip:function(){return"Show Suggestions"},transcript_btn_tooltip:function(){return"Show Speech to Text"},sms_btn_tooltip:function(){return"Show Text Messages"}},VOICE_PROMPTS_DIALOG_BOX:{button_save_changes:function(){return"Save"},template_to_continue_save_part_1:function(){return"To continue,"},template_to_continue_save_part_2:function(){return"save"},template_to_continue_save_part_3:function(){return"or"},template_to_continue_save_part_4:function(){return"cancel"},template_to_continue_save_part_5:function(){return"your changes."}},AUTHORIZATION_DIALOG_LABELS:{label_loading_authorizing:function(){return"Authorizing..."},header_new_agent_desktop:function(){return"New Agent Desktop"},button_show_password:function(){return"Show password"},button_hide_password:function(){return"Hide password"},forced_login_dialog_header:function(){return"Login"},force_login_button_text:function(){return"Force log in"},username_or_email_address:function(){return"Username or Email Address:"},forgot:function(){return"Forgot?"},submit_reset:function(){return"Submit"},forgot_text:function(){return"Password reset instructions will be sent to your registered email address"}},DISPOSITION:{note:function(){return"Note"},write_a_note:function(){return"Write a note..."},select_disposition:function(){return"Select Disposition"},ended:function(){return"Ended"},set_disposition:function(){return"Set disposition"},disposition_set:function(){return"Disposition set"},disposition_not_selected:function(){return"Not Selected"},notes_length_error_text:function(e){return"Notes must be less than {0} characters"},required_disposition_error_text:function(){return"Disposition is required"},reschedule_date_in_past_error_text:function(){return"Reschedule date should not be in the past"},disposition_search_input_hint:function(){return"Search disposition"},resolution_crm_objects_new_label:function(){return"Associated Records"},resolution_crm_objects_empty_label:function(){return"No records to display"},resolution_crm_object_click_tooltip:function(e){return'Show "{0}"'},resolution_crm_objects_label:function(){return"Link to CRM objects"}},CALL_DETAILS_FORM:{interaction_failed:function(){return"Failed"},button_schedule_followup_label:function(){return"Schedule Follow-up"},button_add_case_label:function(){return"Add Case"},button_remote_access_tooltip:function(){return"Remote access"},button_call_problem_report_label:function(){return"Report"},button_initiate_call_tooltip:function(){return"Initiate call"},contact_details_link_tooltip:function(){return"Show contact details"},workitem_auto_dial_message_text:function(e){return"Auto-Dial in {0}s"},workitem_phone_number_call_tooltip:function(){return"Call"},workitem_history_filter_all:function(){return"All"},workitem_history_filter_calls:function(){return"Calls"},workitem_history_filter_messages:function(){return"Messages"}},ACCESSIBILITY:{status_call_muted:function(){return"Call muted"},status_call_unmuted:function(){return"Call unmuted"},status_call_on_hold:function(){return"Call on hold"},status_call_retrieved:function(){return"Call retrieved"},status_call_ended:function(){return"Call ended"},status_chat_message_sent:function(){return"Message sent"},alert_call_item_flagged:function(){return"Call flagged"},alert_call_item_unflagged:function(){return"Call unflagged"},alert_chat_item_flagged:function(){return"Chat flagged"},alert_chat_item_unflagged:function(){return"Chat unflagged"},alert_email_item_flagged:function(){return"Email conversation flagged"},alert_email_item_unflagged:function(){return"Email conversation unflagged"},alert_call_recording_started:function(){return"Recording started"},alert_call_recording_stopped:function(){return"Recording stopped"},country_selector_button_selected:function(e){return"Selected: {0}"},internal_chat_message:function(){return"Internal chat messages"},attachment_button_label:function(){return"Open attachment context menu"},incoming_interaction:function(){return"Incoming interaction"},chat_center_message_type_selector_label:function(){return"Message type selector"},chat_center_message_status_incoming_message:function(){return"Incoming message"},chat_center_message_status_outgoing_message:function(){return"Outgoing message"},chat_center_message_status_announcement:function(){return"Announcement"},chat_center_deleted_message:function(){return"Deleted message"},call_pickup_notification:function(){return"Call pick up notification"},call_pickup_alert_group:function(e,t,n){return"A call for a member of {0} from {1} {2}"},call_pickup_alert_recipient:function(e,t,n){return"A call for {0} from {1} {2}"}},CONTACT:{create_new:function(){return"Create New"},add_to_contact:function(){return"Add to Contact"},select_existing_contact:function(){return"Select Existing Contact"},search_for_contact:function(){return"Search for contact"},phone_number:function(){return"Phone Number"},email:function(){return"Email"},quick_add:function(){return"Quick Add"},contact:function(){return"Contact"},external_contact:function(){return"External Contact"},messages_field_label:function(){return"Messages"},phone_field_label:function(){return"Phone"},type_field_label:function(){return"Type"},description_field_label:function(){return"Description"},email_field_label:function(){return"Email"},internal_messages_field_value:function(){return"Internal chat"},full_name:function(){return"Full Name"},merge_contacts:function(){return"Merge Contacts"},create_contact:function(){return"Create Contact"},create_new_contact_button_text:function(){return"Create new contact"},search_contact_to_merge:function(){return"Search contacts to merge"},merge_form_title:function(){return"Review and confirm merge"},create_and_open_in_crm:function(){return"Create and open in CRM"},open_in_crm:function(){return"Open in CRM"},merge_to_existing:function(){return"Merge to Existing"},button_start_call_text:function(){return"Start a call"},button_initiate_chat_text:function(){return"Initiate chat"},button_send_email_text:function(){return"Send email"},button_show_contact_details_text:function(){return"Show contact details"},label_add_phone:function(){return"Add phone"},label_add_email:function(){return"Add email"},label_add_address:function(){return"Add address"},augment_contact:function(){return"Augment"},add_email_heading:function(){return"Add email to existing contact"},add_phone_heading:function(){return"Add phone number to existing contact"},add_email_description:function(e,t){return"`Add email {0} to {1} record as`"},add_phone_description_1:function(){return"Would you like to add"},add_phone_description_2:function(){return"to"},add_phone_description_3:function(){return"record"},add_phone_description_4:function(){return"as a"},add_phone_description_5:function(){return"phone?"},add_email_description_1:function(){return"Would you like to add"},add_email_description_2:function(){return"to"},add_email_description_3:function(){return"record"},add_email_description_4:function(){return"as a"},add_email_description_5:function(){return"email?"},add_email_confirmation_button:function(){return"Save"},add_phone_confirmation_button:function(){return"Save"},add_phone_phone_type_placeholder:function(){return"Phone type"},add_email_email_type_placeholder:function(){return"Email type"},save_error:function(){return"There was an error while saving the contact"},delete_error:function(){return"There was an error while deleting the contact"},open_error:function(){return"There was an error while opening the contact"},unsaved_warning_message:function(){return"You have unsaved changes that will be lost, do you want to continue?"},unidentified_contact:function(){return"Unidentified contact"},go_back_button_button_tooltip:function(){return"Back"},copied_confirmation_label_text:function(){return"Copied!"},add_entry_button_tooltip:function(){return"Add entry"},remove_entry_button_tooltip:function(){return"Remove entry"},create_new_contact:function(){return"Create new contact"},add_to_existing_contact:function(){return"Add to existing contact"},no_associated_contacts_found:function(){return"No associated contacts found."},channel_favorites_phone_icon_tooltip:function(){return"Dial number"},channel_favorites_chat_icon_tooltip:function(){return"Start chat"}},SEARCH_CONTACT_DIALOG:{active_interactions_section_title:function(){return"Active Interactions"},contacts_section_title:function(){return"Contacts"},no_results:function(){return"No external contacts found"},no_results_for_query:function(e){return'No external contacts found for "{0}"'}},LOGOUT_DIALOG:{body_text:function(){return"Are you sure you want to sign out from your account and close all applications?"},sign_out_text:function(){return"Sign Out"},loggingOff_text:function(){return"Logging off..."},cancel_btn:function(){return"Cancel"}},FORMS:{address_type:function(){return"Address type"},street:function(){return"Street"},address_line_1:function(){return"Address Line 1"},address_line_2:function(){return"Address Line 2"},city:function(){return"City"},state:function(){return"State"},zip:function(){return"Zip"}},DIAL_PAD:{keypad:function(){return"KeyPad"},dialpad:function(){return"Dialpad"},error_empty_number:function(){return"Please, enter the number"},show_controls_label:function(){return"Show controls"},hide_controls_label:function(){return"Hide controls"},delete_last_digit_tooltip:function(){return"Delete last digit"},invalid_number_error_text:function(){return"Enter extension or number valid for the selected country"},error_pause_symbols:function(){return"Number can not start and/or end with pause symbols!"},no_contacts_found_for:function(e){return"No contacts found for {0}"}},ADDRESS_BOOK_AREA:{tab_directory_internal:function(){return"Internal"},tab_directory_external:function(){return"External"},addressBook_calendar:function(){return"Calendar"},addressBook_recents:function(){return"Recents"},addressBook_dial_pad:function(){return"Dial Pad"},addressBook_active_interactions:function(e){return"Active Interactions ({0})"},addressBook_interaction_details:function(){return"Interaction Details"},addressBook_contact_details:function(){return"Contact Details"},addressBook_knowledge_base:function(){return"Knowledge Base"},addressBook_help:function(){return"Help"},addressBook_cases:function(){return"Cases"},contact:function(){return"Contact"},active_interaction:function(){return"Active interaction"}},ERROR_MESSAGES:{rescue_modal_no_tech_console_running:function(){return"Open technician`s app and login there"},rescue_modal_unknown_error:function(){return"Unknown error occurred"},offline_unavailable_functionality:function(){return"Some functionality may be unavailable offline"},unhandled_router_error:function(){return"An error has occurred. Please, reopen or reload the page. "},communicator_msteams_refresh_token_expired_error_message:function(){return"Your Microsoft login into MS Teams integration has expired, re-authorize in Settings -> Enterprise Messaging Accounts."},communicator_msteams_reset_by_admin_message:function(){return"Teams integration was reset by admin, please re-enable Teams in Settings -> Enterprise Messaging Accounts."},error_field_required:function(){return"Field is required"},error_no_username:function(){return"Please enter your username"},error_no_service:function(){return"Select a service in the dropdown menu"},error_no_tenant:function(){return"Tenant is required"},error_no_chat_in_service:function(){return"There is no associated chat with this service, please, select another service"},error_no_channel_in_service:function(){return"No service selected or service is not suitable for this action"},error_no_number:function(){return"This item has no number"},error_self_call:function(){return"You can't call yourself"},insufficient_privileges:function(){return"Your login id is not valid for this application"},device_empty:function(){return"No microphone detected, calls are not possible"},device_detected:function(e){return"Audio device is detected: {0}"},login_no_name:function(){return"You should specify your username"},login_no_password:function(){return"You should specify your password"},login_invalid_user_name:function(){return"The username or password is incorrect"},login_invalid_password:function(){return"The username or password is incorrect"},login_invalid_domain:function(){return"Invalid domain"},login_unknown_error:function(){return"Login failed: Internal Error"},forcedLogout_automatically:function(e){return"You have been automatically logged out at {0}"},no_permissions_did_sms:function(){return"You have no permissions to start SMS chat with a selected DID number"},no_permissions_did_call:function(){return"You have no permissions to start a voice call with a selected DID number"},profile_emi_request_error:function(){return"Unknown error during server request"},profile_emi_abrupt_window_close:function(){return"Authentication window was closed"},profile_emi_auth_protocol_error:function(){return"Internal auth protocol error"},profile_emi_unsuccessful_result:function(){return"Procedure finished unsuccessfully"},error_message_size_limit_exceeded:function(e){return"Message size exceeds limit of {0} characters"},chat_web_rtc_only_1_call_simultaneously:function(){return"Only 1 chat with in-browser call allowed at a time"},chat_web_rtc_invalid_ice_server:function(){return"Unable to connect to WebRTC ICE servers"},chat_web_rtc_answer_timeout:function(){return"Call was not answered"},domain_authentication_error_part1:function(){return"This domain is not authorized to access your screen and microphone, please click "},domain_authentication_error_part2:function(){return" to authorize"},associated_records_not_selected:function(){return"Please make a valid selection"},associated_records_not_selected_extended:function(e){return'Please make a valid selection: "{0}"'},chat_channel_invite_bad_format:function(){return"Incorrect invite format, expected: /invite <messenger>"},chat_channel_invite_unknown_messenger:function(){return"Invite error: unknown messenger"},error_email_format:function(){return"Invalid email address"},error_phone_format:function(){return"Invalid phone format"},error_digits_format:function(){return"Invalid digits format"},microphone_muted:function(){return"Microphone is muted or not working"},low_cpu:function(){return"Low system resources may affect your audio quality. Try closing some applications to improve performance."},activity_history_file_masking_error:function(){return"An error occurred while masking the file, please try again later."},predefined_messages_load_error:function(){return"Didn't manage to load chat responses, please try again."}},MESSENGERS:{unknown_messenger:function(e){return"Unknown messenger: {0}"},whatsapp:function(){return"WhatsApp"}},THRESHOLDS:{disabled_threshold_header:function(){return"Disabled"},restore:function(){return"Restore"},edit:function(){return"Edit"},enable:function(){return"Enable"},disable:function(){return"Disable"}},EMAIL:{find_agents:function(){return"Find agents"},find_agent:function(){return"Find agent"},assign_to:function(){return"Assign to"},download_original:function(){return"Download original"}},HOME_SCREEN:{me:function(e){return"{0} (me)"},add_widget:function(){return"Add Widget"},select_widget:function(){return"Select widget"},combine_widgets:function(){return"Combine Widgets"},select_flipping_widgets:function(){return"Select widgets to be available for flipping"},home_tab:function(){return"Home"},push_to_team:function(){return"Push to Team"},push_to_team_team_name:function(){return"Team Name"},push_to_team_agents:function(){return"Push to Agents"},push_to_team_supervisors:function(){return"Push to Supervisors"},push:function(){return"Push"},interaction_tab_label_resolution:function(){return"Resolution"},interaction_tab_label_all_interactions:function(){return"All Interactions"},interaction_tab_label_transcript:function(){return"Transcript"},interaction_tab_label_calls:function(){return"Calls"},interaction_tab_label_messages:function(){return"Messages"},interaction_tab_label_crm:function(){return"Records"},interaction_tab_workitem_contacts:function(){return"Record Contacts"},interaction_tab_workitem_details:function(){return"Record Details"},interaction_tab_workitem_history:function(){return"History"},interaction_call_conference_label:function(){return"Conference"},interaction_chat_conference_label:function(){return"Conference Chat"},menu_icon_tooltip:function(){return"Menu"},time_frame_today:function(){return"Today"},time_frame_week:function(){return"This Week"},time_frame_month:function(){return"This Month"},time_frame_year:function(){return"This Year"},home_screen_selectTitleAvailable:function(){return"Available"},home_screen_selectTitleIncluded:function(){return"Included"},home_screen_label_timeFrame:function(){return"Time Frame"},home_screen_label_timeFrameFrom:function(){return"From"},home_screen_label_timeFrameTo:function(){return"To"},navigation_non_call_cases:function(){return"Non-Call Cases"},navigation_interaction_search:function(){return"Interaction search"},breaktime_permitted:function(){return"Permitted"},breaktime_exceeded:function(){return"Exceeded"},breaktime_reamaining:function(){return"Remaining"},breaktime_used:function(){return"Used"},breaktime_mins:function(e){return"{0} min"},breaktime_label:function(e,t){return"{0} min {1}"},my_team_dummy_name:function(e){return"Agent {0}"},request_direct_chat_invitation_link_button_tooltip:function(){return"Create direct chat invitation link"},direct_chat_invitation_link_copied_label:function(){return"Copied"},direct_chat_copy_link_safari_notification:function(){return"A direct chat link has been created. Click here to copy it"},max_items_to_show:function(){return"Max Items to Show"},columns_headings:function(){return"Columns headings"},add_statistic:function(){return"Add Statistic"},use_user_dummy_names:function(){return"Use dummy codes instead of agent names"},my_subteam_only_label:function(){return"My subteam only"},header_save_btn:function(){return"Save"},header_preview_btn:function(){return"Preview"},header_close_preview_btn:function(){return"Close Preview"},delete_widget_title:function(){return"Delete Widget"},delete_widget_content:function(e){return"Delete {0}?"},widget_will_be_removed:function(){return"Widget will be removed from the page"},delete_homepage_title:function(){return"Delete view"},delete_homepage_content:function(e){return"Delete {0}?"},new_home_page_select_placeholder:function(){return"Select"},new_home_page_title:function(){return"New view"},new_home_page_type:function(){return"Type"},restore_unsaved_config_title:function(){return"Restore Unsaved Changes"},restore_unsaved_config_content:function(){return"The view has unsaved changes. Would you like to restore them?"},select_all:function(){return"Select all"},deselect_all:function(){return"Deselect all"},search_for_metrics:function(){return"Search for Metrics"},show_selected_only:function(){return"Show selected only"},configure_widget:function(){return"Configure Widget"},flip_widget:function(){return"Flip Widget"},new_view:function(){return"New View"},full_screen:function(){return"Full Screen"},edit_view:function(){return"Edit View"},menu:function(){return"Menu"},all_services:function(){return"All Services"},all_teams:function(){return"All Teams"},all_states:function(){return"All States"},show_services:function(){return"Show Services"},show_teams:function(){return"Show Teams"},show_states:function(){return"Show States"},agent_state_busy:function(){return"Busy"},agent_state_ready:function(){return"Ready"},agent_state_after_call_work:function(){return"After Call Work"},agent_state_not_ready:function(){return"Not Ready"},agent_state_logged_out:function(){return"Logged Out"},limit_my_subteam:function(){return"My subteam only"},limit_logged_in:function(){return"Logged in only"},text:function(){return"Text"},menu_new:function(){return"New"},menu_edit:function(){return"Edit"},menu_delete:function(){return"Delete"},menu_duplicate:function(){return"Duplicate"},menu_export:function(){return"Export"},menu_import:function(){return"Import"},menu_push_to_global:function(){return"Push to Global"},menu_pull_from_global:function(){return"Pull from Global"},agent_select_title:function(){return"Select agent"},agent_select_label:function(){return"Agent"},logged_in_user:function(){return"Logged in User"},standard_widgets:function(){return"Standard Widgets"},user_widgets:function(){return"User Widgets"},select_teams:function(){return"Select Teams"},home_page_welcome:function(){return"Welcome"},push_to_global_error:function(e){return"The {0} view failed to push to global. Please try again later."},pull_from_global_error:function(e){return"The {0} view failed to pull from global. Please try again later."},duplicate_error:function(e){return"Failed to duplicate the {0} view. Please try again later."},delete_error:function(e){return"Failed to delete the {0} view. Please try again later."},import_error:function(){return"Failed to import the view. Please try again later."},update_error_title:function(){return"Error updating view"},update_error_content:function(e){return"Failed to update the {0} view. Please try again later."},create_error_title:function(){return"Error creating view"},create_error_content:function(){return"Failed to create the view. Please try again later."}},HOME_PAGE_AGENT_WIDGETS:{my_break_time:function(){return"My Break Time"},my_stats:function(){return"My Stats"},my_services:function(){return"My Services"},my_team:function(){return"My Team"}},HOME_PAGE_SUPERVISOR_TEMPLATES:{empty_template:function(){return"Empty"},all_agents_template:function(){return"All Agents"},all_agents_agents:function(){return"Agents"},contact_center_overview_template:function(){return"Contact Center Overview"},contact_center_overview_queues:function(){return"Queues"},contact_center_overview_longest_calls:function(){return"Longest Calls"},contact_center_overview_longest_not_ready:function(){return"Longest Not Ready"},contact_center_overview_longest_hold:function(){return"Longest Hold"},contact_center_overview_all_agents:function(){return"All agents"},contact_center_overview_waiting_in_all_queues:function(){return"Waiting in All Queues"},contact_center_overview_positive_disposition_counts:function(){return"Positive Disposition Counts"},contact_center_overview_abandoned:function(){return"Abandoned, All Queues"},contact_center_overview_queued:function(){return"Queued, All Queues"},contact_center_overview_longest_acw:function(){return"Longest ACW"},contact_center_overview_agent_state_summary:function(){return"Agent State Summary"},email_wallboard_template:function(){return"Email View"},email_wallboard_new_email:function(){return"New Email"},email_wallboard_email_carried_over:function(){return"Email Carried Over"},email_wallboard_email_handled:function(){return"Email Handled"},email_wallboard_email_replied:function(){return"Email Replied"},email_wallboard_top_personal_queues:function(){return"Top Personal Queues"},email_wallboard_top_agents_by_email_handled:function(){return"Top Agents by Email Handled"},email_wallboard_email_services:function(){return"Email Services"},email_wallboard_email_dispositioned_wo_reply:function(){return"Email Dispositioned wo Reply"},email_wallboard_email_in_personal_queues:function(){return"Email in Personal Queues"},email_wallboard_bottom_agents_by_email_handled:function(){return"Bottom Agents by Email Handled"},email_wallboard_top_break_time:function(){return"Top Break Time"},inbound_wallboard_template:function(){return"Inbound View"},inbound_wallboard_in_queue_max_wait:function(){return"In Queue/Max Wait"},inbound_wallboard_in_ivr:function(){return"In IVR"},inbound_wallboard_callbacks_in_queue:function(){return"Callbacks in Queue"},inbound_wallboard_abandoned:function(){return"Abandoned %"},inbound_wallboard_service_queues:function(){return"Service Queues"},inbound_wallboard_busy_agents:function(){return"Busy Agents"},inbound_wallboard_estimated_wait_time:function(){return"Estimated Wait Time"},inbound_wallboard_asa:function(){return"ASA"},inbound_wallboard_top_not_ready_agents:function(){return"Top Not Ready Agents"},inbound_wallboard_top_after_call_work:function(){return"Top After Call Work"},inbound_wallboard_top_idle_time_agents:function(){return"Top Idle Time Agents"},inbound_wallboard_longest_hold:function(){return"Longest Hold"},outbound_campaigns_template:function(){return"Outbound Campaigns"},outbound_campaigns_occupancy:function(){return"Occupancy"},outbound_campaigns_outbound_calling_rate:function(){return"Outbound Calling Rate"},outbound_campaigns_abandoned:function(){return"Abandoned %"},outbound_campaigns_outb_in_q_now:function(){return"Outb In Q Now"},outbound_campaigns_campaigns:function(){return"Campaigns"},outbound_campaigns_top_successful_agents:function(){return"Top Successful Agents"},outbound_campaigns_top_agents_by_avg_call_duration:function(){return"Top Agents by Avg Call Duration"},outbound_campaigns_agent_state_summary:function(){return"Agent State Summary"},outbound_campaigns_outbound_calls_on_agents:function(){return"Outbound Calls on Agents"},outbound_campaigns_records_completed_today:function(){return"Records Completed Today"},outbound_campaigns_top_break_time:function(){return"Top Break Time"}},HOME_PAGE_SUPERVISOR_WIDGETS:{single:function(){return"Single Statistic"},agent_grid:function(){return"Agent Grid"},service_grid:function(){return"Service Grid"},summary:function(){return"Agent State Summary"},gauge:function(){return"Gauge"},text:function(){return"Text"},datetime:function(){return"Time"},image:function(){return"Image"},time_series:function(){return"Time Series"},copy_from_other:function(){return"Copy from other wallboard"},break_time:function(){return"Break Time"},dispositions:function(){return"Dispositions"},my_stats:function(){return"My Stats"},satisfaction:function(){return"Satisfaction"}},HOME_PAGE_SUPERVISOR_WIDGETS_NAMES:{break_time:function(e){return"Break Time: {0}"},dispositions:function(e){return"Dispositions: {0}"},my_stats:function(e){return"My Stats vs My Team's: {0}"},satisfaction:function(e){return"Satisfaction: {0}"}},HOME_PAGE_SINGLE_OR_GAUGE_WIDGET:{name_single:function(){return"Single Statistic"},name_gauge:function(){return"Gauge"},primary_statistic:function(){return"Primary Statistic"},secondary_statistic:function(){return"Secondary Statistic"},warning_threshold:function(){return"Warning threshold"},alert_threshold:function(){return"Alert threshold"},max_threshold:function(){return"Max threshold"},enable_warning_sound:function(){return"Enable warning sound"}},HOME_PAGE_WIDGET_IMAGE:{image:function(){return"Image"},style:function(){return"Style"},style_contain:function(){return"Contain"},style_cover:function(){return"Cover"}},HOME_PAGE_MY_STATS_WIDGET:{handled:function(){return"Handled"},average_handling_time:function(){return"Average Handling Time"},successful_interactions:function(){return"Successful Interactions"},my_stats:function(){return"My Stats"},teams_stats:function(){return"Team's Stats"}},INCOMING_CALL_DIALOG_BOX:{dial_number:function(){return"Dial Number"},incomingInteraction_dismiss:function(){return"Dismiss"},button_accept_and_open_label:function(){return"Accept and Open"},button_accept_and_open_label_2:function(){return"Accept & Open"},loader_accepting_interaction_label:function(){return"Accepting..."},auto_accept_timer:function(e){return"in {0}"},button_see_context_label:function(){return"See Context"},button_campaign_item_dial_label:function(){return"Dial Number"},button_campaign_item_dial_label_2:function(){return"Dial"},call_pickup_call_for_member_of_group_label:function(){return"A call for a member of"},call_pickup_call_for_label:function(){return"A call for"},call_pickup_conference_label:function(){return"Conference"}},INTERACTION_SEARCH:{grid_copy:function(){return"Copy"},grid_copied:function(){return"Copied"},grid_columns:function(){return"Columns"},grid_layout:function(){return"Layout"},grid_search_columns_placeholder:function(){return"Search columns"},grid_autosize_this_column:function(){return"Autosize this column"},grid_autosize_all_columns:function(){return"Autosize all columns"},grid_reset_columns:function(){return"Reset columns collection to default"},search_panel_more_button:function(){return"More"},search_panel_search_input_placeholder:function(){return"Enter Global Interaction ID or a search text string"},search_tab_title:function(){return"Search"},search_tab_general:function(){return"General"},search_result_col_media_type:function(){return"Media Type"},search_result_col_data_state:function(){return"Recordings"},search_result_col_start_time:function(){return"Start Time"},search_result_col_global_interaction_id:function(){return"Global interaction id"},search_result_col_origination:function(){return"From"},search_result_col_destination:function(){return"To"},search_result_col_duration:function(){return"Duration"},search_result_col_talk_time:function(){return"Talk Time"},search_result_col_service_names:function(){return"Service"},search_result_col_agent_names:function(){return"Agent"},search_result_col_number_of_segments:function(){return"Segments"},search_result_col_queue_time:function(){return"Queue Time"},search_result_col_ivr_time:function(){return"IVR Time"},search_result_col_hold_time:function(){return"Hold Time"},search_result_col_number_of_holds:function(){return"Number of Holds"},search_result_col_disposition_names:function(){return"Disposition"},search_result_col_flagged:function(){return"Flagged"},search_result_col_contact_name:function(){return"Contact"},search_result_col_account_number:function(){return"Account"},search_result_col_sentiment:function(){return"Sentiment"},search_result_col_sentiment_value:function(){return"Sentiment Value"},search_result_col_call_problem:function(){return"Call Problem"},search_result_col_email_subject:function(){return"Subject"},search_result_col_custom_1:function(){return"Custom 1"},search_result_col_custom_2:function(){return"Custom 2"},search_result_col_custom_3:function(){return"Custom 3"},search_result_col_custom_4:function(){return"Custom 4"},search_result_col_custom_5:function(){return"Custom 5"},search_result_col_cobrowsing:function(){return"Co-browsing"},searchable_list_panel_no_results:function(){return"No results found."},searchable_list_panel_no_options:function(){return"No options available."},filter_panel_any_placeholder:function(){return"Any"},filter_panel_agents:function(){return"Agents"},filter_panel_teams:function(){return"Teams"},filter_panel_search_agents_placeholder:function(){return"Search agents"},filter_panel_search_teams_placeholder:function(){return"Search teams"},filter_panel_date_today:function(){return"Today"},filter_panel_date_yesterday:function(){return"Yesterday"},filter_panel_date_last_24h:function(){return"Last 24 hours"},filter_panel_date_last_week:function(){return"Last month"},filter_panel_date_last_month:function(){return"Last week"},filter_panel_date_select_date:function(){return"Select date"},filter_panel_date_after_date:function(){return"After date"},filter_panel_date__before_date:function(){return"Before date"},filter_panel_date_between_dates:function(){return"Between dates"},filter_panel_date_custom_date:function(){return"Custom date: "},filter_panel_duration_custom:function(){return"Custom: "},filter_panel_exists:function(){return"Exists"},filter_panel_not_exists:function(){return"Does not exist"},filter_panel_yes:function(){return"Yes"},filter_panel_no:function(){return"No"},filter_panel_media_all:function(){return"All Media"},filter_panel_media_voice:function(){return"Voice"},filter_panel_media_chat:function(){return"Text"},filter_panel_media_email:function(){return"Email"},filter_panel_clear_all_button:function(){return"Clear All"},filter_panel_disposition:function(){return"Disposition"},filter_panel_search_dispositions_placeholder:function(){return"Search dispositions"},filter_panel_contact_account:function(){return"Contact/Account"},filter_panel_voice_recording:function(){return"Recording"},filter_panel_screen_recording:function(){return"Screen Recording"},filter_panel_transcript:function(){return"Transcript"},filter_panel_duration:function(){return"Duration"},filter_panel_talk_time:function(){return"Talk Time"},filter_panel_queue_time:function(){return"Queue Time"},filter_panel_scenario:function(){return"Scenario"},filter_panel_search_scenarios_placeholder:function(){return"Search scenarios"},filter_panel_time_period:function(){return"Time Period"},filter_panel_phone_address:function(){return"Phone/Address"},filter_panel_service:function(){return"Service"},filter_panel_search_services_placeholder:function(){return"Search services"},filter_panel_team:function(){return"Team"},filter_panel_agent:function(){return"Agent"},filter_panel_show_more_filters:function(){return"Show more filters"},filter_panel_hide_extra_filters:function(){return"Hide extra filters"}},VALIDATION:{ALL_FIELDS_ARE_REQUIRED:function(){return"All fields are required"},LETTER_DIGITS:function(){return"Digits and letters"},UPPER_LOWER:function(){return"Upper and lower case letters"},SPECIAL:function(){return"Special characters"},MIN_LENGTH:function(e){return"At least {0} characters long"},WEAK_LIST:function(){return"Not based on a commonly used word (found in a weak password list)"},NOT_USED_RECENTLY:function(){return"Has not been used recently"},NOT_IN_SELF_NAMES:function(){return"Not based on an item or a tenant name"},STRONG_ENOUGH:function(){return"Password strength: strong"},OLD_PASSWORD_ERROR:function(){return"Old password is incorrect"},NEW_PASSWORD_ERROR:function(){return"New password isn`t strong enough"},CONTACT_CREATION_ERROR:function(){return"Contact creation failed"},CONTACT_MERGE_ERROR:function(){return"Contact merge failed"},SAVING_FAILED:function(){return"Saving failed"}},ADD_FAVORITE_ENTRY_DIALOG_BOX:{add_button:function(){return"Add"},addFavoriteEntry_internal_call_label:function(){return"Internal Call"},addFavoriteEntry_internal_chat_label:function(){return"Internal Chat"},addFavoriteEntry_call_label:function(){return"Call"},addFavoriteEntry_sms_mms_label:function(){return"SMS/MMS"},addFavoriteEntry_email_label:function(){return"Email"},addFavoriteEntry_messenger_label:function(){return"Messenger"},addFavoriteEntry_add_phone_label:function(){return"Add Phone"},addFavoriteEntry_add_email_label:function(){return"Add Email"},addFavoriteEntry_add_messenger_label:function(){return"Add Messenger"},addFavoriteEntry_messages_label:function(){return"Messages"},addFavoriteEntry_name_or_nickname_label:function(){return"First Name or Nickname"},addFavoriteEntry_last_name_label:function(){return"Last Name"},addFavoriteEntry_single_phone_label:function(){return"Phone"},internal_voice_channel_label:function(){return"Internal call"},internal_chat_channel_label:function(){return"Internal chat"},create_favorite_heading:function(){return"Create Favorite"},edit_favorite_heading:function(){return"Edit Favorite"},specify_channel:function(){return"Specify one or more channels"},create:function(){return"Create"},default_first_name:function(){return"Anonymous"},error_invalid_name:function(){return"Invalid name"},select_favorite_channels:function(){return"Select Favorite Channels"},modal_title:function(){return"Select Favorite Channel(s)"},modal_info:function(){return"Select channel(s) to add to Favorites:"},at_least_one_channel_warning_start:function(){return"At least one communication channel is required. Add a communication channel, or click"},at_least_one_channel_warning_end:function(){return"to discard the favorite."}},CALENDAR:{no_results_label:function(){return"No results found"},calendars_heading:function(){return"Calendars"},assignees_search_tooltip:function(){return"Keep typing to search for suggestions"},all_day:function(){return"All day"},aria_search_label:function(){return"Search timezone"},add_event_btn_tooltip:function(){return"Create Event"},aria_timezone_dropdown:function(){return"Select secondary timezone"},seconds_short:function(){return"sec"},minutes_short:function(){return"min"},day:function(){return"Day"},month:function(){return"Month"},month_nav_btn_tooltip:function(){return"Show month navigation"},more:function(e){return"{0} more"},date_title_tooltip:function(){return"Title"},timezone_all_header:function(){return"All Timezones"},timezone_local_header:function(){return"Local"},timezone_local_name:function(){return"local"},timezone_local_secondary_title:function(e,t){return"Local timezone: {0}. Secondary timezone: {1}"},timezone_local_title:function(e){return"Local timezone: {0}"},timezone_recently_header:function(){return"Recently Used"},timezone_search_placeholder:function(){return"Search"},today:function(){return"Today"},week:function(){return"Week"},events_period:function(){return"Events period"},schedule:function(){return"Schedule"},assign_button:function(){return"Assign"},holidays:function(){return"Holidays"},events_and_meetings:function(){return"Events and Meetings"},requests:function(){return"Requests"},shifts:function(){return"Shifts"},my_calendar:function(){return"My Calendar"},my_requests:function(){return"My Requests"}},CALENDAR_EVENT_MODAL:{title:function(){return"Event Details"}},CALENDAR_EVENT_FORM:{add_contact_dialog_select_button_text:function(){return"Add Contact"},add_contact_dialog_title:function(){return"Add Contact"},aria_event_cancel_label:function(){return"Discard changes and close panel"},aria_event_delete_label:function(){return"Delete event"},aria_event_edit_label:function(){return"Edit event data"},aria_event_save_label:function(){return"Save event data"},batchAssignEvents:function(){return"Batch Assign Events"},batch_assign_event_users_placeholder:function(){return"Enter name of person or team"},button_delete_text:function(){return"Delete"},button_edit_text:function(){return"Edit"},button_save_text:function(){return"Save"},date_from_label:function(){return"Date from"},date_to_label:function(){return"Date to"},delete_modal_cancel:function(){return"Cancel"},delete_modal_ok:function(){return"Delete"},delete_modal_text:function(e){return'Are you sure you want to delete the event "{0}"?'},delete_modal_title:function(){return"Delete Event"},discard_modal_cancel:function(){return"Cancel"},discard_modal_discard:function(){return"Discard"},discard_modal_text:function(){return"Discard unsaved changes?"},error_delete_event_header:function(){return"Unable to delete calendar event"},error_delete_event_text:function(){return"Try again later"},error_save_event_header:function(){return"Unable to save calendar event"},error_save_event_text:function(){return"Try again later"},event_title:function(){return"Event title"},field_allday_label:function(){return"All day event"},field_assignee_label:function(){return"Assignee"},field_assignee_placeholder:function(){return"Placeholder"},field_completed_label:function(){return"Completed"},field_contact_dropdown_manually_label:function(){return"Add Contact Manually"},field_contact_dropdown_search_label:function(){return"Search Contacts"},field_contact_label:function(){return"Add Contact"},field_date_label:function(){return"Date"},field_details_label:function(){return"Details"},field_details_none:function(){return"none"},field_details_text:function(e){return 1===e?"1 tab":"{0} tabs"},field_reminder_label:function(){return"Reminder"},field_summary_label:function(){return"Summary"},field_time_label:function(){return"Time"},field_title_placeholder:function(){return"Add title"},format_days:function(e){return 1===e?"1 day":"{0} days"},format_hours:function(e){return 1===e?"1 hour":"{0} hours"},format_minutes:function(e){return 1===e?"1 minute":"{0} minutes"},phone_number_label:function(){return"Phone number"},show_date_suggestions_label:function(){return"Show date suggestions"},show_suggested_phone_numbers:function(){return"Show date suggestions"},show_timezones_label:function(){return"Show suggested timezones"},text_all_day_event:function(){return"All day event"},text_reminde_before:function(e){return"Remind {0} before"},add_new_contact_name_placeholder:function(){return"Name"},add_new_contact_phone_placeholder:function(){return"Phone"},add_new_contact_create_label:function(){return"Create contact"}},CALENDAR_REQUESTS:{hours_available:function(){return"Hours available"},type:function(){return"Type"},requested_time:function(){return"Requested time"},submission_date:function(){return"Submission date"},approval_date:function(){return"Approval date"},comments:function(){return"Comments"},system_approval:function(){return"System approval"},create_request:function(){return"Create Request"},new_request:function(){return"New Request"},schedule_request:function(){return"Schedule Request"},absence_request:function(){return"Absence Request"},schedule_change_request:function(){return"Schedule-Change Request"},overtime_request:function(){return"Overtime Request"},absence_type:function(){return"Absence type"},remaining_balance:function(){return"Remaining Balance"},absence_sick:function(){return"Absence (Sick)"},date:function(){return"Date"},all_or_nothing:function(){return"All or nothing"},if_unavailable_deny:function(){return"If one day is unavailable, deny full request"},created_at:function(){return"Created at"},by_system:function(){return"by system"},any_type:function(){return"Any Type"},all:function(){return"All"},choose_requests_period:function(){return"Choose requests period"}},CALENDAR_SETTINGS:{heading:function(){return"Calendar Settings"},locale:function(){return"Locale"},my_availability:function(){return"My Availability"},my_calendars:function(){return"My Calendars"},country:function(){return"Country"},date_format:function(){return"Date Format"},date_format_not_selected:function(){return"Date format not selected"},time_format:function(){return"Time Format"},time_format_not_selected:function(){return"Time format not selected"},time_zone:function(){return"Time Zone"},display_secondary_time_zone:function(){return"Display secondary time zone"},time_zone_not_selected:function(){return"Time zone not selected"},secondary_time_zone_not_selected:function(){return"Secondary time zone not selected"},show_weekends:function(){return"Show Weekends"},enable_working_hours:function(){return"Enable working hours"},set_to_all:function(){return"Set to All"},to:function(){return"to"},create_calendar:function(){return"Create Calendar"},import_calendar:function(){return"Import Calendar"},edit_calendar:function(){return"Edit Calendar"},no_calendars_created:function(){return"No calendars created"},enter_calendar_name:function(){return"Enter calendar name"}},RINGTONE_VOLUME_DIALOG_BOX:{ringtoneVolumeDialog_heading_text:function(){return"Ringtones and Alert Volume"},test_notification_sound_aria_label:function(){return"Test notification sound"},test_softphone_sound_aria_label:function(){return"Test softphone sound"},test_incoming_message_sound_aria_label:function(){return"Test incoming message sound"},test_internal_chat_sound_aria_label:function(){return"Test internal chat sound"},button_close_text:function(){return"Close"}},CHANGE_PASSWORD_DIALOG_BOX:{title:function(){return"Change Password"},title_required:function(){return"Password Change Required"},correct_old_password_hint:function(){return"Correct old password"}},DID:{voice_number:function(e){return"Voice number {0}"},sms_number:function(e){return"SMS number {0}"},voice_and_sms_number:function(e){return"Voice and SMS number {0}"}},DEVICE_SETUP_WINDOW:{phone_type_microsoft_teams_not_valid:function(){return'Microsoft Teams Direct Routing phone number must have only digits, plus sign "+", and comma ","'}},RESCHEDULE:{reschedule_call:function(){return"Reschedule Call"},next_call_date:function(){return"Next Call Date"},from:function(){return"From"},to:function(){return"To"},time_zone:function(){return"Time Zone"},phone:function(){return"Phone"}},SETTINGS:{setting_btn_text:function(){return"Settings"},settings_menu_go_back:function(){return"Go back"},menu_phone_devices_disabled_tooltip:function(){return"Phone device settings aren't available during an active call"}},VOICE_CALL:{transfer_search_placeholder:function(){return"Search Contact Name, Phone Number, Ext."},consult_conference_blind_transfer:function(){return"Consult, Conference, or Blind Transfer"},prerecorded_messages_play_and_leave:function(){return"Play and leave"},prerecorded_messages_more_messages:function(){return"More messages"},prerecorded_messages_recents:function(){return"Recents"},prerecorded_messages:function(){return"Prerecorded Messages"},dial_consult_button_tooltip:function(){return"Consult"},dial_conference_button_tooltip:function(){return"Conference"},blind_transfer_button_tooltip:function(){return"Blind transfer"},disposition_message_title:function(e,t,n){return"{0} dispositioned voice call on {1} at {2}"}},METRIC_NAMES:{in_calls_first_time_queued_per_day_short:function(){return"IN Queued Unique"},last_alert_short:function(){return"Last Alert"},last_alert_long:function(){return"Last Alert"},agent_total_not_ready_time_short:function(){return"Not Ready"},agent_total_not_ready_time_long:function(){return"My Not Ready Time"},agent_success_ratio_per_day_short:function(){return"Success %"},agent_success_ratio_per_day_long:function(){return"Success Rate %"}},NEW_METRIC_NAMES:{agents_logged_general:function(){return"Agents Logged In"},agents_logged_short:function(){return"Logged In"},agents_logged_description:function(){return"The number of agents currently logged into the system, excluding those in the Supervising state"},agents_busy_general:function(){return"Agents Busy"},agents_busy_short:function(){return"Busy"},agents_busy_description:function(){return"The number of agents currently in the Busy state"},agents_in_wrap_up_general:function(){return"Agents ACW"},agents_in_wrap_up_short:function(){return"ACW"},agents_in_wrap_up_description:function(){return"The number of agents currently in the ACW state."},agent_current_number_interactions_general:function(){return"Active"},agent_current_number_interactions_short:function(){return"Active"},agent_current_number_interactions_description:function(){return"The number of interactions on the agent"},agents_busy_on_service_general:function(){return"Agents Busy Svc"},agents_busy_on_service_short:function(){return"Busy Svc"},agents_busy_on_service_description:function(){return"The number of agents in the Busy state who are currently handling interactions related to the given service"},agents_ready_general:function(){return"Agents Ready"},agents_ready_short:function(){return"Ready"},agents_ready_description:function(){return"The number of agents currently in the Ready state"},agents_not_ready_general:function(){return"Agents Not Ready"},agents_not_ready_short:function(){return"Not Ready"},agents_not_ready_description:function(){return"The number of agents currently in the Not Ready state, regardless of the reason"},agent_occupancy_general:function(){return"OCC %"},agent_occupancy_short:function(){return"OCC %"},agent_occupancy_description:function(){return'Occupancy (%), the percentage of the total working time for the day that the agents have spent handling interactions, including preview time and after-call work, within a service. Total working time encompasses time spent handling interactions in any service and time spent in the "Ready" state'},agent_average_idle_time_general:function(){return"Avg Idle"},agent_average_idle_time_short:function(){return"Avg Idle"},agent_average_idle_time_description:function(){return"The average time for the day the agents have spent waiting between handling interactions, including the time spent in \u201cNot Ready\u201d state"},agent_idle_time_general:function(){return"Idle"},agent_idle_time_short:function(){return"Idle"},agent_idle_time_description:function(){return'The time the agent has waited since the last interaction, including time in the "Not Ready" state'},agent_preview_duration_general:function(){return"Preview"},agent_preview_duration_short:function(){return"Preview"},agent_preview_duration_description:function(){return'The time the agent has been previewing the interaction while in the "Busy" state. If the agent is not currently previewing the interaction, the metric returns 0'},agent_average_preview_time_general:function(){return"Avg Preview"},agent_average_preview_time_short:function(){return"Avg Preview"},agent_average_preview_time_description:function(){return'The average time for the day that agents have spent previewing interactions while in the "Busy" state, calculated from when the preview record was accepted by the agent until it was either dialed or skipped'},agent_success_ratio_per_day_general:function(){return"Success Rate %"},agent_success_ratio_per_day_short:function(){return"Success %"},agent_success_ratio_per_day_description:function(){return"The percentage of interactions that received disposition with \u201cSuccess\u201d type"},agent_total_not_ready_time_general:function(){return"Not Ready"},agent_total_not_ready_time_short:function(){return"Not Ready"},agent_total_not_ready_time_description:function(){return"The total time for the day the agent was in the Not Ready state, regardless of the reason"},agent_total_break_time_general:function(){return"Break"},agent_total_break_time_short:function(){return"Break"},agent_total_break_time_description:function(){return"The total time for the day the agent was in the Not Ready states with reasons marked as 'counts toward break time'"},agent_total_busy_time_general:function(){return"Busy"},agent_total_busy_time_short:function(){return"Busy"},agent_total_busy_time_description:function(){return"The total time for the day the agent was in the Busy state"},agent_total_acw_time_general:function(){return"ACW"},agent_total_acw_time_short:function(){return"ACW"},agent_total_acw_time_description:function(){return"The total time for the day the agent was in the ACW state"},agent_total_ready_time_general:function(){return"Ready"},agent_total_ready_time_short:function(){return"Ready"},agent_total_ready_time_description:function(){return"The total time for the day the agent was in the Ready state"},agent_fcr_general:function(){return"FCR %"},agent_fcr_short:function(){return"FCR %"},agent_fcr_description:function(){return"First Call Resolution (%), the percentage of interactions successfully resolved by the agents during a customer's initial contact for the day. This metric is calculated by dividing the total number of interactions marked as First Call Resolution by the total number of interactions where a survey was conducted"},agent_nps_general:function(){return"NPS %"},agent_nps_short:function(){return"NPS %"},agent_nps_description:function(){return"Net Promoter Score (%), the percentage of promoters (values 9 and 10) minus the percentage of detractors (values 0-6), calculated for the day based on interactions where a survey was conducted"},agent_csat_general:function(){return"CSAT"},agent_csat_short:function(){return"CSAT"},agent_csat_description:function(){return"Customer Satisfaction, the average result of surveys with the customer satisfaction question answered"},agent_cm1_general:function(){return"Survey 1"},agent_cm1_short:function(){return"Survey 1"},agent_cm1_description:function(){return"The average result of surveys with the custom Survey 1 question answered"},agent_cm2_general:function(){return"Survey 2"},agent_cm2_short:function(){return"Survey 2"},agent_cm2_description:function(){return"The average result of surveys with the custom Survey 2 question answered"},agent_calendar_pending_general:function(){return"Reminders Upcoming"},agent_calendar_pending_short:function(){return"Upcoming"},agent_calendar_pending_description:function(){return"The number of upcoming events in the calendar's events queue"},agent_calendar_overdue_general:function(){return"Reminders Overdue"},agent_calendar_overdue_short:function(){return"Overdue"},agent_calendar_overdue_description:function(){return"The number of events in the calendar's queue that are past their due date"},in_calls_received_per_day_general:function(){return"IN Received"},in_calls_received_per_day_short:function(){return"Received"},in_calls_received_per_day_description:function(){return"The number of inbound interactions for the day received by the service from PSTN"},in_transfers_received_per_day_general:function(){return"IN Transfers"},in_transfers_received_per_day_short:function(){return"Transfers"},in_transfers_received_per_day_description:function(){return"The number of inbound interactions for the day routed to the agents from another agents\n(Calls, chats)"},out_transfers_received_per_day_general:function(){return"OUT Transfers"},out_transfers_received_per_day_short:function(){return"Transfers"},out_transfers_received_per_day_description:function(){return"The number of outbound calls for the day routed to the agents from another agents"},in_calls_in_ivr_general:function(){return"IN In IVR"},in_calls_in_ivr_short:function(){return"In IVR"},in_calls_in_ivr_description:function(){return"The number of inbound interactions that are currently being processed by an IVR application\n(Calls, chats)"},in_calls_self_serviced_per_day_general:function(){return"IN Self Serviced"},in_calls_self_serviced_per_day_short:function(){return"Self Serviced"},in_calls_self_serviced_per_day_description:function(){return"The number of inbound interactions for the day flagged as Self Serviced while being processed in a scenario\n(Calls, chats)"},in_calls_abandoned_in_ivr_per_day_general:function(){return"IN IVR Abdnd"},in_calls_abandoned_in_ivr_per_day_short:function(){return"IVR Abdnd"},in_calls_abandoned_in_ivr_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while being processed in a scenario before being queued up\n(Calls, chats)"},in_calls_abandoned_total_per_day_general:function(){return"IN Total Abdnd"},in_calls_abandoned_total_per_day_short:function(){return"Total Abdnd"},in_calls_abandoned_total_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while being processed in a scenario\n(Calls, chats)"},in_calls_abandoned_percent_per_day_general:function(){return"IN Total Abdnd %"},in_calls_abandoned_percent_per_day_short:function(){return"Total Abdnd %"},in_calls_abandoned_percent_per_day_description:function(){return"The percentage of inbound interactions for the day terminated by the remote side after answer while being processed in a scenario\n(Calls, chats)"},in_calls_dropped_in_ivr_per_day_general:function(){return"IN IVR Dropped"},in_calls_dropped_in_ivr_per_day_short:function(){return"IVR Dropped"},in_calls_dropped_in_ivr_per_day_description:function(){return"The number of inbound interactions for the day disconnected by the system while being processed in a scenario before being queued up\n(Calls, chats)"},in_calls_queued_per_day_general:function(){return"IN Queued"},in_calls_queued_per_day_short:function(){return"Queued"},in_calls_queued_per_day_description:function(){return"The number of times inbound interactions were been queued up for the day\n(Calls, chats)"},in_calls_first_time_queued_per_day_general:function(){return"IN Queued Uniq"},in_calls_first_time_queued_per_day_short:function(){return"Queued Uniq"},in_calls_first_time_queued_per_day_description:function(){return"The number of inbound interactions that were been queued up for the day. If an interaction enters queue more than once with the same service, it is counted only once\n(Calls, chats)"},in_calls_waiting_general:function(){return"IN Waiting"},in_calls_waiting_short:function(){return"Waiting"},in_calls_waiting_description:function(){return"The number of inbound interactions that are waiting in the service queue\n(Calls, chats, emails)"},in_calls_in_progress_general:function(){return"IN Active"},in_calls_in_progress_short:function(){return"Active"},in_calls_in_progress_description:function(){return"The total number of inbound interactions that are in either IVR, the service queue, or being connected to the agents\n(Calls, chats, emails)"},in_calls_abandoned_in_queue_per_day_general:function(){return"IN Queue Abdnd"},in_calls_abandoned_in_queue_per_day_short:function(){return"Queue Abdnd"},in_calls_abandoned_in_queue_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while waiting in queue\n(Calls, chats)"},in_calls_abandoned_in_queue_ratio_per_day_general:function(){return"IN Queue Abdnd %"},in_calls_abandoned_in_queue_ratio_per_day_short:function(){return"Queue Abdnd %"},in_calls_abandoned_in_queue_ratio_per_day_description:function(){return"The percentage of inbound interactions for the day terminated by the remote side after answer while waiting in queue\n(Calls, chats)"},in_calls_short_abandoned_in_queue_per_day_general:function(){return"IN Queue Sh-Abdnd"},in_calls_short_abandoned_in_queue_per_day_short:function(){return"Queue Sh-Abdnd"},in_calls_short_abandoned_in_queue_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side before specified treshold while waiting in queue\n(Calls, chats)"},in_calls_short_abandoned_in_queue_ratio_per_day_general:function(){return"Queue Sh-Abdnd %"},in_calls_short_abandoned_in_queue_ratio_per_day_short:function(){return"Queue Sh-Abdnd %"},in_calls_short_abandoned_in_queue_ratio_per_day_description:function(){return"The percentage of inbound interactions for the day terminated by the remote side before specified treshold while waiting in queue\n(Calls, chats)"},in_calls_dropped_in_queue_per_day_general:function(){return"IN Queue Dropped"},in_calls_dropped_in_queue_per_day_short:function(){return"Queue Dropped"},in_calls_dropped_in_queue_per_day_description:function(){return"The number of inbound interactions for the day disconnected by the system while waiting in queue\n(Calls, chats)"},service_level_general:function(){return"IN SL Inst %"},service_level_short:function(){return"SL Inst %"},service_level_description:function(){return"Service Level (%, moving window), the percentage of the 20 most recent inbound interactions answered before the threshold time\n(Calls, chats, emails)"},service_level_per_day_general:function(){return"IN SL %"},service_level_per_day_short:function(){return"SL %"},service_level_per_day_description:function(){return"Service Level (%), the percentage of inbound interactions for the day answered before the threshold time\n(Calls, chats, emails)"},service_level_target_general:function(){return"SL Target %"},service_level_target_short:function(){return"SL Target %"},service_level_target_description:function(){return"Service Level configuration parameter, the percentage of interactions expected to be answered within the specified threshold"},service_level_threshold_time_general:function(){return"SL Threshold"},service_level_threshold_time_short:function(){return"SL Threshold"},service_level_threshold_time_description:function(){return"Service Level configuration parameter, the threshold time"},in_max_wait_time_general:function(){return"IN Max Wait"},in_max_wait_time_short:function(){return"Max Wait"},in_max_wait_time_description:function(){return"The current time a customer has been waiting in the queue for the longest unanswered interaction. If an interaction has been requeued, the total wait time since it first entered the queue is considered.\nFor emails the metric is updated once per hour\n(Calls, chats, emails)"},in_ewt_general:function(){return"IN EWT"},in_ewt_short:function(){return"EWT"},in_ewt_description:function(){return"Estimated Wait Time, the estimated time a customer will wait in the service queue before being distributed to an agent.\n(Calls, chats)"},in_calls_routed_per_day_general:function(){return"IN Routed"},in_calls_routed_per_day_short:function(){return"Routed"},in_calls_routed_per_day_description:function(){return"The number of inbound interactions for the day routed to agents from the service queue.\nIf an interaction was routed to an agent more than once with the same service, it is counted multiple times\n(Calls, chats)"},in_calls_ringing_general:function(){return"IN Ringing"},in_calls_ringing_short:function(){return"Ringing"},in_calls_ringing_description:function(){return"The number of inbound interactions that are being distributed to agents from the service queue, but have not been accepted yet\n(Calls, chats)"},in_calls_handled_per_day_general:function(){return"IN Handled"},in_calls_handled_per_day_short:function(){return"Handled"},in_calls_handled_per_day_description:function(){return"The number of inbound interactions for the day accepted by the agents\n(Calls, chats, emails)"},in_calls_handled_percent_per_day_general:function(){return"IN Handled %"},in_calls_handled_percent_per_day_short:function(){return"Handled %"},in_calls_handled_percent_per_day_description:function(){return"The percentage of the total number of inbound interactions for the day accepted by the agents. The total number includes interactions received by the service from PSTN or transferred from another service or an agent\n(Calls, chats)"},in_calls_first_time_handled_per_day_general:function(){return"IN Handled Uniq"},in_calls_first_time_handled_per_day_short:function(){return"Handled Uniq"},in_calls_first_time_handled_per_day_description:function(){return"The number of unique inbound interactions for the day accepted by the agents. If an interaction is handled by multiple agents (e.g., through blind transfer or conference), this metric increases only with the first answer by the first agent\n(Calls, chats)"},in_calls_put_on_hold_per_day_general:function(){return"IN On Hold"},in_calls_put_on_hold_per_day_short:function(){return"On Hold"},in_calls_put_on_hold_per_day_description:function(){return"The number of inbound interactions for the day put on hold by the agents\n(Calls, chats)"},in_calls_first_time_put_on_hold_per_day_general:function(){return"IN On Hold Uniq"},in_calls_first_time_put_on_hold_per_day_short:function(){return"On Hold Uniq"},in_calls_first_time_put_on_hold_per_day_description:function(){return"The number of unique inbound interactions for the day put on hold by the agents. If an agent puts an interaction on hold multiple times, this metric increases only with the first hold\n(Calls, chats)"},in_calls_rejected_per_day_general:function(){return"IN Ignored"},in_calls_rejected_per_day_short:function(){return"Ignored"},in_calls_rejected_per_day_description:function(){return"The number of inbound interactions for the day routed to the agents, but not accepted by them\n(Calls, chats)"},in_calls_abandoned_ringing_per_day_general:function(){return"IN Ringing Abdnd"},in_calls_abandoned_ringing_per_day_short:function(){return"Ringing Abdnd"},in_calls_abandoned_ringing_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while being routed to agents\n(Calls, chats)"},in_calls_dropped_ringing_per_day_general:function(){return"IN Ringing Dropped"},in_calls_dropped_ringing_per_day_short:function(){return"Ringing Dropped"},in_calls_dropped_ringing_per_day_description:function(){return"The number of inbound interactions for the day disconnected by the system while being routed to agents\n(Calls, chats)"},in_calls_active_on_agents_general:function(){return"IN Connected"},in_calls_active_on_agents_short:function(){return"Connected"},in_calls_active_on_agents_description:function(){return"The number of inbound interactions that are connected to the agents\n(Calls, chats, emails)"},in_calls_disconnected_talking_per_day_general:function(){return"IN Remote Discnctd"},in_calls_disconnected_talking_per_day_short:function(){return"Remote Discnctd"},in_calls_disconnected_talking_per_day_description:function(){return"The number of inbound interactions for the day ended by the remote side\n(Calls, chats)"},in_calls_dropped_talking_per_day_general:function(){return"IN Agent Discnctd"},in_calls_dropped_talking_per_day_short:function(){return"Agent Discnctd"},in_calls_dropped_talking_per_day_description:function(){return"The number of inbound interactions for the ended by the agents\n(Calls, chats)"},in_calls_duration_average_per_day_general:function(){return"IN Avg Talk"},in_calls_duration_average_per_day_short:function(){return"Avg Talk"},in_calls_duration_average_per_day_description:function(){return"The average talk time agents spent on inbound interactions for the day, including hold time\n(Calls, chats)"},in_calls_duration_total_per_day_general:function(){return"IN Total Talk"},in_calls_duration_total_per_day_short:function(){return"Total Talk"},in_calls_duration_total_per_day_description:function(){return"The total talk time agents spent on inbound interactions for the day, including hold time\n(Calls, chats)"},in_calls_transferred_per_day_general:function(){return"IN Transferred"},in_calls_transferred_per_day_short:function(){return"Transferred"},in_calls_transferred_per_day_description:function(){return"The number of inbound interactions for the day where agents initiated a transfer, regardless of whether it was accepted\n(Calls, chats)"},in_average_speed_of_answer_general:function(){return"IN ASA"},in_average_speed_of_answer_short:function(){return"ASA"},in_average_speed_of_answer_description:function(){return"For calls and chats: the average waiting time for the day in the service queue before being answered.\nFor emails: the average time for the day between email arrival and the first reply\n(Calls, chats, emails)"},calls_average_handling_time_per_day_general:function(){return"Avg Handle"},calls_average_handling_time_per_day_short:function(){return"Avg Handle"},calls_average_handling_time_per_day_description:function(){return"The average time, including hold time and after-call-work time, that the agents spent handling interactions"},calls_average_acw_time_per_day_general:function(){return"Avg ACW"},calls_average_acw_time_per_day_short:function(){return"Avg ACW"},calls_average_acw_time_per_day_description:function(){return"The average after-call-work time the agents spent handling interactions"},in_callbacks_requested_per_day_general:function(){return"IN CB Requested"},in_callbacks_requested_per_day_short:function(){return"CB Requested"},in_callbacks_requested_per_day_description:function(){return"The number of callbacks requested for the day\n(Calls)"},in_callbacks_waiting_general:function(){return"IN CB Waiting"},in_callbacks_waiting_short:function(){return"CB Waiting"},in_callbacks_waiting_description:function(){return"The number of scheduled callbacks that are waiting in the service virtual queue"},records_total_general:function(){return"Records Total"},records_total_short:function(){return"Total"},records_total_description:function(){return"The total number of records in all enabled lists"},records_completed_general:function(){return"Records Completed"},records_completed_short:function(){return"Completed"},records_completed_description:function(){return"The number of finilized records in all enabled lists, including DNC and Expired records"},records_with_assigned_agents_completed_general:function(){return"Records P.A. Completed"},records_with_assigned_agents_completed_short:function(){return"P.A. Completed"},records_with_assigned_agents_completed_description:function(){return"The number of finilized records in all enabled lists, including DNC and Expired records, that have assigned personal agents"},records_remaining_general:function(){return"Records Remaining"},records_remaining_short:function(){return"Remaining"},records_remaining_description:function(){return"The number of non-finilized records in all enabled lists"},records_out_of_quota_general:function(){return"Records Out of Quota"},records_out_of_quota_short:function(){return"Out of Quota"},records_out_of_quota_description:function(){return""},records_with_assigned_agents_remaining_general:function(){return"Records P.A. Remaining"},records_with_assigned_agents_remaining_short:function(){return"P.A. Remaining"},records_with_assigned_agents_remaining_description:function(){return"The number of non-finilized records in all enabled lists, that have assigned personal agents"},records_in_dnc_general:function(){return"Records DNC"},records_in_dnc_short:function(){return"DNC"},records_in_dnc_description:function(){return"The number of finilized records in all enabled lists completed because they match entries on Do Not Call (DNC) lists"},records_attempted_per_day_general:function(){return"Attempted"},records_attempted_per_day_short:function(){return"Attempted"},records_attempted_per_day_description:function(){return"The number of records attempted for the day"},records_attempted_ratio_per_day_general:function(){return"Attempted %"},records_attempted_ratio_per_day_short:function(){return"Attempted %"},records_attempted_ratio_per_day_description:function(){return"The precentage of records in all enabled lists attempted for the day"},records_accepted_per_day_general:function(){return"Previewed"},records_accepted_per_day_short:function(){return"Previewed"},records_accepted_per_day_description:function(){return"The number of preview interactions for the day accepted by the agents"},records_skipped_per_day_general:function(){return"Skipped"},records_skipped_per_day_short:function(){return"Skipped"},records_skipped_per_day_description:function(){return"The number of preview interactions for the day accepted by the agents, but then skipped"},records_skipped_ratio_per_day_general:function(){return"Skipped %"},records_skipped_ratio_per_day_short:function(){return"Skipped %"},records_skipped_ratio_per_day_description:function(){return"The percentage of the previewed interactions for the day that the agents has skipped"},records_completed_per_day_general:function(){return"Completed"},records_completed_per_day_short:function(){return"Completed"},records_completed_per_day_description:function(){return"The number of finilized records for the day, including DNC and Expired records"},records_completed_ratio_per_day_general:function(){return"Completed %"},records_completed_ratio_per_day_short:function(){return"Completed %"},records_completed_ratio_per_day_description:function(){return"The precentage of records finalized for the day, including DNC and Expired records"},records_completed_ratio_general:function(){return"Records Completed %"},records_completed_ratio_short:function(){return"Completed %"},records_completed_ratio_description:function(){return"The percentage of finalized records in all enabled lists, including DNC and expired records"},records_dialable_general:function(){return"Records Dialable"},records_dialable_short:function(){return"Dialable"},records_dialable_description:function(){return'The number of non-finilized records in all enabled lists, that can be called right now (taking into account calling hours and reschedule limitations). Please note that if the number of dialable records is more than 1000, the metric will show ">1000"'},records_expired_general:function(){return"Records Expired"},records_expired_short:function(){return"Expired"},records_expired_description:function(){return"The number of expired records in all enabled lists"},list_last_updated_general:function(){return"Records Last Updated"},list_last_updated_short:function(){return"Last Updated"},list_last_updated_description:function(){return"Date and time when records were last being successfully added to the list"},out_campaign_mode_general:function(){return"Mode"},out_campaign_mode_short:function(){return"Mode"},out_campaign_mode_description:function(){return"Preview, Progressive, Predictive or Automatic"},out_campaign_duration_forecast_general:function(){return"Est Duration"},out_campaign_duration_forecast_short:function(){return"Est Duration"},out_campaign_duration_forecast_description:function(){return"Estimated Campaign Duration for the day, calculated based on the assumption that the campaign will continue to operate under the same conditions (Answer Rate Inst %, the number of agents, the average handling time, etc.)"},out_average_success_rate_general:function(){return"OUT Answered Inst %"},out_average_success_rate_short:function(){return"Answered Inst %"},out_average_success_rate_description:function(){return"The percentage of the 360 last attempted outbound calls answered by the remote side"},calls_dispositions_per_day_general:function(){return"Selected Dispositions"},calls_dispositions_per_day_short:function(){return"Selected Dispositions"},calls_dispositions_per_day_description:function(){return"The total number of interactions for which the selected dispositions were set"},calls_dispositions_ratio_per_day_general:function(){return"Selected Dispositions %"},calls_dispositions_ratio_per_day_short:function(){return"Selected Dispositions %"},calls_dispositions_ratio_per_day_description:function(){return"The percentage of interactions for which the selected dispositions were set out of all dispositioned interactions"},out_calls_current_call_rate_general:function(){return"OUT Call Rate"},out_calls_current_call_rate_short:function(){return"Call Rate"},out_calls_current_call_rate_description:function(){return"The number of outbound calls handled by agents in the last minute"},out_calls_placed_per_day_general:function(){return"OUT Dialed"},out_calls_placed_per_day_short:function(){return"Dialed"},out_calls_placed_per_day_description:function(){return"The number of outbound calls initiated by agents or the system itself in progressive/preview modes for the day"},out_calls_in_progress_general:function(){return"OUT In Progress"},out_calls_in_progress_short:function(){return"In Progress"},out_calls_in_progress_description:function(){return"The number of outbound calls that have not been accepted by the remote side yet or are being analyzed to detect voice or answering machine"},out_calls_failed_per_day_general:function(){return"OUT Failed"},out_calls_failed_per_day_short:function(){return"Failed"},out_calls_failed_per_day_description:function(){return"The number of outbound calls for the day not answered by the remote side or not detected as voice by CPA (if detection enabled)"},out_calls_answered_per_day_general:function(){return"OUT Answered"},out_calls_answered_per_day_short:function(){return"Answered"},out_calls_answered_per_day_description:function(){return"The number of outbound calls for the day answered by the remote side and detected as voice by CPA (if detection enabled)"},out_calls_answered_ratio_per_day_general:function(){return"OUT Answered %"},out_calls_answered_ratio_per_day_short:function(){return"Answered %"},out_calls_answered_ratio_per_day_description:function(){return"The percentage of outbound calls for the day answered by the remote side and detected as voice by CPA (if detection enabled)"},out_calls_in_ivr_general:function(){return"OUT In IVR"},out_calls_in_ivr_short:function(){return"In IVR"},out_calls_in_ivr_description:function(){return"The number of answered outbound calls that are being processed by an IVR application"},out_calls_self_serviced_per_day_general:function(){return"OUT Self Serviced"},out_calls_self_serviced_per_day_short:function(){return"Self Serviced"},out_calls_self_serviced_per_day_description:function(){return"The number of outbound calls for the day flagged as Self Serviced while being processed in a scenario"},out_calls_abandoned_in_ivr_per_day_general:function(){return"OUT IVR Abdnd"},out_calls_abandoned_in_ivr_per_day_short:function(){return"IVR Abdnd"},out_calls_abandoned_in_ivr_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while being processed in a scenario before being queued up"},out_calls_abandoned_in_ivr_ratio_per_day_general:function(){return"OUT IVR Abdnd %"},out_calls_abandoned_in_ivr_ratio_per_day_short:function(){return"IVR Abdnd %"},out_calls_abandoned_in_ivr_ratio_per_day_description:function(){return"The percentage of outbound calls for the day terminated by the remote side after answer while being processed in a scenario before being queued up"},out_calls_dropped_in_ivr_per_day_general:function(){return"OUT IVR Dropped"},out_calls_dropped_in_ivr_per_day_short:function(){return"IVR Dropped"},out_calls_dropped_in_ivr_per_day_description:function(){return"The number of outbound calls for the day disconnected by the system while being processed in a scenario before being queued up"},out_calls_queued_per_day_general:function(){return"OUT Queued"},out_calls_queued_per_day_short:function(){return"Queued"},out_calls_queued_per_day_description:function(){return"The number of times outbound calls were been queued up for the day"},out_calls_waiting_general:function(){return"OUT Waiting"},out_calls_waiting_short:function(){return"Waiting"},out_calls_waiting_description:function(){return"The number of answered outbound calls that are waiting in the service queue"},out_calls_abandoned_in_queue_per_day_general:function(){return"OUT Queue Abdnd"},out_calls_abandoned_in_queue_per_day_short:function(){return"Queue Abdnd"},out_calls_abandoned_in_queue_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while waiting in queue"},out_calls_abandoned_in_queue_ratio_per_day_general:function(){return"OUT Queue Abdnd %"},out_calls_abandoned_in_queue_ratio_per_day_short:function(){return"Queue Abdnd %"},out_calls_abandoned_in_queue_ratio_per_day_description:function(){return"The percentage of outbound calls for the day terminated by the remote side after answer while waiting in queue"},out_calls_dropped_in_queue_per_day_general:function(){return"OUT Queue Dropped"},out_calls_dropped_in_queue_per_day_short:function(){return"Queue Dropped"},out_calls_dropped_in_queue_per_day_description:function(){return"The number of outbound calls for the day disconnected by the system while waiting in queue"},out_calls_unattended_per_day_general:function(){return"OUT Unattended"},out_calls_unattended_per_day_short:function(){return"Unattended"},out_calls_unattended_per_day_description:function(){return"The number of outbound calls for the day exceeded the Unattended call timeout after answer and terminated by the system while being processed in a scenario"},out_calls_unattended_ratio_per_day_general:function(){return"Out Unattended %"},out_calls_unattended_ratio_per_day_short:function(){return"Unattended %"},out_calls_unattended_ratio_per_day_description:function(){return"The percentage of outbound calls for the day exceeded the Unattended call timeout after answer and terminated by the system while being processed in a scenario"},out_calls_routed_per_day_general:function(){return"OUT Routed"},out_calls_routed_per_day_short:function(){return"Routed"},out_calls_routed_per_day_description:function(){return"The number of times outbound calls were routed to the agents for the day"},out_calls_ringing_general:function(){return"OUT Ringing"},out_calls_ringing_short:function(){return"Ringing"},out_calls_ringing_description:function(){return"The number of answered outbound calls that are being distributed to agents from the service queue, but have not been accepted yet"},out_calls_abandoned_ringing_per_day_general:function(){return"OUT Ringing Abdnd"},out_calls_abandoned_ringing_per_day_short:function(){return"Ringing Abdnd"},out_calls_abandoned_ringing_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while being routed to agents"},out_calls_dropped_ringing_per_day_general:function(){return"OUT Ringing Dropped"},out_calls_dropped_ringing_per_day_short:function(){return"Ringing Dropped"},out_calls_dropped_ringing_per_day_description:function(){return"The number of outbound calls for the day disconnected by the system while being routed to agents"},out_calls_duration_average_per_day_general:function(){return"OUT Avg Talk"},out_calls_duration_average_per_day_short:function(){return"Avg Talk"},out_calls_duration_average_per_day_description:function(){return"The average talk time agents spent on outbound calls for the day, including hold time"},out_calls_duration_total_per_day_general:function(){return"OUT Total Talk"},out_calls_duration_total_per_day_short:function(){return"Total Talk"},out_calls_duration_total_per_day_description:function(){return"The total talk time agents spent on outbound calls for the day, including hold time"},out_calls_rejected_per_day_general:function(){return"OUT Ignored"},out_calls_rejected_per_day_short:function(){return"Ignored"},out_calls_rejected_per_day_description:function(){return"The number of times the agents rejected or missed outbound calls during routing for the day"},out_calls_handled_per_day_general:function(){return"OUT Handled"},out_calls_handled_per_day_short:function(){return"Handled"},out_calls_handled_per_day_description:function(){return"The number of outbound calls accepted by the agents"},out_calls_active_on_agents_general:function(){return"OUT Connected"},out_calls_active_on_agents_short:function(){return"Connected"},out_calls_active_on_agents_description:function(){return"The number of answered outbound calls that are connected to the agent"},out_calls_disconnected_talking_per_day_general:function(){return"OUT Remote Discnctd"},out_calls_disconnected_talking_per_day_short:function(){return"Remote Discnctd"},out_calls_disconnected_talking_per_day_description:function(){return"The number of outbound calls for the day ended by the remote side"},out_calls_dropped_talking_per_day_general:function(){return"OUT Agent Discnctd"},out_calls_dropped_talking_per_day_short:function(){return"Agent Discnctd"},out_calls_dropped_talking_per_day_description:function(){return"The number of outbound calls for the day ended by the agents"},out_calls_transferred_per_day_general:function(){return"OUT Transferred"},out_calls_transferred_per_day_short:function(){return"Transferred"},out_calls_transferred_per_day_description:function(){return"The number of outbound calls for the day where agents initiated a transfer, regardless of whether it was accepted"},out_calls_abandoned_per_day_general:function(){return"OUT Total Abdnd"},out_calls_abandoned_per_day_short:function(){return"Total Abdnd"},out_calls_abandoned_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while being processed in a scenario"},out_calls_abandoned_ratio_per_day_general:function(){return"OUT Total Abdnd %"},out_calls_abandoned_ratio_per_day_short:function(){return"Total Abdnd %"},out_calls_abandoned_ratio_per_day_description:function(){return"The percentage of outbound calls for the day terminated by the remote side after answer while being processed in a scenario"},in_emails_joined_existing_cases_general:function(){return"@ Joined"},in_emails_joined_existing_cases_short:function(){return"Joined"},in_emails_joined_existing_cases_description:function(){return"The number of inbound emails for the day joined to already existing cases"},in_email_received_new_per_day_general:function(){return"@ Received New"},in_email_received_new_per_day_short:function(){return"Received New"},in_email_received_new_per_day_description:function(){return"The number of inbound emails for the day created new cases"},in_email_carried_over_general:function(){return"@ Carried Over"},in_email_carried_over_short:function(){return"Carried Over"},in_email_carried_over_description:function(){return"The number of unprocessed inbound emails from the previous day"},in_email_carried_over_new_general:function(){return"@ Carried Over New"},in_email_carried_over_new_short:function(){return"Carried Over New"},in_email_carried_over_new_description:function(){return"The number of unprocessed inbound emails from the previous day that created new cases"},in_email_offered_per_day_general:function(){return"@ Offered"},in_email_offered_per_day_short:function(){return"Offered"},in_email_offered_per_day_description:function(){return"The number of inbound emails pushed to the agents for the day"},in_email_rejected_per_day_general:function(){return"@ Ignored"},in_email_rejected_per_day_short:function(){return"Ignored"},in_email_rejected_per_day_description:function(){return"The number of inbound emails pushed to the agents for the day, but not accepted by them"},in_email_pulled_per_day_general:function(){return"@ Pulled"},in_email_pulled_per_day_short:function(){return"Pulled"},in_email_pulled_per_day_description:function(){return"The number of inbound emails pulled by the agents for the day"},in_email_processed_replied_per_day_general:function(){return"@ Replied"},in_email_processed_replied_per_day_short:function(){return"Replied"},in_email_processed_replied_per_day_description:function(){return"The number of inbound emails replied for the day"},in_email_processed_noreply_per_day_general:function(){return"@ Closed"},in_email_processed_noreply_per_day_short:function(){return"Closed"},in_email_processed_noreply_per_day_description:function(){return"The number of inbound emails closed without reply for the day"},in_email_handled_new_per_day_general:function(){return"@ Handled New"},in_email_handled_new_per_day_short:function(){return"Handled New"},in_email_handled_new_per_day_description:function(){return"The number of new emails for the day processed by agents, including replied, closed without reply, transferred and service changes"},in_email_waiting_in_personal_queues_general:function(){return"Agents Inbox"},in_email_waiting_in_personal_queues_short:function(){return"Inbox"},in_email_waiting_in_personal_queues_description:function(){return"The number of inbound emails in the agents' personal queues"},in_email_waiting_in_pq_breached_sla_general:function(){return"Agents Breached SLA Inbox"},in_email_waiting_in_pq_breached_sla_short:function(){return"Breached SLA Inbox"},in_email_waiting_in_pq_breached_sla_description:function(){return"The number of inbound emails in the agents' personal queues that have not been replied within the SLA time"},out_email_waiting_in_personal_queues_general:function(){return"Agents Outbox"},out_email_waiting_in_personal_queues_short:function(){return"Outbox"},out_email_waiting_in_personal_queues_description:function(){return"The number of saved drafts of outbound emails in the agents' personal queues"},in_service_changed_per_day_general:function(){return"@ Svc Changed"},in_service_changed_per_day_short:function(){return"Svc Changed"},in_service_changed_per_day_description:function(){return"The number of inbound emails re-categorized to a different service by the agents"},in_service_change_received_per_day_general:function(){return"@ Svc Change Received"},in_service_change_received_per_day_short:function(){return"Svc Change Received"},in_service_change_received_per_day_description:function(){return"The number of inbound emails re-categorized from a different service by agents"},in_email_spam_general:function(){return"@ Spam"},in_email_spam_short:function(){return"Spam"},in_email_spam_description:function(){return"The number of inbound emails re-categorized as spam by the agents"},in_email_trash_general:function(){return"@Trash"},in_email_trash_short:function(){return"Trash"},in_email_trash_description:function(){return"The number of inbound emails re-categorized as trash by the agents"},extension_general:function(){return"Extension"},extension_short:function(){return"Extension"},extension_description:function(){return"Phone extension"},name_general:function(){return"Name"},name_short:function(){return"Name"},name_description:function(){return""},team_name_general:function(){return"Team"},team_name_short:function(){return"Team"},team_name_description:function(){return"Team name"},login_time_general:function(){return"Login"},login_time_short:function(){return"Login"},login_time_description:function(){return"The time the agent has been logged on to the system"},acd_state_general:function(){return"State"},acd_state_short:function(){return"State"},acd_state_description:function(){return""},state_duration_general:function(){return"Time in State"},state_duration_short:function(){return"Time in State"},state_duration_description:function(){return"The time the agent has been spending in the current state"},reason_general:function(){return"Not Ready Reason"},reason_short:function(){return"Reason"},reason_description:function(){return"Not Ready reason"},acd_next_state_general:function(){return"Next State"},acd_next_state_short:function(){return"Next State"},acd_next_state_description:function(){return"Next state set by agent"},next_reason_general:function(){return"Next Not Ready Reason"},next_reason_short:function(){return"Next Reason"},next_reason_description:function(){return"Reason for Not Ready, if the agent selected Not Ready as the next state"},active_item_service_name_general:function(){return"Active Item Service"},active_item_service_name_short:function(){return"Service"},active_item_service_name_description:function(){return"Service name of the active interaction"},active_item_media_type_general:function(){return"Active Item Media Type"},active_item_media_type_short:function(){return"Media Type"},active_item_media_type_description:function(){return"Media Type of the active interaction: call, chat or email"},active_item_state_general:function(){return"Active Item State"},active_item_state_short:function(){return"State"},active_item_state_description:function(){return"The current state of the active interaction"},active_item_direction_general:function(){return"Active Item Direction"},active_item_direction_short:function(){return"Direction"},active_item_direction_description:function(){return"Direction of the active interactions: inbound or outbound"},active_item_party_name_general:function(){return"Active Item Party Name"},active_item_party_name_short:function(){return"Party Name"},active_item_party_name_description:function(){return"Name of the remote party"},active_item_is_flagged_general:function(){return"Active Item Flagged"},active_item_is_flagged_short:function(){return"Flagged"},active_item_is_flagged_description:function(){return"Is the active interaction flagged"},active_item_qm_monitor_mode_general:function(){return"Active Item Monitor Mode"},active_item_qm_monitor_mode_short:function(){return"Monitor Mode"},active_item_qm_monitor_mode_description:function(){return"Monitor mode of the active interaction"},active_item_talk_duration_general:function(){return"Active Item Talk"},active_item_talk_duration_short:function(){return"Talk"},active_item_talk_duration_description:function(){return"Time the agent spent talking on the active interaction"},active_item_hold_duration_general:function(){return"Active Item Total Hold"},active_item_hold_duration_short:function(){return"Total Hold"},active_item_hold_duration_description:function(){return"For calls: the total time the active interaction has been on hold. For chats and emails: the total time the active interaction has been ongoing, but not selected in Active Communication List "},active_item_sentiment_general:function(){return"Sentiment"},active_item_sentiment_short:function(){return"Sentiment"},active_item_sentiment_description:function(){return"The current sentiment of the interaction"},active_item_qm_is_recording_general:function(){return"Active Item Recording"},active_item_qm_is_recording_short:function(){return"Recording"},active_item_qm_is_recording_description:function(){return"Is the recording of the active interaction enabled"},talk_duration_general:function(){return"Talk"},talk_duration_short:function(){return"Talk"},talk_duration_description:function(){return"For calls: the time the agent has been talking for the interaction excluding any time on hold. For chats and emails: the time the agent was actively engaged in the interaction by selecting it in Active Communication List"},hold_duration_general:function(){return"Total Hold"},hold_duration_short:function(){return"Total Hold"},hold_duration_description:function(){return"For calls: the total time the interaction has been on hold. For chats and emails: the total time the interaction has been ongoing, but not selected in Active Communication List"},current_hold_duration_general:function(){return"Hold"},current_hold_duration_short:function(){return"Hold"},current_hold_duration_description:function(){return"For calls: the current time the interaction has been on hold. For chats and emails: the current time the interaction has been ongoing, but not selected in Active Communication List"},priority_general:function(){return"Order"},priority_short:function(){return"Order"},priority_description:function(){return"Order defines the order (from low to high) in which lists will be used within the service"},is_enabled_general:function(){return"Status"},is_enabled_short:function(){return"Status"},is_enabled_description:function(){return"Enabled or Disabled"},ratio_general:function(){return"Ratio"},ratio_short:function(){return"Ratio"},ratio_description:function(){return"For lists with the same order, Ratio defines the ratio at which records from these lists will be used"},outbound_campaign_link_group_general:function(){return"Link"},outbound_campaign_link_group_short:function(){return"Link"},outbound_campaign_link_group_description:function(){return"Link Group"},last_alert_general:function(){return"Last Alert"},last_alert_short:function(){return"Last Alert"},last_alert_description:function(){return""},first_last_name_general:function(){return"First Name Last Name"},first_last_name_short:function(){return"Name"},first_last_name_description:function(){return"First Name Last Name"},last_first_name_general:function(){return"Last Name First Name"},last_first_name_short:function(){return"Name"},last_first_name_description:function(){return"Last Name First Name"}},NEW_METRIC_GROUP_NAMES:{status:function(){return"Status"},agents:function(){return"Agents"},states_daily:function(){return"States Daily"},surveys_daily:function(){return"Surveys Daily"},reminders:function(){return"Reminders"},inbound_daily:function(){return"Inbound Daily"},inbound_now:function(){return"Inbound Now"},inbound_at_specific_daily:function(){return"Inbound @-specific Daily"},outbound_daily:function(){return"Outbound Daily"},outbound_now:function(){return"Outbound Now"},active_lists_records:function(){return"Active Lists Records"},records_daily:function(){return"Records Daily"},campaign:function(){return"Campaign"},at_personal_queues:function(){return"@ Personal Queues"},list:function(){return"List"},active_item:function(){return"Active Item"}},MONITORING_TEAMS_COLUMN_NAMES:{teams_column_name:function(){return"Name"}},CAMPAIGN_MONITOR:{campaigns_group_status:function(){return"Status"},campaigns_group_agents:function(){return"Agents"},campaigns_group_active_lists_records:function(){return"Active Lists Records"},campaigns_group_calls_daily:function(){return"Calls Daily"},campaigns_group_records_daily:function(){return"Records Daily"},campaigns_group_inbound:function(){return"Inbound"},campaigns_column_teams:function(){return"Teams"},campaign_details_title:function(e){return"Campaign: {0}"},campaigns_active_lists_records_group:function(){return"Active lists records"},campaigns_records_daily_group:function(){return"Records Daily"},campaigns_column_list_name:function(){return"List name"},campaigns_column_list_last_updated:function(){return"Last Updated"},no_campaign_selected:function(){return"No campaign selected"},assign_and_delete_teams:function(){return"Assign & Delete Teams"},change_mode_and_overdial_rate:function(){return"Change Mode & Overdial Rate"},open_daily_report:function(){return"Open Daily Report"},preview_detailed_results:function(){return"Preview Detailed Results"},open_settings:function(){return"Open Settings"},set_order_and_ratio:function(){return"Set Order & Ratio"},get_remaining_records:function(){return"Get Remaining Records"},remaining_records:function(){return"Remaining Records"},get_list_update_log:function(){return"Get List Update Log"},chart_settings:function(){return"Chart Settings"},displaying_mode:function(){return"Displaying Mode"},display_on_pie:function(){return"Display on the pie"},display_in_list:function(){return"Display in the list"},select_all:function(){return"Select All"},config_per_campaign_note:function(){return"Please note that selections should be made independently for each campaign."},default_pie_title:function(){return"Record Dispositions"},count:function(){return"Count"},loading:function(){return"Loading..."},no_dispositions:function(){return"No dispositions"},voice_campaigns:function(){return"Voice Campaigns"},messaging_campaigns:function(){return"Messaging Campaigns"},alert:function(){return"Alert"},generating_report:function(){return"Generating report - depending on the number of records, this may take up to several minutes - please wait\u2026"},available_now:function(){return"Available Now"},postponed:function(){return"Postponed"},postponed_until:function(){return"Postponed Until"},misconfigured:function(){return"Misconfigured"},today_am:function(){return"Today AM"},today_pm:function(){return"Today PM"},tomorrow_am:function(){return"Tomorrow AM"},tomorrow_pm:function(){return"Tomorrow PM"},later:function(){return"Later"}},UNDEFINED:{button_open_contact_text:function(){return"Open"},contact_messenger:function(){return"Messenger"},contact_messenger_user_id_placeholder:function(){return"Messenger ID"},contact_messenger_username_placeholder:function(){return"User name"}},INSTALLATION_PROCESS:{bp_client_update_extension_part1:function(){return"Click "},bp_client_update_extension_part2:function(){return" the extension."},bp_client_not_authorized_message_part1:function(){return"This domain is not authorized to access your screen and microphone, please click "},bp_client_not_authorized_message_part2:function(){return" to authorize"}},AUDIO_DEVICES_DIALOG_BOX:{authorized_domains_link_part1:function(){return"Click "},authorized_domains_link_part2:function(){return" to manage list of authorized domains"},test_speaker:function(){return"Test speaker"},test_speaker_stop:function(){return"Stop test"},test_microphone:function(){return"Test microphone"},test_microphone_speak:function(){return"Speak..."},test_microphone_playing_recording:function(){return"Playing Recording..."}},INTEGRATIONS:{associated_object_from_screen_pop_empty_name:function(){return"Record from screen pop"},associated_object_from_screen_pop_type_only:function(e){return"{0} from screen pop"}},SCREENPOP_FORM:{email_type_business_short:function(){return"Business"},email_type_private_short:function(){return"Private"},email_type_primary_short:function(){return"Primary"}},CHAT_CENTER:{upload_failed:function(){return"Upload failed"},select_files:function(){return"Select files"},failed_to_upload:function(e,t){return"{0} of {1} files failed to upload."},max_file_size_exceeded:function(e){return"Max file size of {0} exceeded"},unread_messages_button_text:function(){return"Unread messages"},unread_messages:function(){return"Unread messages"},chat_center_header:function(){return"Chat Center"},pinned_chats_title:function(){return"Pinned"},team_chats_title:function(){return"Team Chats"},recent_chats_title:function(){return"Recents"},new_team_chat_button_tooltip:function(){return"New team chat"},no_recent_chats_message:function(){return"No recent chats"},main_search_input_placeholder:function(){return"Find people, named chats, and messages"},main_search_loader_text:function(){return"Keep typing to search for suggestions"},chat_empty_title:function(){return"Empty Chat"},chat_2_members_title:function(e,t){return"{0} and {1}"},chat_many_members_title:function(e,t,n){return"{0}, {1}, +{2}"},chat_last_message_your_author_name:function(){return"You"},show_actions_button_tooltip:function(){return"Show actions"},recent_chat_action_pin_text:function(){return"Pin"},recent_chat_action_unpin_text:function(){return"Unpin"},recent_chat_action_mute_text:function(){return"Mute"},recent_chat_action_unmute_text:function(){return"Unmute"},recent_chat_action_enable_alerts_text:function(){return"Enable Interaction Alerts"},recent_chat_action_delete_text:function(){return"Delete"},recent_chat_action_leave_text:function(){return"Leave"},chat_header_members_icon_tooltip:function(){return"Manage chat members"},show_all_participants_button_text:function(e){return"Show all {0} participants"},add_people_button_text:function(){return"Add People"},leave_chat_button_text:function(){return"Leave Chat"},remove_member_confirmation_text:function(e){return"Do you want to remove {0} from conversation?"},remove_member_positive_button_text:function(){return"Remove"},remove_member_negative_button_text:function(){return"Cancel"},full_members_list_close_button_text:function(){return"Cancel"},full_members_list_search_input_placeholder:function(){return"Search"},leave_chat_confirmation_warning:function(){return"Are you sure you want to leave this group chat?"},leave_chat_positive_button_text:function(){return"Leave"},leave_chat_negative_button_text:function(){return"Cancel"},search_type_user_title:function(){return"People"},search_type_group_chat_title:function(){return"Group Chats"},search_type_teams_title:function(){return"Teams"},search_type_team_chats_title:function(){return"Team Chats"},search_no_results:function(e){return'No results found for "{0}"'},search_in_chats_button_text:function(e){return'Search for "{0}" in chats'},chat_add_members_positive_button_text:function(){return"Add People"},chat_add_members_negative_button_text:function(){return"Cancel"},chat_add_members_search_input_placeholder:function(){return"Find people and teams"},chat_add_members_to_personal_chat_note:function(){return"Adding people will create a new group chat"},chat_add_members_dont_include_history_option:function(){return"Don't include chat history"},chat_add_members_include_history_option:function(){return"Include chat history"},chat_add_new_team_chat_title:function(){return"New Team Chat"},chat_add_new_team_chat_text:function(){return"Team Chat Name"},chat_add_new_team_chat_btn_cancel:function(){return"Cancel"},chat_add_new_team_chat_btn_start_chat:function(){return"Start Chat"},chat_add_new_team_chat_placeholder:function(){return"Enter name of the team"},chat_add_new_team_chat_optional:function(){return"Optional"},potential_chat_message_main_text:function(){return"You're starting a new conversation"},potential_chat_message_secondary_text:function(){return"Type your first message below."},message_type_selector_regular_message:function(){return"Regular Message"},message_type_selector_announcement:function(){return"Announcement"},message_like_button_tooltip:function(){return"Like"},message_reactions_button_tooltip:function(){return"Reactions"},message_reply_button_tooltip:function(){return"Reply"},message_pin_button_tooltip:function(){return"Pin"},message_unpin_button_tooltip:function(){return"Unpin"},message_additional_actions_button_tooltip:function(){return"More"},message_enter_edit_mode_button_text:function(){return"Edit"},message_delete_button_text:function(){return"Delete"},message_reactions_users_list_title:function(){return"Reacted"},message_reactions_expand_users_button_text:function(e){return"+{0} more"},selected_reply_message_close_button_tooltip:function(){return"Remove reply"},message_unpin_confirmation_text:function(){return"This will unpin the message for everyone."},message_unpin_positive_button_text:function(){return"Unpin"},message_unpin_negative_button_text:function(){return"Cancel"},deleted_message_text:function(){return"This message has been deleted."},deleted_message_undo_button_text:function(){return"Undo"},edit_message_save_button_tooltip:function(){return"Save"},edit_message_cancel_button_tooltip:function(){return"Cancel"},edit_message_discard_changes_confirmation_text:function(){return"Cancel editing?"},edit_message_discard_changes_positive_button_text:function(){return"Yes"},edit_message_discard_changes_negative_button_text:function(){return"No"},delete_chat_confirmation_title:function(){return"Delete Chat"},delete_chat_confirmation_owner_body:function(){return"This will remove all the members and discontinue the chat."},delete_chat_confirmation_non_owner_body:function(){return"This will remove the chat from your recent activity."},delete_chat_confirmation_positive_button_text:function(){return"Delete"},delete_chat_confirmation_negative_button_text:function(){return"Cancel"},sys_message_personal_chat_created_text:function(e,t){return"{0} added {1} to the chat"},sys_message_group_chat_created_text:function(e,t,n){return"{0} added {1} and {2} other to the chat"},sys_message_member_left_text:function(e){return"{0} has left the chat"},sys_message_chat_renamed:function(e,t){return'{0} has changed the group chat name to "{1}"'},sys_message_one_member_added_no_history:function(e,t){return"{0} added {1} to the chat without sharing history"},sys_message_multiple_members_added_no_history:function(e,t,n){return"{0} added {1} and {2} other to the chat without sharing history"}},COMMUNICATION_PANEL:{pin_tooltip:function(){return"Pin Communication Panel "},active_interactions:function(){return"Active Interactions"}},SUPERVISION_PAGE:{metrics_alerts_configuration:function(){return"Metrics Alerts Configuration"},intents_alerts_configuration:function(){return"Intents Alerts Configuration"},intents_for_alerts_label:function(){return"Intents for Alerts"},no_active_alerts_message:function(){return"You have no active alerts"},search_agents:function(){return"Search agents"},load:function(){return"Load"},enter_the_view_name:function(){return"Enter the view name"},save_table_view:function(){return"Save Table View"},load_table_view:function(){return"Load Table View"},new_custom_group:function(){return"New Custom Group"},metric_edit_name:function(){return"Edit Name"},metric_restore_default_name:function(){return"Restore Default Name"},ungroup:function(){return"Ungroup"},serch_metrics:function(){return"Search metrics"},show_all_metrics_label:function(){return"Show all"},add_custom_group:function(){return"Add Custom Group"},manage_metrics_modal_title:function(){return"Manage Metrics"},actions_menu_option_manage_metrics:function(){return"Manage Metrics..."},actions_menu_option_restore_default_view:function(){return"Restore Default View"},actions_menu_option_set_view:function(){return"Set View as Default System-wide"},actions_menu_option_horizontal_scrolling_off:function(){return"Turn Horizontal Scrolling Off"},actions_menu_option_horizontal_scrolling_on:function(){return"Turn Horizontal Scrolling On"},actions_menu_option_collapse_table:function(){return"Collapse Table"},actions_menu_option_save_view:function(){return"Save View as..."},actions_menu_option_load_view:function(){return"Load View..."},actions_menu_btn_tooltip:function(){return"Table control actions menu"},full_screen_btn_tooltip:function(){return"Full Screen"},monitoring_subTeam_editMode_popupHeader:function(){return"SELECT AGENTS"},monitoring_subTeam_editMode_popupText:function(){return"To create a subteam, select agents below and click OK here."},monitoring_services_filter_services:function(){return"FILTER SERVICES"},monitoring_services_select_all:function(){return"(Select All)"},monitoring_services_use_filter:function(){return"Use Filter"},quality_management_monitor_show_details:function(){return"Show details"},quality_management_monitor_button:function(){return"Monitor"},quality_management_monitor_menu_button:function(){return"Monitor menu"},quality_management_monitor_menu_coach:function(){return"Coach"},quality_management_monitor_menu_barge_in:function(){return"Barge in"},quality_management_monitor_search_transcript:function(){return"Search transcript"},quality_management_monitor_party_connected:function(e){return"{0} connected"},quality_management_monitor_party_inviting:function(e){return"{0} inviting..."},quality_management_monitor_party_left:function(e){return"{0} disconnected"},quality_management_monitor_keep_monitoring:function(){return"Keep monitoring this agent"},users_table_status_column:function(){return"Status"},users_table_logged_out_users_label:function(){return"Logged-out users"},users_table_my_subteam_only_label:function(){return"My subteam only"},users_table_group_state:function(){return"State"},users_table_group_states_daily:function(){return"States Daily"},users_table_group_out_daily:function(){return"OUT Calls&Chats  Daily"},users_table_group_in_daily:function(){return"IN Calls&Chats Daily"},users_table_group_in_email_daily:function(){return"IN @ Daily"},users_table_group_surveys_daily:function(){return"Surveys Daily"},users_table_group_records_daily:function(){return"Records Daily"},users_table_group_remainders:function(){return"Reminders"}},EVALUATION_PAGE:{eval_home:function(){return"Eval Home"},evaluation:function(){return"Evaluation"},summary:function(){return"Summary"},transcript:function(){return"Transcript"},prescoring:function(){return"Prescoring"},screen_recording:function(){return"Screen Recording"},all_evals:function(){return"All Evals"},conversation_summary:function(){return"Conversation Summary"},ai_generated:function(){return"AI Generated"},all_participants:function(){return"All Participants"},all_participants_count:function(e){return"All participants ({0})"},additional_details:function(){return"Additional Details"},hang_up_by:function(){return"Hang up by"},csat:function(){return"CSAT"},fcr:function(){return"FCR"},hold_time:function(){return"Hold time"},talk_time:function(){return"Talk time"},acw_time:function(){return"ACW Time"},agent_notes:function(){return"Agent Notes"},comment:function(){return"Comment"},disposition:function(){return"Disposition"},search_results_count:function(e){return"Search Results: {0}"},no_rows_to_show:function(){return"No rows to show"},assign:function(){return"Assign"},calibrate:function(){return"Calibrate"},filter_search_results:function(){return"Filter search results"},edit_columns:function(){return"Edit columns"},agent:function(){return"Agent"},client:function(){return"Client"},system:function(){return"System"},suggestion:function(){return"Suggestion"},contact:function(){return"Contact"},time_date:function(){return"Time/Date"},compliance:function(){return"Compliance"},service:function(){return"Service"},nps:function(){return"NPS"},sentiment:function(){return"Sentiment"},duration:function(){return"Duration"},status:function(){return"Status"},recording:function(){return"Recording"},fcr_positive_value:function(){return"Yes"},fcr_negative_value:function(){return"No"},show_all_metric:function(){return"Show All"},selected_row_counter:function(e){return"{0} selected"},saved_searches:function(){return"Saved Searches"},create_search_in_folder:function(){return"Create Search in Folder"},create_folder:function(){return"Create Folder"},rename:function(){return"Rename"},delete:function(){return"Delete"},actions:function(){return"Actions"},delete_tree_elem_modal_header:function(e){return"Remove {0}"},delete_tree_elem_modal_body:function(){return"You are going to remove the search"},delete_tree_elem_confirm_modal:function(){return"Remove"},create_tree_elem_confirm_modal:function(){return"Create"},new_folder:function(){return"New Folder"},new_search:function(){return"New Search"},name:function(){return"Name"},assign_evaluation:function(){return"Assign Evaluation"},assign_calibration:function(){return"Assign Calibration"},cancel:function(){return"Cancel"},save:function(){return"Save"},submit:function(){return"Submit"},change_comment:function(){return"Change Comment"},change_disposition:function(){return"Change Disposition"},reason:function(){return"Reason"},autoAcknowledge:function(){return"Auto Acknowledge"},add_filter:function(){return"Add Filter"},add_or_filter:function(){return"Add ANY OF"},interaction_attributes:function(){return"Interaction Attributes"},agent_attributes:function(){return"Agent Attributes"},evaluation_attributes:function(){return"Evaluation Attributes"},special_attributes:function(){return"Special Attributes"},content:function(){return"Content"},quality_metrics:function(){return"Quality Metrics"},customer_attributes:function(){return"Customer Attributes"},filter_name_account_number:function(){return"Account Number"},edit_name_of_search:function(){return"Edit name of search"},filter_name_agent:function(){return"Agent"},filter_name_agent_notes_contains:function(){return"Agent Notes Contains"},filter_name_agents_rank:function(){return"Agent's rank"},filter_name_agents_supervisor:function(){return"Agent's supervisor"},filter_name_agents_training_class:function(){return"Agent's training class"},filter_name_bookmarked:function(){return"Bookmarked"},filter_name_case_id:function(){return"Case ID"},filter_name_comment_contains:function(){return"Comment Contains"},filter_name_connected_to:function(){return"Connected To"},filter_name_csat:function(){return"CSAT"},filter_name_custom_reporting_field_n:function(){return"Custom Reporting Field (N)"},filter_name_customer_phone_number:function(){return"Customer Phone Number"},filter_name_direction:function(){return"Direction"},filter_name_disposition:function(){return"Disposition"},filter_name_total_duration:function(){return"Total Duration"},filter_name_ended:function(){return"Ended"},filter_name_eval_completed:function(){return"Eval completed"},filter_name_eval_failed:function(){return"Eval Failed"},filter_name_eval_status:function(){return"Eval Status"},filter_name_eval_type:function(){return"Eval Type"},filter_name_evaluated:function(){return"Evaluated"},filter_name_evaluated_agent:function(){return"Evaluated Agent"},filter_name_evaluated_by:function(){return"Evaluated By"},filter_name_fcr:function(){return"FCR"},filter_name_first_name:function(){return"First Name"},filter_name_from:function(){return"From"},filter_name_global_interaction_id:function(){return"Global Interaction ID"},filter_name_handle_time:function(){return"Handle Time"},filter_name_hang_up_by:function(){return"Hang up by"},filter_name_has_call_problem:function(){return"Has Call Problem"},filter_name_has_recording:function(){return"Has Recording"},filter_name_has_screen_recording:function(){return"Has Screen Recording"},filter_name_has_voice_signature:function(){return"Has Voice Signature"},filter_name_in_email_subject:function(){return"In Email Subject"},filter_name_km_template:function(){return"KM Template"},filter_name_last_name:function(){return"Last Name"},filter_name_media_type:function(){return"Media Type"},filter_name_monitored_by:function(){return"Monitored By"},filter_name_nps:function(){return"NPS"},filter_name_quota:function(){return"Quota"},filter_name_record_id:function(){return"Record ID"},filter_name_scheduled_for:function(){return"Scheduled For"},filter_name_score:function(){return"Score"},filter_name_self_evaluated:function(){return"Self-evaluated"},filter_name_sentiment:function(){return"Sentiment"},filter_name_service:function(){return"Service"},filter_name_started:function(){return"Started"},filter_name_talk_time:function(){return"Talk Time"},filter_name_text_search:function(){return"Text Search"},filter_name_thread_id:function(){return"Thread ID"},filter_name_to:function(){return"To"},filter_name_transferred:function(){return"Transferred"},filter_name_flagged:function(){return"Flagged"},date_from:function(){return"From"},date_to:function(){return"To"},date_days_amount:function(){return"Number of Days"},filter_time_type_today:function(){return"Today"},filter_time_type_yesterday:function(){return"Yesterday"},filter_time_type_last_24h:function(){return"Last 24h"},filter_time_type_last_n_days:function(){return"Last N days"},filter_time_type_this_week:function(){return"This week"},filter_time_type_this_week_from_monday:function(){return"This week (fromMonday)"},filter_time_type_last_week_from_monday:function(){return"Last week (fromMonday)"},filter_time_type_last_week:function(){return"Last week"},filter_time_type_this_month:function(){return"This month"},filter_time_type_last_month:function(){return"Last month"},filter_time_type_custom_range:function(){return"Custom"},none:function(){return"None"},scheduled:function(){return"Scheduled"},confirmed:function(){return"Completed"},reviewed:function(){return"Accepted"},disputed:function(){return"Disputed"},assigned:function(){return"Assigned"},saved:function(){return"Draft"},submitted:function(){return"Pending"},reopened:function(){return"Reopened"},randomize_search_results:function(){return"Randomize search results"},reset_search:function(){return"Reset Search"},clone:function(){return"Clone"},agents:function(){return"Agents"},teams:function(){return"Teams"},evaluations:function(){return"Evaluations"},per_days:function(){return"Per Days"},any_team_i_supervise:function(){return"Any Team I Supervise"},any_team_i_evaluate:function(){return"Any Team I Evaluate"},min_sec:function(){return"Min (sec)"},max_sec:function(){return"Max (sec)"},all:function(){return"All"},neutral:function(){return"Neutral"},positive:function(){return"Positive"},negative:function(){return"Negative"},export:function(){return"Export"},audio:function(){return"Audio"},video:function(){return"Video"},transcription:function(){return"Transcription"},no_forms_for_services:function(){return"There are no evaluation forms defined for this service"},no_priveleges_for_evaluation:function(){return"You don't have enough privileges to make evaluation of this interaction"},export_interaction:function(){return"Export Interaction"},export_media_type:function(){return"Export media type"},selected_items_label:function(e){return"({0}) selected"},multiselected_items_count:function(e){return" + {0} selected"},all_selected_items_label:function(e){return"All except {0} selected"},range_selected_items_label:function(){return"{0} - {1} secs"},range_selected_items_days:function(e,t){return"from {0} - to {1}"},selected_items_n_days:function(e){return"Last {0} days"},filter_quota_value_name:function(e,t){return"{0} Evaluations per {1} days"},km_template_used:function(){return"KM Template used"},km_template_not_used:function(){return"KM Template not used"}},CHAT_RESPONSES:{delete_folder_modal_body:function(e){return"Are you sure you want to delete the folder {0} with all its\u2019 content?"},delete_response_modal_body:function(){return"Are you sure you want to delete the response?"},delete_folder_modal_header:function(){return"Delete Folder"},delete_response_modal_header:function(){return"Delete Response"},delete_modal_cancel:function(){return"Cancel"},delete_modal_confirm:function(){return"Delete"}},NAV_BAR:{page_title_context:function(){return"Context"},page_title_calendar:function(){return"Calendar"},page_title_cases:function(){return"Cases"},page_title_contacts:function(){return"Contacts"},page_title_campaigns:function(){return"Campaigns"},page_title_supervisor:function(){return"Supervisor"},page_title_internal_chat:function(){return"Internal"},page_title_omni_qm:function(){return"Omni QM"},page_title_kb:function(){return"KB"},page_title_kb_full:function(){return"Knowledge Base"},page_title_home_page:function(){return"Home Page"},more_title:function(){return"More"},page_title_evaluation:function(){return"Quality Management"}},CASE_MESSAGE:{party_joined:function(e){return"{0}: has joined the chat"},party_left:function(e){return"{0}: has left the chat"}},MERGE_FORM:{master_record:function(){return"Master Record"},phone_number:function(){return"Phone number"},email:function(){return"Email"},address:function(){return"Address"},messenger:function(){return"Messenger"},created:function(e){return"Created: {0}"},add_contact:function(){return"Add Contact"},max_emails:function(e){return"Contact cannot have more than {0} email addresses total, please unselect the extra addresses"},max_addresses:function(e){return"Contact cannot have more than {0} addresses total, please unselect the extra addresses"},max_phones:function(e){return"Contact cannot have more than {0} phone numbers total, please unselect the extra phone numbers"},max_messengers:function(e){return"Contact cannot have more than {0} messenger(s) total, please unselect the extra messenger(s)"},confirm_merge:function(){return"All non-master contacts will be deleted. Are you sure you want to proceed?"},confirm_reset:function(){return"Are you sure you want to reset values?"}}},p={GLOBAL:{call:{getter:function(){return"Call"},mapKey:"InteractionConstants_call"},chat:{getter:function(){return"Chat"},mapKey:"InteractionConstants_chat"},from:{getter:function(){return"From"},mapKey:"InteractionConstants_from"},to:{getter:function(){return"To"},mapKey:"InteractionConstants_to"},at:{getter:function(){return"at"},mapKey:"InteractionConstants_at"},inbound:{getter:function(){return"Inbound"},mapKey:"InteractionConstants_inbound"},outbound:{getter:function(){return"Outbound"},mapKey:"InteractionConstants_outbound"},recording:{getter:function(){return"recording"},mapKey:"InteractionConstants_recording"},result:{getter:function(){return"Result"},mapKey:"InteractionConstants_result"},additional_info:{getter:function(){return"Additional info"},mapKey:"InteractionConstants_additional_info"},re:{getter:function(){return"re"},mapKey:"InteractionConstants_re"},powered_by:{getter:function(){return"Powered by <a href='https://www.brightpattern.com' target='_blank'>Bright Pattern</a>"},mapKey:"Constants_powered_by"},message_not_enough_permissions:{getter:function(){return"Not enough permissions."},mapKey:"Constants_message_not_enough_permissions"},sf_button_openAgentDesktop:{getter:function(){return"Open Agent Desktop Pop-up"},mapKey:"Constants_sf_button_openAgentDesktop"},sf_runningInPopup_msg:{getter:function(){return"Agent Desktop running in pop-up window"},mapKey:"Constants_sf_runningInPopup_msg"},click_to_activate_message:{getter:function(){return"Current page is inactive click anywhere on the page to activate."},mapKey:"Constants_click_to_activate_message"},click_to_login_message:{getter:function(){return"Not logged into Agent Desktop <b>click here</b> to log in"},mapKey:"Constants_click_to_login_message"},drop_files_here:{getter:function(){return"Drop files here"},mapKey:"Constants_drop_files_here"},anonymous:{getter:function(){return"Anonymous"},mapKey:"Constants_anonymous"},unidentified:{getter:function(){return"Unidentified"},mapKey:"Constants_unidentified"},chat_type_telegram:{getter:function(){return"Telegram"},mapKey:"Constants_chat_type_telegram"},dial_request_status_failed:{getter:function(){return"failed"},mapKey:"Constants_dial_request_status_failed"},dial_request_status_search_number:{getter:function(){return"search..."},mapKey:"Constants_dial_request_status_search_number"},reserved_interaction:{getter:function(){return"reserved"},mapKey:"Constants_reserved_interaction"},callback_reservation:{getter:function(){return"Callback reservation"},mapKey:"Constants_callback_reservation"},callback_reservation_details:{getter:function(){return"You will be presented with the call once the customer is called back and connected"},mapKey:"Constants_callback_reservation_details"},callback_reservation_header:{getter:function(){return"Reservation for incoming interaction"},mapKey:"Constants_callback_reservation_header"},do_not_show_again:{getter:function(){return"don't show this to me again"},mapKey:"Constants_do_not_show_again"},internal_error:{getter:function(){return"Internal error"},mapKey:"Constants_internal_error"},dial_request_error_message_record_completed:{getter:function(){return"The campaign record is completed and cannot be dialed anymore"},mapKey:"Constants_dial_request_error_message_record_completed"},dial_request_error_message_hop_violation:{getter:function(){return"The dialed number is outside of the campaign\u2019s safe calling hours"},mapKey:"Constants_dial_request_error_message_hop_violation"},dial_request_error_message_dnc:{getter:function(){return"The number is matching an active Do-not-call List"},mapKey:"Constants_dial_request_error_message_dnc"},dial_request_error_message_campaign_disabled:{getter:function(){return"The campaign is disabled"},mapKey:"Constants_dial_request_error_message_campaign_disabled"},dial_request_error_message_list_is_unavailable:{getter:function(){return"The calling list is not ready for dialing yet, please try again later"},mapKey:"Constants_dial_request_error_message_list_is_unavailable"},dial_request_error_message_number_is_not_found:{getter:function(){return"The dialed number is not found in the campaign\u2019s lists"},mapKey:"Constants_dial_request_error_message_number_is_not_found"},dial_request_error_message_campaign_is_not_found:{getter:function(){return"Campaign is not found"},mapKey:"Constants_dial_request_error_message_campaign_is_not_found"},dial_request_error_message_number_missed:{getter:function(){return"No phone number to dial"},mapKey:"Constants_dial_request_error_message_number_missed"},dial_request_error_message_timeout:{getter:function(){return"Timeout verifying phone number"},mapKey:"Constants_dial_request_error_message_timeout"},dial_request_dial_anyway_button_text:{getter:function(){return"Dial anyway"},mapKey:"Constants_dial_request_dial_anyway_button_text"},chat_type_viber:{getter:function(){return"Viber"},mapKey:"Constants_chat_type_viber"},chat_type_sms:{getter:function(){return"SMS"},mapKey:"Constants_chat_type_sms"},chat_type_nexmo:{getter:function(){return"Nexmo"},mapKey:"Constants_chat_type_nexmo"},chat_type_remote_assist:{getter:function(){return"Remote Assist"},mapKey:"Constants_chat_type_remote_assist"},chat_type_wechat:{getter:function(){return"WeChat"},mapKey:"Constants_chat_type_wechat"},chat_type_facebook:{getter:function(){return"Facebook"},mapKey:"Constants_chat_type_facebook"},chat_type_twitter:{getter:function(){return"Twitter"},mapKey:"Constants_chat_type_twitter"},chat_type_web:{getter:function(){return"Chat"},mapKey:"Constants_chat_type_web"},chat_type_line:{getter:function(){return"Line"},mapKey:"Constants_chat_type_line"},unknown_sticker:{getter:function(e){return"unknown sticker {0}"},mapKey:"Constants_unknown_sticker"},category_selector_no_value:{getter:function(){return"Select Category"},mapKey:"Constants_category_selector_no_value"},category_selector_tooltip:{getter:function(){return"Category Selector"},mapKey:"Constants_category_selector_tooltip"},copy_shareable_link_button_tooltip:{getter:function(){return"Copy shareable link to clipboard"},mapKey:"Constants_copy_shareable_link_button_tooltip"},more_matches_omitted:{getter:function(){return"More matches omitted"},mapKey:"Constants_more_matches_omitted"},enter_search_criteria:{getter:function(){return"enter search criteria"},mapKey:"Constants_enter_search_criteria"},no_data:{getter:function(){return"no data"},mapKey:"Constants_no_data"},contact_not_found:{getter:function(){return"Contact is not found"},mapKey:"Constants_contact_not_found"},case_not_found:{getter:function(){return"Case is not found"},mapKey:"Constants_case_not_found"},no_matches:{getter:function(){return"no matches"},mapKey:"Constants_no_matches"},too_many_matches_results_unsorted:{getter:function(){return"Too many matches; Results are not sorted."},mapKey:"Constants_too_many_matches_results_unsorted"},need_email_or_phone:{getter:function(){return"Need a phone number or an email address to perform augmentation search"},mapKey:"Constants_need_email_or_phone"},need_contact_id:{getter:function(){return"Interaction needs to be associated with a contact to perform augmentation search"},mapKey:"Constants_need_contact_id"},no_name:{getter:function(){return"no name"},mapKey:"Constants_no_name"},show_more:{getter:function(){return"Show more"},mapKey:"Constants_show_more"},maximize:{getter:function(){return"Maximize"},mapKey:"Constants_maximize"},authorization:{getter:function(){return"Authorization..."},mapKey:"Constants_authorization"},loading:{getter:function(){return"Loading..."},mapKey:"Constants_loading"},loggingOff:{getter:function(){return"Logging off..."},mapKey:"Constants_loggingOff"},loggingIn:{getter:function(){return"Logging in..."},mapKey:"Constants_loggingIn"},service_selector_no_value:{getter:function(){return"Select Service"},mapKey:"Constants_service_selector_no_value"},access_number_voice_selector_name:{getter:function(e){return"Voice number <{0}>"},mapKey:"Constants_access_number_voice_selector_name"},access_number_sms_selector_name:{getter:function(e){return"SMS number <{0}>"},mapKey:"Constants_access_number_sms_selector_name"},access_number_voice_and_sms_selector_name:{getter:function(e){return"Voice and SMS number <{0}>"},mapKey:"Constants_access_number_voice_and_sms_selector_name"},none:{getter:function(){return"<< None >>"},mapKey:"Constants_none"},submitAs:{getter:function(){return"Set state to"},mapKey:"Constants_submitAs"},all_teams:{getter:function(){return"All Teams"},mapKey:"Constants_all_teams"},none_tooltip:{getter:function(){return"No value"},mapKey:"Constants_none_tooltip"},notSet:{getter:function(){return"<< Not set >>"},mapKey:"Constants_notSet"},search_input_placeholder:{getter:function(){return"Enter search term"},mapKey:"Constants_search_input_placeholder"},searchTextBoxResetIconTooltip:{getter:function(){return"Reset filter"},mapKey:"Constants_searchTextBoxResetIconTooltip"},playFile:{getter:function(){return"Play file"},mapKey:"Constants_playFile"},stopPlaying:{getter:function(){return"Stop playing"},mapKey:"Constants_stopPlaying"},heading:{getter:function(){return"Agent Desktop"},mapKey:"Constants_heading"},noScriptMessage:{getter:function(){return"Your web browser must have JavaScript enabled in order for this application to display correctly."},mapKey:"Constants_noScriptMessage"},sortAscending:{getter:function(){return"Sort Ascending"},mapKey:"Constants_sortAscending"},sortDescending:{getter:function(){return"Sort Descending"},mapKey:"Constants_sortDescending"},heading_incomingCall:{getter:function(){return"Call / incoming"},mapKey:"Constants_heading_incomingCall"},heading_call:{getter:function(){return"Call"},mapKey:"Constants_heading_call"},heading_incomingEmail:{getter:function(){return"Email / incoming"},mapKey:"Constants_heading_incomingEmail"},update_cases_dialog_header:{getter:function(){return"Update cases"},mapKey:"Constants_update_cases_dialog_header"},heading_email:{getter:function(){return"Email"},mapKey:"Constants_heading_email"},heading_incomingChat:{getter:function(){return"Web Chat / incoming"},mapKey:"Constants_heading_incomingChat"},heading_chat:{getter:function(){return"Web Chat"},mapKey:"Constants_heading_chat"},interaction_state_pending:{getter:function(){return"Pending"},mapKey:"Constants_interaction_state_pending"},interaction_state_active:{getter:function(){return"Active"},mapKey:"Constants_interaction_state_active"},interaction_state_acw:{getter:function(){return"ACW"},mapKey:"Constants_interaction_state_acw"},interaction_state_completed:{getter:function(){return"Completed"},mapKey:"Constants_interaction_state_completed"},heading_incomingPreview:{getter:function(){return"Preview"},mapKey:"Constants_heading_incomingPreview"},heading_preview:{getter:function(){return"Preview"},mapKey:"Constants_heading_preview"},heading_unknown:{getter:function(){return"Unknown"},mapKey:"Constants_heading_unknown"},heading_incomingForum:{getter:function(){return"Forum message / incoming"},mapKey:"Constants_heading_incomingForum"},heading_forum:{getter:function(){return"Forum message"},mapKey:"Constants_heading_forum"},heading_calendarAlert:{getter:function(){return"Calendar Event"},mapKey:"Constants_heading_calendarAlert"},heading_calendarAlert_morePrefix:{getter:function(e){return"(+{0} more)"},mapKey:"Constants_heading_calendarAlert_morePrefix"},heading_incomingMessage:{getter:function(){return"Incoming message"},mapKey:"Constants_heading_incomingMessage"},leaveConfirmMsg:{getter:function(){return"This page is asking you to confirm that you want to leave."},mapKey:"Constants_leaveConfirmMsg"},logout:{getter:function(){return"Log out"},mapKey:"Constants_logout"},logout_confirmMsg:{getter:function(){return"Are you sure you want to log out?"},mapKey:"Constants_logout_confirmMsg"},case_status_new:{getter:function(){return"New"},mapKey:"Constants_case_status_new"},case_status_open:{getter:function(){return"Open"},mapKey:"Constants_case_status_open"},case_status_pending:{getter:function(){return"Pending"},mapKey:"Constants_case_status_pending"},case_status_resolved:{getter:function(){return"Resolved"},mapKey:"Constants_case_status_resolved"},case_status_closed:{getter:function(){return"Closed"},mapKey:"Constants_case_status_closed"},select_disposition_dialog_header:{getter:function(){return"Please select a disposition"},mapKey:"Constants_select_disposition_dialog_header"},case_pending_reason_selector_no_value:{getter:function(){return"<select a reason>"},mapKey:"Constants_case_pending_reason_selector_no_value"},settings:{getter:function(){return"Settings"},mapKey:"Constants_settings"},help:{getter:function(){return"Help"},mapKey:"Constants_help"},wallboard:{getter:function(){return"Wallboard"},mapKey:"Constants_wallboard"},miniWidget:{getter:function(){return"Show As mini widget"},mapKey:"Constants_miniWidget"},popin_tooltip:{getter:function(){return"Pop-in"},mapKey:"Constants_popin_tooltip"},popout_tooltip:{getter:function(){return"Pop-out"},mapKey:"Constants_popout_tooltip"},reloadConfirmMsg:{getter:function(){return"Your copy of Agent Desktop is out of date. Press OK to update it now. The application may not work properly if you do not update it."},mapKey:"Constants_reloadConfirmMsg"},qmMode_monitoring_short:{getter:function(){return"M"},mapKey:"Constants_qmMode_monitoring_short"},qmMode_coaching_short:{getter:function(){return"C"},mapKey:"Constants_qmMode_coaching_short"},qmMode_bargein_short:{getter:function(){return"B"},mapKey:"Constants_qmMode_bargein_short"},voice_signature:{getter:function(){return"voice signature"},mapKey:"Constants_voice_signature"},notification_callWithNoAnswer_networkProblem:{getter:function(e){return"A call attempted at {0} to this phone was not delivered due to network, firewall, or computer configuration issues."},mapKey:"Constants_notification_callWithNoAnswer_networkProblem"},notification_agentInNotReadyNoAnswer:{getter:function(e,t){return"You are in the {0} state because you did not accept a customer interaction at {1}. Select the Ready state when ready to handle customer interactions."},mapKey:"Constants_notification_agentInNotReadyNoAnswer"},notification_agentInNotReadyConnectionLoss:{getter:function(e,t){return"Your state was set to {0} because at {1} a call to this phone was not delivered due to network, firewall, or computer configuration issues. Please ensure this phone can accept calls before switching into the Ready state."},mapKey:"Constants_notification_agentInNotReadyConnectionLoss"},remove_conference_party_tooltip:{getter:function(e){return"Disconnect {0} from conference"},mapKey:"Constants_remove_conference_party_tooltip"},addressType_phone:{getter:function(){return"Phone"},mapKey:"Constants_addressType_phone"},addressType_account:{getter:function(){return"Account"},mapKey:"Constants_addressType_account"},addressType_twitter:{getter:function(){return"Twitter"},mapKey:"Constants_addressType_twitter"},addressType_skype:{getter:function(){return"Skype"},mapKey:"Constants_addressType_skype"},addressType_email:{getter:function(){return"Email"},mapKey:"Constants_addressType_email"},addressType_address:{getter:function(){return"Address"},mapKey:"Constants_addressType_address"},campaign_mode_preview:{getter:function(){return"preview"},mapKey:"Constants_campaign_mode_preview"},campaign_mode_progressive:{getter:function(){return"progressive"},mapKey:"Constants_campaign_mode_progressive"},campaign_mode_predictive:{getter:function(){return"predictive"},mapKey:"Constants_campaign_mode_predictive"},emailInAgentsPersonalQueue:{getter:function(e){return"Email in agent's ({0}) personal queue."},mapKey:"Constants_emailInAgentsPersonalQueue"},voicemail_greeting_dialog_activeGreeting_notBeenChanged_message:{getter:function(){return"Active Voicemail Greeting has not been changed."},mapKey:"Constants_voicemail_greeting_dialog_activeGreeting_notBeenChanged_message"},voicemail_greeting_edit_dialog_heading:{getter:function(){return"Edit Voicemail Greeting"},mapKey:"Constants_voicemail_greeting_edit_dialog_heading"},voicemail_greeting_button_edit_label:{getter:function(){return"edit/record"},mapKey:"Constants_voicemail_greeting_button_edit_label"},voicemail_greeting_button_delete_label:{getter:function(){return"delete"},mapKey:"Constants_voicemail_greeting_button_delete_label"},time_units_hours:{getter:function(){return"hours"},mapKey:"Constants_time_units_hours"},time_units_minutes:{getter:function(){return"minutes"},mapKey:"Constants_time_units_minutes"},time_units_days:{getter:function(){return"days"},mapKey:"Constants_time_units_days"},button_followUpActivity_tooltip:{getter:function(){return"Schedule follow-up activity"},mapKey:"Constants_button_followUpActivity_tooltip"},next_prefix:{getter:function(){return"Next"},mapKey:"Constants_next_prefix"},home_screen_welcome_url:{getter:function(){return"Welcome"},mapKey:"Constants_home_screen_welcome_url"},home_screen_personal_stats:{getter:function(){return"Personal stats"},mapKey:"Constants_home_screen_personal_stats"},home_screen_team_stats:{getter:function(){return"Team stats"},mapKey:"Constants_home_screen_team_stats"},OK:{getter:function(){return"OK"},mapKey:"PasswordErrorMessages_OK"},TOO_SHORT:{getter:function(){return"The password is too short"},mapKey:"PasswordErrorMessages_TOO_SHORT"},NO_LETTER_DIGITS:{getter:function(){return"The password is too weak - need both letters and digits"},mapKey:"PasswordErrorMessages_NO_LETTER_DIGITS"},NO_UPPER_LOWER:{getter:function(){return"The password is too weak - need both upper and lower case letters"},mapKey:"PasswordErrorMessages_NO_UPPER_LOWER"},NO_SPECIAL:{getter:function(){return"The password is too weak - needs to have a special character"},mapKey:"PasswordErrorMessages_NO_SPECIAL"},IN_WEAK_LIST:{getter:function(){return"The password is too weak - it can be easily guessed"},mapKey:"PasswordErrorMessages_IN_WEAK_LIST"},RECENTLY_USED:{getter:function(){return"The password was used previously"},mapKey:"PasswordErrorMessages_RECENTLY_USED"},must_change_password:{getter:function(){return"Must change password"},mapKey:"Constants_must_change_password"},account_disabled:{getter:function(){return"Account disabled"},mapKey:"Constants_account_disabled"},tenant_disabled:{getter:function(){return"Tenant disabled"},mapKey:"Constants_tenant_disabled"},ip_address_not_allowed:{getter:function(){return"IP address not allowed"},mapKey:"Constants_ip_address_not_allowed"},account_locked:{getter:function(){return"Account locked"},mapKey:"Constants_account_locked"},wait_before_login:{getter:function(){return"Wait before login"},mapKey:"Constants_wait_before_login"},already_logged_in:{getter:function(){return"Already logged in"},mapKey:"Constants_already_logged_in"},invalid_password:{getter:function(){return"Invalid password"},mapKey:"Constants_invalid_password"},insufficient_privileges:{getter:function(){return"Insufficient privileges"},mapKey:"Constants_insufficient_privileges"},invalid_domain:{getter:function(){return"Invalid domain"},mapKey:"Constants_invalid_domain"},invalid_user_name:{getter:function(){return"Invalid user name"},mapKey:"Constants_invalid_user_name"},unknown_failure:{getter:function(){return"Unknown failure"},mapKey:"Constants_unknown_failure"},search_contact_input_placeholder:{getter:function(){return"Enter name or number"},mapKey:"declaration_search_contact_input_placeholder"},drag_and_drop_subtitle:{getter:function(){return"To send them with a message"},mapKey:"declaration_drag_and_drop_subtitle"},hours_short:{getter:function(){return"hr"},mapKey:"declaration_hours_short"},minutes_short:{getter:function(){return"min"},mapKey:"declaration_minutes_short"},seconds_short:{getter:function(){return"sec"},mapKey:"declaration_seconds_short"},time_in_queue:{getter:function(){return"Time in queue:"},mapKey:"declaration_time_in_queue"},see_more:{getter:function(){return"See more"},mapKey:"declaration_see_more"},see_less:{getter:function(){return"See less"},mapKey:"declaration_see_less"},edit:{getter:function(){return"Edit"},mapKey:"declaration_edit"},delete:{getter:function(){return"Delete"},mapKey:"declaration_delete"},continue:{getter:function(){return"Continue"},mapKey:"declaration_continue"},play:{getter:function(){return"Play"},mapKey:"declaration_play"},add:{getter:function(){return"Add"},mapKey:"declaration_add"},reload_confirm_new_msg_part1:{getter:function(){return"Your copy of Agent Desktop is out of date. Press "},mapKey:"declaration_reload_confirm_new_msg_part1"},reload_confirm_action_button_text:{getter:function(){return"OK"},mapKey:"declaration_reload_confirm_action_button_text"},reload_confirm_new_msg_part2:{getter:function(){return" to update it now. The application may not work properly if you do not update it."},mapKey:"declaration_reload_confirm_new_msg_part2"},country_selector_recent:{getter:function(){return"Recent"},mapKey:"declaration_country_selector_recent"},country_selector_countries:{getter:function(){return"Countries"},mapKey:"declaration_country_selector_countries"},country_selector_all_countries_title:{getter:function(){return"All Countries"},mapKey:"declaration_country_selector_all_countries_title"},country_selector_button_tooltip:{getter:function(){return"Change phone number country formatting"},mapKey:"declaration_country_selector_button_tooltip"},country_selector_search_input_placeholder:{getter:function(){return"Search"},mapKey:"declaration_country_selector_search_input_placeholder"},audio_player_handled_by_label:{getter:function(){return"Handled by:"},mapKey:"declaration_audio_player_handled_by_label"},interaction_bar_calls_label:{getter:function(){return"Voice calls"},mapKey:"declaration_interaction_bar_calls_label"},interaction_bar_chats_label:{getter:function(){return"Chats"},mapKey:"declaration_interaction_bar_chats_label"},interaction_bar_contact_activities_label:{getter:function(){return"History contacts"},mapKey:"declaration_interaction_bar_contact_activities_label"}},ABOUT_DIALOG_BOX:{about_heading:{getter:function(){return"About"},mapKey:"Constants_about_heading"},proxyType_webSockets:{getter:function(){return"Web Sockets"},mapKey:"Constants_proxyType_webSockets"},proxyType_softphone:{getter:function(){return"Softphone"},mapKey:"Constants_proxyType_softphone"},proxyType_httppolldirect:{getter:function(){return"HTTP poll direct"},mapKey:"Constants_proxyType_httppolldirect"},proxyType_httppollproxy:{getter:function(){return"HTTP poll proxy"},mapKey:"Constants_proxyType_httppollproxy"},proxyType_httppollexternalproxy:{getter:function(){return"HTTP poll external proxy"},mapKey:"Constants_proxyType_httppollexternalproxy"},about_prodictName:{getter:function(){return"Product Name:"},mapKey:"Constants_about_prodictName"},about_logFiles:{getter:function(){return"Log Files"},mapKey:"Constants_about_logFiles"},about_clientVersion:{getter:function(){return"Client version:"},mapKey:"Constants_about_clientVersion"},about_licensedTo:{getter:function(){return"Licensed to:"},mapKey:"Constants_about_licensedTo"},about_pluginInstall:{getter:function(){return"install"},mapKey:"Constants_about_pluginInstall"},about_pluginUpdate:{getter:function(){return"update"},mapKey:"Constants_about_pluginUpdate"},about_pluginVersion:{getter:function(){return"Helper App version:"},mapKey:"Constants_about_pluginVersion"},about_extensionVersion:{getter:function(){return"Chrome extension version:"},mapKey:"Constants_about_extensionVersion"},about_extensionVersionFirefox:{getter:function(){return"Firefox extension version:"},mapKey:"Constants_about_extensionVersionFirefox"},about_extensionUpdate:{getter:function(){return"Update"},mapKey:"Constants_about_extensionUpdate"},about_extensionVersionSafari:{getter:function(){return"Safari extension version:"},mapKey:"Constants_about_extensionVersionSafari"},about_serverVersion:{getter:function(){return"Server version:"},mapKey:"Constants_about_serverVersion"},about_agentServer:{getter:function(){return"Agent server:"},mapKey:"Constants_about_agentServer"},about_SIPserver:{getter:function(){return"SIP server:"},mapKey:"Constants_about_SIPserver"},about_proxyType:{getter:function(){return"Proxy type:"},mapKey:"Constants_about_proxyType"}},ACCESSIBILITY:{status_call_muted:{getter:function(){return"Call muted"},mapKey:"declaration_status_call_muted"},status_call_unmuted:{getter:function(){return"Call unmuted"},mapKey:"declaration_status_call_unmuted"},status_call_on_hold:{getter:function(){return"Call on hold"},mapKey:"declaration_status_call_on_hold"},status_call_retrieved:{getter:function(){return"Call retrieved"},mapKey:"declaration_status_call_retrieved"},status_call_ended:{getter:function(){return"Call ended"},mapKey:"declaration_status_call_ended"},status_chat_message_sent:{getter:function(){return"Message sent"},mapKey:"declaration_status_chat_message_sent"},alert_item_flagged:{getter:function(e){return"{0} flagged"},mapKey:"declaration_alert_item_flagged"},alert_item_unflagged:{getter:function(e){return"{0} unflagged"},mapKey:"declaration_alert_item_unflagged"},alert_call_recording_started:{getter:function(){return"Recording started"},mapKey:"declaration_alert_call_recording_started"},alert_call_recording_stopped:{getter:function(){return"Recording stopped"},mapKey:"declaration_alert_call_recording_stopped"},country_selector_button_selected:{getter:function(e){return"Selected: {0}"},mapKey:"declaration_country_selector_button_selected"},internal_chat_message:{getter:function(){return"Internal chat messages"},mapKey:"declaration_internal_chat_message"},attachment_button_label:{getter:function(){return"Open attachment context menu"},mapKey:"declaration_attachment_button_label"},incoming_interaction:{getter:function(){return"Incoming interaction"},mapKey:"declaration_incoming_interaction"}},ACTIVITY_HISTORY:{activity_view_reported_date_label:{getter:function(e,t,n){return"{0} reported on {1} at {2}"},mapKey:"Constants_activity_view_reported_date_label"},activity_view_called_at_label:{getter:function(e,t,n,r){return"{0} called on {1} at {2}, handled by {3}"},mapKey:"Constants_activity_view_called_at_label"},activity_view_email_not_found:{getter:function(){return"No data"},mapKey:"Constants_activity_view_email_not_found"},activity_view_agent_called_at_label:{getter:function(e,t,n){return"{0} called on {1} at {2}"},mapKey:"Constants_activity_view_agent_called_at_label"},activity_view_chatted_at_label:{getter:function(e,t,n){return"{0} chatted on {1}, handled by {2}"},mapKey:"Constants_activity_view_chatted_at_label"},activity_view_agent_remote_assist_at_label:{getter:function(e,t,n,r){return"{0} had remote assistance on {1} at {2} handled by {3}"},mapKey:"Constants_activity_view_agent_remote_assist_at_label"},activity_view_remote_assist_duration:{getter:function(){return"Duration:"},mapKey:"Constants_activity_view_remote_assist_duration"},activity_view_remote_assist_os_version:{getter:function(){return"OS version:"},mapKey:"Constants_activity_view_remote_assist_os_version"},activity_view_remote_assist_private_ip:{getter:function(){return"Private IP:"},mapKey:"Constants_activity_view_remote_assist_private_ip"},activity_view_remote_assist_public_ip:{getter:function(){return"Public IP:"},mapKey:"Constants_activity_view_remote_assist_public_ip"},activity_view_agent_chatted_at_label:{getter:function(e,t){return"{0} chatted on {1}"},mapKey:"Constants_activity_view_agent_chatted_at_label"},activity_view_sent_date_label:{getter:function(e,t,n){return"{0} sent on {1} at {2}"},mapKey:"Constants_activity_view_sent_date_label"},activity_view_auto_ack_date_label:{getter:function(e,t){return"auto acknowledge on {0} at {1}"},mapKey:"Constants_activity_view_auto_ack_date_label"},activity_view_hidden_messages:{getter:function(e){return"{0} hidden messages"},mapKey:"Constants_activity_view_hidden_messages"},activity_view_hidden_messages_expand:{getter:function(){return"expand"},mapKey:"Constants_activity_view_hidden_messages_expand"},activity_view_hidden_messages_collapse:{getter:function(){return"collapse"},mapKey:"Constants_activity_view_hidden_messages_collapse"},activity_view_left_note_label:{getter:function(e,t,n){return"{0} left a note on {1} at {2}"},mapKey:"Constants_activity_view_left_note_label"},activity_view_case_disposition_label:{getter:function(e,t,n){return"{0} dispositioned email interaction {1} at {2}"},mapKey:"Constants_activity_view_case_disposition_label"},activity_view_left_event_label:{getter:function(e,t,n){return"{0} created an event on {1} at {2}"},mapKey:"Constants_activity_view_left_event_label"},activity_view_case_created_event_label:{getter:function(e,t,n){return"{0} created new case on {1} at {2}"},mapKey:"Constants_activity_view_case_created_event_label"},activity_view_follow_up_case_created_label:{getter:function(e){return"Follow up case {0} is created"},mapKey:"Constants_activity_view_follow_up_case_created_label"},activity_view_case_created_as_follow_up_label:{getter:function(e){return"Case created as follow up from case {0}"},mapKey:"Constants_activity_view_case_created_as_follow_up_label"},activity_view_email_content_erased:{getter:function(e,t,n,r){return"Content erased on {0} at {1} by {2}. Reason: {3}."},mapKey:"Constants_activity_view_email_content_erased"},activity_case_state_changed:{getter:function(e,t,n,r){return"{0} changed case state to {1} on {2} at {3}"},mapKey:"Constants_activity_case_state_changed"},activity_case_state_pending:{getter:function(e,t,n,r,a){return"{0} changed case state to {1} on {2} at {3}. Reason: {4}"},mapKey:"Constants_activity_case_state_pending"},activity_case_state_disposition:{getter:function(e,t,n,r,a){return"{0} changed case state to {1} on {2} at {3}. Disposition: {4}"},mapKey:"Constants_activity_case_state_disposition"},activity_case_state_no_message:{getter:function(){return"None"},mapKey:"Constants_activity_case_state_no_message"},activity_case_state_closed:{getter:function(e,t){return"Case closed on {2} at {3}"},mapKey:"Constants_activity_case_state_closed"},activity_view_case_pushed_label:{getter:function(e,t,n,r){return"Pushed from Team Queue \u201c{0}\u201d to {1} on {2} at {3}"},mapKey:"Constants_activity_view_case_pushed_label"},activity_view_case_pulled_label:{getter:function(e,t,n,r){return"{1} pulled from Team Queue \u201c{0}\u201d on {2} at {3}"},mapKey:"Constants_activity_view_case_pulled_label"},activity_view_case_assigned_to_queue_label:{getter:function(e,t,n,r){return"{0} Assigned to Team Queue \u201c{1}\u201d on {2} at {3}"},mapKey:"Constants_activity_view_case_assigned_to_queue_label"},activity_view_case_assigned_to_agent_label:{getter:function(e,t,n,r){return"{0} Assigned to {1} on {2} at {3}"},mapKey:"Constants_activity_view_case_assigned_to_agent_label"},activity_view_case_transferred_to_queue_label:{getter:function(e,t,n,r){return"{0} transferred to Team Queue \u201c{1}\u201d on {2} at {3}"},mapKey:"Constants_activity_view_case_transferred_to_queue_label"},activity_view_case_transferred_to_agent_label:{getter:function(e,t,n,r){return"{0} transferred to {1} on {2} at {3}"},mapKey:"Constants_activity_view_case_transferred_to_agent_label"},case_view_activity_filter_label:{getter:function(){return"Content"},mapKey:"Constants_case_view_activity_filter_label"},activity_view_filter_by_activity_conversations:{getter:function(){return"Conversations"},mapKey:"Constants_activity_view_filter_by_activity_conversations"},activity_view_filter_by_activity_events:{getter:function(){return"Events"},mapKey:"Constants_activity_view_filter_by_activity_events"},activity_history_header_from:{getter:function(e){return"From: {0}"},mapKey:"Constants_activity_history_header_from"},activity_history_header_cc:{getter:function(e){return"Cc: {0}"},mapKey:"Constants_activity_history_header_cc"},activity_history_header_bcc:{getter:function(e){return"Bcc: {0}"},mapKey:"Constants_activity_history_header_bcc"},activity_history_header_viaDistributionRules:{getter:function(){return"Distribution rules"},mapKey:"Constants_activity_history_header_viaDistributionRules"},activity_history_header_to:{getter:function(e){return"To: {0}"},mapKey:"Constants_activity_history_header_to"},activity_history_header_duration:{getter:function(e){return"Duration: {0}"},mapKey:"Constants_activity_history_header_duration"},activity_history_header_subject:{getter:function(e){return"Subject: {0}"},mapKey:"Constants_activity_history_header_subject"},activity_view_email_restricted:{getter:function(){return"Restricted content"},mapKey:"Constants_activity_view_email_restricted"},button_close_tooltip:{getter:function(){return"Close activity history"},mapKey:"declaration_button_close_tooltip"},heading_user_started_call_on_date:{getter:function(e,t,n){return"{0} started a {1} on {2}"},mapKey:"declaration_heading_user_started_call_on_date"},call_message_created_time_aria:{getter:function(){return"Created time:"},mapKey:"declaration_call_message_created_time_aria"},call_message_duration_aria:{getter:function(){return"Duration:"},mapKey:"declaration_call_message_duration_aria"},call_message_incoming_text:{getter:function(){return"Incoming"},mapKey:"declaration_call_message_incoming_text"},call_message_incoming_aria_label:{getter:function(){return"Incoming call"},mapKey:"declaration_call_message_incoming_aria_label"},call_message_outgoing_text:{getter:function(){return"Outgoing"},mapKey:"declaration_call_message_outgoing_text"},call_message_outgoing_aria_label:{getter:function(){return"Outgoing call"},mapKey:"declaration_call_message_outgoing_aria_label"},call_message_missed:{getter:function(){return"Missed"},mapKey:"declaration_call_message_missed"},call_message_expand_voice_transcript:{getter:function(){return"Expand voice transcript"},mapKey:"declaration_call_message_expand_voice_transcript"},call_message_collapse_voice_transcript:{getter:function(){return"Collapse voice transcript"},mapKey:"declaration_call_message_collapse_voice_transcript"},call_message_transcript_confidence_high:{getter:function(){return"Transcript confidence level: High"},mapKey:"declaration_call_message_transcript_confidence_high"},call_message_transcript_confidence_medium:{getter:function(){return"Transcript confidence level: Medium"},mapKey:"declaration_call_message_transcript_confidence_medium"},call_message_transcript_confidence_low:{getter:function(){return"Transcript confidence level: Low"},mapKey:"declaration_call_message_transcript_confidence_low"}},ADDRESS_BOOK_AREA:{addressBook_no_active_chats:{getter:function(){return"No active chats"},mapKey:"Constants_addressBook_no_active_chats"},addressBook_button_blind:{getter:function(){return"Blind"},mapKey:"Constants_addressBook_button_blind"},addressBook_button_blind_tooltip:{getter:function(){return"Blind transfer"},mapKey:"Constants_addressBook_button_blind_tooltip"},addressBook_caseSearch_emptyText:{getter:function(){return"Enter search string"},mapKey:"Constants_addressBook_caseSearch_emptyText"},addressBook_button_dialPad_tooltip:{getter:function(){return"Open Dial Pad"},mapKey:"Constants_addressBook_button_dialPad_tooltip"},addressBook_button_sms_tooltip:{getter:function(){return"Send SMS to the destination number"},mapKey:"Constants_addressBook_button_sms_tooltip"},addressBook_button_call_tooltip:{getter:function(){return"Initiate call"},mapKey:"Constants_addressBook_button_call_tooltip"},addressBook_button_conferenceCall_tooltip:{getter:function(){return"Initiate conference call"},mapKey:"Constants_addressBook_button_conferenceCall_tooltip"},addressBook_button_email_tooltip:{getter:function(){return"Compose email"},mapKey:"Constants_addressBook_button_email_tooltip"},addressBook_button_email_text:{getter:function(){return"New"},mapKey:"Constants_addressBook_button_email_text"},addressBook_directory:{getter:function(){return"Directory"},mapKey:"Constants_addressBook_directory"},addressBook_dialPad:{getter:function(){return"Dial Pad"},mapKey:"Constants_addressBook_dialPad"},addressBook_favorites:{getter:function(){return"Favorites"},mapKey:"Constants_addressBook_favorites"},addressBook_close:{getter:function(){return"Close"},mapKey:"Constants_addressBook_close"},addressBook_chat:{getter:function(){return"Chat"},mapKey:"Constants_addressBook_chat"},addressBook_dial:{getter:function(){return"Dial"},mapKey:"Constants_addressBook_dial"},addressBook_recent:{getter:function(){return"Recent"},mapKey:"Constants_addressBook_recent"},call_status_ended:{getter:function(){return"ended"},mapKey:"Constants_call_status_ended"},call_status_ringing:{getter:function(){return"Ringing"},mapKey:"Constants_call_status_ringing"},destination_emptyText:{getter:function(){return"Enter number"},mapKey:"Constants_destination_emptyText"},state_selector_tooltip:{getter:function(){return"State Selector"},mapKey:"Constants_state_selector_tooltip"},directory_searchEmptyText:{getter:function(){return"Enter search term"},mapKey:"Constants_directory_searchEmptyText"},directory_narrowSearchText:{getter:function(){return"please narrow your search to get more results"},mapKey:"Constants_directory_narrowSearchText"},directory_clearSearchBoxTooltip:{getter:function(){return"Clear field"},mapKey:"Constants_directory_clearSearchBoxTooltip"},pin_tooltip:{getter:function(){return"Pin panel"},mapKey:"Constants_pin_tooltip"},unpin_tooltip:{getter:function(){return"Unpin panel"},mapKey:"Constants_unpin_tooltip"},search_tooltip:{getter:function(){return"Contact Search"},mapKey:"Constants_search_tooltip"},recentPopup:{getter:function(){return"(popup)"},mapKey:"Constants_recentPopup"},tab_directory_internal:{getter:function(){return"Internal"},mapKey:"declaration_tab_directory_internal"},tab_directory_external:{getter:function(){return"External"},mapKey:"declaration_tab_directory_external"}},ADD_FAVORITE_ENTRY_DIALOG_BOX:{addFavoriteEntry_heading:{getter:function(){return"Add Favorites Entry"},mapKey:"Constants_addFavoriteEntry_heading"},editFavoriteEntry_heading:{getter:function(){return"Edit Favorites Entry"},mapKey:"Constants_editFavoriteEntry_heading"},addFavoriteEntry_displayName_label:{getter:function(){return"Display name:"},mapKey:"Constants_addFavoriteEntry_displayName_label"},addFavoriteEntry_phone_label:{getter:function(){return"Phone:"},mapKey:"Constants_addFavoriteEntry_phone_label"},add_button:{getter:function(){return"Add"},mapKey:"declaration_add_button"}},AGENT_STATE_CONTROL:{service_selector_tooltip:{getter:function(){return"Service Selector"},mapKey:"Constants_service_selector_tooltip"},service_selector_no_selected_error_message:{getter:function(){return"No service selected or service is not suitable for this action"},mapKey:"Constants_service_selector_no_selected_error_message"},service_selector_no_sms_error_message:{getter:function(){return"Selected service is not SMS capable"},mapKey:"Constants_service_selector_no_sms_error_message"},acd_acw_short:{getter:function(){return"ACW"},mapKey:"AcdConstants_acd_acw_short"},acd_acw_long:{getter:function(){return"After Call Work"},mapKey:"AcdConstants_acd_acw_long"},acd_busy:{getter:function(){return"Busy"},mapKey:"AcdConstants_acd_busy"},acd_ready:{getter:function(){return"Ready"},mapKey:"AcdConstants_acd_ready"},acd_not_ready:{getter:function(){return"Not Ready"},mapKey:"AcdConstants_acd_not_ready"},acd_supervision:{getter:function(){return"Supervising"},mapKey:"AcdConstants_acd_supervision"},acd_ringing:{getter:function(){return"Ringing"},mapKey:"AcdConstants_acd_ringing"},acd_reserved:{getter:function(){return"Reserved"},mapKey:"AcdConstants_acd_reserved"},presence_available:{getter:function(){return"Available"},mapKey:"AcdConstants_presence_available"},presence_away:{getter:function(){return"Away"},mapKey:"AcdConstants_presence_away"},presence_dnd:{getter:function(){return"Do Not Disturb"},mapKey:"AcdConstants_presence_dnd"},presence_offline:{getter:function(){return"Offline"},mapKey:"AcdConstants_presence_offline"},acd_next_prefix:{getter:function(){return"Next"},mapKey:"AcdConstants_acd_next_prefix"},next_state:{getter:function(e){return"Next: {0}"},mapKey:"declaration_next_state"},call_in_queue:{getter:function(){return"A call in the queue is waiting"},mapKey:"declaration_call_in_queue"},acd_nr_short:{getter:function(){return"NR"},mapKey:"declaration_acd_nr_short"}},AUDIO_DEVICES_DIALOG_BOX:{audioDevices_newDeviceDetected:{getter:function(){return"Audio device is detected:"},mapKey:"Constants_audioDevices_newDeviceDetected"},audioDevices_heading:{getter:function(){return"Audio Devices"},mapKey:"Constants_audioDevices_heading"},audioDevices_mic:{getter:function(){return"Microphone"},mapKey:"Constants_audioDevices_mic"},audioDevices_speaker:{getter:function(){return"Speaker"},mapKey:"Constants_audioDevices_speaker"},audioDevices_description:{getter:function(){return"Use the computer's control panel to change default audio devices."},mapKey:"Constants_audioDevices_description"},authorized_domains_link:{getter:function(e){return"Click {0} to manage list of authorized domains"},mapKey:"Constants_authorized_domains_link"},authorized_domains_link_anchor:{getter:function(){return"here"},mapKey:"Constants_authorized_domains_link_anchor"}},AUTHORIZATION_DIALOG_LABELS:{auth_message_undefinedDefaultHardphoneExtension:{getter:function(){return"You do not have a default hardphone defined, please choose another option"},mapKey:"Constants_auth_message_undefinedDefaultHardphoneExtension"},auth_message_undefinedExtension:{getter:function(){return"Extension is undefined,  please choose another option"},mapKey:"Constants_auth_message_undefinedExtension"},auth_message_undefinedSoftphoneExtension:{getter:function(){return"Extension is undefined. Softphone would not work. Use hardphone"},mapKey:"Constants_auth_message_undefinedSoftphoneExtension"},auth_useDefaultHardPhone:{getter:function(){return"default phone"},mapKey:"Constants_auth_useDefaultHardPhone"},auth_useVirtualSoftPhone:{getter:function(){return"dial-in and keep line open"},mapKey:"Constants_auth_useVirtualSoftPhone"},auth_useHardPhone:{getter:function(e){return"phone {0}"},mapKey:"Constants_auth_useHardPhone"},auth_useSoftPhone:{getter:function(){return"softphone"},mapKey:"Constants_auth_useSoftPhone"},auth_withoutPhone:{getter:function(){return"no phone"},mapKey:"Constants_auth_withoutPhone"},password_reset_dialog_header:{getter:function(){return"Password reset"},mapKey:"Constants_password_reset_dialog_header"},password_reset_dialog_name_aria_label:{getter:function(){return"to reset password enter username or email address"},mapKey:"Constants_password_reset_dialog_name_aria_label"},password_reset_username_label:{getter:function(){return"Username or email address:"},mapKey:"Constants_password_reset_username_label"},password_reset_tenant_label:{getter:function(){return"Tenant url:"},mapKey:"Constants_password_reset_tenant_label"},password_reset_proceed_button:{getter:function(){return"Proceed"},mapKey:"Constants_password_reset_proceed_button"},password_reset_confirmation_title:{getter:function(){return"Password reset"},mapKey:"Constants_password_reset_confirmation_title"},password_reset_confirmation_message:{getter:function(){return"The instructions for resetting your password were sent to the email address registered with your account. <br/>If you did not receive them, please check your junk mail folder or contact your system administrator for further assistance."},mapKey:"Constants_password_reset_confirmation_message"},password_reset_message:{getter:function(){return'Clicking "Proceed" will send password reset instructions to your registered email address.'},mapKey:"Constants_password_reset_message"},heading:{getter:function(){return"Agent Desktop Login"},mapKey:"LoginConstants_heading"},password:{getter:function(){return"Password"},mapKey:"LoginConstants_password"},submit:{getter:function(){return"Log in"},mapKey:"LoginConstants_submit"},tenant:{getter:function(){return"Tenant"},mapKey:"LoginConstants_tenant"},user:{getter:function(){return"Username"},mapKey:"LoginConstants_user"},forgot_password:{getter:function(){return"Forgot password?"},mapKey:"LoginConstants_forgot_password"},phone_device:{getter:function(){return"Phone device"},mapKey:"LoginConstants_phone_device"},label_loading_authorizing:{getter:function(){return"Authorizing..."},mapKey:"declaration_label_loading_authorizing"},header_new_agent_desktop:{getter:function(){return"New Agent Desktop"},mapKey:"declaration_header_new_agent_desktop"},button_show_password:{getter:function(){return"Show password"},mapKey:"declaration_button_show_password"},button_hide_password:{getter:function(){return"Hide password"},mapKey:"declaration_button_hide_password"},forced_login_dialog_header:{getter:function(){return"Login"},mapKey:"declaration_forced_login_dialog_header"},force_login_button_text:{getter:function(){return"Force log in"},mapKey:"declaration_force_login_button_text"}},AUTHORIZATION_FAILED_DIALOG:{loginFailedDialog_message_loginFailed:{getter:function(){return"Login failed."},mapKey:"Constants_loginFailedDialog_message_loginFailed"},loginFailedDialog_heading:{getter:function(){return"Login failed"},mapKey:"Constants_loginFailedDialog_heading"},loginFailedDialog_message_loggedOut:{getter:function(){return"You were logged out."},mapKey:"Constants_loginFailedDialog_message_loggedOut"},loginFailedDialog_message_phoneIsUsedByAnotherAgent:{getter:function(){return"Another user is already logged in with this phone."},mapKey:"Constants_loginFailedDialog_message_phoneIsUsedByAnotherAgent"},loginFailedDialog_message_tooManyLoggedAgents:{getter:function(){return"Unable to log you in, exceeding the licensed limit of concurrent agents. Please contact your administrator."},mapKey:"Constants_loginFailedDialog_message_tooManyLoggedAgents"},loginFailedDialog_message_disabledAccount:{getter:function(){return"Your account has been disabled by Service Provider."},mapKey:"Constants_loginFailedDialog_message_disabledAccount"},loginFailedDialog_message_lockedAccount:{getter:function(){return"You have exceeded the maximum login attempts. Please try again later. Alternatively, contact your system administrator."},mapKey:"Constants_loginFailedDialog_message_lockedAccount"},loginFailedDialog_message_invalidAgentCredentials:{getter:function(){return"Invalid username or password."},mapKey:"Constants_loginFailedDialog_message_invalidAgentCredentials"},loginFailedDialog_message_alreadyLoggedIn:{getter:function(){return"The user is already logged in. Force log in?"},mapKey:"Constants_loginFailedDialog_message_alreadyLoggedIn"},loginFailedDialog_message_anotherLoggedIn:{getter:function(){return"You are already logged in as a different user. Force log in?"},mapKey:"Constants_loginFailedDialog_message_anotherLoggedIn"},loginFailedDialog_message_accessDenied:{getter:function(){return"Access denied"},mapKey:"Constants_loginFailedDialog_message_accessDenied"},loginFailedDialog_message_invalidExtension:{getter:function(){return"Invalid extension"},mapKey:"Constants_loginFailedDialog_message_invalidExtension"}},CALENDAR:{calendar_button_tooltip:{getter:function(){return"Show Agent's Calendar"},mapKey:"Constants_calendar_button_tooltip"},calendar_monitoring_record_text:{getter:function(e){return"{0} - personal calendar"},mapKey:"Constants_calendar_monitoring_record_text"},calendar_heading:{getter:function(){return"Calendar"},mapKey:"Constants_calendar_heading"},calendar_local_timezone:{getter:function(){return"local"},mapKey:"Constants_calendar_local_timezone"},calendar_dialog_fieldIsRequired:{getter:function(){return"Field is required"},mapKey:"Constants_calendar_dialog_fieldIsRequired"},calendar_dialog_invalidValue:{getter:function(){return"Invalid value"},mapKey:"Constants_calendar_dialog_invalidValue"},assign_multiple_calendar_events_header:{getter:function(){return"Reassign Calendar Events"},mapKey:"CalendarConstants_assign_multiple_calendar_events_header"},assign_calendar_event_header:{getter:function(){return"Assign Calendar Event"},mapKey:"CalendarConstants_assign_calendar_event_header"},assign_calendar_event_range_start_label:{getter:function(){return"Entries between:"},mapKey:"CalendarConstants_assign_calendar_event_range_start_label"},assign_calendar_event_range_end_label:{getter:function(){return"and:"},mapKey:"CalendarConstants_assign_calendar_event_range_end_label"},calendar_error_message_unableToSaveEvent:{getter:function(){return"Unable to save calendar event"},mapKey:"CalendarConstants_calendar_error_message_unableToSaveEvent"},calendar_error_message_invalid_start_date:{getter:function(){return"Unable to save calendar event. Invalid start date"},mapKey:"CalendarConstants_calendar_error_message_invalid_start_date"},assign_event_to_user_without_privilege:{getter:function(){return'Unable to assign calendar event to user without "Use Calendar" privilege.'},mapKey:"CalendarConstants_assign_event_to_user_without_privilege"},today:{getter:function(){return"today"},mapKey:"declaration_today"},month:{getter:function(){return"month"},mapKey:"declaration_month"},week:{getter:function(){return"week"},mapKey:"declaration_week"},day:{getter:function(){return"day"},mapKey:"declaration_day"},all_day:{getter:function(){return"all-day"},mapKey:"declaration_all_day"},more:{getter:function(e){return"+{0} more"},mapKey:"declaration_more"}},CALENDAR_EVENT_FORM:{button_save_text:{getter:function(){return"Save"},mapKey:"CalendarConstants_button_save_text"},button_save_tooltip:{getter:function(){return"Save"},mapKey:"CalendarConstants_button_save_tooltip"},button_cancel_text:{getter:function(){return"Cancel"},mapKey:"CalendarConstants_button_cancel_text"},button_cancel_tooltip:{getter:function(){return"Cancel"},mapKey:"CalendarConstants_button_cancel_tooltip"},button_open_text:{getter:function(){return"Open"},mapKey:"CalendarConstants_button_open_text"},button_open_tooltip:{getter:function(){return"Open"},mapKey:"CalendarConstants_button_open_tooltip"},button_delete_text:{getter:function(){return"Delete"},mapKey:"CalendarConstants_button_delete_text"},button_delete_tooltip:{getter:function(){return"Delete"},mapKey:"CalendarConstants_button_delete_tooltip"},event_delete_confirmation:{getter:function(e){return'Are you sure you want to delete event "{0}"?'},mapKey:"CalendarConstants_event_delete_confirmation"},button_edit_text:{getter:function(){return"Edit"},mapKey:"CalendarConstants_button_edit_text"},button_edit_tooltip:{getter:function(){return"Edit"},mapKey:"CalendarConstants_button_edit_tooltip"},button_reassignByRange_text:{getter:function(){return"Reassign by range..."},mapKey:"CalendarConstants_button_reassignByRange_text"},button_reassignByRange_tooltip:{getter:function(){return"Reassign events from a range of dates"},mapKey:"CalendarConstants_button_reassignByRange_tooltip"},button_reassign_text:{getter:function(){return"Assign..."},mapKey:"CalendarConstants_button_reassign_text"},button_reassign_tooltip:{getter:function(){return"Reassign selected event"},mapKey:"CalendarConstants_button_reassign_tooltip"},label_when:{getter:function(){return"When:"},mapKey:"CalendarConstants_label_when"},label_timezone:{getter:function(){return"Timezone:"},mapKey:"CalendarConstants_label_timezone"},label_note:{getter:function(){return"Summary:"},mapKey:"CalendarConstants_label_note"},label_reminder:{getter:function(){return"Reminder:"},mapKey:"CalendarConstants_label_reminder"},label_date:{getter:function(){return"Date:"},mapKey:"CalendarConstants_label_date"},label_time:{getter:function(){return"Time:"},mapKey:"CalendarConstants_label_time"},label_details:{getter:function(){return"Details:"},mapKey:"CalendarConstants_label_details"},details_value_none:{getter:function(){return"none"},mapKey:"CalendarConstants_details_value_none"},details_value_one:{getter:function(){return"1 tab"},mapKey:"CalendarConstants_details_value_one"},details_value_many:{getter:function(e){return"{0} tabs"},mapKey:"CalendarConstants_details_value_many"},checkbox_completed_label:{getter:function(){return"completed"},mapKey:"CalendarConstants_checkbox_completed_label"},reminder_unit_minutes:{getter:function(e){return"Remind {0} minutes before"},mapKey:"CalendarConstants_reminder_unit_minutes"},reminder_unit_hours:{getter:function(e){return"Remind {0} hours before"},mapKey:"CalendarConstants_reminder_unit_hours"},reminder_unit_days:{getter:function(e){return"Remind {0} days before"},mapKey:"CalendarConstants_reminder_unit_days"},contact_on_label:{getter:function(){return"Contact on"},mapKey:"CalendarConstants_contact_on_label"},contact_create_box_label:{getter:function(){return"create contact"},mapKey:"CalendarConstants_contact_create_box_label"},contact_add_phone_box_label:{getter:function(){return"add to contact"},mapKey:"CalendarConstants_contact_add_phone_box_label"},contact_name_placeholder:{getter:function(){return"Name"},mapKey:"CalendarConstants_contact_name_placeholder"},assign_contact_button_tooltip:{getter:function(){return"Assign contact"},mapKey:"CalendarConstants_assign_contact_button_tooltip"},contact_enter_manually_label:{getter:function(){return"Enter manually (or directory)"},mapKey:"CalendarConstants_contact_enter_manually_label"},contact_other_label:{getter:function(){return"Other"},mapKey:"CalendarConstants_contact_other_label"},contact_search_label:{getter:function(){return"Search Contacts"},mapKey:"CalendarConstants_contact_search_label"},contact_search_dialog_heading:{getter:function(){return"Lookup"},mapKey:"CalendarConstants_contact_search_dialog_heading"},date_from_label:{getter:function(){return"Date from"},mapKey:"declaration_date_from_label"},date_to_label:{getter:function(){return"Date to"},mapKey:"declaration_date_to_label"},time_from_label:{getter:function(){return"Time from"},mapKey:"declaration_time_from_label"},time_to_label:{getter:function(){return"Time to"},mapKey:"declaration_time_to_label"},show_date_suggestions_label:{getter:function(){return"Show date suggestions"},mapKey:"declaration_show_date_suggestions_label"},show_suggested_phone_numbers:{getter:function(){return"Show date suggestions"},mapKey:"declaration_show_suggested_phone_numbers"},phone_number_label:{getter:function(){return"Phone number"},mapKey:"declaration_phone_number_label"},show_timezones_label:{getter:function(){return"Show suggested timezones"},mapKey:"declaration_show_timezones_label"},event_title:{getter:function(){return"Event title"},mapKey:"declaration_event_title"}},CALL_DETAILS_FORM:{call_message_noScreenpopFound:{getter:function(){return"No screenpop found"},mapKey:"Constants_call_message_noScreenpopFound"},call_status_dialing:{getter:function(){return"Dialing"},mapKey:"Constants_call_status_dialing"},callDetails_subHeader_conference:{getter:function(){return"Conference"},mapKey:"Constants_callDetails_subHeader_conference"},calldetails_status_connected:{getter:function(){return"connected"},mapKey:"Constants_calldetails_status_connected"},calldetails_status_defaultAt:{getter:function(e){return"at {0}"},mapKey:"Constants_calldetails_status_defaultAt"},forumdetails_status_defaultAt:{getter:function(e){return"from {0}"},mapKey:"Constants_forumdetails_status_defaultAt"},calldetails_status_dialing:{getter:function(){return"dialing"},mapKey:"Constants_calldetails_status_dialing"},calldetails_status_disconnected:{getter:function(){return"disconnected"},mapKey:"Constants_calldetails_status_disconnected"},calldetails_status_monitoring:{getter:function(e){return"Monitoring ({0})"},mapKey:"Constants_calldetails_status_monitoring"},calldetails_status_coaching:{getter:function(e){return"Coaching ({0})"},mapKey:"Constants_calldetails_status_coaching"},calldetails_status_participating:{getter:function(e){return"Participating ({0})"},mapKey:"Constants_calldetails_status_participating"},calldetails_status_ringingAt:{getter:function(e){return"ringing at ({0})"},mapKey:"Constants_calldetails_status_ringingAt"},calldetails_status_connectedInbound:{getter:function(){return"connected inbound"},mapKey:"Constants_calldetails_status_connectedInbound"},calldetails_status_connectedOutbound:{getter:function(){return"connected outbound"},mapKey:"Constants_calldetails_status_connectedOutbound"},calldetails_status_connectedOutboundAt:{getter:function(e){return"connected outbound at ({0})"},mapKey:"Constants_calldetails_status_connectedOutboundAt"},calldetails_status_connectedInboundAt:{getter:function(e){return"connected inbound at ({0})"},mapKey:"Constants_calldetails_status_connectedInboundAt"},calldetails_status_heldAt:{getter:function(e){return"held at ({0})"},mapKey:"Constants_calldetails_status_heldAt"},calldetails_status_held:{getter:function(){return"held"},mapKey:"Constants_calldetails_status_held"},calldetails_status_ringing:{getter:function(){return"ringing"},mapKey:"Constants_calldetails_status_ringing"},interaction_accept:{getter:function(){return"Accept"},mapKey:"Constants_interaction_accept"},interaction_reject:{getter:function(){return"Reject"},mapKey:"Constants_interaction_reject"},interaction_sendScreen_tooltip:{getter:function(){return"Send Screen"},mapKey:"Constants_interaction_sendScreen_tooltip"},interaction_bargeIn:{getter:function(){return"Barge-in"},mapKey:"Constants_interaction_bargeIn"},interaction_call:{getter:function(){return"Call"},mapKey:"Constants_interaction_call"},interaction_sendMessage:{getter:function(){return"Send message"},mapKey:"Constants_interaction_sendMessage"},interaction_coach:{getter:function(){return"Coach"},mapKey:"Constants_interaction_coach"},extended_monitoring_boxLabel:{getter:function(){return"keep monitoring this agent"},mapKey:"Constants_extended_monitoring_boxLabel"},interaction_complete:{getter:function(){return"Complete Transfer"},mapKey:"Constants_interaction_complete"},interaction_initiate_transfer:{getter:function(){return"Initiate transfer or conference"},mapKey:"Constants_interaction_initiate_transfer"},interaction_completeACW:{getter:function(){return"Complete"},mapKey:"Constants_interaction_completeACW"},interaction_endConference:{getter:function(){return"End Conference"},mapKey:"Constants_interaction_endConference"},interaction_grade:{getter:function(){return"Grade"},mapKey:"Constants_interaction_grade"},interaction_endCall:{getter:function(){return"End Call"},mapKey:"Constants_interaction_endCall"},interaction_leaveConference:{getter:function(){return"Leave"},mapKey:"Constants_interaction_leaveConference"},interaction_remoteAssist:{getter:function(){return"Start remote assistance"},mapKey:"Constants_interaction_remoteAssist"},interaction_endChat:{getter:function(){return"End Chat"},mapKey:"Constants_interaction_endChat"},interaction_endWorkItem:{getter:function(){return"Skip"},mapKey:"Constants_interaction_endWorkItem"},interaction_autoDial:{getter:function(e,t){return"Auto-dial {0} in {1}"},mapKey:"Constants_interaction_autoDial"},interaction_endForum:{getter:function(){return"End Forum"},mapKey:"Constants_interaction_endForum"},interaction_recordStart_tooltip:{getter:function(){return"Start recording"},mapKey:"Constants_interaction_recordStart_tooltip"},interaction_recordStop_tooltip:{getter:function(){return"Stop recording"},mapKey:"Constants_interaction_recordStop_tooltip"},mute_tooltip:{getter:function(){return"Mute the microphone"},mapKey:"Constants_mute_tooltip"},flag_tooltip:{getter:function(){return"Flag the call"},mapKey:"Constants_flag_tooltip"},unflag_tooltip:{getter:function(){return"Unflag the call"},mapKey:"Constants_unflag_tooltip"},voip_stop_tooltip:{getter:function(){return"Hang up VoIP call"},mapKey:"Constants_voip_stop_tooltip"},voip_start_tooltip:{getter:function(){return"Start VoIP call"},mapKey:"Constants_voip_start_tooltip"},voip_video_on_tooltip:{getter:function(){return"Turn off video stream"},mapKey:"Constants_voip_video_on_tooltip"},voip_video_off_tooltip:{getter:function(){return"Turn on video stream"},mapKey:"Constants_voip_video_off_tooltip"},report_a_call_problem:{getter:function(){return"report a call problem"},mapKey:"Constants_report_a_call_problem"},rcp_heading:{getter:function(){return"Report a problem with the call"},mapKey:"Constants_rcp_heading"},rcp_option_poor_voice:{getter:function(){return"Poor voice quality (echo, noise, distorted sound)"},mapKey:"Constants_rcp_option_poor_voice"},rcp_option_silent:{getter:function(){return"Call went silent unexpectedly"},mapKey:"Constants_rcp_option_silent"},rcp_option_dropped:{getter:function(){return"Call dropped unexpectedly"},mapKey:"Constants_rcp_option_dropped"},rcp_option_other:{getter:function(){return"Other"},mapKey:"Constants_rcp_option_other"},unmute_tooltip:{getter:function(){return"Unmute the microphone"},mapKey:"Constants_unmute_tooltip"},interaction_addFavorite_tooltip:{getter:function(){return"Add to Favorites"},mapKey:"Constants_interaction_addFavorite_tooltip"},interaction_removeFavorite_tooltip:{getter:function(){return"Remove from Favorites"},mapKey:"Constants_interaction_removeFavorite_tooltip"},interaction_hold:{getter:function(){return"Hold"},mapKey:"Constants_interaction_hold"},interaction_merge:{getter:function(){return"Merge"},mapKey:"Constants_interaction_merge"},interaction_monitor:{getter:function(){return"Monitor"},mapKey:"Constants_interaction_monitor"},interaction_pullScreen_tooltip:{getter:function(){return"Pull Agent's Screen"},mapKey:"Constants_interaction_pullScreen_tooltip"},interaction_seeScreen_tooltip:{getter:function(){return"See Agent's Screen"},mapKey:"Constants_interaction_seeScreen_tooltip"},interaction_seeScreen_helper_required_message:{getter:function(){return"Agent Desktop Helper application is required in order to use screen monitoring."},mapKey:"Constants_interaction_seeScreen_helper_required_message"},interaction_retrieve:{getter:function(){return"Retrieve"},mapKey:"Constants_interaction_retrieve"},interaction_failed:{getter:function(){return"Failed"},mapKey:"declaration_interaction_failed"},button_schedule_followup_label:{getter:function(){return"Schedule Follow-up"},mapKey:"declaration_button_schedule_followup_label"},button_add_case_label:{getter:function(){return"Add Case"},mapKey:"declaration_button_add_case_label"},button_remote_access_tooltip:{getter:function(){return"Remote access"},mapKey:"declaration_button_remote_access_tooltip"},button_call_problem_report_label:{getter:function(){return"Report"},mapKey:"declaration_button_call_problem_report_label"},button_initiate_call_tooltip:{getter:function(){return"Initiate call"},mapKey:"declaration_button_initiate_call_tooltip"}},CALL_GRADING_DIALOG_BOX:{grading_heading:{getter:function(e){return"Grading {0}"},mapKey:"Constants_grading_heading"},grading_none:{getter:function(){return"<None>"},mapKey:"Constants_grading_none"},grading_notes:{getter:function(){return"Notes"},mapKey:"Constants_grading_notes"}},CAMPAIGN_MONITOR:{campaignMonitor_heading:{getter:function(){return"Campaigns"},mapKey:"Constants_campaignMonitor_heading"},campaignMonitor_lists_heading:{getter:function(){return"Lists"},mapKey:"Constants_campaignMonitor_lists_heading"},campaignMonitor_teams_heading:{getter:function(){return"Teams"},mapKey:"Constants_campaignMonitor_teams_heading"},campaign_button_quota:{getter:function(){return"Quota"},mapKey:"Constants_campaign_button_quota"},campaignMonitor_addDispositionCountMenuItem:{getter:function(){return"Add disposition count..."},mapKey:"Constants_campaignMonitor_addDispositionCountMenuItem"},campaignMonitor_addDispositionPctMenuItem:{getter:function(){return"Add disposition %..."},mapKey:"Constants_campaignMonitor_addDispositionPctMenuItem"},campaignMonitor_stoppedCampaign:{getter:function(){return"stopped (ready to run)"},mapKey:"Constants_campaignMonitor_stoppedCampaign"},campaignMonitor_pausedCampaign:{getter:function(){return"paused (ready to run)"},mapKey:"Constants_campaignMonitor_pausedCampaign"},campaignMonitor_selectTeam:{getter:function(){return"<Select Team>"},mapKey:"Constants_campaignMonitor_selectTeam"},campaignMonitor_selectList:{getter:function(){return"<Select List>"},mapKey:"Constants_campaignMonitor_selectList"},campaignMonitor_selectCampaign:{getter:function(){return"<Select Campaign>"},mapKey:"Constants_campaignMonitor_selectCampaign"},campaign_button_startCampaign:{getter:function(){return"Start"},mapKey:"Constants_campaign_button_startCampaign"},campaign_button_stopCampaign:{getter:function(){return"Stop"},mapKey:"Constants_campaign_button_stopCampaign"},campaigns_column_name:{getter:function(){return"Name"},mapKey:"Constants_campaigns_column_name"},campaigns_column_running:{getter:function(){return"Running"},mapKey:"Constants_campaigns_column_running"},campaignList_column_name:{getter:function(){return"Name"},mapKey:"Constants_campaignList_column_name"},campaignList_column_enabled:{getter:function(){return"Enabled"},mapKey:"Constants_campaignList_column_enabled"},campaignTeam_column_name:{getter:function(){return"Name"},mapKey:"Constants_campaignTeam_column_name"},campaignTeam_column_enabled:{getter:function(){return"Enabled"},mapKey:"Constants_campaignTeam_column_enabled"},campaignTeam_button_disable:{getter:function(){return"Disable"},mapKey:"Constants_campaignTeam_button_disable"},campaignTeam_button_disable_tooltip:{getter:function(){return"Disable"},mapKey:"Constants_campaignTeam_button_disable_tooltip"},campaignTeam_button_enable:{getter:function(){return"Enable"},mapKey:"Constants_campaignTeam_button_enable"},campaignTeam_button_enable_tooltip:{getter:function(){return"Enable"},mapKey:"Constants_campaignTeam_button_enable_tooltip"},campaignTeam_button_add_tooltip:{getter:function(){return"Add team..."},mapKey:"Constants_campaignTeam_button_add_tooltip"},campaignTeam_button_remove_tooltip:{getter:function(){return"Remove team"},mapKey:"Constants_campaignTeam_button_remove_tooltip"},campaignList_button_disable:{getter:function(){return"Disable"},mapKey:"Constants_campaignList_button_disable"},campaignList_button_disable_tooltip:{getter:function(){return"Disable"},mapKey:"Constants_campaignList_button_disable_tooltip"},campaignList_button_enable:{getter:function(){return"Enable"},mapKey:"Constants_campaignList_button_enable"},campaignList_button_enable_tooltip:{getter:function(){return"Enable"},mapKey:"Constants_campaignList_button_enable_tooltip"},teamSelection_heading:{getter:function(){return"Select team(s)"},mapKey:"Constants_teamSelection_heading"},campaignMonitor_list_progress_axis_auto:{getter:function(){return"auto"},mapKey:"Constants_campaignMonitor_list_progress_axis_auto"},campaignMonitor_list_progress_axis_remaining:{getter:function(){return"remaining"},mapKey:"Constants_campaignMonitor_list_progress_axis_remaining"},campaignMonitor_list_progress_axis_scheduled:{getter:function(){return"scheduled"},mapKey:"Constants_campaignMonitor_list_progress_axis_scheduled"},campaignMonitor_list_progress_axis_completed:{getter:function(){return"completed"},mapKey:"Constants_campaignMonitor_list_progress_axis_completed"},ringtone_disable_tooltip:{getter:function(){return"Disable"},mapKey:"Constants_ringtone_disable_tooltip"},ringtone_enable_tooltip:{getter:function(){return"Enable"},mapKey:"Constants_ringtone_enable_tooltip"}},CAMPAIGN_MONITOR_REMOVE_TEAM_DIALOG_BOX:{campaignMonitorRemoveTeamDialog_confirmMsg:{getter:function(e,t){return"Are you sure you want to remove \xab{0}\xbb team from \xab{1}\xbb campaign?"},mapKey:"Constants_campaignMonitorRemoveTeamDialog_confirmMsg"},campaignMonitorRemoveTeamDialog_heading:{getter:function(){return"Warning"},mapKey:"Constants_campaignMonitorRemoveTeamDialog_heading"}},CANNED_RESPONSES:{cr_greeting_requires_initial_question:{getter:function(){return"requires initial question"},mapKey:"Constants_cr_greeting_requires_initial_question"},cr_greeting_requires_no_initial_question:{getter:function(){return"requires no initial question"},mapKey:"Constants_cr_greeting_requires_no_initial_question"},cr_for_all_agents:{getter:function(){return"for all agents"},mapKey:"Constants_cr_for_all_agents"},cr_for_my_teams:{getter:function(){return"for agents in my teams"},mapKey:"Constants_cr_for_my_teams"},cr_add:{getter:function(){return"add"},mapKey:"Constants_cr_add"},cr_delete:{getter:function(){return"Delete"},mapKey:"Constants_cr_delete"},cr_add_item_heading:{getter:function(){return"Add item"},mapKey:"Constants_cr_add_item_heading"},cr_edit_item_heading:{getter:function(){return"Edit item"},mapKey:"Constants_cr_edit_item_heading"},cr_add_folder_heading:{getter:function(){return"Add folder"},mapKey:"Constants_cr_add_folder_heading"},cr_change_folder_heading:{getter:function(){return"Add folder"},mapKey:"Constants_cr_change_folder_heading"},cr_add_folder:{getter:function(){return"add folder"},mapKey:"Constants_cr_add_folder"},cr_change_folder:{getter:function(){return"change folder"},mapKey:"Constants_cr_change_folder"},cr_no_responses:{getter:function(){return"(No canned response defined)"},mapKey:"Constants_cr_no_responses"},item_actions:{getter:function(){return"Item actions"},mapKey:"declaration_item_actions"},insert:{getter:function(){return"Insert"},mapKey:"declaration_insert"},button_add_response_text:{getter:function(){return"Add response"},mapKey:"declaration_button_add_response_text"},for_all_agents:{getter:function(){return"For all agents"},mapKey:"declaration_for_all_agents"}},CASE_SEARCH:{create_case_button_tooltip:{getter:function(){return"Add new case"},mapKey:"Constants_create_case_button_tooltip"},delete_case_button_tooltip:{getter:function(){return"Delete case"},mapKey:"Constants_delete_case_button_tooltip"},delete_case_confirmation_label:{getter:function(e){return"Are you sure you want to delete case {0}?"},mapKey:"Constants_delete_case_confirmation_label"},unlink_case_confirmation_label:{getter:function(){return"Current interaction won\u2019t be posted in the case history. Are you sure?"},mapKey:"Constants_unlink_case_confirmation_label"},new_case_notes_button_tooltip:{getter:function(){return"Add case notes"},mapKey:"Constants_new_case_notes_button_tooltip"},save_case_notes_button_tooltip:{getter:function(){return"Save case notes"},mapKey:"Constants_save_case_notes_button_tooltip"},discard_case_notes_button_tooltip:{getter:function(){return"Discard case notes"},mapKey:"Constants_discard_case_notes_button_tooltip"},caseSearch_case_column:{getter:function(){return"Case"},mapKey:"Constants_caseSearch_case_column"},caseSearch_date_column:{getter:function(){return"Created"},mapKey:"Constants_caseSearch_date_column"},caseSearch_subject_column:{getter:function(){return"Subject"},mapKey:"Constants_caseSearch_subject_column"},button_create_follow_up_case_text:{getter:function(){return"Create follow up case"},mapKey:"Constants_button_create_follow_up_case_text"},button_create_follow_up_case_title:{getter:function(){return"Create follow up case"},mapKey:"Constants_button_create_follow_up_case_title"},button_use_case_text:{getter:function(){return"Use"},mapKey:"Constants_button_use_case_text"},button_use_case_title:{getter:function(){return"Use Case"},mapKey:"Constants_button_use_case_title"},new_case_title:{getter:function(){return"New Case"},mapKey:"Constants_new_case_title"},restricted_email_error:{getter:function(){return"You do not have permissions to work with this case"},mapKey:"Constants_restricted_email_error"}},CHANGE_PASSWORD_DIALOG_BOX:{changePassword_again:{getter:function(){return"New password again:"},mapKey:"Constants_changePassword_again"},changeExpiredPassword_heading:{getter:function(){return"Change expired password"},mapKey:"Constants_changeExpiredPassword_heading"},changePassword_heading:{getter:function(){return"Change Password"},mapKey:"Constants_changePassword_heading"},changePassword_newPassword:{getter:function(){return"New password:"},mapKey:"Constants_changePassword_newPassword"},changePassword_oldPassword:{getter:function(){return"Old password:"},mapKey:"Constants_changePassword_oldPassword"},changePassword_message_fillEmptyFields:{getter:function(){return"Fill empty fields"},mapKey:"Constants_changePassword_message_fillEmptyFields"},changePassword_message_changed:{getter:function(){return"Password successfully changed"},mapKey:"Constants_changePassword_message_changed"},changePassword_message_passwordNotEqual:{getter:function(){return"New password and confirmed password are not equal!"},mapKey:"Constants_changePassword_message_passwordNotEqual"},changePassword_message_passwordInvalid:{getter:function(){return"New  and confirmed passwords should be same and should not be empty."},mapKey:"Constants_changePassword_message_passwordInvalid"},passwordBox_show:{getter:function(){return"Show"},mapKey:"Constants_passwordBox_show"},passwordBox_hide:{getter:function(){return"Hide"},mapKey:"Constants_passwordBox_hide"},changePassword_validation_digitsAndLetters:{getter:function(){return"Digits and Letters"},mapKey:"Constants_changePassword_validation_digitsAndLetters"},changePassword_validation_upperAndLower:{getter:function(){return"Upper and lower case letters"},mapKey:"Constants_changePassword_validation_upperAndLower"},changePassword_validation_specChars:{getter:function(){return"Special characters"},mapKey:"Constants_changePassword_validation_specChars"},changePassword_validation_minLength:{getter:function(e){return"At least {0} characters long"},mapKey:"Constants_changePassword_validation_minLength"},changePassword_validation_weakList:{getter:function(){return"Not based on a commonly used word (found in a weak password list)"},mapKey:"Constants_changePassword_validation_weakList"},changePassword_validation_prevUsed:{getter:function(){return"Has not been used recently"},mapKey:"Constants_changePassword_validation_prevUsed"},changePassword_validation_selfNames:{getter:function(){return"Not based on an item or a tenant name"},mapKey:"Constants_changePassword_validation_selfNames"},changePassword_validation_oldPassword:{getter:function(){return"Correct old password"},mapKey:"Constants_changePassword_validation_oldPassword"},changePassword_notStrongEnoughMessage:{getter:function(){return"The password isn't strong enough"},mapKey:"Constants_changePassword_notStrongEnoughMessage"},changePassword_strongPasswordMessage:{getter:function(){return"Password strength: strong"},mapKey:"Constants_changePassword_strongPasswordMessage"},changePassword_message_authFailure:{getter:function(){return"Auth failed"},mapKey:"Constants_changePassword_message_authFailure"},changePassword_message_error:{getter:function(){return"Change password error"},mapKey:"Constants_changePassword_message_error"},changePassword_message_success:{getter:function(){return"Success"},mapKey:"Constants_changePassword_message_success"},changePassword_message_invalidNewPassword:{getter:function(){return"Invalid new password"},mapKey:"Constants_changePassword_message_invalidNewPassword"},changePassword_message_userNotFound:{getter:function(){return"User not found"},mapKey:"Constants_changePassword_message_userNotFound"},title:{getter:function(){return"Change Password"},mapKey:"declaration_title"},title_required:{getter:function(){return"Change Password Required"},mapKey:"declaration_title_required"},correct_old_password_hint:{getter:function(){return"Correct old password"},mapKey:"declaration_correct_old_password_hint"}},CONFERENCE:{party_mobile_phone:{getter:function(e){return"mobile: {0}"},mapKey:"declaration_party_mobile_phone"},party_extension:{getter:function(e){return"ext.: {0}"},mapKey:"declaration_party_extension"}},CONTACT:{button_start_call_text:{getter:function(){return"Start a call"},mapKey:"declaration_button_start_call_text"},button_initiate_chat_text:{getter:function(){return"Initiate chat"},mapKey:"declaration_button_initiate_chat_text"},button_show_contact_details_text:{getter:function(){return"Show contact details"},mapKey:"declaration_button_show_contact_details_text"},label_add_phone:{getter:function(){return"Add phone"},mapKey:"declaration_label_add_phone"},label_add_email:{getter:function(){return"Add email"},mapKey:"declaration_label_add_email"},label_add_address:{getter:function(){return"Add address"},mapKey:"declaration_label_add_address"},augment_contact:{getter:function(){return"Augment"},mapKey:"declaration_augment_contact"},add_email_heading:{getter:function(){return"Add Email to Contact"},mapKey:"declaration_add_email_heading"},add_phone_heading:{getter:function(){return"Add Phone to Contact"},mapKey:"declaration_add_phone_heading"},add_email_description:{getter:function(e,t){return"`Add email {0} to {1} record as`"},mapKey:"declaration_add_email_description"},add_phone_description:{getter:function(e,t){return"`Add number {0} to {1} record as`"},mapKey:"declaration_add_phone_description"},add_email_confirmation_button:{getter:function(){return"Add"},mapKey:"declaration_add_email_confirmation_button"},add_phone_confirmation_button:{getter:function(){return"Add"},mapKey:"declaration_add_phone_confirmation_button"},add_phone_phone_type_placeholder:{getter:function(){return"Phone type"},mapKey:"declaration_add_phone_phone_type_placeholder"},add_email_email_type_placeholder:{getter:function(){return"Email type"},mapKey:"declaration_add_email_email_type_placeholder"},save_error:{getter:function(){return"There was an error while saving the contact"},mapKey:"declaration_save_error"},delete_error:{getter:function(){return"There was an error while deleting the contact"},mapKey:"declaration_delete_error"},open_error:{getter:function(){return"There was an error while opening the contact"},mapKey:"declaration_open_error"},unsaved_warning_message:{getter:function(){return"You have unsaved changes that will be lost, do you want to continue?"},mapKey:"declaration_unsaved_warning_message"},unidentified_contact:{getter:function(){return"Unidentified contact"},mapKey:"declaration_unidentified_contact"},go_back_button_button_tooltip:{getter:function(){return"Back"},mapKey:"declaration_go_back_button_button_tooltip"},copied_confirmation_label_text:{getter:function(){return"Copied!"},mapKey:"declaration_copied_confirmation_label_text"},add_entry_button_tooltip:{getter:function(){return"Add entry"},mapKey:"declaration_add_entry_button_tooltip"},remove_entry_button_tooltip:{getter:function(){return"Remove entry"},mapKey:"declaration_remove_entry_button_tooltip"}},CONTACT_POPUP:{contact_popup_new_contact_label:{getter:function(){return"new contact"},mapKey:"Constants_contact_popup_new_contact_label"},contact_popup_select:{getter:function(){return"Select..."},mapKey:"Constants_contact_popup_select"},contact_msteams_no_chat:{getter:function(){return"Cannot chat with this Microsoft Teams user, please initiate chat session using Microsoft Teams application"},mapKey:"Constants_contact_msteams_no_chat"},contact_popup_add_to_contact_label:{getter:function(){return"add to existing"},mapKey:"Constants_contact_popup_add_to_contact_label"},new_contact_dialog_heading:{getter:function(){return"Add New Record"},mapKey:"Constants_new_contact_dialog_heading"},new_contact_dialog_name_placeholder:{getter:function(){return"first last name"},mapKey:"Constants_new_contact_dialog_name_placeholder"},new_contact_dialog_phone_placeholder:{getter:function(){return"mobile phone"},mapKey:"Constants_new_contact_dialog_phone_placeholder"},new_contact_dialog_email_placeholder:{getter:function(){return"email"},mapKey:"Constants_new_contact_dialog_email_placeholder"},new_contact_dialog_photo_placeholder:{getter:function(){return"photo"},mapKey:"Constants_new_contact_dialog_photo_placeholder"},new_contact_dialog_edit_button_text:{getter:function(){return"Add and Edit"},mapKey:"Constants_new_contact_dialog_edit_button_text"}},CRM:{crm_case_status_label:{getter:function(e,t){return"Case {0} ({1})"},mapKey:"Constants_crm_case_status_label"},crm_history_tab:{getter:function(){return"Activities"},mapKey:"Constants_crm_history_tab"},crm_pending_tab:{getter:function(){return"Pending"},mapKey:"Constants_crm_pending_tab"},crm_case_tab:{getter:function(){return"Cases"},mapKey:"Constants_crm_case_tab"},crm_notes_tab:{getter:function(){return"Notes"},mapKey:"Constants_crm_notes_tab"},crm_details_tab:{getter:function(){return"Details"},mapKey:"Constants_crm_details_tab"},crm_history_headers_by:{getter:function(e){return"By: {0}"},mapKey:"Constants_crm_history_headers_by"},crm_history_headers_disposition:{getter:function(e){return"Disposition: {0}"},mapKey:"Constants_crm_history_headers_disposition"},crm_history_record_attachments_tooltip:{getter:function(){return"Contains an attachments"},mapKey:"Constants_crm_history_record_attachments_tooltip"},crm_history_headers_via:{getter:function(e){return"Via: {0}"},mapKey:"Constants_crm_history_headers_via"},crm_message_tab:{getter:function(){return"Message"},mapKey:"Constants_crm_message_tab"},crm_form_tab:{getter:function(){return"Form"},mapKey:"Constants_crm_form_tab"}},DEVICE_SETUP_WINDOW:{deviceSetup_defaultHardphone:{getter:function(){return"Default phone"},mapKey:"Constants_deviceSetup_defaultHardphone"},deviceSetup_virtualSoftphone:{getter:function(){return"Dial-in and keep line open"},mapKey:"Constants_deviceSetup_virtualSoftphone"},deviceSetup_hardphone:{getter:function(){return"Internal phone"},mapKey:"Constants_deviceSetup_hardphone"},deviceSetup_external:{getter:function(){return"External phone"},mapKey:"Constants_deviceSetup_external"},deviceSetup_heading:{getter:function(){return"Phone Device"},mapKey:"Constants_deviceSetup_heading"},deviceSetup_platformNotSupported:{getter:function(){return"Your platform is not supported by softphone plugin"},mapKey:"Constants_deviceSetup_platformNotSupported"},deviceSetup_softphone:{getter:function(){return"Softphone with computer headset"},mapKey:"Constants_deviceSetup_softphone"},deviceSetup_warning:{getter:function(){return"Warning! Changes will be applied after re-login"},mapKey:"Constants_deviceSetup_warning"},deviceSetup_withoutphone:{getter:function(){return"No phone"},mapKey:"Constants_deviceSetup_withoutphone"},phone_type_secure_soft:{getter:function(){return"Secure phone via soundcard/headset (Secure Agent Helper Application)"},mapKey:"Constants_phone_type_secure_soft"},phone_type_unsecure_soft:{getter:function(){return"Phone via soundcard/headset (Agent Helper Application)"},mapKey:"Constants_phone_type_unsecure_soft"},phone_type_browser:{getter:function(){return"Secure phone via browser audio (Web RTC)"},mapKey:"Constants_phone_type_browser"},phone_type_browser_sf_classic_comment:{getter:function(){return"This option is not compatible with SalesForce Classic"},mapKey:"Constants_phone_type_browser_sf_classic_comment"},phone_type_hard_custom:{getter:function(){return"Internal hardphone, number"},mapKey:"Constants_phone_type_hard_custom"},phone_type_hard_default:{getter:function(){return"Internal hardphone, my default number"},mapKey:"Constants_phone_type_hard_default"},phone_type_external_number:{getter:function(){return"External phone, PSTN number"},mapKey:"Constants_phone_type_external_number"},phone_type_microsoft_teams:{getter:function(){return"Microsoft Teams, Direct Routing number"},mapKey:"Constants_phone_type_microsoft_teams"},phone_type_nailed:{getter:function(){return"Dial-in and keep line open (nailed connection)"},mapKey:"Constants_phone_type_nailed"},phone_type_none:{getter:function(){return"Login without phone"},mapKey:"Constants_phone_type_none"},internal_phone_number_not_valid:{getter:function(){return"Internal phone number must have only digits"},mapKey:"Constants_internal_phone_number_not_valid"},external_phone_number_not_valid:{getter:function(){return'External phone number must have only digits, plus sign "+", and comma ","'},mapKey:"Constants_external_phone_number_not_valid"},msteams_phone_number_not_valid:{getter:function(){return'Microsoft Teams Direct Routing phone number must have only digits, plus sign "+", and comma ","'},mapKey:"Constants_msteams_phone_number_not_valid"},phone_type_microsoft_teams_not_valid:{getter:function(){return'Microsoft Teams Direct Routing phone number must have only digits, plus sign "+", and comma ","'},mapKey:"declaration_phone_type_microsoft_teams_not_valid"}},DIAL_PAD:{letter2:{getter:function(){return"ABC"},mapKey:"DialPadConstants_letter2"},letter3:{getter:function(){return"DEF"},mapKey:"DialPadConstants_letter3"},letter4:{getter:function(){return"GHI"},mapKey:"DialPadConstants_letter4"},letter5:{getter:function(){return"JKL"},mapKey:"DialPadConstants_letter5"},letter6:{getter:function(){return"MNO"},mapKey:"DialPadConstants_letter6"},letter7:{getter:function(){return"PQRS"},mapKey:"DialPadConstants_letter7"},letter8:{getter:function(){return"TUV"},mapKey:"DialPadConstants_letter8"},letter9:{getter:function(){return"WXYZ"},mapKey:"DialPadConstants_letter9"},error_empty_number:{getter:function(){return"Please, enter the number"},mapKey:"declaration_error_empty_number"},show_controls_label:{getter:function(){return"Show controls"},mapKey:"declaration_show_controls_label"},delete_last_digit_tooltip:{getter:function(){return"Delete last digit"},mapKey:"declaration_delete_last_digit_tooltip"},invalid_number_error_text:{getter:function(){return"Enter extension or number valid for the selected country"},mapKey:"declaration_invalid_number_error_text"}},DID:{voice_number:{getter:function(e){return"Voice number {0}"},mapKey:"declaration_voice_number"},sms_number:{getter:function(e){return"SMS number {0}"},mapKey:"declaration_sms_number"},voice_and_sms_number:{getter:function(e){return"Voice and SMS number {0}"},mapKey:"declaration_voice_and_sms_number"}},DIRECTORY:{waiting:{getter:function(e){return"Waiting: {0}"},mapKey:"declaration_waiting"},max_wait:{getter:function(e){return"Max Wait: {0}"},mapKey:"declaration_max_wait"},ewt:{getter:function(e){return"Estimated wait time: {0}"},mapKey:"declaration_ewt"},svc_level:{getter:function(e){return"Svc Level: {0}%"},mapKey:"declaration_svc_level"},ready:{getter:function(e){return"Ready: {0}"},mapKey:"declaration_ready"},logged_in:{getter:function(e){return"Logged In: {0}"},mapKey:"declaration_logged_in"},too_many_results_found:{getter:function(){return"Too many results found, please refine your search."},mapKey:"declaration_too_many_results_found"},external_contacts:{getter:function(){return"External Contacts"},mapKey:"declaration_external_contacts"},search_placeholder:{getter:function(){return"Search in directory"},mapKey:"declaration_search_placeholder"},no_results_internal:{getter:function(){return"No internal contacts found"},mapKey:"declaration_no_results_internal"},no_results_external:{getter:function(){return"No external contacts found"},mapKey:"declaration_no_results_external"},no_results_internal_for_query:{getter:function(e){return'No internal contacts found for "{0}"'},mapKey:"declaration_no_results_internal_for_query"},no_results_external_for_query:{getter:function(e){return'No external contacts found for "{0}"'},mapKey:"declaration_no_results_external_for_query"}},DISPOSITION:{disposition_notesEmptyText:{getter:function(){return"<notes>"},mapKey:"Constants_disposition_notesEmptyText"},disposition_notes_tooltip:{getter:function(){return"Notes"},mapKey:"Constants_disposition_notes_tooltip"},disposition_noSelect:{getter:function(){return"<no disposition>"},mapKey:"Constants_disposition_noSelect"},disposition_selectDisposition:{getter:function(){return"<select disposition>"},mapKey:"Constants_disposition_selectDisposition"},disposition_selector_tooltip:{getter:function(){return"Disposition Selector"},mapKey:"Constants_disposition_selector_tooltip"},dispositionValidation_disposition:{getter:function(){return"Disposition"},mapKey:"Constants_dispositionValidation_disposition"},formValidation_formFields:{getter:function(){return"Form fields"},mapKey:"Constants_formValidation_formFields"},disposition_not_selected:{getter:function(){return"Not Selected"},mapKey:"declaration_disposition_not_selected"},notes_length_error_text:{getter:function(e){return"Notes must be less than {0} characters"},mapKey:"declaration_notes_length_error_text"},required_disposition_error_text:{getter:function(){return"Disposition is required"},mapKey:"declaration_required_disposition_error_text"},reschedule_date_in_past_error_text:{getter:function(){return"Reschedule date should not be in the past"},mapKey:"declaration_reschedule_date_in_past_error_text"},disposition_search_input_hint:{getter:function(){return"Search disposition"},mapKey:"declaration_disposition_search_input_hint"},resolution_crm_objects_label:{getter:function(){return"Link to CRM objects"},mapKey:"declaration_resolution_crm_objects_label"}},EMAIL:{button_maskSelectedText_text:{getter:function(){return"Mask"},mapKey:"Constants_button_maskSelectedText_text"},msg_masked_content:{getter:function(){return"Masked Content"},mapKey:"Constants_msg_masked_content"},button_trash_text:{getter:function(){return"Trash"},mapKey:"Constants_button_trash_text"},button_trash_tooltip:{getter:function(){return"Trash"},mapKey:"Constants_button_trash_tooltip"},trash_confirm_message_single:{getter:function(e){return'Are you sure you want to delete "{0}"?'},mapKey:"Constants_trash_confirm_message_single"},trash_confirm_message_multiple:{getter:function(e){return"Are you sure you want to delete {0} selected items?"},mapKey:"Constants_trash_confirm_message_multiple"},button_spam_text:{getter:function(){return"Spam"},mapKey:"Constants_button_spam_text"},button_spam_tooltip:{getter:function(){return"Spam"},mapKey:"Constants_button_spam_tooltip"},spam_confirm_message_single:{getter:function(e){return'Are you sure you want to mark as spam "{0}"?'},mapKey:"Constants_spam_confirm_message_single"},spam_confirm_message_multiple:{getter:function(e){return"Are you sure you want to mark as spam {0} selected items?"},mapKey:"Constants_spam_confirm_message_multiple"},email_target_answer_time_tooltip:{getter:function(e){return"Target time: {0}"},mapKey:"Constants_email_target_answer_time_tooltip"},button_unMaskSelectedText_text:{getter:function(){return"Unmask"},mapKey:"Constants_button_unMaskSelectedText_text"},emailQueue:{getter:function(e,t){return"Email (me: {0} | team: {1})"},mapKey:"Constants_emailQueue"},emailQueuePersonal:{getter:function(e){return"Email (me: {0})"},mapKey:"Constants_emailQueuePersonal"},emailManagePersonalQueue:{getter:function(e){return"Email [{0} - personal queue]"},mapKey:"Constants_emailManagePersonalQueue"},emailPersonalQueue_header:{getter:function(){return"Personal Queue"},mapKey:"Constants_emailPersonalQueue_header"},queuePostfix:{getter:function(e){return"{0} - queue"},mapKey:"Constants_queuePostfix"},followUpPostfix:{getter:function(e){return"{0} - Pinned Cases"},mapKey:"Constants_followUpPostfix"},emailFollowUpQueue_header:{getter:function(){return"Pinned Cases"},mapKey:"Constants_emailFollowUpQueue_header"},emailSearchQueue_header:{getter:function(){return"Search"},mapKey:"Constants_emailSearchQueue_header"},emailPersonalQueue_short_header:{getter:function(){return"Personal Q"},mapKey:"Constants_emailPersonalQueue_short_header"},emailPQM_button_tooltip:{getter:function(){return"Show Agent's Personal Queue"},mapKey:"Constants_emailPQM_button_tooltip"},pageItemsSelected:{getter:function(e){return"All <b>{0}</b> items on this page are selected.&nbsp;"},mapKey:"Constants_pageItemsSelected"},selectAllQueueItems:{getter:function(e){return"Select all <b>{0}</b> items of the Queue"},mapKey:"Constants_selectAllQueueItems"},allQueueItemsSelected:{getter:function(e){return"All <b>{0}</b> items of the Queue are selected.&nbsp;"},mapKey:"Constants_allQueueItemsSelected"},itemsWithoutServiceStillInPersonalQueue:{getter:function(e){return"{0} items don't have associated Service and cannot be moved to Team Queue."},mapKey:"Constants_itemsWithoutServiceStillInPersonalQueue"},clearSelection:{getter:function(){return"Clear Selection"},mapKey:"Constants_clearSelection"},close_email_interaction_tooltip:{getter:function(){return"Close without sending reply"},mapKey:"Constants_close_email_interaction_tooltip"},complete_email_interaction_tooltip:{getter:function(){return"Complete current email interaction"},mapKey:"Constants_complete_email_interaction_tooltip"},emailTeamQueue_header:{getter:function(){return"Team Queue"},mapKey:"Constants_emailTeamQueue_header"},emailTeamQueue_short_header:{getter:function(){return"Team Q"},mapKey:"Constants_emailTeamQueue_short_header"},email_draft_tab:{getter:function(){return"Draft"},mapKey:"Constants_email_draft_tab"},email_view_button:{getter:function(){return"View"},mapKey:"Constants_email_view_button"},email_open_button:{getter:function(){return"Open"},mapKey:"Constants_email_open_button"},email_no_subject:{getter:function(){return"(no subject)"},mapKey:"Constants_email_no_subject"},email_send_button_tooltip:{getter:function(){return"Send email"},mapKey:"Constants_email_send_button_tooltip"},email_saveDraft_button_tooltip:{getter:function(){return"Save draft and complete interaction"},mapKey:"Constants_email_saveDraft_button_tooltip"},email_close_case_without_reply:{getter:function(){return"You have unsent drafts that will be lost upon case completion."},mapKey:"Constants_email_close_case_without_reply"},email_deleteDraft_button_tooltip:{getter:function(){return"Delete draft"},mapKey:"Constants_email_deleteDraft_button_tooltip"},email_sendEmptyEmail_confirmMsg:{getter:function(){return"Send this message without subject or text in the body?"},mapKey:"Constants_email_sendEmptyEmail_confirmMsg"},email_sendEmailError_noRecipient:{getter:function(){return"Please specify at least one recipient."},mapKey:"Constants_email_sendEmailError_noRecipient"},email_invalid_addresses:{getter:function(){return"The Recipients field contains invalid emails"},mapKey:"Constants_email_invalid_addresses"},email_new_email_draft:{getter:function(){return"Email draft"},mapKey:"Constants_email_new_email_draft"},email_addAttachment_button_tooltip:{getter:function(){return"Add an attachment"},mapKey:"Constants_email_addAttachment_button_tooltip"},email_reply_showTrimmedContext_tooltip:{getter:function(){return"Show trimmed content"},mapKey:"Constants_email_reply_showTrimmedContext_tooltip"},email_reply_prefix:{getter:function(){return"Re: "},mapKey:"Constants_email_reply_prefix"},email_recipients:{getter:function(){return"Recipients"},mapKey:"Constants_email_recipients"},email_address_from_prefix:{getter:function(){return"From"},mapKey:"Constants_email_address_from_prefix"},email_address_to_prefix:{getter:function(){return"To"},mapKey:"Constants_email_address_to_prefix"},email_address_cc_prefix:{getter:function(){return"Cc"},mapKey:"Constants_email_address_cc_prefix"},email_address_bcc_prefix:{getter:function(){return"Bcc"},mapKey:"Constants_email_address_bcc_prefix"},email_date_prefix:{getter:function(){return"Date"},mapKey:"Constants_email_date_prefix"},email_subject:{getter:function(){return"Subject"},mapKey:"Constants_email_subject"},email_forward_subject_prefix:{getter:function(){return"Fwd: "},mapKey:"Constants_email_forward_subject_prefix"},email_assign_button:{getter:function(){return"Assign..."},mapKey:"Constants_email_assign_button"},email_assign_button_tooltip:{getter:function(){return"Assign email to agent"},mapKey:"Constants_email_assign_button_tooltip"},email_assign_keep_current_language_skill_label:{getter:function(){return"Keep current language skill"},mapKey:"Constants_email_assign_keep_current_language_skill_label"},email_move_to_team_queue_button_text:{getter:function(){return"Move to TQ"},mapKey:"Constants_email_move_to_team_queue_button_text"},email_move_to_team_queue_button_tooltip:{getter:function(){return"Move to Team Queue"},mapKey:"Constants_email_move_to_team_queue_button_tooltip"},email_transfer_button:{getter:function(){return"Transfer..."},mapKey:"Constants_email_transfer_button"},email_transfer_failed_message:{getter:function(){return"Email transfer failed. The email remains in your personal queue."},mapKey:"Constants_email_transfer_failed_message"},queue_item_close_failed:{getter:function(e){return"Some messages ({0}) could not be processed because they were acted upon by another user or users."},mapKey:"Constants_queue_item_close_failed"},email_transfer_button_tooltip:{getter:function(){return"Transfer"},mapKey:"Constants_email_transfer_button_tooltip"},email_searchInKb_button_tooltip:{getter:function(){return"Search the Knowledge Base to match selected text fragment"},mapKey:"Constants_email_searchInKb_button_tooltip"},show_original_email_body_button_tooltip:{getter:function(){return"Show original email content"},mapKey:"Constants_show_original_email_body_button_tooltip"},apply_mask_to_original_email_body_button_tooltip:{getter:function(){return"Apply mask to original email content"},mapKey:"Constants_apply_mask_to_original_email_body_button_tooltip"},email_reply_assign_header:{getter:function(){return"Assign Email"},mapKey:"Constants_email_reply_assign_header"},email_reply_transfer_header:{getter:function(){return"Transfer Email"},mapKey:"Constants_email_reply_transfer_header"},email_reply_transfer_initialize_with_service_error:{getter:function(){return"Initialize the interaction with the service."},mapKey:"Constants_email_reply_transfer_initialize_with_service_error"},email_grab_button:{getter:function(){return"Grab"},mapKey:"Constants_email_grab_button"},email_grab_button_tooltip:{getter:function(){return"Move email to personal queue"},mapKey:"Constants_email_grab_button_tooltip"},email_grab_drag_tooltip:{getter:function(e){return"Move {0} email(s) to personal queue"},mapKey:"Constants_email_grab_drag_tooltip"},email_teamQueue_service_label:{getter:function(){return"Service"},mapKey:"Constants_email_teamQueue_service_label"},email_teamQueue_language_label:{getter:function(){return"Language"},mapKey:"Constants_email_teamQueue_language_label"},email_teamQueue_allServices:{getter:function(){return"All"},mapKey:"Constants_email_teamQueue_allServices"},email_teamQueue_allPushServices:{getter:function(){return"All Services with Push Queues"},mapKey:"Constants_email_teamQueue_allPushServices"},email_teamQueue_allPullServices:{getter:function(){return"All Services with Pull Queues"},mapKey:"Constants_email_teamQueue_allPullServices"},email_teamQueue_selector_services:{getter:function(e){return"{0} services selected"},mapKey:"Constants_email_teamQueue_selector_services"},search_queue_case_status_label:{getter:function(){return"Case Status"},mapKey:"Constants_search_queue_case_status_label"},search_queue_case_restore_default:{getter:function(){return"Restore Default"},mapKey:"Constants_search_queue_case_restore_default"},search_queue_case_content_label:{getter:function(){return"Show/hide"},mapKey:"Constants_search_queue_case_content_label"},search_queue_case_content_all:{getter:function(){return"All"},mapKey:"Constants_search_queue_case_content_all"},search_queue_case_content_location:{getter:function(){return"Location"},mapKey:"Constants_search_queue_case_content_location"},search_queue_case_category:{getter:function(){return"Category"},mapKey:"Constants_search_queue_case_category"},search_queue_case_content_state:{getter:function(){return"State"},mapKey:"Constants_search_queue_case_content_state"},search_queue_case_content_date:{getter:function(){return"Date"},mapKey:"Constants_search_queue_case_content_date"},search_queue_case_content_sla:{getter:function(){return"SLA"},mapKey:"Constants_search_queue_case_content_sla"},search_queue_case_content_last_service:{getter:function(){return"Last Service"},mapKey:"Constants_search_queue_case_content_last_service"},search_queue_case_content_disposition:{getter:function(){return"Disposition"},mapKey:"Constants_search_queue_case_content_disposition"},search_queue_all_case_status_label:{getter:function(){return"All"},mapKey:"Constants_search_queue_all_case_status_label"},search_queue_case_count_label:{getter:function(e,t){return"Shown: {0} of {1} total"},mapKey:"Constants_search_queue_case_count_label"},search_queue_all_team_services:{getter:function(){return"All"},mapKey:"Constants_search_queue_all_team_services"},search_queue_team_services:{getter:function(){return"Team's Assigned Services"},mapKey:"Constants_search_queue_team_services"},search_queue_active_case_status_label:{getter:function(){return"Active"},mapKey:"Constants_search_queue_active_case_status_label"},search_queue_closed_case_status_label:{getter:function(){return"Closed"},mapKey:"Constants_search_queue_closed_case_status_label"},email_erased_attachment_tooltip:{getter:function(e,t,n,r){return"Attachment was deleted on {0} at {1} by {2}. Note: {3}"},mapKey:"Constants_email_erased_attachment_tooltip"},email_erase_attachment_confirmation:{getter:function(e){return"Are you sure you want to delete the attachment {0}? This operation cannot be undone."},mapKey:"Constants_email_erase_attachment_confirmation"},email_erase_attachment_note:{getter:function(){return"Erase reason:"},mapKey:"Constants_email_erase_attachment_note"},email_high_importance_tooltip:{getter:function(){return"High importance"},mapKey:"Constants_email_high_importance_tooltip"},email_low_importance_tooltip:{getter:function(){return"Low importance"},mapKey:"Constants_email_low_importance_tooltip"},case_view_reporter_label:{getter:function(){return"reporter"},mapKey:"Constants_case_view_reporter_label"},case_view_flag_off_button_tooltip:{getter:function(){return"Flag the case"},mapKey:"Constants_case_view_flag_off_button_tooltip"},case_view_flag_on_button_tooltip:{getter:function(){return"Unflag the call"},mapKey:"Constants_case_view_flag_on_button_tooltip"},case_view_pin_off_button_tooltip:{getter:function(){return"Pin the case"},mapKey:"Constants_case_view_pin_off_button_tooltip"},case_view_pin_on_button_tooltip:{getter:function(){return"Unpin the case"},mapKey:"Constants_case_view_pin_on_button_tooltip"},case_view_transfer_button_tooltip:{getter:function(){return"Transfer the case"},mapKey:"Constants_case_view_transfer_button_tooltip"},case_view_cc_label:{getter:function(){return"on copy"},mapKey:"Constants_case_view_cc_label"},case_view_status_label:{getter:function(){return"State"},mapKey:"Constants_case_view_status_label"},case_view_assignments_label:{getter:function(){return"Assigned to"},mapKey:"Constants_case_view_assignments_label"},case_view_contact_cases_with_updates_tooltip:{getter:function(e){return"This contact has {0} more cases with updates"},mapKey:"Constants_case_view_contact_cases_with_updates_tooltip"},case_view_followups_label:{getter:function(){return"Pinned by"},mapKey:"Constants_case_view_followups_label"},case_view_assignment_personal_label:{getter:function(e,t,n){return"In personal queue of {0} since {1}, {2}"},mapKey:"Constants_case_view_assignment_personal_label"},case_view_assignment_followup_label:{getter:function(e){return"Pinned by {0}"},mapKey:"Constants_case_view_assignment_followup_label"},case_view_pending_reason_label:{getter:function(){return"Reason"},mapKey:"Constants_case_view_pending_reason_label"},email_queue_field_subject:{getter:function(){return"Subject"},mapKey:"Constants_email_queue_field_subject"},email_queue_field_serviceLevel:{getter:function(){return"SLA Age %"},mapKey:"Constants_email_queue_field_serviceLevel"},email_queue_field_slaTarget:{getter:function(){return"SLA Target"},mapKey:"Constants_email_queue_field_slaTarget"},email_queue_field_from:{getter:function(){return"From"},mapKey:"Constants_email_queue_field_from"},email_queue_field_reply_to:{getter:function(){return"Reply To"},mapKey:"Constants_email_queue_field_reply_to"},email_queue_field_flag:{getter:function(){return"Flag"},mapKey:"Constants_email_queue_field_flag"},email_queue_field_customerUpdate:{getter:function(){return"Last customer update"},mapKey:"Constants_email_queue_field_customerUpdate"},email_queue_field_updateTime:{getter:function(){return"Update time"},mapKey:"Constants_email_queue_field_updateTime"},email_queue_field_createTime:{getter:function(){return"Create time"},mapKey:"Constants_email_queue_field_createTime"},email_queue_field_relevance:{getter:function(){return"Relevance"},mapKey:"Constants_email_queue_field_relevance"},email_queue_sort_by_label:{getter:function(e){return"Sort by {0}"},mapKey:"Constants_email_queue_sort_by_label"},emailReply_menu_more_tooltip:{getter:function(){return"More"},mapKey:"Constants_emailReply_menu_more_tooltip"},emailReply_menu_item_replyTo:{getter:function(){return"Reply"},mapKey:"Constants_emailReply_menu_item_replyTo"},emailReply_menu_item_replyToAll:{getter:function(){return"Reply to all"},mapKey:"Constants_emailReply_menu_item_replyToAll"},emailReply_menu_item_forward:{getter:function(){return"Forward"},mapKey:"Constants_emailReply_menu_item_forward"},case_view_load_older_content:{getter:function(){return"Load older content"},mapKey:"Constants_case_view_load_older_content"},case_view_load_newer_content:{getter:function(){return"Load newer content"},mapKey:"Constants_case_view_load_newer_content"}},ERROR_MESSAGES:{sipRegistrationFail:{getter:function(){return"SIP server registration failed"},mapKey:"Constants_sipRegistrationFail"},switchToSmsError:{getter:function(){return"Switch to SMS impossible without number."},mapKey:"Constants_switchToSmsError"},switchWithoutContactError:{getter:function(){return"Switch channel impossible on unidentified contact."},mapKey:"Constants_switchWithoutContactError"},switchWithoutRASessionError:{getter:function(){return"Switching channel is impossible without active Remote Assist session"},mapKey:"Constants_switchWithoutRASessionError"},dialAddDncError:{getter:function(e,t){return"Could not add number {0} to DNC lists. Reason: {1}"},mapKey:"Constants_dialAddDncError"},dialerCreateWorkItemError_1:{getter:function(){return"The system could not proceed your request: No such record in list"},mapKey:"Constants_dialerCreateWorkItemError_1"},dialerCreateWorkItemError_2:{getter:function(){return"The system could not proceed your request: No such list"},mapKey:"Constants_dialerCreateWorkItemError_2"},dialerCreateWorkItemError_3:{getter:function(){return"The system could not proceed your request: Record is in processing"},mapKey:"Constants_dialerCreateWorkItemError_3"},dialerCreateWorkItemError_4:{getter:function(){return"The system could not proceed your request: System failure"},mapKey:"Constants_dialerCreateWorkItemError_4"},dialerCreateWorkItemError_5:{getter:function(){return"The system could not proceed your request: Scenario engine is not available"},mapKey:"Constants_dialerCreateWorkItemError_5"},dialerCreateWorkItemError_6:{getter:function(){return"The system could not proceed your request: List is not in running state."},mapKey:"Constants_dialerCreateWorkItemError_6"},sessionWasOverwritten:{getter:function(){return"This session was logged out automatically because you just logged in somewhere else."},mapKey:"Constants_sessionWasOverwritten"},consult_call_required_error:{getter:function(){return"The form requires consult transfer attempts made during the call."},mapKey:"Constants_consult_call_required_error"},forcedLogout:{getter:function(e,t){return"You have been logged out by {0} at {1}"},mapKey:"Constants_forcedLogout"},notEnoughPrivileges:{getter:function(){return"Not enough privileges for requested operation."},mapKey:"Constants_notEnoughPrivileges"},invalidMessageReceived:{getter:function(){return"Invalid message sent."},mapKey:"Constants_invalidMessageReceived"},phoneIsNotRegistered:{getter:function(){return"Phone is not registered."},mapKey:"Constants_phoneIsNotRegistered"},phoneNumberIsNotPresent:{getter:function(){return"Phone is not present in dial plan."},mapKey:"Constants_phoneNumberIsNotPresent"},accountDisabled:{getter:function(e){return"Your account has been disabled by Service Provider at {0}."},mapKey:"Constants_accountDisabled"},missingWorkingPhone:{getter:function(){return"You were logged out because you did not have a working phone."},mapKey:"Constants_missingWorkingPhone"},noPrivilegeMakeExternalCalls:{getter:function(){return"Outbound calls not allowed."},mapKey:"Constants_noPrivilegeMakeExternalCalls"},genericError_noActiveServer:{getter:function(e){return"No active {0} server"},mapKey:"Constants_genericError_noActiveServer"},problem_with_voice_quality:{getter:function(){return"A problem with voice quality is detected, please check your network connection."},mapKey:"Constants_problem_with_voice_quality"},account_has_been_disabled:{getter:function(){return"Your account is disabled. Please contact your administrator."},mapKey:"Constants_account_has_been_disabled"},login_rate_limit_exceeded:{getter:function(){return"Login attempt rate limit exceeded. Please wait a few seconds before trying to login."},mapKey:"Constants_login_rate_limit_exceeded"},login_not_valid_app:{getter:function(){return"Your login id is not valid for this application"},mapKey:"Constants_login_not_valid_app"},login_from_ip_is_not_allowed:{getter:function(){return"System access is restricted. Your current IP address is not in allowed range."},mapKey:"Constants_login_from_ip_is_not_allowed"},email_message_limit_exceeded:{getter:function(){return"Email is too large and cannot be sent or saved"},mapKey:"Constants_email_message_limit_exceeded"},zendesk_sso_disabled:{getter:function(){return"You don't have the privilege to use Zendesk Single sign-on."},mapKey:"Constants_zendesk_sso_disabled"},zendesk_disabled:{getter:function(){return"You don't have the privilege to use Zendesk integration"},mapKey:"Constants_zendesk_disabled"},zendesk_sso_malformed_return_to:{getter:function(){return"Redirect to Zendesk account is disabled. "},mapKey:"Constants_zendesk_sso_malformed_return_to"},zendesk_fullVersion_disabled:{getter:function(){return"You don't have the privilege to use full version of AgentDesktop."},mapKey:"Constants_zendesk_fullVersion_disabled"},uploading_image_io_error:{getter:function(){return"The image could not be loaded."},mapKey:"Constants_uploading_image_io_error"},no_service_with_outbound_sms_account_configured:{getter:function(){return"No service with outbound sms account is configured"},mapKey:"Constants_no_service_with_outbound_sms_account_configured"},service_is_required_for_outbound_call_message:{getter:function(){return"Service is required for outbound call"},mapKey:"Constants_service_is_required_for_outbound_call_message"},service_is_required_for_outbound_sms_message:{getter:function(){return"Service is required for outbound SMS"},mapKey:"Constants_service_is_required_for_outbound_sms_message"},login_id_changed_message:{getter:function(){return"Your username has changed. Please log out and log in with the new username."},mapKey:"Constants_login_id_changed_message"},msteams_access_token_error_message:{getter:function(){return"Microsoft Teams error: "},mapKey:"Constants_msteams_access_token_error_message"},msteams_refresh_token_expired_error_message:{getter:function(){return"Your Microsoft login into MS Teams integration has expired, re-authorize in Settings -> Profile."},mapKey:"Constants_msteams_refresh_token_expired_error_message"},msteams_reset_by_admin_message:{getter:function(){return"Teams integration was reset by admin, please re-enable Teams in Settings -> Profile."},mapKey:"Constants_msteams_reset_by_admin_message"},msteams_disabling_confirmation:{getter:function(){return"Warning: disabling the integration will disable Teams directory, and will prevent you from sending messages to, or receiving updates from, Teams chats and channels."},mapKey:"Constants_msteams_disabling_confirmation"},msteams_different_user_confirmation:{getter:function(){return"You are logging into Teams as a user %s. This will erase all existing Teams chats and favorites and disable \u201cRecent\u201d entries linked to previous user %s."},mapKey:"Constants_msteams_different_user_confirmation"},msteams_disabled:{getter:function(){return"Teams integration is disabled, not configured or out of service"},mapKey:"Constants_msteams_disabled"},msteams_user_deleted:{getter:function(){return"Microsoft Teams user has been deleted from the Azure directory"},mapKey:"Constants_msteams_user_deleted"},msteams_unsufficient_privileges:{getter:function(){return"Microsoft Teams user does not have all privileges required for integration"},mapKey:"Constants_msteams_unsufficient_privileges"},msteams_other_user_item:{getter:function(){return"This item belongs to the different Teams user"},mapKey:"Constants_msteams_other_user_item"},msteams_start_channel_conversation:{getter:function(){return"Start a new conversation"},mapKey:"Constants_msteams_start_channel_conversation"},micNotRecognized:{getter:function(){return"Microphone is not recognized."},mapKey:"Constants_micNotRecognized"},speakersNotRecognized:{getter:function(){return"Speakers are not recognized."},mapKey:"Constants_speakersNotRecognized"},audioDevicesNotRecognized:{getter:function(){return"Microphone and speakers are not recognized."},mapKey:"Constants_audioDevicesNotRecognized"},dispositionProhibitedd:{getter:function(e){return"The disposition selected is not allowed. {0}"},mapKey:"Constants_dispositionProhibitedd"},callProhibited:{getter:function(e){return"The call is not allowed. {0}"},mapKey:"Constants_callProhibited"},completeProhibited:{getter:function(e){return"Complete call is not allowed. {0}"},mapKey:"Constants_completeProhibited"},validationTimeoutError:{getter:function(e){return"Validation timeout {}."},mapKey:"Constants_validationTimeoutError"},validationFailError:{getter:function(){return"Unable to process validation url."},mapKey:"Constants_validationFailError"},screenViewNoPluginError:{getter:function(){return"Agent Desktop Helper application is required in order to use screen monitoring."},mapKey:"Constants_screenViewNoPluginError"},domainAuthentificationError:{getter:function(e){return"This domain is not authorized to access your screen and microphone, please click {0} to authorize"},mapKey:"Constants_domainAuthentificationError"},domainAuthentificationErrorAnchor:{getter:function(){return"here"},mapKey:"Constants_domainAuthentificationErrorAnchor"},communicator_msteams_refresh_token_expired_error_message:{getter:function(){return"Your Microsoft login into MS Teams integration has expired, re-authorize in Settings -> Enterprise Messaging Accounts."},mapKey:"declaration_communicator_msteams_refresh_token_expired_error_message"},communicator_msteams_reset_by_admin_message:{getter:function(){return"Teams integration was reset by admin, please re-enable Teams in Settings -> Enterprise Messaging Accounts."},mapKey:"declaration_communicator_msteams_reset_by_admin_message"},error_field_required:{getter:function(){return"Field is required"},mapKey:"declaration_error_field_required"},error_no_username:{getter:function(){return"Please enter your username"},mapKey:"declaration_error_no_username"},error_no_service:{getter:function(){return"Select a service in the dropdown menu"},mapKey:"declaration_error_no_service"},error_no_tenant:{getter:function(){return"Tenant is required"},mapKey:"declaration_error_no_tenant"},error_no_chat_in_service:{getter:function(){return"There is no associated chat with this service, please, select another service"},mapKey:"declaration_error_no_chat_in_service"},error_no_channel_in_service:{getter:function(){return"No service selected or service is not suitable for this action"},mapKey:"declaration_error_no_channel_in_service"},error_no_number:{getter:function(){return"This item has no number"},mapKey:"declaration_error_no_number"},error_self_call:{getter:function(){return"You can't call yourself"},mapKey:"declaration_error_self_call"},insufficient_privileges:{getter:function(){return"Your login id is not valid for this application"},mapKey:"declaration_insufficient_privileges"},device_empty:{getter:function(){return"No microphone detected, calls are not possible"},mapKey:"declaration_device_empty"},device_detected:{getter:function(e){return"Audio device is detected: {0}"},mapKey:"declaration_device_detected"},login_no_name:{getter:function(){return"You should specify your username"},mapKey:"declaration_login_no_name"},login_no_password:{getter:function(){return"You should specify your password"},mapKey:"declaration_login_no_password"},login_invalid_user_name:{getter:function(){return"Username or Password is incorrect"},mapKey:"declaration_login_invalid_user_name"},login_invalid_password:{getter:function(){return"Username or Password is incorrect"},mapKey:"declaration_login_invalid_password"},login_invalid_domain:{getter:function(){return"Invalid domain"},mapKey:"declaration_login_invalid_domain"},login_unknown_error:{getter:function(){return"Login failed: Internal Error"},mapKey:"declaration_login_unknown_error"},forcedLogout_automatically:{getter:function(e){return"You have been automatically logged out at {0}"},mapKey:"declaration_forcedLogout_automatically"},no_permissions_did_sms:{getter:function(){return"You have no permissions to start SMS chat with a selected DID number"},mapKey:"declaration_no_permissions_did_sms"},no_permissions_did_call:{getter:function(){return"You have no permissions to start a voice call with a selected DID number"},mapKey:"declaration_no_permissions_did_call"},profile_emi_request_error:{getter:function(){return"Unknown error during server request"},mapKey:"declaration_profile_emi_request_error"},profile_emi_abrupt_window_close:{getter:function(){return"Authentication window was closed"},mapKey:"declaration_profile_emi_abrupt_window_close"},profile_emi_auth_protocol_error:{getter:function(){return"Internal auth protocol error"},mapKey:"declaration_profile_emi_auth_protocol_error"},profile_emi_unsuccessful_result:{getter:function(){return"Procedure finished unsuccessfully"},mapKey:"declaration_profile_emi_unsuccessful_result"},error_message_size_limit_exceeded:{getter:function(e){return"Message size exceeds limit of {0} characters"},mapKey:"declaration_error_message_size_limit_exceeded"}},EXTERNAL_CHAT:{external_chat_video_call_requested:{getter:function(){return"The customer has requested the video call."},mapKey:"Constants_external_chat_video_call_requested"},external_chat_video_call_no_video:{getter:function(){return"no video"},mapKey:"Constants_external_chat_video_call_no_video"},external_chat_location_url:{getter:function(e,t){return"https://www.google.com/maps/dir//{0},{1}"},mapKey:"Constants_external_chat_location_url"},external_chat_customer_navigates_to:{getter:function(){return"Page"},mapKey:"Constants_external_chat_customer_navigates_to"},external_chat_audio_call_requested:{getter:function(){return"The customer has requested the audio call."},mapKey:"Constants_external_chat_audio_call_requested"},external_chat_call_finished:{getter:function(){return"The call has been finished."},mapKey:"Constants_external_chat_call_finished"},click_to_enlarge_image_tooltip:{getter:function(){return"Click to show in original size"},mapKey:"Constants_click_to_enlarge_image_tooltip"},external_chat_new_messages:{getter:function(){return"You have new messages"},mapKey:"Constants_external_chat_new_messages"},external_chat_file_label:{getter:function(){return"File: "},mapKey:"Constants_external_chat_file_label"},external_chat_card_label:{getter:function(){return"Card: "},mapKey:"Constants_external_chat_card_label"},external_chat_file_sent:{getter:function(e){return'Sent file "{0}"'},mapKey:"Constants_external_chat_file_sent"},external_chat_file_received:{getter:function(e){return'File "{0}" received'},mapKey:"Constants_external_chat_file_received"},external_chat_contact_received:{getter:function(e){return'Contact "{0}" received'},mapKey:"Constants_external_chat_contact_received"},external_chat_url_received:{getter:function(e){return'Url "{0}" received'},mapKey:"Constants_external_chat_url_received"},external_chat_sticker_received:{getter:function(){return"Sticker received"},mapKey:"Constants_external_chat_sticker_received"},external_chat_location_received:{getter:function(){return"Location received"},mapKey:"Constants_external_chat_location_received"},external_chat_secure_form_canceled:{getter:function(){return"Form input has been cancelled"},mapKey:"Constants_external_chat_secure_form_canceled"},external_chat_secure_data_requested:{getter:function(){return"Secure data has been requested"},mapKey:"Constants_external_chat_secure_data_requested"},click_to_enlarge_image_heading:{getter:function(){return"Original image"},mapKey:"Constants_click_to_enlarge_image_heading"},external_chat_cancel:{getter:function(){return"cancel"},mapKey:"Constants_external_chat_cancel"},external_chat_canned_greetings:{getter:function(){return"Greetings"},mapKey:"Constants_external_chat_canned_greetings"},external_chat_log_party_joined:{getter:function(){return"%s connected"},mapKey:"Constants_external_chat_log_party_joined"},external_chat_party_joined:{getter:function(e){return"{0} connected"},mapKey:"Constants_external_chat_party_joined"},external_chat_party_inviting:{getter:function(){return"Inviting..."},mapKey:"Constants_external_chat_party_inviting"},external_chat_log_party_left:{getter:function(){return"%s disconnected"},mapKey:"Constants_external_chat_log_party_left"},external_chat_party_left:{getter:function(e){return"{0} disconnected"},mapKey:"Constants_external_chat_party_left"},external_chat_file_upload_error:{getter:function(){return"File upload error!"},mapKey:"Constants_external_chat_file_upload_error"},external_chat_invite_button:{getter:function(){return"Invite"},mapKey:"Constants_external_chat_invite_button"},external_chat_invite_button_tooltip:{getter:function(){return"Invite to chat"},mapKey:"Constants_external_chat_invite_button_tooltip"},external_chat_party_typing:{getter:function(e){return"{0} is typing..."},mapKey:"Constants_external_chat_party_typing"},external_chat_log_party_coaching:{getter:function(){return"%s is now coaching"},mapKey:"Constants_external_chat_log_party_coaching"},external_chat_party_coaching:{getter:function(e){return"{0} is now coaching"},mapKey:"Constants_external_chat_party_coaching"},external_chat_customer_account:{getter:function(){return"Account:"},mapKey:"Constants_external_chat_customer_account"},external_chat_customer_service:{getter:function(){return"Service:"},mapKey:"Constants_external_chat_customer_service"},external_chat_customer_launchpoint:{getter:function(){return"Via"},mapKey:"Constants_external_chat_customer_launchpoint"},external_chat_send:{getter:function(){return"Send"},mapKey:"Constants_external_chat_send"},external_chat_session_ended:{getter:function(){return"Chat session ended"},mapKey:"Constants_external_chat_session_ended"},external_chat_session_inviting:{getter:function(e){return"Inviting customer to switch to {0}"},mapKey:"Constants_external_chat_session_inviting"},external_chat_session_invite_accepted:{getter:function(e){return"{0} connection accepted"},mapKey:"Constants_external_chat_session_invite_accepted"},external_chat_unmask_tooltip:{getter:function(){return"Click to unmask"},mapKey:"Constants_external_chat_unmask_tooltip"},close_surfly_cobrowsing_session_label:{getter:function(){return"Are you sure to leave the co-browsing session?"},mapKey:"Constants_close_surfly_cobrowsing_session_label"},external_chat_cobrowsing_requested:{getter:function(){return"Co-browsing session requested."},mapKey:"Constants_external_chat_cobrowsing_requested"},external_chat_cobrowsing_started:{getter:function(){return"Co-browsing session started."},mapKey:"Constants_external_chat_cobrowsing_started"},external_chat_cobrowsing_rejected:{getter:function(){return"Co-browsing session rejected."},mapKey:"Constants_external_chat_cobrowsing_rejected"},external_chat_cobrowsing_ended:{getter:function(){return"Co-browsing session ended."},mapKey:"Constants_external_chat_cobrowsing_ended"},disposition_message_title:{getter:function(e,t,n){return"{0} dispositioned chat interaction on {1} at {2}"},mapKey:"declaration_disposition_message_title"},disposition_message_service_name:{getter:function(){return"Service:"},mapKey:"declaration_disposition_message_service_name"},sentiment_positive_tooltip:{getter:function(){return"Sentiment: Positive"},mapKey:"declaration_sentiment_positive_tooltip"},sentiment_neutral_tooltip:{getter:function(){return"Sentiment: Neutral"},mapKey:"declaration_sentiment_neutral_tooltip"},sentiment_negative_tooltip:{getter:function(){return"Sentiment: Negative"},mapKey:"declaration_sentiment_negative_tooltip"},chat_attachment_remove_button:{getter:function(){return"Remove attachment"},mapKey:"declaration_chat_attachment_remove_button"},party_joined_chat_2:{getter:function(){return"has joined the chat"},mapKey:"declaration_party_joined_chat_2"},party_left_chat_2:{getter:function(){return"has left the chat"},mapKey:"declaration_party_left_chat_2"},party_is_typing:{getter:function(){return"typing..."},mapKey:"declaration_party_is_typing"},agent_is_typing:{getter:function(e){return"{0} is typing..."},mapKey:"declaration_agent_is_typing"},dialog_header_invite_to_group_chat:{getter:function(e){return"Invite to group: {0}"},mapKey:"declaration_dialog_header_invite_to_group_chat"},invite_dialog_label:{getter:function(){return"Chat conference"},mapKey:"declaration_invite_dialog_label"},dialog_header_start_internal_chat:{getter:function(){return"Start an internal chat"},mapKey:"declaration_dialog_header_start_internal_chat"},message_connection_accepted:{getter:function(e){return"{0} connection accepted"},mapKey:"declaration_message_connection_accepted"},button_start_web_call_tooltip:{getter:function(){return"Start Web Call"},mapKey:"declaration_button_start_web_call_tooltip"},button_start_video_call_tooltip:{getter:function(){return"Start Video Call"},mapKey:"declaration_button_start_video_call_tooltip"},warning_second_web_call_line_1:{getter:function(){return"you already have web call in progress,"},mapKey:"declaration_warning_second_web_call_line_1"},warning_second_web_call_line_2:{getter:function(){return"which will be dropped if you accept this web call"},mapKey:"declaration_warning_second_web_call_line_2"},warning_have_other_call_line_1:{getter:function(){return"you have voice call in progress,"},mapKey:"declaration_warning_have_other_call_line_1"},warning_have_other_call_line_2:{getter:function(){return"which will be put on hold if you accept this web call"},mapKey:"declaration_warning_have_other_call_line_2"},display_name_placeholder:{getter:function(){return"Anonymous"},mapKey:"declaration_display_name_placeholder"},download_attachment_button_text:{getter:function(){return"Download attachment"},mapKey:"declaration_download_attachment_button_text"},open_fullsize_image_button_text:{getter:function(){return"Open fullsize image"},mapKey:"declaration_open_fullsize_image_button_text"}},FORMS:{address_type:{getter:function(){return"Address type"},mapKey:"declaration_address_type"},street:{getter:function(){return"Street"},mapKey:"declaration_street"},address_line_1:{getter:function(){return"Address Line 1"},mapKey:"declaration_address_line_1"},address_line_2:{getter:function(){return"Address Line 2"},mapKey:"declaration_address_line_2"},city:{getter:function(){return"City"},mapKey:"declaration_city"},state:{getter:function(){return"State"},mapKey:"declaration_state"},zip:{getter:function(){return"Zip"},mapKey:"declaration_zip"}},HOME_SCREEN:{home_screen_alert_none:{getter:function(){return"No announcements"},mapKey:"Constants_home_screen_alert_none"},home_screen_alerts:{getter:function(){return"Alerts"},mapKey:"Constants_home_screen_alerts"},home_screen_longestBreakTime:{getter:function(){return"Longest Break Time"},mapKey:"Constants_home_screen_longestBreakTime"},home_screen_quality_score:{getter:function(){return"Quality Score"},mapKey:"Constants_home_screen_quality_score"},home_screen_supervised_quality_score:{getter:function(){return"Supervised Quality Score"},mapKey:"Constants_home_screen_supervised_quality_score"},home_screen_quality_score_average_form_score:{getter:function(){return"Average form score"},mapKey:"Constants_home_screen_quality_score_average_form_score"},home_screen_campaignsCallsInProgress:{getter:function(){return"Campaigns Calls in Progress"},mapKey:"Constants_home_screen_campaignsCallsInProgress"},home_screen_lowestOccupancyAgents:{getter:function(){return"Lowest Occupancy Agents"},mapKey:"Constants_home_screen_lowestOccupancyAgents"},home_screen_customerSatisfaction:{getter:function(){return"Customer Satisfaction"},mapKey:"Constants_home_screen_customerSatisfaction"},home_screen_agenda:{getter:function(){return"Agenda"},mapKey:"Constants_home_screen_agenda"},home_screen_myStatsVsMyTeam:{getter:function(){return"My Stats vs. My Team's"},mapKey:"Constants_home_screen_myStatsVsMyTeam"},home_screen_breakTimeRemaining:{getter:function(){return"Break Time Remaining"},mapKey:"Constants_home_screen_breakTimeRemaining"},home_screen_agentsByState:{getter:function(){return"Agents by State"},mapKey:"Constants_home_screen_agentsByState"},home_screen_breakTime:{getter:function(){return"Break Time"},mapKey:"Constants_home_screen_breakTime"},home_screen_label_remaining:{getter:function(){return"remaining"},mapKey:"Constants_home_screen_label_remaining"},home_screen_tooltip_remaining:{getter:function(e){return"{0} min remaining"},mapKey:"Constants_home_screen_tooltip_remaining"},home_screen_tooltip_used:{getter:function(e){return"{0} min used"},mapKey:"Constants_home_screen_tooltip_used"},home_screen_tooltip_exceeded:{getter:function(e){return"{0} min exceeded"},mapKey:"Constants_home_screen_tooltip_exceeded"},home_screen_tooltip_permitted:{getter:function(e){return"{0} min permitted"},mapKey:"Constants_home_screen_tooltip_permitted"},home_screen_label_used:{getter:function(){return"used"},mapKey:"Constants_home_screen_label_used"},home_screen_label_permitted:{getter:function(){return"permitted"},mapKey:"Constants_home_screen_label_permitted"},home_screen_label_exceeded:{getter:function(){return"exceeded"},mapKey:"Constants_home_screen_label_exceeded"},home_screen_label_handled:{getter:function(){return"Handled"},mapKey:"Constants_home_screen_label_handled"},home_screen_label_successful:{getter:function(){return"Successful interactions"},mapKey:"Constants_home_screen_label_successful"},home_screen_label_avgHandlingT:{getter:function(){return"Average Handling Time"},mapKey:"Constants_home_screen_label_avgHandlingT"},home_screen_label_my:{getter:function(){return"my stats"},mapKey:"Constants_home_screen_label_my"},home_screen_label_teams:{getter:function(){return"team's stats"},mapKey:"Constants_home_screen_label_teams"},home_screen_dispositions:{getter:function(){return"Dispositions"},mapKey:"Constants_home_screen_dispositions"},home_screen_longestWaitTime:{getter:function(){return"Longest wait time"},mapKey:"Constants_home_screen_longestWaitTime"},home_screen_worstServiceLevel:{getter:function(){return"Worst Service Level"},mapKey:"Constants_home_screen_worstServiceLevel"},home_screen_count:{getter:function(){return"Count"},mapKey:"Constants_home_screen_count"},home_screen_satisfaction:{getter:function(){return"Satisfaction"},mapKey:"Constants_home_screen_satisfaction"},home_screen_label_demeanor:{getter:function(){return"Demeanor"},mapKey:"Constants_home_screen_label_demeanor"},home_screen_label_resolutions:{getter:function(){return"Resolutions"},mapKey:"Constants_home_screen_label_resolutions"},home_screen_label_netPromoterScore:{getter:function(){return"Net Promoter Score"},mapKey:"Constants_home_screen_label_netPromoterScore"},home_screen_label_agent_CM1:{getter:function(){return"Custom Survey Metric 1"},mapKey:"Constants_home_screen_label_agent_CM1"},home_screen_label_agent_CM2:{getter:function(){return"Custom Survey Metric 2"},mapKey:"Constants_home_screen_label_agent_CM2"},home_screen_widget_config_dialog:{getter:function(){return"Select Metrics"},mapKey:"Constants_home_screen_widget_config_dialog"},home_screen_selectDispositions:{getter:function(){return"Select Dispositions"},mapKey:"Constants_home_screen_selectDispositions"},home_screen_selectEvaluationAreas:{getter:function(){return"Select Evaluation Areas"},mapKey:"Constants_home_screen_selectEvaluationAreas"},home_screen_label_noEvents:{getter:function(){return"You have no events scheduled today or in the future"},mapKey:"Constants_home_screen_label_noEvents"},home_screen_label_noEventsToday:{getter:function(){return"You have no events scheduled today"},mapKey:"Constants_home_screen_label_noEventsToday"},interaction_tab_label_resolution:{getter:function(){return"Resolution"},mapKey:"declaration_interaction_tab_label_resolution"},interaction_tab_label_all_interactions:{getter:function(){return"All Interactions"},mapKey:"declaration_interaction_tab_label_all_interactions"},interaction_tab_label_calls:{getter:function(){return"Calls"},mapKey:"declaration_interaction_tab_label_calls"},interaction_tab_label_messages:{getter:function(){return"Messages"},mapKey:"declaration_interaction_tab_label_messages"},interaction_call_conference_label:{getter:function(){return"Conference"},mapKey:"declaration_interaction_call_conference_label"},interaction_chat_conference_label:{getter:function(){return"Conference Chat"},mapKey:"declaration_interaction_chat_conference_label"},menu_icon_tooltip:{getter:function(){return"Menu"},mapKey:"declaration_menu_icon_tooltip"},time_frame_today:{getter:function(){return"Today"},mapKey:"declaration_time_frame_today"},time_frame_week:{getter:function(){return"This Week"},mapKey:"declaration_time_frame_week"},time_frame_month:{getter:function(){return"This Month"},mapKey:"declaration_time_frame_month"},time_frame_year:{getter:function(){return"This Year"},mapKey:"declaration_time_frame_year"},home_screen_selectTitleAvailable:{getter:function(){return"Available"},mapKey:"declaration_home_screen_selectTitleAvailable"},home_screen_selectTitleIncluded:{getter:function(){return"Included"},mapKey:"declaration_home_screen_selectTitleIncluded"},home_screen_label_timeFrame:{getter:function(){return"Time Frame"},mapKey:"declaration_home_screen_label_timeFrame"},home_screen_label_timeFrameFrom:{getter:function(){return"From"},mapKey:"declaration_home_screen_label_timeFrameFrom"},home_screen_label_timeFrameTo:{getter:function(){return"To"},mapKey:"declaration_home_screen_label_timeFrameTo"}},INCOMING_CALL_DIALOG_BOX:{incomingInteraction_accept:{getter:function(){return"Accept"},mapKey:"Constants_incomingInteraction_accept"},incomingInteraction_open:{getter:function(){return"Open"},mapKey:"Constants_incomingInteraction_open"},pickup_call_notigication_accept:{getter:function(){return"Pick Up"},mapKey:"Constants_pickup_call_notigication_accept"},pickup_call_notigication_ignore:{getter:function(){return"Ignore"},mapKey:"Constants_pickup_call_notigication_ignore"},incomingInteraction_reply:{getter:function(){return"Reply"},mapKey:"Constants_incomingInteraction_reply"},incomingInteraction_reject:{getter:function(){return"Reject"},mapKey:"Constants_incomingInteraction_reject"},calendarAlert_dismiss:{getter:function(){return"Dismiss"},mapKey:"Constants_calendarAlert_dismiss"},calendarAlert_snooze:{getter:function(){return"Snooze"},mapKey:"Constants_calendarAlert_snooze"},incomingInteraction_postpone:{getter:function(){return"Postpone"},mapKey:"Constants_incomingInteraction_postpone"},incomingInteraction_number:{getter:function(e){return"from {0}"},mapKey:"Constants_incomingInteraction_number"},incomingInteraction_totalQueueTime:{getter:function(e){return"(Q {0}) "},mapKey:"Constants_incomingInteraction_totalQueueTime"},calendarAlert_dateString:{getter:function(e){return"at {0}"},mapKey:"Constants_calendarAlert_dateString"},call_pickup_dest_name:{getter:function(e){return"For {0}"},mapKey:"Constants_call_pickup_dest_name"},call_pickup_caller_info:{getter:function(e,t){return"From {0} {1}"},mapKey:"Constants_call_pickup_caller_info"},call_pickup_group_name:{getter:function(e){return"For a member of {0}"},mapKey:"Constants_call_pickup_group_name"},dial_number:{getter:function(){return"Dial Number"},mapKey:"declaration_dial_number"},button_accept_and_open_label:{getter:function(){return"Accept and Open"},mapKey:"declaration_button_accept_and_open_label"},loader_accepting_interaction_label:{getter:function(){return"Accepting..."},mapKey:"declaration_loader_accepting_interaction_label"},auto_accept_timer:{getter:function(e){return"in {0}"},mapKey:"declaration_auto_accept_timer"},button_see_context_label:{getter:function(){return"See Context"},mapKey:"declaration_button_see_context_label"},button_campaign_item_dial_label:{getter:function(){return"Dial Number"},mapKey:"declaration_button_campaign_item_dial_label"}},INSTALLATION_PROCESS:{install_downloadFlash:{getter:function(){return"Download the latest Adobe Flash Player"},mapKey:"Constants_install_downloadFlash"},install_flashRequire:{getter:function(){return"This page requires JavaScript and a recent version of Adobe Flash Player."},mapKey:"Constants_install_flashRequire"},bp_client_not_authorized_header:{getter:function(){return"Important"},mapKey:"Constants_bp_client_not_authorized_header"},bp_client_not_authorized_message:{getter:function(e){return"This domain is not authorized to access your screen and microphone, please click {0} to authorize"},mapKey:"Constants_bp_client_not_authorized_message"},bp_client_old_extension_version:{getter:function(e){return"We detected an old version of Agent Desktop {0} Extension. We strongly urge you to upgrade to the latest to benefit from security improvements."},mapKey:"Constants_bp_client_old_extension_version"},bp_client_update_extension:{getter:function(e){return"Click {0} the extension."},mapKey:"Constants_bp_client_update_extension"},bp_client_update_extension_text:{getter:function(){return"here to upgrade"},mapKey:"Constants_bp_client_update_extension_text"},bp_client_not_authorized_link:{getter:function(){return"here"},mapKey:"Constants_bp_client_not_authorized_link"},install_installHeader:{getter:function(e,t){return'Agent Desktop Helper Application is not detected. It is either disabled or not installed at all.<br> <br> <b>Features</b><br> When installed, the Agent Desktop Helper Application allows you to use a computer as a phone, share and record screen activity, receive notifications when the browser window is minimized<br><br><b>Application Installation Instructions:</b><ul><li>Install the Agent Desktop Helper Application by  <span id="{0}" class="{1}">downloading</span> and running the installer.</li><li>After installation is complete, refresh the browser page.</li></ul>'},mapKey:"Constants_install_installHeader"},install_installHeaderChrome:{getter:function(e,t,n){return'Agent Desktop Helper Application is not detected. It is either disabled or not installed at all.<br> <br> <b>Features</b><br> When installed, the Agent Desktop Helper Application allows you to use a computer as a phone, share and record screen activity, receive notifications when the browser window is minimized<br><br><b>Important</b><br> To use the Agent Desktop Helper Application with the Chrome browser, the Agent Desktop Chrome Extension must be installed and enabled before installing the application.<br><br><b>Application Installation Instructions:</b><ul><li>Install and enable the Agent Desktop Chrome Extension from the <span id="{0}" class="{2}">Chrome Web Store</span><br>If the extension is disabled, enable it in the Chrome menu of your browser window, [chrome://extensions], and refresh the browser page.</li><li>Install the Agent Desktop Helper Application by <span id="{1}" class="{2}">downloading</span> and running the installer.</li><li>After installation is complete, refresh the browser page.</li></ul>'},mapKey:"Constants_install_installHeaderChrome"},install_installHeaderFirefox:{getter:function(e,t,n){return'Agent Desktop Helper Application is not detected. It is either disabled or not installed at all.<br> <br> <b>Features</b><br> When installed, the Agent Desktop Helper Application allows you to use a computer as a phone, share and record screen activity, receive notifications when the browser window is minimized<br><br><b>Important</b><br> To use the Agent Desktop Helper Application with the Firefox browser, the Agent Desktop Extension must be installed and enabled before installing the application.<br><br><b>Application Installation Instructions:</b><ul><li>Install and enable the <span id="{0}" class="{2}">Agent Desktop Extension</span><br>If the browser extension is disabled, navigate to [about:addons], click on Extensions section and enable \'Agent Desktop Extension\' </li><li>Install the Agent Desktop Helper Application by <span id="{1}" class="{2}">downloading</span> and running the installer.<li>After installation is complete, refresh the browser page.</li></ul>'},mapKey:"Constants_install_installHeaderFirefox"},install_updateHeader:{getter:function(e,t){return'You are using an outdated version of the Agent Desktop Helper Application.<br>To continue using the Helper Application, it needs to be upgraded.<br><span id="{0}" class="{1}">Download it here</span>, save the file and then run it to update the application.<br><br>After the update is completed, please refresh the browser page.'},mapKey:"Constants_install_updateHeader"}},INTERACTION_SEARCH:{grid_copy:{getter:function(){return"Copy"},mapKey:"declaration_grid_copy"},grid_copied:{getter:function(){return"Copied"},mapKey:"declaration_grid_copied"},grid_columns:{getter:function(){return"Columns"},mapKey:"declaration_grid_columns"},grid_layout:{getter:function(){return"Layout"},mapKey:"declaration_grid_layout"},grid_search_columns_placeholder:{getter:function(){return"Search columns"},mapKey:"declaration_grid_search_columns_placeholder"},grid_autosize_this_column:{getter:function(){return"Autosize this column"},mapKey:"declaration_grid_autosize_this_column"},grid_autosize_all_columns:{getter:function(){return"Autosize all columns"},mapKey:"declaration_grid_autosize_all_columns"},grid_reset_columns:{getter:function(){return"Reset columns collection to default"},mapKey:"declaration_grid_reset_columns"},search_panel_more_button:{getter:function(){return"More"},mapKey:"declaration_search_panel_more_button"},search_panel_search_input_placeholder:{getter:function(){return"Enter Global Interaction ID or a search text string"},mapKey:"declaration_search_panel_search_input_placeholder"},search_tab_title:{getter:function(){return"Search"},mapKey:"declaration_search_tab_title"},search_tab_general:{getter:function(){return"General"},mapKey:"declaration_search_tab_general"},search_result_col_media_type:{getter:function(){return"Media Type"},mapKey:"declaration_search_result_col_media_type"},search_result_col_data_state:{getter:function(){return"Recordings"},mapKey:"declaration_search_result_col_data_state"},search_result_col_start_time:{getter:function(){return"Start Time"},mapKey:"declaration_search_result_col_start_time"},search_result_col_global_interaction_id:{getter:function(){return"Global interaction id"},mapKey:"declaration_search_result_col_global_interaction_id"},search_result_col_origination:{getter:function(){return"From"},mapKey:"declaration_search_result_col_origination"},search_result_col_destination:{getter:function(){return"To"},mapKey:"declaration_search_result_col_destination"},search_result_col_duration:{getter:function(){return"Duration"},mapKey:"declaration_search_result_col_duration"},search_result_col_talk_time:{getter:function(){return"Talk Time"},mapKey:"declaration_search_result_col_talk_time"},search_result_col_service_names:{getter:function(){return"Service"},mapKey:"declaration_search_result_col_service_names"},search_result_col_agent_names:{getter:function(){return"Agent"},mapKey:"declaration_search_result_col_agent_names"},search_result_col_number_of_segments:{getter:function(){return"Segments"},mapKey:"declaration_search_result_col_number_of_segments"},search_result_col_queue_time:{getter:function(){return"Queue Time"},mapKey:"declaration_search_result_col_queue_time"},search_result_col_ivr_time:{getter:function(){return"IVR Time"},mapKey:"declaration_search_result_col_ivr_time"},search_result_col_hold_time:{getter:function(){return"Hold Time"},mapKey:"declaration_search_result_col_hold_time"},search_result_col_number_of_holds:{getter:function(){return"Number of Holds"},mapKey:"declaration_search_result_col_number_of_holds"},search_result_col_disposition_names:{getter:function(){return"Disposition"},mapKey:"declaration_search_result_col_disposition_names"},search_result_col_flagged:{getter:function(){return"Flagged"},mapKey:"declaration_search_result_col_flagged"},search_result_col_contact_name:{getter:function(){return"Contact"},mapKey:"declaration_search_result_col_contact_name"},search_result_col_account_number:{getter:function(){return"Account"},mapKey:"declaration_search_result_col_account_number"},search_result_col_sentiment:{getter:function(){return"Sentiment"},mapKey:"declaration_search_result_col_sentiment"},search_result_col_sentiment_value:{getter:function(){return"Sentiment Value"},mapKey:"declaration_search_result_col_sentiment_value"},search_result_col_call_problem:{getter:function(){return"Call Problem"},mapKey:"declaration_search_result_col_call_problem"},search_result_col_email_subject:{getter:function(){return"Subject"},mapKey:"declaration_search_result_col_email_subject"},search_result_col_custom_1:{getter:function(){return"Custom 1"},mapKey:"declaration_search_result_col_custom_1"},search_result_col_custom_2:{getter:function(){return"Custom 2"},mapKey:"declaration_search_result_col_custom_2"},search_result_col_custom_3:{getter:function(){return"Custom 3"},mapKey:"declaration_search_result_col_custom_3"},search_result_col_custom_4:{getter:function(){return"Custom 4"},mapKey:"declaration_search_result_col_custom_4"},search_result_col_custom_5:{getter:function(){return"Custom 5"},mapKey:"declaration_search_result_col_custom_5"},search_result_col_cobrowsing:{getter:function(){return"Co-browsing"},mapKey:"declaration_search_result_col_cobrowsing"},searchable_list_panel_no_results:{getter:function(){return"No results found."},mapKey:"declaration_searchable_list_panel_no_results"},searchable_list_panel_no_options:{getter:function(){return"No options available."},mapKey:"declaration_searchable_list_panel_no_options"},filter_panel_any_placeholder:{getter:function(){return"Any"},mapKey:"declaration_filter_panel_any_placeholder"},filter_panel_agents:{getter:function(){return"Agents"},mapKey:"declaration_filter_panel_agents"},filter_panel_teams:{getter:function(){return"Teams"},mapKey:"declaration_filter_panel_teams"},filter_panel_search_agents_placeholder:{getter:function(){return"Search agents"},mapKey:"declaration_filter_panel_search_agents_placeholder"},filter_panel_search_teams_placeholder:{getter:function(){return"Search teams"},mapKey:"declaration_filter_panel_search_teams_placeholder"},filter_panel_date_today:{getter:function(){return"Today"},mapKey:"declaration_filter_panel_date_today"},filter_panel_date_yesterday:{getter:function(){return"Yesterday"},mapKey:"declaration_filter_panel_date_yesterday"},filter_panel_date_last_24h:{getter:function(){return"Last 24 hours"},mapKey:"declaration_filter_panel_date_last_24h"},filter_panel_date_last_week:{getter:function(){return"Last month"},mapKey:"declaration_filter_panel_date_last_week"},filter_panel_date_last_month:{getter:function(){return"Last week"},mapKey:"declaration_filter_panel_date_last_month"},filter_panel_date_select_date:{getter:function(){return"Select date"},mapKey:"declaration_filter_panel_date_select_date"},filter_panel_date_after_date:{getter:function(){return"After date"},mapKey:"declaration_filter_panel_date_after_date"},filter_panel_date__before_date:{getter:function(){return"Before date"},mapKey:"declaration_filter_panel_date__before_date"},filter_panel_date_between_dates:{getter:function(){return"Between dates"},mapKey:"declaration_filter_panel_date_between_dates"},filter_panel_date_custom_date:{getter:function(){return"Custom date: "},mapKey:"declaration_filter_panel_date_custom_date"},filter_panel_duration_custom:{getter:function(){return"Custom: "},mapKey:"declaration_filter_panel_duration_custom"},filter_panel_exists:{getter:function(){return"Exists"},mapKey:"declaration_filter_panel_exists"},filter_panel_not_exists:{getter:function(){return"Does not exist"},mapKey:"declaration_filter_panel_not_exists"},filter_panel_yes:{getter:function(){return"Yes"},mapKey:"declaration_filter_panel_yes"},filter_panel_no:{getter:function(){return"No"},mapKey:"declaration_filter_panel_no"},filter_panel_media_all:{getter:function(){return"All Media"},mapKey:"declaration_filter_panel_media_all"},filter_panel_media_voice:{getter:function(){return"Voice"},mapKey:"declaration_filter_panel_media_voice"},filter_panel_media_chat:{getter:function(){return"Text"},mapKey:"declaration_filter_panel_media_chat"},filter_panel_media_email:{getter:function(){return"Email"},mapKey:"declaration_filter_panel_media_email"},filter_panel_clear_all_button:{getter:function(){return"Clear All"},mapKey:"declaration_filter_panel_clear_all_button"},filter_panel_disposition:{getter:function(){return"Disposition"},mapKey:"declaration_filter_panel_disposition"},filter_panel_search_dispositions_placeholder:{getter:function(){return"Search dispositions"},mapKey:"declaration_filter_panel_search_dispositions_placeholder"},filter_panel_contact_account:{getter:function(){return"Contact/Account"},mapKey:"declaration_filter_panel_contact_account"},filter_panel_voice_recording:{getter:function(){return"Recording"},mapKey:"declaration_filter_panel_voice_recording"},filter_panel_screen_recording:{getter:function(){return"Screen Recording"},mapKey:"declaration_filter_panel_screen_recording"},filter_panel_transcript:{getter:function(){return"Transcript"},mapKey:"declaration_filter_panel_transcript"},filter_panel_duration:{getter:function(){return"Duration"},mapKey:"declaration_filter_panel_duration"},filter_panel_talk_time:{getter:function(){return"Talk Time"},mapKey:"declaration_filter_panel_talk_time"},filter_panel_queue_time:{getter:function(){return"Queue Time"},mapKey:"declaration_filter_panel_queue_time"},filter_panel_scenario:{getter:function(){return"Scenario"},mapKey:"declaration_filter_panel_scenario"},filter_panel_search_scenarios_placeholder:{getter:function(){return"Search scenarios"},mapKey:"declaration_filter_panel_search_scenarios_placeholder"},filter_panel_time_period:{getter:function(){return"Time Period"},mapKey:"declaration_filter_panel_time_period"},filter_panel_phone_address:{getter:function(){return"Phone/Address"},mapKey:"declaration_filter_panel_phone_address"},filter_panel_service:{getter:function(){return"Service"},mapKey:"declaration_filter_panel_service"},filter_panel_search_services_placeholder:{getter:function(){return"Search services"},mapKey:"declaration_filter_panel_search_services_placeholder"},filter_panel_team:{getter:function(){return"Team"},mapKey:"declaration_filter_panel_team"},filter_panel_agent:{getter:function(){return"Agent"},mapKey:"declaration_filter_panel_agent"},filter_panel_show_more_filters:{getter:function(){return"Show more filters"},mapKey:"declaration_filter_panel_show_more_filters"},filter_panel_hide_extra_filters:{getter:function(){return"Hide extra filters"},mapKey:"declaration_filter_panel_hide_extra_filters"}},INTERNAL_CHAT:{chat_messages_tooltip:{getter:function(){return"Chat messages"},mapKey:"Constants_chat_messages_tooltip"},chat_erased_attachment_tooltip:{getter:function(e,t){return"Attachment was deleted on {0} by {1}"},mapKey:"Constants_chat_erased_attachment_tooltip"},chat_emptyTextArea:{getter:function(){return"type message here"},mapKey:"Constants_chat_emptyTextArea"},chat_notes_input_placeholder:{getter:function(){return"enter notes"},mapKey:"Constants_chat_notes_input_placeholder"},chat_sendMessage_tooltip:{getter:function(){return"Send the message"},mapKey:"Constants_chat_sendMessage_tooltip"},chat_sendNotes_tooltip:{getter:function(){return"Send notes"},mapKey:"Constants_chat_sendNotes_tooltip"},chat_signaling_request_phone_label:{getter:function(){return"Customer requested phone call to"},mapKey:"Constants_chat_signaling_request_phone_label"},chat_signaling_request_sms_label:{getter:function(){return"Customer requested sms to"},mapKey:"Constants_chat_signaling_request_sms_label"},chat_sendUrgentMessage_tooltip:{getter:function(){return"Send the message with urgent flag"},mapKey:"Constants_chat_sendUrgentMessage_tooltip"},chat_selectCannedResponses:{getter:function(){return"Select predefined message"},mapKey:"Constants_chat_selectCannedResponses"},chat_addAttachment_button_tooltip:{getter:function(){return"Add an attachment"},mapKey:"Constants_chat_addAttachment_button_tooltip"},chat_removedAttachment_label:{getter:function(){return"attachment"},mapKey:"Constants_chat_removedAttachment_label"},chat_cobrowsing_button_tooltip:{getter:function(){return"Request a co-browsing session"},mapKey:"Constants_chat_cobrowsing_button_tooltip"},chat_addEmoji_button_tooltip:{getter:function(){return"Insert Emoji"},mapKey:"Constants_chat_addEmoji_button_tooltip"},chat_invite:{getter:function(){return"Invite for conference or warm transfer"},mapKey:"Constants_chat_invite"},chat_remote_assist:{getter:function(){return"Start remote assistance"},mapKey:"Constants_chat_remote_assist"},chat_history_moreMessages:{getter:function(){return"More messages"},mapKey:"Constants_chat_history_moreMessages"},chat_radio_messenger_type_tooltip:{getter:function(){return"Select Messenger control"},mapKey:"Constants_chat_radio_messenger_type_tooltip"},chat_radio_notes_tooltip:{getter:function(){return"Select Notes control"},mapKey:"Constants_chat_radio_notes_tooltip"},chat_radio_disposition_tooltip:{getter:function(){return"Select Disposition control"},mapKey:"Constants_chat_radio_disposition_tooltip"},chat_history_day:{getter:function(){return"day"},mapKey:"Constants_chat_history_day"},chat_history_week:{getter:function(){return"week"},mapKey:"Constants_chat_history_week"},chat_history_month:{getter:function(){return"month"},mapKey:"Constants_chat_history_month"},chat_history_all:{getter:function(){return"all"},mapKey:"Constants_chat_history_all"},chat_history_today:{getter:function(){return"Today"},mapKey:"Constants_chat_history_today"},chat_current_session:{getter:function(){return"current session"},mapKey:"Constants_chat_current_session"},chat_message_status_delivered:{getter:function(){return"delivered"},mapKey:"Constants_chat_message_status_delivered"},chat_message_status_read:{getter:function(){return"read"},mapKey:"Constants_chat_message_status_read"},chat_message_status_sending:{getter:function(){return"sending"},mapKey:"Constants_chat_message_status_sending"},personal_chats_header:{getter:function(){return"Personal chats"},mapKey:"Constants_personal_chats_header"},group_chats_header:{getter:function(){return"#Groups"},mapKey:"Constants_group_chats_header"},group_chats_invite:{getter:function(){return"Invite"},mapKey:"Constants_group_chats_invite"},group_chats_new_title:{getter:function(){return"#New Chat Group"},mapKey:"Constants_group_chats_new_title"},group_chat_members:{getter:function(){return"Members"},mapKey:"Constants_group_chat_members"},group_chat_delete_confirmation:{getter:function(e){return'Are you sure you want to delete group chat "{0}"?'},mapKey:"Constants_group_chat_delete_confirmation"},group_chat_remove_member_icon_tooltip:{getter:function(e){return'Remove "{0}" from group chat'},mapKey:"Constants_group_chat_remove_member_icon_tooltip"},group_chat_leave_icon_tooltip:{getter:function(){return"Leave group chat"},mapKey:"Constants_group_chat_leave_icon_tooltip"},group_chat_destroy_tooltip:{getter:function(){return"Delete group chat"},mapKey:"Constants_group_chat_destroy_tooltip"},agent_chat_remove_tooltip:{getter:function(){return"Remove chat from list"},mapKey:"Constants_agent_chat_remove_tooltip"},group_chat_files:{getter:function(){return"Files"},mapKey:"Constants_group_chat_files"},group_create_tooltip:{getter:function(){return"Create New Group"},mapKey:"Constants_group_create_tooltip"},select_agent_window_header:{getter:function(){return"Select Agent for Chat"},mapKey:"Constants_select_agent_window_header"},personal_chats_add_chat_tooltip:{getter:function(){return"Select from Directory"},mapKey:"Constants_personal_chats_add_chat_tooltip"},history_search_input_placeholder:{getter:function(){return"search for"},mapKey:"Constants_history_search_input_placeholder"},voice_transfer_window_header:{getter:function(){return"Consult, Conference, Blind Transfer"},mapKey:"Constants_voice_transfer_window_header"},message_input_placeholder:{getter:function(){return"Write a message"},mapKey:"declaration_message_input_placeholder"},chat_history_no_recent_while_loading:{getter:function(e){return"No recent {0}"},mapKey:"declaration_chat_history_no_recent_while_loading"},chat_history_search_for_older:{getter:function(e){return"Search for older {0}"},mapKey:"declaration_chat_history_search_for_older"},chat_history_no_recent_found:{getter:function(e){return"No older {0} found"},mapKey:"declaration_chat_history_no_recent_found"},chat_note_input_placeholder:{getter:function(){return"Enter note"},mapKey:"declaration_chat_note_input_placeholder"}},KNOWLEDGE_BASE:{kb_tab:{getter:function(){return"Knowledge"},mapKey:"Constants_kb_tab"},kb_heading:{getter:function(){return"Knowledge Base"},mapKey:"Constants_kb_heading"},kb_search_input_placeholder:{getter:function(){return"Search knowledge base"},mapKey:"Constants_kb_search_input_placeholder"},kb_redactor_add_button:{getter:function(){return"Add"},mapKey:"Constants_kb_redactor_add_button"},kb_redactor_add_button_tooltip:{getter:function(){return"Article new article of folder"},mapKey:"Constants_kb_redactor_add_button_tooltip"},kb_redactor_addFolder_item:{getter:function(){return"Folder"},mapKey:"Constants_kb_redactor_addFolder_item"},kb_redactor_addArticle_item:{getter:function(){return"Article"},mapKey:"Constants_kb_redactor_addArticle_item"},kb_redactor_edit_button:{getter:function(){return"Edit"},mapKey:"Constants_kb_redactor_edit_button"},kb_redactor_edit_button_tooltip:{getter:function(){return"Edit selected article of folder"},mapKey:"Constants_kb_redactor_edit_button_tooltip"},kb_redactor_delete_button:{getter:function(){return"Delete"},mapKey:"Constants_kb_redactor_delete_button"},kb_redactor_delete_button_tooltip:{getter:function(){return"Delete selected article or folder"},mapKey:"Constants_kb_redactor_delete_button_tooltip"},kb_redactor_addFolder_heading:{getter:function(){return"Create Knowledge Base Folder"},mapKey:"Constants_kb_redactor_addFolder_heading"},kb_redactor_delete_heading:{getter:function(){return"Knowledge Base Item Deleting"},mapKey:"Constants_kb_redactor_delete_heading"},kb_redactor_delete_confirmation:{getter:function(){return"Are you sure you want to delete the knowledge base item?"},mapKey:"Constants_kb_redactor_delete_confirmation"},kb_redactor_addFolder_name:{getter:function(){return"Name"},mapKey:"Constants_kb_redactor_addFolder_name"},kb_redactor_parentFolder:{getter:function(){return"Parent Folder"},mapKey:"Constants_kb_redactor_parentFolder"},kb_redactor_language_label:{getter:function(){return"Language"},mapKey:"Constants_kb_redactor_language_label"},kb_redactor_title_label:{getter:function(){return"Title"},mapKey:"Constants_kb_redactor_title_label"},kb_redactor_services_label:{getter:function(){return"Services"},mapKey:"Constants_kb_redactor_services_label"},kb_redactor_services_select_button:{getter:function(){return"select"},mapKey:"Constants_kb_redactor_services_select_button"},kb_redactor_services_asDefault:{getter:function(){return"(as default)"},mapKey:"Constants_kb_redactor_services_asDefault"},kb_redactor_serviceAssign_heading:{getter:function(){return"Assign service for article"},mapKey:"Constants_kb_redactor_serviceAssign_heading"},kb_redactor_serviceAssign_service_column:{getter:function(){return"Service"},mapKey:"Constants_kb_redactor_serviceAssign_service_column"},kb_redactor_serviceAssign_default_column:{getter:function(){return"As Default"},mapKey:"Constants_kb_redactor_serviceAssign_default_column"},kb_redactor_serviceAssign_assign_column:{getter:function(){return"Assign"},mapKey:"Constants_kb_redactor_serviceAssign_assign_column"},kb_redactor_addArticle_heading:{getter:function(){return"Create Knowledge Base Article"},mapKey:"Constants_kb_redactor_addArticle_heading"},kb_redactor_selectFolderHeading:{getter:function(){return"Select Parent Folder"},mapKey:"Constants_kb_redactor_selectFolderHeading"},kb_redactor_selectFolder_emptyText:{getter:function(){return"Root Folder"},mapKey:"Constants_kb_redactor_selectFolder_emptyText"},kb_redactor_selectFolder_setRootFolder:{getter:function(){return"Select Root Folder"},mapKey:"Constants_kb_redactor_selectFolder_setRootFolder"},kb_redactor_select:{getter:function(){return"Select"},mapKey:"Constants_kb_redactor_select"},kb_reply_insert_button:{getter:function(){return"Insert"},mapKey:"Constants_kb_reply_insert_button"},kb_reply_insert_button_tooltip:{getter:function(){return"Insert article in the reply"},mapKey:"Constants_kb_reply_insert_button_tooltip"},kb_reply_use_button:{getter:function(){return"Use"},mapKey:"Constants_kb_reply_use_button"},kb_reply_use_button_tooltip:{getter:function(){return"Use article in the reply"},mapKey:"Constants_kb_reply_use_button_tooltip"},kb_tab_keywords:{getter:function(){return"Keywords"},mapKey:"Constants_kb_tab_keywords"},kb_tab_answer:{getter:function(){return"Answer"},mapKey:"Constants_kb_tab_answer"},kb_tab_usageNote:{getter:function(){return"Usage notes"},mapKey:"Constants_kb_tab_usageNote"},kb_onlyForThisService_boxLabel:{getter:function(){return"only for this service"},mapKey:"Constants_kb_onlyForThisService_boxLabel"},close_kb_prompt:{getter:function(){return"Close KB?"},mapKey:"declaration_close_kb_prompt"},close_kb:{getter:function(){return"Close KB"},mapKey:"declaration_close_kb"},sort_a_to_z:{getter:function(){return"A to Z"},mapKey:"declaration_sort_a_to_z"},sort_z_to_a:{getter:function(){return"Z to A"},mapKey:"declaration_sort_z_to_a"},copy_to_clipboard:{getter:function(){return"Copy to clipboard"},mapKey:"declaration_copy_to_clipboard"},sort_by_default_order:{getter:function(){return"Default Folders Order (as created by Admin)"},mapKey:"declaration_sort_by_default_order"},sort_by_relevance:{getter:function(){return"Relevance"},mapKey:"declaration_sort_by_relevance"},sort_dropdown_text:{getter:function(){return"SORT BY"},mapKey:"declaration_sort_dropdown_text"},insert_to_dropdown_text:{getter:function(){return"INSERT TO"},mapKey:"declaration_insert_to_dropdown_text"},insert_to_history_option_label:{getter:function(e){return"History contact: {0}"},mapKey:"declaration_insert_to_history_option_label"},insert_to_chat_option_label:{getter:function(e){return"Chat: {0}"},mapKey:"declaration_insert_to_chat_option_label"},new_tab_button_tooltip:{getter:function(){return"Full Screen"},mapKey:"declaration_full_screen_button_tooltip"},number_of_articles_in_folder:{getter:function(e){return"Articles: {0}"},mapKey:"declaration_number_of_articles_in_folder"},all_articles:{getter:function(){return"All Articles"},mapKey:"declaration_all_articles"},all_articles_number:{getter:function(e){return"All Articles: {0}"},mapKey:"declaration_all_articles_number"},label_tab_attachments:{getter:function(){return"Attachments"},mapKey:"declaration_label_tab_attachments"},kb_mode_internal_label:{getter:function(){return"Internal Knowledge Base"},mapKey:"declaration_kb_mode_internal_label"},kb_mode_crm_label:{getter:function(){return"CRM Knowledge Base"},mapKey:"declaration_kb_mode_crm_label"},kb_mode_combined_label:{getter:function(){return"Combined Knowledge Base"},mapKey:"declaration_kb_mode_combined_label"},label_show_results_only_for_server:{getter:function(e){return"Show results only for service: {0}"},mapKey:"declaration_label_show_results_only_for_server"},search_folder:{getter:function(e){return"Search {0}"},mapKey:"declaration_search_folder"},article_search_no_results_label:{getter:function(){return"No results found"},mapKey:"declaration_article_search_no_results_label"},search_results_heading:{getter:function(){return"Search Results"},mapKey:"declaration_search_results_heading"},any_lang_label:{getter:function(){return"Any Language"},mapKey:"declaration_any_lang_label"},select_lang_input_placeholder:{getter:function(){return"Select Language"},mapKey:"declaration_select_lang_input_placeholder"},button_toggle_split_pane_mode_on_tooltip:{getter:function(){return"Toggle split pane mode on"},mapKey:"declaration_button_toggle_split_pane_mode_on_tooltip"},button_toggle_split_pane_mode_off_tooltip:{getter:function(){return"Toggle split pane mode off"},mapKey:"declaration_button_toggle_split_pane_mode_off_tooltip"},recommended_articles:{getter:function(){return"Recommended Articles"},mapKey:"declaration_recommended_articles"},insert_article:{getter:function(){return"Insert the article"},mapKey:"declaration_insert_article"},copy_link_to_clipboard:{getter:function(){return"Copy shareable link to clipboard"},mapKey:"declaration_copy_link_to_clipboard"}},LICENSE:{demo_license:{getter:function(){return"Demo License"},mapKey:"Constants_demo_license"},invalid_license:{getter:function(){return"Production license is invalid"},mapKey:"Constants_invalid_license"},label_ExactEmailSeatch:{getter:function(){return"exact"},mapKey:"Constants_label_ExactEmailSeatch"}},MERGE_CALLS:{mergeCalls_heading:{getter:function(){return"Merge All Calls?"},mapKey:"Constants_mergeCalls_heading"},mergeCalls_mergeAll:{getter:function(){return"Merge all my calls into conference"},mapKey:"Constants_mergeCalls_mergeAll"}},METRIC_NAMES:{metric_static_entry_agents_ready:{getter:function(){return"Ready"},mapKey:"StaticEntryConstants_metric_static_entry_agents_ready"},metric_static_entry_agents_logged:{getter:function(){return"Logged In"},mapKey:"StaticEntryConstants_metric_static_entry_agents_logged"},metric_static_entry_in_calls_waiting:{getter:function(){return"Waiting"},mapKey:"StaticEntryConstants_metric_static_entry_in_calls_waiting"},metric_static_entry_in_max_wait_time:{getter:function(){return"Max Wait"},mapKey:"StaticEntryConstants_metric_static_entry_in_max_wait_time"},metric_static_entry_in_ewt:{getter:function(){return"EWT"},mapKey:"StaticEntryConstants_metric_static_entry_in_ewt"},metric_static_entry_service_level:{getter:function(){return"Service Level"},mapKey:"StaticEntryConstants_metric_static_entry_service_level"},agents_logged_short:{getter:function(){return"Logged In"},mapKey:"MetricsConstants_agents_logged_short"},agents_logged_long:{getter:function(){return"Logged-in agents"},mapKey:"MetricsConstants_agents_logged_long"},agents_busy_short:{getter:function(){return"Busy"},mapKey:"MetricsConstants_agents_busy_short"},agents_busy_long:{getter:function(){return"Busy agents"},mapKey:"MetricsConstants_agents_busy_long"},agents_in_wrap_up_short:{getter:function(){return"ACW Count"},mapKey:"MetricsConstants_agents_in_wrap_up_short"},agents_in_wrap_up_long:{getter:function(){return"Agents in ACW state"},mapKey:"MetricsConstants_agents_in_wrap_up_long"},agents_ready_short:{getter:function(){return"Ready"},mapKey:"MetricsConstants_agents_ready_short"},agents_ready_long:{getter:function(){return"Ready agents"},mapKey:"MetricsConstants_agents_ready_long"},agents_not_ready_short:{getter:function(){return"Not Ready"},mapKey:"MetricsConstants_agents_not_ready_short"},agents_not_ready_long:{getter:function(){return"Not Ready agents"},mapKey:"MetricsConstants_agents_not_ready_long"},agent_occupancy_short:{getter:function(){return"Occupancy"},mapKey:"MetricsConstants_agent_occupancy_short"},agent_occupancy_long:{getter:function(){return"Occupancy in campaign/service"},mapKey:"MetricsConstants_agent_occupancy_long"},agent_average_idle_time_short:{getter:function(){return"Avg Idle Time"},mapKey:"MetricsConstants_agent_average_idle_time_short"},agent_average_idle_time_long:{getter:function(){return"Average idle time"},mapKey:"MetricsConstants_agent_average_idle_time_long"},agent_preview_duration_short:{getter:function(){return"Preview Duration"},mapKey:"MetricsConstants_agent_preview_duration_short"},agent_preview_duration_long:{getter:function(){return"Time in Preview"},mapKey:"MetricsConstants_agent_preview_duration_long"},agent_average_preview_time_short:{getter:function(){return"Avg Preview Time"},mapKey:"MetricsConstants_agent_average_preview_time_short"},agent_average_preview_time_long:{getter:function(){return"Average Preview time"},mapKey:"MetricsConstants_agent_average_preview_time_long"},agent_calendar_pending_short:{getter:function(){return"CAL Reminders"},mapKey:"MetricsConstants_agent_calendar_pending_short"},agent_calendar_pending_long:{getter:function(){return"Calendar reminders"},mapKey:"MetricsConstants_agent_calendar_pending_long"},agent_calendar_overdue_short:{getter:function(){return"CAL Overdue"},mapKey:"MetricsConstants_agent_calendar_overdue_short"},agent_calendar_overdue_long:{getter:function(){return"Calendar reminders in the past"},mapKey:"MetricsConstants_agent_calendar_overdue_long"},agent_idle_time_short:{getter:function(){return"Idle Time"},mapKey:"MetricsConstants_agent_idle_time_short"},agent_idle_time_long:{getter:function(){return"Agent Idle Time"},mapKey:"MetricsConstants_agent_idle_time_long"},in_calls_received_per_day_short:{getter:function(){return"IN Received"},mapKey:"MetricsConstants_in_calls_received_per_day_short"},in_calls_received_per_day_long:{getter:function(){return"Inbound interactions received for the day"},mapKey:"MetricsConstants_in_calls_received_per_day_long"},in_transfers_received_per_day_short:{getter:function(){return"IN Transfers"},mapKey:"MetricsConstants_in_transfers_received_per_day_short"},in_transfers_received_per_day_long:{getter:function(){return"Inbound transfers received for the day"},mapKey:"MetricsConstants_in_transfers_received_per_day_long"},in_calls_in_ivr_short:{getter:function(){return"IN In IVR"},mapKey:"MetricsConstants_in_calls_in_ivr_short"},in_calls_in_ivr_long:{getter:function(){return"Inbound calls currently in IVR"},mapKey:"MetricsConstants_in_calls_in_ivr_long"},in_calls_self_serviced_per_day_short:{getter:function(){return"IN Self Serviced"},mapKey:"MetricsConstants_in_calls_self_serviced_per_day_short"},in_calls_self_serviced_per_day_long:{getter:function(){return"Inbound calls self serviced for the day"},mapKey:"MetricsConstants_in_calls_self_serviced_per_day_long"},in_calls_abandoned_in_ivr_per_day_short:{getter:function(){return"IN IVR Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_in_ivr_per_day_short"},in_calls_abandoned_in_ivr_per_day_long:{getter:function(){return"Inbound calls abandoned in IVR for the day"},mapKey:"MetricsConstants_in_calls_abandoned_in_ivr_per_day_long"},in_calls_dropped_in_ivr_per_day_short:{getter:function(){return"IN IVR Dropped"},mapKey:"MetricsConstants_in_calls_dropped_in_ivr_per_day_short"},in_calls_dropped_in_ivr_per_day_long:{getter:function(){return"Inbound calls dropped by system in IVR for the day"},mapKey:"MetricsConstants_in_calls_dropped_in_ivr_per_day_long"},in_calls_queued_per_day_short:{getter:function(){return"IN Queued"},mapKey:"MetricsConstants_in_calls_queued_per_day_short"},in_calls_queued_per_day_long:{getter:function(){return"Inbound calls queued for the day"},mapKey:"MetricsConstants_in_calls_queued_per_day_long"},in_calls_waiting_short:{getter:function(){return"IN Waiting"},mapKey:"MetricsConstants_in_calls_waiting_short"},in_calls_waiting_long:{getter:function(){return"Inbound interactions currently in queue"},mapKey:"MetricsConstants_in_calls_waiting_long"},in_calls_in_progress_short:{getter:function(){return"IN in Progress"},mapKey:"MetricsConstants_in_calls_in_progress_short"},in_calls_in_progress_long:{getter:function(){return"Inbound interactions currently in IVR, queue or on agents"},mapKey:"MetricsConstants_in_calls_in_progress_long"},in_calls_abandoned_in_queue_per_day_short:{getter:function(){return"IN Queue Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_per_day_short"},in_calls_abandoned_in_queue_per_day_long:{getter:function(){return"Inbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_per_day_long"},in_calls_abandoned_in_queue_ratio_per_day_short:{getter:function(){return"IN Queue Abandoned %"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_ratio_per_day_short"},in_calls_abandoned_in_queue_ratio_per_day_long:{getter:function(){return"Percentage of inbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_ratio_per_day_long"},in_calls_short_abandoned_in_queue_per_day_short:{getter:function(){return"IN Queue Sh-Abandoned"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_per_day_short"},in_calls_short_abandoned_in_queue_per_day_long:{getter:function(){return"Inbound calls short abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_per_day_long"},in_calls_short_abandoned_in_queue_ratio_per_day_short:{getter:function(){return"IN Queue Sh-Abandoned %"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_ratio_per_day_short"},in_calls_short_abandoned_in_queue_ratio_per_day_long:{getter:function(){return"Percentage of inbound calls short abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_ratio_per_day_long"},in_calls_dropped_in_queue_per_day_short:{getter:function(){return"IN Queue Dropped"},mapKey:"MetricsConstants_in_calls_dropped_in_queue_per_day_short"},in_calls_dropped_in_queue_per_day_long:{getter:function(){return"Inbound calls dropped by system in queue for the day"},mapKey:"MetricsConstants_in_calls_dropped_in_queue_per_day_long"},in_calls_first_time_queued_per_day:{getter:function(){return"IN Queued Unique"},mapKey:"MetricsConstants_in_calls_first_time_queued_per_day"},in_calls_first_time_queued_per_day_long:{getter:function(){return"Inbound calls first time queued for the day"},mapKey:"MetricsConstants_in_calls_first_time_queued_per_day_long"},in_calls_first_time_handled_per_day_short:{getter:function(){return"IN Handled Unique"},mapKey:"MetricsConstants_in_calls_first_time_handled_per_day_short"},in_calls_first_time_handled_per_day_long:{getter:function(){return"Unique Inbound calls handled by agents for the day"},mapKey:"MetricsConstants_in_calls_first_time_handled_per_day_long"},service_level_short:{getter:function(){return"IN Svc Level %"},mapKey:"MetricsConstants_service_level_short"},service_level_long:{getter:function(){return"Percentage of inbound interactions answered in Service Level over 20 most recent calls"},mapKey:"MetricsConstants_service_level_long"},service_level_target_short:{getter:function(){return""},mapKey:"MetricsConstants_service_level_target_short"},service_level_target_long:{getter:function(){return"Inbound Service Level target"},mapKey:"MetricsConstants_service_level_target_long"},service_level_threshold_time_short:{getter:function(){return""},mapKey:"MetricsConstants_service_level_threshold_time_short"},service_level_threshold_time_long:{getter:function(){return"Inbound Service Level threshold"},mapKey:"MetricsConstants_service_level_threshold_time_long"},service_level_per_day_short:{getter:function(){return"IN Svc Level Day %"},mapKey:"MetricsConstants_service_level_per_day_short"},service_level_per_day_long:{getter:function(){return"Percentage of inbound interactions answered in Service Level over the day"},mapKey:"MetricsConstants_service_level_per_day_long"},in_max_wait_time_short:{getter:function(){return"IN Max Wait"},mapKey:"MetricsConstants_in_max_wait_time_short"},in_max_wait_time_long:{getter:function(){return"Max inbound wait time"},mapKey:"MetricsConstants_in_max_wait_time_long"},in_calls_routed_per_day_short:{getter:function(){return"IN Routed"},mapKey:"MetricsConstants_in_calls_routed_per_day_short"},in_calls_routed_per_day_long:{getter:function(){return"Inbound calls routed to agents for the day"},mapKey:"MetricsConstants_in_calls_routed_per_day_long"},in_calls_ringing_short:{getter:function(){return"IN Ringing"},mapKey:"MetricsConstants_in_calls_ringing_short"},in_calls_ringing_long:{getter:function(){return"Inbound calls currently ringing "},mapKey:"MetricsConstants_in_calls_ringing_long"},in_calls_handled_per_day_short:{getter:function(){return"IN Handled"},mapKey:"MetricsConstants_in_calls_handled_per_day_short"},in_calls_handled_per_day_long:{getter:function(){return"Inbound interactions handled by agents for the day"},mapKey:"MetricsConstants_in_calls_handled_per_day_long"},in_calls_rejected_per_day_short:{getter:function(){return"IN Rejected"},mapKey:"MetricsConstants_in_calls_rejected_per_day_short"},in_calls_rejected_per_day_long:{getter:function(){return"Inbound calls rejected or unanswered by agents for the day"},mapKey:"MetricsConstants_in_calls_rejected_per_day_long"},in_calls_abandoned_ringing_per_day_short:{getter:function(){return"IN Ringing Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_ringing_per_day_short"},in_calls_abandoned_ringing_per_day_long:{getter:function(){return"Inbound calls abandoned while ringing for the day"},mapKey:"MetricsConstants_in_calls_abandoned_ringing_per_day_long"},in_calls_dropped_ringing_per_day_short:{getter:function(){return"IN Ringing Dropped"},mapKey:"MetricsConstants_in_calls_dropped_ringing_per_day_short"},in_calls_dropped_ringing_per_day_long:{getter:function(){return"Inbound calls dropped by system while ringing for the day"},mapKey:"MetricsConstants_in_calls_dropped_ringing_per_day_long"},in_calls_active_on_agents_short:{getter:function(){return"IN Active"},mapKey:"MetricsConstants_in_calls_active_on_agents_short"},in_calls_active_on_agents_long:{getter:function(){return"Inbound interactions currently handled by agents"},mapKey:"MetricsConstants_in_calls_active_on_agents_long"},in_calls_disconnected_talking_per_day_short:{getter:function(){return"IN Remote Disconnected"},mapKey:"MetricsConstants_in_calls_disconnected_talking_per_day_short"},in_calls_disconnected_talking_per_day_long:{getter:function(){return"Inbound calls released by callers for the day"},mapKey:"MetricsConstants_in_calls_disconnected_talking_per_day_long"},in_calls_dropped_talking_per_day_short:{getter:function(){return"IN Agent Disconnected"},mapKey:"MetricsConstants_in_calls_dropped_talking_per_day_short"},in_calls_dropped_talking_per_day_long:{getter:function(){return"Inbound calls released by agents for the day"},mapKey:"MetricsConstants_in_calls_dropped_talking_per_day_long"},in_calls_transferred_per_day_short:{getter:function(){return"IN Transferred"},mapKey:"MetricsConstants_in_calls_transferred_per_day_short"},in_calls_transferred_per_day_long:{getter:function(){return"Inbound interactions transferred/forwarded by agents for the day"},mapKey:"MetricsConstants_in_calls_transferred_per_day_long"},in_average_speed_of_answer_short:{getter:function(){return"IN ASA"},mapKey:"MetricsConstants_in_average_speed_of_answer_short"},in_average_speed_of_answer_long:{getter:function(){return"For calls, average speed of answer. For emails, average time to reply"},mapKey:"MetricsConstants_in_average_speed_of_answer_long"},in_callbacks_requested_per_day_short:{getter:function(){return"CB Requested"},mapKey:"MetricsConstants_in_callbacks_requested_per_day_short"},in_callbacks_requested_per_day_long:{getter:function(){return"Callbacks requested for the day"},mapKey:"MetricsConstants_in_callbacks_requested_per_day_long"},in_callbacks_waiting_short:{getter:function(){return"CB Waiting"},mapKey:"MetricsConstants_in_callbacks_waiting_short"},in_callbacks_waiting_long:{getter:function(){return"Callbacks currently waiting in queue"},mapKey:"MetricsConstants_in_callbacks_waiting_long"},records_total_short:{getter:function(){return"Total Records"},mapKey:"MetricsConstants_records_total_short"},records_total_long:{getter:function(){return"Total number of records in active lists"},mapKey:"MetricsConstants_records_total_long"},records_completed_short:{getter:function(){return"Total Completed"},mapKey:"MetricsConstants_records_completed_short"},records_completed_long:{getter:function(){return"Completed records in active lists"},mapKey:"MetricsConstants_records_completed_long"},records_with_assigned_agents_completed_short:{getter:function(){return"Lists P.A. Completed"},mapKey:"MetricsConstants_records_with_assigned_agents_completed_short"},records_with_assigned_agents_completed_long:{getter:function(){return"Completed records with personal agent assignments"},mapKey:"MetricsConstants_records_with_assigned_agents_completed_long"},records_remaining_short:{getter:function(){return"Remaining records in active lists"},mapKey:"MetricsConstants_records_remaining_short"},records_remaining_long:{getter:function(){return"Records Remaining"},mapKey:"MetricsConstants_records_remaining_long"},records_with_assigned_agents_remaining_short:{getter:function(){return"Lists P.A. Remaining"},mapKey:"MetricsConstants_records_with_assigned_agents_remaining_short"},records_with_assigned_agents_remaining_long:{getter:function(){return"Remaining records with personal agent assignments"},mapKey:"MetricsConstants_records_with_assigned_agents_remaining_long"},records_in_dnc_short:{getter:function(){return"Total DNC"},mapKey:"MetricsConstants_records_in_dnc_short"},records_in_dnc_long:{getter:function(){return"Number of records excluded by DNC lists from Active Lists"},mapKey:"MetricsConstants_records_in_dnc_long"},records_attempted_per_day_short:{getter:function(){return"Attempted"},mapKey:"MetricsConstants_records_attempted_per_day_short"},records_attempted_per_day_long:{getter:function(){return"Records attempted for the day"},mapKey:"MetricsConstants_records_attempted_per_day_long"},records_attempted_ratio_per_day_short:{getter:function(){return"Attempted %"},mapKey:"MetricsConstants_records_attempted_ratio_per_day_short"},records_attempted_ratio_per_day_long:{getter:function(){return"Percentage of records attempted for the day"},mapKey:"MetricsConstants_records_attempted_ratio_per_day_long"},records_accepted_per_day_short:{getter:function(){return"Previewed"},mapKey:"MetricsConstants_records_accepted_per_day_short"},records_accepted_per_day_long:{getter:function(){return"Records previewed for the day"},mapKey:"MetricsConstants_records_accepted_per_day_long"},records_skipped_per_day_short:{getter:function(){return"Skipped"},mapKey:"MetricsConstants_records_skipped_per_day_short"},records_skipped_per_day_long:{getter:function(){return"Records skipped for the day"},mapKey:"MetricsConstants_records_skipped_per_day_long"},records_skipped_ratio_per_day_short:{getter:function(){return"Skipped %"},mapKey:"MetricsConstants_records_skipped_ratio_per_day_short"},records_skipped_ratio_per_day_long:{getter:function(){return"Percentage of records skipped for the day"},mapKey:"MetricsConstants_records_skipped_ratio_per_day_long"},records_completed_per_day_short:{getter:function(){return"Completed"},mapKey:"MetricsConstants_records_completed_per_day_short"},records_completed_per_day_long:{getter:function(){return"Records completed for the day"},mapKey:"MetricsConstants_records_completed_per_day_long"},records_completed_ratio_per_day_short:{getter:function(){return"Completed %"},mapKey:"MetricsConstants_records_completed_ratio_per_day_short"},records_completed_ratio_per_day_long:{getter:function(){return"Percentage of records completed for the day"},mapKey:"MetricsConstants_records_completed_ratio_per_day_long"},records_completed_ratio_short:{getter:function(){return"Total Completed %"},mapKey:"MetricsConstants_records_completed_ratio_short"},records_completed_ratio_long:{getter:function(){return"Percentage of records completed in active lists"},mapKey:"MetricsConstants_records_completed_ratio_long"},records_progress_short:{getter:function(){return"State chart"},mapKey:"MetricsConstants_records_progress_short"},records_progress_long:{getter:function(){return"Records state chart"},mapKey:"MetricsConstants_records_progress_long"},records_dialable_short:{getter:function(){return"Dialable"},mapKey:"MetricsConstants_records_dialable_short"},records_dialable_long:{getter:function(){return"Records Dialable Right Now"},mapKey:"MetricsConstants_records_dialable_long"},records_expired_short:{getter:function(){return"Expired"},mapKey:"MetricsConstants_records_expired_short"},records_expired_long:{getter:function(){return"Records Expired"},mapKey:"MetricsConstants_records_expired_long"},records_out_of_quota_short:{getter:function(){return"Out of Quota"},mapKey:"MetricsConstants_records_out_of_quota_short"},records_out_of_quota_long:{getter:function(){return"Number of records in quota groups that reached quota limits"},mapKey:"MetricsConstants_records_out_of_quota_long"},records_quota_remaining:{getter:function(){return"Remaining"},mapKey:"MetricsConstants_records_quota_remaining"},records_quota_completed:{getter:function(){return"Completed"},mapKey:"MetricsConstants_records_quota_completed"},records_successes_short:{getter:function(){return"Successes"},mapKey:"MetricsConstants_records_successes_short"},records_successes_long:{getter:function(){return"Number of records with a success disposition"},mapKey:"MetricsConstants_records_successes_long"},records_quota_short:{getter:function(){return"Quota"},mapKey:"MetricsConstants_records_quota_short"},records_quota_long:{getter:function(){return"Quota of successes for the calling list quota group"},mapKey:"MetricsConstants_records_quota_long"},out_campaign_mode_short:{getter:function(){return"Mode"},mapKey:"MetricsConstants_out_campaign_mode_short"},out_campaign_mode_long:{getter:function(){return"Campaign mode"},mapKey:"MetricsConstants_out_campaign_mode_long"},out_campaign_duration_forecast_short:{getter:function(){return"Estd Duration"},mapKey:"MetricsConstants_out_campaign_duration_forecast_short"},out_campaign_duration_forecast_long:{getter:function(){return"Estimated campaign duration"},mapKey:"MetricsConstants_out_campaign_duration_forecast_long"},out_average_success_rate_short:{getter:function(){return"ASR %"},mapKey:"MetricsConstants_out_average_success_rate_short"},out_average_success_rate_long:{getter:function(){return"Average Success Rate - percentage of successful call attempts"},mapKey:"MetricsConstants_out_average_success_rate_long"},out_calls_current_call_rate_short:{getter:function(){return"OUT Call Rate"},mapKey:"MetricsConstants_out_calls_current_call_rate_short"},out_calls_current_call_rate_long:{getter:function(){return"Outbound current calling rate"},mapKey:"MetricsConstants_out_calls_current_call_rate_long"},out_calls_placed_per_day_short:{getter:function(){return"OUT Dialed"},mapKey:"MetricsConstants_out_calls_placed_per_day_short"},out_calls_placed_per_day_long:{getter:function(){return"Outbound call attempts for the day"},mapKey:"MetricsConstants_out_calls_placed_per_day_long"},out_calls_in_progress_short:{getter:function(){return"OUT In Progress"},mapKey:"MetricsConstants_out_calls_in_progress_short"},out_calls_in_progress_long:{getter:function(){return"Outbound call attempts currently in progress"},mapKey:"MetricsConstants_out_calls_in_progress_long"},out_calls_failed_per_day_short:{getter:function(){return"OUT Failed"},mapKey:"MetricsConstants_out_calls_failed_per_day_short"},out_calls_failed_per_day_long:{getter:function(){return"Outbound calls attempts failed fo the day"},mapKey:"MetricsConstants_out_calls_failed_per_day_long"},out_calls_answered_per_day_short:{getter:function(){return"OUT Answered"},mapKey:"MetricsConstants_out_calls_answered_per_day_short"},out_calls_answered_per_day_long:{getter:function(){return"Outbound successful calls attempts for the day"},mapKey:"MetricsConstants_out_calls_answered_per_day_long"},out_calls_answered_ratio_per_day_short:{getter:function(){return"OUT Answered %"},mapKey:"MetricsConstants_out_calls_answered_ratio_per_day_short"},out_calls_answered_ratio_per_day_long:{getter:function(){return"Percentage of outbound successful call attempts for the day"},mapKey:"MetricsConstants_out_calls_answered_ratio_per_day_long"},out_calls_in_ivr_short:{getter:function(){return"OUT In IVR"},mapKey:"MetricsConstants_out_calls_in_ivr_short"},out_calls_in_ivr_long:{getter:function(){return"Outbound calls currently in IVR"},mapKey:"MetricsConstants_out_calls_in_ivr_long"},out_calls_self_serviced_per_day_short:{getter:function(){return"OUT Self Serviced"},mapKey:"MetricsConstants_out_calls_self_serviced_per_day_short"},out_calls_self_serviced_per_day_long:{getter:function(){return"Outbound calls self serviced for the day"},mapKey:"MetricsConstants_out_calls_self_serviced_per_day_long"},out_calls_abandoned_in_ivr_per_day_short:{getter:function(){return"OUT IVR Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_per_day_short"},out_calls_abandoned_in_ivr_per_day_long:{getter:function(){return"Outbound calls abandoned in IVR for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_per_day_long"},out_calls_abandoned_in_ivr_ratio_per_day_short:{getter:function(){return"OUT IVR Abandoned %"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_ratio_per_day_short"},out_calls_abandoned_in_ivr_ratio_per_day_long:{getter:function(){return"Percentage of outbound calls abandoned in IVR for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_ratio_per_day_long"},out_calls_dropped_in_ivr_per_day_short:{getter:function(){return"OUT IVR Dropped"},mapKey:"MetricsConstants_out_calls_dropped_in_ivr_per_day_short"},out_calls_dropped_in_ivr_per_day_long:{getter:function(){return"Outbound calls dropped in IVR for the day"},mapKey:"MetricsConstants_out_calls_dropped_in_ivr_per_day_long"},out_calls_queued_per_day_short:{getter:function(){return"OUT Queued"},mapKey:"MetricsConstants_out_calls_queued_per_day_short"},out_calls_queued_per_day_long:{getter:function(){return"Outbound calls queued for the day"},mapKey:"MetricsConstants_out_calls_queued_per_day_long"},out_calls_waiting_short:{getter:function(){return"OUT Waiting"},mapKey:"MetricsConstants_out_calls_waiting_short"},out_calls_waiting_long:{getter:function(){return"Outbound calls currently in queue"},mapKey:"MetricsConstants_out_calls_waiting_long"},out_calls_abandoned_in_queue_per_day_short:{getter:function(){return"OUT Queue Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_per_day_short"},out_calls_abandoned_in_queue_per_day_long:{getter:function(){return"Outbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_per_day_long"},out_calls_abandoned_in_queue_ratio_per_day_short:{getter:function(){return"OUT Queue Abandoned %"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_ratio_per_day_short"},out_calls_abandoned_in_queue_ratio_per_day_long:{getter:function(){return"Percentage of outbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_ratio_per_day_long"},out_calls_dropped_in_queue_per_day_short:{getter:function(){return"OUT Queue Dropped"},mapKey:"MetricsConstants_out_calls_dropped_in_queue_per_day_short"},out_calls_dropped_in_queue_per_day_long:{getter:function(){return"Outbound calls dropped in queue for the day"},mapKey:"MetricsConstants_out_calls_dropped_in_queue_per_day_long"},out_calls_routed_per_day_short:{getter:function(){return"OUT Routed"},mapKey:"MetricsConstants_out_calls_routed_per_day_short"},out_calls_routed_per_day_long:{getter:function(){return"Outbound calls routed to agents for the day"},mapKey:"MetricsConstants_out_calls_routed_per_day_long"},out_calls_ringing_short:{getter:function(){return"OUT Ringing"},mapKey:"MetricsConstants_out_calls_ringing_short"},out_calls_ringing_long:{getter:function(){return"Outbound calls delivered to agents and currently ringing"},mapKey:"MetricsConstants_out_calls_ringing_long"},out_calls_abandoned_ringing_per_day_short:{getter:function(){return"OUT Ringing Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_ringing_per_day_short"},out_calls_abandoned_ringing_per_day_long:{getter:function(){return"Outbound calls abandoned while ringing for the day"},mapKey:"MetricsConstants_out_calls_abandoned_ringing_per_day_long"},out_calls_dropped_ringing_per_day_short:{getter:function(){return"OUT Ringing Dropped"},mapKey:"MetricsConstants_out_calls_dropped_ringing_per_day_short"},out_calls_dropped_ringing_per_day_long:{getter:function(){return"Outbound calls dropped while ringing for the day"},mapKey:"MetricsConstants_out_calls_dropped_ringing_per_day_long"},out_calls_rejected_per_day_short:{getter:function(){return"OUT Rejected"},mapKey:"MetricsConstants_out_calls_rejected_per_day_short"},out_calls_rejected_per_day_long:{getter:function(){return"Outbound calls  rejected or unanswered by agents for the day"},mapKey:"MetricsConstants_out_calls_rejected_per_day_long"},out_calls_handled_per_day_short:{getter:function(){return"OUT Handled"},mapKey:"MetricsConstants_out_calls_handled_per_day_short"},out_calls_handled_per_day_long:{getter:function(){return"Outbound calls handled by agents for the day"},mapKey:"MetricsConstants_out_calls_handled_per_day_long"},out_calls_active_on_agents_short:{getter:function(){return"OUT Active"},mapKey:"MetricsConstants_out_calls_active_on_agents_short"},out_calls_active_on_agents_long:{getter:function(){return"Outbound interactions currently handled by agents"},mapKey:"MetricsConstants_out_calls_active_on_agents_long"},out_calls_disconnected_talking_per_day_short:{getter:function(){return"OUT Remote Disconnected"},mapKey:"MetricsConstants_out_calls_disconnected_talking_per_day_short"},out_calls_disconnected_talking_per_day_long:{getter:function(){return"Outbound calls released by remote party for the day"},mapKey:"MetricsConstants_out_calls_disconnected_talking_per_day_long"},out_calls_dropped_talking_per_day_short:{getter:function(){return"OUT Agent Disconnected"},mapKey:"MetricsConstants_out_calls_dropped_talking_per_day_short"},out_calls_dropped_talking_per_day_long:{getter:function(){return"Outbound calls released by agent for the day"},mapKey:"MetricsConstants_out_calls_dropped_talking_per_day_long"},out_calls_transferred_per_day_short:{getter:function(){return"OUT Transferred"},mapKey:"MetricsConstants_out_calls_transferred_per_day_short"},out_calls_transferred_per_day_long:{getter:function(){return"Outbound calls transferred by agents for the day"},mapKey:"MetricsConstants_out_calls_transferred_per_day_long"},out_calls_abandoned_per_day_short:{getter:function(){return"OUT Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_per_day_short"},out_calls_abandoned_per_day_long:{getter:function(){return"Outbound calls abandoned at any stage for the day"},mapKey:"MetricsConstants_out_calls_abandoned_per_day_long"},out_calls_abandoned_ratio_per_day_short:{getter:function(){return"OUT Abandoned %"},mapKey:"MetricsConstants_out_calls_abandoned_ratio_per_day_short"},out_calls_abandoned_ratio_per_day_long:{getter:function(){return"Percentage of outbound calls abandoned at any stage for the day"},mapKey:"MetricsConstants_out_calls_abandoned_ratio_per_day_long"},out_calls_unattended_per_day_short:{getter:function(){return"OUT Unattended"},mapKey:"MetricsConstants_out_calls_unattended_per_day_short"},out_calls_unattended_per_day_long:{getter:function(){return"Outbound answered calls for the day that did not connect to agent in compliance time"},mapKey:"MetricsConstants_out_calls_unattended_per_day_long"},out_calls_unattended_ratio_per_day_short:{getter:function(){return"OUT Unattended %"},mapKey:"MetricsConstants_out_calls_unattended_ratio_per_day_short"},out_calls_unattended_ratio_per_day_long:{getter:function(){return"Percentage of outbound answered calls for the day that did not connect to agent in compliance time"},mapKey:"MetricsConstants_out_calls_unattended_ratio_per_day_long"},state_duration_short:{getter:function(){return"Time in State"},mapKey:"MetricsConstants_state_duration_short"},state_duration_long:{getter:function(){return"User time in current state"},mapKey:"MetricsConstants_state_duration_long"},priority_short:{getter:function(){return"Order"},mapKey:"MetricsConstants_priority_short"},priority_long:{getter:function(){return"List order"},mapKey:"MetricsConstants_priority_long"},ratio_short:{getter:function(){return"Ratio"},mapKey:"MetricsConstants_ratio_short"},ratio_long:{getter:function(){return"List ratio"},mapKey:"MetricsConstants_ratio_long"},outbound_campaign_link_group_short:{getter:function(){return"Group"},mapKey:"MetricsConstants_outbound_campaign_link_group_short"},outbound_campaign_link_group_long:{getter:function(){return"Campaign Link Group"},mapKey:"MetricsConstants_outbound_campaign_link_group_long"},active_item_talk_duration_short:{getter:function(){return"Talk"},mapKey:"MetricsConstants_active_item_talk_duration_short"},active_item_talk_duration_long:{getter:function(){return"Current item talk time"},mapKey:"MetricsConstants_active_item_talk_duration_long"},active_item_hold_duration_short:{getter:function(){return"Hold"},mapKey:"MetricsConstants_active_item_hold_duration_short"},active_item_hold_duration_long:{getter:function(){return"Current item hold time"},mapKey:"MetricsConstants_active_item_hold_duration_long"},active_item_qm_is_recording_short:{getter:function(){return"Rec"},mapKey:"MetricsConstants_active_item_qm_is_recording_short"},active_item_qm_is_recording_long:{getter:function(){return"Item recording indicator"},mapKey:"MetricsConstants_active_item_qm_is_recording_long"},active_item_service_name_short:{getter:function(){return"Service"},mapKey:"MetricsConstants_active_item_service_name_short"},active_item_service_name_long:{getter:function(){return"Current item service name"},mapKey:"MetricsConstants_active_item_service_name_long"},active_item_party_name_short:{getter:function(){return"Interaction"},mapKey:"MetricsConstants_active_item_party_name_short"},active_item_party_name_long:{getter:function(){return"Current item customer name as received from the network"},mapKey:"MetricsConstants_active_item_party_name_long"},ready_agents_chat_short:{getter:function(){return"Ready (chat)"},mapKey:"MetricsConstants_ready_agents_chat_short"},ready_agents_chat_long:{getter:function(){return"Number of ready agents and chat slots"},mapKey:"MetricsConstants_ready_agents_chat_long"},agents_busy_on_service_short:{getter:function(){return"Busy Svc"},mapKey:"MetricsConstants_agents_busy_on_service_short"},agents_busy_on_service_long:{getter:function(){return"Agents busy with interactions of this service"},mapKey:"MetricsConstants_agents_busy_on_service_long"},agent_current_number_interactions_long:{getter:function(){return"Number of interactions on agent"},mapKey:"MetricsConstants_agent_current_number_interactions_long"},agent_current_number_interactions_short:{getter:function(){return"Active"},mapKey:"MetricsConstants_agent_current_number_interactions_short"},personal_success_ratio_per_day_short:{getter:function(){return"SR"},mapKey:"MetricsConstants_personal_success_ratio_per_day_short"},personal_success_ratio_per_day_long:{getter:function(){return"My Success Rate"},mapKey:"MetricsConstants_personal_success_ratio_per_day_long"},team_success_ratio_per_day_short:{getter:function(){return"TR"},mapKey:"MetricsConstants_team_success_ratio_per_day_short"},team_success_ratio_per_day_long:{getter:function(){return"My Team Success Rate"},mapKey:"MetricsConstants_team_success_ratio_per_day_long"},agent_call_handling_rate_short:{getter:function(){return"HR"},mapKey:"MetricsConstants_agent_call_handling_rate_short"},agent_call_handling_rate_long:{getter:function(){return"Call handling rate per hour"},mapKey:"MetricsConstants_agent_call_handling_rate_long"},in_email_carried_over_short:{getter:function(){return"IN Carried Over"},mapKey:"MetricsConstants_in_email_carried_over_short"},in_email_carried_over_long:{getter:function(){return"Inbound emails that arrived at any time before the reset time and remained unprocessed at the reset time (includes both new emails and emails related to existing cases)"},mapKey:"MetricsConstants_in_email_carried_over_long"},in_email_carried_over_new_short:{getter:function(){return"IN Carried Over New"},mapKey:"MetricsConstants_in_email_carried_over_new_short"},in_email_carried_over_new_long:{getter:function(){return"Inbound emails that arrived at any time before the reset time and remained unprocessed at the reset time (new cases only)"},mapKey:"MetricsConstants_in_email_carried_over_new_long"},in_email_offered_per_day_short:{getter:function(){return"IN Offered"},mapKey:"MetricsConstants_in_email_offered_per_day_short"},in_email_offered_per_day_long:{getter:function(){return"Inbound emails offered to agent for the day"},mapKey:"MetricsConstants_in_email_offered_per_day_long"},in_email_received_new_per_day_short:{getter:function(){return"IN Received New"},mapKey:"MetricsConstants_in_email_received_new_per_day_short"},in_email_received_new_per_day_long:{getter:function(){return"Inbound interactions received for the day for new cases"},mapKey:"MetricsConstants_in_email_received_new_per_day_long"},in_email_pulled_per_day_short:{getter:function(){return"IN Pulled"},mapKey:"MetricsConstants_in_email_pulled_per_day_short"},in_email_pulled_per_day_long:{getter:function(){return"Inbound emails pulled by agent for the day"},mapKey:"MetricsConstants_in_email_pulled_per_day_long"},in_email_processed_replied_per_day_short:{getter:function(){return"IN Replied"},mapKey:"MetricsConstants_in_email_processed_replied_per_day_short"},in_email_processed_replied_per_day_long:{getter:function(){return"Inbound emails replied for the day"},mapKey:"MetricsConstants_in_email_processed_replied_per_day_long"},in_email_processed_noreply_per_day_short:{getter:function(){return"IN Closed"},mapKey:"MetricsConstants_in_email_processed_noreply_per_day_short"},in_email_processed_noreply_per_day_long:{getter:function(){return"Inbound emails closed without reply for the day"},mapKey:"MetricsConstants_in_email_processed_noreply_per_day_long"},in_email_waiting_in_personal_queues_short:{getter:function(){return"IN Desktop"},mapKey:"MetricsConstants_in_email_waiting_in_personal_queues_short"},in_email_waiting_in_personal_queues_long:{getter:function(){return"Inbound emails currently on agents, saved in personal queues"},mapKey:"MetricsConstants_in_email_waiting_in_personal_queues_long"},in_email_waiting_in_pq_breached_sla_short:{getter:function(){return"IN Breached SLA"},mapKey:"MetricsConstants_in_email_waiting_in_pq_breached_sla_short"},in_email_waiting_in_pq_breached_sla_long:{getter:function(){return"Inbound emails currently on agents, saved in personal queues, waiting in excess of SLA time"},mapKey:"MetricsConstants_in_email_waiting_in_pq_breached_sla_long"},in_email_handled_new_per_day_short:{getter:function(){return"IN Handled New"},mapKey:"MetricsConstants_in_email_handled_new_per_day_short"},in_email_handled_new_per_day_long:{getter:function(){return"Number of new inbound emails handled by agents for the day"},mapKey:"MetricsConstants_in_email_handled_new_per_day_long"},in_email_spam_short:{getter:function(){return"IN Spam"},mapKey:"MetricsConstants_in_email_spam_short"},in_email_spam_long:{getter:function(){return"Number of interactions re-categorized as spam by agents"},mapKey:"MetricsConstants_in_email_spam_long"},in_email_trash_short:{getter:function(){return"IN Trash"},mapKey:"MetricsConstants_in_email_trash_short"},in_email_trash_long:{getter:function(){return"Number of interactions re-categorized as trash by agents"},mapKey:"MetricsConstants_in_email_trash_long"},in_email_rejected_per_day_short:{getter:function(){return"IN Ignored"},mapKey:"MetricsConstants_in_email_rejected_per_day_short"},in_email_rejected_per_day_long:{getter:function(){return"Inbound emails unanswered for the day"},mapKey:"MetricsConstants_in_email_rejected_per_day_long"},in_emails_joined_existing_cases_short:{getter:function(){return"IN Joined"},mapKey:"MetricsConstants_in_emails_joined_existing_cases_short"},in_emails_joined_existing_cases_long:{getter:function(){return"number of inbound emails joined to already existing case, per day"},mapKey:"MetricsConstants_in_emails_joined_existing_cases_long"},in_service_changed_per_day_short:{getter:function(){return"IN Svc Changed"},mapKey:"MetricsConstants_in_service_changed_per_day_short"},in_service_changed_per_day_long:{getter:function(){return"Number of interactions  re-categorized to a different service by agents"},mapKey:"MetricsConstants_in_service_changed_per_day_long"},in_service_change_received_per_day_short:{getter:function(){return"IN Svc Change Received"},mapKey:"MetricsConstants_in_service_change_received_per_day_short"},in_service_change_received_per_day_long:{getter:function(){return"Number of interactions re-categorized from a different service by agents"},mapKey:"MetricsConstants_in_service_change_received_per_day_long"},wrap_up_time_short:{getter:function(){return"Wrap Up Time"},mapKey:"MetricsConstants_wrap_up_time_short"},wrap_up_time_long:{getter:function(){return"Wrap Up Time"},mapKey:"MetricsConstants_wrap_up_time_long"},ready_state_short:{getter:function(){return"Ready"},mapKey:"MetricsConstants_ready_state_short"},ready_state_long:{getter:function(){return"Ready"},mapKey:"MetricsConstants_ready_state_long"},out_email_waiting_in_personal_queues_short:{getter:function(){return"OUT Desktop"},mapKey:"MetricsConstants_out_email_waiting_in_personal_queues_short"},out_email_waiting_in_personal_queues_long:{getter:function(){return"Outbound emails currently on agents, saved in personal queues"},mapKey:"MetricsConstants_out_email_waiting_in_personal_queues_long"},in_calls_abandoned_total_per_day_short:{getter:function(){return"IN Total Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_total_per_day_short"},in_calls_abandoned_total_per_day_long:{getter:function(){return"Inbound calls abandoned for the day"},mapKey:"MetricsConstants_in_calls_abandoned_total_per_day_long"},in_calls_abandoned_percent_per_day_short:{getter:function(){return"IN Total Abandoned %"},mapKey:"MetricsConstants_in_calls_abandoned_percent_per_day_short"},in_calls_abandoned_percent_per_day_long:{getter:function(){return"Percentage of inbound calls abandoned for the day"},mapKey:"MetricsConstants_in_calls_abandoned_percent_per_day_long"},in_calls_handled_percent_per_day_short:{getter:function(){return"IN Handled %"},mapKey:"MetricsConstants_in_calls_handled_percent_per_day_short"},in_calls_handled_percent_per_day_long:{getter:function(){return"Percentage of inbound calls handled for the day"},mapKey:"MetricsConstants_in_calls_handled_percent_per_day_long"},in_calls_duration_average_per_day_short:{getter:function(){return"IN Avg Talk Time"},mapKey:"MetricsConstants_in_calls_duration_average_per_day_short"},in_calls_duration_average_per_day_long:{getter:function(){return"Inbound calls duration average for the day"},mapKey:"MetricsConstants_in_calls_duration_average_per_day_long"},in_calls_duration_total_per_day_short:{getter:function(){return"IN Total Talk Time"},mapKey:"MetricsConstants_in_calls_duration_total_per_day_short"},in_calls_duration_total_per_day_long:{getter:function(){return"Inbound calls duration total for the day"},mapKey:"MetricsConstants_in_calls_duration_total_per_day_long"},in_calls_put_on_hold_per_day_short:{getter:function(){return"IN on Hold"},mapKey:"MetricsConstants_in_calls_put_on_hold_per_day_short"},in_calls_put_on_hold_per_day_long:{getter:function(){return"Inbound interactions being on hold by agent(s) for the day"},mapKey:"MetricsConstants_in_calls_put_on_hold_per_day_long"},in_calls_first_time_put_on_hold_per_day_short:{getter:function(){return"IN on Hold Unique"},mapKey:"MetricsConstants_in_calls_first_time_put_on_hold_per_day_short"},in_calls_first_time_put_on_hold_per_day_long:{getter:function(){return"Unique inbound interactions being on hold by agent(s) for the day"},mapKey:"MetricsConstants_in_calls_first_time_put_on_hold_per_day_long"},in_ewt_short:{getter:function(){return"IN EWT"},mapKey:"MetricsConstants_in_ewt_short"},in_ewt_long:{getter:function(){return"Estimated wait time"},mapKey:"MetricsConstants_in_ewt_long"},out_calls_duration_average_per_day_short:{getter:function(){return"OUT Avg Talk Time"},mapKey:"MetricsConstants_out_calls_duration_average_per_day_short"},out_calls_duration_average_per_day_long:{getter:function(){return"Outbound calls duration average for the day"},mapKey:"MetricsConstants_out_calls_duration_average_per_day_long"},out_calls_duration_total_per_day_short:{getter:function(){return"OUT Total Talk Time"},mapKey:"MetricsConstants_out_calls_duration_total_per_day_short"},out_calls_duration_total_per_day_long:{getter:function(){return"Outbound calls duration total for the day"},mapKey:"MetricsConstants_out_calls_duration_total_per_day_long"},state_text_short:{getter:function(){return"Agent State"},mapKey:"MetricsConstants_state_text_short"},state_text_long:{getter:function(){return"Current agent state"},mapKey:"MetricsConstants_state_text_long"},login_time_short:{getter:function(){return"Agent Login time"},mapKey:"MetricsConstants_login_time_short"},login_time_long:{getter:function(){return"Agent Login time"},mapKey:"MetricsConstants_login_time_long"},calls_average_handling_time_per_day_short:{getter:function(){return"IN Avg Handle Time"},mapKey:"MetricsConstants_calls_average_handling_time_per_day_short"},calls_average_handling_time_per_day_long:{getter:function(){return"Average Handle time"},mapKey:"MetricsConstants_calls_average_handling_time_per_day_long"},calls_average_acw_time_per_day_short:{getter:function(){return"Avg ACW Time"},mapKey:"MetricsConstants_calls_average_acw_time_per_day_short"},calls_average_acw_time_per_day_long:{getter:function(){return"Average ACW Time"},mapKey:"MetricsConstants_calls_average_acw_time_per_day_long"},agent_fcr_short:{getter:function(){return"FCR"},mapKey:"MetricsConstants_agent_fcr_short"},agent_fcr_long:{getter:function(){return"First Call Resolution"},mapKey:"MetricsConstants_agent_fcr_long"},agent_nps_short:{getter:function(){return"NPS"},mapKey:"MetricsConstants_agent_nps_short"},agent_nps_long:{getter:function(){return"Net Promoter Score"},mapKey:"MetricsConstants_agent_nps_long"},agent_csat_short:{getter:function(){return"CSAT"},mapKey:"MetricsConstants_agent_csat_short"},agent_csat_long:{getter:function(){return"Customer Satisfaction"},mapKey:"MetricsConstants_agent_csat_long"},agent_cm1_short:{getter:function(){return"Survey 1"},mapKey:"MetricsConstants_agent_cm1_short"},agent_cm1_long:{getter:function(){return"Custom Survey Metric 1"},mapKey:"MetricsConstants_agent_cm1_long"},agent_cm2_short:{getter:function(){return"Survey 2"},mapKey:"MetricsConstants_agent_cm2_short"},agent_cm2_long:{getter:function(){return"Custom Survey Metric 2"},mapKey:"MetricsConstants_agent_cm2_long"},active_item_sentiment_short:{getter:function(){return"Sentiment"},mapKey:"MetricsConstants_active_item_sentiment_short"},active_item_sentiment_long:{getter:function(){return"Sentiment"},mapKey:"MetricsConstants_active_item_sentiment_long"},agent_total_break_time_short:{getter:function(){return"BT"},mapKey:"MetricsConstants_agent_total_break_time_short"},agent_total_break_time_long:{getter:function(){return"My Break Time"},mapKey:"MetricsConstants_agent_total_break_time_long"},agent_total_busy_time_short:{getter:function(){return"Busy Time"},mapKey:"MetricsConstants_agent_total_busy_time_short"},agent_total_busy_time_long:{getter:function(){return"My Busy Time"},mapKey:"MetricsConstants_agent_total_busy_time_long"},agent_total_acw_time_short:{getter:function(){return"ACW Time"},mapKey:"MetricsConstants_agent_total_acw_time_short"},agent_total_acw_time_long:{getter:function(){return"My ACW Time"},mapKey:"MetricsConstants_agent_total_acw_time_long"},agent_total_ready_time_short:{getter:function(){return"Ready Time"},mapKey:"MetricsConstants_agent_total_ready_time_short"},agent_total_ready_time_long:{getter:function(){return"My Ready Time"},mapKey:"MetricsConstants_agent_total_ready_time_long"},in_calls_first_time_queued_per_day_short:{getter:function(){return"IN Queued Unique"},mapKey:"declaration_in_calls_first_time_queued_per_day_short"}},MONITORING_AGENTS_COLUMN_NAMES:{monitoring_column_name:{getter:function(){return"Name"},mapKey:"Constants_monitoring_column_name"},monitoring_column_group:{getter:function(){return"Group"},mapKey:"Constants_monitoring_column_group"},monitoring_column_total:{getter:function(){return"Total"},mapKey:"Constants_monitoring_column_total"},monitoring_recording_value_no:{getter:function(){return"no"},mapKey:"Constants_monitoring_recording_value_no"},monitoring_recording_value_yes:{getter:function(){return"yes"},mapKey:"Constants_monitoring_recording_value_yes"}},MONITORING_CONFIRMATIONS:{agentForceLogout_confirm_heading:{getter:function(){return"Warning"},mapKey:"Constants_agentForceLogout_confirm_heading"},agentForceLogout_confirm_msg:{getter:function(){return"Do you really want to force agent logout?"},mapKey:"Constants_agentForceLogout_confirm_msg"},forceLogoutIsNotPossible:{getter:function(){return"Agent has an active call, you can not forcefully log him out now."},mapKey:"Constants_forceLogoutIsNotPossible"},forceReadyIsNotPossible:{getter:function(){return"Agent has an active call, you can not force him to ready state now."},mapKey:"Constants_forceReadyIsNotPossible"},agentForceLogout_title:{getter:function(){return"Force agent logout"},mapKey:"Constants_agentForceLogout_title"},agentForceReady_confirm_heading:{getter:function(){return"Warning"},mapKey:"Constants_agentForceReady_confirm_heading"},agentForceReady_confirm_msg:{getter:function(){return"Do you really want to force agent ready?"},mapKey:"Constants_agentForceReady_confirm_msg"},agentForceReady_title:{getter:function(){return"Force agent into Ready"},mapKey:"Constants_agentForceReady_title"},agentForceButton_tooltip:{getter:function(){return"Force agent..."},mapKey:"Constants_agentForceButton_tooltip"}},MONITORING_LABEL:{supervision_teams:{getter:function(){return"Real Time Metrics"},mapKey:"Constants_supervision_teams"},supervision_dashboard:{getter:function(){return"Services Dashboard"},mapKey:"Constants_supervision_dashboard"},supervision_dashboard_service:{getter:function(){return"Service"},mapKey:"Constants_supervision_dashboard_service"},supervision_dashboard_day:{getter:function(){return"Date"},mapKey:"Constants_supervision_dashboard_day"},supervision_dashboard_day_error:{getter:function(){return"Invalid date"},mapKey:"Constants_supervision_dashboard_day_error"},supervision_dashboard_agents_axis:{getter:function(){return"Agents"},mapKey:"Constants_supervision_dashboard_agents_axis"},supervision_dashboard_sl_axis:{getter:function(){return"Service Level(%)"},mapKey:"Constants_supervision_dashboard_sl_axis"},supervision_dashboard_required_title:{getter:function(){return"Required No.of Agents"},mapKey:"Constants_supervision_dashboard_required_title"},supervision_dashboard_actual_title:{getter:function(){return"Actual No.of Agents with skill"},mapKey:"Constants_supervision_dashboard_actual_title"},supervision_dashboard_calls_title:{getter:function(){return"No.of Calls"},mapKey:"Constants_supervision_dashboard_calls_title"},supervision_dashboard_sl_title:{getter:function(){return"Service Level"},mapKey:"Constants_supervision_dashboard_sl_title"},supervision_dashboard_calls_axis:{getter:function(){return"Calls"},mapKey:"Constants_supervision_dashboard_calls_axis"},monitoring_label_services:{getter:function(e){return"{0} Services"},mapKey:"Constants_monitoring_label_services"},monitoring_label_agents:{getter:function(e){return"{0} Agents"},mapKey:"Constants_monitoring_label_agents"},monitoring_label_noActiveCalls:{getter:function(){return"No active calls"},mapKey:"Constants_monitoring_label_noActiveCalls"},monitoring_label_skillsHeader:{getter:function(e){return"{0}: Skills"},mapKey:"Constants_monitoring_label_skillsHeader"},monitoring_withLoggedOutAgents_checkbox_label:{getter:function(){return"logged-out users"},mapKey:"Constants_monitoring_withLoggedOutAgents_checkbox_label"},monitoring_subTeam_checkbox_label:{getter:function(){return"my subteam only"},mapKey:"Constants_monitoring_subTeam_checkbox_label"},monitoring_subTeam_editMode_label:{getter:function(){return"Select agents then"},mapKey:"Constants_monitoring_subTeam_editMode_label"}},MONITORING_SERVICES_COLUMN_NAMES:{services_column_name:{getter:function(){return"Name"},mapKey:"Constants_services_column_name"}},MONITORING_TABLES_CONFIG:{addMetricsMenuItem:{getter:function(){return"Add metrics..."},mapKey:"Constants_addMetricsMenuItem"},hideMetricMenuItem:{getter:function(){return"Hide metric"},mapKey:"Constants_hideMetricMenuItem"},restoreDefaultView:{getter:function(){return"Restore default view"},mapKey:"Constants_restoreDefaultView"},setViewAsDefault:{getter:function(){return"Set view as default system-wide"},mapKey:"Constants_setViewAsDefault"},hideAllMetricsMenuItem:{getter:function(){return"Hide all metrics"},mapKey:"Constants_hideAllMetricsMenuItem"},addServicesMenuItem:{getter:function(){return"Add services..."},mapKey:"Constants_addServicesMenuItem"},hideServiceMenuItem:{getter:function(){return"Hide service"},mapKey:"Constants_hideServiceMenuItem"},chooseMetrics_heading:{getter:function(){return"Select Metrics to Display"},mapKey:"Constants_chooseMetrics_heading"},chooseServices_heading:{getter:function(){return"Select Services/Campaigns to Display"},mapKey:"Constants_chooseServices_heading"}},MONITORING_TEAMS_COLUMN_NAMES:{teams_column_name:{getter:function(){return"Name"},mapKey:"declaration_teams_column_name"}},MS_TEAMS_CHAT:{unsupported_code_snippet_card:{getter:function(){return"Unsupported Code Snippet Card"},mapKey:"declaration_unsupported_code_snippet_card"},unsupported_thumbnail_card:{getter:function(){return"Unsupported thumbnail card"},mapKey:"declaration_unsupported_thumbnail_card"},unsupported_hero_card:{getter:function(){return"Unsupported hero card"},mapKey:"declaration_unsupported_hero_card"},unsupported_office_365_connector_card:{getter:function(){return'Unsupported Office 365 Connector Card"'},mapKey:"declaration_unsupported_office_365_connector_card"}},MULTIPLE_BLIND_TRANSFER_DIALOG_BOX:{blindTransfer_heading:{getter:function(){return"Blind Transfer of?"},mapKey:"Constants_blindTransfer_heading"}},MULTIPLE_COMPLETE_TRANSFER_DIALOG_BOX:{completeTransfer_heading:{getter:function(){return"Complete Transfer of?"},mapKey:"Constants_completeTransfer_heading"}},PLAY_CANNED_PROMPTS_DIALOG_BOX:{play_prompt_heading:{getter:function(){return"Play Message"},mapKey:"Constants_play_prompt_heading"},play_prompt_playButton_tooltip:{getter:function(){return"Play message"},mapKey:"Constants_play_prompt_playButton_tooltip"},play_prompt_selector_tooltip:{getter:function(){return"Message selector"},mapKey:"Constants_play_prompt_selector_tooltip"},play_prompt_stopPlayButton_tooltip:{getter:function(){return"Stop playing message"},mapKey:"Constants_play_prompt_stopPlayButton_tooltip"},play_prompt_playCloseButton_tooltip:{getter:function(){return"Play selected message and close dialog"},mapKey:"Constants_play_prompt_playCloseButton_tooltip"},play_prompt_editPersonalPrompts:{getter:function(){return"edit pre-recorded messages"},mapKey:"Constants_play_prompt_editPersonalPrompts"},play_prompt_servicePrompts:{getter:function(){return"Canned Prompts from Service"},mapKey:"Constants_play_prompt_servicePrompts"},play_prompt_personalPrompts:{getter:function(){return"Personal Pre-recorded Messages"},mapKey:"Constants_play_prompt_personalPrompts"},play_prompt_emptyList:{getter:function(){return"Empty list"},mapKey:"Constants_play_prompt_emptyList"},canned_prompts:{getter:function(){return"Canned prompts"},mapKey:"declaration_canned_prompts"},custom_prompts:{getter:function(){return"Custom prompts"},mapKey:"declaration_custom_prompts"}},RECENT:{button_show_crm_objects_text:{getter:function(){return"Show linked CRM objects"},mapKey:"declaration_button_show_crm_objects_text"},no_records_placeholder:{getter:function(){return"There are no records here yet."},mapKey:"declaration_no_records_placeholder"}},RECORD_SEARCH:{record_search_byPhone_label:{getter:function(){return"Phone number:"},mapKey:"Constants_record_search_byPhone_label"},record_search_button_text:{getter:function(){return"Search"},mapKey:"Constants_record_search_button_text"},record_search_new_button_text:{getter:function(){return"New"},mapKey:"Constants_record_search_new_button_text"},record_search_use_button_text:{getter:function(){return"Use"},mapKey:"Constants_record_search_use_button_text"}},REMOTE_ASSIST_DIALOG_BOX:{remote_assist_heading:{getter:function(){return"Remote Assist Session"},mapKey:"Constants_remote_assist_heading"},remote_assist_pin_url_mobile:{getter:function(e){return"http://RescueMobile.com/{0}"},mapKey:"Constants_remote_assist_pin_url_mobile"},remote_assist_pin_url_desktop:{getter:function(e){return"https://oty.com/?code={0}"},mapKey:"Constants_remote_assist_pin_url_desktop"},remote_assist_create_another_pin_button:{getter:function(){return"Create Another PIN"},mapKey:"Constants_remote_assist_create_another_pin_button"},remote_assist_paste_into_chat_text_mobile:{getter:function(){return"Mobile Link:"},mapKey:"Constants_remote_assist_paste_into_chat_text_mobile"},remote_assist_paste_into_chat_link_mobile:{getter:function(){return"paste into chat"},mapKey:"Constants_remote_assist_paste_into_chat_link_mobile"},remote_assist_paste_into_chat_text_desktop:{getter:function(){return"Desktop Link:"},mapKey:"Constants_remote_assist_paste_into_chat_text_desktop"},remote_assist_paste_into_chat_link_desktop:{getter:function(){return"paste into chat"},mapKey:"Constants_remote_assist_paste_into_chat_link_desktop"},remote_assist_manual_url_text:{getter:function(){return"URL for manual PIN input: "},mapKey:"Constants_remote_assist_manual_url_text"},remote_assist_manual_url_address:{getter:function(){return"oty.com"},mapKey:"Constants_remote_assist_manual_url_address"},remote_assist_error_message:{getter:function(){return"Unable to get remote assist PIN code. Please contact your administrator."},mapKey:"Constants_remote_assist_error_message"},remote_assist_error_not_logged_in_message:{getter:function(){return"Please log into LogMeIn Rescue before requesting a session PIN."},mapKey:"Constants_remote_assist_error_not_logged_in_message"}},REPLACE_SCREENPOP_DIALOG_BOX:{replaceScreenPopDialog_heading:{getter:function(){return"Warning"},mapKey:"Constants_replaceScreenPopDialog_heading"},replaceScreenPopDialog_msg:{getter:function(e){return"New ScreenPop arrives for call with {0}. Do you want to replace the old one?"},mapKey:"Constants_replaceScreenPopDialog_msg"}},RESCHEDULE:{rsc_nextCall:{getter:function(){return"Next call"},mapKey:"Constants_rsc_nextCall"},rsc_from:{getter:function(){return"from"},mapKey:"Constants_rsc_from"},rsc_to:{getter:function(){return"to"},mapKey:"Constants_rsc_to"},rsc_on:{getter:function(){return"on"},mapKey:"Constants_rsc_on"},more:{getter:function(){return"more..."},mapKey:"Constants_more"},rsc_in1hour:{getter:function(){return"In 1 hour"},mapKey:"Constants_rsc_in1hour"},rsc_in2hours:{getter:function(){return"In 2 hours"},mapKey:"Constants_rsc_in2hours"},rsc_afternoon:{getter:function(){return"Afternoon"},mapKey:"Constants_rsc_afternoon"},rsc_evening:{getter:function(){return"Evening"},mapKey:"Constants_rsc_evening"},rsc_tomorrowMorning:{getter:function(){return"Tomorrow morning"},mapKey:"Constants_rsc_tomorrowMorning"},rsc_tomorrowAfternoon:{getter:function(){return"Tomorrow afternoon"},mapKey:"Constants_rsc_tomorrowAfternoon"},rsc_tomorrowEvening:{getter:function(){return"Tomorrow evening"},mapKey:"Constants_rsc_tomorrowEvening"},rescheduleIntervalValidation_timeInThePast:{getter:function(){return"Time is in the past."},mapKey:"Constants_rescheduleIntervalValidation_timeInThePast"},rescheduleIntervalValidation_timeRequired:{getter:function(){return"Time is required."},mapKey:"Constants_rescheduleIntervalValidation_timeRequired"},rescheduleIntervalValidation_invalidInterval:{getter:function(){return"Interval is not valid."},mapKey:"Constants_rescheduleIntervalValidation_invalidInterval"},rescheduleIntervalValidation_invalidTimeFormat:{getter:function(){return"Invalid time format."},mapKey:"Constants_rescheduleIntervalValidation_invalidTimeFormat"},rescheduleIntervalValidation_invalidTime:{getter:function(){return"Reschedule time"},mapKey:"Constants_rescheduleIntervalValidation_invalidTime"},schedule_next_call_to:{getter:function(){return"Schedule next call to"},mapKey:"declaration_schedule_next_call_to"},from:{getter:function(){return"From"},mapKey:"declaration_from"},to:{getter:function(){return"To"},mapKey:"declaration_to"},time_zone:{getter:function(){return"Time Zone"},mapKey:"declaration_time_zone"},phone:{getter:function(){return"Phone"},mapKey:"declaration_phone"}},RICH_TEXT_EDITOR:{bold:{getter:function(){return"Bold"},mapKey:"RichTextEditorConstants_bold"},italic:{getter:function(){return"Italic"},mapKey:"RichTextEditorConstants_italic"},underline:{getter:function(){return"Underline"},mapKey:"RichTextEditorConstants_underline"},stroke:{getter:function(){return"Strikethrough"},mapKey:"RichTextEditorConstants_stroke"},alignLeft:{getter:function(){return"Align Left"},mapKey:"RichTextEditorConstants_alignLeft"},alignRight:{getter:function(){return"Align Right"},mapKey:"RichTextEditorConstants_alignRight"},alignCenter:{getter:function(){return"Align Center"},mapKey:"RichTextEditorConstants_alignCenter"},orderList:{getter:function(){return"Numbered List"},mapKey:"RichTextEditorConstants_orderList"},unorderList:{getter:function(){return"Bulleted List"},mapKey:"RichTextEditorConstants_unorderList"},removeFormatting:{getter:function(){return"Remove Formatting"},mapKey:"RichTextEditorConstants_removeFormatting"},insertLink:{getter:function(){return"Insert link"},mapKey:"RichTextEditorConstants_insertLink"},fontName:{getter:function(){return"Font"},mapKey:"RichTextEditorConstants_fontName"},fontSize:{getter:function(){return"Font size"},mapKey:"RichTextEditorConstants_fontSize"},backgroundColor:{getter:function(){return"Background color"},mapKey:"RichTextEditorConstants_backgroundColor"},foregroundColor:{getter:function(){return"Color"},mapKey:"RichTextEditorConstants_foregroundColor"},white:{getter:function(){return"White"},mapKey:"RichTextEditorConstants_white"},black:{getter:function(){return"Black"},mapKey:"RichTextEditorConstants_black"},red:{getter:function(){return"Red"},mapKey:"RichTextEditorConstants_red"},green:{getter:function(){return"Green"},mapKey:"RichTextEditorConstants_green"},yellow:{getter:function(){return"Yellow"},mapKey:"RichTextEditorConstants_yellow"},blue:{getter:function(){return"Blue"},mapKey:"RichTextEditorConstants_blue"},xx_small:{getter:function(){return"Tiny"},mapKey:"RichTextEditorConstants_xx_small"},x_small:{getter:function(){return"X small"},mapKey:"RichTextEditorConstants_x_small"},small:{getter:function(){return"Small"},mapKey:"RichTextEditorConstants_small"},medium:{getter:function(){return"Normal"},mapKey:"RichTextEditorConstants_medium"},large:{getter:function(){return"Large"},mapKey:"RichTextEditorConstants_large"},x_large:{getter:function(){return"X large"},mapKey:"RichTextEditorConstants_x_large"},xx_large:{getter:function(){return"XX large"},mapKey:"RichTextEditorConstants_xx_large"},textColor:{getter:function(){return"Text color"},mapKey:"RichTextEditorConstants_textColor"},backColor:{getter:function(){return"Background color"},mapKey:"RichTextEditorConstants_backColor"}},RINGTONE_VOLUME_DIALOG_BOX:{ringtoneVolumeDialog_heading:{getter:function(){return"Ringtone and Alert Volume"},mapKey:"Constants_ringtoneVolumeDialog_heading"},ringtoneVolumeDialog_testVolume_title:{getter:function(){return"Test volume"},mapKey:"Constants_ringtoneVolumeDialog_testVolume_title"},ringtoneVolumeDialog_externalChat_label:{getter:function(){return"External chat and preview record notification"},mapKey:"Constants_ringtoneVolumeDialog_externalChat_label"},ringtoneVolumeDialog_externalChatMessage_label:{getter:function(){return"External chat message notification"},mapKey:"Constants_ringtoneVolumeDialog_externalChatMessage_label"},ringtoneVolumeDialog_internalChat_label:{getter:function(){return"Internal chat notification"},mapKey:"Constants_ringtoneVolumeDialog_internalChat_label"},ringtoneVolumeDialog_incomingCalls_label:{getter:function(){return"Incoming calls"},mapKey:"Constants_ringtoneVolumeDialog_incomingCalls_label"},test_notification_sound_aria_label:{getter:function(){return"Test notification sound"},mapKey:"declaration_test_notification_sound_aria_label"},test_softphone_sound_aria_label:{getter:function(){return"Test softphone sound"},mapKey:"declaration_test_softphone_sound_aria_label"},test_incoming_message_sound_aria_label:{getter:function(){return"Test incoming message sound"},mapKey:"declaration_test_incoming_message_sound_aria_label"},test_internal_chat_sound_aria_label:{getter:function(){return"Test internal chat sound"},mapKey:"declaration_test_internal_chat_sound_aria_label"}},SCREENPOP_FORM:{screenpopForm_failureLoadingFormValues_message:{getter:function(){return"Failed to load values for screenpop form."},mapKey:"Constants_screenpopForm_failureLoadingFormValues_message"},screenpopForm_failureLoadingForm_message:{getter:function(){return"Failed to load screenpop form definition."},mapKey:"Constants_screenpopForm_failureLoadingForm_message"},screenpopForm_callNumberIsEmpty:{getter:function(){return"Call number is empty."},mapKey:"Constants_screenpopForm_callNumberIsEmpty"},screenpopForm_failureSavingFormValues_message:{getter:function(){return"Failed to save screenpop form."},mapKey:"Constants_screenpopForm_failureSavingFormValues_message"},activityFormTab:{getter:function(){return"Form"},mapKey:"Constants_activityFormTab"},webScreenpopTab:{getter:function(){return"URL"},mapKey:"Constants_webScreenpopTab"},requiredField_tooltip:{getter:function(){return"Field is required"},mapKey:"Constants_requiredField_tooltip"},dateFieldValidFormat:{getter:function(e){return"Format should be in {0}"},mapKey:"Constants_dateFieldValidFormat"},alert_interactionDataIsNotFilledOut:{getter:function(){return"Please fill out required fields"},mapKey:"Constants_alert_interactionDataIsNotFilledOut"},addActivityButton:{getter:function(){return"Add Activity"},mapKey:"Constants_addActivityButton"},invalidEmailAddress:{getter:function(){return"Invalid email address"},mapKey:"Constants_invalidEmailAddress"},formInvalidDate:{getter:function(e){return"Year must not be greater than {0}"},mapKey:"Constants_formInvalidDate"},reminderButton:{getter:function(){return"Reminder"},mapKey:"Constants_reminderButton"},forceHangUpButton:{getter:function(){return"Force Hang up"},mapKey:"Constants_forceHangUpButton"},searchButton:{getter:function(){return"Search"},mapKey:"Constants_searchButton"},manualAugmentationButton:{getter:function(){return"Manual Augmentation"},mapKey:"Constants_manualAugmentationButton"},form_photo_placeholder:{getter:function(){return"photo"},mapKey:"Constants_form_photo_placeholder"},form_changePhoto_label:{getter:function(){return"Change photo"},mapKey:"Constants_form_changePhoto_label"},address_line1_placeholder:{getter:function(){return"Address line 1"},mapKey:"Constants_address_line1_placeholder"},address_line2_placeholder:{getter:function(){return"Address line 2"},mapKey:"Constants_address_line2_placeholder"},address_city_placeholder:{getter:function(){return"City"},mapKey:"Constants_address_city_placeholder"},address_state_placeholder:{getter:function(){return"State"},mapKey:"Constants_address_state_placeholder"},address_zip_placeholder:{getter:function(){return"Zip"},mapKey:"Constants_address_zip_placeholder"},address_postcode_placeholder:{getter:function(){return"Post Code"},mapKey:"Constants_address_postcode_placeholder"},address_country_placeholder:{getter:function(){return"Country"},mapKey:"Constants_address_country_placeholder"},phone_type_home:{getter:function(){return"Home"},mapKey:"Constants_phone_type_home"},phone_type_business:{getter:function(){return"Business"},mapKey:"Constants_phone_type_business"},phone_type_mobile:{getter:function(){return"Mobile"},mapKey:"Constants_phone_type_mobile"},phone_type_fax:{getter:function(){return"Fax"},mapKey:"Constants_phone_type_fax"},email_type_primary:{getter:function(){return"Primary email"},mapKey:"Constants_email_type_primary"},email_type_business:{getter:function(){return"Business email"},mapKey:"Constants_email_type_business"},email_type_private:{getter:function(){return"Private email"},mapKey:"Constants_email_type_private"},address_type_primary:{getter:function(){return"Primary address"},mapKey:"Constants_address_type_primary"},address_type_billing:{getter:function(){return"Billing address"},mapKey:"Constants_address_type_billing"},address_type_shipping:{getter:function(){return"Shipping address"},mapKey:"Constants_address_type_shipping"},address_type_other:{getter:function(){return"Other address"},mapKey:"Constants_address_type_other"},add_address_label:{getter:function(){return"add address"},mapKey:"Constants_add_address_label"},add_phone_label:{getter:function(){return"add phone"},mapKey:"Constants_add_phone_label"},add_email_label:{getter:function(){return"add email"},mapKey:"Constants_add_email_label"}},SETTINGS:{settings_menu_changePassword:{getter:function(){return"Change Password"},mapKey:"Constants_settings_menu_changePassword"},settings_menu_phone:{getter:function(){return"Phone"},mapKey:"Constants_settings_menu_phone"},settings_menu_emailFollowUpSection:{getter:function(){return"Enable Pinned Cases section"},mapKey:"Constants_settings_menu_emailFollowUpSection"},settings_menu_alarmConfiguration:{getter:function(){return"Alert Configuration"},mapKey:"Constants_settings_menu_alarmConfiguration"},settings_menu_about:{getter:function(){return"About"},mapKey:"Constants_settings_menu_about"},thirdPartyLicenseNotices:{getter:function(){return"3rd-party license acknowledgement notices"},mapKey:"Constants_thirdPartyLicenseNotices"},settings_menu_editVoicePrompts:{getter:function(){return"Pre-recorded Messages"},mapKey:"Constants_settings_menu_editVoicePrompts"},settings_menu_userProfile:{getter:function(){return"User Profile"},mapKey:"Constants_settings_menu_userProfile"},settings_menu_shortcuts:{getter:function(){return"Keyboard Shortcuts"},mapKey:"Constants_settings_menu_shortcuts"},settings_menu_email_default_font:{getter:function(){return"Default email font"},mapKey:"Constants_settings_menu_email_default_font"},settings_menu_email_default_font_example_text:{getter:function(){return"Example text"},mapKey:"Constants_settings_menu_email_default_font_example_text"},settings_menu_preferences:{getter:function(){return"Preferences"},mapKey:"Constants_settings_menu_preferences"},settings_menu_ringtone_volume:{getter:function(){return"Ringtones and Alerts"},mapKey:"Constants_settings_menu_ringtone_volume"},settings_menu_pop_out_ad:{getter:function(){return"Pop-out Agent Desktop"},mapKey:"Constants_settings_menu_pop_out_ad"},settings_menu_notificationsOnChatMessage:{getter:function(){return"Enable browser notifications about incoming chat messages"},mapKey:"Constants_settings_menu_notificationsOnChatMessage"},settings_menu_audioDevices:{getter:function(){return"Audio Devices"},mapKey:"Constants_settings_menu_audioDevices"},settings_menu_phoneDevice:{getter:function(){return"Phone Device"},mapKey:"Constants_settings_menu_phoneDevice"},settings_menu_chatCannedResponses:{getter:function(){return"Chat Responses"},mapKey:"Constants_settings_menu_chatCannedResponses"},settings_menu_phoneDevice_locked_warning:{getter:function(){return"Phone Device cannot be changed at the moment due to the active calls."},mapKey:"Constants_settings_menu_phoneDevice_locked_warning"},settings_menu_go_back:{getter:function(){return"Go back"},mapKey:"declaration_settings_menu_go_back"}},SHORTCUTS_DIALOG_BOX:{shortcuts_heading:{getter:function(){return"Keyboard Shortcuts"},mapKey:"Constants_shortcuts_heading"},shortcuts_alt_s:{getter:function(){return"Open directory tab, set focus on search input box"},mapKey:"Constants_shortcuts_alt_s"},shortcuts_alt_c:{getter:function(){return"Set focus on chat input text field"},mapKey:"Constants_shortcuts_alt_c"},shortcuts_alt_k:{getter:function(){return"Set focus on chat messages"},mapKey:"Constants_shortcuts_alt_k"},shortcuts_alt_n:{getter:function(){return"Set focus on number input field"},mapKey:"Constants_shortcuts_alt_n"},shortcuts_f8:{getter:function(){return"Open state selector menu"},mapKey:"Constants_shortcuts_f8"},shortcuts_f9:{getter:function(){return'Set agent state to "Ready"'},mapKey:"Constants_shortcuts_f9"},shortcuts_f10:{getter:function(){return"Open Settings menu"},mapKey:"Constants_shortcuts_f10"},shortcuts_f6:{getter:function(){return"Set focus on disposition selector"},mapKey:"Constants_shortcuts_f6"},shortcuts_f2:{getter:function(){return"Open service selector menu"},mapKey:"Constants_shortcuts_f2"},shortcuts_alt_a:{getter:function(){return"Answer alerting interaction"},mapKey:"Constants_shortcuts_alt_a"},shortcuts_alt_x:{getter:function(){return"Mute the microphone"},mapKey:"Constants_shortcuts_alt_x"},shortcuts_alt_shift_x:{getter:function(){return"Unmute the microphone"},mapKey:"Constants_shortcuts_alt_shift_x"},shortcuts_alt_shift_b:{getter:function(){return"Blind transfer"},mapKey:"Constants_shortcuts_alt_shift_b"},shortcuts_alt_shift_t:{getter:function(){return"Initiate transfer or conference"},mapKey:"Constants_shortcuts_alt_shift_t"},shortcuts_ctrl_shift_c:{getter:function(){return"Merge conference"},mapKey:"Constants_shortcuts_ctrl_shift_c"},shortcuts_ctrl_shift_f:{getter:function(){return"Complete transfer"},mapKey:"Constants_shortcuts_ctrl_shift_f"},shortcuts_alt_shift_l:{getter:function(){return"Leave conference "},mapKey:"Constants_shortcuts_alt_shift_l"},shortcuts_alt_shift_d:{getter:function(){return"Dial consult"},mapKey:"Constants_shortcuts_alt_shift_d"},shortcuts_alt_shift_c:{getter:function(){return"Dial conference"},mapKey:"Constants_shortcuts_alt_shift_c"},shortcuts_alt_shift_s:{getter:function(){return"Initiate SMS conversation"},mapKey:"Constants_shortcuts_alt_shift_s"},shortcuts_alt_m:{getter:function(){return"Flag the interaction"},mapKey:"Constants_shortcuts_alt_m"},shortcuts_alt_shift_m:{getter:function(){return"Unflag the interaction"},mapKey:"Constants_shortcuts_alt_shift_m"},shortcuts_alt_z:{getter:function(){return"Hold/Retrieve the current interaction"},mapKey:"Constants_shortcuts_alt_z"},shortcuts_alt_q:{getter:function(){return"Terminate the current interaction"},mapKey:"Constants_shortcuts_alt_q"},shortcuts_alt_p:{getter:function(){return"Open pre-recorded messages menu"},mapKey:"Constants_shortcuts_alt_p"},shortcuts_alt_f:{getter:function(){return"Add to favorites"},mapKey:"Constants_shortcuts_alt_f"},shortcuts_alt_shift_f:{getter:function(){return"Remove from favorites"},mapKey:"Constants_shortcuts_alt_shift_f"},shortcuts_alt_number:{getter:function(){return"Select interaction in Active Interaction List (AIL)"},mapKey:"Constants_shortcuts_alt_number"},shortcuts_alt_shift_number:{getter:function(){return"Insert number from Favorites into the number input field"},mapKey:"Constants_shortcuts_alt_shift_number"},shortcuts_alt_arrow_left:{getter:function(){return"Arrow left"},mapKey:"Constants_shortcuts_alt_arrow_left"},shortcuts_alt_arrow_right:{getter:function(){return"Arrow right"},mapKey:"Constants_shortcuts_alt_arrow_right"},shortcuts_alt_arrow:{getter:function(){return"Select next and previous interaction in AIL"},mapKey:"Constants_shortcuts_alt_arrow"},shortcuts_logout:{getter:function(){return"Logout from AgentDesktop"},mapKey:"Constants_shortcuts_logout"}},THRESHOLDS:{threshold_config_label_text:{getter:function(){return"Text"},mapKey:"Constants_threshold_config_label_text"},threshold_config_label_background:{getter:function(){return"Background"},mapKey:"Constants_threshold_config_label_background"},threshold_config_invalid_value:{getter:function(){return"Invalid value"},mapKey:"Constants_threshold_config_invalid_value"},threshold_config_none:{getter:function(){return"n/a"},mapKey:"Constants_threshold_config_none"},threshold_condition_great:{getter:function(){return">"},mapKey:"Constants_threshold_condition_great"},threshold_condition_less:{getter:function(){return"<"},mapKey:"Constants_threshold_condition_less"},threshold_condition_exists:{getter:function(){return"exists"},mapKey:"Constants_threshold_condition_exists"},threshold_condition_auto:{getter:function(){return"auto"},mapKey:"Constants_threshold_condition_auto"},threshold_button_apply:{getter:function(){return"Apply"},mapKey:"Constants_threshold_button_apply"},threshold_button_setDefault:{getter:function(){return"Set as System Default"},mapKey:"Constants_threshold_button_setDefault"},threshold_label_service:{getter:function(){return"Services and Campaigns"},mapKey:"Constants_threshold_label_service"},threshold_label_agents:{getter:function(){return"Agents"},mapKey:"Constants_threshold_label_agents"},threshold_heading:{getter:function(){return"Alert Configuration"},mapKey:"Constants_threshold_heading"},threshold_heading_custom:{getter:function(){return"Custom"},mapKey:"Constants_threshold_heading_custom"},threshold_heading_notification:{getter:function(){return"Notification"},mapKey:"Constants_threshold_heading_notification"},threshold_heading_threshold:{getter:function(){return"Threshold"},mapKey:"Constants_threshold_heading_threshold"},threshold_heading_color:{getter:function(){return"Color"},mapKey:"Constants_threshold_heading_color"},threshold_color_heading:{getter:function(){return"Alert Colors"},mapKey:"Constants_threshold_color_heading"}},UNDEFINED:{partition_selector_label:{getter:function(){return"Client"},mapKey:"ContactConstants_partition_selector_label"},new_contact_heading:{getter:function(){return"New contact"},mapKey:"ContactConstants_new_contact_heading"},partition_selector_default_value:{getter:function(){return"Not specified"},mapKey:"ContactConstants_partition_selector_default_value"},add_phone_to_contact_heading:{getter:function(){return"Add phone to contact"},mapKey:"ContactConstants_add_phone_to_contact_heading"},add_phone_to_contact_label:{getter:function(e,t){return'Add number {0} to "{1}" record'},mapKey:"ContactConstants_add_phone_to_contact_label"},add_phone_to_contact_question:{getter:function(e){return"as {0} phone?"},mapKey:"ContactConstants_add_phone_to_contact_question"},add_email_to_contact_question:{getter:function(e){return"as {0} email?"},mapKey:"ContactConstants_add_email_to_contact_question"},add_email_to_contact_label:{getter:function(e,t){return'Add email {0} to "{1}" record'},mapKey:"ContactConstants_add_email_to_contact_label"},add_email_to_contact_heading:{getter:function(){return"Add email to contact"},mapKey:"ContactConstants_add_email_to_contact_heading"},contact_deleting_confirmation:{getter:function(e){return'Are you sure you want to delete contact for "{0}" including all activity history?'},mapKey:"ContactConstants_contact_deleting_confirmation"},column_type:{getter:function(){return"Source"},mapKey:"ContactConstants_column_type"},contact_first_name:{getter:function(){return"First Name"},mapKey:"ContactConstants_contact_first_name"},contact_last_name:{getter:function(){return"Last Name"},mapKey:"ContactConstants_contact_last_name"},contact_phone:{getter:function(){return"Phone"},mapKey:"ContactConstants_contact_phone"},contact_email:{getter:function(){return"Email"},mapKey:"ContactConstants_contact_email"},activity_disposition:{getter:function(){return"Disposition"},mapKey:"ContactConstants_activity_disposition"},activity_datetime:{getter:function(){return"Time"},mapKey:"ContactConstants_activity_datetime"},activity_agent:{getter:function(){return"Agent"},mapKey:"ContactConstants_activity_agent"},activity_queue:{getter:function(){return"Queue"},mapKey:"ContactConstants_activity_queue"},activity_duration:{getter:function(){return"Duration"},mapKey:"ContactConstants_activity_duration"},activity_service:{getter:function(){return"Service"},mapKey:"ContactConstants_activity_service"},activity_details:{getter:function(){return"Subject, Notes"},mapKey:"ContactConstants_activity_details"},case_not_in_queue:{getter:function(){return"<not in queue>"},mapKey:"ContactConstants_case_not_in_queue"},button_new_contact_text:{getter:function(){return"New"},mapKey:"ContactConstants_button_new_contact_text"},button_new_contact_title:{getter:function(){return"Create New Contact"},mapKey:"ContactConstants_button_new_contact_title"},button_delete_contact_text:{getter:function(){return"Delete"},mapKey:"ContactConstants_button_delete_contact_text"},button_delete_contact_title:{getter:function(){return"Delete Contact"},mapKey:"ContactConstants_button_delete_contact_title"},button_edit_contact_text:{getter:function(){return"Edit"},mapKey:"ContactConstants_button_edit_contact_text"},button_edit_contact_title:{getter:function(){return"Edit Contact"},mapKey:"ContactConstants_button_edit_contact_title"},button_create_contact_text:{getter:function(){return"Create"},mapKey:"ContactConstants_button_create_contact_text"},button_create_contact_title:{getter:function(){return"Create Contact"},mapKey:"ContactConstants_button_create_contact_title"},button_use_contact_text:{getter:function(){return"Use"},mapKey:"ContactConstants_button_use_contact_text"},button_use_contact_title:{getter:function(){return"Use Contact"},mapKey:"ContactConstants_button_use_contact_title"},button_view_contact_text:{getter:function(){return"View"},mapKey:"ContactConstants_button_view_contact_text"},button_view_contact_title:{getter:function(){return"View Contact"},mapKey:"ContactConstants_button_view_contact_title"},button_save_contact_text:{getter:function(){return"Save"},mapKey:"ContactConstants_button_save_contact_text"},button_save_contact_title:{getter:function(){return"Save Contact"},mapKey:"ContactConstants_button_save_contact_title"},button_cancel_contact_text:{getter:function(){return"Cancel"},mapKey:"ContactConstants_button_cancel_contact_text"},button_cancel_contact_title:{getter:function(){return"Cancel editing"},mapKey:"ContactConstants_button_cancel_contact_title"},button_create_workitem_text:{getter:function(){return"Create Workitem"},mapKey:"ContactConstants_button_create_workitem_text"},button_create_workitem_title:{getter:function(){return"Create Workitem"},mapKey:"ContactConstants_button_create_workitem_title"},contact_search_input_placeholder:{getter:function(){return"search term, e.g.: star* *inish exact *google.com *5551212"},mapKey:"ContactConstants_contact_search_input_placeholder"},contact_search_input_valid_date_pattern_title:{getter:function(e){return"the valid date pattern is {0}"},mapKey:"ContactConstants_contact_search_input_valid_date_pattern_title"},identification_input_placeholder:{getter:function(){return"search contact"},mapKey:"ContactConstants_identification_input_placeholder"},identification_form_next_page:{getter:function(){return"Next"},mapKey:"ContactConstants_identification_form_next_page"},identification_form_next_page_tooltip:{getter:function(){return"Go to the next page of the form"},mapKey:"ContactConstants_identification_form_next_page_tooltip"},augmentation_augment_the_contact_data:{getter:function(){return"Augment the Contact Data"},mapKey:"ContactConstants_augmentation_augment_the_contact_data"},augmentation_firstName:{getter:function(){return"First name"},mapKey:"ContactConstants_augmentation_firstName"},augmentation_lastName:{getter:function(){return"Last name"},mapKey:"ContactConstants_augmentation_lastName"},augmentation_gender:{getter:function(){return"Gender"},mapKey:"ContactConstants_augmentation_gender"},augmentation_age:{getter:function(){return"Age"},mapKey:"ContactConstants_augmentation_age"},augmentation_dob:{getter:function(){return"Date of birth"},mapKey:"ContactConstants_augmentation_dob"},augmentation_title:{getter:function(){return"Title"},mapKey:"ContactConstants_augmentation_title"},augmentation_position:{getter:function(){return"Position"},mapKey:"ContactConstants_augmentation_position"},augmentation_company:{getter:function(){return"Company"},mapKey:"ContactConstants_augmentation_company"},augmentation_summary:{getter:function(){return"Summary"},mapKey:"ContactConstants_augmentation_summary"},augmentation_segments:{getter:function(){return"Segments"},mapKey:"ContactConstants_augmentation_segments"},augmentation_localContact:{getter:function(){return"Local"},mapKey:"ContactConstants_augmentation_localContact"},augmentation_nextcaller:{getter:function(){return"NextCaller"},mapKey:"ContactConstants_augmentation_nextcaller"},augmentation_thedatagroup:{getter:function(){return"TheDataGroup"},mapKey:"ContactConstants_augmentation_thedatagroup"},augmentation_externalContact:{getter:function(){return"External"},mapKey:"ContactConstants_augmentation_externalContact"},bulk_label_createNewContacts:{getter:function(){return"Create new contacts"},mapKey:"ContactConstants_bulk_label_createNewContacts"},bulk_label_updateExistingContacts:{getter:function(){return"Update existing contacts"},mapKey:"ContactConstants_bulk_label_updateExistingContacts"},bulk_button_upload:{getter:function(){return"Browse"},mapKey:"ContactConstants_bulk_button_upload"},bulk_label_fileFormatDescription:{getter:function(){return"Import file format is described"},mapKey:"ContactConstants_bulk_label_fileFormatDescription"},bulk_label_here:{getter:function(){return"here"},mapKey:"ContactConstants_bulk_label_here"},bulk_button_next:{getter:function(){return"Next"},mapKey:"ContactConstants_bulk_button_next"},bulk_button_previous:{getter:function(){return"Previous"},mapKey:"ContactConstants_bulk_button_previous"},bulk_button_cancel:{getter:function(){return"Cancel"},mapKey:"ContactConstants_bulk_button_cancel"},bulk_button_finish:{getter:function(){return"Finish"},mapKey:"ContactConstants_bulk_button_finish"},bulk_label_clickNext:{getter:function(){return"Click Next to perform changes"},mapKey:"ContactConstants_bulk_label_clickNext"},bulk_label_contactsWillBeAdded:{getter:function(){return"Contacts will be added:"},mapKey:"ContactConstants_bulk_label_contactsWillBeAdded"},bulk_label_contactsWillBeChanged:{getter:function(){return"Contacts will be changed:"},mapKey:"ContactConstants_bulk_label_contactsWillBeChanged"},bulk_label_contactsAdded:{getter:function(){return"Contacts added:"},mapKey:"ContactConstants_bulk_label_contactsAdded"},bulk_label_contactsChanged:{getter:function(){return"Contacts changed:"},mapKey:"ContactConstants_bulk_label_contactsChanged"},bulk_label_errorsDetected:{getter:function(){return"Errors detected:"},mapKey:"ContactConstants_bulk_label_errorsDetected"},bulk_label_errorList:{getter:function(){return"error list"},mapKey:"ContactConstants_bulk_label_errorList"},bulk_menu_tooltip:{getter:function(){return"Import/export of contacts"},mapKey:"ContactConstants_bulk_menu_tooltip"},bulk_title:{getter:function(){return"Bulk import of contacts"},mapKey:"ContactConstants_bulk_title"},bulk_menu_export:{getter:function(){return"Bulk export contacts"},mapKey:"ContactConstants_bulk_menu_export"},bulk_menu_import:{getter:function(){return"Bulk import contacts"},mapKey:"ContactConstants_bulk_menu_import"},voiceMail_heading:{getter:function(){return"Voicemail authorization"},mapKey:"VoiceMailConstants_voiceMail_heading"},authorization:{getter:function(){return"Authorization..."},mapKey:"VoiceMailConstants_authorization"},playMessage:{getter:function(){return"Play message"},mapKey:"VoiceMailConstants_playMessage"},loading:{getter:function(){return"Loading..."},mapKey:"VoiceMailConstants_loading"},error_tenantNotFound:{getter:function(){return"Tenant not found..."},mapKey:"VoiceMailConstants_error_tenantNotFound"},auth_userId:{getter:function(){return"Username:"},mapKey:"VoiceMailConstants_auth_userId"},auth_password:{getter:function(){return"Password:"},mapKey:"VoiceMailConstants_auth_password"},voiceMail_submit:{getter:function(){return"Submit"},mapKey:"VoiceMailConstants_voiceMail_submit"},voiceMail_playMessage_error0:{getter:function(){return"Message is playing"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error0"},voiceMail_playMessage_downloaded:{getter:function(){return"Message was downloaded"},mapKey:"VoiceMailConstants_voiceMail_playMessage_downloaded"},voiceMail_playMessage_error1:{getter:function(){return"User specified in request not found"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error1"},voiceMail_playMessage_error2:{getter:function(){return"Unable to determine user\u2019s phone number"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error2"},voiceMail_playMessage_error3:{getter:function(){return"One of the required request parameters is missing"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error3"},voiceMail_playMessage_error4:{getter:function(){return"Unknown HTTP request"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error4"},voiceMail_playMessage_error5:{getter:function(){return"Internal server error"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error5"},voiceMail_playMessage_error6:{getter:function(){return"Tenant is disabled"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error6"},voiceMail_playMessage_error7:{getter:function(){return"Phone call cannot be established"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error7"},voiceMail_playMessage_error9:{getter:function(){return"Access denied"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error9"},voiceMail_playMessage_error10:{getter:function(){return"File not found"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error10"},tab_enterprise_messaging_accounts_heading:{getter:function(){return"Enterprise Messaging Accounts"},mapKey:"Constants_tab_enterprise_messaging_accounts_heading"},navigation_acl_tooltip:{getter:function(){return"Conversations"},mapKey:"DeskConstants_navigation_acl_tooltip"},navigation_dir_tooltip:{getter:function(){return"Directory and Dial Pad"},mapKey:"DeskConstants_navigation_dir_tooltip"},navigation_cur_tooltip:{getter:function(){return"Selected Conversation\u2019s Documents"},mapKey:"DeskConstants_navigation_cur_tooltip"},navigation_cal_tooltip:{getter:function(){return"Calendar"},mapKey:"DeskConstants_navigation_cal_tooltip"},navigation_mlq_tooltip:{getter:function(){return"Email Queues"},mapKey:"DeskConstants_navigation_mlq_tooltip"},navigation_cts_tooltip:{getter:function(){return"Search & Preview Records"},mapKey:"DeskConstants_navigation_cts_tooltip"},navigation_cases_tooltip:{getter:function(){return"My Cases"},mapKey:"DeskConstants_navigation_cases_tooltip"},navigation_svs_tooltip:{getter:function(){return"Supervision"},mapKey:"DeskConstants_navigation_svs_tooltip"},navigation_qa_tooltip:{getter:function(){return"Quality Management"},mapKey:"DeskConstants_navigation_qa_tooltip"},navigation_agent_home_tooltip:{getter:function(){return"Agent Home Page"},mapKey:"DeskConstants_navigation_agent_home_tooltip"},navigation_supervisor_home_tooltip:{getter:function(){return"Supervisor Home Page"},mapKey:"DeskConstants_navigation_supervisor_home_tooltip"},navigation_cmp_tooltip:{getter:function(){return"Campaign Operations"},mapKey:"DeskConstants_navigation_cmp_tooltip"},navigation_cht_tooltip:{getter:function(){return"Chat Center"},mapKey:"DeskConstants_navigation_cht_tooltip"},search_tab_records:{getter:function(){return"List records"},mapKey:"DeskConstants_search_tab_records"},search_tab_activities:{getter:function(){return"Activities"},mapKey:"DeskConstants_search_tab_activities"},search_tab_contacts:{getter:function(){return"Contacts"},mapKey:"DeskConstants_search_tab_contacts"},search_tab_cases:{getter:function(){return"Cases"},mapKey:"DeskConstants_search_tab_cases"},button_open_contact_text:{getter:function(){return"Open"},mapKey:"declaration_button_open_contact_text"}},USER_PROFILE:{tab_profile_heading:{getter:function(){return"User Profile"},mapKey:"ProfileConstants_tab_profile_heading"},tab_contact_heading:{getter:function(){return"Contact Info"},mapKey:"ProfileConstants_tab_contact_heading"},tab_location_heading:{getter:function(){return"Location"},mapKey:"ProfileConstants_tab_location_heading"},tab_greeting_heading:{getter:function(){return"Forwarding and Voicemail"},mapKey:"ProfileConstants_tab_greeting_heading"},form_profile_photo_placeholder:{getter:function(){return"photo"},mapKey:"ProfileConstants_form_profile_photo_placeholder"},form_profile_changePhoto_label:{getter:function(){return"Change photo"},mapKey:"ProfileConstants_form_profile_changePhoto_label"},form_profile_firstName_label:{getter:function(){return"First name"},mapKey:"ProfileConstants_form_profile_firstName_label"},form_profile_lastName_label:{getter:function(){return"Last name"},mapKey:"ProfileConstants_form_profile_lastName_label"},form_profile_title_label:{getter:function(){return"Title"},mapKey:"ProfileConstants_form_profile_title_label"},form_profile_about_label:{getter:function(){return"About me"},mapKey:"ProfileConstants_form_profile_about_label"},form_contact_nick_label:{getter:function(){return"Chat nickname"},mapKey:"ProfileConstants_form_contact_nick_label"},form_contact_extension_label:{getter:function(){return"Extension"},mapKey:"ProfileConstants_form_contact_extension_label"},form_contact_workPhone_label:{getter:function(){return"Work phone"},mapKey:"ProfileConstants_form_contact_workPhone_label"},form_contact_mobilePhone_label:{getter:function(){return"Mobile phone"},mapKey:"ProfileConstants_form_contact_mobilePhone_label"},form_contact_email_label:{getter:function(){return"Email"},mapKey:"ProfileConstants_form_contact_email_label"},form_contact_email_required_for_voicemail:{getter:function(){return"voicemail requires email address and will be disabled"},mapKey:"ProfileConstants_form_contact_email_required_for_voicemail"},form_location_timezone_label:{getter:function(){return"Time zone"},mapKey:"ProfileConstants_form_location_timezone_label"},form_location_country_label:{getter:function(){return"Country"},mapKey:"ProfileConstants_form_location_country_label"},form_location_state_label:{getter:function(){return"State/Province"},mapKey:"ProfileConstants_form_location_state_label"},form_location_city_label:{getter:function(){return"City"},mapKey:"ProfileConstants_form_location_city_label"},form_greeting_activeGreeting_label:{getter:function(){return"Use the following greeting for voicemail"},mapKey:"ProfileConstants_form_greeting_activeGreeting_label"},form_greeting_forwardTimeout_label:{getter:function(){return"Forward on no answer after"},mapKey:"ProfileConstants_form_greeting_forwardTimeout_label"},form_greeting_enableVoiceMail_label:{getter:function(){return"Enable voicemail (requires email address)"},mapKey:"ProfileConstants_form_greeting_enableVoiceMail_label"},form_greeting_voicemailTimeout_label:{getter:function(){return"Send to voicemail after"},mapKey:"ProfileConstants_form_greeting_voicemailTimeout_label"},form_seconds:{getter:function(){return"sec"},mapKey:"ProfileConstants_form_seconds"},form_greeting_forwardCalls_label:{getter:function(e){return"Forward all calls for ext. {0} to"},mapKey:"ProfileConstants_form_greeting_forwardCalls_label"},form_validation_messages_emptyNameFields:{getter:function(){return"First Name or Last Name should be filled in."},mapKey:"ProfileConstants_form_validation_messages_emptyNameFields"},form_validation_messages_emptyForwardDestination:{getter:function(){return"Forward destination should not be empty."},mapKey:"ProfileConstants_form_validation_messages_emptyForwardDestination"},form_validation_messages_emptyForwardTimeout:{getter:function(){return"Forward timeout should not be empty."},mapKey:"ProfileConstants_form_validation_messages_emptyForwardTimeout"},form_validation_messages_emptyAddressField:{getter:function(){return"Email address should not be empty."},mapKey:"ProfileConstants_form_validation_messages_emptyAddressField"},form_validation_messages_duplicateAddressField:{getter:function(){return"Email address already exists."},mapKey:"ProfileConstants_form_validation_messages_duplicateAddressField"},form_integrations_enable_button:{getter:function(){return"Enable"},mapKey:"ProfileConstants_form_integrations_enable_button"},form_integrations_disable_button:{getter:function(){return"Disable"},mapKey:"ProfileConstants_form_integrations_disable_button"},form_integrations_active_status:{getter:function(){return"Active"},mapKey:"ProfileConstants_form_integrations_active_status"},form_integrations_inactive_status:{getter:function(){return"Inactive"},mapKey:"ProfileConstants_form_integrations_inactive_status"},form_integrations_msteams_label:{getter:function(){return"Microsoft Teams:"},mapKey:"ProfileConstants_form_integrations_msteams_label"},label_voicemail_active_text:{getter:function(){return"Active"},mapKey:"declaration_label_voicemail_active_text"},label_voicemail_not_set_text:{getter:function(){return"Not set"},mapKey:"declaration_label_voicemail_not_set_text"},label_voicemail_other_text:{getter:function(){return"Other"},mapKey:"declaration_label_voicemail_other_text"},button_voicemail_set_active_tooltip:{getter:function(){return"Make Active"},mapKey:"declaration_button_voicemail_set_active_tooltip"},button_voicemail_add_new_greeting_tooltip:{getter:function(){return"Add Greeting"},mapKey:"declaration_button_voicemail_add_new_greeting_tooltip"},button_voicemail_remove_from_active_tooltip:{getter:function(){return"Remove from Active"},mapKey:"declaration_button_voicemail_remove_from_active_tooltip"},button_change_avatar_text:{getter:function(){return"Change"},mapKey:"declaration_button_change_avatar_text"},button_change_avatar_tooltip:{getter:function(){return"Change user avatar"},mapKey:"declaration_button_change_avatar_tooltip"},tab_name_heading:{getter:function(){return"Name"},mapKey:"declaration_tab_name_heading"},tab_forwarding_heading:{getter:function(){return"Forwarding"},mapKey:"declaration_tab_forwarding_heading"},tab_voicemail_heading:{getter:function(){return"Voicemail"},mapKey:"declaration_tab_voicemail_heading"},location_tz_not_selected:{getter:function(){return"Not Selected"},mapKey:"declaration_location_tz_not_selected"},form_location_language_label:{getter:function(){return"Language"},mapKey:"declaration_form_location_language_label"},location_not_selected:{getter:function(){return"System default"},mapKey:"declaration_location_not_selected"},sidebar_profile_link:{getter:function(){return"See profile"},mapKey:"declaration_sidebar_profile_link"},sidebar_ext:{getter:function(e){return"ext: {0}"},mapKey:"declaration_sidebar_ext"},form_integrations_loading_tooltip:{getter:function(){return"Loading..."},mapKey:"declaration_form_integrations_loading_tooltip"},form_integrations_bad_config_tooltip:{getter:function(){return"Integration not configured properly"},mapKey:"declaration_form_integrations_bad_config_tooltip"},voicemail_reached_max_amount:{getter:function(){return"You have reached the maximum allowed number of greetings."},mapKey:"declaration_voicemail_reached_max_amount"},error_recording_no_title:{getter:function(){return"Please enter a name"},mapKey:"declaration_error_recording_no_title"},error_recording_no_audio:{getter:function(){return"Record voice or upload a voice file"},mapKey:"declaration_error_recording_no_audio"},error_recording_max_file_size:{getter:function(){return"The size of the file is too big. (max 25Mb)"},mapKey:"declaration_error_recording_max_file_size"}},VALIDATION:{ALL_FIELDS_ARE_REQUIRED:{getter:function(){return"All fields are required"},mapKey:"declaration_ALL_FIELDS_ARE_REQUIRED"},LETTER_DIGITS:{getter:function(){return"Digits and letters"},mapKey:"declaration_LETTER_DIGITS"},UPPER_LOWER:{getter:function(){return"Upper and lower case letters"},mapKey:"declaration_UPPER_LOWER"},SPECIAL:{getter:function(){return"Special characters"},mapKey:"declaration_SPECIAL"},MIN_LENGTH:{getter:function(e){return"At least {0} characters long"},mapKey:"declaration_MIN_LENGTH"},WEAK_LIST:{getter:function(){return"Not based on a commonly used word (found in a weak password list)"},mapKey:"declaration_WEAK_LIST"},NOT_USED_RECENTLY:{getter:function(){return"Has not been used recently"},mapKey:"declaration_NOT_USED_RECENTLY"},NOT_IN_SELF_NAMES:{getter:function(){return"Not based on an item or a tenant name"},mapKey:"declaration_NOT_IN_SELF_NAMES"},STRONG_ENOUGH:{getter:function(){return"Password strength: strong"},mapKey:"declaration_STRONG_ENOUGH"},OLD_PASSWORD_ERROR:{getter:function(){return"Old password is incorrect"},mapKey:"declaration_OLD_PASSWORD_ERROR"},NEW_PASSWORD_ERROR:{getter:function(){return"New password isn`t strong enough"},mapKey:"declaration_NEW_PASSWORD_ERROR"}},VOICE_CALL:{dial_consult_button_tooltip:{getter:function(){return"Dial consult"},mapKey:"declaration_dial_consult_button_tooltip"},dial_conference_button_tooltip:{getter:function(){return"Dial conference"},mapKey:"declaration_dial_conference_button_tooltip"},blind_transfer_button_tooltip:{getter:function(){return"Blind transfer"},mapKey:"declaration_blind_transfer_button_tooltip"},disposition_message_title:{getter:function(e,t,n){return"{0} dispositioned voice call on {1} at {2}"},mapKey:"declaration_disposition_message_title"}},VOICE_PROMPTS_DIALOG_BOX:{voice_prompts_downloadFileLink:{getter:function(){return"download file"},mapKey:"Constants_voice_prompts_downloadFileLink"},edit_voice_prompts_heading:{getter:function(){return"Pre-recorded Messages"},mapKey:"Constants_edit_voice_prompts_heading"},edit_voice_prompt_heading:{getter:function(){return"Edit Message"},mapKey:"Constants_edit_voice_prompt_heading"},add_voice_prompt_heading:{getter:function(){return"Add Message"},mapKey:"Constants_add_voice_prompt_heading"},file_upload_message_uploadFailure:{getter:function(){return"File is not uploaded."},mapKey:"Constants_file_upload_message_uploadFailure"},file_upload_message_invalidFileType:{getter:function(){return"Invalid file type."},mapKey:"Constants_file_upload_message_invalidFileType"},edit_voice_prompts_emptyList:{getter:function(){return"Empty list"},mapKey:"Constants_edit_voice_prompts_emptyList"},edit_voice_prompts_default_flat:{getter:function(){return"(default)"},mapKey:"Constants_edit_voice_prompts_default_flat"},edit_voice_prompts_description:{getter:function(){return"You can maintain a list of personal pre-recorded messages and have them available for playback during a call."},mapKey:"Constants_edit_voice_prompts_description"},edit_voice_prompts_titleLabel:{getter:function(){return"Title"},mapKey:"Constants_edit_voice_prompts_titleLabel"},edit_voice_prompts_upload:{getter:function(){return"Upload"},mapKey:"Constants_edit_voice_prompts_upload"},edit_voice_prompts_upload_tooltip:{getter:function(){return"Upload voice file"},mapKey:"Constants_edit_voice_prompts_upload_tooltip"},edit_voice_prompts_nameField_tooltip:{getter:function(){return"Title of the message"},mapKey:"Constants_edit_voice_prompts_nameField_tooltip"},edit_voice_prompts_addButton_tooltip:{getter:function(){return"Add message"},mapKey:"Constants_edit_voice_prompts_addButton_tooltip"},edit_voice_prompts_removeButton_tooltip:{getter:function(){return"Remove selected message"},mapKey:"Constants_edit_voice_prompts_removeButton_tooltip"},edit_voice_prompts_editButton_tooltip:{getter:function(){return"Edit selected message"},mapKey:"Constants_edit_voice_prompts_editButton_tooltip"},edit_voice_prompts_autoPlay:{getter:function(){return"play automatically on all service calls"},mapKey:"Constants_edit_voice_prompts_autoPlay"},edit_voice_prompts_delete_confirm_message:{getter:function(e){return'Are you sure you want to delete "{0}" message?'},mapKey:"Constants_edit_voice_prompts_delete_confirm_message"},edit_voice_prompts_message_promptsSavingFailure:{getter:function(){return"Unable to save message"},mapKey:"Constants_edit_voice_prompts_message_promptsSavingFailure"},voiceFileRequired_heading:{getter:function(){return"Voice file is missing"},mapKey:"Constants_voiceFileRequired_heading"},voiceFileRequired_label:{getter:function(){return"You should upload voice file."},mapKey:"Constants_voiceFileRequired_label"},button_save_changes:{getter:function(){return"Save"},mapKey:"declaration_button_save_changes"},template_to_continue_save_part_1:{getter:function(){return"To continue,"},mapKey:"declaration_template_to_continue_save_part_1"},template_to_continue_save_part_2:{getter:function(){return"save"},mapKey:"declaration_template_to_continue_save_part_2"},template_to_continue_save_part_3:{getter:function(){return"or"},mapKey:"declaration_template_to_continue_save_part_3"},template_to_continue_save_part_4:{getter:function(){return"cancel"},mapKey:"declaration_template_to_continue_save_part_4"},template_to_continue_save_part_5:{getter:function(){return"your changes."},mapKey:"declaration_template_to_continue_save_part_5"}},WINDOW_POPUP_TITLES_AND_MESSAGES:{window_messages_connecting:{getter:function(){return"Connecting..."},mapKey:"Constants_window_messages_connecting"},window_messages_server_connectionFailed:{getter:function(){return"Agent Desktop could not connect to any agent servers - please check if there is network connectivity."},mapKey:"Constants_window_messages_server_connectionFailed"},window_messages_server_openedInPopupWindow:{getter:function(){return"You opened AgentDesktop in separate popup window. You can close this window."},mapKey:"Constants_window_messages_server_openedInPopupWindow"},window_messages_server_failedConnectToASPort:{getter:function(e){return"Agent Desktop could not connect to agent server, because {0} port is not configured."},mapKey:"Constants_window_messages_server_failedConnectToASPort"},window_messages_3pcc_server_connectionLost:{getter:function(){return"SIP server connection lost."},mapKey:"Constants_window_messages_3pcc_server_connectionLost"},window_messages_3pcc_server_not_available:{getter:function(){return"SIP server is not available."},mapKey:"Constants_window_messages_3pcc_server_not_available"},window_messages_virtual_phone_not_available:{getter:function(){return"Phone line is down. Please dial in and keep line open to enable calling."},mapKey:"Constants_window_messages_virtual_phone_not_available"},window_messages_phone_not_available:{getter:function(){return"A network connectivity issue is impacting your phone device."},mapKey:"Constants_window_messages_phone_not_available"},window_messages_helper_app_not_available:{getter:function(){return"You logged in with a softphone, but the Agent Desktop Helper application is not installed or is blocked on your computer"},mapKey:"Constants_window_messages_helper_app_not_available"},window_messages_favoritesLimit:{getter:function(){return"A limit of 50 favorite entries was reached."},mapKey:"Constants_window_messages_favoritesLimit"},window_title_error:{getter:function(){return"Error"},mapKey:"Constants_window_title_error"},window_title_information:{getter:function(){return"Information"},mapKey:"Constants_window_title_information"},window_title_screenpop:{getter:function(){return"ScreenPop"},mapKey:"Constants_window_title_screenpop"},window_title_warning:{getter:function(){return"Warning"},mapKey:"Constants_window_title_warning"},window_buttonClose:{getter:function(){return"Close"},mapKey:"Constants_window_buttonClose"},window_buttonOk:{getter:function(){return"Ok"},mapKey:"Constants_window_buttonOk"},window_buttonYes:{getter:function(){return"Yes"},mapKey:"Constants_window_buttonYes"},window_buttonNo:{getter:function(){return"No"},mapKey:"Constants_window_buttonNo"},window_button_assign:{getter:function(){return"Assign"},mapKey:"Constants_window_button_assign"},window_button_transfer:{getter:function(){return"Transfer"},mapKey:"Constants_window_button_transfer"},window_buttonSelect:{getter:function(){return"Select"},mapKey:"Constants_window_buttonSelect"},window_buttonReset:{getter:function(){return"Reset"},mapKey:"Constants_window_buttonReset"},window_buttonCreate:{getter:function(){return"Create"},mapKey:"Constants_window_buttonCreate"},window_buttonCancel:{getter:function(){return"Cancel"},mapKey:"Constants_window_buttonCancel"},window_buttonDownload:{getter:function(e){return'Download "{0}"'},mapKey:"Constants_window_buttonDownload"},window_copyToClipboard_success:{getter:function(){return"Link copied"},mapKey:"Constants_window_copyToClipboard_success"},window_messages_shared_session_heading:{getter:function(){return"Session sharing"},mapKey:"Constants_window_messages_shared_session_heading"},window_messages_shared_session_message:{getter:function(){return"Shared session has been detected."},mapKey:"Constants_window_messages_shared_session_message"},window_messages_shared_session_button:{getter:function(){return"I'm back"},mapKey:"Constants_window_messages_shared_session_button"},window_timezones_heading:{getter:function(){return"Select timezone"},mapKey:"Constants_window_timezones_heading"},window_timezones_filter_placeholder:{getter:function(){return"Enter search string"},mapKey:"Constants_window_timezones_filter_placeholder"},window_timezones_filter_label:{getter:function(){return"Search:"},mapKey:"Constants_window_timezones_filter_label"},openingEmailFromSupervisingStateConfirmation:{getter:function(){return"Opening email will switch you from supervision to agent state. Do you wish to proceed?"},mapKey:"Constants_openingEmailFromSupervisingStateConfirmation"}}};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a="function"==typeof e?e.apply(void 0,g(n)):String(e);return a.replace(/\{(\d+)\}/g,(function(e,t){var r=parseInt(t,10);return void 0===n[r]?e:n[r]}))}}var v=(0,_.mapValues)(p,(function(e){return(0,_.mapValues)(e,(function(e){return h(e.getter)}))})),y=(0,_.mapValues)(f,(function(e){return(0,_.mapValues)(e,(function(e){return h(e)}))})),b=(0,_.merge)(v,y);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=p;function w(e){return(0,_.mapValues)(b,(function(t,n){return(0,_.mapValues)(t,(function(t,r){return function(e,t,n,r){return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var s,c,u=null===(c=I[e])||void 0===c||null===(s=c[t])||void 0===s?void 0:s.mapKey,l=r[u];if(l)return E.apply(void 0,[l].concat(C(o)));var d=n.apply(void 0,C(o));return E.apply(void 0,[d].concat(C(o)))}}(n,r,t,e)}))}))}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?n.reduce((function(e,t,n){return e.split("{".concat(n,"}")).join(t)}),e):e}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,s,"next",e)}function s(e){T(o,r,a,i,s,"throw",e)}i(void 0)}))}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function N(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?O(e):t;var n}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var a=k(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N(this,n)}}function x(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,e);var t,n,r,a=j(o);function o(){var e;A(this,o);var t,n=O(e=a.apply(this,arguments));return R(O(e),"setLanguage",(t=D((function(e){var t,r,a,o;return x(this,(function(i){switch(i.label){case 0:return(r=e)?[3,2]:[4,n.getDefaultLanguage()];case 1:r=i.sent(),i.label=2;case 2:if((t=r)===n.stateData.language)return[2];if(a=function(){var e=n.stateData.translations[t];if(e){var r=w(e);n.produceState((function(e){e.language=t,e.t=r}))}},n.stateData.translations[t])return a(),[2];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,n.fetchTranslations(t,a)];case 4:return i.sent(),[3,6];case 5:return o=i.sent(),c.bpLogger.error("Can't get translations ".concat(t," from server:"),(0,l.getErrorMessage)(o)),[3,6];case 6:return[2]}}))})),function(e){return t.apply(this,arguments)})),R(O(e),"fetchTranslations",function(){var t,n=e.sessionConnector.getStateData().serverOrigin,r=O(e);return function(){var e=D((function(e,a){var o,i;return x(this,(function(s){switch(s.label){case 0:return t=e,o=e.replace("-","_"),[4,(0,u.apiRequests)(n).getLocalizedMessages({locale:o})];case 1:return i=s.sent(),r.produceState((function(t){t.translations[e]=i})),t===e&&a(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()}()),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({setLanguage:this.setLanguage})),this.getDefaultLanguage().then(this.setLanguage),"desktop"===this.platformSpecific.clientType()&&this.watchNavigatorLanguage()}},{key:"getDefaultLanguage",value:function(){var e=this;return D((function(){return x(this,(function(t){switch(t.label){case 0:return[4,e.localSettings.get("userLanguage")];case 1:return[2,t.sent()||e.platformSpecific.getDefaultLanguage()]}}))}))()}},{key:"watchNavigatorLanguage",value:function(){var e=this;return D((function(){var t;return x(this,(function(n){var r;return r=D((function(){return x(this,(function(t){switch(t.label){case 0:return[4,e.localSettings.get("userLanguage")];case 1:return void 0===t.sent()&&e.setLanguage(navigator.language),[2]}}))})),t=function(){return r.apply(this,arguments)},window.addEventListener("languagechange",t),e.subscriptions.push({unsubscribe:function(){window.removeEventListener("languagechange",t)}}),[2]}))}))()}}],n&&P(t.prototype,n),r&&P(t,r),o}(d.StateFactory.createBaseStateClass({name:"localizationState",controlEvents:s,trackerEvents:i,options:{},dependencies:["localSettings","platformSpecific","sessionConnector"],getInitialState:function(){return{language:"en-US",translations:{},t:b}}}))},23496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MASTER_TAB_ID_STORAGE_KEY:()=>o,appStateName:()=>r,appTypes:()=>i,tabDestinations:()=>s,tabId:()=>a});var r=["appConfigState","localizationState","sessionState","tabsState","timersState","userActivityState","agentState","bpClientState","calendarAlertState","calendarSettingsState","caseState","didState","directoryState","evaluationState","favoritesState","groupChatState","integrationApiState","interactionChatState","interactionInternalChatState","interactionState","kbSharedState","passwordValidationState","prerecordedMessagesState","recentState","recordingState","remoteAssistState","rescueState","screenPopState","serviceDetailsState","servicesDispositionsState","statsState","campaignsState","timezonesState","userDetailsState","userPresenceState","userProfileState","activitiesState","ariaStatusState","calendarState","contactsState","emiState","groupChatUIState","homePageState","interstateLogicState","kbBridge","kbState","modalsState","offlineState","predefinedChatMessageState","remoteAssistLocalState","webRtcState"],a=(0,n(68939).uuid)(),o="bp-master-tab-id",i=["chat-center","ad","adc","ais","kb","api","asu","avt","wallboard","cal","mob","sw","home-page","campaigns","omni-qm"],s=["all","boss"]},9813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ModalsStateContextProvider:()=>i,useModalComponentOpener:()=>g,useModalsState:()=>c,useModalsStateConnector:()=>u,useModalsStateMethods:()=>l,useModalsStateRef:()=>d});var r=n(13641),a=(0,r.createStateContextProvider)("ModalsStateContextProvider"),o=a.getContext,i=a.ModalsStateContextProvider,s=(0,r.createStateHooks)("modalsState",o),c=s.useModalsState,u=s.useModalsStateConnector,l=s.useModalsStateMethods,d=s.useModalsStateRef,_=n(66029),f=n(40381);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l().openModal,r=(0,f.useAsRef)(t);return(0,_.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(m({component:e,props:t},r.current,a||{}))}),[r,e,n])}},28658:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RecentStateContextProvider:()=>i,useRecentState:()=>c,useRecentStateConnector:()=>d,useRecentStateMethods:()=>l,useRecentStateRef:()=>u});var r=n(13641),a=(0,r.createStateContextProvider)("RecentStateContextProvider"),o=a.getContext,i=a.RecentStateContextProvider,s=(0,r.createStateHooks)("recentState",o),c=s.useRecentState,u=s.useRecentStateRef,l=s.useRecentStateMethods,d=s.useRecentStateConnector},22550:(e,t,n)=>{"use strict";function r(e){return!(!e.media||!e.name||e.lastName||e.firstName||!e.userId)}n.r(t),n.d(t,{isRecentDirectoryEntryItem:()=>r})},35028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RecentStateImpl:()=>kn,recentStateControlEvents:()=>o,recentStateTrackerEvents:()=>a});var r=n(64245),a={onInitialState:(0,r.event)(),onChange:(0,r.event)()},o={getRecentList:(0,r.event)(),addCompletedItem:(0,r.event)(),updateInternalChatItem:(0,r.event)(),editRecentItem:(0,r.event)(),updateInternalGroupChatRecentItems:(0,r.event)(),markEmptyInternalGroupChatRecentItemAsRead:(0,r.event)(),linkWithContact:(0,r.event)()},i=n(33976),s=n(52388),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[null==t?void 0:t.trim(),null==n?void 0:n.trim()].filter(Boolean);switch(e){case"0":default:return r.join(" ");case"1":return r.reverse().join(" ");case"2":return r.reverse().join(", ")}};const u={version:"1.7.55",country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([457]\\d{6})$","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2457]\\d{6})$","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","11\\d{8}|(?:[2368]|9\\d)\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"1|([267]\\d{6})$","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7,8}|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"0|(183[12])",0,0,0,[["8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-7]|3[2-4]|[4-6]\\d))|91(?:[0-57-9]\\d|6[0135-9])\\d)\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",[6,8,10]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365|46","1[28]|2|365(?:[0-46-9]|5[0-35-9])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","246$1",0,"246"],BD:["880","00","1\\d{9}|2\\d{7,8}|88\\d{4,6}|(?:8[0-79]|9\\d)\\d{4,8}|(?:[346]\\d|[57])\\d{5,8}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:[2689]\\d|51)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[25689]"]]]],BL:["590","00","(?:590|69\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}"],0,0,0,0,0,0,["976[01]\\d{5}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([3-8]\\d{6})$","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","90\\d{5}|(?:[2-6]|7\\d)\\d{6}",[7,8],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[2-6]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}",[10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:35(?:[02-46-9]\\d|1[02-9]|5[0-46-9])|45(?:[034]\\d|1[02-9]|2[024-9]|5[0-46-9]))\\d{4}|52(?:3[2-46-9]|4[2-4])(?:[02-9]\\d|1[02-9])\\d{4}|(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}"],0,0,0,["600[2-9]\\d{6}"]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d|8[0-24-9])\\d{7}|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|118)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",[6,8,10]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[02-9]"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-3]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","(?:[26]\\d\\d|88)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"0|(1(?:[12]\\d|79)\\d\\d)",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:1\\d|3)\\d{9}|[124-8]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1 $2",["[14][2-9]|[25-8]"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d|8[0-24-9])\\d{7}|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|235)|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",[6,8,10]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[05]\\d{10}|[46][1-8]\\d{4,9})|49(?:[0-25]\\d|3[1-689]|7[1-7])\\d{4,8}|49(?:[0-2579]\\d|[34][1-9]|6[0-8])\\d{3}|49\\d{3,4}|(?:1|[368]\\d|4[0-8])\\d{3,13}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-59]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","(?:[2-8]\\d|90)\\d{4}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],0,0,"0(11\\d{6}|6[256]\\d{6}|7[47]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[03])|(?:4[0-5]|5[0-26-9]|6[0-4]|[78][0-49])\\d\\d)|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:0\\d|20)))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"0|([25-9]\\d{5})$","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","[256]\\d{7}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-689]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590|69\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}"],0,0,0,0,0,0,["976[01]\\d{5}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|(?:[2689]\\d|70)\\d{8}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"1|([3-9]\\d{6})$","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:862\\d|9008)\\d{3}|(?:[2-46]\\d|77)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-489]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]]],HU:["36","00","[2357]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57-9]"],"06 $1"]],"06"],ID:["62","00[189]","(?:(?:007803|8\\d{4})\\d|[1-36])\\d{6}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([5-8]\\d{5})$","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1[4679]|[38]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d\\d|89(?:2|4[5-9]\\d))\\d{3}|89[45][0-4]\\d\\d|(?:1(?:44|6[346])|89(?:5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([0-24-8]\\d{5})$","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[279]|49|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[0468][01]|[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[0468][01]|[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[0468][01]|[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3[3-8]|5[2-9])","[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3(?:[3-6][2-9]|7|8[2-5])|5[2-9])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]|80"],"0$1"]],"0"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","(?:18|[2569]\\d\\d)\\d{5}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[25]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","345$1",0,"345"],KZ:["7","810","33622\\d{5}|(?:7\\d|80)\\d{8}",[10],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[7-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","758$1",0,"758"],LI:["423","00","90\\d{5}|(?:[2378]|6\\d\\d)\\d{6}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[237-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"0|(1001)"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]","5(?:29|38)[89]0"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:29(?:[189][05]|2[29]|3[01])|38[89][05])\\d{4}|5(?:2(?:[015-7]\\d|2[02-9]|3[0-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|80|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[016-8]|6[1267]|7[0-27]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],MC:["377","00","870\\d{5}|(?:[349]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590|69\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}"],0,0,0,0,0,0,["976[01]\\d{5}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"0|([24-9]\\d{6})$","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[57-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[57-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","(?:28|[68]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","670$1",0,"670"],MQ:["596","00","69\\d{7}|(?:59|97)6\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"1|([34]\\d{6})$","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[2-468]|5\\d)\\d{6}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["5"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9[13-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","1\\d{6}(?:\\d{2})?|(?:[23]1|77|88|99)\\d{7}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","(?:1(?:[01467]\\d|[2359][1-9]|8[1-79])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9])|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","[2-57-9]\\d{5}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]]],NE:["227","00","[0289]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",[5,6,7,8,9,10],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|5[89]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","9\\d{9}|[1-9]\\d{7}",[8,10],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["[1-8]|9(?:[1-579]|6[2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["83"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[0367]|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|8007\\d{4,5}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:[1-57-9]|6\\d)\\d{6}",[7,8],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["6"]]]],PE:["51","19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,0," Anexo "],PF:["689","00","[48]\\d{7}|4\\d{5}",[6,8],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[48]"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","1800\\d{7,9}|(?:2|[89]\\d{4})\\d{5}|[2-8]\\d{8}|[28]\\d{7}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|(?:[2-46-9]\\d|5[0-8])\\d{4,7}",[6,7,8,9],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"]],"0"],QA:["974","00","[2-7]\\d{7}|(?:2\\d\\d|800)\\d{4}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]]]],RE:["262","00","9769\\d{5}|(?:26|[68]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,"26[23]|69|[89]"],RO:["40","00","(?:[237]\\d|[89]0)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","[347-9]\\d{9}",[10],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",1]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","8000\\d{3}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:01|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[4589]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[2378]\\d|66|99)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d{4}|93330)\\d{4}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["24|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[1-35-9]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|(5\\d{6})$","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"1|([2-479]\\d{6})$","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","1\\d{9}|[1689]\\d{8}|[1-57]\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:00|11|[3-57-9]\\d)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"],0,1],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],0,1],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3"],0,1],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0457-9]|11"],0,1]],"8",0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|[5-8]\\d{3})\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-8]"]]]],TR:["90","00","(?:4|8\\d{5})\\d{6}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[0589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-46-8]\\d{6})$","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[26-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]","4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["[3-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}",[10],[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-28]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[0179]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:35(?:[02-46-9]\\d|1[02-9]|5[0-46-9])|45(?:[034]\\d|1[02-9]|2[024-9]|5[0-46-9]))\\d{4}|52(?:3[2-46-9]|4[2-4])(?:[02-9]\\d|1[02-9])\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","(?:[249]\\d\\d|80)\\d{5}|9\\d{6}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[24]"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","55501\\d{4}|(?:[679]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-578]\\d{6})$","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","(?:[23]\\d|[48]8)\\d{3}|(?:[57]\\d|90)\\d{5}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[579]"]]]],WF:["681","00","(?:[45]0|68|72|8\\d)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[4-8]"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","80\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,"269|63"],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","(?:63|80)0\\d{6}|(?:21|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,["[1-9]\\d{7}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"[35-7]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]\\d|7[6-8])\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|[19]\\d{7}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[19]"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-3]"]]],0,0,0,0,0,0,[0,["3(?:37\\d\\d|42)\\d{4}|3(?:2|47|7\\d{3})\\d{7}",[7,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}"]]],883:["883",0,"51\\d{7}(?:\\d{3})?",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["5"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["51[013]0\\d{8}|5100\\d{5}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var l=" \xa0\xad\u200b\u2060\u3000",d="".concat("-\u2010-\u2015\u2212\u30fc\uff0d").concat("\uff0f/").concat("\uff0e.").concat(l).concat("()\uff08\uff09\uff3b\uff3d\\[\\]").concat("~\u2053\u223c\uff5e"),_="+\uff0b";function f(e){var t="x\uff58#\uff03~\uff5e";if("parsing"===e)t=",;"+t;return";ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \xa0\\t,]*(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|["+t+"]|int|anexo|\uff49\uff4e\uff54)[:\\.\uff0e]?[ \xa0\\t,-]*"+"([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+(["+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#"}var p=f("parsing"),m=f("matching"),g=new RegExp("(?:"+p+")$","i");function h(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}var v=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=this.constructor.name,this.message=t,this.stack=new Error(t).stack};function y(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),a=0;a<3;a++){var o=Number(n[a]),i=Number(r[a]);if(o>i)return 1;if(i>o)return-1;if(!isNaN(o)&&isNaN(i))return 1;if(isNaN(o)&&!isNaN(i))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}(v.prototype=Object.create(Error.prototype)).constructor=v;var w=" ext. ",E=function(){function e(t){S(this,e),function(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!R(e)||!R(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(R(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+k(e)+": "+e,"."))}(t),this.metadata=t,j.call(this,t)}return I(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter((function(e){return"001"!==e}))}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new O(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new O(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){this.selectNumberingPlan(null,e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),O=function(){function e(t,n){S(this,e),this.globalMetadataObject=n,this.metadata=t,j.call(this,n.metadata)}return I(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map((function(t){return new T(t,e)}))}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&P(this.types(),e))return new A(P(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?w:this.metadata[13]||w}}]),e}(),T=function(){function e(t,n){S(this,e),this._format=t,this.metadata=n}return I(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return this.nationalPrefixFormattingRule()&&!D.test(this.nationalPrefixFormattingRule())}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),D=/^\(?\$1\)?$/,A=function(){function e(t,n){S(this,e),this.type=t,this.metadata=n}return I(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function P(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}var R=function(e){return"object"===b(e)},k=function(e){return b(e)};function N(e,t){if((t=new E(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function M(e,t){return void 0!==t.countries[e]}function j(e){this.v1=!e.version,this.v2=void 0!==e.version&&-1===y(e.version,"1.2.0"),this.v3=void 0!==e.version&&-1===y(e.version,"1.7.35"),this.v4=void 0!==e.version}var x=new RegExp("^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^"+("[+\uff0b]{0,1}(?:["+d+"]*["+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}["+d+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*")+"(?:"+p+")?$","i");function L(e){return e.length>=2&&x.test(e)}var K={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"};function F(e){return K[e]}function $(e){var t="",n=e.split(""),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=F(o);i&&(t+=i)}return t}function U(e){var t="",n=e.split(""),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}t+=B(o,t)||""}return t}function B(e,t){if("+"===e){if(t)return;return"+"}return F(e)}var q=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function G(e,t,n){if(t=t||{},e.country){(n=new E(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(h(r,n.nationalNumberPattern())){if(H(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?H(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var a=0,o=q;a<o.length;a++){var i=o[a];if(H(r,i,n))return i}}}}function H(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&h(e,t.pattern()))}function V(e,t,n){var r=n.type(t),a=r&&r.possibleLengths()||n.possibleLengths();if(!a)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!n.type("FIXED_LINE"))return V(e,"MOBILE",n);var o=n.type("MOBILE");o&&(a=function(e,t){var n=e.slice(),r=t,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var s=i;e.indexOf(s)<0&&n.push(s)}return n.sort((function(e,t){return e-t}))}(a,o.possibleLengths()))}else if(t&&!r)return"INVALID_LENGTH";var i=e.length,s=a[0];return s===i?"IS_POSSIBLE":s>i?"TOO_SHORT":a[a.length-1]<i?"TOO_LONG":a.indexOf(i,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function W(e,t,n){return"IS_POSSIBLE"===V(e,void 0,n)}var z=new RegExp("([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])"),Y=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Q(e,t,n,r){if(t){var a=new E(r);a.selectNumberingPlan(t,n);var o=new RegExp(a.IDDPrefix());if(0===e.search(o)){var i=(e=e.slice(e.match(o)[0].length)).match(z);if(!(i&&null!=i[1]&&i[1].length>0&&"0"===i[1]))return e}}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X(e,t,n){return t=t||{},n=new E(n),!!e.country&&(n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==G(e,t,n.metadata):h(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern()))}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function te(e,t,n,r){if(n=n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},ee,n):ee,r=new E(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.chooseCountryByCountryCallingCode(e.countryCallingCode)}var a,o=r.countryCallingCode(),i=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return i?ie(a=ae(i,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return i?(a=ae(i,"INTERNATIONAL",r,n),ie(a="+".concat(o," ").concat(a),e.ext,r,n.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(i);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(o).concat(i),ext:e.ext});case"IDD":if(!n.fromCountry)return;var s=function(e,t,n){var r=new E(n);return r.selectNumberingPlan(e,t),Y.test(r.IDDPrefix())?r.IDDPrefix():r.defaultIDDPrefix()}(n.fromCountry,void 0,r.metadata);if(!s)return;if(n.humanReadable){var c=o&&function(e,t,n,r,a){var o=new E(r.metadata);if(o.country(n),t===o.countryCallingCode())return"1"===t?t+" "+ae(e,"NATIONAL",r,a):ae(e,"NATIONAL",r,a)}(i,r.countryCallingCode(),n.fromCountry,r,n);return ie(a=c||"".concat(s," ").concat(o," ").concat(ae(i,"INTERNATIONAL",r,n)),e.ext,r,n.formatExtension)}return"".concat(s).concat(o).concat(i);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}var ne=/(\$\d)/;function re(e,t,n,r,a){var o=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():r&&t.nationalPrefixFormattingRule()?t.format().replace(ne,t.nationalPrefixFormattingRule()):t.format());return n?oe(o):o}function ae(e,t,n,r){var a=function(e,t){var n=e,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o;if(i.leadingDigitsPatterns().length>0){var s=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(s))continue}if(h(t,i.pattern()))return i}}(n.formats(),e);return a?re(e,a,"INTERNATIONAL"===t,!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!1!==r.nationalPrefix):e}function oe(e){return e.replace(new RegExp("[".concat(d,"]+"),"g")," ").trim()}function ie(e,t,n,r){return t?r(e,t,n):e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!n)throw new TypeError("`nationalNumber` not passed");var a=new E(r);le(t)&&(this.country=t,a.country(t),t=a.countryCallingCode()),this.countryCallingCode=t,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.metadata=r}var t,n,r;return t=e,n=[{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new E(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.chooseCountryByCountryCallingCode(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.chooseCountryByCountryCallingCode(e.countryCallingCode)}}if(n.possibleLengths())return W(e.phone||e.nationalNumber,0,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.metadata)}},{key:"isValid",value:function(){return X(this,{v2:!0},this.metadata)}},{key:"isNonGeographic",value:function(){return new E(this.metadata).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return G(this,{v2:!0},this.metadata)}},{key:"format",value:function(e,t){return te(this,e,t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){se(e,t,n[t])}))}return e}({},t,{v2:!0}):{v2:!0},this.metadata)}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],n&&ce(t.prototype,n),r&&ce(t,r),e}(),le=function(e){return/^[A-Z]{2}$/.test(e)},de=new RegExp("[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]"),_e=new RegExp("[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+$");function fe(e,t,n){if(t=t||{},n=new E(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new v("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t){if(e&&0===e.indexOf("tel:"))return function(e){var t,n,r=(e=e.replace(/^tel:/,"tel=")).split(";"),a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var s=J(i.split("="),2),c=s[0],u=s[1];switch(c){case"tel":t=u;break;case"ext":n=u;break;case"phone-context":"+"===u[0]&&(t=u+t)}}if(!L(t))return{};var l={number:t};return n&&(l.ext=n),l}(e);var n=function(e,t){if(!e)return;if(e.length>250){if(t)throw new v("TOO_LONG");return}var n=e.search(de);if(n<0)return;return e.slice(n).replace(_e,"")}(e,t);if(!n||!L(n))return{};var r=function(e){var t=e.search(g);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(g),a=1;a<r.length;){if(null!=r[a]&&r[a].length>0)return{number:n,ext:r[a]};a++}}(n);if(r.ext)return r;return{number:n}}(e,t.v2),a=r.number,o=r.ext;if(!a){if(t.v2)throw new v("NOT_A_NUMBER");return{}}var i=function(e,t,n,r){var a,o=he(U(e),t,n,r.metadata),i=o.countryCallingCode,s=o.number;if(i)r.chooseCountryByCountryCallingCode(i);else{if(!s||!t&&!n)return{};r.selectNumberingPlan(t,n),t&&(a=t),i=n||N(t,r.metadata)}if(!s)return{countryCallingCode:i};var c=ge(U(s),r),u=c.nationalNumber,l=c.carrierCode,d=me(i,u,r);d&&(a=d,"001"===d||r.country(a));return{country:a,countryCallingCode:i,nationalNumber:u,carrierCode:l}}(a,t.defaultCountry,t.defaultCallingCode,n),s=i.country,c=i.nationalNumber,u=i.countryCallingCode,l=i.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new v("INVALID_COUNTRY");return{}}if(!c||c.length<2){if(t.v2)throw new v("TOO_SHORT");return{}}if(c.length>17){if(t.v2)throw new v("TOO_LONG");return{}}if(t.v2){var d=new ue(u,c,n.metadata);return s&&(d.country=s),l&&(d.carrierCode=l),o&&(d.ext=o),d}var _=!!(t.extended?n.hasSelectedNumberingPlan():s)&&h(c,n.nationalNumberPattern());return t.extended?{country:s,countryCallingCode:u,carrierCode:l,valid:_,possible:!!_||!(!0!==t.extended||!n.possibleLengths()||!W(c,0,n)),phone:c,ext:o}:_?function(e,t,n){var r={country:e,phone:t};n&&(r.ext=n);return r}(s,c,o):{}}function pe(e,t){if(e&&t.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var a,o,i=r.length-1;if(t.nationalPrefixTransformRule()&&i>0&&r[i])a=e.replace(n,t.nationalPrefixTransformRule()),i>1&&r[i]&&(o=r[1]);else{var s=r[0];a=e.slice(s.length),i>0&&(o=r[1])}if(!h(e,t.nationalNumberPattern())||h(a,t.nationalNumberPattern()))return{nationalNumber:a,carrierCode:o}}}return{nationalNumber:e}}function me(e,t,n){var r=n.getCountryCodesForCallingCode(e);if(r)return 1===r.length?r[0]:function(e,t,n){n=new E(n);var r=e,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var s=i;if(n.country(s),n.leadingDigits()){if(t&&0===t.search(n.leadingDigits()))return s}else if(G({phone:t,country:s},void 0,n.metadata))return s}}(r,t,n.metadata)}function ge(e,t){var n=pe(U(e),t),r=n.nationalNumber,a=n.carrierCode;if(r.length!==e.length+(a?a.length:0)&&t.possibleLengths())switch(V(r,void 0,t)){case"TOO_SHORT":case"INVALID_LENGTH":return{nationalNumber:e}}return{nationalNumber:r,carrierCode:a}}function he(e,t,n,r){if(!e)return{};if("+"!==e[0]){var a=Q(e,t,n,r);if(!a||a===e){if(t||n){var o=ve(e,t,n,r),i=o.countryCallingCode,s=o.number;if(i)return{countryCallingCode:i,number:s}}return{number:e}}e="+"+a}if("0"===e[1])return{};r=new E(r);for(var c=2;c-1<=3&&c<=e.length;){var u=e.slice(1,c);if(r.hasCallingCode(u))return r.selectNumberingPlan(void 0,u),{countryCallingCode:u,number:e.slice(c)};c++}return{}}function ve(e,t,n,r){var a=t?N(t,r):n;if(0===e.indexOf(a)){(r=new E(r)).selectNumberingPlan(t,n);var o=e.slice(a.length),i=pe(o,r).nationalNumber,s=pe(e,r).nationalNumber;if(!h(s,r.nationalNumberPattern())&&h(i,r.nationalNumberPattern())||"TOO_LONG"===V(s,void 0,r))return{countryCallingCode:a,number:o}}return{number:e}}function ye(e,t){if(e<0||t<=0||t<e)throw new TypeError;return"{".concat(e,",").concat(t,"}")}function be(e,t){var n=t.search(e);return n>=0?t.slice(0,n):t}var Se=/[\\/] *x/;function Ce(e){return be(Se,e)}var Ie=/(?:(?:[0-3]?\d\/[01]?\d)|(?:[01]?\d\/[0-3]?\d))\/(?:[12]\d)?\d{2}/,we=/[12]\d{3}[-/]?[01]\d[-/]?[0-3]\d +[0-2]\d$/,Ee=/^:[0-5]\d/;function Oe(e,t,n){if(Ie.test(e))return!1;if(we.test(e)){var r=n.slice(t+e.length);if(Ee.test(r))return!1}return!0}var Te=" \xa0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000",De="[".concat(Te,"]"),Ae="[^".concat(Te,"]"),Pe="[".concat("0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19","]"),Re="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",ke="[".concat(Re,"]"),Ne=new RegExp(ke),Me="[".concat("$\xa2-\xa5\u058f\u060b\u09f2\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20b9\ua838\ufdfc\ufe69\uff04\uffe0\uffe1\uffe5\uffe6","]"),je=new RegExp(Me),xe="[".concat("\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1bab\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099\u309a\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaec\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26","]"),Le=new RegExp(xe),Ke=new RegExp("[\0-\x7f\x80-\xff\u0100-\u017f\u1e00-\u1eff\u0180-\u024f\u0300-\u036f]");function Fe(e){return!(!Ne.test(e)&&!Le.test(e))&&Ke.test(e)}function $e(e){return"%"===e||je.test(e)}var Ue="(\\[\uff08\uff3b",Be=")\\]\uff09\uff3d",qe="[^".concat(Ue).concat(Be,"]"),Ge="[".concat(Ue).concat(_,"]"),He=new RegExp("^"+Ge),Ve=ye(0,3),We=new RegExp("^(?:[(\\[\uff08\uff3b])?(?:"+qe+"+["+")\\]\uff09\uff3d])?"+qe+"+(?:["+"(\\[\uff08\uff3b]"+qe+"+["+")\\]\uff09\uff3d])"+Ve+qe+"*$"),ze=/\d{1,5}-+\d{1,5}\s{0,4}\(\d{1,4}/;function Ye(e,t,n,r){if(We.test(e)&&!ze.test(e)){if("POSSIBLE"!==r){if(t>0&&!He.test(e)){var a=n[t-1];if($e(a)||Fe(a))return!1}var o=t+e.length;if(o<n.length){var i=n[o];if($e(i)||Fe(i))return!1}}return!0}}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe="[+\uff0b]{0,1}(?:["+d+"]*["+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}["+d+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*",Ze=new RegExp("^[ \xa0\xad\u200b\u2060\u3000]+"),et=new RegExp("["+d+"]+$");var tt=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Je(this,"state","NOT_READY"),this.text=t,this.options=n||{},this.metadata=r,this.regexp=new RegExp(Xe+"(?:"+p+")?","ig")}var t,n,r;return t=e,n=[{key:"find",value:function(){var e=this.regexp.exec(this.text);if(e){var t=e[0],n=e.index;t=t.replace(Ze,""),n+=e[0].length-t.length,t=Ce(t=t.replace(et,""));var r=this.parseCandidate(t,n);return r||this.find()}}},{key:"parseCandidate",value:function(e,t){if(Oe(e,t,this.text)&&Ye(e,t,this.text,this.options.extended?"POSSIBLE":"VALID")){var n=fe(e,this.options,this.metadata);if(n.phone)return n.startsAt=t,n.endsAt=t+e.length,n}}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.last_match=this.find(),this.last_match?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){if(!this.hasNext())throw new Error("No next element");var e=this.last_match;return this.last_match=null,this.state="NOT_READY",e}}],n&&Qe(t.prototype,n),r&&Qe(t,r),e}();function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var at=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;rt(this,e),this.key=t,this.value=n,this.next=r,this.prev=a},ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;rt(this,e),this.size=0,this.limit=t,this.head=null,this.tail=null,this.cache={}}var t,n,r;return t=e,(n=[{key:"put",value:function(e,t){if(this.ensureLimit(),this.head){var n=new at(e,t,this.head);this.head.prev=n,this.head=n}else this.head=this.tail=new at(e,t);this.cache[e]=this.head,this.size++}},{key:"get",value:function(e){if(this.cache[e]){var t=this.cache[e].value;return this.remove(e),this.put(e,t),t}console.log("Item not available in cache for key ".concat(e))}},{key:"ensureLimit",value:function(){this.size===this.limit&&this.remove(this.tail.key)}},{key:"remove",value:function(e){var t=this.cache[e];null!==t.prev?t.prev.next=t.next:this.head=t.next,null!==t.next?t.next.prev=t.prev:this.tail=t.prev,delete this.cache[e],this.size--}},{key:"clear",value:function(){this.head=null,this.tail=null,this.size=0,this.cache={}}}])&&nt(t.prototype,n),r&&nt(t,r),e}();function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var st=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache=new ot(t)}var t,n,r;return t=e,(n=[{key:"getPatternForRegExp",value:function(e){var t=this.cache.get(e);return t||(t=new RegExp("^"+e),this.cache.put(e,t)),t}}])&&it(t.prototype,n),r&&it(t,r),e}();const ct={POSSIBLE:function(e,t,n){return!0},VALID:function(e,t,n){return!(!X(e,void 0,n)||!ut(e,t.toString(),n))},STRICT_GROUPING:function(e,t,n,r){var a=t.toString();return!(!X(e,void 0,n)||!ut(e,a,n)||dt(e,a)||!lt(e,n))&&_t(e,t,n,mt,r)},EXACT_GROUPING:function(e,t,n,r){var a=t.toString();return!(!X(e,void 0,n)||!ut(e,a,n)||dt(e,a)||!lt(e,n))&&_t(e,t,n,pt,r)}};function ut(e,t,n){for(var r=0;r<t.length-1;r++){var a=t.charAt(r);if("x"===a||"X"===a){var o=t.charAt(r+1);if("x"===o||"X"===o){if(r++,util.isNumberMatch(e,t.substring(r))!=MatchType.NSN_MATCH)return!1}else if($(t.substring(r))!==e.ext)return!1}}return!0}function lt(e,t){if("FROM_DEFAULT_COUNTRY"!=e.getCountryCodeSource())return!0;var n=util.getRegionCodeForCountryCode(e.getCountryCode()),r=util.getMetadataForRegion(n);if(null==r)return!0;var a=util.getNationalSignificantNumber(e),o=util.chooseFormattingPatternForNumber(r.numberFormats(),a);if(o&&o.getNationalPrefixFormattingRule().length>0){if(o.getNationalPrefixOptionalWhenFormatting())return!0;if(PhoneNumberUtil.formattingRuleHasFirstGroupOnly(o.getNationalPrefixFormattingRule()))return!0;var i=PhoneNumberUtil.normalizeDigitsOnly(e.getRawInput());return util.maybeStripNationalPrefixAndCarrierCode(i,r,null)}return!0}function dt(e,t){var n=t.indexOf("/");if(n<0)return!1;var r=t.indexOf("/",n+1);return!(r<0)&&(!(e.getCountryCodeSource()===CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN||e.getCountryCodeSource()===CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN)||PhoneNumberUtil.normalizeDigitsOnly(t.substring(0,n))!==String(e.getCountryCode())||t.slice(r+1).indexOf("/")>=0)}function _t(e,t,n,r,a){var o=normalizeDigits(t,!0),i=ft(n,e,null);if(r(n,e,o,i))return!0;var s=MetadataManager.getAlternateFormatsForCountry(e.getCountryCode()),c=util.getNationalSignificantNumber(e);if(s){var u=s.numberFormats(),l=Array.isArray(u),d=0;for(u=l?u:u[Symbol.iterator]();;){var _;if(l){if(d>=u.length)break;_=u[d++]}else{if((d=u.next()).done)break;_=d.value}var f=_;if(f.leadingDigitsPatterns().length>0)if(!a.getPatternForRegExp("^"+f.leadingDigitsPatterns()[0]).test(c))continue;if(r(n,e,o,i=ft(n,e,f)))return!0}}return!1}function ft(e,t,n){if(n){var r=util.getNationalSignificantNumber(t);return util.formatNsnUsingPattern(r,n,"RFC3966",e).split("-")}var a=formatNumber(t,"RFC3966",e),o=a.indexOf(";");o<0&&(o=a.length);var i=a.indexOf("-")+1;return a.slice(i,o).split("-")}function pt(e,t,n,r){var a=n.split(NON_DIGITS_PATTERN),o=t.hasExtension()?a.length-2:a.length-1;if(1==a.length||a[o].contains(util.getNationalSignificantNumber(t)))return!0;for(var i,s,c=r.length-1;c>0&&o>=0;){if(a[o]!==r[c])return!1;c--,o--}return o>=0&&(i=a[o],s=r[0],i.indexOf(s,i.length-s.length)===i.length-s.length)}function mt(e,t,n,r){var a,o,i=0;if(t.getCountryCodeSource()!==CountryCodeSource.FROM_DEFAULT_COUNTRY){var s=String(t.getCountryCode());i=n.indexOf(s)+s.length()}for(var c=0;c<r.length;c++){if((i=n.indexOf(r[c],i))<0)return!1;if(i+=r[c].length(),0==c&&i<n.length()){var u=util.getRegionCodeForCountryCode(t.getCountryCode());if(null!=util.getNddPrefixForRegion(u,!0)&&Character.isDigit(n.charAt(i))){var l=util.getNationalSignificantNumber(t);return a=n.slice(i-r[c].length),o=l,0===a.indexOf(o)}}}return n.slice(i).contains(t.getExtension())}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yt(e,t,n[t])}))}return e}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=["\\/+(.*)/","(\\([^(]*)","(?:".concat(De,"-|-").concat(De,")").concat(De,"*(.+)"),"[\u2012-\u2015\uff0d]".concat(De,"*(.+)"),"\\.+".concat(De,"*([^.]+)"),"".concat(De,"+(").concat(Ae,"+)")],St=ye(0,2),Ct=ye(0,4),It=ye(0,20),wt="[".concat(d,"]")+Ct,Et=Pe+ye(1,20),Ot="(?:"+Ge+wt+")"+St+Et+"(?:"+wt+Et+")"+It+"(?:"+m+")?",Tt=new RegExp("[^".concat("0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d66-\u0d75\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19").concat(Re,"#]+$")),Dt=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,At=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(ht(this,e),yt(this,"state","NOT_READY"),yt(this,"searchIndex",0),yt(this,"regExpCache",new st(32)),!(n=gt({},n,{defaultCallingCode:n.defaultCallingCode,defaultCountry:n.defaultCountry&&M(n.defaultCountry,r)?n.defaultCountry:void 0,leniency:n.leniency||n.extended?"POSSIBLE":"VALID",maxTries:n.maxTries||Dt})).leniency)throw new TypeError("`Leniency` not supplied");if(n.maxTries<0)throw new TypeError("`maxTries` not supplied");if(this.text=t,this.options=n,this.metadata=r,this.leniency=ct[n.leniency],!this.leniency)throw new TypeError("Unknown leniency: ".concat(n.leniency,"."));this.maxTries=n.maxTries,this.PATTERN=new RegExp(Ot,"ig")}var t,n,r;return t=e,n=[{key:"find",value:function(){for(var e;this.maxTries>0&&null!==(e=this.PATTERN.exec(this.text));){var t=e[0],n=e.index;if(Oe(t=Ce(t),n,this.text)){var r=this.parseAndVerify(t,n,this.text)||this.extractInnerMatch(t,n,this.text);if(r){if(this.options.v2){var a=new ue(r.country||r.countryCallingCode,r.phone,this.metadata);return r.ext&&(a.ext=r.ext),{startsAt:r.startsAt,endsAt:r.endsAt,number:a}}return r}}this.maxTries--}}},{key:"extractInnerMatch",value:function(e,t,n){for(var r=0,a=bt;r<a.length;r++)for(var o=!0,i=void 0,s=new RegExp(a[r],"g");null!==(i=s.exec(e))&&this.maxTries>0;){if(o){var c=be(Tt,e.slice(0,i.index)),u=this.parseAndVerify(c,t,n);if(u)return u;this.maxTries--,o=!1}var l=be(Tt,i[1]),d=this.parseAndVerify(l,t+i.index,n);if(d)return d;this.maxTries--}}},{key:"parseAndVerify",value:function(e,t,n){if(Ye(e,t,n,this.options.leniency)){var r=fe(e,{extended:!0,defaultCountry:this.options.defaultCountry,defaultCallingCode:this.options.defaultCallingCode},this.metadata);if(r.possible&&this.leniency(r,e,this.metadata,this.regExpCache)){var a={startsAt:t,endsAt:t+e.length,phone:r.phone};return r.country&&"001"!==r.country?a.country=r.country:a.countryCallingCode=r.countryCallingCode,r.ext&&(a.ext=r.ext),a}}}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.lastMatch=this.find(),this.lastMatch?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){if(!this.hasNext())throw new Error("No next element");var e=this.lastMatch;return this.lastMatch=null,this.state="NOT_READY",e}}],n&&vt(t.prototype,n),r&&vt(t,r),e}();function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kt=Gt("9",15),Nt="x",Mt=new RegExp(Nt),jt=/[- ]/,xt=function(){return/\[([^\[\]])*\]/g},Lt=function(){return/\d(?=[^,}][^,}])/g},Kt=new RegExp("^["+d+"]*(\\$\\d["+d+"]*)+$"),Ft=new RegExp("^"+("["+d+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+")+"$","i"),$t="(?:[+\uff0b]["+d+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*|["+d+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+)",Ut=new RegExp("[^"+d+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+.*$"),Bt=function(){function e(t,n){var r,a,o,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={},(a="options")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,this.metadata=new E(n),t&&("object"===Pt(t)?(i=t.defaultCountry,s=t.defaultCallingCode):i=t),i&&this.metadata.hasCountry(i)&&(this.defaultCountry=i),s&&(this.defaultCallingCode=s),this.reset()}var t,n,r;return t=e,n=[{key:"reset",value:function(){return this.formattedOutput="",this.international=!1,this.internationalPrefix=void 0,this.countryCallingCode=void 0,this.digits="",this.nationalNumberDigits="",this.nationalPrefix="",this.carrierCode="",this.setCountry(this.defaultCountry,this.defaultCallingCode),this}},{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"isInternational",value:function(){return this.international}},{key:"getCountryCallingCode",value:function(){return this.countryCallingCode}},{key:"getCountry",value:function(){if(this.digits){var e=this.country;return e}}},{key:"setCountry",value:function(e,t){this.country=e,this.metadata.selectNumberingPlan(e,t),this.metadata.hasSelectedNumberingPlan()?this.initializePhoneNumberFormatsForCountry():this.matchingFormats=[],this.resetFormat()}},{key:"input",value:function(e){var t=this.extractFormattedDigits(e);return Ft.test(t)&&(this.formattedOutput=this.getFullNumber(this.inputDigits($(t))||this.getNonFormattedNationalNumber())),this.formattedOutput}},{key:"extractFormattedDigits",value:function(e){var t=function(e){var t,n=e.search($t);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice("+".length)),e=e.replace(Ut,""),t&&(e="+"+e),e}(e)||"";return"+"===t[0]&&(t=t.slice("+".length),this.digits||(this.formattedOutput="+",this.startInternationalNumber())),t}},{key:"startInternationalNumber",value:function(){this.international=!0,this.setCountry()}},{key:"inputDigits",value:function(e){if(!this.digits){var t=Q(e,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);t&&t!==e&&(this.internationalPrefix=e.slice(0,e.length-t.length),e=t,this.startInternationalNumber())}if(this.digits+=e,this.isInternational())if(this.countryCallingCode)this.nationalNumberDigits+=e,this.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry();else{if(!this.extractCountryCallingCode())return;this.nationalNumberDigits=this.digits.slice(this.countryCallingCode.length),this.determineTheCountry()}else{this.nationalNumberDigits+=e,this.country||this.determineTheCountry();var n=this.nationalPrefix;this.nationalNumberDigits=this.nationalPrefix+this.nationalNumberDigits,this.extractNationalPrefix(),this.nationalPrefix!==n&&(this.initializePhoneNumberFormatsForCountry(),this.resetFormat())}return this.nationalNumberDigits&&this.matchFormats(this.nationalNumberDigits),this.formatNationalNumberWithNextDigits(e)}},{key:"formatNationalNumberWithNextDigits",value:function(e){var t=this.attemptToFormatCompletePhoneNumber();if(t)return t;var n=this.chosenFormat,r=this.chooseFormat();return r?r===n?this.formatNextNationalNumberDigits(e):this.reformatNationalNumber():void 0}},{key:"chooseFormat",value:function(){var e=this.matchingFormats,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;if(this.chosenFormat===a)break;if(this.createFormattingTemplate(a)){this.chosenFormat=a,this.populatedNationalNumberTemplatePosition=-1;break}}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"reformatNationalNumber",value:function(){return this.formatNextNationalNumberDigits(this.nationalPrefix+this.nationalNumberDigits)}},{key:"initializePhoneNumberFormatsForCountry",value:function(){this.matchingFormats=this.metadata.formats().filter((function(e){return Kt.test(e.internationalFormat())}))}},{key:"matchFormats",value:function(e){var t=this,n=e.length-3;n<0&&(n=0),this.matchingFormats=this.matchingFormats.filter((function(r){if(!t.isInternational()&&!t.nationalPrefix&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())return!1;var a=r.leadingDigitsPatterns().length;if(0===a)return!0;if(e.length<3)return!0;n=Math.min(n,a-1);var o=r.leadingDigitsPatterns()[n];return new RegExp("^(".concat(o,")")).test(e)})),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return"1"===this.metadata.countryCallingCode()||e&&e.nationalPrefixFormattingRule()&&jt.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"attemptToFormatCompletePhoneNumber",value:function(){var e=this.matchingFormats,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;if(new RegExp("^(?:".concat(a.pattern(),")$")).test(this.nationalNumberDigits)){var o=re(this.nationalNumberDigits,a,this.isInternational(),!1,this.metadata);if($(o)===this.nationalNumberDigits){if(this.nationalPrefix){var i=re(this.nationalNumberDigits,a,this.isInternational(),!0,this.metadata);o=$(i)===this.nationalPrefix+this.nationalNumberDigits?i:this.nationalPrefix+this.getSeparatorAfterNationalPrefix(a)+o}return this.resetFormat(),this.chosenFormat=a,this.createFormattingTemplate(a)?this.reformatNationalNumber():(this.template=this.getFullNumber(o).replace(/[\d\+]/g,Nt),this.populatedNationalNumberTemplate=o,this.populatedNationalNumberTemplatePosition=this.populatedNationalNumberTemplate.length-1),o}}}}},{key:"getInternationalPrefix",value:function(e){return this.internationalPrefix?e&&!1===e.spacing?this.internationalPrefix:this.internationalPrefix+" ":"+"}},{key:"getFullNumber",value:function(e){if(this.isInternational()){var t=this.getInternationalPrefix();return this.countryCallingCode?e?"".concat(t).concat(this.countryCallingCode," ").concat(e):"".concat(t).concat(this.countryCallingCode):"".concat(t).concat(this.digits)}return e}},{key:"getNonFormattedNationalNumber",value:function(){return this.nationalPrefix+(this.nationalPrefix&&this.nationalNumberDigits&&this.getSeparatorAfterNationalPrefix())+this.nationalNumberDigits}},{key:"extractCountryCallingCode",value:function(){var e=he("+"+this.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),t=e.countryCallingCode,n=e.number;if(t)return this.nationalNumberDigits=n,this.countryCallingCode=t,this.metadata.chooseCountryByCountryCallingCode(t),this.initializePhoneNumberFormatsForCountry(),this.resetFormat(),this.metadata.hasSelectedNumberingPlan()}},{key:"extractNationalPrefix",value:function(){if(this.nationalPrefix="",this.metadata.hasSelectedNumberingPlan()){var e=pe(this.nationalNumberDigits,this.metadata),t=e.nationalNumber,n=e.carrierCode;if(t){var r=this.nationalNumberDigits.indexOf(t);if(r<0||r!==this.nationalNumberDigits.length-t.length)return}return n&&(this.carrierCode=n),this.nationalPrefix=this.nationalNumberDigits.slice(0,this.nationalNumberDigits.length-t.length),this.nationalNumberDigits=t,this.nationalPrefix}}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.metadata.getCountryCodesForCallingCode(this.countryCallingCode);return e&&e.length>1}},{key:"createFormattingTemplate",value:function(e){if(!(e.pattern().indexOf("|")>=0)){var t=this.getTemplateForNumberFormatPattern(e,this.nationalPrefix);if(t)return this.template=t,this.populatedNationalNumberTemplate=t,this.isInternational()&&(this.template=this.getInternationalPrefix().replace(/[\d\+]/g,Nt)+Gt(Nt,this.countryCallingCode.length)+" "+t),this.template}}},{key:"getTemplateForNumberFormatPattern",value:function(e,t){var n=e.pattern();n=n.replace(xt(),"\\d").replace(Lt(),"\\d");var r=kt.match(n)[0];if(!(this.nationalNumberDigits.length>r.length)){var a=new RegExp("^"+n+"$"),o=this.nationalNumberDigits.replace(/\d/g,"9");a.test(o)&&(r=o);var i,s=this.getFormatFormat(e);if(t&&e.nationalPrefixFormattingRule()){var c=s.replace(ne,e.nationalPrefixFormattingRule());if($(c)===t+$(s)){s=c,i=!0;for(var u=t.length;u>0;)s=s.replace(/\d/,Nt),u--}}var l=r.replace(new RegExp(n),s).replace(new RegExp("9","g"),Nt);return t&&(i||(l=Gt(Nt,t.length)+this.getSeparatorAfterNationalPrefix(e)+l)),l}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=e.split(""),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a;if(this.populatedNationalNumberTemplate.slice(this.populatedNationalNumberTemplatePosition+1).search(Mt)<0)return void this.resetFormat();this.populatedNationalNumberTemplatePosition=this.populatedNationalNumberTemplate.search(Mt),this.populatedNationalNumberTemplate=this.populatedNationalNumberTemplate.replace(Mt,o)}return qt(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"getFormatFormat",value:function(e){return this.isInternational()?oe(e.internationalFormat()):e.format()}},{key:"determineTheCountry",value:function(){this.country=me(this.isInternational()?this.countryCallingCode:this.defaultCallingCode,this.nationalNumberDigits,this.metadata)}},{key:"getNumber",value:function(){if(this.isInternational()){if(!this.countryCallingCode)return}else if(!this.country&&!this.defaultCallingCode)return;if(this.nationalNumberDigits){var e=this.getCountry(),t=this.getCountryCallingCode()||this.defaultCallingCode,n=this.nationalNumberDigits,r=this.carrierCode;if(!this.isInternational()&&this.nationalNumberDigits===this.digits){var a=ve(this.digits,e,t,this.metadata.metadata),o=a.countryCallingCode,i=a.number;if(o){var s=ge(i,this.metadata);n=s.nationalNumber,r=s.carrierCode}}var c=new ue(e||t,n,this.metadata.metadata);return r&&(c.carrierCode=r),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.nationalNumberDigits}},{key:"getNonFormattedTemplate",value:function(){return this.getFullNumber(this.getNonFormattedNationalNumber()).replace(/[\+\d]/g,Nt)}},{key:"getTemplate",value:function(){if(!this.template)return this.getNonFormattedTemplate();for(var e=-1,t=0;t<(this.isInternational()?this.getInternationalPrefix({spacing:!1}).length:0)+this.digits.length;)e=this.template.indexOf(Nt,e+1),t++;return qt(this.template,e+1)}}],n&&Rt(t.prototype,n),r&&Rt(t,r),e}();function qt(e,t){return")"===e[t]&&t++,function(e){for(var t=[],n=0;n<e.length;)"("===e[n]?t.push(n):")"===e[n]&&t.pop(),n++;var r=0,a="";t.push(e.length);for(var o=0,i=t;o<i.length;o++){var s=i[o];a+=e.slice(r,s),r=s+1}return a}(e.slice(0,t))}function Gt(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function Ht(e,t){tt.call(this,e,t,u)}function Vt(e,t){At.call(this,e,t,u)}function Wt(e){Bt.call(this,e,u)}Ht.prototype=Object.create(tt.prototype,{}),Ht.prototype.constructor=Ht,Vt.prototype=Object.create(At.prototype,{}),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(Bt.prototype,{}),Wt.prototype.constructor=Wt;new Wt("US");var zt=n(26220),Yt=n(18189),Qt=n(40381),Jt=n(50944),Xt=n(26552),Zt=n(68939),en=n(16152),tn=n(38756),nn=n(69923);function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rn(e,t,n[t])}))}return e}function on(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function sn(e){return{conv_id:e.chatId,name:e.title,type:"group",created_by_firstname:e.createdByFirstName,created_by_lastname:e.createdByLastName,created_by_login_id:e.createdByLoginId,created_by_user_id:e.createdByUserId,members:(0,Jt.toKVArray)(e.members,(function(e){return{user_id:e.id,firstname:e.firstName,lastname:e.lastName,login_id:e.login}})),unread_count:(null==e?void 0:e.unreadCount)?"".concat(e.unreadCount):void 0}}function cn(e,t){return{answered:!!t.answered,associatedCRMObjects:t.associatedCRMObjects,caseId:t.case_id,caseNumber:t.case_number,caseTitle:t.case_title,channel:t.channel,contactId:t.contactId,dataId:e,direction:t.direction,duration:t.duration,email:t.email,firstName:t.firstName,globalInteractionId:t.globalInteractionId,groupChatData:t.group_chat_info?nn.GroupChatConvertors.incomingChatInfoToChatItem(t.group_chat_info):void 0,itemId:t.item_id,lastMessage:t.lastMessage,lastMessageAuthor:t.lastMessageAuthor,lastName:t.lastName,media:t.media,messengerUserId:t.messenger_user_id,name:t.name,number:t.number,ownerId:t.owner_id,parties:t.parties,photoUrl:t.photoUrl,postfix:t.postfix,removedFromACL:t.removedFromACL,serviceId:t.serviceId,serviceName:t.serviceName,time:t.time,type:t.type,userId:t.refId,userType:t.userType}}function un(e){return{time:e.time,duration:e.duration,direction:e.direction,media:e.media,type:e.type,number:e.number,name:e.name,firstName:e.firstName,lastName:e.lastName,refId:e.userId,lastMessage:e.lastMessage,lastMessageAuthor:e.lastMessageAuthor,parties:(null==e?void 0:e.parties)||[],owner_id:e.ownerId,userType:e.userType,photoUrl:e.photoUrl,removedFromACL:e.removedFromACL,contactId:e.contactId,group_chat_info:void 0!==e.groupChatData?sn(e.groupChatData):void 0}}function ln(e){var t,n,r,a,o,i,c,u,l,d,_,f,p,m,g=e.item,h=e.groupChatData,v=e.lastMessage,y=e.lastMessageAuthor,b=function(e){var t,n=e.scenarioData?e.scenarioData.interactionStepId:e.groupChatId,r=g();if(!(n&&r&&e.direction&&e.mediaType))return;var a=(0,s.getAllChatParties)(e),o=e.displayData,i=o.itemStartTime,c=o.pendingStartTime,u=o.deliveredStartTime,l=o.acwStartTime,d=c||i;if(!d)return;var _=new Date(d),f=l||Date.now(),p=u?f-u:0,m=function(e){return e.map((function(e){return{firstName:(0,s.isCallParty)(e)?e.firstName:e.first_name,lastName:(0,s.isCallParty)(e)?e.lastName:e.last_name,userId:(0,s.isCallParty)(e)?e.userId:e.user_id,contactId:(0,s.isCallParty)(e)?e.contactId:e.contact_id,phone:e.phone}}))}((null===(t=e.allParties)||void 0===t?void 0:t.length)?e.allParties:(null==a?void 0:a.length)?a:[]);return{item_id:n,time:_n(_),duration:p.toString(),direction:e.direction.toUpperCase(),media:e.mediaType.toUpperCase(),type:r,name:e.displayData.displayName||e.displayData.callerName,parties:m};function g(){switch(e.mediaType){case"email":return"email";case"voice":return function(e){var t=(e.allParties||[]).length;return(0,s.isQualityManagementItemInMonitorMode)(e)||(0,s.isQualityManagementItemInWhisperMode)(e)?t>2&&!!e.isOrWasConference:t>1&&!!e.isOrWasConference}(e)?"conference":"call";case"chat":return function(e){var t,n=(0,s.filterAgentNotMonitorChatParties)(null==e?void 0:e.allChatParties);return(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)>1&&!!e.isOrWasConference}(e)?"conference":"extChat";case"agent_chat":return"chat"}}}(g);if(b)switch(t=b,f=null!==(_=g.associatedObjects)&&void 0!==_?_:{list:[],selected:[],touched:!1,primary:[]},p=f.list,m=f.selected.reduce((function(e,t){var n=p.find((function(e){return e.id===t}));return n&&e.push(n),e}),[]),b=(0,Xt.withoutUndefinedKeys)(on(an({},t),{messenger_user_id:null===(n=g.externalChatData)||void 0===n?void 0:n.messengerUserId,case_id:null===(r=g.emailData)||void 0===r?void 0:r.caseId,case_title:null===(a=g.emailData)||void 0===a?void 0:a.caseTitle,case_number:String(null===(o=g.emailData)||void 0===o?void 0:o.caseNumber),answered:Boolean(g.displayData.deliveredStartTime||g.displayData.deliveredDuration),contactId:g.contactId,refId:g.userId,number:g.displayData.number,firstName:g.displayData.firstName?g.displayData.firstName:null===(i=g.externalChatData)||void 0===i?void 0:i.firstName,lastName:g.displayData.lastName?g.displayData.lastName:null===(c=g.externalChatData)||void 0===c?void 0:c.lastName,email:g.externalChatData?g.externalChatData.email:g.emailData?g.emailData.fromAddress:void 0,channel:(0,s.getChannel)(g),serviceName:null===(u=g.scenarioData)||void 0===u?void 0:u.serviceName,serviceId:null===(l=g.scenarioData)||void 0===l?void 0:l.serviceId,associatedCRMObjects:m,globalInteractionId:null===(d=g.scenarioData)||void 0===d?void 0:d.globalInteractionId})),g.mediaType){case"agent_chat":return function(e){return(0,Xt.assertDefined)(h),(0,Xt.withoutUndefinedKeys)(on(an({},e),{media:"CHAT",group_chat_info:sn(h),lastMessageAuthor:y,lastMessage:v}))}(b);case"chat":return function(e){return(0,Xt.withoutUndefinedKeys)(on(an({},e),{lastMessage:v}))}(b);case"voice":return function(e){return(0,Xt.withoutUndefinedKeys)(on(an({},e),{postfix:""}))}(b);default:return b}}function dn(e){if((0,s.isWorkItem)(e))return(0,Xt.assertDefined)(e.workitemData),(0,Xt.assertDefined)(e.mediaType),{item_id:e.workitemData.id,time:_n(new Date),duration:"0",direction:"INBOUND",type:"workitem",media:e.mediaType.toUpperCase(),name:e.displayData.displayName,firstName:e.displayData.firstName,lastName:e.displayData.lastName,parties:[],globalInteractionId:e.workitemData.globalInteractionId,serviceId:e.workitemData.serviceId,serviceName:e.workitemData.serviceName,number:e.workitemData.suggestedPhone}}function _n(e){return(0,Qt.formatDate)(e,"YYYY-MM-DD HH:mm:ss")}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mn(o,r,a,i,s,"next",e)}function s(e){mn(o,r,a,i,s,"throw",e)}i(void 0)}))}}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e,t,n){return bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sn(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},bn(e,t,n||e)}function Sn(e){return Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sn(e)}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yn(e,t,n[t])}))}return e}function In(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function wn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function En(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?pn(e):t;var n}function On(e,t){return On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},On(e,t)}function Tn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sn(e);if(t){var a=Sn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return En(this,n)}}function An(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Pn(e){return null==e?void 0:e.substring(0,280)}var Rn=zt.bpLogger.withPrefix("@RC"),kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(o,e);var t,n,r,a=Dn(o);function o(){var e;hn(this,o),yn(pn(e=a.apply(this,arguments)),"recentListFetched",!1),yn(pn(e),"pendingRequestsCount",0);var t=pn(e);return yn(pn(e),"getRecentList",gn((function(){var e,n,r;function a(){return o.apply(this,arguments)}function o(){return o=gn((function(){var e;return An(this,(function(t){return e=this,this.groupChatConnector.getStateData().chatListReceived?[2]:[2,new Promise((function(t){var n=e.groupChatConnector.dispenser.subscribe({onChange:function(e){e.chatListReceived&&(t(),n.unsubscribe())}})}))]}))})),o.apply(this,arguments)}return An(this,(function(o){switch(o.label){case 0:return t.pendingRequestsCount++,t.produceState((function(e){e.isLoading=Boolean(t.pendingRequestsCount)})),[4,t.transport.dispatch.agent_get_user_data({types:Yt.userDataTypes.RECENT})];case 1:return e=o.sent(),t.pendingRequestsCount--,[4,a.call(t)];case 2:return o.sent(),n=t.groupChatConnector.getStateData().items,r=Object.keys(e.data).map((function(t){return e.data[t]})).filter((function(e){return e.type===Yt.userDataTypes.RECENT})).map((function(e){return cn(e.data_id,JSON.parse(e.value))})).filter((function(e){return e.time})).filter((function(e){var t=e.groupChatData;return!t||t.chatId in n})).sort((function(e,t){return t.time.localeCompare(e.time)})),r=t.unshiftNewItems(r),t.updateState((function(e){return In(Cn({},e),{recentList:r,isLoading:Boolean(t.pendingRequestsCount)})})),t.recentListFetched||t.onRecentListFetchedFirstTime(),t.recentListFetched=!0,[2]}}))}))),yn(pn(e),"unshiftNewItems",(function(t){var n=t[0],r=n&&e.stateData.recentList.filter((function(e){var t;return 1===(null===(t=e.time)||void 0===t?void 0:t.localeCompare(n.time))}));return r&&r.length>0?r.concat(t).slice(0,t.length):t})),yn(pn(e),"onRecentListFetchedFirstTime",(function(){"mobile"!==e.platformSpecific.clientType()&&(e.restoreUnfinishedInternalChats(),e.getUnreadPersonalMessages())})),yn(pn(e),"getUnreadPersonalMessages",(function(){var t=e.stateData.recentList.reduce((function(e,t){var n=t.contactId;return n&&((0,s.isRecentChat)(t)||(0,s.isRecentExtChatConference)(t))&&e.add(n),e}),new Set),n=Array.from(t);n.length&&e.interactionChatStateConnector.dispatch.getUnreadPersonalMessages(n)})),yn(pn(e),"onInteractionAccepted",(function(t){if((0,s.isWorkItem)(t)){var n=dn(t);if(!n)return;var r=(0,Zt.uuid)();e.produceState((function(e){e.recentList.unshift(cn(r,n))})),e.transport.dispatch.agent_add_user_data({data_id:r,is_system:"0",type:Yt.userDataTypes.RECENT,value:JSON.stringify(n)})}})),yn(pn(e),"addCompletedItem",(function(t){var n=ln(t);if(n){var r=(0,Zt.uuid)();e.produceState((function(e){e.recentList.unshift(cn(r,n))})),e.transport.dispatch.agent_add_user_data({data_id:r,is_system:"0",type:Yt.userDataTypes.RECENT,value:JSON.stringify(n)})}})),yn(pn(e),"convertIncomingUserDetails",(function(e){var t=(0,Yt.isRegularUserDetails)(e),n=(0,Yt.isEmiUserDetails)(e);return{userId:e.user_id,firstName:e.firstname,lastName:e.lastname,name:e.login_id,number:t?e.extension:void 0,userType:n?e.user_type:void 0,photoUrl:n?e.photo_url:void 0}})),yn(pn(e),"addContactWithUnreadMessages",(function(t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value,u=c.dataId,l=c.itemId,d=c.time,_=c.phone,f=c.contactId;n.push({dataId:u,itemId:l,time:_n(new Date(d)),duration:"0",direction:"INBOUND",answered:!1,media:"CHAT",type:"extChat",name:"",number:_,parties:[],contactId:f})}}catch(p){a=!0,o=p}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e.produceState((function(e){e.recentList=Tn(n).concat(Tn(e.recentList))}))})),yn(pn(e),"getUserDetails",(function(t,n){var r=e.transport.dispatch.agent_get_users_details({type:"RECENT",users:(0,Jt.toKVArray)([t]),user_fields:{0:"user_id",1:"firstname",2:"lastname",3:"login_id",4:"extension"}});r&&r.then((function(t){var r=t.users[0];r&&n(e.convertIncomingUserDetails(r))}))})),yn(pn(e),"getGroupChatData",(function(t){return e.groupChatConnector.getStateData().items[t]})),yn(pn(e),"addNewInternalChatRecent",(function(t){var n=t.date,r=t.recentList,a=t.userDetails,o=void 0===a?void 0:a,s=t.message,c=void 0===s?void 0:s,u=wn(t,["date","recentList","userDetails","message"]),l=(0,Zt.uuid)(),d=e.sessionConnector.getStateData(),_=Cn({dataId:l,itemId:l,time:_n(n),duration:"0",direction:"INBOUND",media:"UNKNOWN",answered:!1,type:"chat",parties:[],lastMessage:c,ownerId:(0,i.getEmiOwnerId)(d,null==o?void 0:o.userType)},o||{},u);e.transport.dispatch.agent_add_user_data({data_id:l,is_system:"0",type:Yt.userDataTypes.RECENT,value:JSON.stringify(un(_))}),e.updateState((function(e){return In(Cn({},e),{recentList:[_].concat(Tn(r))})}))})),yn(pn(e),"editRecentItem",(function(t){var n=un(t);e.transport.dispatch.agent_update_user_data({data_id:t.dataId,is_system:"0",value:JSON.stringify(n)}),e.updateState((function(n){return In(Cn({},n),{recentList:[t].concat(Tn(e.stateData.recentList.filter((function(e){return e.dataId!==t.dataId&&e.time}))))})}))})),yn(pn(e),"updateInternalChatItem",(function(t){var n=t.userId,r=t.message,a=t.removedFromACL,o=t.userDetails,i=function(){var t=e.stateData.recentList,i=t.find((function(e){return(0,s.isRecentDeprecatedInternalChat)(e)&&(e.userId===n||e.userId===(null==o?void 0:o.userId))})),c=new Date;if(i){var u=In(Cn({},i),{time:_n(c)});void 0!==r&&(u.lastMessage=r),void 0!==a&&(u.removedFromACL=a),e.editRecentItem(u)}else o?e.addNewInternalChatRecent({date:c,recentList:t,userDetails:o,message:r}):n&&e.getUserDetails(n,(function(n){e.addNewInternalChatRecent({date:c,recentList:t,userDetails:n,message:r})}))};e.stateData.recentList.length?i():e.getRecentList().then(i)})),yn(pn(e),"onChangeExternalContact",(function(t){var n=e.getStateData().recentList.find((function(e){return(null==e?void 0:e.number)===(null==t?void 0:t.number)}));n&&(null==n?void 0:n.name)!==t.name&&e.editRecentItem(In(Cn({},n),{name:t.name}))})),yn(pn(e),"onLogin",(function(){"mobile"!==e.platformSpecific.clientType()?e.getRecentList():e.updateInternalGroupChatRecentItems()})),yn(pn(e),"onInteractionCompleted",(function(t){var n=t.item;if("queued"!==t.previousState&&!(0,s.isCallWithoutCallId)(n)&&!(0,s.isInternalChat)(n)){var r=(0,s.isInternalChat)(n)?e.getGroupChatData(n.groupChatId):void 0;e.addCompletedItem(Cn({item:n,groupChatData:r},e.getLastMessageData(n)))}})),yn(pn(e),"getLastMessageData",(function(t){if((0,s.isInternalChat)(t)){var n=e.groupChatConnector.getStateData().items;if(null==n?void 0:n[null==t?void 0:t.groupChatId]){var r,a=null!==(r=(0,Xt.filter)(n[t.groupChatId].messages,tn.isRegularMessage))&&void 0!==r?r:[],o=a[a.length-1];return{lastMessage:Pn(null==o?void 0:o.content),lastMessageAuthor:o.firstName}}return{lastMessage:void 0,lastMessageAuthor:void 0}}if((0,s.isExternalChat)(t)){var i,c,u=null===(i=e.interactionChatStateConnector.getStateData().chatData[(0,s.getInteractionStepId)(t)])||void 0===i?void 0:i.messages;return{lastMessage:Pn(null===(c=u[u.length-1])||void 0===c?void 0:c.msg)}}return{}})),yn(pn(e),"updateInternalGroupChatRecentItems",(function(){var t=e.groupChatConnector.getStateData().items,n=e.groupChatConnector.dispatch.getChatLastMessage;if(e.recentListFetched){var r=e.stateData.recentList,a={};Object.values(t).forEach((function(t){var o=t.chatId;a[o]=!0;var i=e.findRecentItemByGroupChatId(o,r);n({chatId:o}).then((function(n){void 0===i&&void 0===n?e.updateInternalGroupChatItem({groupChatData:t,skipSearchingRecentItem:!0}):(null==n?void 0:n.content)&&e.onInternalGroupChatMessage(o,n)}))})),(null==r?void 0:r.length)&&(null==r||r.forEach((function(t){var n,r;(null==t||null===(n=t.groupChatData)||void 0===n?void 0:n.chatId)&&!(null==a?void 0:a[null==t||null===(r=t.groupChatData)||void 0===r?void 0:r.chatId])&&e.deleteInternalGroupChatItem(t.groupChatData.chatId)})))}})),yn(pn(e),"markEmptyInternalGroupChatRecentItemAsRead",(function(t){var n=t&&e.getGroupChatData(t);n&&e.updateInternalGroupChatItem({groupChatData:n})})),yn(pn(e),"getLastMessageAuthor",(function(t,n){var r=e.sessionConnector.getStateData().displayNameFormat;return c(r,t||"",n||"")})),yn(pn(e),"findRecentItemByGroupChatId",(function(e,t){var n,r=e&&(null==t?void 0:t.length)&&(null==t?void 0:t.find((function(t){var n;return(null==t||null===(n=t.groupChatData)||void 0===n?void 0:n.chatId)===e})));if((null==r||null===(n=r.groupChatData)||void 0===n?void 0:n.chatId)===e)return r})),yn(pn(e),"onInternalGroupChatSystemMessage",(function(t,n){var r=e.getGroupChatData(t);!r||"members_added"!==n.event&&"chat_renamed"!==n.event&&"member_left"!==n.event&&"members_removed"!==n.event||e.updateInternalGroupChatItem({groupChatData:r,sendTime:new Date(n.sendTime)}),"chat_deleted"!==n.event&&"self_member_removed"!==n.event||e.deleteInternalGroupChatItem(t)})),yn(pn(e),"onInternalGroupChatMessage",(function(t,n){var r,a=e.getGroupChatData(t),o=null===(r=e.groupChatConnector.getStateData().items[t])||void 0===r?void 0:r.unreadCount;if(a){var i=n.userId,s=new Date(n.sendTime);e.getUserDetails(i,(function(t){var r={time:_n(s),lastMessage:n.content,lastMessageAuthor:e.getLastMessageAuthor(t.firstName,t.lastName)};e.updateInternalGroupChatItem({groupChatData:In(Cn({},a),{unreadCount:o}),sendTime:s,recentItemProps:r})}))}})),yn(pn(e),"onChangeInternalGroupChatsUnreadCount",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getGroupChatData(t);r&&e.updateInternalGroupChatItem({groupChatData:In(Cn({},r),{unreadCount:n})})})),yn(pn(e),"updateInternalGroupChatItem",(function(t){var n=t.groupChatData,r=t.recentItemProps,a=void 0===r?{}:r,o=t.sendTime,i=void 0===o?new Date:o,s=t.skipSearchingRecentItem,c=void 0!==s&&s,u=e.stateData.recentList,l=c?void 0:e.findRecentItemByGroupChatId(n.chatId,u);if(l)e.editRecentItem(Cn(In(Cn({},l),{groupChatData:n}),a));else{a.time;var d=wn(a,["time"]),_=n.createdByFirstName,f=n.createdByLastName,p=n.members.reduce((function(e,t){return Tn(e).concat([{contactId:t.id,userId:t.id,firstName:t.firstName,lastName:t.lastName}])}),[]);e.addNewInternalChatRecent(Cn({media:"CHAT",date:i,recentList:u,groupChatData:(null==n?void 0:n.unreadCount)?n:In(Cn({},n),{unreadCount:1}),message:"started a new group chat",lastMessageAuthor:e.getLastMessageAuthor(_,f),parties:p},d))}})),yn(pn(e),"deleteInternalGroupChatItem",(function(t){var n=e.stateData.recentList,r=e.findRecentItemByGroupChatId(t,n);(null==r?void 0:r.dataId)&&(e.updateState((function(e){return In(Cn({},e),{recentList:n.filter((function(e){return e.dataId!==r.dataId}))})})),e.transport.dispatch.agent_delete_user_data({data_id:r.dataId,is_system:"0"}))})),yn(pn(e),"linkWithContact",(function(t,n){var r=e.stateData.recentList.find((function(e){return e.itemId===t}));if(r){var a=un(In(Cn({},r),{contactId:n}));e.transport.dispatch.agent_update_user_data({data_id:r.dataId,is_system:"0",value:JSON.stringify(a)}),e.produceState((function(e){var r=e.recentList.find((function(e){return e.itemId===t}));(0,Xt.assertDefined)(r),r.contactId=n}))}else Rn.warn("You tied to link contact with unknown recent item, recent item id:",t)})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getRecentList:this.getRecentList,addCompletedItem:this.addCompletedItem,updateInternalChatItem:this.updateInternalChatItem,editRecentItem:this.editRecentItem,updateInternalGroupChatRecentItems:this.updateInternalGroupChatRecentItems,markEmptyInternalGroupChatRecentItemAsRead:this.markEmptyInternalGroupChatRecentItemAsRead,linkWithContact:this.linkWithContact}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.onLogin()},onLogin:this.onLogin}),this.interactionStateConnector.dispenser.subscribe({onItemAccepted:this.onInteractionAccepted,onItemCompleted:this.onInteractionCompleted,onWorkitemLinkedWithContact:function(t){var n=t.workitemId,r=t.contactId;e.linkWithContact(n,r)}}),this.interactionInternalChatConnector.dispenser.subscribe({onAgentChat:function(t){var n,r=t.userId,a={userId:r,message:t.message},o=null===(n=e.userDetailsConnector.getStateData().userDetails[r])||void 0===n?void 0:n.data;(null==o?void 0:o.isStatic)&&o.userType&&"internal"!==o.userType&&(a.userDetails={userId:o.userId,name:o.firstName,userType:o.userType,photoUrl:o.photoId}),e.updateInternalChatItem(a)}}),this.interactionChatStateConnector.dispenser.subscribe({onContactsWithUnreadMessagesReceived:function(t){e.addContactWithUnreadMessages(t)}}),this.groupChatConnector.dispenser.subscribe({onSystemMessage:this.onInternalGroupChatSystemMessage,onMessage:this.onInternalGroupChatMessage,onRemoveUnreadCount:this.onChangeInternalGroupChatsUnreadCount}),this.contactsStateConnector.dispenser.subscribe({onChangeExternalContact:this.onChangeExternalContact}))}},{key:"restoreUnfinishedInternalChats",value:function(){var e=this;this.stateData.recentList.forEach((function(t){var n=(0,Qt.timePassedFromNow)(t.time,"minutes");(0,s.isRecentDeprecatedInternalChat)(t)&&n<=30&&"msteams_channel"!==t.userType&&!t.removedFromACL&&t.userId&&t.firstName&&t.lastName&&e.interactionStateConnector.dispatch.agentChatOpen({userId:t.userId,firstName:t.firstName,lastName:t.lastName,origination:"recent",number:t.number,emiUserType:t.userType,emiPhotoUrl:t.photoUrl})}))}},{key:"cleanup",value:function(){bn(Sn(o.prototype),"cleanup",this).call(this),this.recentListFetched=!1}},{key:"resetState",value:function(){bn(Sn(o.prototype),"resetState",this).call(this),this.recentListFetched=!1}}])&&vn(t.prototype,n),r&&vn(t,r),o}(en.StateFactory.createBaseStateClass({name:"recentState",controlEvents:o,trackerEvents:a,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{recentList:[],isLoading:!1}},dependencies:["transport","platformSpecific","sessionConnector","interactionStateConnector","interactionChatStateConnector","groupChatConnector","interactionInternalChatConnector","userDetailsConnector","favoritesConnector","contactsStateConnector"]}))},38725:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,a=t;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},19157:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},26426:(e,t,n)=>{var r=n(19157),a=n(38725);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.c=t,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n.S={};var e={},t={};n.I=(r,a)=>{a||(a=[]);var o=t[r];if(o||(o=t[r]={}),!(a.indexOf(o)>=0)){if(a.push(o),e[r])return e[r];n.o(n.S,r)||(n.S[r]={});var i=n.S[r],s="@bpinc/web-shared-packages",c=(e,t,n,r)=>{var a=i[e]=i[e]||{},o=a[t];(!o||!o.loaded&&(!r!=!o.eager?r:s>o.from))&&(a[t]={get:n,from:s,eager:!!r})},u=[];if("default"===r)c("@bpinc/ad-activities-state-context","0.1.0",(()=>()=>n(67595)),1),c("@bpinc/ad-activities-state-types","0.1.0",(()=>()=>n(36611)),1),c("@bpinc/ad-activities-state","0.1.0",(()=>()=>n(77443)),1),c("@bpinc/ad-agent-state-context","0.1.0",(()=>()=>n(60098)),1),c("@bpinc/ad-agent-state-types","0.1.0",(()=>()=>n(28029)),1),c("@bpinc/ad-agent-state","0.1.0",(()=>()=>n(50947)),1),c("@bpinc/ad-app-config-state-context","0.1.0",(()=>()=>n(83826)),1),c("@bpinc/ad-app-config-state-types","0.1.0",(()=>()=>n(1844)),1),c("@bpinc/ad-app-config-state","0.1.0",(()=>()=>n(97592)),1),c("@bpinc/ad-aria-status-context","0.1.0",(()=>()=>n(26922)),1),c("@bpinc/ad-aria-status-state","0.1.0",(()=>()=>n(97420)),1),c("@bpinc/ad-aria-status-types","0.1.0",(()=>()=>n(29997)),1),c("@bpinc/ad-auth-requests","0.1.0",(()=>()=>n(8481)),1),c("@bpinc/ad-avatar-cache","0.1.0",(()=>()=>n(28755)),1),c("@bpinc/ad-bpclient-state-context","0.1.0",(()=>()=>n(87369)),1),c("@bpinc/ad-bpclient-state-types","0.1.0",(()=>()=>n(33862)),1),c("@bpinc/ad-bpclient-state","0.1.0",(()=>()=>n(81663)),1),c("@bpinc/ad-build-and-platform-info","0.1.0",(()=>()=>n(5943)),1),c("@bpinc/ad-campaigns-state-context","0.1.0",(()=>()=>n(32687)),1),c("@bpinc/ad-campaigns-state-types","0.1.0",(()=>()=>n(3266)),1),c("@bpinc/ad-campaigns-state","0.1.0",(()=>()=>n(15332)),1),c("@bpinc/ad-case-state-context","0.1.0",(()=>()=>n(13432)),1),c("@bpinc/ad-case-state-types","0.1.0",(()=>()=>n(12456)),1),c("@bpinc/ad-case-state","0.1.0",(()=>()=>n(74539)),1),c("@bpinc/ad-connected-state","0.1.0",(()=>()=>n(11911)),1),c("@bpinc/ad-constants","0.1.0",(()=>()=>n(14217)),1),c("@bpinc/ad-contact-modals","0.1.0",(()=>()=>n(26073)),1),c("@bpinc/ad-contacts-state-context","0.1.0",(()=>()=>n(13207)),1),c("@bpinc/ad-contacts-state-hooks","0.1.0",(()=>()=>n(98366)),1),c("@bpinc/ad-contacts-state-methods","0.1.0",(()=>()=>n(79321)),1),c("@bpinc/ad-contacts-state-types","0.1.0",(()=>()=>n(86289)),1),c("@bpinc/ad-contacts-state","0.1.0",(()=>()=>n(85499)),1),c("@bpinc/ad-current-tab-data-context","0.1.0",(()=>()=>n(16608)),1),c("@bpinc/ad-current-tab-data-provider","0.1.0",(()=>()=>n(71182)),1),c("@bpinc/ad-did-context","0.1.0",(()=>()=>n(96935)),1),c("@bpinc/ad-did-number-context","0.1.0",(()=>()=>n(12016)),1),c("@bpinc/ad-did-state","0.1.0",(()=>()=>n(1304)),1),c("@bpinc/ad-did-types","0.1.0",(()=>()=>n(2584)),1),c("@bpinc/ad-directory-state-context","0.1.0",(()=>()=>n(4012)),1),c("@bpinc/ad-directory-state-types","0.1.0",(()=>()=>n(95652)),1),c("@bpinc/ad-directory-state","0.1.0",(()=>()=>n(467)),1),c("@bpinc/ad-emi-helpers","0.1.0",(()=>()=>n(95031)),1),c("@bpinc/ad-emi-state-context","0.1.0",(()=>()=>n(51905)),1),c("@bpinc/ad-emi-state-types","0.1.0",(()=>()=>n(87593)),1),c("@bpinc/ad-emi-state","0.1.0",(()=>()=>n(55)),1),c("@bpinc/ad-error-hooks","0.1.0",(()=>()=>n(27840)),1),c("@bpinc/ad-error-validation-logic","0.1.0",(()=>()=>n(75346)),1),c("@bpinc/ad-evaluation-state-context","0.1.0",(()=>()=>n(39783)),1),c("@bpinc/ad-evaluation-state-types","0.1.0",(()=>()=>n(7586)),1),c("@bpinc/ad-evaluation-state","0.1.0",(()=>()=>n(3223)),1),c("@bpinc/ad-formatting-context","0.1.0",(()=>()=>n(45950)),1),c("@bpinc/ad-formatting-helpers","0.1.0",(()=>()=>n(75613)),1),c("@bpinc/ad-integration-api-state-context","0.1.0",(()=>()=>n(45058)),1),c("@bpinc/ad-integration-api-state-types","0.1.0",(()=>()=>n(67881)),1),c("@bpinc/ad-interaction-chat-state-context","0.1.0",(()=>()=>n(1684)),1),c("@bpinc/ad-interaction-chat-state-types","0.1.0",(()=>()=>n(84153)),1),c("@bpinc/ad-interaction-chat-state","0.1.0",(()=>()=>n(743)),1),c("@bpinc/ad-interaction-internal-chat-state-context","0.1.0",(()=>()=>n(70130)),1),c("@bpinc/ad-interaction-internal-chat-state-types","0.1.0",(()=>()=>n(88289)),1),c("@bpinc/ad-interaction-internal-chat-state","0.1.0",(()=>()=>n(91279)),1),c("@bpinc/ad-interaction-message-types","0.1.0",(()=>()=>n(78064)),1),c("@bpinc/ad-interaction-state-context","0.1.0",(()=>()=>n(77065)),1),c("@bpinc/ad-interaction-state-hooks","0.1.0",(()=>()=>n(58258)),1),c("@bpinc/ad-interaction-state-methods","0.1.0",(()=>()=>n(73369)),1),c("@bpinc/ad-interaction-state-types","0.1.0",(()=>()=>n(61849)),1),c("@bpinc/ad-interaction-state","0.1.0",(()=>()=>n(90024)),1),c("@bpinc/ad-interstate-logic-state-context","0.1.0",(()=>()=>n(95994)),1),c("@bpinc/ad-interstate-logic-state-types","0.1.0",(()=>()=>n(1604)),1),c("@bpinc/ad-interstate-logic-state","0.1.0",(()=>()=>n(87130)),1),c("@bpinc/ad-local-providers","0.1.0",(()=>()=>n(53685)),1),c("@bpinc/ad-local-settings-context","0.1.0",(()=>()=>n(80158)),1),c("@bpinc/ad-local-settings-types","0.1.0",(()=>()=>n(69910)),1),c("@bpinc/ad-local-settings-web-impl","0.1.0",(()=>()=>n(89382)),1),c("@bpinc/ad-location-data","0.1.0",(()=>()=>n(49719)),1),c("@bpinc/ad-main-page-ui-context","0.1.0",(()=>()=>n(63901)),1),c("@bpinc/ad-navigation-state-context","0.1.0",(()=>()=>n(40660)),1),c("@bpinc/ad-offline-state-context","0.1.0",(()=>()=>n(78871)),1),c("@bpinc/ad-offline-state-types","0.1.0",(()=>()=>n(77083)),1),c("@bpinc/ad-offline-state","0.1.0",(()=>()=>n(33583)),1),c("@bpinc/ad-password-validation-state-context","0.1.0",(()=>()=>n(87535)),1),c("@bpinc/ad-password-validation-state-types","0.1.0",(()=>()=>n(14438)),1),c("@bpinc/ad-password-validation-state","0.1.0",(()=>()=>n(7606)),1),c("@bpinc/ad-persistent-logger-web-impl","0.1.0",(()=>()=>n(22178)),1),c("@bpinc/ad-persistent-logger","0.1.0",(()=>()=>n(46214)),1),c("@bpinc/ad-platform-specific-web-impl","0.1.0",(()=>()=>n(73376)),1),c("@bpinc/ad-predefined-chat-message-state-context","0.1.0",(()=>()=>n(69133)),1),c("@bpinc/ad-predefined-chat-message-state-types","0.1.0",(()=>()=>n(71063)),1),c("@bpinc/ad-predefined-chat-message-state","0.1.0",(()=>()=>n(779)),1),c("@bpinc/ad-prerecorded-messages-state-context","0.1.0",(()=>()=>n(353)),1),c("@bpinc/ad-prerecorded-messages-state-types","0.1.0",(()=>()=>n(55170)),1),c("@bpinc/ad-prerecorded-messages-state","0.1.0",(()=>()=>n(84997)),1),c("@bpinc/ad-recording-state-context","0.1.0",(()=>()=>n(99946)),1),c("@bpinc/ad-recording-state-types","0.1.0",(()=>()=>n(41383)),1),c("@bpinc/ad-recording-state","0.1.0",(()=>()=>n(36387)),1),c("@bpinc/ad-regexp-constants","0.1.0",(()=>()=>n(91188)),1),c("@bpinc/ad-remote-assist-local-state","0.1.0",(()=>()=>n(16752)),1),c("@bpinc/ad-remote-assist-state-context","0.1.0",(()=>()=>n(77021)),1),c("@bpinc/ad-remote-assist-state-types","0.1.0",(()=>()=>n(58807)),1),c("@bpinc/ad-remote-assist-state","0.1.0",(()=>()=>n(51052)),1),c("@bpinc/ad-request-urls","0.1.0",(()=>()=>n(59226)),1),c("@bpinc/ad-rescue-state-context","0.1.0",(()=>()=>n(94547)),1),c("@bpinc/ad-rescue-state-types","0.1.0",(()=>()=>n(66842)),1),c("@bpinc/ad-rescue-state","0.1.0",(()=>()=>n(49513)),1),c("@bpinc/ad-role-manager","0.1.0",(()=>()=>n(2292)),1),c("@bpinc/ad-saved-interaction-state","0.1.0",(()=>()=>n(40727)),1),c("@bpinc/ad-screen-pop-state-context","0.1.0",(()=>()=>n(14507)),1),c("@bpinc/ad-scroll-state-context-builder","0.1.0",(()=>()=>n(91335)),1),c("@bpinc/ad-server-errors-humanizer","0.1.0",(()=>()=>n(70238)),1),c("@bpinc/ad-service-context","0.1.0",(()=>()=>n(20633)),1),c("@bpinc/ad-service-details-state-context","0.1.0",(()=>()=>n(6438)),1),c("@bpinc/ad-service-details-state-types","0.1.0",(()=>()=>n(45197)),1),c("@bpinc/ad-service-details-state","0.1.0",(()=>()=>n(92699)),1),c("@bpinc/ad-service-worker-reg","0.1.0",(()=>()=>n(71359)),1),c("@bpinc/ad-services-dispositions-context","0.1.0",(()=>()=>n(9445)),1),c("@bpinc/ad-services-dispositions-state","0.1.0",(()=>()=>n(13520)),1),c("@bpinc/ad-services-dispositions-types","0.1.0",(()=>()=>n(20840)),1),c("@bpinc/ad-session-context","0.1.0",(()=>()=>n(80195)),1),c("@bpinc/ad-session-state","0.1.0",(()=>()=>n(20557)),1),c("@bpinc/ad-session-types","0.1.0",(()=>()=>n(45361)),1),c("@bpinc/ad-state-communication-layer-types","0.1.0",(()=>()=>n(64741)),1),c("@bpinc/ad-state-communication-layer-worker-client","0.1.0",(()=>()=>n(31145)),1),c("@bpinc/ad-state-communication-layer","0.1.0",(()=>()=>n(55289)),1),c("@bpinc/ad-state-context-factory","0.1.0",(()=>()=>n(65694)),1),c("@bpinc/ad-stats-state-context","0.1.0",(()=>()=>n(5180)),1),c("@bpinc/ad-stats-state-types","0.1.0",(()=>()=>n(64075)),1),c("@bpinc/ad-stats-state","0.1.0",(()=>()=>n(54124)),1),c("@bpinc/ad-supervision-ui-context","0.1.0",(()=>()=>n(27245)),1),c("@bpinc/ad-tabs-state-context","0.1.0",(()=>()=>n(25714)),1),c("@bpinc/ad-tabs-state-types","0.1.0",(()=>()=>n(44161)),1),c("@bpinc/ad-tabs-state","0.1.0",(()=>()=>n(98562)),1),c("@bpinc/ad-timers-context","0.1.0",(()=>()=>n(99942)),1),c("@bpinc/ad-timers-state","0.1.0",(()=>()=>n(39387)),1),c("@bpinc/ad-timers-types","0.1.0",(()=>()=>n(73583)),1),c("@bpinc/ad-timezones-state-context","0.1.0",(()=>()=>n(24823)),1),c("@bpinc/ad-timezones-state-types","0.1.0",(()=>()=>n(29437)),1),c("@bpinc/ad-timezones-state","0.1.0",(()=>()=>n(4445)),1),c("@bpinc/ad-transport-types","0.1.0",(()=>()=>n(9532)),1),c("@bpinc/ad-transport-websocket","0.1.0",(()=>()=>n(4744)),1),c("@bpinc/ad-ui-context","0.1.0",(()=>()=>n(88898)),1),c("@bpinc/ad-upload-methods","0.1.0",(()=>()=>n(62514)),1),c("@bpinc/ad-user-activity-state-context","0.1.0",(()=>()=>n(93240)),1),c("@bpinc/ad-user-details-state-context","0.1.0",(()=>()=>n(22868)),1),c("@bpinc/ad-user-details-state-helpers","0.1.0",(()=>()=>n(7420)),1),c("@bpinc/ad-user-details-state-types","0.1.0",(()=>()=>n(6101)),1),c("@bpinc/ad-user-details-state","0.1.0",(()=>()=>n(48567)),1),c("@bpinc/ad-user-presence-state-context","0.1.0",(()=>()=>n(43909)),1),c("@bpinc/ad-user-presence-state-types","0.1.0",(()=>()=>n(13479)),1),c("@bpinc/ad-user-presence-state","0.1.0",(()=>()=>n(33699)),1),c("@bpinc/ad-user-profile-state-context","0.1.0",(()=>()=>n(20847)),1),c("@bpinc/ad-user-profile-state-types","0.1.0",(()=>()=>n(43886)),1),c("@bpinc/ad-user-profile-state","0.1.0",(()=>()=>n(26003)),1),c("@bpinc/ad-webrtc-state-context","0.1.0",(()=>()=>n(73033)),1),c("@bpinc/ad-webrtc-state-types","0.1.0",(()=>()=>n(32495)),1),c("@bpinc/ad-webrtc-state","0.1.0",(()=>()=>n(69903)),1),c("@bpinc/adapters-public-api-types","0.1.0",(()=>()=>n(42336)),1),c("@bpinc/cal-alert-state-context","0.1.0",(()=>()=>n(84226)),1),c("@bpinc/cal-alert-state-types","0.1.0",(()=>()=>n(27293)),1),c("@bpinc/cal-alert-state","0.1.0",(()=>()=>n(39403)),1),c("@bpinc/cal-state-context","0.1.0",(()=>()=>n(76777)),1),c("@bpinc/cal-state-types","0.1.0",(()=>()=>n(49628)),1),c("@bpinc/cal-state","0.1.0",(()=>()=>n(62824)),1),c("@bpinc/home-page-state-context","0.1.0",(()=>()=>n(98145)),1),c("@bpinc/lib-audio-playback","0.1.0",(()=>()=>n(22247)),1),c("@bpinc/lib-communicator-integration-api-state","0.1.0",(()=>()=>n(77066)),1),c("@bpinc/lib-communicator-navigation-state","0.1.0",(()=>()=>n(21775)),1),c("@bpinc/lib-communicator-ui-context","0.1.0",(()=>()=>n(67373)),1),c("@bpinc/lib-flat","0.1.0",(()=>()=>n(46329)),1),c("@bpinc/lib-gsm-charset-utils","0.1.0",(()=>()=>n(51541)),1),c("@bpinc/lib-helpers","0.1.0",(()=>()=>n(30646)),1),c("@bpinc/lib-html-utils","0.1.0",(()=>()=>n(76096)),1),c("@bpinc/lib-input-utils","0.1.0",(()=>()=>n(82348)),1),c("@bpinc/lib-interaction-context","0.1.0",(()=>()=>n(52103)),1),c("@bpinc/lib-notifications-context","0.1.0",(()=>()=>n(38436)),1),c("@bpinc/lib-phonenumber-formatter","0.1.0",(()=>()=>n(2164)),1),c("@bpinc/lib-request-tracker","0.1.0",(()=>()=>n(56871)),1),c("@bpinc/lib-sliding-modal-context","0.1.0",(()=>()=>n(36816)),1),c("@bpinc/lib-storage","0.1.0",(()=>()=>n(94223)),1),c("@bpinc/lib-sync-events","0.1.0",(()=>()=>n(38017)),1),c("@bpinc/lib-transport-conversion","0.1.0",(()=>()=>n(28068)),1),c("@bpinc/lib-typed-events","0.1.0",(()=>()=>n(89394)),1),c("@bpinc/lib-types-helpers","0.1.0",(()=>()=>n(47769)),1),c("@bpinc/lib-uuid","0.1.0",(()=>()=>n(80768)),1),c("@bpinc/lib-webrtc-peer-connection-web-impl","0.1.0",(()=>()=>n(88318)),1),c("@bpinc/lib-worker-browser-notifications","0.1.0",(()=>()=>n(49845)),1),c("@bpinc/state-factory","0.1.0",(()=>()=>n(14192)),1),c("@bpinc/state-favorites-context","0.1.0",(()=>()=>n(87294)),1),c("@bpinc/state-favorites-types","0.1.0",(()=>()=>n(90567)),1),c("@bpinc/state-favorites","0.1.0",(()=>()=>n(66954)),1),c("@bpinc/state-group-chat-context","0.1.0",(()=>()=>n(76786)),1),c("@bpinc/state-group-chat-types","0.1.0",(()=>()=>n(88288)),1),c("@bpinc/state-group-chat-ui-context","0.1.0",(()=>()=>n(19733)),1),c("@bpinc/state-group-chat","0.1.0",(()=>()=>n(88951)),1),c("@bpinc/state-interaction-ui","0.1.0",(()=>()=>n(56928)),1),c("@bpinc/state-kb-bridge-provider","0.1.0",(()=>()=>n(68646)),1),c("@bpinc/state-kb-bridge","0.1.0",(()=>()=>n(99797)),1),c("@bpinc/state-localization-context","0.1.0",(()=>()=>n(8138)),1),c("@bpinc/state-localization","0.1.0",(()=>()=>n(95441)),1),c("@bpinc/state-lookup","0.1.0",(()=>()=>n(23496)),1),c("@bpinc/state-modals-context","0.1.0",(()=>()=>n(9813)),1),c("@bpinc/state-recent-context","0.1.0",(()=>()=>n(28658)),1),c("@bpinc/state-recent-types","0.1.0",(()=>()=>n(22550)),1),c("@bpinc/state-recent","0.1.0",(()=>()=>n(35028)),1);return u.length?e[r]=Promise.all(u).then((()=>e[r]=1)):e[r]=1}}})(),n.p="/agent/shared/",(()=>{var e=e=>{var t=e=>e.split(".").map((e=>+e==e?+e:e)),n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),r=n[1]?t(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,t(n[2]))),n[3]&&(r.push([]),r.push.apply(r,t(n[3]))),r},t=(t,n)=>{t=e(t),n=e(n);for(var r=0;;){if(r>=t.length)return r<n.length&&"u"!=(typeof n[r])[0];var a=t[r],o=(typeof a)[0];if(r>=n.length)return"u"==o;var i=n[r],s=(typeof i)[0];if(o!=s)return"o"==o&&"n"==s||"s"==s||"u"==o;if("o"!=o&&"u"!=o&&a!=i)return a<i;r++}},r=e=>{var t=e[0],n="";if(1===e.length)return"*";if(t+.5){n+=0==t?">=":-1==t?"<":1==t?"^":2==t?"~":t>0?"=":"!=";for(var a=1,o=1;o<e.length;o++)a--,n+="u"==(typeof(s=e[o]))[0]?"-":(a>0?".":"")+(a=2,s);return n}var i=[];for(o=1;o<e.length;o++){var s=e[o];i.push(0===s?"not("+c()+")":1===s?"("+c()+" || "+c()+")":2===s?i.pop()+" "+i.pop():r(s))}return c();function c(){return i.pop().replace(/^\((.+)\)$/,"$1")}},a=(t,n)=>{if(0 in t){n=e(n);var r=t[0],o=r<0;o&&(r=-r-1);for(var i=0,s=1,c=!0;;s++,i++){var u,l,d=s<t.length?(typeof t[s])[0]:"";if(i>=n.length||"o"==(l=(typeof(u=n[i]))[0]))return!c||("u"==d?s>r&&!o:""==d!=o);if("u"==l){if(!c||"u"!=d)return!1}else if(c)if(d==l)if(s<=r){if(u!=t[s])return!1}else{if(o?u>t[s]:u<t[s])return!1;u!=t[s]&&(c=!1)}else if("s"!=d&&"n"!=d){if(o||s<=r)return!1;c=!1,s--}else{if(s<=r||l<d!=o)return!1;c=!1}else"s"!=d&&"n"!=d&&(c=!1,s--)}}var _=[],f=_.pop.bind(_);for(i=1;i<t.length;i++){var p=t[i];_.push(1==p?f()|f():2==p?f()&f():p?a(p,n):!f())}return!!f()},o=(e,t)=>{var r=n.S[e];if(!r||!n.o(r,t))throw new Error("Shared module "+t+" doesn't exist in shared scope "+e);return r},i=(e,n)=>{var r=e[n];return Object.keys(r).reduce(((e,n)=>!e||!r[e].loaded&&t(e,n)?n:e),0)},s=(e,t,n,a)=>"Unsatisfied version "+n+" from "+(n&&e[t][n].from)+" of shared singleton module "+t+" (required "+r(a)+")",c=(e,t,n,r)=>{var o=i(e,n);return a(r,o)||"undefined"!=typeof console&&console.warn&&console.warn(s(e,n,o,r)),u(e[n][o])},u=e=>(e.loaded=1,e.get()),l=e=>function(t,r,a,o){var i=n.I(t);return i&&i.then?i.then(e.bind(e,t,n.S[t],r,a,o)):e(t,n.S[t],r,a,o)},d=l(((e,t,n,r)=>(o(e,n),c(t,0,n,r)))),_=l(((e,t,r,a,o)=>t&&n.o(t,r)?c(t,0,r,a):o())),f={},p={23690:()=>_("default","@bpinc/ad-activities-state",[4,0,1,0],(()=>()=>n(77443))),63830:()=>d("default","immer",[1,9,0,21]),2122:()=>d("default","lodash-es",[1,4,17,21]),81890:()=>_("default","@bpinc/ad-activities-state-types",[4,0,1,0],(()=>()=>n(36611))),64245:()=>_("default","@bpinc/lib-typed-events",[4,0,1,0],(()=>()=>n(89394))),95465:()=>d("default","@ungap/event-target",[2,0,1,0]),26552:()=>_("default","@bpinc/lib-types-helpers",[4,0,1,0],(()=>()=>n(47769))),68939:()=>_("default","@bpinc/lib-uuid",[4,0,1,0],(()=>()=>n(80768))),47123:()=>d("default","uuid",[1,3,3,2]),52388:()=>_("default","@bpinc/ad-interaction-state-methods",[4,0,1,0],(()=>()=>n(73369))),27385:()=>_("default","@bpinc/ad-formatting-helpers",[4,0,1,0],(()=>()=>n(75613))),13519:()=>_("default","@bpinc/lib-html-utils",[4,0,1,0],(()=>()=>n(76096))),29108:()=>d("default","dompurify",[1,2,0,15]),57934:()=>d("default","mark.js",[1,8,11,1]),82008:()=>d("default","dayjs",[4,1,11,9]),40381:()=>_("default","@bpinc/lib-helpers",[4,0,1,0],(()=>()=>n(30646))),18164:()=>_("default","@bpinc/lib-uuid",[2,0,1,0],(()=>()=>n(80768))),54515:()=>_("default","@bpinc/lib-html-utils",[2,0,1,0],(()=>()=>n(76096))),66029:()=>d("default","react",[1,18,2,0]),50292:()=>d("default","query-string",[4,6,13,1]),5518:()=>_("default","@bpinc/ad-request-urls",[4,0,1,0],(()=>()=>n(59226))),16152:()=>_("default","@bpinc/state-factory",[4,0,1,0],(()=>()=>n(14192))),61650:()=>d("default","queue-microtask",[1,1,2,3]),26220:()=>_("default","@bpinc/ad-persistent-logger",[4,0,1,0],(()=>()=>n(46214))),96877:()=>_("default","@bpinc/ad-state-communication-layer",[4,0,1,0],(()=>()=>n(55289))),21918:()=>d("default","broadcast-channel",[1,5,3,0]),7909:()=>_("default","@bpinc/ad-state-communication-layer-types",[4,0,1,0],(()=>()=>n(64741))),50712:()=>_("default","@bpinc/lib-request-tracker",[4,0,1,0],(()=>()=>n(56871))),87801:()=>_("default","@bpinc/state-lookup",[4,0,1,0],(()=>()=>n(23496))),5660:()=>_("default","@bpinc/lib-sync-events",[4,0,1,0],(()=>()=>n(38017))),34805:()=>_("default","@bpinc/ad-activities-state-context",[4,0,1,0],(()=>()=>n(67595))),13641:()=>_("default","@bpinc/ad-state-context-factory",[4,0,1,0],(()=>()=>n(65694))),86702:()=>d("default","use-context-selector",[1,1,4,1]),5977:()=>d("default","reselect",[4,4,1,8]),56020:()=>_("default","@bpinc/ad-agent-state",[4,0,1,0],(()=>()=>n(50947))),79941:()=>_("default","@bpinc/ad-agent-state-types",[4,0,1,0],(()=>()=>n(28029))),18189:()=>_("default","@bpinc/ad-transport-types",[4,0,1,0],(()=>()=>n(9532))),50944:()=>_("default","@bpinc/lib-transport-conversion",[4,0,1,0],(()=>()=>n(28068))),41844:()=>_("default","@bpinc/ad-agent-state-context",[4,0,1,0],(()=>()=>n(60098))),53179:()=>_("default","@bpinc/state-localization-context",[4,0,1,0],(()=>()=>n(8138))),85571:()=>_("default","@bpinc/ad-app-config-state",[4,0,1,0],(()=>()=>n(97592))),7578:()=>_("default","@bpinc/ad-app-config-state-types",[4,0,1,0],(()=>()=>n(1844))),28136:()=>_("default","@bpinc/ad-build-and-platform-info",[4,0,1,0],(()=>()=>n(5943))),96559:()=>_("default","@bpinc/ad-app-config-state-context",[4,0,1,0],(()=>()=>n(83826))),85698:()=>_("default","@bpinc/ad-aria-status-context",[4,0,1,0],(()=>()=>n(26922))),23713:()=>_("default","@bpinc/ad-aria-status-state",[4,0,1,0],(()=>()=>n(97420))),36501:()=>_("default","@bpinc/ad-aria-status-types",[4,0,1,0],(()=>()=>n(29997))),7796:()=>_("default","@bpinc/ad-auth-requests",[4,0,1,0],(()=>()=>n(8481))),7673:()=>d("default","form-urlencoded",[1,3,0,1]),83734:()=>_("default","@bpinc/ad-request-urls",[2,0,1,0],(()=>()=>n(59226))),4623:()=>_("default","@bpinc/ad-avatar-cache",[4,0,1,0],(()=>()=>n(28755))),58713:()=>_("default","@bpinc/ad-bpclient-state",[4,0,1,0],(()=>()=>n(81663))),84970:()=>_("default","@bpinc/ad-bpclient-state-types",[4,0,1,0],(()=>()=>n(33862))),12746:()=>_("default","@bpinc/lib-typed-events",[2,0,1,0],(()=>()=>n(89394))),3211:()=>_("default","@bpinc/ad-contacts-state-methods",[4,0,1,0],(()=>()=>n(79321))),92136:()=>_("default","@bpinc/ad-contacts-state-types",[2,0,1,0],(()=>()=>n(86289))),68938:()=>_("default","@bpinc/lib-flat",[4,0,1,0],(()=>()=>n(46329))),20981:()=>_("default","@bpinc/ad-interaction-state-types",[4,0,1,0],(()=>()=>n(61849))),97329:()=>_("default","@bpinc/ad-session-types",[4,0,1,0],(()=>()=>n(45361))),90444:()=>_("default","@bpinc/ad-state-communication-layer-worker-client",[4,0,1,0],(()=>()=>n(31145))),37319:()=>_("default","@bpinc/ad-tabs-state-types",[4,0,1,0],(()=>()=>n(44161))),24339:()=>_("default","@bpinc/ad-bpclient-state-context",[4,0,1,0],(()=>()=>n(87369))),35535:()=>_("default","@bpinc/ad-case-state",[4,0,1,0],(()=>()=>n(74539))),64832:()=>_("default","@bpinc/ad-case-state-types",[4,0,1,0],(()=>()=>n(12456))),14134:()=>_("default","@bpinc/ad-case-state-context",[4,0,1,0],(()=>()=>n(13432))),77434:()=>_("default","@bpinc/state-group-chat-ui-context",[4,0,1,0],(()=>()=>n(19733))),27005:()=>d("default","jotai",[1,2,8,2]),74130:()=>_("default","@bpinc/state-group-chat-context",[4,0,1,0],(()=>()=>n(76786))),38756:()=>_("default","@bpinc/state-group-chat-types",[4,0,1,0],(()=>()=>n(88288))),28074:()=>_("default","@bpinc/ad-connected-state",[4,0,1,0],(()=>()=>n(11911))),19883:()=>_("default","@bpinc/ad-campaigns-state",[4,0,1,0],(()=>()=>n(15332))),37008:()=>_("default","@bpinc/ad-campaigns-state-types",[4,0,1,0],(()=>()=>n(3266))),17670:()=>_("default","@bpinc/ad-contacts-state",[4,0,1,0],(()=>()=>n(85499))),9282:()=>d("default","decimal.js-light",[1,2,5,1]),5141:()=>_("default","@bpinc/ad-contacts-state-types",[4,0,1,0],(()=>()=>n(86289))),24776:()=>_("default","@bpinc/ad-did-state",[4,0,1,0],(()=>()=>n(1304))),95944:()=>_("default","@bpinc/ad-did-types",[4,0,1,0],(()=>()=>n(2584))),86990:()=>_("default","@bpinc/ad-directory-state",[4,0,1,0],(()=>()=>n(467))),73482:()=>_("default","@bpinc/ad-directory-state-types",[4,0,1,0],(()=>()=>n(95652))),33976:()=>_("default","@bpinc/ad-emi-helpers",[4,0,1,0],(()=>()=>n(95031))),62476:()=>_("default","@bpinc/state-localization-context",[2,0,1,0],(()=>()=>n(8138))),62176:()=>_("default","@bpinc/ad-emi-state",[4,0,1,0],(()=>()=>n(55))),39066:()=>_("default","@bpinc/ad-emi-state-types",[4,0,1,0],(()=>()=>n(87593))),13583:()=>_("default","@bpinc/ad-transport-types",[2,0,1,0],(()=>()=>n(9532))),12630:()=>_("default","@bpinc/ad-evaluation-state",[4,0,1,0],(()=>()=>n(3223))),489:()=>_("default","@bpinc/ad-evaluation-state-types",[4,0,1,0],(()=>()=>n(7586))),84700:()=>d("default","axios",[2,0,19,0]),65175:()=>_("default","@bpinc/ad-interaction-chat-state",[4,0,1,0],(()=>()=>n(743))),82393:()=>_("default","@bpinc/ad-interaction-chat-state-types",[4,0,1,0],(()=>()=>n(84153))),34075:()=>_("default","@bpinc/ad-interaction-internal-chat-state",[4,0,1,0],(()=>()=>n(91279))),3973:()=>_("default","@bpinc/ad-interaction-internal-chat-state-types",[4,0,1,0],(()=>()=>n(88289))),86603:()=>_("default","@bpinc/ad-interaction-state",[4,0,1,0],(()=>()=>n(90024))),37346:()=>_("default","@bpinc/ad-constants",[4,0,1,0],(()=>()=>n(14217))),22631:()=>_("default","@bpinc/ad-saved-interaction-state",[4,0,1,0],(()=>()=>n(40727))),41212:()=>d("default","deep-equal",[1,2,0,1]),5632:()=>d("default","@bpinc/lib-form-builder",[4,0,1,0]),80205:()=>_("default","@bpinc/ad-interstate-logic-state",[4,0,1,0],(()=>()=>n(87130))),66534:()=>_("default","@bpinc/ad-interstate-logic-state-types",[4,0,1,0],(()=>()=>n(1604))),9650:()=>_("default","@bpinc/ad-predefined-chat-message-state",[4,0,1,0],(()=>()=>n(779))),81029:()=>_("default","@bpinc/ad-predefined-chat-message-state-types",[4,0,1,0],(()=>()=>n(71063))),82697:()=>_("default","@bpinc/ad-prerecorded-messages-state",[4,0,1,0],(()=>()=>n(84997))),61350:()=>_("default","@bpinc/ad-prerecorded-messages-state-types",[4,0,1,0],(()=>()=>n(55170))),15637:()=>_("default","@bpinc/ad-recording-state",[4,0,1,0],(()=>()=>n(36387))),66593:()=>_("default","@bpinc/ad-recording-state-types",[4,0,1,0],(()=>()=>n(41383))),79696:()=>_("default","@bpinc/ad-remote-assist-local-state",[4,0,1,0],(()=>()=>n(16752))),50726:()=>_("default","@bpinc/ad-remote-assist-state-types",[4,0,1,0],(()=>()=>n(58807))),17801:()=>_("default","@bpinc/ad-remote-assist-state",[4,0,1,0],(()=>()=>n(51052))),75058:()=>_("default","@bpinc/ad-rescue-state",[4,0,1,0],(()=>()=>n(49513))),598:()=>_("default","@bpinc/ad-rescue-state-types",[4,0,1,0],(()=>()=>n(66842))),55597:()=>_("default","@bpinc/ad-integration-api-state-types",[4,0,1,0],(()=>()=>n(67881))),14441:()=>_("default","@bpinc/adapters-public-api-types",[4,0,1,0],(()=>()=>n(42336))),99698:()=>_("default","@bpinc/ad-service-details-state",[4,0,1,0],(()=>()=>n(92699))),29778:()=>_("default","@bpinc/ad-service-details-state-types",[4,0,1,0],(()=>()=>n(45197))),7630:()=>_("default","@bpinc/ad-services-dispositions-state",[4,0,1,0],(()=>()=>n(13520))),70163:()=>_("default","@bpinc/ad-services-dispositions-types",[4,0,1,0],(()=>()=>n(20840))),91786:()=>_("default","@bpinc/ad-stats-state",[4,0,1,0],(()=>()=>n(54124))),2509:()=>_("default","@bpinc/ad-stats-state-types",[4,0,1,0],(()=>()=>n(64075))),32669:()=>_("default","@bpinc/ad-user-details-state-helpers",[4,0,1,0],(()=>()=>n(7420))),25842:()=>_("default","@bpinc/ad-directory-state-types",[2,0,1,0],(()=>()=>n(95652))),57041:()=>_("default","@bpinc/ad-emi-helpers",[2,0,1,0],(()=>()=>n(95031))),1514:()=>_("default","@bpinc/ad-timezones-state",[4,0,1,0],(()=>()=>n(4445))),77356:()=>_("default","@bpinc/ad-timezones-state-types",[4,0,1,0],(()=>()=>n(29437))),2294:()=>_("default","@bpinc/ad-user-details-state",[4,0,1,0],(()=>()=>n(48567))),29046:()=>_("default","@bpinc/ad-user-details-state-types",[4,0,1,0],(()=>()=>n(6101))),82915:()=>_("default","@bpinc/ad-user-presence-state",[4,0,1,0],(()=>()=>n(33699))),78820:()=>_("default","@bpinc/ad-user-presence-state-types",[4,0,1,0],(()=>()=>n(13479))),26082:()=>_("default","@bpinc/ad-user-profile-state",[4,0,1,0],(()=>()=>n(26003))),79812:()=>_("default","@bpinc/ad-user-profile-state-types",[4,0,1,0],(()=>()=>n(43886))),82263:()=>_("default","@bpinc/ad-webrtc-state",[4,0,1,0],(()=>()=>n(69903))),94263:()=>_("default","@bpinc/ad-webrtc-state-types",[4,0,1,0],(()=>()=>n(32495))),56617:()=>_("default","@bpinc/lib-webrtc-peer-connection-web-impl",[4,0,1,0],(()=>()=>n(88318))),10278:()=>_("default","@bpinc/cal-alert-state",[4,0,1,0],(()=>()=>n(39403))),86497:()=>_("default","@bpinc/cal-alert-state-types",[4,0,1,0],(()=>()=>n(27293))),54865:()=>_("default","@bpinc/cal-state",[4,0,1,0],(()=>()=>n(62824))),8807:()=>_("default","@bpinc/cal-state-types",[4,0,1,0],(()=>()=>n(49628))),28584:()=>_("default","@bpinc/cal-state-types",[2,0,1,0],(()=>()=>n(49628))),45312:()=>_("default","@bpinc/lib-helpers",[2,0,1,0],(()=>()=>n(30646))),80867:()=>_("default","@bpinc/ad-formatting-helpers",[2,0,1,0],(()=>()=>n(75613))),52137:()=>_("default","@bpinc/lib-types-helpers",[2,0,1,0],(()=>()=>n(47769))),82922:()=>_("default","@bpinc/state-favorites",[4,0,1,0],(()=>()=>n(66954))),41682:()=>_("default","@bpinc/state-favorites-types",[4,0,1,0],(()=>()=>n(90567))),69923:()=>_("default","@bpinc/state-group-chat",[4,0,1,0],(()=>()=>n(88951))),68566:()=>_("default","@bpinc/state-kb-bridge",[4,0,1,0],(()=>()=>n(99797))),62050:()=>_("default","@bpinc/state-recent",[4,0,1,0],(()=>()=>n(35028))),35795:()=>_("default","@bpinc/ad-current-tab-data-provider",[4,0,1,0],(()=>()=>n(71182))),8518:()=>_("default","@bpinc/ad-offline-state",[4,0,1,0],(()=>()=>n(33583))),62569:()=>_("default","@bpinc/ad-offline-state-types",[4,0,1,0],(()=>()=>n(77083))),71789:()=>_("default","@bpinc/ad-password-validation-state",[4,0,1,0],(()=>()=>n(7606))),88591:()=>_("default","@bpinc/ad-password-validation-state-types",[4,0,1,0],(()=>()=>n(14438))),3945:()=>_("default","@bpinc/ad-role-manager",[4,0,1,0],(()=>()=>n(2292))),84726:()=>_("default","@bpinc/ad-session-state",[4,0,1,0],(()=>()=>n(20557))),13543:()=>_("default","@bpinc/ad-tabs-state",[4,0,1,0],(()=>()=>n(98562))),76455:()=>_("default","@bpinc/ad-timers-state",[4,0,1,0],(()=>()=>n(39387))),47402:()=>_("default","@bpinc/ad-timers-types",[4,0,1,0],(()=>()=>n(73583))),12811:()=>_("default","@bpinc/ad-transport-websocket",[4,0,1,0],(()=>()=>n(4744))),50665:()=>_("default","@bpinc/lib-communicator-integration-api-state",[4,0,1,0],(()=>()=>n(77066))),95254:()=>_("default","@bpinc/state-localization",[4,0,1,0],(()=>()=>n(95441))),63492:()=>_("default","@bpinc/state-factory",[2,0,1,0],(()=>()=>n(14192))),18611:()=>_("default","@bpinc/ad-contact-modals",[4,0,1,0],(()=>()=>n(26073))),7777:()=>d("default","@servicepattern/ui",[2,0,6,1]),67422:()=>d("default","@tanstack/react-query",[1,5,28,9]),60142:()=>_("default","@bpinc/ad-contacts-state-context",[4,0,1,0],(()=>()=>n(13207))),11980:()=>d("default","@bpinc/lib-jskit-ui",[4,0,1,0]),49073:()=>d("default","react-hook-form",[1,7,46,1]),81460:()=>d("default","@bpinc/lib-forms-base",[4,0,1,0]),39252:()=>_("default","@bpinc/ad-formatting-context",[4,0,1,0],(()=>()=>n(45950))),97978:()=>_("default","@bpinc/ad-session-context",[2,0,1,0],(()=>()=>n(80195))),88630:()=>_("default","@bpinc/ad-navigation-state-context",[4,0,1,0],(()=>()=>n(40660))),80574:()=>d("default","react-router-dom",[1,6,18,0]),79607:()=>_("default","@bpinc/ad-session-context",[4,0,1,0],(()=>()=>n(80195))),3118:()=>_("default","@bpinc/ad-interaction-state-context",[4,0,1,0],(()=>()=>n(77065))),98525:()=>_("default","@bpinc/ad-interstate-logic-state-context",[4,0,1,0],(()=>()=>n(95994))),35297:()=>_("default","@bpinc/ad-case-state-context",[2,0,1,0],(()=>()=>n(13432))),15922:()=>_("default","@bpinc/ad-services-dispositions-context",[4,0,1,0],(()=>()=>n(9445))),37505:()=>d("default","@bpinc/lib-external-ui-elements",[4,0,1,0]),76441:()=>d("default","@bpinc/lib-ui-elements",[4,0,1,0]),45152:()=>_("default","@bpinc/state-modals-context",[4,0,1,0],(()=>()=>n(9813))),26:()=>_("default","@bpinc/ad-interaction-state-hooks",[4,0,1,0],(()=>()=>n(58258))),14169:()=>_("default","@bpinc/ad-regexp-constants",[4,0,1,0],(()=>()=>n(91188))),52247:()=>_("default","@bpinc/ad-current-tab-data-context",[4,0,1,0],(()=>()=>n(16608))),84592:()=>_("default","@bpinc/ad-main-page-ui-context",[4,0,1,0],(()=>()=>n(63901))),87260:()=>_("default","@bpinc/ad-interaction-state-context",[2,0,1,0],(()=>()=>n(77065))),84512:()=>_("default","@bpinc/ad-local-settings-context",[4,0,1,0],(()=>()=>n(80158))),77024:()=>_("default","@bpinc/state-interaction-ui",[4,0,1,0],(()=>()=>n(56928))),27554:()=>_("default","@bpinc/ad-integration-api-state-context",[4,0,1,0],(()=>()=>n(45058))),85682:()=>_("default","@bpinc/ad-tabs-state-context",[4,0,1,0],(()=>()=>n(25714))),49553:()=>_("default","@bpinc/ad-screen-pop-state-context",[4,0,1,0],(()=>()=>n(14507))),40710:()=>_("default","@bpinc/lib-communicator-navigation-state",[4,0,1,0],(()=>()=>n(21775))),29016:()=>_("default","@bpinc/lib-notifications-context",[4,0,1,0],(()=>()=>n(38436))),37010:()=>_("default","@bpinc/ad-remote-assist-state-context",[4,0,1,0],(()=>()=>n(77021))),76199:()=>_("default","@bpinc/lib-interaction-context",[4,0,1,0],(()=>()=>n(52103))),41632:()=>_("default","@bpinc/ad-did-number-context",[4,0,1,0],(()=>()=>n(12016))),87517:()=>_("default","@bpinc/ad-did-context",[4,0,1,0],(()=>()=>n(96935))),94667:()=>_("default","@bpinc/ad-error-hooks",[4,0,1,0],(()=>()=>n(27840))),67850:()=>_("default","@bpinc/ad-error-validation-logic",[4,0,1,0],(()=>()=>n(75346))),87017:()=>_("default","@bpinc/ad-interaction-state-methods",[2,0,1,0],(()=>()=>n(73369))),72457:()=>_("default","@bpinc/ad-service-context",[4,0,1,0],(()=>()=>n(20633))),57339:()=>_("default","@bpinc/lib-sliding-modal-context",[4,0,1,0],(()=>()=>n(36816))),72823:()=>_("default","@bpinc/ad-upload-methods",[4,0,1,0],(()=>()=>n(62514))),44225:()=>d("default","react-popper",[1,2,3,0]),35746:()=>_("default","@bpinc/ad-formatting-context",[2,0,1,0],(()=>()=>n(45950))),60970:()=>d("default","prop-types",[1,15,8,1]),91259:()=>_("default","@bpinc/ad-contacts-state-hooks",[4,0,1,0],(()=>()=>n(98366))),38269:()=>d("default","@bpinc/lib-icons",[4,0,1,0]),20161:()=>d("default","@bpinc/lib-user-search-components",[4,0,1,0]),50801:()=>d("default","@bpinc/lib-modals-ui",[4,0,1,0]),26946:()=>_("default","@bpinc/ad-agent-state-context",[2,0,1,0],(()=>()=>n(60098))),76658:()=>d("default","@bpinc/lib-help-ui",[4,0,1,0]),53546:()=>_("default","@bpinc/ad-directory-state-context",[4,0,1,0],(()=>()=>n(4012))),46078:()=>_("default","@bpinc/ad-location-data",[4,0,1,0],(()=>()=>n(49719))),16665:()=>_("default","@bpinc/ad-interaction-chat-state-context",[4,0,1,0],(()=>()=>n(1684))),43650:()=>d("default","@bpinc/lib-helpers-ui",[4,0,1,0]),59478:()=>d("default","classnames",[2,2,3,2]),77517:()=>d("default","@bpinc/lib-forms-ui",[4,0,1,0]),13711:()=>d("default","@bpinc/lib-avatar-ui",[4,0,1,0]),25882:()=>_("default","@bpinc/ad-activities-state-context",[2,0,1,0],(()=>()=>n(67595))),37704:()=>d("default","react-dom",[1,18,2,0]),17181:()=>_("default","@bpinc/ad-local-settings-context",[2,0,1,0],(()=>()=>n(80158))),32383:()=>_("default","@bpinc/ad-emi-state-context",[4,0,1,0],(()=>()=>n(51905))),88636:()=>_("default","@bpinc/state-favorites-context",[4,0,1,0],(()=>()=>n(87294))),49160:()=>_("default","@bpinc/home-page-state-context",[4,0,1,0],(()=>()=>n(98145))),19806:()=>_("default","@bpinc/ad-interaction-internal-chat-state-context",[4,0,1,0],(()=>()=>n(70130))),80338:()=>_("default","@bpinc/ad-interaction-message-types",[4,0,1,0],(()=>()=>n(78064))),86233:()=>_("default","@bpinc/ad-local-providers",[4,0,1,0],(()=>()=>n(53685))),79707:()=>_("default","@bpinc/ad-campaigns-state-context",[4,0,1,0],(()=>()=>n(32687))),2224:()=>_("default","@bpinc/ad-evaluation-state-context",[4,0,1,0],(()=>()=>n(39783))),57128:()=>_("default","@bpinc/ad-predefined-chat-message-state-context",[4,0,1,0],(()=>()=>n(69133))),61721:()=>_("default","@bpinc/ad-prerecorded-messages-state-context",[4,0,1,0],(()=>()=>n(353))),88445:()=>_("default","@bpinc/ad-recording-state-context",[4,0,1,0],(()=>()=>n(99946))),9339:()=>_("default","@bpinc/ad-rescue-state-context",[4,0,1,0],(()=>()=>n(94547))),68588:()=>_("default","@bpinc/ad-service-details-state-context",[4,0,1,0],(()=>()=>n(6438))),9505:()=>_("default","@bpinc/ad-stats-state-context",[4,0,1,0],(()=>()=>n(5180))),64470:()=>_("default","@bpinc/ad-timezones-state-context",[4,0,1,0],(()=>()=>n(24823))),20002:()=>_("default","@bpinc/ad-user-details-state-context",[4,0,1,0],(()=>()=>n(22868))),37295:()=>_("default","@bpinc/ad-user-presence-state-context",[4,0,1,0],(()=>()=>n(43909))),26266:()=>_("default","@bpinc/ad-user-profile-state-context",[4,0,1,0],(()=>()=>n(20847))),36165:()=>_("default","@bpinc/ad-webrtc-state-context",[4,0,1,0],(()=>()=>n(73033))),48325:()=>_("default","@bpinc/cal-alert-state-context",[4,0,1,0],(()=>()=>n(84226))),73734:()=>_("default","@bpinc/cal-state-context",[4,0,1,0],(()=>()=>n(76777))),64665:()=>_("default","@bpinc/state-kb-bridge-provider",[4,0,1,0],(()=>()=>n(68646))),64622:()=>_("default","@bpinc/state-recent-context",[4,0,1,0],(()=>()=>n(28658))),94602:()=>_("default","@bpinc/ad-offline-state-context",[4,0,1,0],(()=>()=>n(78871))),47824:()=>_("default","@bpinc/ad-password-validation-state-context",[4,0,1,0],(()=>()=>n(87535))),90032:()=>_("default","@bpinc/ad-timers-context",[4,0,1,0],(()=>()=>n(99942))),95807:()=>_("default","@bpinc/ad-user-activity-state-context",[4,0,1,0],(()=>()=>n(93240))),68069:()=>_("default","@bpinc/ad-local-settings-types",[4,0,1,0],(()=>()=>n(69910))),30550:()=>_("default","@bpinc/ad-local-settings-web-impl",[4,0,1,0],(()=>()=>n(89382))),93344:()=>_("default","@bpinc/lib-storage",[4,0,1,0],(()=>()=>n(94223))),62226:()=>_("default","@bpinc/ad-persistent-logger-web-impl",[4,0,1,0],(()=>()=>n(22178))),57589:()=>_("default","@bpinc/ad-platform-specific-web-impl",[4,0,1,0],(()=>()=>n(73376))),23165:()=>_("default","@bpinc/state-recent-types",[4,0,1,0],(()=>()=>n(22550))),63849:()=>_("default","@bpinc/ad-scroll-state-context-builder",[4,0,1,0],(()=>()=>n(91335))),82939:()=>_("default","@bpinc/ad-server-errors-humanizer",[4,0,1,0],(()=>()=>n(70238))),20916:()=>_("default","@bpinc/ad-service-worker-reg",[4,0,1,0],(()=>()=>n(71359))),53287:()=>_("default","@bpinc/ad-supervision-ui-context",[4,0,1,0],(()=>()=>n(27245))),9286:()=>_("default","@bpinc/ad-ui-context",[4,0,1,0],(()=>()=>n(88898))),21482:()=>_("default","@bpinc/lib-audio-playback",[4,0,1,0],(()=>()=>n(22247))),88567:()=>_("default","@bpinc/lib-communicator-ui-context",[4,0,1,0],(()=>()=>n(67373))),7315:()=>_("default","@bpinc/lib-gsm-charset-utils",[4,0,1,0],(()=>()=>n(51541))),90967:()=>d("default","@trt2/gsm-charset-utils",[4,1,0,13]),22173:()=>_("default","@bpinc/lib-input-utils",[4,0,1,0],(()=>()=>n(82348))),36283:()=>_("default","@bpinc/lib-phonenumber-formatter",[4,0,1,0],(()=>()=>n(2164))),52282:()=>_("default","@bpinc/lib-worker-browser-notifications",[4,0,1,0],(()=>()=>n(49845)))};[23690,63830,2122,81890,64245,95465,26552,68939,47123,52388,27385,13519,29108,57934,82008,40381,18164,54515,66029,50292,5518,16152,61650,26220,96877,21918,7909,50712,87801,5660,34805,13641,86702,5977,56020,79941,18189,50944,41844,53179,85571,7578,28136,96559,85698,23713,36501,7796,7673,83734,4623,58713,84970,12746,3211,92136,68938,20981,97329,90444,37319,24339,35535,64832,14134,77434,27005,74130,38756,28074,19883,37008,17670,9282,5141,24776,95944,86990,73482,33976,62476,62176,39066,13583,12630,489,84700,65175,82393,34075,3973,86603,37346,22631,41212,5632,80205,66534,9650,81029,82697,61350,15637,66593,79696,50726,17801,75058,598,55597,14441,99698,29778,7630,70163,91786,2509,32669,25842,57041,1514,77356,2294,29046,82915,78820,26082,79812,82263,94263,56617,10278,86497,54865,8807,28584,45312,80867,52137,82922,41682,69923,68566,62050,35795,8518,62569,71789,88591,3945,84726,13543,76455,47402,12811,50665,95254,63492,18611,7777,67422,60142,11980,49073,81460,39252,97978,88630,80574,79607,3118,98525,35297,15922,37505,76441,45152,26,14169,52247,84592,87260,84512,77024,27554,85682,49553,40710,29016,37010,76199,41632,87517,94667,67850,87017,72457,57339,72823,44225,35746,60970,91259,38269,20161,50801,26946,76658,53546,46078,16665,43650,59478,77517,13711,25882,37704,17181,32383,88636,49160,19806,80338,86233,79707,2224,57128,61721,88445,9339,68588,9505,64470,20002,37295,26266,36165,48325,73734,64665,64622,94602,47824,90032,95807,68069,30550,93344,62226,57589,23165,63849,82939,20916,53287,9286,21482,88567,7315,90967,22173,36283,52282].forEach((e=>{n.m[e]=t=>{f[e]=0,delete n.c[e];var r=p[e]();if("function"!=typeof r)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=r()}}))})();n(23525)})();
//# sourceMappingURL=main.616c4ee0.js.map?