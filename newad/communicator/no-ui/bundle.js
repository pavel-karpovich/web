/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={9644:(e,t,n)=>{e.exports=n(5644)},353:(e,t,n)=>{"use strict";var r=n(3044),a=n(6955),o=n(8030),i=n(1875),s=n(842),c=n(8618);e.exports=function(e){return new Promise((function(t,u){var l=e.data,d=e.headers;r.isFormData(l)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",p=e.auth.password||"";d.Authorization="Basic "+btoa(_+":"+p)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};a(t,u,r),f=null}},f.onabort=function(){f&&(u(c("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n(2233),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(h){if("json"!==e.responseType)throw h}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),u(e),f=null)})),void 0===l&&(l=null),f.send(l)}))}},5644:(e,t,n)=>{"use strict";var r=n(3044),a=n(3644),o=n(2215),i=n(2937);function s(e){var t=new o(e),n=a(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(n(1439));c.Axios=o,c.create=function(e){return s(i(c.defaults,e))},c.Cancel=n(6714),c.CancelToken=n(4089),c.isCancel=n(8041),c.all=function(e){return Promise.all(e)},c.spread=n(783),e.exports=c,e.exports.default=c},6714:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4089:(e,t,n)=>{"use strict";var r=n(6714);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},8041:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},2215:(e,t,n)=>{"use strict";var r=n(3044),a=n(8030),o=n(946),i=n(6895),s=n(2937);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,a){return this.request(r.merge(a||{},{method:e,url:t,data:n}))}})),e.exports=c},946:(e,t,n)=>{"use strict";var r=n(3044);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},8618:(e,t,n)=>{"use strict";var r=n(1935);e.exports=function(e,t,n,a,o){var i=new Error(e);return r(i,t,n,a,o)}},6895:(e,t,n)=>{"use strict";var r=n(3044),a=n(8556),o=n(8041),i=n(1439),s=n(9192),c=n(8762);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return u(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},1935:e=>{"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},2937:(e,t,n)=>{"use strict";var r=n(3044);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(a){r.isObject(t[a])?n[a]=r.deepMerge(e[a],t[a]):void 0!==t[a]?n[a]=t[a]:r.isObject(e[a])?n[a]=r.deepMerge(e[a]):void 0!==e[a]&&(n[a]=e[a])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},6955:(e,t,n)=>{"use strict";var r=n(8618);e.exports=function(e,t,n){var a=n.config.validateStatus;!a||a(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},8556:(e,t,n)=>{"use strict";var r=n(3044);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},1439:(e,t,n)=>{"use strict";var r=n(3044),a=n(8868),o={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)||"undefined"!=typeof XMLHttpRequest)&&(s=n(353)),s),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c},3644:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},8030:(e,t,n)=>{"use strict";var r=n(3044);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),o=i.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},8762:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},2233:(e,t,n)=>{"use strict";var r=n(3044);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9192:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},842:(e,t,n)=>{"use strict";var r=n(3044);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},8868:(e,t,n)=>{"use strict";var r=n(3044);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1875:(e,t,n)=>{"use strict";var r=n(3044),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},783:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},3044:(e,t,n)=>{"use strict";var r=n(3644),a=n(2744),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,a){e[a]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},2744:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},1417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_BROADCAST_CHANNELS=t.BroadcastChannel=void 0,t.clearNodeFolder=function(e){e=(0,o.fillOptionsWithDefaults)(e);var t=(0,a.chooseMethod)(e);return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):r.PROMISE_RESOLVED_FALSE},t.enforceOptions=function(e){s=e};var r=n(1413),a=n(9578),o=n(7914),i=new Set;t.OPEN_BROADCAST_CHANNELS=i;var s,c=0,u=function(e,t){var n,u;this.id=c++,i.add(this),this.name=e,s&&(t=s),this.options=(0,o.fillOptionsWithDefaults)(t),this.method=(0,a.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,u=(n=this).method.create(n.name,n.options),(0,r.isPromise)(u)?(n._prepP=u,u.then((function(e){n._state=e}))):n._state=u};function l(e,t,n){var a={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:r.PROMISE_RESOLVED_VOID).then((function(){var t=e.method.postMessage(e._state,a);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function d(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function f(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&d(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=1e5,r=e.time-n;t.time>=r&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function _(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!d(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}t.BroadcastChannel=u,u._pubkey=!0,u.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return l(this,"message",e)},postInternal:function(e){return l(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};_(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,f(this,"message",t)):this._onML=null},addEventListener:function(e,t){f(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){_(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){i.delete(this),this.closed=!0;var t=this._prepP?this._prepP:r.PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},8986:(e,t,n)=>{"use strict";var r=n(5879);e.exports={BroadcastChannel:r.BroadcastChannel,createLeaderElection:r.createLeaderElection,clearNodeFolder:r.clearNodeFolder,enforceOptions:r.enforceOptions,beLeader:r.beLeader}},5879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BroadcastChannel",{enumerable:!0,get:function(){return r.BroadcastChannel}}),Object.defineProperty(t,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return r.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(t,"beLeader",{enumerable:!0,get:function(){return o.beLeader}}),Object.defineProperty(t,"clearNodeFolder",{enumerable:!0,get:function(){return r.clearNodeFolder}}),Object.defineProperty(t,"createLeaderElection",{enumerable:!0,get:function(){return a.createLeaderElection}}),Object.defineProperty(t,"enforceOptions",{enumerable:!0,get:function(){return r.enforceOptions}});var r=n(1417),a=n(9265),o=n(4622)},4622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beLeader=function(e){e.isLeader=!0,e._hasLeader=!0;var t=(0,r.add)((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&a(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),a(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),a(e,"tell")},t.sendLeaderMessage=a;var r=n(8943);function a(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}},5286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeaderElectionWebLock=void 0;var r=n(1413),a=n(4622),o=function(e,t){var n=this;this.broadcastChannel=e,e._befC.push((function(){return n.die()})),this._options=t,this.isLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+e.method.type+"||"+e.name};t.LeaderElectionWebLock=o,o.prototype={hasLeader:function(){var e=this;return navigator.locks.query().then((function(t){var n=t.held?t.held.filter((function(t){return t.name===e.lN})):[];return!!(n&&n.length>0)}))},awaitLeadership:function(){var e=this;if(!this._wLMP){this._wKMC.c=new AbortController;var t=new Promise((function(t,n){e._wKMC.res=t,e._wKMC.rej=n}));this._wLMP=new Promise((function(n){navigator.locks.request(e.lN,{signal:e._wKMC.c.signal},(function(){return e._wKMC.c=void 0,(0,a.beLeader)(e),n(),t})).catch((function(){}))}))}return this._wLMP},set onduplicate(e){},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),(0,a.sendLeaderMessage)(this,"death")}}},9265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLeaderElection=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){e||(e={});(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3);e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options));return e}(t,e);var n=(0,r.supportsWebLockAPI)()?new o.LeaderElectionWebLock(e,t):new i(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n};var r=n(1413),a=n(4622),o=n(5286),i=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._aplQ=r.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var a=function(e){"leader"===e.context&&("death"===e.action&&(n._hasLeader=!1),"tell"===e.action&&(n._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",a),this._lstns.push(a)};i.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(e){var t=this;if(this.isLeader)return(0,r.sleep)(0,!0);if(this.isDead)return(0,r.sleep)(0,!1);if(this._aplQC>1)return this._aplQ;return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return r.PROMISE_RESOLVED_TRUE;var n,o=!1,i=new Promise((function(e){n=function(){o=!0,e()}})),s=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t._hasLeader=!0))};t.broadcastChannel.addEventListener("internal",s);var c=e?4*t._options.responseTime:t._options.responseTime;return(0,a.sendLeaderMessage)(t,"apply").then((function(){return Promise.race([(0,r.sleep)(c),i.then((function(){return Promise.reject(new Error)}))])})).then((function(){return(0,a.sendLeaderMessage)(t,"apply")})).then((function(){return Promise.race([(0,r.sleep)(c),i.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",s),!o&&(0,a.beLeader)(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function(e){if(e.isLeader)return r.PROMISE_RESOLVED_VOID;return new Promise((function(t){var n=!1;function a(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then((function(){e.isLeader&&a()})),function t(){return(0,r.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void a():e.applyOnce(!0).then((function(){e.isLeader?a():t()}))}))}();var o=function(t){"leader"===t.context&&"death"===t.action&&(e._hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&a()})))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)}))}(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,(0,a.sendLeaderMessage)(this,"death")}}},9578:(e,t,n)=>{"use strict";n(988);Object.defineProperty(t,"__esModule",{value:!0}),t.chooseMethod=function(e){var t=[].concat(e.methods,s).filter(Boolean);if(e.type){if("simulate"===e.type)return i.SimulateMethod;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No usable method found in "+JSON.stringify(s.map((function(e){return e.type}))))};var r=n(6259),a=n(3966),o=n(2987),i=n(9846);var s=[r.NativeMethod,a.IndexedDBMethod,o.LocalstorageMethod]},3966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSACTION_SETTINGS=t.IndexedDBMethod=void 0,t.averageResponseTime=I,t.canBeUsed=w,t.cleanOldMessages=g,t.close=b,t.commitIndexedDBTransaction=l,t.create=h,t.createDatabase=d,t.getAllMessages=function(e){var t=e.transaction(s,"readonly",c),n=t.objectStore(s),r=[];return new Promise((function(e){n.openCursor().onsuccess=function(n){var a=n.target.result;a?(r.push(a.value),a.continue()):(l(t),e(r))}}))},t.getIdb=u,t.getMessagesHigherThan=_,t.getOldMessages=m,t.microSeconds=void 0,t.onMessage=S,t.postMessage=C,t.removeMessagesById=p,t.type=void 0,t.writeMessage=f;var r=n(1413),a=n(4626),o=n(7914),i=r.microSeconds;t.microSeconds=i;var s="messages",c={durability:"relaxed"};t.TRANSACTION_SETTINGS=c;function u(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function l(e){e.commit&&e.commit()}function d(e){var t="pubkey.broadcast-channel-0-"+e,n=u().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(s,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}function f(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},a=e.transaction([s],"readwrite",c);return new Promise((function(e,t){a.oncomplete=function(){return e()},a.onerror=function(e){return t(e)},a.objectStore(s).add(r),l(a)}))}function _(e,t){var n=e.transaction(s,"readonly",c),r=n.objectStore(s),a=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var i=r.getAll(o);return new Promise((function(e,t){i.onerror=function(e){return t(e)},i.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,i){var s=function(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch(e){return r.openCursor()}}();s.onerror=function(e){return i(e)},s.onsuccess=function(r){var o=r.target.result;o?o.value.id<t+1?o.continue(t+1):(a.push(o.value),o.continue()):(l(n),e(a))}}))}function p(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(s,"readwrite",c).objectStore(s);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}function m(e,t){var n=(new Date).getTime()-t,r=e.transaction(s,"readonly",c),a=r.objectStore(s),o=[];return new Promise((function(e){a.openCursor().onsuccess=function(t){var a=t.target.result;if(a){var i=a.value;i.time<n?(o.push(i),a.continue()):(l(r),e(o))}else e(o)}}))}function g(e){return m(e.db,e.options.idb.ttl).then((function(t){return p(e,t.map((function(e){return e.id})))}))}function h(e,t){return t=(0,o.fillOptionsWithDefaults)(t),d(e).then((function(n){var o={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:(0,r.randomToken)(),eMIs:new a.ObliviousSet(2*t.idb.ttl),writeBlockPromise:r.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){o.closed=!0,t.idb.onclose&&t.idb.onclose()},y(o),o}))}function y(e){e.closed||v(e).then((function(){return(0,r.sleep)(e.options.idb.fallbackInterval)})).then((function(){return y(e)}))}function v(e){return e.closed?r.PROMISE_RESOLVED_VOID:e.messagesCallback?_(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),r.PROMISE_RESOLVED_VOID})):r.PROMISE_RESOLVED_VOID}function b(e){e.closed=!0,e.db.close()}function C(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return f(e.db,e.uuid,t)})).then((function(){0===(0,r.randomInt)(0,10)&&g(e)})),e.writeBlockPromise}function S(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,v(e)}function w(){return!!u()}function I(e){return 2*e.idb.fallbackInterval}t.type="idb";var O={create:h,close:b,onMessage:S,postMessage:C,canBeUsed:w,type:"idb",averageResponseTime:I,microSeconds:i};t.IndexedDBMethod=O},2987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalstorageMethod=void 0,t.addStorageEventListener=d,t.averageResponseTime=h,t.canBeUsed=g,t.close=p,t.create=_,t.getLocalStorage=c,t.microSeconds=void 0,t.onMessage=m,t.postMessage=l,t.removeStorageEventListener=f,t.storageKey=u,t.type=void 0;var r=n(4626),a=n(7914),o=n(1413),i=o.microSeconds;t.microSeconds=i;var s="localstorage";function c(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return e}function u(e){return"pubkey.broadcastChannel-"+e}function l(e,t){return new Promise((function(n){(0,o.sleep)().then((function(){var r=u(e.channelName),a={token:(0,o.randomToken)(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(a);c().setItem(r,i);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=r,s.newValue=i,window.dispatchEvent(s),n()}))}))}function d(e,t){var n=u(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}function f(e){window.removeEventListener("storage",e)}function _(e,t){if(t=(0,a.fillOptionsWithDefaults)(t),!g())throw new Error("BroadcastChannel: localstorage cannot be used");var n=(0,o.randomToken)(),i=new r.ObliviousSet(t.localstorage.removeTimeout),s={channelName:e,uuid:n,eMIs:i};return s.listener=d(e,(function(e){s.messagesCallback&&e.uuid!==n&&e.token&&!i.has(e.token)&&(e.data.time&&e.data.time<s.messagesCallbackTime||(i.add(e.token),s.messagesCallback(e.data)))})),s}function p(e){f(e.listener)}function m(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function g(){var e=c();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(n){return!1}return!0}function h(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}t.type=s;var y={create:_,close:p,onMessage:m,postMessage:l,canBeUsed:g,type:s,averageResponseTime:h,microSeconds:i};t.LocalstorageMethod=y},6259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeMethod=void 0,t.averageResponseTime=d,t.canBeUsed=l,t.close=s,t.create=i,t.microSeconds=void 0,t.onMessage=u,t.postMessage=c,t.type=void 0;var r=n(1413),a=r.microSeconds;t.microSeconds=a;var o="native";function i(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t}function s(e){e.bc.close(),e.subFns=[]}function c(e,t){try{return e.bc.postMessage(t,!1),r.PROMISE_RESOLVED_VOID}catch(n){return Promise.reject(n)}}function u(e,t){e.messagesCallback=t}function l(){if("undefined"==typeof window&&"undefined"==typeof self||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}function d(){return 150}t.type=o;var f={create:i,close:s,onMessage:u,postMessage:c,canBeUsed:l,type:o,averageResponseTime:d,microSeconds:a};t.NativeMethod=f},9846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulateMethod=void 0,t.averageResponseTime=d,t.canBeUsed=l,t.close=s,t.create=i,t.microSeconds=void 0,t.onMessage=u,t.postMessage=c,t.type=void 0;var r=n(1413).microSeconds;t.microSeconds=r;var a="simulate";t.type=a;var o=new Set;function i(e){var t={name:e,messagesCallback:null};return o.add(t),t}function s(e){o.delete(e)}function c(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(o).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))}function u(e,t){e.messagesCallback=t}function l(){return!0}function d(){return 5}var f={create:i,close:s,onMessage:u,postMessage:c,canBeUsed:l,type:a,averageResponseTime:d,microSeconds:r};t.SimulateMethod=f},7914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0);t.idb||(t.idb={});t.idb.ttl||(t.idb.ttl=45e3);t.idb.fallbackInterval||(t.idb.fallbackInterval=150);e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose);t.localstorage||(t.localstorage={});t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4);e.methods&&(t.methods=e.methods);t.node||(t.node={});t.node.ttl||(t.node.ttl=12e4);t.node.maxParallelWrites||(t.node.maxParallelWrites=2048);void 0===t.node.useFastPath&&(t.node.useFastPath=!0);return t}},1413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMISE_RESOLVED_VOID=t.PROMISE_RESOLVED_TRUE=t.PROMISE_RESOLVED_FALSE=void 0,t.isPromise=function(e){return e&&"function"==typeof e.then},t.microSeconds=function(){var e=(new Date).getTime();return e===o?(i++,1e3*e+i):(o=e,i=0,1e3*e)},t.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.randomToken=function(){return Math.random().toString(36).substring(2)},t.sleep=function(e,t){e||(e=0);return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},t.supportsWebLockAPI=function(){return"undefined"!=typeof navigator&&void 0!==navigator.locks&&"function"==typeof navigator.locks.request};var n=Promise.resolve(!1);t.PROMISE_RESOLVED_FALSE=n;var r=Promise.resolve(!0);t.PROMISE_RESOLVED_TRUE=r;var a=Promise.resolve();t.PROMISE_RESOLVED_VOID=a;var o=0,i=0},8879:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",o="minute",i="hour",s="day",c="week",u="month",l="quarter",d="year",f="date",_="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},h=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+h(r,2,"0")+":"+h(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,u),o=n-a<0,i=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-a)/(o?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:c,d:s,D:f,h:i,m:o,s:a,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=g;var C=function(e){return e instanceof O},S=function e(t,n,r){var a;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(a=o),n&&(b[o]=n,a=o);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var s=t.name;b[s]=t,a=s}return!r&&a&&(v=a),a||!r&&v},w=function(e,t){if(C(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new O(n)},I=y;I.l=S,I.i=C,I.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e)}var h=g.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var a=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return I},h.isValid=function(){return!(this.$d.toString()===_)},h.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return w(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<w(e)},h.$g=function(e,t,n){return I.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,t){var n=this,r=!!I.u(t)||t,l=I.p(e),_=function(e,t){var a=I.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(s)},p=function(e,t){return I.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,h=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?_(1,0):_(31,11);case u:return r?_(1,g):_(0,g+1);case c:var v=this.$locale().weekStart||0,b=(m<v?m+7:m)-v;return _(r?h-b:h+(6-b),g);case s:case f:return p(y+"Hours",0);case i:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case a:return p(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(e,t){var n,c=I.p(e),l="set"+(this.$u?"UTC":""),_=(n={},n[s]=l+"Date",n[f]=l+"Date",n[u]=l+"Month",n[d]=l+"FullYear",n[i]=l+"Hours",n[o]=l+"Minutes",n[a]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],p=c===s?this.$D+(t-this.$W):t;if(c===u||c===d){var m=this.clone().set(f,1);m.$d[_](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else _&&this.$d[_](p);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[I.p(e)]()},h.add=function(r,l){var f,_=this;r=Number(r);var p=I.p(l),m=function(e){var t=w(_);return I.w(t.date(t.date()+Math.round(e*r)),_)};if(p===u)return this.set(u,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return m(1);if(p===c)return m(7);var g=(f={},f[o]=t,f[i]=n,f[a]=e,f)[p]||1,h=this.$d.getTime()+r*g;return I.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||_;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=I.z(this),o=this.$H,i=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,d=function(e,n,a,o){return e&&(e[n]||e(t,r))||a[n].slice(0,o)},f=function(e){return I.s(o%12||12,e,"0")},p=l||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return I.s(t.$y,4,"0");case"M":return s+1;case"MM":return I.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,u,3);case"MMMM":return d(u,s);case"D":return t.$D;case"DD":return I.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return I.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,i,!0);case"A":return p(o,i,!1);case"m":return String(i);case"mm":return I.s(i,2,"0");case"s":return String(t.$s);case"ss":return I.s(t.$s,2,"0");case"SSS":return I.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(r,f,_){var p,m=this,g=I.p(f),h=w(r),y=(h.utcOffset()-this.utcOffset())*t,v=this-h,b=function(){return I.m(m,h)};switch(g){case d:p=b()/12;break;case u:p=b();break;case l:p=b()/3;break;case c:p=(v-y)/6048e5;break;case s:p=(v-y)/864e5;break;case i:p=v/n;break;case o:p=v/t;break;case a:p=v/e;break;default:p=v}return _?p:I.a(p)},h.daysInMonth=function(){return this.endOf(u).$D},h.$locale=function(){return b[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return I.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},g}(),T=O.prototype;return w.prototype=T,[["$ms",r],["$s",a],["$m",o],["$H",i],["$W",s],["$M",u],["$y",d],["$D",f]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,O,w),e.$i=!0),w},w.locale=S,w.isDayjs=C,w.unix=function(e){return w(1e3*e)},w.en=b[v],w.Ls=b,w.p={},w}()},5411:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function a(e,t,n){var a=r[n];return Array.isArray(a)&&(a=a[t?0:1]),a.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a}};return n.default.locale(o,null,!0),o}(n(8879))},5668:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"en-nz",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return n.default.locale(r,null,!0),r}(n(8879))},6017:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}()},8338:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return n.default.locale(r,null,!0),r}(n(8879))},2618:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr-ca",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return n.default.locale(r,null,!0),r}(n(8879))},1295:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}(n(8879))},1570:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"\xba"}};return n.default.locale(r,null,!0),r}(n(8879))},3214:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e){return e+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(e){return e<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return n.default.locale(r,null,!0),r}(n(8879))},1605:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return n.default.locale(r,null,!0),r}(n(8879))},5958:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(r,null,!0),r}(n(8879))},8034:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return n.default.locale(r,null,!0),r}(n(8879))},1389:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),a="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),o="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),i="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),s=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function c(e,t,n){var r,a;return"m"===n?t?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+(r=+e,a={mm:t?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n].split("_"),r%10==1&&r%100!=11?a[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?a[1]:a[2])}var u=function(e,t){return s.test(t)?r[e.month()]:a[e.month()]};u.s=a,u.f=r;var l=function(e,t){return s.test(t)?o[e.month()]:i[e.month()]};l.s=i,l.f=o;var d={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:u,monthsShort:l,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:c,mm:c,h:"\u0447\u0430\u0441",hh:c,d:"\u0434\u0435\u043d\u044c",dd:c,M:"\u043c\u0435\u0441\u044f\u0446",MM:c,y:"\u0433\u043e\u0434",yy:c},ordinal:function(e){return e},meridiem:function(e){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return n.default.locale(d,null,!0),d}(n(8879))},4738:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e){return e+"."}};return n.default.locale(r,null,!0),r}(n(8879))},8833:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,t){return"W"===t?e+"\u5468":e+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,t){var n=100*e+t;return n<600?"\u51cc\u6668":n<900?"\u65e9\u4e0a":n<1100?"\u4e0a\u5348":n<1300?"\u4e2d\u5348":n<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return n.default.locale(r,null,!0),r}(n(8879))},9945:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},i=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,r=o.meridiem;if(r){for(var a=1;a<=24;a+=1)if(e.indexOf(r(a,0,t))>-1){n=a>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[a,function(e){this.afternoon=l(e,!1)}],a:[a,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[a,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[a,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[a,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function f(n){var r,a;r=n,a=o&&o.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||a[r]||e[r]||a[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=i.length,c=0;c<s;c+=1){var u=i[c],l=d[u],f=l&&l[0],_=l&&l[1];i[c]=_?{regex:f,parser:_}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var a=i[n];if("string"==typeof a)r+=a.length;else{var o=a.regex,c=a.parser,u=e.slice(r),l=o.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,a=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var s=i[1];if("string"==typeof s){var c=!0===i[2],u=!0===i[3],l=c||u,d=i[2];u&&(d=i[2]),o=this.$locale(),!c&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=f(t)(e),a=r.year,o=r.month,i=r.day,s=r.hours,c=r.minutes,u=r.seconds,l=r.milliseconds,d=r.zone,_=new Date,p=i||(a||o?1:_.getDate()),m=a||_.getFullYear(),g=0;a&&!o||(g=o>0?o-1:_.getMonth());var h=s||0,y=c||0,v=u||0,b=l||0;return d?new Date(Date.UTC(m,g,p,h,y,v,b+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,p,h,y,v,b)):new Date(m,g,p,h,y,v,b)}catch(e){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&t!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var _=s.length,p=1;p<=_;p+=1){i[1]=s[p-1];var m=n.apply(this,i);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===_&&(this.$d=new Date(""))}else a.call(this,e)}}}()},4989:function(e){e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,a=36e5,o=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=31536e6,c=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:s,months:c,days:o,hours:a,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof y},f=function(e,t,n){return new y(e,n,t.$l)},_=function(e){return t.p(e)+"s"},p=function(e){return e<0},m=function(e){return p(e)?Math.ceil(e):Math.floor(e)},g=function(e){return Math.abs(e)},h=function(e,t){return e?p(e)?{negative:!0,format:""+g(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},y=function(){function p(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return f(e*l[_(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[_(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var a=e.match(u);if(a){var o=a.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var g=p.prototype;return g.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*l[n]}),0)},g.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=m(e/s),e%=s,this.$d.months=m(e/c),e%=c,this.$d.days=m(e/o),e%=o,this.$d.hours=m(e/a),e%=a,this.$d.minutes=m(e/r),e%=r,this.$d.seconds=m(e/n),e%=n,this.$d.milliseconds=e},g.toISOString=function(){var e=h(this.$d.years,"Y"),t=h(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=h(n,"D"),a=h(this.$d.hours,"H"),o=h(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);var s=h(i,"S"),c=e.negative||t.negative||r.negative||a.negative||o.negative||s.negative,u=a.format||o.format||s.format?"T":"",l=(c?"-":"")+"P"+e.format+t.format+r.format+u+a.format+o.format+s.format;return"P"===l||"-P"===l?"P0D":l},g.toJSON=function(){return this.toISOString()},g.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},g.as=function(e){return this.$ms/l[_(e)]},g.get=function(e){var t=this.$ms,n=_(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?m(t/l[n]):this.$d[n],0===t?0:t},g.add=function(e,t,n){var r;return r=t?e*l[_(t)]:d(e)?e.$ms:f(e,this).$ms,f(this.$ms+r*(n?-1:1),this)},g.subtract=function(e,t){return this.add(e,t,!0)},g.locale=function(e){var t=this.clone();return t.$l=e,t},g.clone=function(){return f(this.$ms,this)},g.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},g.valueOf=function(){return this.asMilliseconds()},g.milliseconds=function(){return this.get("milliseconds")},g.asMilliseconds=function(){return this.as("milliseconds")},g.seconds=function(){return this.get("seconds")},g.asSeconds=function(){return this.as("seconds")},g.minutes=function(){return this.get("minutes")},g.asMinutes=function(){return this.as("minutes")},g.hours=function(){return this.get("hours")},g.asHours=function(){return this.as("hours")},g.days=function(){return this.get("days")},g.asDays=function(){return this.as("days")},g.weeks=function(){return this.get("weeks")},g.asWeeks=function(){return this.as("weeks")},g.months=function(){return this.get("months")},g.asMonths=function(){return this.as("months")},g.years=function(){return this.get("years")},g.asYears=function(){return this.as("years")},p}(),v=function(e,t,n){return e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms")};return function(n,r,a){e=a,t=a().$utils(),a.duration=function(e,t){var n=a.locale();return f(e,{$l:n},t)},a.isDuration=d;var o=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)?v(this,e,1):o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)?v(this,e,-1):i.bind(this)(e,t)}}}()},30:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,a){var o=n(e),i=n(t),s="("===(a=a||"()")[0],c=")"===a[1];return(s?this.isAfter(o,r):!this.isBefore(o,r))&&(c?this.isBefore(i,r):!this.isAfter(i,r))||(s?this.isBefore(o,r):!this.isAfter(o,r))&&(c?this.isAfter(i,r):!this.isBefore(i,r))}}}()},3575:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},9388:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},909:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,a=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var i=e.name?e:e.$locale(),s=a(i[t]),c=a(i[n]),u=s||c.map((function(e){return e.slice(0,r)}));if(!o)return u;var l=i.weekStart;return u.map((function(e,t){return u[(t+(l||0))%7]}))},i=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(i(),"months")},n.monthsShort=function(){return o(i(),"monthsShort","months",3)},n.weekdays=function(e){return o(i(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(i(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(i(),"weekdaysMin","weekdays",2,e)}}}()},3147:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var a=n.prototype,o=a.format;r.en.formats=e,a.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,a){var o=a&&a.toUpperCase();return r||n[a]||e[a]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},2745:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,a=function(e){var t,a=e.date,o=e.utc,i={};if(!(null===(t=a)||t instanceof Date||t instanceof Array||r.$utils().u(t)||"Object"!==t.constructor.name)){if(!Object.keys(a).length)return new Date;var s=o?n.utc():n();Object.keys(a).forEach((function(e){var t,n;i[(t=e,n=r.$utils().p(t),"date"===n?"day":n)]=a[e]}));var c=i.day||(i.year||i.month>=0?1:s.date()),u=i.year||s.year(),l=i.month>=0?i.month:i.year||i.day?0:s.month(),d=i.hour||0,f=i.minute||0,_=i.second||0,p=i.millisecond||0;return o?new Date(Date.UTC(u,l,c,d,f,_,p)):new Date(u,l,c,d,f,_,p)}return a},o=r.parse;r.parse=function(e){e.date=a.bind(this)(e),o.bind(this)(e)};var i=r.set,s=r.add,c=r.subtract,u=function(e,t,n,r){void 0===r&&(r=1);var a=Object.keys(t),o=this;return a.forEach((function(n){o=e.bind(o)(t[n]*r,n)})),o};r.set=function(e,t){return t=void 0===t?e:t,"Object"===e.constructor.name?u.bind(this)((function(e,t){return i.bind(this)(t,e)}),t,e):i.bind(this)(e,t)},r.add=function(e,t){return"Object"===e.constructor.name?u.bind(this)(s,e,t):s.bind(this)(e,t)},r.subtract=function(e,t){return"Object"===e.constructor.name?u.bind(this)(s,e,t,-1):c.bind(this)(e,t)}}}()},7491:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,a){return r.fromToBase(e,t,n,a)}n.en.relativeTime=a,r.fromToBase=function(t,r,o,i,s){for(var c,u,l,d=o.$locale().relativeTime||a,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=f.length,p=0;p<_;p+=1){var m=f[p];m.d&&(c=i?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,g<=m.r||!m.r){g<=1&&p>0&&(m=f[p-1]);var h=d[m.l];s&&(g=s(""+g)),u="string"==typeof h?h.replace("%d",g):h(g,r,m.l,l);break}}if(r)return u;var y=l?d.future:d.past;return"function"==typeof y?y(u):y.replace("%s",u)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var i=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(i(this),e)},r.fromNow=function(e){return this.from(i(this),e)}}}()},264:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,a,o){var i=a.prototype;o.utc=function(e){return new a({date:e,utc:!0,args:arguments})},i.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},i.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var c=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=i.utcOffset;i.utcOffset=function(r,a){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var a=(""+r[0]).match(n)||["-",0,0],o=a[0],i=60*+a[1]+ +a[2];return 0===i?0:"+"===o?i:-i}(r),null===r))return this;var i=Math.abs(r)<=16?60*r:r,s=this;if(a)return s.$offset=i,s.$u=0===r,s;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(i+c,e)).$offset=i,s.$x.$localOffset=c}else s=this.utc();return s};var l=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var d=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=i.diff;i.diff=function(e,t,n){if(e&&this.$u===e.$u)return f.call(this,e,t,n);var r=this.local(),a=o(e).local();return f.call(r,a,t,n)}}}()},5130:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(a=r))})),t.splice(a,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!=typeof process&&"env"in process&&(e={FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"https://localhost:3000/agent/communicator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:!0,REACT_APP_SERVICE_WORKER_SCOPE:"/agent/communicator",REACT_APP_DISABLE_WEBSOCKET_MESSAGE_LOGGING:!1,REACT_APP_CURRENT_SERVER_ORIGIN:!1}.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(7123)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},7123:(e,t,n)=>{e.exports=function(e){function t(e){let n,a,o,i=null;function s(...e){if(!s.enabled)return;const r=s,a=Number(new Date),o=a-(n||a);r.diff=o,r.prev=n,r.curr=a,n=a,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,a)=>{if("%%"===n)return"%";i++;const o=t.formatters[a];if("function"==typeof o){const t=e[i];n=o.call(r,t),e.splice(i,1),i--}return n})),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(a!==t.namespaces&&(a=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(a),...t.skips.map(a).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),a=r.length;for(n=0;n<a;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},7374:function(e,t,n){var r;!function(a){"use strict";var o,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c=!0,u="[DecimalError] ",l=u+"Invalid argument: ",d=u+"Exponent out of range: ",f=Math.floor,_=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=9007199254740991,h=f(1286742750677284.5),y={};function v(e,t){var n,r,a,o,i,s,u,l,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),c?A(t,f):t;if(u=e.d,l=t.d,i=e.e,a=t.e,u=u.slice(),o=i-a){for(o<0?(r=u,o=-o,s=l.length):(r=l,a=i,s=u.length),o>(s=(i=Math.ceil(f/7))>s?i+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=u.length)-(o=l.length)<0&&(o=s,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/m|0,u[o]%=m;for(n&&(u.unshift(n),++a),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=a,c?A(t,f):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function C(e){var t,n,r,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(o+=T(n)),o+=r;(n=7-(r=(i=e[t])+"").length)&&(o+=T(n))}else if(0===i)return"0";for(;i%10==0;)i/=10;return o+i}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(a=e.d.length)?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return S(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return A(S(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return I(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(c=!1,t=S(E(n,i),E(e,i),i),c=!0,A(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(u+"NaN");return n.s?(c=!1,t=S(n,e,0,1).times(e),c=!0,n.minus(t)):A(new r(n),a)},y.naturalExponential=y.exp=function(){return w(this)},y.naturalLogarithm=y.ln=function(){return E(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=I(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(u+"NaN")}for(e=I(s),c=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=C(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=f((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=i=(n=l.precision)+3;;)if(r=(o=r).plus(S(s,o,i+2)).times(.5),C(o.d).slice(0,i)===(t=C(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(A(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;i+=4}return c=!0,A(r,n)},y.times=y.mul=function(e){var t,n,r,a,o,i,s,u,l,d=this,f=d.constructor,_=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,(u=_.length)<(l=p.length)&&(o=_,_=p,p=o,i=u,u=l,l=i),o=[],r=i=u+l;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,a=u+r;a>r;)s=o[a]+p[r]*_[a-r-1]+t,o[a--]=s%m|0,t=s/m|0;o[a]=(o[a]+t)%m|0}for(;!o[--i];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,c?A(e,f.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),A(n,e+I(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=k(r,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=k(r=A(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?k(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=k((r=A(new o(a),e+I(a)+1,t)).abs(),!1,e+I(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return A(new t(e),I(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,i,s,l=this,d=l.constructor,_=+(e=new d(e));if(!e.s)return new d(o);if(!(l=new d(l)).s){if(e.s<1)throw Error(u+"Infinity");return l}if(l.eq(o))return l;if(r=d.precision,e.eq(o))return A(l,r);if(s=(t=e.e)>=(n=e.d.length-1),i=l.s,s){if((n=_<0?-_:_)<=g){for(a=new d(o),t=Math.ceil(r/7+4),c=!1;n%2&&R((a=a.times(l)).d,t),0!==(n=f(n/2));)R((l=l.times(l)).d,t);return c=!0,e.s<0?new d(o).div(a):A(a,r)}}else if(i<0)throw Error(u+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,c=!1,a=e.times(E(l,r+12)),c=!0,(a=w(a)).s=i,a},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=k(a,(n=I(a))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),r=k(a=A(new o(a),e,t),e<=(n=I(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),A(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=I(e),n=e.constructor;return k(e,t<=n.toExpNeg||t>=n.toExpPos)};var S=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,o;if(n!=r)o=n>r?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,o,i){var s,c,l,d,f,_,p,g,h,y,v,b,C,S,w,O,T,E,D=r.constructor,P=r.s==a.s?1:-1,k=r.d,R=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(u+"Division by zero");for(c=r.e-a.e,T=R.length,w=k.length,g=(p=new D(P)).d=[],l=0;R[l]==(k[l]||0);)++l;if(R[l]>(k[l]||0)&&--c,(b=null==o?o=D.precision:i?o+(I(r)-I(a))+1:o)<0)return new D(0);if(b=b/7+2|0,l=0,1==T)for(d=0,R=R[0],b++;(l<w||d)&&b--;l++)C=d*m+(k[l]||0),g[l]=C/R|0,d=C%R|0;else{for((d=m/(R[0]+1)|0)>1&&(R=e(R,d),k=e(k,d),T=R.length,w=k.length),S=T,y=(h=k.slice(0,T)).length;y<T;)h[y++]=0;(E=R.slice()).unshift(0),O=R[0],R[1]>=m/2&&++O;do{d=0,(s=t(R,h,T,y))<0?(v=h[0],T!=y&&(v=v*m+(h[1]||0)),(d=v/O|0)>1?(d>=m&&(d=m-1),1==(s=t(f=e(R,d),h,_=f.length,y=h.length))&&(d--,n(f,T<_?E:R,_))):(0==d&&(s=d=1),f=R.slice()),(_=f.length)<y&&f.unshift(0),n(h,f,y),-1==s&&(s=t(R,h,T,y=h.length))<1&&(d++,n(h,T<y?E:R,y)),y=h.length):0===s&&(d++,h=[0]),g[l++]=d,s&&h[0]?h[y++]=k[S]||0:(h=[k[S]],y=1)}while((S++<w||void 0!==h[0])&&b--)}return g[0]||g.shift(),p.e=c,A(p,i?o+I(p)+1:o)}}();function w(e,t){var n,r,a,i,s,u=0,l=0,f=e.constructor,p=f.precision;if(I(e)>16)throw Error(d+I(e));if(!e.s)return new f(o);for(null==t?(c=!1,s=p):s=t,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(s+=Math.log(_(2,l))/Math.LN10*2+5|0,n=r=a=new f(o),f.precision=s;;){if(r=A(r.times(e),s),n=n.times(++u),C((i=a.plus(S(r,n,s))).d).slice(0,s)===C(a.d).slice(0,s)){for(;l--;)a=A(a.times(a),s);return f.precision=p,null==t?(c=!0,A(a,p)):a}a=i}}function I(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function O(e,t,n){if(t>e.LN10.sd())throw c=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,a,i,s,l,d,f,_,p=1,m=e,g=m.d,h=m.constructor,y=h.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new h(0);if(null==t?(c=!1,f=y):f=t,m.eq(10))return null==t&&(c=!0),O(h,f);if(f+=10,h.precision=f,r=(n=C(g)).charAt(0),i=I(m),!(Math.abs(i)<15e14))return d=O(h,f+2,y).times(i+""),m=E(new h(r+"."+n.slice(1)),f-10).plus(d),h.precision=y,null==t?(c=!0,A(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=C((m=m.times(e)).d)).charAt(0),p++;for(i=I(m),r>1?(m=new h("0."+n),i++):m=new h(r+"."+n.slice(1)),l=s=m=S(m.minus(o),m.plus(o),f),_=A(m.times(m),f),a=3;;){if(s=A(s.times(_),f),C((d=l.plus(S(s,new h(a),f))).d).slice(0,f)===C(l.d).slice(0,f))return l=l.times(2),0!==i&&(l=l.plus(O(h,f+2,y).times(i+""))),l=S(l,new h(p),f),h.precision=y,null==t?(c=!0,A(l,y)):l;l=d,a+=2}}function D(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=f(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),c&&(e.e>h||e.e<-h))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,n){var r,a,o,i,s,u,l,p,g=e.d;for(i=1,o=g[0];o>=10;o/=10)i++;if((r=t-i)<0)r+=7,a=t,l=g[p=0];else{if((p=Math.ceil((r+1)/7))>=(o=g.length))return e;for(l=o=g[p],i=1;o>=10;o/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(s=l/(o=_(10,i-a-1))%10|0,u=t<0||void 0!==g[p+1]||l%o,u=n<4?(s||u)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||u||6==n&&(r>0?a>0?l/_(10,i-a):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return u?(o=I(e),g.length=1,t=t-o-1,g[0]=_(10,(7-t%7)%7),e.e=f(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=p,o=1,p--):(g.length=p+1,o=_(10,7-r),g[p]=a>0?(l/_(10,i-a)%_(10,a)|0)*o:0),u)for(;;){if(0==p){(g[0]+=o)==m&&(g[0]=1,++e.e);break}if(g[p]+=o,g[p]!=m)break;g[p--]=0,o=1}for(r=g.length;0===g[--r];)g.pop();if(c&&(e.e>h||e.e<-h))throw Error(d+I(e));return e}function P(e,t){var n,r,a,o,i,s,u,l,d,f,_=e.constructor,p=_.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new _(e),c?A(t,p):t;if(u=e.d,f=t.d,r=t.e,l=e.e,u=u.slice(),i=l-r){for((d=i<0)?(n=u,i=-i,s=f.length):(n=f,r=l,s=u.length),i>(a=Math.max(Math.ceil(p/7),s)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((d=(a=u.length)<(s=f.length))&&(s=a),a=0;a<s;a++)if(u[a]!=f[a]){d=u[a]<f[a];break}i=0}for(d&&(n=u,u=f,f=n,t.s=-t.s),s=u.length,a=f.length-s;a>0;--a)u[s++]=0;for(a=f.length;a>i;){if(u[--a]<f[a]){for(o=a;o&&0===u[--o];)u[o]=m-1;--u[o],u[a]+=m}u[a]-=f[a]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,c?A(t,p):t):new _(0)}function k(e,t,n){var r,a=I(e),o=C(e.d),i=o.length;return t?(n&&(r=n-i)>0?o=o.charAt(0)+"."+o.slice(1)+T(r):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+T(-a-1)+o,n&&(r=n-i)>0&&(o+=T(r))):a>=i?(o+=T(a+1-i),n&&(r=n-a-1)>0&&(o=o+"."+T(r))):((r=a+1)<i&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(o+="."),o+=T(r))),e.s<0?"-"+o:o}function R(e,t){if(e.length>t)return e.length=t,!0}function N(e){if(!e||"object"!=typeof e)throw Error(u+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(f(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):D(t,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(l+e);D(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=N,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return o.config(t),o}(s),s.default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},5554:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=a(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},a=r.exec(e);a;){try{n[a[0]]=decodeURIComponent(a[0])}catch(t){var i=o(a[0]);i!==a[0]&&(n[a[0]]=i)}a=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),c=0;c<s.length;c++){var u=s[c];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},3185:(e,t,n)=>{var r=n(3464),a=n(2635),o=n(2766),i=n(839),s=n(886),c=n(7906),u=n(4277),l=n(8515),d=n(5945),f=n(5988),_=n(4732),p=n(9618),m=n(5218),g=f("Date.prototype.getTime"),h=Object.getPrototypeOf,y=f("Object.prototype.toString"),v=d("%Set%",!0),b=f("Map.prototype.has",!0),C=f("Map.prototype.get",!0),S=f("Map.prototype.size",!0),w=f("Set.prototype.add",!0),I=f("Set.prototype.delete",!0),O=f("Set.prototype.has",!0),T=f("Set.prototype.size",!0);function E(e,t,n,r){for(var a,o=p(e);(a=o.next())&&!a.done;)if(R(t,a.value,n,r))return I(e,a.value),!0;return!1}function D(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function A(e,t,n,r,a){var o=D(n);if(null!=o)return o;var i=C(t,o);return!(void 0===i&&!b(t,o)||!R(r,i,!1,a))&&(!b(e,o)&&R(r,i,!1,a))}function P(e,t,n){var r=D(n);return null!=r?r:O(t,r)&&!O(e,r)}function k(e,t,n,r,a,o){for(var i,s,c=p(e);(i=c.next())&&!i.done;)if(R(n,s=i.value,a,o)&&R(r,C(t,s),a,o))return I(e,s),!0;return!1}function R(e,t,n,d){var f=n||{};if(f.strict?o(e,t):e===t)return!0;if(l(e)!==l(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return!(!1===e&&t||e&&!1===t)&&(f.strict?o(e,t):e==t);var m,I=d.has(e),D=d.has(t);if(I&&D){if(d.get(e)===d.get(t))return!0}else m={};return I||d.set(e,m),D||d.set(t,m),function(e,t,n,o){var l,d;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(e.prototype!==t.prototype)return!1;if(y(e)!==y(t))return!1;if(a(e)!==a(t))return!1;var f=c(e),m=c(t);if(f!==m)return!1;var I=e instanceof Error,D=t instanceof Error;if(I!==D)return!1;if((I||D)&&(e.name!==t.name||e.message!==t.message))return!1;var M=i(e),j=i(t);if(M!==j)return!1;if((M||j)&&(e.source!==t.source||s(e)!==s(t)))return!1;var x=u(e),L=u(t);if(x!==L)return!1;if((x||L)&&g(e)!==g(t))return!1;if(n.strict&&h&&h(e)!==h(t))return!1;var $=N(e),K=N(t);if($!==K)return!1;if($||K){if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}if(typeof e!=typeof t)return!1;try{var F=r(e),U=r(t)}catch(G){return!1}if(F.length!==U.length)return!1;for(F.sort(),U.sort(),l=F.length-1;l>=0;l--)if(F[l]!=U[l])return!1;for(l=F.length-1;l>=0;l--)if(!R(e[d=F[l]],t[d],n,o))return!1;var q=_(e),B=_(t);if(q!==B)return!1;if("Set"===q||"Set"===B)return function(e,t,n,r){if(T(e)!==T(t))return!1;var a,o,i,s=p(e),c=p(t);for(;(a=s.next())&&!a.done;)if(a.value&&"object"==typeof a.value)i||(i=new v),w(i,a.value);else if(!O(t,a.value)){if(n.strict)return!1;if(!P(e,t,a.value))return!1;i||(i=new v),w(i,a.value)}if(i){for(;(o=c.next())&&!o.done;)if(o.value&&"object"==typeof o.value){if(!E(i,o.value,n.strict,r))return!1}else if(!n.strict&&!O(e,o.value)&&!E(i,o.value,n.strict,r))return!1;return 0===T(i)}return!0}(e,t,n,o);if("Map"===q)return function(e,t,n,r){if(S(e)!==S(t))return!1;var a,o,i,s,c,u,l=p(e),d=p(t);for(;(a=l.next())&&!a.done;)if(s=a.value[0],c=a.value[1],s&&"object"==typeof s)i||(i=new v),w(i,s);else if(void 0===(u=C(t,s))&&!b(t,s)||!R(c,u,n.strict,r)){if(n.strict)return!1;if(!A(e,t,s,c,r))return!1;i||(i=new v),w(i,s)}if(i){for(;(o=d.next())&&!o.done;)if(s=o.value[0],c=o.value[1],s&&"object"==typeof s){if(!k(i,e,s,c,n.strict,r))return!1}else if(!(n.strict||e.has(s)&&R(C(e,s),c,!1,r)||k(i,e,s,c,!1,r)))return!1;return 0===T(i)}return!0}(e,t,n,o);return!0}(e,t,f,d)}function N(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=function(e,t,n){return R(e,t,n,m())}},79:e=>{"use strict";if("function"==typeof BigInt){var t=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return t.call(e),!0}catch(n){}return!1}(e))}}else e.exports=function(e){return!1}},276:e=>{"use strict";var t=Boolean.prototype.toString,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(r&&Symbol.toStringTag in e?function(e){try{return t.call(e),!0}catch(n){return!1}}(e):"[object Boolean]"===n.call(e))}},3315:e=>{"use strict";var t=Number.prototype.toString,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(r?function(e){try{return t.call(e),!0}catch(n){return!1}}(e):"[object Number]"===n.call(e))}},839:(e,t,n)=>{"use strict";var r=n(3198),a=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===i.call(e);var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,a.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}}(e)}},4775:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&a&&"function"==typeof a.get?a.get:null,i=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,_=Boolean.prototype.valueOf,p=Object.prototype.toString,m=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,h=n(7443).custom,y=h&&S(h)?h:null;function v(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function b(e){return String(e).replace(/"/g,"&quot;")}function C(e){return"[object Array]"===O(e)}function S(e){return"[object Symbol]"===O(e)}e.exports=function e(t,n,r,a){var s=n||{};if(I(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function(e,t){return v(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,T),"single",t)}(t,s);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var c=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=c&&c>0&&"object"==typeof t)return"[Object]";if(void 0===a)a=[];else if(function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(a,t)>=0)return"[Circular]";function p(t,n){return n&&(a=a.slice()).push(n),e(t,s,r+1,a)}if("function"==typeof t){var h=function(e){if(e.name)return e.name;var t=m.call(e,/^function\s*([\w$]+)/);if(t)return t[1];return null}(t);return"[Function"+(h?": "+h:"")+"]"}if(S(t)){var w=Symbol.prototype.toString.call(t);return"object"==typeof t?E(w):w}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var k="<"+String(t.nodeName).toLowerCase(),R=t.attributes||[],N=0;N<R.length;N++)k+=" "+R[N].name+"="+v(b(R[N].value),"double",s);return k+=">",t.childNodes&&t.childNodes.length&&(k+="..."),k+="</"+String(t.nodeName).toLowerCase()+">"}if(C(t))return 0===t.length?"[]":"[ "+P(t,p).join(", ")+" ]";if(function(e){return"[object Error]"===O(e)}(t)){var M=P(t,p);return 0===M.length?"["+String(t)+"]":"{ ["+String(t)+"] "+M.join(", ")+" }"}if("object"==typeof t){if(y&&"function"==typeof t[y])return t[y]();if("function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(k){return!0}return e instanceof Map}catch(t){}return!1}(t)){var j=[];return i.call(t,(function(e,n){j.push(p(n,t)+" => "+p(e,t))})),A("Map",o.call(t),j)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var x=[];return l.call(t,(function(e){x.push(p(e,t))})),A("Set",u.call(t),x)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(k){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return D("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(k){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return D("WeakSet");if(function(e){return"[object Number]"===O(e)}(t))return E(p(Number(t)));if(function(e){return"[object BigInt]"===O(e)}(t))return E(p(g.call(t)));if(function(e){return"[object Boolean]"===O(e)}(t))return E(_.call(t));if(function(e){return"[object String]"===O(e)}(t))return E(p(String(t)));if(!function(e){return"[object Date]"===O(e)}(t)&&!function(e){return"[object RegExp]"===O(e)}(t)){var L=P(t,p);return 0===L.length?"{}":"{ "+L.join(", ")+" }"}return String(t)};var w=Object.prototype.hasOwnProperty||function(e){return e in this};function I(e,t){return w.call(e,t)}function O(e){return p.call(e)}function T(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function E(e){return"Object("+e+")"}function D(e){return e+" { ? }"}function A(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function P(e,t){var n=C(e),r=[];if(n){r.length=e.length;for(var a=0;a<e.length;a++)r[a]=I(e,a)?t(e[a],e):""}for(var o in e)I(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));return r}},2766:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},7928:e=>{"use strict";var t=Object,n=TypeError;e.exports=function(){if(null!=this&&this!==t(this))throw new n("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},886:(e,t,n)=>{"use strict";var r=n(4926),a=n(4030),o=n(7928),i=n(3148),s=n(7923),c=a(o);r(c,{getPolyfill:i,implementation:o,shim:s}),e.exports=c},3148:(e,t,n)=>{"use strict";var r=n(7928),a=n(4926).supportsDescriptors,o=Object.getOwnPropertyDescriptor,i=TypeError;e.exports=function(){if(!a)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return r}},7923:(e,t,n)=>{"use strict";var r=n(4926).supportsDescriptors,a=n(3148),o=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=a(),t=c(u),n=o(t,"flags");return n&&n.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},5218:(e,t,n)=>{"use strict";var r=n(5945),a=n(5988),o=n(4775),i=r("%TypeError%"),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=a("Array.prototype.push"),l=a("WeakMap.prototype.get",!0),d=a("WeakMap.prototype.set",!0),f=a("WeakMap.prototype.has",!0),_=a("Map.prototype.get",!0),p=a("Map.prototype.set",!0),m=a("Map.prototype.has",!0);e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new i("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(c){if(t)return _(t,r)}else if(n)return function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].key===t)return e[n].value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(c){if(t)return m(t,r)}else if(n)return function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].key===t)return!0;return!1}(n,r);return!1},set:function(r,a){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),d(e,r,a)):c?(t||(t=new c),p(t,r,a)):(n||(n=[]),function(e,t,n){for(var r=0;r<e.length;r+=1)if(e[r].key===t)return void(e[r].value=n);u(e,{key:t,value:n})}(n,r,a))}};return r}},8515:(e,t,n)=>{"use strict";var r=n(6302),a=n(3315),o=n(276),i=n(8705),s=n(79);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:r(e)?"String":a(e)?"Number":o(e)?"Boolean":i(e)?"Symbol":s(e)?"BigInt":void 0}},4926:(e,t,n)=>{"use strict";var r=n(3464),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,i=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var a;(!(t in e)||"function"==typeof(a=r)&&"[object Function]"===o.call(a)&&r())&&(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);a&&(o=i.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};l.supportsDescriptors=!!c,e.exports=l},5368:function(e){e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,a=Object.keys,o=Object.freeze,i=Object.seal,s=Object.create,c="undefined"!=typeof Reflect&&Reflect,u=c.apply,l=c.construct;u||(u=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),i||(i=function(e){return e}),l||(l=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var d=O(Array.prototype.forEach),f=O(Array.prototype.indexOf),_=O(Array.prototype.join),p=O(Array.prototype.pop),m=O(Array.prototype.push),g=O(Array.prototype.slice),h=O(String.prototype.toLowerCase),y=O(String.prototype.match),v=O(String.prototype.replace),b=O(String.prototype.indexOf),C=O(String.prototype.trim),S=O(RegExp.prototype.test),w=T(RegExp),I=T(TypeError);function O(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return u(e,t,r)}}function T(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(e,n)}}function E(e,t){n&&n(e,null);for(var a=t.length;a--;){var o=t[a];if("string"==typeof o){var i=h(o);i!==o&&(r(t)||(t[a]=i),o=i)}e[o]=!0}return e}function D(e){var n=s(null),r=void 0;for(r in e)u(t,e,[r])&&(n[r]=e[r]);return n}var A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),P=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),k=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=o(["#text"]),M=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),j=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),x=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),L=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$=i(/\{\{[\s\S]*|[\s\S]*\}\}/gm),K=i(/<%[\s\S]*|[\s\S]*%>/gm),F=i(/^data-[\-\w.\u00B7-\uFFFF]/),U=i(/^aria-[\-\w]+$/),q=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=i(/^(?:\w+script|data):/i),G=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function z(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var W=function(){return"undefined"==typeof window?null:window},V=function(e,t){if("object"!==(void 0===e?"undefined":H(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(e){return e}})}catch(o){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(),t=function(e){return Y(e)};if(t.version="2.0.15",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=!1,i=e.document,s=e.DocumentFragment,c=e.HTMLTemplateElement,u=e.Node,l=e.NodeFilter,O=e.NamedNodeMap,T=void 0===O?e.NamedNodeMap||e.MozNamedAttrMap:O,Q=e.Text,J=e.Comment,X=e.DOMParser,Z=e.trustedTypes;if("function"==typeof c){var ee=i.createElement("template");ee.content&&ee.content.ownerDocument&&(i=ee.content.ownerDocument)}var te=V(Z,n),ne=te&&je?te.createHTML(""):"",re=i,ae=re.implementation,oe=re.createNodeIterator,ie=re.getElementsByTagName,se=re.createDocumentFragment,ce=n.importNode,ue=D(i).documentMode?i.documentMode:{},le={};t.isSupported=ae&&void 0!==ae.createHTMLDocument&&9!==ue;var de=$,fe=K,_e=F,pe=U,me=B,ge=G,he=q,ye=null,ve=E({},[].concat(z(A),z(P),z(k),z(R),z(N))),be=null,Ce=E({},[].concat(z(M),z(j),z(x),z(L))),Se=null,we=null,Ie=!0,Oe=!0,Te=!1,Ee=!1,De=!1,Ae=!1,Pe=!1,ke=!1,Re=!1,Ne=!1,Me=!1,je=!1,xe=!0,Le=!0,$e=!1,Ke={},Fe=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ue=null,qe=E({},["audio","video","img","source","image","track"]),Be=null,Ge=E({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),He=null,ze=i.createElement("form"),We=function(e){He&&He===e||(e&&"object"===(void 0===e?"undefined":H(e))||(e={}),e=D(e),ye="ALLOWED_TAGS"in e?E({},e.ALLOWED_TAGS):ve,be="ALLOWED_ATTR"in e?E({},e.ALLOWED_ATTR):Ce,Be="ADD_URI_SAFE_ATTR"in e?E(D(Ge),e.ADD_URI_SAFE_ATTR):Ge,Ue="ADD_DATA_URI_TAGS"in e?E(D(qe),e.ADD_DATA_URI_TAGS):qe,Se="FORBID_TAGS"in e?E({},e.FORBID_TAGS):{},we="FORBID_ATTR"in e?E({},e.FORBID_ATTR):{},Ke="USE_PROFILES"in e&&e.USE_PROFILES,Ie=!1!==e.ALLOW_ARIA_ATTR,Oe=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=e.SAFE_FOR_JQUERY||!1,De=e.SAFE_FOR_TEMPLATES||!1,Ae=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,Ne=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_DOM_IMPORT||!1,je=e.RETURN_TRUSTED_TYPE||!1,ke=e.FORCE_BODY||!1,xe=!1!==e.SANITIZE_DOM,Le=!1!==e.KEEP_CONTENT,$e=e.IN_PLACE||!1,he=e.ALLOWED_URI_REGEXP||he,De&&(Oe=!1),Ne&&(Re=!0),Ke&&(ye=E({},[].concat(z(N))),be=[],!0===Ke.html&&(E(ye,A),E(be,M)),!0===Ke.svg&&(E(ye,P),E(be,j),E(be,L)),!0===Ke.svgFilters&&(E(ye,k),E(be,j),E(be,L)),!0===Ke.mathMl&&(E(ye,R),E(be,x),E(be,L))),e.ADD_TAGS&&(ye===ve&&(ye=D(ye)),E(ye,e.ADD_TAGS)),e.ADD_ATTR&&(be===Ce&&(be=D(be)),E(be,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&E(Be,e.ADD_URI_SAFE_ATTR),Le&&(ye["#text"]=!0),Ae&&E(ye,["html","head","body"]),ye.table&&(E(ye,["tbody"]),delete Se.tbody),o&&o(e),He=e)},Ve=function(e){m(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(n){e.outerHTML=ne}},Ye=function(e,n){try{m(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(r){m(t.removed,{attribute:null,from:n})}n.removeAttribute(e)},Qe=function(e){var t=void 0,n=void 0;if(ke)e="<remove></remove>"+e;else{var a=y(e,/^[\r\n\t ]+/);n=a&&a[0]}var o=te?te.createHTML(e):e;try{t=(new X).parseFromString(o,"text/html")}catch(c){}if(r&&E(Se,["title"]),!t||!t.documentElement){var s=(t=ae.createHTMLDocument("")).body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=o}return e&&n&&t.body.insertBefore(i.createTextNode(n),t.body.childNodes[0]||null),ie.call(t,Ae?"html":"body")[0]};t.isSupported&&function(){try{var e=Qe("<x/><title>&lt;/title&gt;&lt;img&gt;");S(/<\/title/,e.querySelector("title").innerHTML)&&(r=!0)}catch(t){}}();var Je=function(e){return oe.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,(function(){return l.FILTER_ACCEPT}),!1)},Xe=function(e){return!(e instanceof Q||e instanceof J||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof T&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ze=function(e){return"object"===(void 0===u?"undefined":H(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":H(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},et=function(e,n,r){le[e]&&d(le[e],(function(e){e.call(t,n,r,He)}))},tt=function(e){var n=void 0;if(et("beforeSanitizeElements",e,null),Xe(e))return Ve(e),!0;if(y(e.nodeName,/[\u0080-\uFFFF]/))return Ve(e),!0;var r=h(e.nodeName);if(et("uponSanitizeElement",e,{tagName:r,allowedTags:ye}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return Ve(e),!0;if(!ye[r]||Se[r]){if(Le&&!Fe[r]&&"function"==typeof e.insertAdjacentHTML)try{var a=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(a):a)}catch(o){}return Ve(e),!0}return"noscript"===r&&S(/<\/noscript/i,e.innerHTML)||"noembed"===r&&S(/<\/noembed/i,e.innerHTML)?(Ve(e),!0):(!Ee||Ze(e.firstElementChild)||Ze(e.content)&&Ze(e.content.firstElementChild)||!S(/</g,e.textContent)||(m(t.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=v(e.innerHTML,/</g,"&lt;"):e.innerHTML=v(e.textContent,/</g,"&lt;")),De&&3===e.nodeType&&(n=e.textContent,n=v(n,de," "),n=v(n,fe," "),e.textContent!==n&&(m(t.removed,{element:e.cloneNode()}),e.textContent=n)),et("afterSanitizeElements",e,null),!1)},nt=function(e,t,n){if(xe&&("id"===t||"name"===t)&&(n in i||n in ze))return!1;if(Oe&&S(_e,t));else if(Ie&&S(pe,t));else{if(!be[t]||we[t])return!1;if(Be[t]);else if(S(he,v(n,ge,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(n,"data:")||!Ue[e])if(Te&&!S(me,v(n,ge,"")));else if(n)return!1}return!0},rt=function(e){var n=void 0,r=void 0,o=void 0,i=void 0,s=void 0;et("beforeSanitizeAttributes",e,null);var c=e.attributes;if(c){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};for(s=c.length;s--;){var l=n=c[s],d=l.name,m=l.namespaceURI;if(r=C(n.value),o=h(d),u.attrName=o,u.attrValue=r,u.keepAttr=!0,u.forceKeepAttr=void 0,et("uponSanitizeAttribute",e,u),r=u.attrValue,!u.forceKeepAttr){if("name"===o&&"IMG"===e.nodeName&&c.id)i=c.id,c=g(c,[]),Ye("id",e),Ye(d,e),f(c,i)>s&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===r&&u.keepAttr&&(be[o]||!we[o]))continue;"id"===d&&e.setAttribute(d,""),Ye(d,e)}if(u.keepAttr)if(Ee&&S(/\/>/i,r))Ye(d,e);else if(S(/svg|math/i,e.namespaceURI)&&S(w("</("+_(a(Fe),"|")+")","i"),r))Ye(d,e);else{De&&(r=v(r,de," "),r=v(r,fe," "));var y=e.nodeName.toLowerCase();if(nt(y,o,r))try{m?e.setAttributeNS(m,d,r):e.setAttribute(d,r),p(t.removed)}catch(b){}}}}et("afterSanitizeAttributes",e,null)}},at=function e(t){var n=void 0,r=Je(t);for(et("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)et("uponSanitizeShadowNode",n,null),tt(n)||(n.content instanceof s&&e(n.content),rt(n));et("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,a){var o=void 0,i=void 0,c=void 0,l=void 0,d=void 0;if(r||(r="\x3c!--\x3e"),"string"!=typeof r&&!Ze(r)){if("function"!=typeof r.toString)throw I("toString is not a function");if("string"!=typeof(r=r.toString()))throw I("dirty is not a string, aborting")}if(!t.isSupported){if("object"===H(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof r)return e.toStaticHTML(r);if(Ze(r))return e.toStaticHTML(r.outerHTML)}return r}if(Pe||We(a),t.removed=[],"string"==typeof r&&($e=!1),$e);else if(r instanceof u)1===(i=(o=Qe("\x3c!--\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!Re&&!De&&!Ae&&-1===r.indexOf("<"))return te&&je?te.createHTML(r):r;if(!(o=Qe(r)))return Re?null:ne}o&&ke&&Ve(o.firstChild);for(var f=Je($e?r:o);c=f.nextNode();)3===c.nodeType&&c===l||tt(c)||(c.content instanceof s&&at(c.content),rt(c),l=c);if(l=null,$e)return r;if(Re){if(Ne)for(d=se.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return Me&&(d=ce.call(n,d,!0)),d}var _=Ae?o.outerHTML:o.innerHTML;return De&&(_=v(_,de," "),_=v(_,fe," ")),te&&je?te.createHTML(_):_},t.setConfig=function(e){We(e),Pe=!0},t.clearConfig=function(){He=null,Pe=!1},t.isValidAttribute=function(e,t,n){He||We({});var r=h(e),a=h(t);return nt(r,a,n)},t.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],m(le[e],t))},t.removeHook=function(e){le[e]&&p(le[e])},t.removeHooks=function(e){le[e]&&(le[e]=[])},t.removeAllHooks=function(){le={}},t}return Y()}()},5945:(e,t,n)=>{"use strict";var r,a=TypeError,o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(C){o=null}var i=function(){throw new a},s=o?function(){try{return i}catch(e){try{return o(arguments,"callee").get}catch(t){return i}}}():i,c=n(2636)(),u=Object.getPrototypeOf||function(e){return e.__proto__},l=r,d=r,f=r,_=r,p="undefined"==typeof Uint8Array?r:u(Uint8Array),m={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":c?u([][Symbol.iterator]()):r,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncFunctionPrototype%":r,"%AsyncGenerator%":r,"%AsyncGeneratorFunction%":f,"%AsyncGeneratorPrototype%":r,"%AsyncIteratorPrototype%":_&&c&&Symbol.asyncIterator?_[Symbol.asyncIterator]():r,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?r:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?r:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?r:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?r:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":r,"%GeneratorFunction%":l,"%GeneratorPrototype%":r,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?r:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?r:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?r:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?u(u([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%JSONParse%":"object"==typeof JSON?JSON.parse:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?u((new Map)[Symbol.iterator]()):r,"%MapPrototype%":"undefined"==typeof Map?r:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%PromisePrototype%":"undefined"==typeof Promise?r:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?r:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?r:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?r:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?r:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?u((new Set)[Symbol.iterator]()):r,"%SetPrototype%":"undefined"==typeof Set?r:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":c?u(""[Symbol.iterator]()):r,"%StringPrototype%":String.prototype,"%Symbol%":c?Symbol:r,"%SymbolPrototype%":c?Symbol.prototype:r,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":s,"%TypedArray%":p,"%TypedArrayPrototype%":p?p.prototype:r,"%TypeError%":a,"%TypeErrorPrototype%":a.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?r:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?r:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?r:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?r:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?r:WeakSet.prototype},g=n(4090).call(Function.call,String.prototype.replace),h=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g,v=function(e){var t=[];return g(e,h,(function(e,n,r,a){t[t.length]=r?g(a,y,"$1"):n||e})),t},b=function(e,t){if(!(e in m))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===m[e]&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return m[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=v(e),r=b("%"+(n.length>0?n[0]:"")+"%",t),i=1;i<n.length;i+=1)if(null!=r)if(o&&i+1>=n.length){var s=o(r,n[i]);if(!t&&!(n[i]in r))throw new a("base intrinsic for "+e+" exists, but the property is not available.");r=s?s.get||s.value:r[n[i]]}else r=r[n[i]];return r}},4030:(e,t,n)=>{"use strict";var r=n(4090),a=n(5945)("%Function%"),o=a.apply,i=a.call;e.exports=function(){return r.apply(i,arguments)},e.exports.apply=function(){return r.apply(o,arguments)}},5988:(e,t,n)=>{"use strict";var r=n(5945),a=n(4030),o=a(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")?a(n):n}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,a="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||r.call(o)!==a)throw new TypeError(t+o);for(var i,s=n.call(arguments,1),c=function(){if(this instanceof i){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,o.length-s.length),l=[],d=0;d<u;d++)l.push("$"+d);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var f=function(){};f.prototype=o.prototype,i.prototype=new f,f.prototype=null}return i}},4090:(e,t,n)=>{"use strict";var r=n(7795);e.exports=Function.prototype.bind||r},2636:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(6679);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&a())))}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},3198:(e,t,n)=>{"use strict";var r=n(4090);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},2635:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,n=Object.prototype.toString,r=function(e){return!(t&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===n.call(e)},a=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n.call(e)&&"[object Function]"===n.call(e.callee)},o=function(){return r(arguments)}();r.isLegacyArguments=a,e.exports=o?r:a},4277:e=>{"use strict";var t=Date.prototype.getDay,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(r?function(e){try{return t.call(e),!0}catch(n){return!1}}(e):"[object Date]"===n.call(e))}},7968:e=>{"use strict";var t,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var a=n?Map.prototype.has:null,o=r?Set.prototype.has:null;t||a||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e),o)try{o.call(e)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},3328:e=>{"use strict";var t,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var a=n?Map.prototype.has:null,o=r?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),a)try{a.call(e)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},6302:e=>{"use strict";var t=String.prototype.valueOf,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(r?function(e){try{return t.call(e),!0}catch(n){return!1}}(e):"[object String]"===n.call(e))}},8705:(e,t,n)=>{"use strict";var r=Object.prototype.toString;if(n(2636)()){var a=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(a.call(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},6927:e=>{"use strict";var t,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(t=function(e){return!1});var a=n?n.prototype.has:null,o=r?r.prototype.has:null;t||a||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e,a),o)try{o.call(e,o)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},7938:e=>{"use strict";var t,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(t=function(e){return!1});var a=n?n.prototype.has:null,o=r?r.prototype.has:null;t||o||(e.exports=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e,o),a)try{a.call(e,a)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},1378:e=>{var t=1e3,n=60*t,r=60*n,a=24*r,o=7*a,i=365.25*a;function s(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var o=Math.abs(e);if(o>=a)return s(e,o,a,"day");if(o>=r)return s(e,o,r,"hour");if(o>=n)return s(e,o,n,"minute");if(o>=t)return s(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=a)return Math.round(e/a)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5691:(e,t,n)=>{"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=n(801),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},_=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=i(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!a.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var h in e)p&&"prototype"===h||!a.call(e,h)||f.push(String(h));if(c)for(var y=function(e){if("undefined"==typeof window||!_)return d(e);try{return d(e)}catch(t){return!1}}(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!a.call(e,l[v])||f.push(l[v]);return f}}e.exports=r},3464:(e,t,n)=>{"use strict";var r=Array.prototype.slice,a=n(801),o=Object.keys,i=o?function(e){return o(e)}:n(5691),s=Object.keys;i.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return a(e)?s(r.call(e)):s(e)})}else Object.keys=i;return Object.keys||i},e.exports=i},801:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},4626:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ObliviousSet:()=>r,now:()=>o,removeTooOldValues:()=>a});var r=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,o()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,a(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function a(e){for(var t=o()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var a=r[0];if(!(r[1]<t))return;e.map.delete(a)}}function o(){return(new Date).getTime()}},4126:(e,t,n)=>{"use strict";const r=n(7785),a=n(5554),o=n(5452);function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e,t){return t.decode?a(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function _(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>c(t,e))):null===n?n:c(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,i]=o(t.decode?a.replace(/\+/g," "):a,"=");i=void 0===i?null:["comma","separator"].includes(t.arrayFormat)?i:c(i,t),n(c(e,t),i,r)}for(const a of Object.keys(r)){const e=r[a];if("object"==typeof e&&null!==e)for(const n of Object.keys(e))e[n]=f(e[n],t);else r[a]=f(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=u(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=_,t.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",a,"]"].join("")]:[...n,[s(t,e),"[",s(a,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),a={};for(const i of Object.keys(e))n(i)||(a[i]=e[i]);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map((n=>{const a=e[n];return void 0===a?"":null===a?s(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):s(n,t)+"="+s(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:_(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),i=Object.assign(o,e.query);let c=t.stringify(i,n);c&&(c=`?${c}`);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u=`#${s(e.fragmentIdentifier,n)}`),`${r}${c}${u}`}},5089:(e,t,n)=>{let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},2967:(e,t,n)=>{"use strict";var r=n(2784),a=n(2941);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},p={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(_,e)&&(f.test(e)?p[e]=!0:(_[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function j(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var x,L=Object.assign;function $(e){if(void 0===x)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return"\n"+x+e}var K=!1;function F(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var c="\n"+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function U(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case S:return"Portal";case O:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function V(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&V(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(_e).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var he=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(he[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,we=null,Ie=null;function Oe(e){if(e=va(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ca(t),Se(e.stateNode,e.type,t))}}function Te(e){we?Ie?Ie.push(e):Ie=[e]:we=e}function Ee(){if(we){var e=we,t=Ie;if(Ie=we=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function De(e,t){return e(t)}function Ae(){}var Pe=!1;function ke(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return De(e,t,n)}finally{Pe=!1,(null!==we||null!==Ie)&&(Ae(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ca(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(le){Ne=!1}function je(e,t,n,r,a,o,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var xe=!1,Le=null,$e=!1,Ke=null,Fe={onError:function(e){xe=!0,Le=e}};function Ue(e,t,n,r,a,o,i,s,c){xe=!1,Le=null,je.apply(Fe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(qe(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ge(a),e;if(i===r)return Ge(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var We=a.unstable_scheduleCallback,Ve=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function _t(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ht(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Ct,St,wt,It,Ot,Tt=!1,Et=[],Dt=null,At=null,Pt=null,kt=new Map,Rt=new Map,Nt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function xt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Ot(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Kt(e,t,n){$t(e)&&n.delete(t)}function Ft(){Tt=!1,null!==Dt&&$t(Dt)&&(Dt=null),null!==At&&$t(At)&&(At=null),null!==Pt&&$t(Pt)&&(Pt=null),kt.forEach(Kt),Rt.forEach(Kt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function qt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Ut(Dt,e),null!==At&&Ut(At,e),null!==Pt&&Ut(Pt,e),kt.forEach(t),Rt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Nt.shift()}var Bt=b.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var a=vt,o=Bt.transition;Bt.transition=null;try{vt=1,Wt(e,t,n,r)}finally{vt=a,Bt.transition=o}}function zt(e,t,n,r){var a=vt,o=Bt.transition;Bt.transition=null;try{vt=4,Wt(e,t,n,r)}finally{vt=a,Bt.transition=o}}function Wt(e,t,n,r){if(Gt){var a=Yt(e,t,n,r);if(null===a)Gr(e,t,r,Vt,n),jt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Dt=xt(Dt,e,t,n,r,a),!0;case"dragenter":return At=xt(At,e,t,n,r,a),!0;case"mouseover":return Pt=xt(Pt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return kt.set(o,xt(kt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Rt.set(o,xt(Rt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var o=va(a);if(null!==o&&Ct(o),null===(o=Yt(e,t,n,r))&&Gr(e,t,r,Vt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Vt=null;function Yt(e,t,n,r){if(Vt=null,null!==(e=ya(e=Ce(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(un),dn=L({},un,{view:0,detail:0}),fn=an(dn),_n=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(_n),mn=an(L({},_n,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),hn=an(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(yn),bn=an(L({},un,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function On(){return In}var Tn=L({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Tn),Dn=an(L({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Pn=an(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=L({},_n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(kn),Nn=[9,13,27,32],Mn=l&&"CompositionEvent"in window,jn=null;l&&"documentMode"in document&&(jn=document.documentMode);var xn=l&&"TextEvent"in window&&!jn,Ln=l&&(!Mn||jn&&8<jn&&11>=jn),$n=String.fromCharCode(32),Kn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=zr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Wn=null;function Vn(e){$r(e,0)}function Yn(e){if(W(ba(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Wn=zn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,Ce(e)),ke(Vn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function or(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=V((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&_r(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=lr(n,o);var i=lr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,hr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==V(r)||("selectionStart"in(r=gr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=zr(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},wr={},Ir={};function Or(e){if(wr[e])return wr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return wr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Or("animationend"),Er=Or("animationiteration"),Dr=Or("animationstart"),Ar=Or("transitionend"),Pr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),c(t,[e])}for(var Nr=0;Nr<kr.length;Nr++){var Mr=kr[Nr];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Dr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,c,u){if(Ue.apply(this,arguments),xe){if(!xe)throw Error(o(198));var l=Le;xe=!1,Le=null,$e||($e=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&a.isPropagationStopped())break e;Lr(a,s,u),o=c}else for(i=0;i<r.length;i++){if(c=(s=r[i]).instance,u=s.currentTarget,s=s.listener,c!==o&&a.isPropagationStopped())break e;Lr(a,s,u),o=c}}}if($e)throw e=Ke,$e=!1,Ke=null,e}function Kr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(xr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var a=Ht;break;case 4:a=zt;break;default:a=Wt}n=a.bind(null,t,n,e),a=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,a){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(c=i.tag)||6===c){r=o=i;continue e}s=s.parentNode}}r=r.return}ke((function(){var r=o,a=Ce(n),i=[];e:{var s=Pr.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":u="focus",c=gn;break;case"focusout":u="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=An;break;case Tr:case Er:case Dr:c=hn;break;case Ar:c=Pn;break;case"scroll":c=fn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Dn}var l=0!=(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var _,p=r;null!==p;){var m=(_=p).stateNode;if(5===_.tag&&null!==m&&(_=m,null!==f&&(null!=(m=Re(p,f))&&l.push(Hr(p,m,_)))),d)break;p=p.return}0<l.length&&(s=new c(s,u,null,n,a),i.push({event:s,listeners:l}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[pa])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:ba(c),_=null==u?s:ba(u),(s=new l(m,p+"leave",c,n,a)).target=d,s.relatedTarget=_,m=null,ya(a)===r&&((l=new l(f,p+"enter",u,n,a)).target=_,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(f=u,p=0,_=l=c;_;_=Wr(_))p++;for(_=0,m=f;m;m=Wr(m))_++;for(;0<p-_;)l=Wr(l),p--;for(;0<_-p;)f=Wr(f),_--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Wr(l),f=Wr(f)}l=null}else l=null;null!==c&&Vr(i,s,c,l,!1),null!==u&&null!==d&&Vr(i,d,u,l,!0)}if("select"===(c=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Qn;else if(Gn(s))if(Jn)g=ir;else{g=ar;var h=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(i,g,n,a):(h&&h(e,s,r),"focusout"===e&&(h=s._wrapperState)&&h.controlled&&"number"===s.type&&ee(s,"number",s.value)),h=r?ba(r):window,e){case"focusin":(Gn(h)||"true"===h.contentEditable)&&(gr=h,hr=r,yr=null);break;case"focusout":yr=hr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(i,n,a)}var y;if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(y=en()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,qn=!0)),0<(h=zr(r,v)).length&&(v=new bn(v,e,null,n,a),i.push({event:v,listeners:h}),y?v.data=y:null!==(y=Un(n))&&(v.data=y))),(y=xn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Kn=!0,$n);case"textInput":return(e=t.data)===$n&&Kn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&Fn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}$r(i,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Re(e,n))&&r.unshift(Hr(e,o,a)),null!=(o=Re(e,t))&&r.push(Hr(e,o,a))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(c=Re(n,o))&&i.unshift(Hr(n,c,s)):a||null!=(c=Re(n,o))&&i.push(Hr(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,oa="function"==typeof Promise?Promise:void 0,ia="function"==typeof queueMicrotask?queueMicrotask:void 0!==oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);qt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,_a="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ha="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=la(e);null!==e;){if(n=e[fa])return n;e=la(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ca(e){return e[_a]||null}var Sa=[],wa=-1;function Ia(e){return{current:e}}function Oa(e){0>wa||(e.current=Sa[wa],Sa[wa]=null,wa--)}function Ta(e,t){wa++,Sa[wa]=e.current,e.current=t}var Ea={},Da=Ia(Ea),Aa=Ia(!1),Pa=Ea;function ka(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ra(e){return null!=(e=e.childContextTypes)}function Na(){Oa(Aa),Oa(Da)}function Ma(e,t,n){if(Da.current!==Ea)throw Error(o(168));Ta(Da,t),Ta(Aa,n)}function ja(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,B(e)||"Unknown",a));return L({},n,r)}function xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Pa=Da.current,Ta(Da,e),Ta(Aa,Aa.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ja(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,Oa(Aa),Oa(Da),Ta(Da,e)):Oa(Aa),Ta(Aa,n)}var $a=null,Ka=!1,Fa=!1;function Ua(e){null===$a?$a=[e]:$a.push(e)}function qa(){if(!Fa&&null!==$a){Fa=!0;var e=0,t=vt;try{var n=$a;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$a=null,Ka=!1}catch(a){throw null!==$a&&($a=$a.slice(e+1)),We(Ze,qa),a}finally{vt=t,Fa=!1}}return null}var Ba=[],Ga=0,Ha=null,za=0,Wa=[],Va=0,Ya=null,Qa=1,Ja="";function Xa(e,t){Ba[Ga++]=za,Ba[Ga++]=Ha,Ha=e,za=t}function Za(e,t,n){Wa[Va++]=Qa,Wa[Va++]=Ja,Wa[Va++]=Ya,Ya=e;var r=Qa;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ja=o+e}else Qa=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function to(e){for(;e===Ha;)Ha=Ba[--Ga],Ba[Ga]=null,za=Ba[--Ga],Ba[Ga]=null;for(;e===Ya;)Ya=Wa[--Va],Wa[Va]=null,Ja=Wa[--Va],Wa[Va]=null,Qa=Wa[--Va],Wa[Va]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ku(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return lo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw _o(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function _o(){for(var e=ro;e;)e=ua(e.nextSibling)}function po(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function ho(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ia(null),vo=null,bo=null,Co=null;function So(){Co=bo=vo=null}function wo(e){var t=yo.current;Oa(yo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){vo=e,Co=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===vo)throw Error(o(308));bo=e,vo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Eo=null;function Do(e){null===Eo?Eo=[e]:Eo.push(e)}function Ao(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Do(t)):(n.next=a.next,a.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ko=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Dc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Po(e,n)}return null===(a=r.interleaved)?(t.next=t,Do(r)):(t.next=a.next,a.next=t),r.interleaved=t,Po(e,n)}function xo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var a=e.updateQueue;ko=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,u=c.next;c.next=null,null===i?o=u:i.next=u,i=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==i&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==o){var d=a.baseState;for(i=0,l=u=c=null,s=o;;){var f=s.lane,_=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:_,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,_=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(_,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(_,d,f):p))break e;d=L({},d,f);break e;case 2:ko=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else _={eventTime:_,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=_,c=d):l=l.next=_,i|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===l&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);xc|=i,e.lanes=i,e.memoizedState=d}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(o(191,a));a.call(r)}}}var Fo=(new r.Component).refs;function Uo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=Mo(r,a);o.payload=t,null!=n&&(o.callback=n),null!==(t=jo(e,o,a))&&(nu(t,e,a,r),xo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=Mo(r,a);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=jo(e,o,a))&&(nu(t,e,a,r),xo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Mo(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=jo(e,a,r))&&(nu(t,e,r,n),xo(t,e,r))}};function Bo(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(a,o))}function Go(e,t,n){var r=!1,a=Ea,o=t.contextType;return"object"==typeof o&&null!==o?o=To(o):(a=Ra(t)?Pa:Da.current,o=(r=null!=(r=t.contextTypes))?ka(e,a):Ea),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function zo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Fo,Ro(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=To(o):(o=Ra(t)?Pa:Da.current,a.context=ka(e,o)),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&qo.enqueueReplaceState(a,a.state,null),$o(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Fo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===t.type)?((r=a(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=ju(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case S:return(t=$u(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=ju(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function _(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?l(e,t,n,r):null;case R:return _(e,t,(a=n._init)(n._payload),r)}if(te(n)||j(n))return null!==a?null:d(e,t,n,r,null);Vo(e,n)}return null}function p(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case R:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,a,null);Vo(t,r)}return null}function m(a,o,s,c){for(var u=null,l=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var h=_(a,d,s[m],c);if(null===h){null===d&&(d=g);break}e&&d&&null===h.alternate&&t(a,d),o=i(h,o,m),null===l?u=h:l.sibling=h,l=h,d=g}if(m===s.length)return n(a,d),ao&&Xa(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],c))&&(o=i(d,o,m),null===l?u=d:l.sibling=d,l=d);return ao&&Xa(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===l?u=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Xa(a,m),u}function g(a,s,c,u){var l=j(c);if("function"!=typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,m=s,g=s=0,h=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(h=m,m=null):h=m.sibling;var v=_(a,m,y.value,u);if(null===v){null===m&&(m=h);break}e&&m&&null===v.alternate&&t(a,m),s=i(v,s,g),null===d?l=v:d.sibling=v,d=v,m=h}if(y.done)return n(a,m),ao&&Xa(a,g),l;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=f(a,y.value,u))&&(s=i(y,s,g),null===d?l=y:d.sibling=y,d=y);return ao&&Xa(a,g),l}for(m=r(a,m);!y.done;g++,y=c.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Xa(a,g),l}return function e(r,o,i,c){if("object"==typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case C:e:{for(var u=i.key,l=o;null!==l;){if(l.key===u){if((u=i.type)===w){if(7===l.tag){n(r,l.sibling),(o=a(l,i.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===R&&Yo(u)===l.type){n(r,l.sibling),(o=a(l,i.props)).ref=Wo(r,l,i),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}i.type===w?((o=ju(i.props.children,r.mode,c,i.key)).return=r,r=o):((c=Mu(i.type,i.key,i.props,null,r.mode,c)).ref=Wo(r,o,i),c.return=r,r=c)}return s(r);case S:e:{for(l=i.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=$u(i,r.mode,c)).return=r,r=o}return s(r);case R:return e(r,o,(l=i._init)(i._payload),c)}if(te(i))return m(r,o,i,c);if(j(i))return g(r,o,i,c);Vo(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Lu(i,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Jo=Qo(!0),Xo=Qo(!1),Zo={},ei=Ia(Zo),ti=Ia(Zo),ni=Ia(Zo);function ri(e){if(e===Zo)throw Error(o(174));return e}function ai(e,t){switch(Ta(ni,t),Ta(ti,e),Ta(ei,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oa(ei),Ta(ei,t)}function oi(){Oa(ei),Oa(ti),Oa(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=ce(t,e.type);t!==n&&(Ta(ti,e),Ta(ei,n))}function si(e){ti.current===e&&(Oa(ei),Oa(ti))}var ci=Ia(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function di(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var fi=b.ReactCurrentDispatcher,_i=b.ReactCurrentBatchConfig,pi=0,mi=null,gi=null,hi=null,yi=!1,vi=!1,bi=0,Ci=0;function Si(){throw Error(o(321))}function wi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ii(e,t,n,r,a,i){if(pi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=null===e||null===e.memoizedState?ss:cs,e=n(r,a),vi){i=0;do{if(vi=!1,bi=0,25<=i)throw Error(o(301));i+=1,hi=gi=null,t.updateQueue=null,fi.current=us,e=n(r,a)}while(vi)}if(fi.current=is,t=null!==gi&&null!==gi.next,pi=0,hi=gi=mi=null,yi=!1,t)throw Error(o(300));return e}function Oi(){var e=0!==bi;return bi=0,e}function Ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===hi?mi.memoizedState=hi=e:hi=hi.next=e,hi}function Ei(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===hi?mi.memoizedState:hi.next;if(null!==t)hi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===hi?mi.memoizedState=hi=e:hi=hi.next=e}return hi}function Di(e,t){return"function"==typeof t?t(e):t}function Ai(e){var t=Ei(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var c=s=null,u=null,l=i;do{var d=l.lane;if((pi&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,s=r):u=u.next=f,mi.lanes|=d,xc|=d}l=l.next}while(null!==l&&l!==i);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,xc|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pi(e){var t=Ei(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function Ri(e,t){var n=mi,r=Ei(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,bs=!0),r=r.queue,Gi(ji.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==hi&&1&hi.memoizedState.tag){if(n.flags|=2048,Ki(9,Mi.bind(null,n,r,a,t),void 0,null),null===Ac)throw Error(o(349));0!=(30&pi)||Ni(n,t,a)}return a}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mi(e,t,n,r){t.value=n,t.getSnapshot=r,xi(t)&&Li(e)}function ji(e,t,n){return n((function(){xi(t)&&Li(e)}))}function xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Li(e){var t=Po(e,1);null!==t&&nu(t,e,1,-1)}function $i(e){var t=Ti();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function Ki(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fi(){return Ei().memoizedState}function Ui(e,t,n,r){var a=Ti();mi.flags|=e,a.memoizedState=Ki(1|t,n,void 0,void 0===r?null:r)}function qi(e,t,n,r){var a=Ei();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&wi(r,i.deps))return void(a.memoizedState=Ki(t,n,o,r))}mi.flags|=e,a.memoizedState=Ki(1|t,n,o,r)}function Bi(e,t){return Ui(8390656,8,e,t)}function Gi(e,t){return qi(2048,8,e,t)}function Hi(e,t){return qi(4,2,e,t)}function zi(e,t){return qi(4,4,e,t)}function Wi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vi(e,t,n){return n=null!=n?n.concat([e]):null,qi(4,4,Wi.bind(null,t,e),n)}function Yi(){}function Qi(e,t){var n=Ei();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ji(e,t){var n=Ei();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xi(e,t,n){return 0==(21&pi)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,xc|=n,e.baseState=!0),t)}function Zi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=_i.transition;_i.transition={};try{e(!1),t()}finally{vt=n,_i.transition=r}}function es(){return Ei().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ao(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var c=t.interleaved;return null===c?(a.next=a,Do(t)):(a.next=c.next,c.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Ao(e,t,a,r))&&(nu(n,e,r,a=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){vi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:To,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ti().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Bi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ui(4194308,4,Wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=Ti();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ti();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ti().memoizedState=e},useState:$i,useDebugValue:Yi,useDeferredValue:function(e){return Ti().memoizedState=e},useTransition:function(){var e=$i(!1),t=e[0];return e=Zi.bind(null,e[1]),Ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Ti();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ac)throw Error(o(349));0!=(30&pi)||Ni(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Bi(ji.bind(null,r,i,e),[e]),r.flags|=2048,Ki(9,Mi.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ti(),t=Ac.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=bi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ci++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Qi,useContext:To,useEffect:Gi,useImperativeHandle:Vi,useInsertionEffect:Hi,useLayoutEffect:zi,useMemo:Ji,useReducer:Ai,useRef:Fi,useState:function(){return Ai(Di)},useDebugValue:Yi,useDeferredValue:function(e){return Xi(Ei(),gi.memoizedState,e)},useTransition:function(){return[Ai(Di)[0],Ei().memoizedState]},useMutableSource:ki,useSyncExternalStore:Ri,useId:es,unstable_isNewReconciler:!1},us={readContext:To,useCallback:Qi,useContext:To,useEffect:Gi,useImperativeHandle:Vi,useInsertionEffect:Hi,useLayoutEffect:zi,useMemo:Ji,useReducer:Pi,useRef:Fi,useState:function(){return Pi(Di)},useDebugValue:Yi,useDeferredValue:function(e){var t=Ei();return null===gi?t.memoizedState=e:Xi(t,gi.memoizedState,e)},useTransition:function(){return[Pi(Di)[0],Ei().memoizedState]},useMutableSource:ki,useSyncExternalStore:Ri,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var _s="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Hc=r),fs(0,t)},n}function ms(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===zc?zc=new Set([this]):zc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _s;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ou.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=b.ReactCurrentOwner,bs=!1;function Cs(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function Ss(e,t,n,r,a){n=n.render;var o=t.ref;return Oo(t,a),r=Ii(e,t,n,r,o,a),n=Oi(),null===e||bs?(ao&&n&&eo(t),t.flags|=1,Cs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gs(e,t,a))}function ws(e,t,n,r,a){if(null===e){var o=n.type;return"function"!=typeof o||Ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,a))}if(o=e.child,0==(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)return Gs(e,t,a)}return t.flags|=1,(e=Nu(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0==(e.lanes&a))return t.lanes=e.lanes,Gs(e,t,a);0!=(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,a)}function Os(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ta(Nc,Rc),Rc|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ta(Nc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ta(Nc,Rc),Rc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ta(Nc,Rc),Rc|=r;return Cs(e,t,a,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,a){var o=Ra(n)?Pa:Da.current;return o=ka(t,o),Oo(t,a),n=Ii(e,t,n,r,o,a),r=Oi(),null===e||bs?(ao&&r&&eo(t),t.flags|=1,Cs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gs(e,t,a))}function Ds(e,t,n,r,a){if(Ra(n)){var o=!0;xa(t)}else o=!1;if(Oo(t,a),null===t.stateNode)Bs(e,t),Go(t,n,r),zo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=To(u):u=ka(t,u=Ra(n)?Pa:Da.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||c!==u)&&Ho(t,i,r,u),ko=!1;var f=t.memoizedState;i.state=f,$o(t,r,i,a),c=t.memoizedState,s!==r||f!==c||Aa.current||ko?("function"==typeof l&&(Uo(t,n,l,r),c=t.memoizedState),(s=ko||Bo(t,n,s,r,f,c,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,No(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ho(t.type,s),i.props=u,d=t.pendingProps,f=i.context,"object"==typeof(c=n.contextType)&&null!==c?c=To(c):c=ka(t,c=Ra(n)?Pa:Da.current);var _=n.getDerivedStateFromProps;(l="function"==typeof _||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||f!==c)&&Ho(t,i,r,c),ko=!1,f=t.memoizedState,i.state=f,$o(t,r,i,a);var p=t.memoizedState;s!==d||f!==p||Aa.current||ko?("function"==typeof _&&(Uo(t,n,_,r),p=t.memoizedState),(u=ko||Bo(t,n,u,r,f,p,c)||!1)?(l||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=c,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,a)}function As(e,t,n,r,a,o){Ts(e,t);var i=0!=(128&t.flags);if(!r&&!i)return a&&La(t,n,!1),Gs(e,t,o);r=t.stateNode,vs.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):Cs(e,t,s,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ma(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(0,t.context,!1),ai(e,t.containerInfo)}function ks(e,t,n,r,a){return po(),mo(a),t.flags|=256,Cs(e,t,n,r),t.child}var Rs,Ns,Ms,js={dehydrated:null,treeContext:null,retryLane:0};function xs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,i=ci.current,s=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ta(ci,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=a.children,e=a.fallback,s?(a=t.mode,s=t.child,c={mode:"hidden",children:c},0==(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=xu(c,a,0,null),e=ju(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=xs(n),t.memoizedState=js,e):$s(t,c));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Ks(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=xu({mode:"visible",children:r.children},a,0,null),(i=ju(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!=(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=xs(s),t.memoizedState=js,i);if(0==(1&t.mode))return Ks(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var c=r.dgst;return r=c,Ks(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(c=0!=(s&e.childLanes),bs||c){if(null!==(r=Ac)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!=(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Po(e,a),nu(r,e,a,-1))}return mu(),Ks(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Wa[Va++]=Qa,Wa[Va++]=Ja,Wa[Va++]=Ya,Qa=e.id,Ja=e.overflow,Ya=t),(t=$s(t,r.children)).flags|=4096,t)}(e,t,c,a,r,i,n);if(s){s=a.fallback,c=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0==(1&c)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Nu(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Nu(r,s):(s=ju(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,c=null===(c=e.child.memoizedState)?xs(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=js,a}return e=(s=e.child).sibling,a=Nu(s,{mode:"visible",children:a.children}),0==(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function $s(e,t){return(t=xu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ks(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Us(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function qs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Cs(e,t,r.children,n),0!=(2&(r=ci.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ta(ci,r),0==(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(t),null;case 1:case 17:return Ra(t.type)&&Na(),zs(t),null;case 3:return r=t.stateNode,oi(),Oa(Aa),Oa(Da),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(iu(oo),oo=null))),zs(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return zs(t),null}if(e=ri(ei.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[_a]=i,e=0!=(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(a=0;a<jr.length;a++)Kr(jr[a],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":Q(r,i),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kr("invalid",r);break;case"textarea":ae(r,i),Kr("invalid",r)}for(var c in ye(n,i),a=null,i)if(i.hasOwnProperty(c)){var u=i[c];"children"===c?"string"==typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Kr("scroll",r)}switch(n){case"input":z(r),Z(r,i,!0);break;case"textarea":z(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fa]=t,e[_a]=r,Rs(e,t),t.stateNode=e;e:{switch(c=ve(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),a=r;break;case"iframe":case"object":case"embed":Kr("load",e),a=r;break;case"video":case"audio":for(a=0;a<jr.length;a++)Kr(jr[a],e);a=r;break;case"source":Kr("error",e),a=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),a=r;break;case"details":Kr("toggle",e),a=r;break;case"input":Q(e,r),a=Y(e,r),Kr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Kr("invalid",e)}for(i in ye(n,a),u=a)if(u.hasOwnProperty(i)){var l=u[i];"style"===i?ge(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===i?"string"==typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"==typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=l&&"onScroll"===i&&Kr("scroll",e):null!=l&&v(e,i,l,c))}switch(n){case"input":z(e),Z(e,r,!1);break;case"textarea":z(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zs(t),null;case 6:if(e&&null!=t.stateNode)Ms(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!=(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return zs(t),null;case 13:if(Oa(ci),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))_o(),po(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else po(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;zs(t),i=!1}else null!==oo&&(iu(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ci.current)?0===Mc&&(Mc=3):mu())),null!==t.updateQueue&&(t.flags|=4),zs(t),null);case 4:return oi(),null===e&&qr(t.stateNode.containerInfo),zs(t),null;case 10:return wo(t.type._context),zs(t),null;case 19:if(Oa(ci),null===(i=t.memoizedState))return zs(t),null;if(r=0!=(128&t.flags),null===(c=i.rendering))if(r)Hs(i,!1);else{if(0!==Mc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ui(e))){for(t.flags|=128,Hs(i,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(c=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ta(ci,1&ci.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>qc&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ui(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!ao)return zs(t),null}else 2*Je()-i.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ci.current,Ta(ci,r?1&n|2:1&n),t):(zs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Rc)&&(zs(t),6&t.subtreeFlags&&(t.flags|=8192)):zs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Vs(e,t){switch(to(t),t.tag){case 1:return Ra(t.type)&&Na(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Oa(Aa),Oa(Da),di(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Oa(ci),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oa(ci),null;case 4:return oi(),null;case 10:return wo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var c=a[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(i=i||[]).push(l,u)):"children"===l?"string"!=typeof u&&"number"!=typeof u||(i=i||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Kr("scroll",e),i||c===u||(i=[])):(i=i||[]).push(l,u))}n&&(i=i||[]).push("style",n);var l=i;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Js="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Iu(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Iu(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&ec(t,n,o)}a=a.next}while(a!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ac(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[_a],delete t[ma],delete t[ga],delete t[ha])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ic(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)_c(e,t,n),n=n.sibling}function _c(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=lc,a=dc;lc=null,fc(e,t,n),dc=a,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),qt(e)):ca(lc,n.stateNode));break;case 4:r=lc,a=dc,lc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),lc=r,dc=a;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!=(2&o)||0!=(4&o))&&ec(n,t,i),a=a.next}while(a!==r)}fc(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Iu(n,t,s)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fc(e,t,n),Qs=r):fc(e,t,n);break;default:fc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Du.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(o(160));_c(i,s,a),lc=null,dc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(l){Iu(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),hc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Iu(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Iu(e,e.return,g)}}break;case 1:mc(t,e),hc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(mc(t,e),hc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){Iu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===i.type&&null!=i.name&&J(a,i),ve(c,s);var l=ve(c,i);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):v(a,d,f,l)}switch(c){case"input":X(a,i);break;case"textarea":oe(a,i);break;case"select":var _=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):_!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[_a]=i}catch(g){Iu(e,e.return,g)}}break;case 6:if(mc(t,e),hc(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Iu(e,e.return,g)}}break;case 3:if(mc(t,e),hc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Iu(e,e.return,g)}break;case 4:default:mc(t,e),hc(e);break;case 13:mc(t,e),hc(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Uc=Je())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(l=Qs)||d,mc(t,e),Qs=l):mc(t,e),hc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!=(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(f=Xs=d;null!==Xs;){switch(p=(_=Xs).child,_.tag){case 0:case 11:case 14:case 15:nc(4,_,_.return);break;case 1:Zs(_,_.return);var m=_.stateNode;if("function"==typeof m.componentWillUnmount){r=_,n=_.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Iu(r,n,g)}}break;case 5:Zs(_,_.return);break;case 22:if(null!==_.memoizedState){Cc(f);continue}}null!==p?(p.return=_,Xs=p):Cc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,l?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(c=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",s))}catch(g){Iu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Iu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mc(t,e),hc(e),4&r&&pc(e);case 21:}}function hc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ic(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),uc(e,sc(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;cc(e,sc(e),i);break;default:throw Error(o(161))}}catch(s){Iu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Xs=e,vc(e,t,n)}function vc(e,t,n){for(var r=0!=(1&e.mode);null!==Xs;){var a=Xs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ys;if(!i){var s=a.alternate,c=null!==s&&null!==s.memoizedState||Qs;s=Ys;var u=Qs;if(Ys=i,(Qs=c)&&!u)for(Xs=a;null!==Xs;)c=(i=Xs).child,22===i.tag&&null!==i.memoizedState?Sc(a):null!==c?(c.return=i,Xs=c):Sc(a);for(;null!==o;)Xs=o,vc(o,t,n),o=o.sibling;Xs=a,Ys=s,Qs=u}bc(e)}else 0!=(8772&a.subtreeFlags)&&null!==o?(o.return=a,Xs=o):bc(e)}}function bc(e){for(;null!==Xs;){var t=Xs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ko(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&ac(t)}catch(_){Iu(t,t.return,_)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Cc(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Sc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Iu(t,n,c)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(c){Iu(t,a,c)}}var o=t.return;try{ac(t)}catch(c){Iu(t,o,c)}break;case 5:var i=t.return;try{ac(t)}catch(c){Iu(t,i,c)}}}catch(c){Iu(t,t.return,c)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var wc,Ic=Math.ceil,Oc=b.ReactCurrentDispatcher,Tc=b.ReactCurrentOwner,Ec=b.ReactCurrentBatchConfig,Dc=0,Ac=null,Pc=null,kc=0,Rc=0,Nc=Ia(0),Mc=0,jc=null,xc=0,Lc=0,$c=0,Kc=null,Fc=null,Uc=0,qc=1/0,Bc=null,Gc=!1,Hc=null,zc=null,Wc=!1,Vc=null,Yc=0,Qc=0,Jc=null,Xc=-1,Zc=0;function eu(){return 0!=(6&Dc)?Je():-1!==Xc?Xc:Xc=Je()}function tu(e){return 0==(1&e.mode)?1:0!=(2&Dc)&&0!==kc?kc&-kc:null!==go.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Qc)throw Qc=0,Jc=null,Error(o(185));ht(e,n,r),0!=(2&Dc)&&e===Ac||(e===Ac&&(0==(2&Dc)&&(Lc|=n),4===Mc&&su(e,kc)),ru(e,r),1===n&&0===Dc&&0==(1&t.mode)&&(qc=Je()+500,Ka&&qa()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,c=a[i];-1===c?0!=(s&n)&&0==(s&r)||(a[i]=_t(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ac?kc:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Ka=!0,Ua(e)}(cu.bind(null,e)):Ua(cu.bind(null,e)),ia((function(){0==(6&Dc)&&qa()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Xc=-1,Zc=0,0!=(6&Dc))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ft(e,e===Ac?kc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=Dc;Dc|=2;var i=pu();for(Ac===e&&kc===t||(Bc=null,qc=Je()+500,fu(e,t));;)try{yu();break}catch(c){_u(e,c)}So(),Oc.current=i,Dc=a,null!==Pc?t=0:(Ac=null,kc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t)throw n=jc,fu(e,0),su(e,r),ru(e,Je()),n;if(6===t)su(e,r);else{if(a=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t))throw n=jc,fu(e,0),su(e,r),ru(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Cu(e,Fc,Bc);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Uc+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Cu.bind(null,e,Fc,Bc),t);break}Cu(e,Fc,Bc);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ra(Cu.bind(null,e,Fc,Bc),r);break}Cu(e,Fc,Bc);break;default:throw Error(o(329))}}}return ru(e,Je()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Kc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fc,Fc=n,null!==t&&iu(t)),e}function iu(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function su(e,t){for(t&=~$c,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!=(6&Dc))throw Error(o(327));Su();var t=ft(e,0);if(0==(1&t))return ru(e,Je()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=jc,fu(e,0),su(e,t),ru(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e,Fc,Bc),ru(e,Je()),null}function uu(e,t){var n=Dc;Dc|=1;try{return e(t)}finally{0===(Dc=n)&&(qc=Je()+500,Ka&&qa())}}function lu(e){null!==Vc&&0===Vc.tag&&0==(6&Dc)&&Su();var t=Dc;Dc|=1;var n=Ec.transition,r=vt;try{if(Ec.transition=null,vt=1,e)return e()}finally{vt=r,Ec.transition=n,0==(6&(Dc=t))&&qa()}}function du(){Rc=Nc.current,Oa(Nc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Na();break;case 3:oi(),Oa(Aa),Oa(Da),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Oa(ci);break;case 10:wo(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ac=e,Pc=e=Nu(e.current,null),kc=Rc=t,Mc=0,jc=null,$c=Lc=xc=0,Fc=Kc=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Eo=null}return e}function _u(e,t){for(;;){var n=Pc;try{if(So(),fi.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(pi=0,hi=gi=mi=null,vi=!1,bi=0,Tc.current=null,null===n||null===n.return){Mc=1,jc=t,Pc=null;break}e:{var i=e,s=n.return,c=n,u=t;if(t=kc,c.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u,d=c,f=d.tag;if(0==(1&d.mode)&&(0===f||11===f||15===f)){var _=d.alternate;_?(d.updateQueue=_.updateQueue,d.memoizedState=_.memoizedState,d.lanes=_.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,ys(p,s,c,0,t),1&p.mode&&gs(i,l,t),u=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){gs(i,l,t),mu();break e}u=Error(o(426))}else if(ao&&1&c.mode){var h=hs(s);if(null!==h){0==(65536&h.flags)&&(h.flags|=256),ys(h,s,c,0,t),mo(ls(u,c));break e}}i=u=ls(u,c),4!==Mc&&(Mc=2),null===Kc?Kc=[i]:Kc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Lo(i,ps(0,u,t));break e;case 1:c=u;var y=i.type,v=i.stateNode;if(0==(128&i.flags)&&("function"==typeof y.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===zc||!zc.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Lo(i,ms(i,c,t));break e}}i=i.return}while(null!==i)}bu(n)}catch(b){t=b,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function pu(){var e=Oc.current;return Oc.current=is,null===e?is:e}function mu(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Ac||0==(268435455&xc)&&0==(268435455&Lc)||su(Ac,kc)}function gu(e,t){var n=Dc;Dc|=2;var r=pu();for(Ac===e&&kc===t||(Bc=null,fu(e,t));;)try{hu();break}catch(a){_u(e,a)}if(So(),Dc=n,Oc.current=r,null!==Pc)throw Error(o(261));return Ac=null,kc=0,Mc}function hu(){for(;null!==Pc;)vu(Pc)}function yu(){for(;null!==Pc&&!Ye();)vu(Pc)}function vu(e){var t=wc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?bu(e):Pc=t,Tc.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ws(n,t,Rc)))return void(Pc=n)}else{if(null!==(n=Vs(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Mc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Mc&&(Mc=5)}function Cu(e,t,n){var r=vt,a=Ec.transition;try{Ec.transition=null,vt=1,function(e,t,n,r){do{Su()}while(null!==Vc);if(0!=(6&Dc))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Ac&&(Pc=Ac=null,kc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Wc||(Wc=!0,Au(tt,(function(){return Su(),null}))),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=Ec.transition,Ec.transition=null;var s=vt;vt=1;var c=Dc;Dc|=4,Tc.current=null,function(e,t){if(ea=Gt,_r(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(C){n=null;break e}var s=0,c=-1,u=-1,l=0,d=0,f=e,_=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(c=s+a),f!==i||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)_=f,f=p;for(;;){if(f===e)break t;if(_===n&&++l===a&&(c=s),_===i&&++d===r&&(u=s),null!==(p=f.nextSibling))break;_=(f=_).parentNode}f=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Gt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,h=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),h);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(C){Iu(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(ta),Gt=!!ea,ta=ea=null,e.current=n,yc(n,e,a),Qe(),Dc=c,vt=s,Ec.transition=i}else e.current=n;if(Wc&&(Wc=!1,Vc=e,Yc=a),0===(i=e.pendingLanes)&&(zc=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128==(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gc)throw Gc=!1,e=Hc,Hc=null,e;0!=(1&Yc)&&0!==e.tag&&Su(),0!=(1&(i=e.pendingLanes))?e===Jc?Qc++:(Qc=0,Jc=e):Qc=0,qa()}(e,t,n,r)}finally{Ec.transition=a,vt=r}return null}function Su(){if(null!==Vc){var e=bt(Yc),t=Ec.transition,n=vt;try{if(Ec.transition=null,vt=16>e?16:e,null===Vc)var r=!1;else{if(e=Vc,Vc=null,Yc=0,0!=(6&Dc))throw Error(o(331));var a=Dc;for(Dc|=4,Xs=e.current;null!==Xs;){var i=Xs,s=i.child;if(0!=(16&Xs.flags)){var c=i.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Xs=l;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,i)}var f=d.child;if(null!==f)f.return=d,Xs=f;else for(;null!==Xs;){var _=(d=Xs).sibling,p=d.return;if(oc(d),d===l){Xs=null;break}if(null!==_){_.return=p,Xs=_;break}Xs=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var h=g.sibling;g.sibling=null,g=h}while(null!==g)}}Xs=i}}if(0!=(2064&i.subtreeFlags)&&null!==s)s.return=i,Xs=s;else e:for(;null!==Xs;){if(0!=(2048&(i=Xs).flags))switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xs=y;break e}Xs=i.return}}var v=e.current;for(Xs=v;null!==Xs;){var b=(s=Xs).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=v;null!==Xs;){if(0!=(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(S){Iu(c,c.return,S)}if(c===s){Xs=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Xs=C;break e}Xs=c.return}}if(Dc=a,qa(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{vt=n,Ec.transition=t}}return!1}function wu(e,t,n){e=jo(e,t=ps(0,t=ls(n,t),1),1),t=eu(),null!==e&&(ht(e,1,t),ru(e,t))}function Iu(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zc||!zc.has(r))){t=jo(t,e=ms(t,e=ls(n,e),1),1),e=eu(),null!==t&&(ht(t,1,e),ru(t,e));break}}t=t.return}}function Ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(kc&n)===n&&(4===Mc||3===Mc&&(130023424&kc)===kc&&500>Je()-Uc?fu(e,0):$c|=n),ru(e,t)}function Tu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=lt,0==(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Po(e,t))&&(ht(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Du(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}function Au(e,t){return We(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(e,t,n,r){return new Pu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,a,i){var s=2;if(r=e,"function"==typeof e)Ru(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case w:return ju(n.children,a,i,t);case I:s=8,a|=8;break;case O:return(e=ku(12,n,t,2|a)).elementType=O,e.lanes=i,e;case A:return(e=ku(13,n,t,a)).elementType=A,e.lanes=i,e;case P:return(e=ku(19,n,t,a)).elementType=P,e.lanes=i,e;case N:return xu(n,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case E:s=9;break e;case D:s=11;break e;case k:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function ju(e,t,n,r){return(e=ku(7,e,r,t)).lanes=n,e}function xu(e,t,n,r){return(e=ku(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=ku(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,a,o,i,s,c){return e=new Ku(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=ku(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Uu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qu(e){if(!e)return Ea;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ra(n))return ja(e,n,t)}return t}function Bu(e,t,n,r,a,o,i,s,c){return(e=Fu(n,r,!0,e,0,o,0,s,c)).context=qu(null),n=e.current,(o=Mo(r=eu(),a=tu(n))).callback=null!=t?t:null,jo(n,o,a),e.current.lanes=a,ht(e,a,r),ru(e,r),e}function Gu(e,t,n,r){var a=t.current,o=eu(),i=tu(a);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(a,t,i))&&(nu(e,a,i,o),xo(e,a,i)),i}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}wc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)bs=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:ii(t);break;case 1:Ra(t.type)&&xa(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ta(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ta(ci,1&ci.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ls(e,t,n):(Ta(ci,1&ci.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ta(ci,1&ci.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ta(ci,ci.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!=(131072&e.flags)}else bs=!1,ao&&0!=(1048576&t.flags)&&Za(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var a=ka(t,Da.current);Oo(t,n),a=Ii(null,t,r,e,a,n);var i=Oi();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(i=!0,xa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ro(t),a.updater=qo,t.stateNode=a,a._reactInternals=t,zo(t,r,e,n),t=As(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),Cs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===D)return 11;if(e===k)return 14}return 2}(r),e=ho(r,e),a){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ds(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ho(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ds(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,No(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ks(e,t,r,n,a=ls(Error(o(423)),t));break e}if(r!==a){t=ks(e,t,r,n,a=ls(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Gs(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Ts(e,t),Cs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Ta(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Aa.current){t=Gs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var c=i.dependencies;if(null!==c){s=i.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Mo(-1,n&-n)).tag=2;var l=i.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),Io(i.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}Cs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Oo(t,n),r=r(a=To(a)),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return a=ho(r=t.type,t.pendingProps),ws(e,t,r,a=ho(r.type,a),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),Bs(e,t),t.tag=1,Ra(r)?(e=!0,xa(t)):e=!1,Oo(t,n),Go(t,r,a),zo(t,r,a,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Os(e,t,n)}throw Error(o(156,t.tag))};var Vu="function"==typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function el(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"==typeof a){var s=a;a=function(){var e=Hu(i);s.call(e)}}Gu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"==typeof r){var o=r;r=function(){var e=Hu(i);o.call(e)}}var i=Bu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=i,e[pa]=i.current,qr(8===e.nodeType?e.parentNode:e),lu(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var s=r;r=function(){var e=Hu(c);s.call(e)}}var c=Fu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[pa]=c.current,qr(8===e.nodeType?e.parentNode:e),lu((function(){Gu(t,c,n,r)})),c}(n,t,e,a,r);return Hu(i)}Qu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gu(e,t,null,null)},Qu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){Gu(null,e,null,null)})),t[pa]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Lt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0==(6&Dc)&&(qc=Je()+500,qa()))}break;case 13:lu((function(){var t=Po(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},St=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},wt=function(e){if(13===e.tag){var t=tu(e),n=Po(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},It=function(){return vt},Ot=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ca(r);if(!a)throw Error(o(90));W(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},De=uu,Ae=lu;var tl={usingClientEntryPoint:!1,Events:[va,ba,Ca,Te,Ee,uu]},nl={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{at=al.inject(rl),ot=al}catch(le){}}t.unstable_batchedUpdates=uu},8316:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2967)},9670:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,n))u<a&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<a&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,f=null,_=3,p=!1,m=!1,g=!1,h="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function C(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,N(S);else{var t=r(l);null!==t&&M(C,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=_;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var i=f.callback;if("function"==typeof i){f.callback=null,_=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(u)&&a(u),b(n)}else a(u);f=r(u)}if(null!==f)var c=!0;else{var d=r(l);null!==d&&M(C,d.startTime-n),c=!1}return c}finally{f=null,_=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,I=!1,O=null,T=-1,E=5,D=-1;function A(){return!(t.unstable_now()-D<E)}function P(){if(null!==O){var e=t.unstable_now();D=e;var n=!0;try{n=O(!0,e)}finally{n?w():(I=!1,O=null)}}else I=!1}if("function"==typeof v)w=function(){v(P)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,R=k.port2;k.port1.onmessage=P,w=function(){R.postMessage(null)}}else w=function(){h(P,0)};function N(e){O=e,I||(I=!0,w())}function M(e,n){T=h((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var n=_;_=t;try{return e()}finally{_=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=_;_=e;try{return t()}finally{_=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(g?(y(T),T=-1):g=!0,M(C,o-i))):(e.sortIndex=s,n(u,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=_;return function(){var n=_;_=t;try{return e.apply(this,arguments)}finally{_=n}}}},2941:(e,t,n)=>{"use strict";e.exports=n(9670)},1837:(e,t,n)=>{"use strict";var r=n(2784),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:l,props:o,_owner:s.current}}t.jsx=u},3426:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),_=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function h(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}h.prototype.isReactComponent={},h.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=h.prototype;var b=v.prototype=new y;b.constructor=v,m(b,h.prototype),b.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,w={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,a)&&!I.hasOwnProperty(a)&&(o[a]=t[a]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===o[a]&&(o[a]=c[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:w.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return i=i(c=e),e=""===o?"."+D(c,0):o,C(i)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(T(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(c=0,o=""===o?".":o+":",C(e))for(var u=0;u<e.length;u++){var l=o+D(s=e[u],u);c+=A(s,t,a,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=A(s=s.value,t,a,l=o+D(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},N={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:w};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=h,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!I.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2784:(e,t,n)=>{"use strict";e.exports=n(3426)},2322:(e,t,n)=>{"use strict";e.exports=n(1837)},6475:(e,t)=>{"use strict";var n,r,a,o,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(n){throw setTimeout(u,0),n}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,_=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var g=f.now();t.unstable_now=function(){return f.now()-g}}var h=!1,y=null,v=-1,b=5,C=0;o=function(){return t.unstable_now()>=C},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,w=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();C=e+b;try{y(!0,e)?w.postMessage(null):(h=!1,y=null)}catch(n){throw w.postMessage(null),n}}else h=!1},n=function(e){y=e,h||(h=!0,w.postMessage(null))},r=function(e,n){v=_((function(){e(t.unstable_now())}),n)},a=function(){p(v),v=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<E(a,t)))break e;e[r]=t,e[n]=a,n=r}}function O(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,c=e[s];if(void 0!==i&&0>E(i,n))void 0!==c&&0>E(c,i)?(e[r]=c,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==c&&0>E(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],A=[],P=1,k=null,R=3,N=!1,M=!1,j=!1;function x(e){for(var t=O(A);null!==t;){if(null===t.callback)T(A);else{if(!(t.startTime<=e))break;T(A),t.sortIndex=t.expirationTime,I(D,t)}t=O(A)}}function L(e){if(j=!1,x(e),!M)if(null!==O(D))M=!0,n($);else{var t=O(A);null!==t&&r(L,t.startTime-e)}}function $(e,n){M=!1,j&&(j=!1,a()),N=!0;var i=R;try{for(x(n),k=O(D);null!==k&&(!(k.expirationTime>n)||e&&!o());){var s=k.callback;if(null!==s){k.callback=null,R=k.priorityLevel;var c=s(k.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?k.callback=c:k===O(D)&&T(D),x(n)}else T(D);k=O(D)}if(null!==k)var u=!0;else{var l=O(A);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{k=null,R=i,N=!1}}function K(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||N||(M=!0,n($))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return O(D)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();if("object"==typeof i&&null!==i){var c=i.delay;c="number"==typeof c&&0<c?s+c:s,i="number"==typeof i.timeout?i.timeout:K(e)}else i=K(e),c=s;return e={id:P++,callback:o,priorityLevel:e,startTime:c,expirationTime:i=c+i,sortIndex:-1},c>s?(e.sortIndex=c,I(A,e),null===O(D)&&e===O(A)&&(j?a():j=!0,r(L,c-s))):(e.sortIndex=i,I(D,e),M||N||(M=!0,n($))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();x(e);var n=O(D);return n!==k&&null!==k&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<k.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},4616:(e,t,n)=>{"use strict";e.exports=n(6475)},5452:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},7785:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},8943:(e,t,n)=>{"use strict";n.r(t),n.d(t,{add:()=>i,getSize:()=>u,removeAll:()=>c,runAll:()=>s});var r="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?function(e){process.on("exit",(function(){return e()})),process.on("beforeExit",(function(){return e().then((function(){return process.exit()}))})),process.on("SIGINT",(function(){return e().then((function(){return process.exit()}))})),process.on("uncaughtException",(function(t){return e().then((function(){console.trace(t),process.exit(101)}))}))}:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}},a=new Set,o=!1;function i(e){if(o||(o=!0,r(s)),"function"!=typeof e)throw new Error("Listener is no function");return a.add(e),{remove:function(){return a.delete(e)},run:function(){return a.delete(e),e()}}}function s(){var e=[];return a.forEach((function(t){e.push(t()),a.delete(t)})),Promise.all(e)}function c(){a.clear()}function u(){return a.size}},8022:(e,t,n)=>{var r=n(4481),a=n(6426),o=a;o.v1=r,o.v4=a,e.exports=o},8725:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,a=t;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},9157:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},4481:(e,t,n)=>{var r,a,o=n(9157),i=n(8725),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){var _=o();null==d&&(d=r=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==f&&(f=a=16383&(_[6]<<8|_[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=p-s+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=m,a=f;var h=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;l[u++]=h>>>24&255,l[u++]=h>>>16&255,l[u++]=h>>>8&255,l[u++]=255&h;var y=p/4294967296*1e4&268435455;l[u++]=y>>>8&255,l[u++]=255&y,l[u++]=y>>>24&15|16,l[u++]=y>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var v=0;v<6;++v)l[u+v]=d[v];return t||i(l)}},6426:(e,t,n)=>{var r=n(9157),a=n(8725);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}},7443:()=>{},4732:(e,t,n)=>{"use strict";var r=n(7968),a=n(3328),o=n(6927),i=n(7938);e.exports=function(e){if(e&&"object"==typeof e){if(r(e))return"Map";if(a(e))return"Set";if(o(e))return"WeakMap";if(i(e))return"WeakSet"}return!1}},988:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t),n.d(t,{default:()=>r})},9618:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=Symbol.iterator;function a(e){if(null!=e&&void 0!==e[r])return e[r]()}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=function(e){var t,n,r=e.detail;return t=r,(null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&Array.isArray(r.parameters)&&r.async&&"string"==typeof r.promiseId},t={onInitialState:{parameters:[]},onChange:{parameters:[]}},r={getAppConfig:{parameters:[]},checkWhetherToRenderReportProblemButton:{parameters:[]}};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"devVersion",void 0),o(this,"isBranded",void 0),o(this,"comments",void 0),o(this,"build",void 0),this.devVersion="1.0.0.1";this.isBranded=!1,this.comments=this.isBranded?"":"Dev build",this.build=this.isBranded?"":this.devVersion}var t,n,r;return t=e,n=[{key:"compareVersions",value:function(e,t){var n=e.split("."),r=t.split(".");if(n.length===r.length)for(var a=0;a<n.length;a++){var o=parseInt(n[a]),i=parseInt(r[a]);if(o!==i)return o-i}return 0}}],n&&a(t.prototype,n),r&&a(t,r),e}(),s=new i;function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"platform","unknown"),u(this,"browser","unknown"),u(this,"isWindowsXP",!1),u(this,"isLinux_64",!1),u(this,"browserVersion",0);var t="undefined"==typeof window?"":window.navigator.userAgent;if(t){var n=void 0;if(t.indexOf("Opera")>=0?(this.browser="opera",n="Opera[\\/\\s](\\d+\\.\\d+)"):t.indexOf("MSIE")>=0?(this.browser="ie",n="MSIE (\\d+\\.\\d+);"):t.indexOf("Chrome")>=0?(this.browser="chrome",n="Chrome/(\\d+\\.\\d+)"):t.indexOf("Safari")>=0?(this.browser="safari",n="Version/(\\d+\\.\\d+)"):t.indexOf("Firefox")>=0&&(this.browser="firefox",n="Firefox[\\/\\s](\\d+\\.\\d+)"),null!=n){var r=new RegExp(n).exec(t);if(null!=r){var a=r[1];try{this.browserVersion=parseFloat(a)}catch(s){console.warn("PlatformInfo: Unable to parse browser versionPattern token:"+a)}}}var o=new RegExp("Trident/(\\d+)\\.\\d+").exec(t);if(null!=o){this.browser="ie";var i=o[1];try{this.browserVersion=parseInt(i)+4}catch(s){console.warn("PlatformInfo: Unable to parse trident token:"+i)}}t=t.toLowerCase(),this.isWindowsXP=t.indexOf("windows nt 5.1")>=0||t.indexOf("windows xp")>=0,t.indexOf("windows")>=0||t.indexOf("win32")>=0?this.platform="windows":t.indexOf("macintosh")>=0||t.indexOf("mac os x")>=0?this.platform="mac":t.indexOf("linux")>=0?(this.platform="linux",this.isLinux_64=t.indexOf("x86_64")>=0):t.indexOf("cros")>=0&&(this.platform="chrome_os")}}var t,n,r;return t=e,(n=[{key:"isMacPluginEnabled",value:function(){return"undefined"!=typeof window&&window.__enableMacPlugin}},{key:"isSoftphoneSupported",value:function(){var e="chrome"===this.browser&&this.browserVersion>=12,t="firefox"===this.browser&&this.browserVersion>=3.5,n="ie"===this.browser&&this.browserVersion>=8,r="safari"===this.browser&&this.browserVersion>=5;return"linux"===this.platform&&this.isLinux_64&&(e||t)||"windows"===this.platform&&(e||t||n)||"chrome_os"===this.platform&&(e||t)||"mac"===this.platform&&this.isMacPluginEnabled()&&(e||t||r)}}])&&c(t.prototype,n),r&&c(t,r),e}());function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h={panic:"error",error:"error",warning:"warn",info:"info",debug:"debug"},y=function(){function e(){f(this,e)}return p(e,[{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;(a=console)[h[e]].apply(a,g(n))}}]),e}(),v=new(function(){function e(){var t=this;f(this,e),m(this,"loggerImpl",new y),m(this,"withPrefix",(function(e){var n=t;return{print:function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.print.apply(n,[t,e].concat(g(a)))},debug:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.debug.apply(n,[e].concat(g(r)))},info:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.info.apply(n,[e].concat(g(r)))},warn:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.warn.apply(n,[e].concat(g(r)))},error:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.error.apply(n,[e].concat(g(r)))},panic:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.panic.apply(n,[e].concat(g(r)))},withPrefix:function(n){return t.withPrefix(e+" "+n)}}}))}return p(e,[{key:"getInnerLogger",value:function(){return this.loggerImpl}},{key:"setInnerLogger",value:function(e){this.loggerImpl=e}},{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;(a=this.loggerImpl).print.apply(a,[e].concat(g(n)))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["debug"].concat(g(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["info"].concat(g(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["warning"].concat(g(t)))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["error"].concat(g(t)))}},{key:"panic",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=this.loggerImpl).print.apply(r,["panic"].concat(g(t)))}}]),e}());function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"copyFormatted",value:function(e){var t,n,r=document.createElement("div");r.innerHTML=e,r.style.position="fixed",r.style.pointerEvents="none",r.style.opacity="0",document.body.appendChild(r),null===(t=window.getSelection())||void 0===t||t.removeAllRanges();var a=document.createRange();a.selectNode(r),null===(n=window.getSelection())||void 0===n||n.addRange(a),document.execCommand("copy"),document.body.removeChild(r)}},{key:"copy",value:function(e){navigator.clipboard.writeText(e)}}])&&b(t.prototype,n),r&&b(t,r),e}());var C=n(8022);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"eventListeners",[]),w(this,"listenForEscape",(function(){"undefined"!=typeof document&&document.addEventListener("keydown",(function(e){if("Escape"===e.key){var n=t.eventListeners[t.eventListeners.length-1];if(!n)return;var r=n.handler,a=n.id;r(e),t.unregisterEscapeHandler(a)}}))})),this.listenForEscape()}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"unregisterEscapeHandler",value:function(e){this.eventListeners=this.eventListeners.filter((function(t){return t.id!==e}))}},{key:"registerEscapeHandler",value:function(e){var t=(0,C.v4)();return this.eventListeners.push({handler:e,id:t}),t}}])&&S(t.prototype,n),r&&S(t,r),e}();function O(e,t){var n=Object.create(e);return n.produceState=e.produceState.bind(e),Object.assign(n,r(Object.getPrototypeOf(t)),r(t));function r(e){return Object.getOwnPropertyNames(e).filter((function(e){return"constructor"!==e})).reduce((function(e,t){var r=e[t],a="function"==typeof r;return Object.defineProperty(e,t,{enumerable:!0,writable:!a,value:a?r.bind(n):r}),e}),Object.create(e))}}w(I,"instance",null);var T=n(2322),E=n(2784),D=n(8879),A=n.n(D);function P(e,t){var n=Number(e);return 0===n?n:n||t}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}var N,M=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],j=((N=M.slice(1),function(e){if(Array.isArray(e))return k(e)}(N)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(N)||R(N)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([M[0]]),1e3);Array.from({length:7}).map((function(e,t){return t}));function x(e,t,n){return n?A()(e).locale(n).format(t):A()(e).format(t)}function L(e,t,n){return A()(e).add(n,t).toDate()}function $(e){var t=new Date;return("number"==typeof e?new Date(e):e).toDateString()===t.toDateString()}function K(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1);return e.toDateString()===n.toDateString()}function F(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-((t.getDay()||7)-1)),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()-((e.getDay()||7)-1));return n.getTime()===r.getTime()}function U(e){var t=new Date;return e.getFullYear()===t.getFullYear()}function q(e){return e*j}function B(e){if(e)return"string"==typeof e?e.slice(0,-3):Number(String(e).slice(0,-3))}function G(e){var t=P(e);return"number"==typeof t?t*j:void 0}function H(e){return function(t){return!e(t)}}function z(e){return t=e,(null!=(n=Error)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e.message:"string"==typeof e?e:void 0;var t,n}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return"".concat(e).concat(n).concat(t)}function V(e){return e.toLowerCase()}Symbol("handlers");function Y(e,t,n){return n&&10!==n?parseInt(Y(e,t,10).toString(10)).toString(n):Math.floor(Math.random()*(t-e+1)+e)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return e.length?t.length?e.reduce((function(e,t){var a=n(t);if(!e.some((function(e){return r(t,e)}))){var o=Z(e,(function(e){return a>=n(e)}));e.splice(o,0,t)}return e}),J(t).reverse()):J(e):J(t).reverse()}function Z(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return n+1;return 0}n(4126);var ee=function(){var e;return function(t){return e=Math.random(),n=e,function(r){if(n===e)return t(r)};var n}},te=n(9945),ne=n.n(te),re=n(4989),ae=n.n(re),oe=n(30),ie=n.n(oe),se=n(3575),ce=n.n(se),ue=n(9388),le=n.n(ue),de=n(909),fe=n.n(de),_e=n(3147),pe=n.n(_e),me=n(2745),ge=n.n(me),he=n(7491),ye=n.n(he),ve=n(264),be=n.n(ve);n(5411),n(5668),n(6017),n(8338),n(2618),n(1295),n(1570),n(3214),n(1605),n(5958),n(8034),n(1389),n(4738),n(8833);A().extend(ne()),A().extend(ie()),A().extend(ce()),A().extend(le()),A().extend(fe()),A().extend(pe()),A().extend(ge()),A().extend(ye()),A().extend(be()),A().extend(ae());var Ce={"de-DE":"de","en-NZ":"en-nz","en-US":"en","en-ZA":"en","es-MX":"es-mx","fr-CA":"fr-ca","fr-FR":"fr","it-IT":"it","ja-JP":"ja","ko-KR":"ko","nl-NL":"nl","pt-BR":"pt-br","ru-RU":"ru","tr-TR":"tr","zh-CN":"zh-cn"};function Se(e){var t=function(e){return e in Ce}(e)?Ce[e]:"en";A().locale(t)}function we(e){return(new DOMParser).parseFromString(e,"text/html").body}I.getInstance();var Ie=function(e){return"1"===e||"true"===e},Oe=function(e){return e?"1":"0"};function Te(e,t){var n={};return Object.keys(t).forEach((function(r){var a=r,o=t[a];Array.isArray(o)?n[o[0]]=o[1](e[a]):o&&(n[o]=e[a])})),n}function Ee(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function De(e){return!!e&&!!e[mt]}function Ae(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===gt}(e)||Array.isArray(e)||!!e[pt]||!!(null===(t=e.constructor)||void 0===t?void 0:t[pt])||xe(e)||Le(e))}function Pe(e,t,n){void 0===n&&(n=!1),0===ke(e)?(n?Object.keys:ht)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function ke(e){var t=e[mt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:xe(e)?2:Le(e)?3:0}function Re(e,t){return 2===ke(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ne(e,t){return 2===ke(e)?e.get(t):e[t]}function Me(e,t,n){var r=ke(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function je(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function xe(e){return lt&&e instanceof Map}function Le(e){return dt&&e instanceof Set}function $e(e){return e.o||e.t}function Ke(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=yt(e);delete t[mt];for(var n=ht(t),r=0;r<n.length;r++){var a=n[r],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function Fe(e,t){return void 0===t&&(t=!1),qe(e)||De(e)||!Ae(e)||(ke(e)>1&&(e.set=e.add=e.clear=e.delete=Ue),Object.freeze(e),t&&Pe(e,(function(e,t){return Fe(t,!0)}),!0)),e}function Ue(){Ee(2)}function qe(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Be(e){var t=vt[e];return t||Ee(18,e),t}function Ge(){return ct}function He(e,t){t&&(Be("Patches"),e.u=[],e.s=[],e.v=t)}function ze(e){We(e),e.p.forEach(Ye),e.p=null}function We(e){e===ct&&(ct=e.l)}function Ve(e){return ct={p:[],l:ct,h:e,m:!0,_:0}}function Ye(e){var t=e[mt];0===t.i||1===t.i?t.j():t.g=!0}function Qe(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Be("ES5").S(t,e,r),r?(n[mt].P&&(ze(t),Ee(4)),Ae(e)&&(e=Je(t,e),t.l||Ze(t,e)),t.u&&Be("Patches").M(n[mt].t,e,t.u,t.s)):e=Je(t,n,[]),ze(t),t.u&&t.v(t.u,t.s),e!==_t?e:void 0}function Je(e,t,n){if(qe(t))return t;var r=t[mt];if(!r)return Pe(t,(function(a,o){return Xe(e,r,t,a,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Ze(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=Ke(r.k):r.o,o=a,i=!1;3===r.i&&(o=new Set(a),a.clear(),i=!0),Pe(o,(function(t,o){return Xe(e,r,a,t,o,n,i)})),Ze(e,a,!1),n&&e.u&&Be("Patches").N(r,n,e.u,e.s)}return r.o}function Xe(e,t,n,r,a,o,i){if(De(a)){var s=Je(e,a,o&&t&&3!==t.i&&!Re(t.R,r)?o.concat(r):void 0);if(Me(n,r,s),!De(s))return;e.m=!1}else i&&n.add(a);if(Ae(a)&&!qe(a)){if(!e.h.D&&e._<1)return;Je(e,a),t&&t.A.l||Ze(e,a)}}function Ze(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Fe(t,n)}function et(e,t){var n=e[mt];return(n?$e(n):e)[t]}function tt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function nt(e){e.P||(e.P=!0,e.l&&nt(e.l))}function rt(e){e.o||(e.o=Ke(e.t))}function at(e,t,n){var r=xe(t)?Be("MapSet").F(t,n):Le(t)?Be("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Ge(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,o=bt;n&&(a=[r],o=Ct);var i=Proxy.revocable(a,o),s=i.revoke,c=i.proxy;return r.k=c,r.j=s,c}(t,n):Be("ES5").J(t,n);return(n?n.A:Ge()).p.push(r),r}function ot(e){return De(e)||Ee(22,e),function e(t){if(!Ae(t))return t;var n,r=t[mt],a=ke(t);if(r){if(!r.P&&(r.i<4||!Be("ES5").K(r)))return r.t;r.I=!0,n=it(t,a),r.I=!1}else n=it(t,a);return Pe(n,(function(t,a){r&&Ne(r.t,t)===a||Me(n,t,e(a))})),3===a?new Set(n):n}(e)}function it(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ke(e)}var st,ct,ut="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),lt="undefined"!=typeof Map,dt="undefined"!=typeof Set,ft="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,_t=ut?Symbol.for("immer-nothing"):((st={})["immer-nothing"]=!0,st),pt=ut?Symbol.for("immer-draftable"):"__$immer_draftable",mt=ut?Symbol.for("immer-state"):"__$immer_state",gt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ht="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,yt=Object.getOwnPropertyDescriptors||function(e){var t={};return ht(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},vt={},bt={get:function(e,t){if(t===mt)return e;var n=$e(e);if(!Re(n,t))return function(e,t,n){var r,a=tt(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ae(r)?r:r===et(e.t,t)?(rt(e),e.o[t]=at(e.A.h,r,e)):r},has:function(e,t){return t in $e(e)},ownKeys:function(e){return Reflect.ownKeys($e(e))},set:function(e,t,n){var r=tt($e(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=et($e(e),t),o=null==a?void 0:a[mt];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(je(n,a)&&(void 0!==n||Re(e.t,t)))return!0;rt(e),nt(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==et(e.t,t)||t in e.t?(e.R[t]=!1,rt(e),nt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=$e(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ee(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ee(12)}},Ct={};Pe(bt,(function(e,t){Ct[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ct.deleteProperty=function(e,t){return Ct.set.call(this,e,t,void 0)},Ct.set=function(e,t,n){return bt.set.call(this,e[0],t,n,e[0])};var St=function(){function e(e){var t=this;this.O=ft,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&Ee(6),void 0!==r&&"function"!=typeof r&&Ee(7),Ae(e)){var s=Ve(t),c=at(t,e,void 0),u=!0;try{i=n(c),u=!1}finally{u?ze(s):We(s)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return He(s,r),Qe(e,s)}),(function(e){throw ze(s),e})):(He(s,r),Qe(i,s))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===_t&&(i=void 0),t.D&&Fe(i,!0),r){var l=[],d=[];Be("Patches").M(e,i,l,d),r(l,d)}return i}Ee(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,o=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,a]})):[o,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ae(e)||Ee(8),De(e)&&(e=ot(e));var t=Ve(this),n=at(this,e,void 0);return n[mt].C=!0,We(t),n},t.finishDraft=function(e,t){var n=(e&&e[mt]).A;return He(n,t),Qe(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ft&&Ee(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=Be("Patches").$;return De(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),wt=new St,It=wt.produce;wt.produceWithPatches.bind(wt),wt.setAutoFreeze.bind(wt),wt.setUseProxies.bind(wt),wt.applyPatches.bind(wt),wt.createDraft.bind(wt),wt.finishDraft.bind(wt);const Ot=It;const Tt=function(){this.__data__=[],this.size=0};const Et=function(e,t){return e===t||e!=e&&t!=t};const Dt=function(e,t){for(var n=e.length;n--;)if(Et(e[n][0],t))return n;return-1};var At=Array.prototype.splice;const Pt=function(e){var t=this.__data__,n=Dt(t,e);return!(n<0)&&(n==t.length-1?t.pop():At.call(t,n,1),--this.size,!0)};const kt=function(e){var t=this.__data__,n=Dt(t,e);return n<0?void 0:t[n][1]};const Rt=function(e){return Dt(this.__data__,e)>-1};const Nt=function(e,t){var n=this.__data__,r=Dt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Mt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mt.prototype.clear=Tt,Mt.prototype.delete=Pt,Mt.prototype.get=kt,Mt.prototype.has=Rt,Mt.prototype.set=Nt;const jt=Mt;const xt=function(){this.__data__=new jt,this.size=0};const Lt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const $t=function(e){return this.__data__.get(e)};const Kt=function(e){return this.__data__.has(e)};const Ft="object"==typeof global&&global&&global.Object===Object&&global;var Ut="object"==typeof self&&self&&self.Object===Object&&self;const qt=Ft||Ut||Function("return this")();const Bt=qt.Symbol;var Gt=Object.prototype,Ht=Gt.hasOwnProperty,zt=Gt.toString,Wt=Bt?Bt.toStringTag:void 0;const Vt=function(e){var t=Ht.call(e,Wt),n=e[Wt];try{e[Wt]=void 0;var r=!0}catch(o){}var a=zt.call(e);return r&&(t?e[Wt]=n:delete e[Wt]),a};var Yt=Object.prototype.toString;const Qt=function(e){return Yt.call(e)};var Jt=Bt?Bt.toStringTag:void 0;const Xt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Jt&&Jt in Object(e)?Vt(e):Qt(e)};const Zt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const en=function(e){if(!Zt(e))return!1;var t=Xt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const tn=qt["__core-js_shared__"];var nn,rn=(nn=/[^.]+$/.exec(tn&&tn.keys&&tn.keys.IE_PROTO||""))?"Symbol(src)_1."+nn:"";const an=function(e){return!!rn&&rn in e};var on=Function.prototype.toString;const sn=function(e){if(null!=e){try{return on.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var cn=/^\[object .+?Constructor\]$/,un=Function.prototype,ln=Object.prototype,dn=un.toString,fn=ln.hasOwnProperty,_n=RegExp("^"+dn.call(fn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pn=function(e){return!(!Zt(e)||an(e))&&(en(e)?_n:cn).test(sn(e))};const mn=function(e,t){return null==e?void 0:e[t]};const gn=function(e,t){var n=mn(e,t);return pn(n)?n:void 0};const hn=gn(qt,"Map");const yn=gn(Object,"create");const vn=function(){this.__data__=yn?yn(null):{},this.size=0};const bn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Cn=Object.prototype.hasOwnProperty;const Sn=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Cn.call(t,e)?t[e]:void 0};var wn=Object.prototype.hasOwnProperty;const In=function(e){var t=this.__data__;return yn?void 0!==t[e]:wn.call(t,e)};const On=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this};function Tn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tn.prototype.clear=vn,Tn.prototype.delete=bn,Tn.prototype.get=Sn,Tn.prototype.has=In,Tn.prototype.set=On;const En=Tn;const Dn=function(){this.size=0,this.__data__={hash:new En,map:new(hn||jt),string:new En}};const An=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Pn=function(e,t){var n=e.__data__;return An(t)?n["string"==typeof t?"string":"hash"]:n.map};const kn=function(e){var t=Pn(this,e).delete(e);return this.size-=t?1:0,t};const Rn=function(e){return Pn(this,e).get(e)};const Nn=function(e){return Pn(this,e).has(e)};const Mn=function(e,t){var n=Pn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jn.prototype.clear=Dn,jn.prototype.delete=kn,jn.prototype.get=Rn,jn.prototype.has=Nn,jn.prototype.set=Mn;const xn=jn;const Ln=function(e,t){var n=this.__data__;if(n instanceof jt){var r=n.__data__;if(!hn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xn(r)}return n.set(e,t),this.size=n.size,this};function $n(e){var t=this.__data__=new jt(e);this.size=t.size}$n.prototype.clear=xt,$n.prototype.delete=Lt,$n.prototype.get=$t,$n.prototype.has=Kt,$n.prototype.set=Ln;const Kn=$n;const Fn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Un=function(e){return this.__data__.has(e)};function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new xn;++t<n;)this.add(e[t])}qn.prototype.add=qn.prototype.push=Fn,qn.prototype.has=Un;const Bn=qn;const Gn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const Hn=function(e,t){return e.has(t)};const zn=function(e,t,n,r,a,o){var i=1&n,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,_=2&n?new Bn:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=i?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(_){if(!Gn(t,(function(e,t){if(!Hn(_,t)&&(p===e||a(p,e,n,r,o)))return _.push(t)}))){f=!1;break}}else if(p!==m&&!a(p,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f};const Wn=qt.Uint8Array;const Vn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const Yn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Qn=Bt?Bt.prototype:void 0,Jn=Qn?Qn.valueOf:void 0;const Xn=function(e,t,n,r,a,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Wn(e),new Wn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Et(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Vn;case"[object Set]":var c=1&r;if(s||(s=Yn),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);var l=zn(s(e),s(t),r,a,o,i);return i.delete(e),l;case"[object Symbol]":if(Jn)return Jn.call(e)==Jn.call(t)}return!1};const Zn=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e};const er=Array.isArray;const tr=function(e,t,n){var r=t(e);return er(e)?r:Zn(r,n(e))};const nr=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o};const rr=function(){return[]};var ar=Object.prototype.propertyIsEnumerable,or=Object.getOwnPropertySymbols;const ir=or?function(e){return null==e?[]:(e=Object(e),nr(or(e),(function(t){return ar.call(e,t)})))}:rr;const sr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const cr=function(e){return null!=e&&"object"==typeof e};const ur=function(e){return cr(e)&&"[object Arguments]"==Xt(e)};var lr=Object.prototype,dr=lr.hasOwnProperty,fr=lr.propertyIsEnumerable;const _r=ur(function(){return arguments}())?ur:function(e){return cr(e)&&dr.call(e,"callee")&&!fr.call(e,"callee")};const pr=function(){return!1};var mr="object"==typeof exports&&exports&&!exports.nodeType&&exports,gr=mr&&"object"==typeof module&&module&&!module.nodeType&&module,hr=gr&&gr.exports===mr?qt.Buffer:void 0;const yr=(hr?hr.isBuffer:void 0)||pr;var vr=/^(?:0|[1-9]\d*)$/;const br=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&vr.test(e))&&e>-1&&e%1==0&&e<t};const Cr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Sr={};Sr["[object Float32Array]"]=Sr["[object Float64Array]"]=Sr["[object Int8Array]"]=Sr["[object Int16Array]"]=Sr["[object Int32Array]"]=Sr["[object Uint8Array]"]=Sr["[object Uint8ClampedArray]"]=Sr["[object Uint16Array]"]=Sr["[object Uint32Array]"]=!0,Sr["[object Arguments]"]=Sr["[object Array]"]=Sr["[object ArrayBuffer]"]=Sr["[object Boolean]"]=Sr["[object DataView]"]=Sr["[object Date]"]=Sr["[object Error]"]=Sr["[object Function]"]=Sr["[object Map]"]=Sr["[object Number]"]=Sr["[object Object]"]=Sr["[object RegExp]"]=Sr["[object Set]"]=Sr["[object String]"]=Sr["[object WeakMap]"]=!1;const wr=function(e){return cr(e)&&Cr(e.length)&&!!Sr[Xt(e)]};const Ir=function(e){return function(t){return e(t)}};var Or="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tr=Or&&"object"==typeof module&&module&&!module.nodeType&&module,Er=Tr&&Tr.exports===Or&&Ft.process;const Dr=function(){try{var e=Tr&&Tr.require&&Tr.require("util").types;return e||Er&&Er.binding&&Er.binding("util")}catch(t){}}();var Ar=Dr&&Dr.isTypedArray;const Pr=Ar?Ir(Ar):wr;var kr=Object.prototype.hasOwnProperty;const Rr=function(e,t){var n=er(e),r=!n&&_r(e),a=!n&&!r&&yr(e),o=!n&&!r&&!a&&Pr(e),i=n||r||a||o,s=i?sr(e.length,String):[],c=s.length;for(var u in e)!t&&!kr.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||br(u,c))||s.push(u);return s};var Nr=Object.prototype;const Mr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Nr)};const jr=function(e,t){return function(n){return e(t(n))}};const xr=jr(Object.keys,Object);var Lr=Object.prototype.hasOwnProperty;const $r=function(e){if(!Mr(e))return xr(e);var t=[];for(var n in Object(e))Lr.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Kr=function(e){return null!=e&&Cr(e.length)&&!en(e)};const Fr=function(e){return Kr(e)?Rr(e):$r(e)};const Ur=function(e){return tr(e,Fr,ir)};var qr=Object.prototype.hasOwnProperty;const Br=function(e,t,n,r,a,o){var i=1&n,s=Ur(e),c=s.length;if(c!=Ur(t).length&&!i)return!1;for(var u=c;u--;){var l=s[u];if(!(i?l in t:qr.call(t,l)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var _=!0;o.set(e,t),o.set(t,e);for(var p=i;++u<c;){var m=e[l=s[u]],g=t[l];if(r)var h=i?r(g,m,l,t,e,o):r(m,g,l,e,t,o);if(!(void 0===h?m===g||a(m,g,n,r,o):h)){_=!1;break}p||(p="constructor"==l)}if(_&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(_=!1)}return o.delete(e),o.delete(t),_};const Gr=gn(qt,"DataView");const Hr=gn(qt,"Promise");const zr=gn(qt,"Set");const Wr=gn(qt,"WeakMap");var Vr="[object Map]",Yr="[object Promise]",Qr="[object Set]",Jr="[object WeakMap]",Xr="[object DataView]",Zr=sn(Gr),ea=sn(hn),ta=sn(Hr),na=sn(zr),ra=sn(Wr),aa=Xt;(Gr&&aa(new Gr(new ArrayBuffer(1)))!=Xr||hn&&aa(new hn)!=Vr||Hr&&aa(Hr.resolve())!=Yr||zr&&aa(new zr)!=Qr||Wr&&aa(new Wr)!=Jr)&&(aa=function(e){var t=Xt(e),n="[object Object]"==t?e.constructor:void 0,r=n?sn(n):"";if(r)switch(r){case Zr:return Xr;case ea:return Vr;case ta:return Yr;case na:return Qr;case ra:return Jr}return t});const oa=aa;var ia="[object Arguments]",sa="[object Array]",ca="[object Object]",ua=Object.prototype.hasOwnProperty;const la=function(e,t,n,r,a,o){var i=er(e),s=er(t),c=i?sa:oa(e),u=s?sa:oa(t),l=(c=c==ia?ca:c)==ca,d=(u=u==ia?ca:u)==ca,f=c==u;if(f&&yr(e)){if(!yr(t))return!1;i=!0,l=!1}if(f&&!l)return o||(o=new Kn),i||Pr(e)?zn(e,t,n,r,a,o):Xn(e,t,c,n,r,a,o);if(!(1&n)){var _=l&&ua.call(e,"__wrapped__"),p=d&&ua.call(t,"__wrapped__");if(_||p){var m=_?e.value():e,g=p?t.value():t;return o||(o=new Kn),a(m,g,n,r,o)}}return!!f&&(o||(o=new Kn),Br(e,t,n,r,a,o))};const da=function e(t,n,r,a,o){return t===n||(null==t||null==n||!cr(t)&&!cr(n)?t!=t&&n!=n:la(t,n,r,a,e,o))};const fa=function(e,t){return da(e,t)};var _a=n(5089),pa=n.n(_a),ma={};try{ma.EventTarget=(new EventTarget).constructor}catch(EventTarget){!function(e,t){var n=e.create,r=e.defineProperty,a=o.prototype;function o(){t.set(this,n(null))}function i(e,t,n){r(e,t,{configurable:!0,writable:!0,value:n})}function s(e){var t=e.options;t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"==typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this)}i(a,"addEventListener",(function(e,n,r){for(var a=t.get(this),o=a[e]||(a[e]=[]),i=0,s=o.length;i<s;i++)if(o[i].listener===n)return;o.push({target:this,listener:n,options:r})})),i(a,"dispatchEvent",(function(e){var n=t.get(this)[e.type];return n&&(i(e,"target",this),i(e,"currentTarget",this),n.slice(0).forEach(s,e),delete e.currentTarget,delete e.target),!0})),i(a,"removeEventListener",(function(e,n){for(var r=t.get(this),a=r[e]||(r[e]=[]),o=0,i=a.length;o<i;o++)if(a[o].listener===n)return void a.splice(o,1)})),ma.EventTarget=o}(Object,new WeakMap)}const ga=ma.EventTarget;function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var va,ba,Ca=(new Date).getTime();function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}"undefined"==typeof EventTarget||"undefined"==typeof CustomEvent?(va=ga,ba=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ya(this,"bubbles",!1),ya(this,"cancelBubble",!1),ya(this,"cancelable",!1),ya(this,"composed",!1),ya(this,"currentTarget",null),ya(this,"defaultPrevented",!1),ya(this,"eventPhase",0),ya(this,"isTrusted",!1),ya(this,"returnValue",!0),ya(this,"srcElement",null),ya(this,"target",null),ya(this,"AT_TARGET",2),ya(this,"BUBBLING_PHASE",3),ya(this,"CAPTURING_PHASE",1),ya(this,"NONE",0),ya(this,"detail",void 0),ya(this,"timeStamp",void 0),ya(this,"type",void 0),Object.assign(this,n||{}),this.type=t,this.timeStamp=(new Date).getTime()-Ca}var t,n,r;return t=e,(n=[{key:"composedPath",value:function(){return[]}},{key:"initEvent",value:function(e,t,n){this.type=e,t&&(this.bubbles=t),n&&(this.cancelable=n)}},{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){}},{key:"stopPropagation",value:function(){}}])&&ha(t.prototype,n),r&&ha(t,r),e}()):(va=EventTarget,ba=CustomEvent);var Oa=function(e){return Object.keys.call(e,e)};function Ta(e,t){if(null==e)throw new Error(null!=t?t:"The assertDefined check is not passed. Argument has type undefined")}function Ea(e,t){if(!0!==e)throw new Error(null!=t?t:"The assertTrue check is not passed")}var Da=function(e){return Ia(e,Object)};var Aa=function(e){return e.filter(Boolean)},Pa=function(e,t){return e.filter(t)};function ka(e){return Oa(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Ra(e){if(null===e)throw Error("assertNotNull failed")}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ma(e){return function(e){if(Array.isArray(e))return Na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Na(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(t,n,r){var a={};return{subscribe:function(o){var i=Oa(o).reduce((function(t,i){var s=o[i];return s?(t[i]=function(t,o){var i=function(s){var c=s.detail.parameters,u=a[t];Ta(u);var l=u[u.length-1];try{var d=o.apply(void 0,Ma(c));return e(s)&&(i===l?n(s.detail.promiseId,d):console.log('@@@dispenser: skip resolve not last async event handler for event "'.concat(t,'"'))),d}catch(f){console.error(f),e(s)&&i===l&&r(s.detail.promiseId,f)}};return i}(i,s),t):t}),{});return Oa(i).forEach((function(e){var n=i[e];t.addEventListener(e,n),a[e]||(a[e]=[]);var r=a[e];Ta(r),r.push(n)})),{unsubscribe:function(){Oa(i).forEach((function(e){var n=i[e];t.removeEventListener(e,n);var r=a[e];Ta(r);var o=r.indexOf(n);-1!==o&&r.splice(o,1)}))}}}}}function xa(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var La=function(){var e={},t=function(t){delete e[t]};return{createPromise:function(n){var r=n||(0,C.v4)(),a=new Promise((function(n,a){e[r]={resolve:n,reject:a},setTimeout((function(){t(r)}),6e4)}));return[a,r]},resolvePromise:function(n,r){var a=e[n];a&&(xa(r,Promise)?r.then((function(e){a.resolve(e)}),(function(e){a.reject(e)})):(a.resolve(r),t(n)))},rejectPromise:function(n,r){var a=e[n];a&&(xa(r,Promise)?r.then((function(e){a.reject(e)}),(function(e){a.reject(e)})):(a.reject(r),t(n)))}}};function $a(e){var t=new va,n=La();return{eventTarget:t,events:function(){return e},dispenser:function(){return ja(t,n.resolvePromise,n.rejectPromise)},dispatch:function(){return function(e,t,n){var r={};return Object.entries(e).forEach((function(e){var a=wa(e,2),o=a[0],i=a[1];r[o]=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];if("async"in i){var s=wa(n(),2),c=s[0],u=s[1];return t.dispatchEvent(new ba(o,{detail:{parameters:r,promiseId:u,async:!0}})),c}t.dispatchEvent(new ba(o,{detail:{parameters:r}}))}})),r}(e,t,n.createPromise)},pair:function(){return[this.dispatch(),this.dispenser()]},with:function(e){return e(this)}}}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var Ua=function(e){return function(t){return Fa(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ka(e,t,n[t])}))}return e}({},t),{dispenser:function(){var n=t.dispenser();return{subscribe:function(t){var r=n.subscribe(t);return Promise.resolve().then((function(){return e(t)})),r}}}})}},qa=n(8986);function Ba(e){return Da(e)&&"scope"in e&&"event"in e&&"payload"in e&&(t=e.payload,null!=(n=Array)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n);var t,n}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ha(e,t,n[t])}))}return e}var Wa=0,Va=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ha(this,"timeoutMilliseconds",void 0),Ha(this,"handleResponse",void 0),Ha(this,"handleError",void 0),Ha(this,"handleTimeout",void 0),Ha(this,"pendingRequests",void 0),this.timeoutMilliseconds=t,this.handleResponse=n,this.handleError=r,this.handleTimeout=a,this.pendingRequests={}}var t,n,r;return t=e,n=[{key:"addRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0===t.requestId?(++Wa).toString():t.requestId,r=void 0===t.overrideTimeout?this.timeoutMilliseconds:t.overrideTimeout;if(this.pendingRequests[n])return{requestId:n,promise:this.pendingRequests[n].promise};var a={trackingData:t.trackingData,timeout:setTimeout((function(){return e.onTimeout(n,r)}),r),displayName:t.displayName};return a.promise=new Promise((function(e,t){a.resolve=e,a.reject=t})),this.pendingRequests[n]=a,{requestId:n,promise:a.promise}}},{key:"onResponse",value:function(e,t){var n=this.pendingRequests[e];n&&(delete this.pendingRequests[e],clearTimeout(n.timeout),this.handleResponse?this.handleResponse(t,za({requestId:e},n)):n.resolve(t))}},{key:"onError",value:function(e,t){var n=this.pendingRequests[e];n&&(delete this.pendingRequests[e],clearTimeout(n.timeout),this.handleError?this.handleError(t,za({requestId:e},n)):n.reject(t))}},{key:"onTimeout",value:function(e,t){var n=this.pendingRequests[e];n&&(delete this.pendingRequests[e],this.handleTimeout?this.handleTimeout(za({requestId:e},n)):n.reject(new Error("RequestTracker: timeout ".concat(t," while waiting response for ").concat(n.displayName," ").concat(e))))}},{key:"hasRequest",value:function(e){return!!this.getRequest(e)}},{key:"getRequest",value:function(e){return this.pendingRequests[e]}},{key:"getTrackedData",value:function(e){var t;return null===(t=this.pendingRequests[e])||void 0===t?void 0:t.trackingData}},{key:"cleanup",value:function(){this.pendingRequests={}}}],n&&Ga(t.prototype,n),r&&Ga(t,r),e}();function Ya(e){var t=e.timeoutMilliseconds,n=e.handleResponse,r=e.handleError,a=e.handleTimeout;return new Va(t,n,r,a)}var Qa=v.withPrefix("@COMM"),Ja="bp-channel-master-to-followers",Xa="bp-channel-follower-to-master",Za="bp-channel-api-to-proxy",eo="bp-channel-proxy-to-api",to="p0iu1_k@7p0v14";const no=function(){try{var e=gn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const ro=function(e,t,n){"__proto__"==t&&no?no(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const ao=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===n(o[c],c,o))break}return t}}();const oo=function(e,t){return e&&ao(e,t,Fr)};const io=function(e,t,n,r){var a=n.length,o=a,i=!r;if(null==e)return!o;for(e=Object(e);a--;){var s=n[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],u=e[c],l=s[1];if(i&&s[2]){if(void 0===u&&!(c in e))return!1}else{var d=new Kn;if(r)var f=r(u,l,c,e,t,d);if(!(void 0===f?da(l,u,3,r,d):f))return!1}}return!0};const so=function(e){return e==e&&!Zt(e)};const co=function(e){for(var t=Fr(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,so(a)]}return t};const uo=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const lo=function(e){var t=co(e);return 1==t.length&&t[0][2]?uo(t[0][0],t[0][1]):function(n){return n===e||io(n,e,t)}};const fo=function(e){return"symbol"==typeof e||cr(e)&&"[object Symbol]"==Xt(e)};var _o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,po=/^\w*$/;const mo=function(e,t){if(er(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fo(e))||(po.test(e)||!_o.test(e)||null!=t&&e in Object(t))};function go(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(go.Cache||xn),n}go.Cache=xn;const ho=go;const yo=function(e){var t=ho(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bo=/\\(\\)?/g,Co=yo((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(vo,(function(e,n,r,a){t.push(r?a.replace(bo,"$1"):n||e)})),t}));const So=Co;const wo=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a};var Io=Bt?Bt.prototype:void 0,Oo=Io?Io.toString:void 0;const To=function e(t){if("string"==typeof t)return t;if(er(t))return wo(t,e)+"";if(fo(t))return Oo?Oo.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const Eo=function(e){return null==e?"":To(e)};const Do=function(e,t){return er(e)?e:mo(e,t)?[e]:So(Eo(e))};const Ao=function(e){if("string"==typeof e||fo(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const Po=function(e,t){for(var n=0,r=(t=Do(t,e)).length;null!=e&&n<r;)e=e[Ao(t[n++])];return n&&n==r?e:void 0};const ko=function(e,t,n){var r=null==e?void 0:Po(e,t);return void 0===r?n:r};const Ro=function(e,t){return null!=e&&t in Object(e)};const No=function(e,t,n){for(var r=-1,a=(t=Do(t,e)).length,o=!1;++r<a;){var i=Ao(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&Cr(a)&&br(i,a)&&(er(e)||_r(e))};const Mo=function(e,t){return null!=e&&No(e,t,Ro)};const jo=function(e,t){return mo(e)&&so(t)?uo(Ao(e),t):function(n){var r=ko(n,e);return void 0===r&&r===t?Mo(n,e):da(t,r,3)}};const xo=function(e){return e};const Lo=function(e){return function(t){return null==t?void 0:t[e]}};const $o=function(e){return function(t){return Po(t,e)}};const Ko=function(e){return mo(e)?Lo(Ao(e)):$o(e)};const Fo=function(e){return"function"==typeof e?e:null==e?xo:"object"==typeof e?er(e)?jo(e[0],e[1]):lo(e):Ko(e)};const Uo=function(e,t){var n={};return t=Fo(t,3),oo(e,(function(e,r,a){ro(n,r,t(e,r,a))})),n};const qo=function(e){return void 0===e};var Bo="__do_not_respond__",Go=(0,C.v4)(),Ho="bp-master-tab-id";function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e){return function(e){if(Array.isArray(e))return zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e){return e?"state-listener":"state-host"}function Yo(e,t){return Array.isArray(e)?e.map(t):"object"==typeof e&&e?Uo(e,t):e}function Qo(e){return Yo(e,(function(e){return void 0===e?to:e}))}function Jo(e){return Yo(e,(function(e){return e===to?void 0:e}))}function Xo(){return localStorage.getItem(Ho)===Go}function Zo(e){var t=e.sendResponse,n=e.eventHandlers,r=e.event,a=e.payload,o=e.requestId,i=e.channelId;n.length||t(o,i,{status:"error",error:{message:'Remote event handler not found for "'.concat(r,'"')}}),n.length>1&&Qa.warn("More than one handler (".concat(n.length,') found for request "').concat(r,'"'));var s=n[n.length-1].apply(void 0,Wo(a));Ia(s,Promise)?s.then((function(e){t(o,i,{status:"success",data:Qo(e)})})).catch((function(e){e!==Bo&&t(o,i,{status:"error",error:{message:'Remote handler returns a promise that was rejected: "'.concat(e,'"')}})})):qo(s)?t(o,i,{status:"error",error:{message:"Remote handler function does not return result"}}):t(o,i,{status:"success",data:Qo(s)})}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t,n){return t&&ni(e.prototype,t),n&&ni(e,n),e}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ai(e,t,n[t])}))}return e}function ii(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function si(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ci={"state-host":Xa,"state-listener":Ja,"api-host":eo,"api-listener":Za},ui={"state-host":Ja,"state-listener":Xa,"api-host":Za,"api-listener":eo};function li(e){throw Qa.panic("@communicationLayer localStorage.setItem error:",z(e)),e}var di=function(){function e(){ti(this,e),ai(this,"requestTracker",Ya({timeoutMilliseconds:5e3})),ai(this,"subscriptions",{"api-host":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"api-listener":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"state-host":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}},"state-listener":{agentState:{},activitiesState:{},appConfigState:{},ariaStatusState:{},bpClientState:{},calendarAlertState:{},calendarState:{},calendarSettingsState:{},caseState:{},groupChatUIState:{},chatCenterSharedState:{},contactsState:{},didState:{},directoryState:{},emiState:{},evaluationState:{},favoritesState:{},groupChatState:{},homePageState:{},integrationApiState:{},interactionChatState:{},interactionInternalChatState:{},interactionState:{},interstateLogicState:{},kbBridge:{},kbState:{},kbSharedState:{},localizationState:{},modalsState:{},offlineState:{},passwordValidationState:{},predefinedChatMessageState:{},prerecordedMessagesState:{},recentState:{},recordingState:{},remoteAssistLocalState:{},remoteAssistState:{},rescueState:{},serviceDetailsState:{},servicesDispositionsState:{},sessionState:{},statsState:{},supervisionState:{},campaignsState:{},tabsState:{},timersState:{},timezonesState:{},userDetailsState:{},userPresenceState:{},userProfileState:{},webRtcState:{},userActivityState:{},screenPopState:{},__sync__:{},__worker__:{}}})}return ri(e,[{key:"handleAsyncRequest",value:function(e,t,n,r,a){Zo({eventHandlers:e,event:t,payload:n,requestId:a,channelId:r,sendResponse:this.sendResponse.bind(this)})}},{key:"sendResponse",value:function(e,t,n){var r=function(e,t){var n={scope:"__response__",requestId:e,payload:t};return JSON.stringify(n)}(e,n);new qa.BroadcastChannel(ui[t]).postMessage(r).catch(li)}},{key:"makeBroadcastChannelSubscription",value:function(e){var t=this;new qa.BroadcastChannel(ci[e]).addEventListener("message",(function(n){var r=JSON.parse(n);if(function(e){return Da(e)&&"scope"in e&&"requestId"in e&&"payload"in e&&"__response__"===e.scope&&"string"==typeof e.requestId&&Da(e.payload)&&"status"in e.payload&&("success"===e.payload.status||"error"===e.payload.status)}(r)){if(t.requestTracker.hasRequest(r.requestId))if("success"===r.payload.status){var a=Jo(r.payload.data);t.requestTracker.onResponse(r.requestId,a)}else t.requestTracker.onError(r.requestId,new Error(r.payload.error.message))}else if(Ba(r)){var o=t.subscriptions[e][r.scope],i=Object.values(o).reduce((function(e,t){return"function"==typeof t[r.event]&&e.push(t[r.event]),e}),[]);if(i.length){var s=r.payload.map(Jo);!function(e){return Da(e)&&"async"in e&&"requestId"in e&&!0===e.async&&"string"==typeof e.requestId}(r)?i.forEach((function(e){e.apply(void 0,si(s))})):t.handleAsyncRequest(i,r.event,s,e,r.requestId)}}}))}},{key:"makeSubscription",value:function(e,t,n){var r=(0,C.v4)(),a=this.subscriptions[e][t];return a[r]=n,{unsubscribe:function(){delete a[r]}}}}]),e}(),fi=new di,_i=function(){function e(t){ti(this,e),ai(this,"channelId",void 0),ai(this,"dispatchChannel",void 0),this.channelId=t,this.dispatchChannel=null,this.dispatchChannel=new qa.BroadcastChannel(ui[this.channelId]),fi.makeBroadcastChannelSubscription(this.channelId)}return ri(e,[{key:"subscribe",value:function(e,t){return fi.makeSubscription(this.channelId,e,t)}},{key:"sendMessage",value:function(e){if(Vo(Xo())!==this.channelId){var t,n=e.payload.map(Qo),r=ii(oi({},e),{payload:n}),a=JSON.stringify(r);null===(t=this.dispatchChannel)||void 0===t||t.postMessage(a).catch(li)}}},{key:"sendRequest",value:function(e,t){if(Vo(Xo())!==this.channelId){var n,r=e.payload.map(Qo),a=fi.requestTracker.addRequest({requestId:(0,C.v4)(),overrideTimeout:t,displayName:"communication:".concat(e.scope,".").concat(String(e.event))}),o=a.requestId,i=a.promise,s=ii(oi({},e),{payload:r,async:!0,requestId:o}),c=JSON.stringify(s);return null===(n=this.dispatchChannel)||void 0===n||n.postMessage(c).catch(li),i}return Promise.reject("Communication Layer: blocked role")}}]),e}(),pi={};function mi(e){return pi[e]||(pi[e]=new _i(e)),pi[e]}var gi=["all","boss"];function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||bi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){if(e){if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}function Ci(e){return t=e,(null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"_destination"in e&&"string"==typeof e._destination;var t,n}function Si(e,t,n,r,a){return{dispatchEvents:function(){return r},dispenserEvents:function(){return a},dispenser:function(){return function(e,t,n){return{subscribe:function(r){var a=(0,C.v4)(),o=e.subscribe(t,Oa(r).reduce((function(e,t){var o=r[t];return o?(e[t]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=n.get();if("boss"!==(r.length&&Ci(r[0])&&gi.includes(r[0]._destination)?r[0]._destination:void 0)||s.boss){if("onInitialState"!==t||2!==r.length)return o.apply(void 0,vi(r));var c=yi(r,2),u=c[0];c[1]===a&&o(u)}},e):e}),{}));return e.sendMessage({scope:"__sync__",event:"newSubscription",payload:[t,a]}),o}}}(t,e,n)},dispatch:function(){return function(e,t,n){return Object.keys(n).reduce((function(r,a){return r[a]=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if("async"in n[a])return e.sendRequest({scope:t,event:a,payload:o});e.sendMessage({scope:t,event:a,payload:o})},r}),{})}(t,e,r)},pair:function(){return[this.dispatch(),this.dispenser()]},with:function(e){return e(this)}}}function wi(e,t,n){return function(r,a){return Si(e,t,n,r,a)}}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ti(e,t,n){return{onInitialState:function(r){e.sendMessage({scope:t,event:"onInitialState",payload:n?[r,n]:[r]})}}}function Ei(e,t){return function(n){return function(r){return Oi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ii(e,t,n[t])}))}return e}({},r),{dispenser:function(){var a=r.dispenser();return Promise.resolve().then((function(){n(Ti(e,t))})),e.subscribe("__sync__",{newSubscription:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];2===a.length&&a[0]===t&&n(Ti(e,t,a[1]))}}),a}})}}}function Di(e,t){var n=e(),r=t.subscribe({onInitialState:function(e){var t;Da(t=n)&&Object.getOwnPropertyNames(t).forEach((function(e){return delete t[e]})),Object.assign(n,e)},onChange:function(e){Object.assign(n,e)}});return{data:n,subscription:r}}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Mi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e){return function(e){if(Array.isArray(e))return Ai(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){if(e){if("string"==typeof e)return Ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ai(e,t):void 0}}var ji=function(){function e(t,n,r,a){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ki(this,"dispatch",void 0),ki(this,"dispenser",void 0),ki(this,"stateData",void 0),ki(this,"subscription",void 0),ki(this,"sync",!0),ki(this,"syncDispatch",void 0),ki(this,"syncDispenser",void 0),ki(this,"dispenserSubscriptions",[]),o=Ri(r(t,n).pair(),2),this.syncDispatch=o[0],this.syncDispenser=o[1],this.dispatch=this.createPublicDispatch(t),this.dispenser=this.createPublicDispenser();var i=Di(a,this.dispenser),s=i.data,c=i.subscription;this.stateData=s,this.subscription=c}var t,n,r;return t=e,n=[{key:"createPublicDispatch",value:function(e){var t=this;return Oa(e).reduce((function(e,n){var r=t;return e[n]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o;if(r.sync)return(o=r.syncDispatch)[n].apply(o,Ni(t))},e}),{})}},{key:"createPublicDispenser",value:function(){var e=this;return{subscribe:function(t){var n={subscription:e.sync?e.syncDispenser.subscribe(t):null,handler:t};return e.dispenserSubscriptions.push(n),{unsubscribe:function(){var t;null===(t=n.subscription)||void 0===t||t.unsubscribe();var r=e.dispenserSubscriptions.indexOf(n);-1!==r&&e.dispenserSubscriptions.splice(r,1)}}}}}},{key:"enableSync",value:function(){var e=this;this.sync=!0,this.dispenserSubscriptions.forEach((function(t){t.subscription||(t.subscription=e.syncDispenser.subscribe(t.handler))}))}},{key:"disableSync",value:function(){this.sync=!1,this.dispenserSubscriptions.forEach((function(e){var t;null===(t=e.subscription)||void 0===t||t.unsubscribe(),e.subscription=null}))}},{key:"start",value:function(){}},{key:"getStateData",value:function(){return this.stateData}},{key:"cleanup",value:function(){this.subscription.unsubscribe()}},{key:"resetState",value:function(){this.subscription.unsubscribe()}}],n&&Pi(t.prototype,n),r&&Pi(t,r),e}();function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Li(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var $i=function e(t,n,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xi(this,"communicationChannelApiHost",mi("api-host")),xi(this,"communicationChannelApiListener",mi("api-listener")),xi(this,"dispatch",void 0),xi(this,"dispenser",void 0),xi(this,"getStateData",void 0),xi(this,"start",void 0),xi(this,"cleanup",void 0),xi(this,"resetState",void 0);var i=a.get().app,s=Li(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xi(e,t,n[t])}))}return e}({},n),{localSettings:r}),c="adc"===i||"api"===i?new t(s,wi(t.stateName,this.communicationChannelApiHost,a),Ei(this.communicationChannelApiHost,t.stateName),o):new ji(t.controlEvents,t.trackerEvents,wi(t.stateName,this.communicationChannelApiListener,a),t.initialDataGetter);this.dispatch=c.dispatch,this.dispenser=c.dispenser,this.getStateData=c.getStateData.bind(c),this.start=c.start.bind(c),this.cleanup=c.cleanup.bind(c),this.resetState=c.resetState.bind(c)};n(5130);function Ki(e){if(!("start"in e))throw Error("assertNotInitializedConnector failed")}function Fi(e){return!!e.authorized}function Ui(){return function(e,t){return{dispatchEvents:function(){return e},dispenserEvents:function(){return t},dispenser:function(){return{subscribe:function(){return{unsubscribe:function(){}}}}},dispatch:function(){return Oa(e).reduce((function(e,t){return e[t]=function(){return Promise.resolve()},e}),{})},pair:function(){return[this.dispatch(),this.dispenser()]},with:function(){return this}}}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hi(e,t,n[t])}))}return e}function Wi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Vi(e){return function(e){if(Array.isArray(e))return qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yi=["follower","follower_lost_master"],Qi=["master","undecided"],Ji=function(){function e(t,n,r,a,o,i){var s=this,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{stateDataRecovery:!1};Bi(this,e),Hi(this,"stateClass",void 0),Hi(this,"stateDeps",void 0),Hi(this,"localSettings",void 0),Hi(this,"currentTabDataProvider",void 0),Hi(this,"roleManager",void 0),Hi(this,"initialStateData",void 0),Hi(this,"options",void 0),Hi(this,"communicationChannelStateHost",void 0),Hi(this,"communicationChannelStateListener",void 0),Hi(this,"dispatch",void 0),Hi(this,"dispenser",void 0),Hi(this,"realConnector",void 0),Hi(this,"proxyConnector",void 0),Hi(this,"dispenserSubscriptions",void 0),Hi(this,"roleTransitionLock",void 0),Hi(this,"roleTransitionLockCallbacks",void 0),Hi(this,"invalidateRole",void 0),Hi(this,"afterRoleChanged",void 0),this.stateClass=t,this.stateDeps=n,this.localSettings=r,this.currentTabDataProvider=a,this.roleManager=o,this.initialStateData=i,this.options=c,this.communicationChannelStateHost=mi("state-host"),this.communicationChannelStateListener=mi("state-listener"),this.realConnector=null,this.proxyConnector=null,this.dispenserSubscriptions=[],this.roleTransitionLock=!1,this.roleTransitionLockCallbacks=[],this.invalidateRole=function(e,t){if(s.log("@SYNC invalidate role",t,"next role is",e,"state:",s.stateClass.stateName),s.roleTransitionLock=!0,"master"===e)s.proxyConnector&&(s.log("@SYNC cleanup proxy connector for",s.stateClass.stateName),s.proxyConnector.cleanup(),s.proxyConnector=null),Ra(s.realConnector),s.realConnector.enableSync();else if("follower"===e)s.realConnector&&(s.log("@SYNC cleanup real connector for",s.stateClass.stateName),s.realConnector.cleanup(),s.realConnector=null),s.proxyConnector||(s.proxyConnector=s.createProxyConnector()),s.proxyConnector.enableSync();else if("follower_lost_master"===e){Ea("follower"===t),Ra(s.proxyConnector),s.proxyConnector.disableSync();var n=s.options.stateDataRecovery?s.proxyConnector.getStateData():void 0,r=s.restoreStateData(n);s.realConnector=s.createRealConnector(r)}},this.afterRoleChanged=function(e,t){s.roleTransitionLock=!1,"follower_lost_master"===e&&(Ra(s.realConnector),s.realConnector.start()),Yi.includes(e)&&Qi.includes(t)||"follower"===e&&"follower"===t?s.dispenserSubscriptions.forEach((function(e){e.internalSubscription.unsubscribe(),Ra(s.proxyConnector),e.internalSubscription=s.proxyConnector.dispenser.subscribe(e.subscriptionHandler)})):Qi.includes(e)&&Yi.includes(t)&&s.dispenserSubscriptions.forEach((function(e){e.internalSubscription.unsubscribe(),Ra(s.realConnector),e.internalSubscription=s.realConnector.dispenser.subscribe(e.subscriptionHandler)})),s.roleTransitionLockCallbacks.forEach((function(e){return e()})),s.roleTransitionLockCallbacks.splice(0,s.roleTransitionLockCallbacks.length)};var u=o.getRole();Qi.includes(u)?(this.realConnector=this.createRealConnector(i),"master"===u&&this.realConnector.enableSync()):(this.proxyConnector=this.createProxyConnector(),"follower"===u&&this.proxyConnector.enableSync()),this.dispatch=this.createPublicDispatch(),this.dispenser=this.createPublicDispenser(),this.roleManager.onInvalidateRole(this.invalidateRole),this.roleManager.onRoleChanged(this.afterRoleChanged)}var t,n,r;return t=e,n=[{key:"getActiveConnector",value:function(){var e=this.roleManager.getRole(),t=Yi.includes(e)?this.proxyConnector:this.realConnector;return Ra(t),t}},{key:"waitForRoleTransitionLockRelease",value:function(){var e=this;return this.roleTransitionLock?new Promise((function(t){e.roleTransitionLockCallbacks.push(t)})):Promise.resolve()}},{key:"createPublicDispatch",value:function(){var e=this;return Oa(this.stateClass.controlEvents).reduce((function(t,n){var r=e;return t[n]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o;if(r.roleTransitionLock)return r.waitForRoleTransitionLockRelease().then((function(){var e;return(e=r.getActiveConnector().dispatch)[n].apply(e,Vi(t))}));var i=r.getActiveConnector();return(o=i.dispatch)[n].apply(o,Vi(t))},t}),{})}},{key:"createPublicDispenser",value:function(){var e=this;return{subscribe:function(t){var n=e.getActiveConnector().dispenser.subscribe(t),r=e.dispenserSubscriptions,a={internalSubscription:n,subscriptionHandler:t,unsubscribe:function(){a.internalSubscription.unsubscribe();var e=r.indexOf(a);-1!==e&&r.splice(e,1)}};return e.dispenserSubscriptions.push(a),a}}}},{key:"restoreStateData",value:function(e){var t;if(e)return e;var n=this.stateClass.initialDataGetter();if(!Fi(this.stateClass.stateConfig)||!(null===(t=this.stateClass.stateConfig.persistentKeys)||void 0===t?void 0:t.length))return n;var r=this.localSettings.getSync("persistentStateKeys"),a=null==r?void 0:r[this.stateClass.stateName];return a?(this.log("@@@PK restored persistent data:",a),zi({},n,a)):n}},{key:"createRealConnector",value:function(e){this.log("@SYNC createRealConnector for",this.stateClass.stateName);var t=Wi(zi({},this.stateDeps),{localSettings:this.localSettings});return new this.stateClass(t,wi(this.stateClass.stateName,this.communicationChannelStateHost,this.currentTabDataProvider),Ei(this.communicationChannelStateHost,this.stateClass.stateName),e)}},{key:"createProxyConnector",value:function(){return this.log("@SYNC createProxyConnector for",this.stateClass.stateName),new ji(this.stateClass.controlEvents,this.stateClass.trackerEvents,wi(this.stateClass.stateName,this.communicationChannelStateListener,this.currentTabDataProvider),this.stateClass.initialDataGetter)}},{key:"getStateData",value:function(){return this.getActiveConnector().getStateData()}},{key:"start",value:function(){Qi.includes(this.roleManager.getRole())&&(Ra(this.realConnector),this.realConnector.start())}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(r=console).info.apply(r,Vi(t))}},{key:"cleanup",value:function(){var e,t;this.log("@SYNC state coordinator: cleanup() for",this.stateClass.stateName),null===(e=this.realConnector)||void 0===e||e.cleanup(),null===(t=this.proxyConnector)||void 0===t||t.cleanup(),this.roleManager.removeInvalidateRoleHandler(this.invalidateRole),this.roleManager.removeRoleChangedListener(this.afterRoleChanged),this.roleTransitionLock=!1,this.roleTransitionLockCallbacks.splice(0,this.roleTransitionLockCallbacks.length),this.dispenserSubscriptions.forEach((function(e){return e.unsubscribe()})),this.dispenserSubscriptions.splice(0,this.dispenserSubscriptions.length)}},{key:"resetState",value:function(){var e,t;null===(e=this.realConnector)||void 0===e||e.resetState(),null===(t=this.proxyConnector)||void 0===t||t.resetState(),this.roleTransitionLock=!1,this.roleTransitionLockCallbacks.splice(0,this.roleTransitionLockCallbacks.length)}}],n&&Gi(t.prototype,n),r&&Gi(t,r),e}();function Xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zi(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function es(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zi(o,r,a,i,s,"next",e)}function s(e){Zi(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e,t,n){return rs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=as(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},rs(e,t,n||e)}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(e)}function os(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Xi(e):t;var n}function is(e,t){return is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},is(e,t)}function ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=as(e);if(t){var a=as(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return os(this,n)}}function cs(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function us(e,t,n){var r="".concat("bp-pear-to-pear","-").concat(e.stateName),a=function(){},o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(u,e);var o,i,s,c=ss(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),ns(Xi(e=c.call(this,t,void 0,void 0,n)),"channel",new qa.BroadcastChannel(r)),ns(Xi(e),"isLeader",!1),ns(Xi(e),"onChangeSubscription",{unsubscribe:function(){}}),ns(Xi(e),"handleBroadcastMessages",(function(t){switch(t.type){case"requestStateData":return e.broadcastStateData();case"stateData":return e.handleStateData(t.state);case"stateUpdate":return e.handleStateUpdate(t.state)}})),ns(Xi(e),"subscribeToStateChanges",(function(){a("Subscribe to state data changes");var t=e.dispenser.subscribe;e.onChangeSubscription=t({onChange:function(t){e.isLeader?e.broadcastStateData():e.broadcastStateUpdate(t)}})})),e.electLeader(),e}return o=u,i=[{key:"electLeader",value:function(){var e=this;return es((function(){var t;return cs(this,(function(n){switch(n.label){case 0:return[4,(t=(0,qa.createLeaderElection)(e.channel)).hasLeader()];case 1:return n.sent()&&(a("I am follower. Requesting initial state..."),e.listenToBroadcastMessages(),e.sendToChannel({type:"requestStateData"})),t.awaitLeadership().then(es((function(){return cs(this,(function(t){switch(t.label){case 0:return e.isLeader=!0,[4,e.waitForInitialization()];case 1:return t.sent(),a("I am leader. Sending state data"),e.listenToBroadcastMessages(),e.broadcastStateData(),[2]}}))}))),[2]}}))}))()}},{key:"listenToBroadcastMessages",value:function(){this.channel.removeEventListener("message",this.handleBroadcastMessages),this.channel.addEventListener("message",this.handleBroadcastMessages)}},{key:"start",value:function(){rs(as(u.prototype),"start",this).call(this),this.subscribeToStateChanges()}},{key:"handleStateData",value:function(e){a("Set initial state from channel",e),this.produceState((function(){return e}))}},{key:"handleStateUpdate",value:function(e){a("Received state update",e),this.onChangeSubscription.unsubscribe(),this.produceState((function(t){Oa(e).forEach((function(n){t[n]=e[n]}))})),pa()(this.subscribeToStateChanges)}},{key:"broadcastStateData",value:function(){this.isLeader&&(a("Broadcast state data to followers"),this.sendToChannel({type:"stateData",state:this.stateData}))}},{key:"broadcastStateUpdate",value:function(e){a("Broadcast state update",e),this.sendToChannel({type:"stateUpdate",state:e})}},{key:"sendToChannel",value:function(e){this.channel.postMessage(e).catch((function(t){var n="Error while broadcasting mesage to cannel ".concat(r);a("".concat(n," ").concat(e)),v.error("".concat(n," ").concat(t))}))}}],i&&ts(o.prototype,i),s&&ts(o,s),u}(e),i=new o;return i.constructor=e,i}var ls=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t,n){return t&&ps(e.prototype,t),n&&ps(e,n),e}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(e)}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gs(e,t,n[t])}))}return e}function vs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function bs(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?fs(e):t;var n}function Cs(e,t){return Cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cs(e,t)}function Ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Is(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ws(e){return function(e){if(Array.isArray(e))return ds(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Is(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(e,t){if(e){if("string"==typeof e)return ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ds(e,t):void 0}}function Os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hs(e);if(t){var a=hs(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bs(this,n)}}var Ts=function(){function e(t){var n=t.platformSpecific,r=t.localSettings,a=t.currentTabDataProvider,o=t.roleManager;_s(this,e),gs(this,"platformSpecific",void 0),gs(this,"localSettings",void 0),gs(this,"currentTabDataProvider",void 0),gs(this,"roleManager",void 0),this.platformSpecific=n,this.localSettings=r,this.currentTabDataProvider=a,this.roleManager=o}return ms(e,[{key:"createState",value:function(e,t,n){var r,a=vs(ys({},t),{localSettings:this.localSettings});if("mobile"===this.platformSpecific.clientType()||{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"https://localhost:3000/agent/communicator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:!0,REACT_APP_SERVICE_WORKER_SCOPE:"/agent/communicator",REACT_APP_DISABLE_WEBSOCKET_MESSAGE_LOGGING:!1,REACT_APP_CURRENT_SERVER_ORIGIN:!1}.REACT_APP_SIMPLE_STATES)return new e(a);var o=n?ys({},e.initialDataGetter(),n):e.initialDataGetter();if(Fi(e.stateConfig)&&(null===(r=e.stateConfig.persistentKeys)||void 0===r?void 0:r.length)){console.log("@@@PK: persisted keys detected:",e.stateConfig.persistentKeys);var i=this.localSettings.getSync("persistentStateKeys"),s=null==i?void 0:i[e.stateName];console.log("@@@PK restoredStateData:",s),s&&(o=ys({},o,s))}if(!e.stateConfig.synchronized)return new e(a,Ui(),(function(){return function(e){return e}}),o);switch(e.stateConfig.coordinationMode){case"adc-app":return new $i(e,t,this.localSettings,this.currentTabDataProvider,o);case"master-role-with-recovery":return new Ji(e,t,this.localSettings,this.currentTabDataProvider,this.roleManager,o,{stateDataRecovery:!0});case"pear-to-pear":return us(e,a,o);default:return new Ji(e,t,this.localSettings,this.currentTabDataProvider,this.roleManager,o)}}}],[{key:"createBaseStateClass",value:function(e){var t=e.name,n=e.controlEvents,r=e.trackerEvents,a=e.dependencies,o=e.options,i=e.getInitialState,s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cs(e,t)}(s,e);var a=Os(s);function s(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui(),c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return function(e){return e}},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i();_s(this,s),gs(fs(t=a.call(this)),"dispatch",void 0),gs(fs(t),"dispenser",void 0),gs(fs(t),"fromClientDispenser",void 0),gs(fs(t),"toClientDispatch",void 0),gs(fs(t),"subscriptions",[]),gs(fs(t),"stateData",void 0),gs(fs(t),"destroyed",!1),gs(fs(t),"initialized",!1),gs(fs(t),"sync",!1),gs(fs(t),"initializationCallbacks",[]),gs(fs(t),"fromFollowersDispenser",void 0),gs(fs(t),"controlSubscriptions",[]),gs(fs(t),"onChangeOptimization",{isMicrotaskScheduled:!1}),gs(fs(t),"sendInitialState",(function(e){var n;t.isInitialized()?null===(n=e.onInitialState)||void 0===n||n.call(e,t.stateData):t.waitForInitialization().then((function(){var n;null===(n=e.onInitialState)||void 0===n||n.call(e,t.stateData)}))})),t.stateData=ys({},u),Object.assign(fs(t),e),Ta(t.localSettings);var l=Ss($a(n).pair(),2),d=l[0],f=l[1],_=Ss($a(r).with(Ua(t.sendInitialState)).pair(),2),p=_[0],m=_[1],g=Ss(o(r,n).with(c(t.sendInitialState)).pair(),2),h=g[0],y=g[1];return t.dispatch=t.createPublicDispatch(d),t.dispenser=t.createPublicDispenser(m),t.fromFollowersDispenser=y,t.toClientDispatch=t.createToClientDispatch(p,h),t.fromClientDispenser=t.createFromClientDispenser(f),t}return ms(s,[{key:"waitForInitialization",value:function(){var e=this;return this.isInitialized()?Promise.resolve():new Promise((function(t){e.initializationCallbacks.push(t)}))}},{key:"createToClientDispatch",value:function(e,t){var n=this;return Oa(e).reduce((function(r,a){var o=n;return r[a]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s,c,u=(s=e)[a].apply(s,ws(r));o.sync&&(c=t)[a].apply(c,ws(r));return u},r}),{})}},{key:"createFromClientDispenser",value:function(e){var t=this;return{subscribe:function(n){var r=e.subscribe(n),a=t.sync?t.fromFollowersDispenser.subscribe(n):null,o={subscription:r,handler:n,syncSubscription:a};return t.controlSubscriptions.push(o),{unsubscribe:function(){var e;r.unsubscribe(),null===(e=o.syncSubscription)||void 0===e||e.unsubscribe();var n=t.controlSubscriptions.indexOf(o);-1!==n&&t.controlSubscriptions.splice(n,1)}}}}}},{key:"createPublicDispatch",value:function(e){var t=this;return Oa(e).reduce((function(n,r){var a=t;return n[r]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i;return a.isInitialized()?(i=e)[r].apply(i,ws(n)):a.waitForInitialization().then((function(){var t;return(t=e)[r].apply(t,ws(n))}))},n}),{})}},{key:"createPublicDispenser",value:function(e){var t=this;return{subscribe:function(n){var r=!1,a=null;return t.isInitialized()?t.isDestroyed()||(a=e.subscribe(n)):t.waitForInitialization().then((function(){r||t.isDestroyed()||(a=e.subscribe(n))})),{unsubscribe:function(){r=!0,null==a||a.unsubscribe()}}}}}},{key:"start",value:function(){if(this.isInitialized())throw Error("`state.start()` can be set only once!");this.initialize(),this.initialized=!0,this.initializationCallbacks.forEach((function(e){try{e()}catch(t){v.error("StateFactory: exception during state initialization callback:",t)}})),this.initializationCallbacks.splice(0,this.initializationCallbacks.length)}},{key:"isInitialized",value:function(){return this.initialized}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"getStateData",value:function(){return this.stateData}},{key:"updateState",value:function(e){var n=this;if(this.destroyed)v.warn("You are trying to update data of destroyed connector ".concat(t));else{var r="function"==typeof e?e(this.stateData):e;if(r!==this.stateData){var a=this.stateData;this.stateData=ys({},this.stateData,r),this.onChangeOptimization.isMicrotaskScheduled?this.onChangeOptimization.combinedPayload=ys({},this.onChangeOptimization.combinedPayload,r):(this.onChangeOptimization={isMicrotaskScheduled:!0,originalStateData:a,combinedPayload:ys({},r)},pa()((function(){Ea(n.onChangeOptimization.isMicrotaskScheduled);var e=n.onChangeOptimization,r=e.originalStateData,a=e.combinedPayload;n.onChangeOptimization={isMicrotaskScheduled:!1};var i=Oa(a).reduce((function(e,t){return fa(a[t],r[t])||(e[t]=a[t]),e}),{});if(n.toClientDispatch.onChange(i),Fi(o)){var s=Oa(i).reduce((function(e,t){var n;return(null===(n=o.persistentKeys)||void 0===n?void 0:n.includes(t))&&(e[t]=i[t]),e}),{});Object.keys(s).length&&(console.log("@@@PK Update ".concat(t," persistent data:"),s),n.localSettings.get("persistentStateKeys").then((function(e){e||(e={}),e[t]=ys({},e[t],s),n.localSettings.set("persistentStateKeys",e)})))}})))}}}},{key:"produceState",value:function(e){this.updateState(Ot(e))}},{key:"enableSync",value:function(){var e=this;this.sync=!0,this.controlSubscriptions.forEach((function(t){t.syncSubscription||(t.syncSubscription=e.fromFollowersDispenser.subscribe(t.handler))}))}},{key:"disableSync",value:function(){this.sync=!1,this.controlSubscriptions.forEach((function(e){var t;null===(t=e.syncSubscription)||void 0===t||t.unsubscribe(),e.syncSubscription=null}))}},{key:"cleanup",value:function(){this.disableSync(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.splice(0,this.subscriptions.length),this.controlSubscriptions.splice(0,this.controlSubscriptions.length),this.stateData=i(),this.destroyed=!0}},{key:"resetState",value:function(){this.updateState(i()),this.toClientDispatch.onInitialState(this.stateData)}}]),s}(ls);return gs(s,"stateName",t),gs(s,"controlEvents",n),gs(s,"trackerEvents",r),gs(s,"dependencies",a),gs(s,"stateConfig",o),gs(s,"initialDataGetter",i),s}}]),e}();function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ds(e,t,n){return Ds=Ms()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Rs(a,n.prototype),a},Ds.apply(null,arguments)}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ps(e)}function ks(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Es(e):t;var n}function Rs(e,t){return Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rs(e,t)}function Ns(e){var t="function"==typeof Map?new Map:void 0;return Ns=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ds(e,arguments,Ps(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Rs(n,e)},Ns(e)}function Ms(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var js=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(a,e);var t,n,r=(t=a,n=Ms(),function(){var e,r=Ps(t);if(n){var a=Ps(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return ks(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),As(Es(o=r.call(this,n)),"url",void 0),As(Es(o),"status",void 0),As(Es(o),"statusText",void 0),As(Es(o),"body",void 0),As(Es(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(Ns(Error));function xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ls(e,t,n){return Ls=Hs()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Bs(a,n.prototype),a},Ls.apply(null,arguments)}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),e}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}function qs(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function Bs(e,t){return Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bs(e,t)}function Gs(e){var t="function"==typeof Map?new Map:void 0;return Gs=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ls(e,arguments,Us(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bs(n,e)},Gs(e)}function Hs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bs(e,t)}(a,e);var t,n,r=(t=a,n=Hs(),function(){var e,r=Us(t);if(n){var a=Us(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return qs(this,e)});function a(e){var t;return xs(this,a),(t=r.call(this,e)).name="CancelError",t}return Ks(a,[{key:"isCancelled",get:function(){return!0}}]),a}(Gs(Error)),Ws=Symbol.toStringTag,Vs=function(){function e(t){var n=this;xs(this,e),Fs(this,Ws,void 0),Fs(this,"_isResolved",void 0),Fs(this,"_isRejected",void 0),Fs(this,"_isCancelled",void 0),Fs(this,"_cancelHandlers",void 0),Fs(this,"_promise",void 0),Fs(this,"_resolve",void 0),Fs(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return Ks(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(i){return void console.warn("Cancellation threw an error",i)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new zs("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),Ys={BASE:"",VERSION:"1.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Js(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Xs(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Js(o,r,a,i,s,"next",e)}function s(e){Js(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zs(e,t,n[t])}))}return e}function tc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ac,oc=function(e){return null!=e},ic=function(e){return"string"==typeof e},sc=function(e){return ic(e)&&""!==e},cc=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},uc=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},lc=function(e){var t=[],n=function(e,r){oc(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=nc(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=nc(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},dc=(ac=Xs((function(e,t){return rc(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))})),function(e,t){return ac.apply(this,arguments)}),fc=function(){var e=Xs((function(e,t){var n,r,a,o,i,s;return rc(this,(function(c){switch(c.label){case 0:return[4,dc(t,e.TOKEN)];case 1:return n=c.sent(),[4,dc(t,e.USERNAME)];case 2:return r=c.sent(),[4,dc(t,e.PASSWORD)];case 3:return a=c.sent(),[4,dc(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(ec({Accept:"application/json"},o,t.headers)).filter((function(e){var t=nc(e,2),n=(t[0],t[1]);return oc(n)})).reduce((function(e,t){var n=nc(t,2),r=n[0],a=n[1];return tc(ec({},e),Zs({},r,String(a)))}),{}),sc(n)&&(i.Authorization="Bearer ".concat(n)),sc(r)&&sc(a)&&(s=function(e){try{return btoa(e)}catch(wX){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:cc(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":ic(t.body)?i["Content-Type"]="text/plain":uc(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),_c=function(){var e=Xs((function(e,t,n,r,a,o,i){var s,c;return rc(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),pc=function(){var e=Xs((function(e){var t,n;return rc(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),mc=function(e,t){return new Vs(function(){var n=Xs((function(n,r,a){var o,i,s,c,u,l,d,f,_;return rc(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(lc(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){ic(n)||cc(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=nc(e,2),n=(t[0],t[1]);return oc(n)})).forEach((function(e){var t=nc(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):ic(e.body)||cc(e.body)||uc(e.body)?e.body:JSON.stringify(e.body)}(t),[4,fc(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,_c(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,pc(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(ic(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=ec({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new js(e,t,n);if(!t.ok)throw new js(e,t,"Generic Error")}(t,f),n(f.body),p.label=4;case 4:return[3,6];case 5:return _=p.sent(),r(_),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"maskChatHistoryMessage",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/chats/contentMask",body:t,mediaType:"application/json"})}},{key:"saveEmailDraft",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/email/saveDraft",body:t,mediaType:"application/json"})}},{key:"getPinnedCases",value:function(e){var t=e.limit,n=e.service,r=e.user,a=e.sortBy,o=e.asc;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/followUpQueue",query:{service:n,user:r,limit:t,sortBy:a,asc:o}})}},{key:"getPersonalQueue",value:function(e){var t=e.length,n=e.skip,r=e.user,a=e.sortBy,o=e.asc;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/getPersonalQueue",query:{user:r,length:t,sortBy:a,asc:o,skip:n}})}},{key:"getQueueCountByService",value:function(e){var t=e.queueType,n=e.serviceIds;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/getQueueCountByService",query:{queueType:t,serviceIds:n}})}},{key:"getQueueCount",value:function(e){var t=e.service,n=e.team,r=e.user,a=e.queueType,o=e.languageSkillId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/getQueueCount",query:{service:t,team:n,user:r,queueType:a,languageSkillId:o}})}},{key:"getTeamQueue",value:function(e){var t=e.length,n=e.skip,r=e.queueType,a=e.services,o=e.languageSkillId,i=e.team,s=e.sortBy,c=e.asc;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/getTeamQueue",query:{queueType:r,services:a,languageSkillId:o,team:i,length:t,sortBy:s,asc:c,skip:n}})}},{key:"getContactFormDefinition",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/form/contactFormDefinition"})}},{key:"getFormDefinition",value:function(e){var t=e.service;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/form/formDefinition",query:{service:t}})}},{key:"getHelp",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/help"})}},{key:"getActivityFormValues",value:function(e){var t=e.serviceId,n=e.record,r=e.link,a=e.contactId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/form/values",query:{record:n,service_id:t,link:r,contact_id:a}})}},{key:"sendActivityFormValues",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/form/values",body:t,mediaType:"application/json"})}},{key:"getRescueNodeId",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/LogMeIn/getUserNodeId"})}},{key:"checkIfRescueIsEnabled",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/LogMeIn/isEnabled"})}},{key:"getRescuePinCode",value:function(e){var t=e.nodeId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/LogMeIn/requestPinCode",query:{nodeId:t}})}},{key:"getLicensePage",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/license"})}},{key:"getLocalizedMessages",value:function(e){var t=e.locale;return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/servlet/messages.json",query:{locale:t}})}},{key:"getRtcConfig",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/getWebRtcCfg"})}},{key:"getServerAddressList",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/location/servers"})}},{key:"checkIfNeedRenderReportProblemButton",value:function(e){var t=e.tenantUrl;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/location/problems",query:{tenantUrl:t}})}},{key:"getServerVersion",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/version"})}},{key:"getAppInfo",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/app-info"})}},{key:"getKbArticle",value:function(e){var t=e.articleId,n=e.external,r=e.includePath,a=e.html,o=e.query,i=e.contact;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/kb/article/{articleId}",path:{articleId:t},query:{external:n,includePath:r,html:a,query:o,contact:i}})}},{key:"updateKbArticle",value:function(e){var t=e.articleId,n=e.requestBody;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/kb/article/{articleId}",path:{articleId:t},body:n,mediaType:"application/json"})}},{key:"deleteKbArticle",value:function(e){var t=e.articleId;return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/kb/article/{articleId}",path:{articleId:t}})}},{key:"createKbArticle",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/kb/article",body:t,mediaType:"application/json"})}},{key:"getKbArticles",value:function(e){var t=e.language,n=e.folderId,r=e.sortOrder,a=e.service,o=e.limit,i=e.startingFromValue,s=e.startingFromId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/kb/articleList",query:{language:t,folderId:n,sortOrder:r,service:a,limit:o,startingFromValue:i,startingFromId:s}})}},{key:"getKbRootFolder",value:function(e){var t=e.language,n=e.onlyFolders,r=e.emptyFolders,a=e.service;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/kb/folder",query:{language:t,onlyFolders:n,emptyFolders:r,service:a}})}},{key:"createKbFolder",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/kb/folder",body:t,mediaType:"application/json"})}},{key:"getKbFolder",value:function(e){var t=e.directoryId,n=e.language,r=e.onlyFolders,a=e.emptyFolders,o=e.service;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/kb/folder/{directoryId}",path:{directoryId:t},query:{language:n,onlyFolders:r,emptyFolders:a,service:o}})}},{key:"deleteKbFolder",value:function(e){var t=e.directoryId;return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/kb/folder/{directoryId}",path:{directoryId:t}})}},{key:"getKbLanguages",value:function(e){var t=e.usedInKbOnly;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/kb/getLanguages",query:{usedInKBOnly:t}})}},{key:"searchTextInKb",value:function(e){var t=e.language,n=e.query,r=e.service,a=e.folderId,o=e.limit,i=e.startingFromId,s=e.startingFromValue,c=e.sortOrder;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/kb/search",query:{query:n,language:t,service:r,folderId:a,limit:o,startingFromId:i,startingFromValue:s,sortOrder:c}})}},{key:"incrementKbInsertionCount",value:function(e){var t=e.articleId;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/kb/incrementInsertionCount/{articleId}",path:{articleId:t}})}},{key:"getImageById",value:function(e){var t=e.imageId,n=e.token;return mc(Ys,{method:"GET",url:"/agentdesktop/images/{imageId}",path:{imageId:t},query:{token:n}})}},{key:"getGreeting",value:function(e){var t=e.customerQuestion;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/cr/greeting",query:{customerQuestion:t}})}},{key:"getUnreadPersonalMessages",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/unreadPersonalMessages/messages",body:t,mediaType:"application/json"})}},{key:"getUnreadPersonalMessagesForUser",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/unreadPersonalMessages/messagesForUser",body:t,mediaType:"application/json"})}},{key:"markPersonalMessagesAsRead",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/unreadPersonalMessages/markRead/",body:t,mediaType:"application/json"})}},{key:"getPredefinedChatMessages",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/cr/response"})}},{key:"createPredefinedChatMessage",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/cr/response",body:t,mediaType:"application/json"})}},{key:"updatePredefinedChatMessage",value:function(e){var t=e.requestBody;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/cr/response",body:t,mediaType:"application/json"})}},{key:"deletePredefinedChatMessage",value:function(e){var t=e.messageId;return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/cr/response/{messageId}",path:{messageId:t}})}},{key:"getActivity",value:function(e){var t=e.transcriptType,n=e.activityId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/{transcriptType}/{activityId}",path:{transcriptType:t,activityId:n}})}},{key:"getChatTranscript",value:function(e){var t=e.globalInteractionId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/chat_transcript/{globalInteractionId}",path:{globalInteractionId:t}})}},{key:"getEmail",value:function(e){var t=e.emailId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/email/message/{emailId}",path:{emailId:t}})}},{key:"getAudio",value:function(e){var t=e.id,n=e.tenant,r=e.token,a=e.user,o=e.audiotag,i=e.wav;return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/playPrompt",query:{id:t,tenant:n,token:r,user:a,audiotag:o,".wav":i}})}},{key:"getRecording",value:function(e){var t=e.audiotag,n=e.id,r=e.interactionId,a=e.tenant,o=e.token,i=e.user;return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/playRecording",query:{audiotag:t,id:n,interaction_id:r,tenant:a,token:o,user:i}})}},{key:"getAudioNotification",value:function(e){var t=e.id;return mc(Ys,{method:"GET",url:"/agentdesktop/getaudio",query:{id:t}})}},{key:"getChatAttachmentDownload",value:function(e){var t=e.id,n=e.tenant,r=e.token,a=e.user,o=e.noDisposition;return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/chatAttachmentDownload",query:{id:t,tenant:n,token:r,user:a,no_disposition:o}})}},{key:"getUserPictureUrl",value:function(e){var t=e.id,n=e.token,r=e.user,a=e.tenant,o=e.ifFound,i=e.tmp;return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/userIconDownload",query:{id:t,token:n,user:r,tenant:a,tmp:i,ifFound:o}})}},{key:"msteamsIconDownload",value:function(e){var t=e.id,n=e.token,r=e.user,a=e.tenant,o=e.type,i=e.emiServerUrlPrefix,s=e.photoUrl,c=e.tmp;return mc(Ys,{method:"GET",url:"/agentdesktop/agentdesktop/msteamsIconDownload",query:{id:t,token:n,user:r,tenant:a,tmp:c,type:o,emi_server_url_prefix:i,photo_url:s}})}},{key:"getFileInfo",value:function(e){var t=e.fileId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/fileInfo/{fileId}",path:{fileId:t}})}},{key:"uploadFile",value:function(e){var t=e.contentType,n=e.type,r=e.token,a=e.user,o=e.tenant,i=e.formData;return mc(Ys,{method:"POST",url:"/agentdesktop/agentdesktop/{type}",path:{type:n},headers:{"Content-Type":t},query:{token:r,user:a,tenant:o},formData:i,mediaType:"multipart/form-data"})}},{key:"deleteContactPhoto",value:function(e){var t=e.contactId;return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/photo",path:{contactId:t}})}},{key:"uploadContactPicture",value:function(e){var t=e.token,n=e.user,r=e.tenant,a=e.formData;return mc(Ys,{method:"POST",url:"/agentdesktop/agentdesktop/contactPhotoUpload",query:{token:t,user:n,tenant:r},formData:a,mediaType:"multipart/form-data"})}},{key:"mediaFileUpload",value:function(e){var t=e.token,n=e.user,r=e.tenant,a=e.formData;return mc(Ys,{method:"POST",url:"/agentdesktop/agentdesktop/mediaFileUpload",query:{token:t,user:n,tenant:r},formData:a,mediaType:"multipart/form-data"})}},{key:"uploadEmailAttachment",value:function(e){var t=e.contentType,n=e.token,r=e.user,a=e.tenant,o=e.formData;return mc(Ys,{method:"POST",url:"/agentdesktop/agentdesktop/attachmentUpload",headers:{"Content-Type":t},query:{token:n,user:r,tenant:a},formData:o,mediaType:"multipart/form-data"})}},{key:"uploadChatFile",value:function(e){var t=e.contentType,n=e.token,r=e.user,a=e.tenant,o=e.formData;return mc(Ys,{method:"POST",url:"/agentdesktop/agentdesktop/chatAttachmentUpload",headers:{"Content-Type":t},query:{token:n,user:r,tenant:a},formData:o,mediaType:"multipart/form-data"})}},{key:"uploadLogs",value:function(e){var t=e.app,n=e.device,r=e.formData;return mc(Ys,{method:"POST",url:"/agentdesktop/agentdesktop/logsUpload",query:{app:t,device:n},formData:r,mediaType:"multipart/form-data"})}},{key:"getContact",value:function(e){var t=e.contactId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/{contactId}",path:{contactId:t}})}},{key:"updateContact",value:function(e){var t=e.contactId,n=e.requestBody;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/crm/contact/{contactId}",path:{contactId:t},body:n,mediaType:"application/json"})}},{key:"deleteContact",value:function(e){var t=e.contactId;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/{contactId}",path:{contactId:t}})}},{key:"getContactWithQuery",value:function(e){var t=e.query;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/brief/contact",query:{query:t}})}},{key:"createCaseActivity",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/activity",body:t,mediaType:"application/json"})}},{key:"getContactListWithQuery",value:function(e){var t=e.query,n=e.lang;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact",query:{query:t,lang:n}})}},{key:"createContact",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact",body:t,mediaType:"application/json"})}},{key:"getContactList",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/find/contact",body:t,mediaType:"application/json"})}},{key:"getContactActivity",value:function(e){var t=e.contactId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/activity",path:{contactId:t}})}},{key:"getContactPage",value:function(e){var t=e.contactId;return mc(Ys,{method:"GET",url:"/agentdesktop/contact/id/{contactId}/details",path:{contactId:t}})}},{key:"getContactPictureUrl",value:function(e){var t=e.contactId,n=e.occurance,r=e.token,a=e.user,o=e.tenant,i=e.tmp;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/{occurance}",path:{contactId:t,occurance:n},query:{token:r,user:a,tenant:o,tmp:i}})}},{key:"getContactValues",value:function(e){var t=e.id,n=e.type;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/form/contactValues",query:{id:t,type:n}})}},{key:"getContactListWithParams",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/contact_list",body:t,mediaType:"application/json"})}},{key:"getContactActivityHistoryWithParams",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/getActivityHistory",body:t,mediaType:"application/json"})}},{key:"identifyContactByPhone",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/identifyContactByPhone",body:t,mediaType:"application/json"})}},{key:"createContactPhone",value:function(e){var t=e.contactId,n=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/phone",path:{contactId:t},body:n,mediaType:"application/json"})}},{key:"getContactListByEmail",value:function(e){var t=e.query;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/contact/email",query:{query:t}})}},{key:"createContactEmail",value:function(e){var t=e.contactId,n=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/contact/{contactId}/email",path:{contactId:t},body:n,mediaType:"application/json"})}},{key:"createCompany",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/crm/company",body:t,mediaType:"application/json"})}},{key:"updateContactDetails",value:function(e){var t=e.companyId,n=e.requestBody;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/crm/company/{companyId}",path:{companyId:t},body:n,mediaType:"application/json"})}},{key:"getCase",value:function(e){var t=e.caseId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}",path:{caseId:t}})}},{key:"updateCase",value:function(e){var t=e.caseId,n=e.requestBody;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/crm/case/{caseId}",path:{caseId:t},body:n,mediaType:"application/json"})}},{key:"getCaseReporter",value:function(e){var t=e.caseId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}/reporter",path:{caseId:t}})}},{key:"getCaseAssignments",value:function(e){var t=e.caseId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}/assignments",path:{caseId:t}})}},{key:"pinCase",value:function(e){var t=e.caseId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",path:{caseId:t}})}},{key:"unpinCase",value:function(e){var t=e.caseId;return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",path:{caseId:t}})}},{key:"getCaseList",value:function(e){var t=e.query,n=e.lang,r=e.statuses,a=e.service,o=e.sortBy,i=e.asc,s=e.team;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/case",query:{query:t,statuses:r,service:a,lang:n,sortBy:o,asc:i,team:s}})}},{key:"createCalendarEvent",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/calendar/items",body:t,mediaType:"application/json"})}},{key:"getCalendarAgenda",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/calendar/agenda"})}},{key:"getCalendarEventDetails",value:function(e){var t=e.calendarEventId;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",path:{calendarEventId:t}})}},{key:"deleteCalendarEvent",value:function(e){var t=e.calendarEventId;return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",path:{calendarEventId:t}})}},{key:"completeCalendarEvent",value:function(e){var t=e.calendarEventId;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/complete",path:{calendarEventId:t}})}},{key:"snoozeCalendarEvent",value:function(e){var t=e.calendarEventId;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/snooze",path:{calendarEventId:t}})}},{key:"moveCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/calendar/itemStart/{calendarEventId}",path:{calendarEventId:t},query:{delta:n}})}},{key:"stretchCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return mc(Ys,{method:"PUT",url:"/agentdesktop/ws/ad/calendar/itemEnd/{calendarEventId}",path:{calendarEventId:t},query:{delta:n}})}},{key:"assignCalendarEvent",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/calendar/assignEvent",body:t,mediaType:"application/json"})}},{key:"getEventsByTimeFrame",value:function(e){var t=e.start,n=e.end,r=e.timezone,a=e.user;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/calendar/eventsByTimeFrame",query:{start:t,end:n,user:a,timezone:r}})}},{key:"checkSessionToken",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/auth/proxy/login"})}},{key:"login",value:function(e){var t=e.formData,n=e.userAgent;return mc(Ys,{method:"POST",url:"/agentdesktop/auth/proxy/login",headers:{"User-Agent":n},formData:t,mediaType:"multipart/form-data"})}},{key:"checkSessionTokenWithSso",value:function(e){var t=e.app,n=e.path,r=e.params,a=e.sso;return mc(Ys,{method:"GET",url:"/agentdesktop/auth/proxy/login2",query:{app:t,path:n,params:r,sso:a}})}},{key:"changePassword",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/config/changeADPassword",body:t,mediaType:"application/json"})}},{key:"logout",value:function(e){var t=e.keepSession;return mc(Ys,{method:"GET",url:"/agentdesktop/auth/proxy/logout",query:{keepSession:t}})}},{key:"resetPassword",value:function(e){var t=e.user,n=e.tenant;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/config/resetADPassword",query:{user:t,tenant:n}})}},{key:"getPasswordConfig",value:function(e){var t=e.tenantUrl;return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/validatep/runtimeConfig",query:{tenantUrl:t}})}},{key:"validatePassword",value:function(e){var t=e.type,n=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/validatep/{type}",path:{type:t},body:n,mediaType:"application/json"})}},{key:"checkIfTenantExists",value:function(){return mc(Ys,{method:"GET",url:"/statsapi/info/tenant_exists"})}},{key:"getMsTeamsLoginUrl",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/msteams/authorize"})}},{key:"getMsTeamsRefreshToken",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/msteams/authorize",body:t,mediaType:"application/json"})}},{key:"checkMsTeamsAuthStatus",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/msteams/status"})}},{key:"completeMsTeamsAuth",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/msteams/status",body:t,mediaType:"application/json"})}},{key:"getMsTeamsLogoutUrl",value:function(){return mc(Ys,{method:"DELETE",url:"/agentdesktop/ws/ad/msteams/status"})}},{key:"getPersonalQueueHighlightedCount",value:function(){return mc(Ys,{method:"GET",url:"/agentdesktop/ws/ad/crm/getPersonalQueueHighlightedCount"})}},{key:"adminLogoutHelper",value:function(){return mc(Ys,{method:"GET",url:"/admin/misc/logoutHelper"})}},{key:"getSupervisedQualityScore",value:function(e){var t=e.fromTime,n=e.supervisorId,r=e.token;return mc(Ys,{method:"GET",url:"/admin/rest/evaluation/quality-score-supervised",query:{fromTime:t,supervisorId:n,token:r}})}},{key:"requestDirectChatInvitationLink",value:function(e){var t=e.requestBody;return mc(Ys,{method:"POST",url:"/agentdesktop/ws/ad/clientweb/dc",body:t,mediaType:"application/json",errors:{403:"User is not granted the  the Create personal chat invitation links privilege",503:"No more PINS available (there are 999999 not expired PINs already)"}})}}],(n=null)&&gc(t.prototype,n),r&&gc(t,r),e}(),yc=function(e){return void 0!==e&&Ys.BASE!==e&&(Ys.BASE=e),hc};var vc={adminLogoutHelper:"/admin/misc/logoutHelper",assignCalendarEvent:"/agentdesktop/ws/ad/calendar/assignEvent",changePassword:"/agentdesktop/ws/ad/config/changeADPassword",checkIfNeedRenderReportProblemButton:"/agentdesktop/ws/ad/location/problems",checkIfRescueIsEnabled:"/agentdesktop/ws/ad/LogMeIn/isEnabled",checkIfTenantExists:"/statsapi/info/tenant_exists",checkMsTeamsAuthStatus:"/agentdesktop/ws/ad/msteams/status",checkSessionToken:"/agentdesktop/auth/proxy/login",checkSessionTokenWithSSO:"/agentdesktop/auth/proxy/login2",completeCalendarEvent:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/complete",completeMsTeamsAuth:"/agentdesktop/ws/ad/msteams/status",createCalendarEvent:"/agentdesktop/ws/ad/calendar/items",createCaseActivity:"/agentdesktop/ws/ad/crm/activity",createCompany:"/agentdesktop/ws/ad/crm/company",createContact:"/agentdesktop/ws/ad/crm/contact",createContactEmail:"/agentdesktop/ws/ad/crm/contact/{contactId}/email",createContactPhone:"/agentdesktop/ws/ad/crm/contact/{contactId}/phone",createKBArticle:"/agentdesktop/ws/ad/kb/article",createKBFolder:"/agentdesktop/ws/ad/kb/folder",createPredefinedChatMessage:"/agentdesktop/ws/ad/cr/response",deleteCalendarEvent:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",deleteContact:"/agentdesktop/ws/ad/crm/contact/{contactId}",deleteContactPhoto:"/agentdesktop/ws/ad/crm/contact/{contactId}/photo",deleteKBArticle:"/agentdesktop/ws/ad/kb/article/{articleId}",deleteKBFolder:"/agentdesktop/ws/ad/kb/folder/{directoryId}",deletePredefinedChatMessage:"/agentdesktop/ws/ad/cr/response/{messageId}",getActivity:"/agentdesktop/ws/ad/crm/{transcriptType}/{activityId}",getActivityFormValues:"/agentdesktop/ws/ad/form/values",getAppInfo:"/agentdesktop/app-info",getAudio:"/agentdesktop/agentdesktop/playPrompt",getAudioNotification:"/agentdesktop/getaudio",getCalendarAgenda:"/agentdesktop/ws/ad/calendar/agenda",getCalendarEventDetails:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}",getCase:"/agentdesktop/ws/ad/crm/case/{caseId}",getCaseAssignments:"/agentdesktop/ws/ad/crm/case/{caseId}/assignments",getCaseList:"/agentdesktop/ws/ad/crm/case",getCaseReporter:"/agentdesktop/ws/ad/crm/case/{caseId}/reporter",getChatAttachmentDownload:"/agentdesktop/agentdesktop/chatAttachmentDownload",getChatTranscript:"/agentdesktop/ws/ad/crm/chat_transcript/{globalInteractionId}",getContact:"/agentdesktop/ws/ad/crm/contact/{contactId}",getContactActivity:"/agentdesktop/ws/ad/crm/contact/{contactId}/activity",getContactActivityHistoryWithParams:"/agentdesktop/ws/ad/crm/contact/getActivityHistory",getContactFormDefinition:"/agentdesktop/ws/ad/form/contactFormDefinition",getContactList:"/agentdesktop/ws/ad/crm/find/contact",getContactListByEmail:"/agentdesktop/ws/ad/crm/contact/email",getContactListWithParams:"/agentdesktop/ws/ad/crm/contact/contact_list",getContactListWithQuery:"/agentdesktop/ws/ad/crm/contact",getContactPage:"/agentdesktop/contact/id/{contactId}/details",getContactPictureUrl:"/agentdesktop/ws/ad/crm/contact/{contactId}/{occurance}",getContactValues:"/agentdesktop/ws/ad/form/contactValues",getContactWithQuery:"/agentdesktop/ws/ad/crm/brief/contact",getEmail:"/agentdesktop/ws/ad/email/message/{emailId}",getEventsByTimeFrame:"/agentdesktop/ws/ad/calendar/eventsByTimeFrame",getFileInfo:"/agentdesktop/ws/ad/fileInfo/{fileId}",getFormDefinition:"/agentdesktop/ws/ad/form/formDefinition",getGreeting:"/agentdesktop/ws/ad/cr/greeting",getHelp:"/agentdesktop/ws/ad/help",getImageById:"/agentdesktop/images/{imageId}",getKBArticle:"/agentdesktop/ws/ad/kb/article/{articleId}",getKBArticles:"/agentdesktop/ws/ad/kb/articleList",getKBFolder:"/agentdesktop/ws/ad/kb/folder/{directoryId}",getKBLanguages:"/agentdesktop/ws/ad/kb/getLanguages",getKBRootFolder:"/agentdesktop/ws/ad/kb/folder",getLicensePage:"/agentdesktop/agentdesktop/license",getLocalizedMessages:"/agentdesktop/agentdesktop/servlet/messages.json",getMsTeamsLoginUrl:"/agentdesktop/ws/ad/msteams/authorize",getMsTeamsLogoutUrl:"/agentdesktop/ws/ad/msteams/status",getMsTeamsRefreshToken:"/agentdesktop/ws/ad/msteams/authorize",getPasswordConfig:"/agentdesktop/ws/ad/validatep/runtimeConfig",getPersonalQueue:"/agentdesktop/ws/ad/crm/getPersonalQueue",getPersonalQueueHighlightedCount:"/agentdesktop/ws/ad/crm/getPersonalQueueHighlightedCount",getPinnedCases:"/agentdesktop/ws/ad/crm/followUpQueue",getPredefinedChatMessages:"/agentdesktop/ws/ad/cr/response",getQueueCount:"/agentdesktop/ws/ad/crm/getQueueCount",getQueueCountByService:"/agentdesktop/ws/ad/crm/getQueueCountByService",getRecording:"/agentdesktop/agentdesktop/playRecording",getRescueNodeId:"/agentdesktop/ws/ad/LogMeIn/getUserNodeId",getRescuePinCode:"/agentdesktop/ws/ad/LogMeIn/requestPinCode",getRtcConfig:"/agentdesktop/ws/ad/getWebRtcCfg",getServerAddressList:"/agentdesktop/ws/ad/location/servers",getServerVersion:"/agentdesktop/ws/ad/version",getSupervisedQualityScore:"/admin/rest/evaluation/quality-score-supervised",getTeamQueue:"/agentdesktop/ws/ad/crm/getTeamQueue",getUnreadPersonalMessages:"/agentdesktop/ws/ad/unreadPersonalMessages/messages",getUnreadPersonalMessagesForUser:"/agentdesktop/ws/ad/unreadPersonalMessages/messagesForUser",getUserPictureUrl:"/agentdesktop/agentdesktop/userIconDownload",identifyContactByPhone:"/agentdesktop/ws/ad/crm/contact/identifyContactByPhone",incrementKBInsertionCount:"/agentdesktop/ws/ad/kb/incrementInsertionCount/{articleId}",login:"/agentdesktop/auth/proxy/login",logout:"/agentdesktop/auth/proxy/logout",markPersonalMessagesAsRead:"/agentdesktop/ws/ad/unreadPersonalMessages/markRead/",maskChatHistoryMessage:"/agentdesktop/ws/ad/chats/contentMask",mediaFileUpload:"/agentdesktop/agentdesktop/mediaFileUpload",moveCalendarEvent:"/agentdesktop/ws/ad/calendar/itemStart/{calendarEventId}",msteamsIconDownload:"/agentdesktop/agentdesktop/msteamsIconDownload",pinCase:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",requestDirectChatInvitationLink:"/agentdesktop/ws/ad/clientweb/dc",resetPassword:"/agentdesktop/ws/ad/config/resetADPassword",saveEmailDraft:"/agentdesktop/ws/ad/email/saveDraft",searchTextInKB:"/agentdesktop/ws/ad/kb/search",sendActivityFormValues:"/agentdesktop/ws/ad/form/values",snoozeCalendarEvent:"/agentdesktop/ws/ad/calendar/items/{calendarEventId}/snooze",stretchCalendarEvent:"/agentdesktop/ws/ad/calendar/itemEnd/{calendarEventId}",undefined:"responses",unpinCase:"/agentdesktop/ws/ad/crm/case/{caseId}/followUpQueue",updateCase:"/agentdesktop/ws/ad/crm/case/{caseId}",updateContact:"/agentdesktop/ws/ad/crm/contact/{contactId}",updateContactDetails:"/agentdesktop/ws/ad/crm/company/{companyId}",updateKBArticle:"/agentdesktop/ws/ad/kb/article/{articleId}",updatePredefinedChatMessage:"/agentdesktop/ws/ad/cr/response",uploadChatFile:"/agentdesktop/agentdesktop/chatAttachmentUpload",uploadContactPicture:"/agentdesktop/agentdesktop/contactPhotoUpload",uploadEmailAttachment:"/agentdesktop/agentdesktop/attachmentUpload",uploadFile:"/agentdesktop/agentdesktop/{type}",uploadLogs:"/agentdesktop/agentdesktop/logsUpload",validatePassword:"/agentdesktop/ws/ad/validatep/{type}"},bc=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(String(e[t])))})).join("&")};function Cc(e,t){return"".concat(e,"/admin/?interactionId=").concat(t)}function Sc(e,t){return"".concat(e,"/agentdesktop").concat(t)}function wc(e){var t=e.serverOrigin,n=e.tenantId;return yc(t).checkIfNeedRenderReportProblemButton({tenantUrl:n})}function Ic(e){return yc(e).getServerVersion()}function Oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ac(e)}function Pc(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Oc(e):t;var n}function kc(e,t){return kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kc(e,t)}function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ac(e);if(t){var a=Ac(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pc(this,n)}}var Nc=v.withPrefix("@APP-CFG"),Mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}(o,e);var t,n,r,a=Rc(o);function o(){var e;return Tc(this,o),Dc(Oc(e=a.apply(this,arguments)),"onAgentWelcome",(function(){e.checkIfServerVersionIsOutdated(),e.getAppConfig()})),Dc(Oc(e),"getAppConfig",(function(){e.transport.dispatch.application_config().then((function(t){var n=t.error,r=t.result;if(!(null==n?void 0:n.message)&&r){var a=function(e){var t=e[0];if(!t)throw Error("No config returned from agent_query.application_config()");return{acdState:t.acd_state,reason:t.reason,primaryMetric:t.primary_metric,secondaryMetric:t.secondary_metric,agentDailyBreakTime:parseInt(t.agent_daily_break_time),agentStates:Ie(t.agents_states),autoCreateContact:Ie(t.auto_create_contact),autoPinCase:Ie(t.auto_pin_case),crmWidgetUseCrmKB:Ie(t.crm_widget_use_crm_kb),crmWidgetUseInternalKB:Ie(t.crm_widget_use_internal_kb),outboundCallServiceRequired:Ie(t.outbound_call_service_required),resetServiceForOutboundCalls:Ie(t.reset_service_for_outbound_calls),resolveOnFinalDisposition:Ie(t.resolve_on_final_disposition),searchWithoutQuery:Ie(t.search_without_query),useAugmentation:Ie(t.use_augmentation),enableSmsCharacterCount:Ie(t.enable_sms_character_count)}}(r);e.updateState(a)}else Nc.error(null==n?void 0:n.message)})).catch((function(e){Nc.error(z(e))}))})),Dc(Oc(e),"checkWhetherToRenderReportProblemButton",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;return t?wc({serverOrigin:n,tenantId:t}).then((function(t){e.updateState({renderReportProblemButton:t})})).catch((function(e){return Nc.error(z(e))})):Promise.reject("No tenant Id is passed to fetchRenderReportProblemButtonBoolean()")})),Dc(Oc(e),"checkIfServerVersionIsOutdated",(function(){s.isBranded?Ic(e.sessionConnector.getStateData().serverOrigin).then((function(t){var n=s.compareVersions(s.build,t.version)<0;e.updateState({isClientOutdated:n,serverVersion:t.version,serverComments:t.comments}),n&&Nc.warn("Client app is outdated")})).catch((function(e){return Nc.error(z(e))})):e.updateState({isClientOutdated:!1})})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({getAppConfig:this.getAppConfig,checkWhetherToRenderReportProblemButton:this.checkWhetherToRenderReportProblemButton}))}}])&&Ec(t.prototype,n),r&&Ec(t,r),o}(Ts.createBaseStateClass({name:"appConfigState",controlEvents:r,trackerEvents:t,options:{synchronized:!0},dependencies:["transport","sessionConnector"],getInitialState:function(){return{acdState:"",reason:"",primaryMetric:"",secondaryMetric:"",agentDailyBreakTime:0,agentStates:!1,autoCreateContact:!1,autoPinCase:!1,crmWidgetUseCrmKB:!1,crmWidgetUseInternalKB:!1,outboundCallServiceRequired:!1,resetServiceForOutboundCalls:!1,resolveOnFinalDisposition:!1,searchWithoutQuery:!1,useAugmentation:!1,enableSmsCharacterCount:!1}}}));function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xc(e,t,n[t])}))}return e}function $c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var Kc=function(){function e(t,n){var r=this,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xc(this,"roleManager",void 0),xc(this,"tabsConnector",void 0),xc(this,"currentTabData",void 0),xc(this,"subscriptions",void 0),xc(this,"updateCurrentTabState",void 0),xc(this,"onTabRoleChanged",void 0),xc(this,"onFreeze",void 0),xc(this,"onResume",void 0),xc(this,"onUnload",void 0),xc(this,"onPageHide",void 0),xc(this,"onVisibilityChange",void 0),xc(this,"setIntegrationApiActive",void 0),xc(this,"activateTab",void 0),this.roleManager=n,this.tabsConnector=void 0,this.subscriptions=[],this.updateCurrentTabState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof document&&a.tabsConnector){var t=Lc($c(Lc({},a.currentTabData),{visible:!document.hidden,role:a.roleManager.getRole()}),e);fa(a.currentTabData,t)||(a.tabsConnector.dispatch.updateTabState(Go,t),a.currentTabData=t)}},this.onTabRoleChanged=function(){r.updateCurrentTabState()},this.onFreeze=function(){r.updateCurrentTabState({frozen:!0})},this.onResume=function(){r.updateCurrentTabState({frozen:!1})},this.onUnload=function(){v.info("@TABS drop tab",Go),Ta(r.tabsConnector),r.tabsConnector.dispatch.dropTab(Go)},this.onPageHide=function(e){e.persisted?r.onFreeze():r.onUnload()},this.onVisibilityChange=function(){"visible"===document.visibilityState?r.activateTab():r.updateCurrentTabState()},this.setIntegrationApiActive=function(e){r.updateCurrentTabState({activeApi:e})},this.activateTab=function(){r.updateCurrentTabState({latestActivationTimestamp:Date.now()})},this.currentTabData={id:Go,app:t,boss:!1,activeApi:!1,latestActivationTimestamp:0,role:"undecided",visible:!1,data:void 0},this.updateCurrentTabState(),"undefined"!=typeof window&&window.addEventListener&&(this.roleManager.onRoleChanged(this.onTabRoleChanged),window.addEventListener("freeze",this.onFreeze,!0),window.addEventListener("resume",this.onResume,!0),window.addEventListener("beforeunload",this.onUnload,!0),window.addEventListener("pagehide",this.onPageHide,!0),window.addEventListener("pageshow",this.onResume,!0),window.addEventListener("visibilitychange",this.onVisibilityChange,!0),window.addEventListener("focus",this.activateTab,!0)),this.subscriptions.push({unsubscribe:function(){"undefined"!=typeof window&&window.removeEventListener&&(r.roleManager.removeRoleChangedListener(r.onTabRoleChanged),window.removeEventListener("freeze",r.onFreeze,!0),window.removeEventListener("resume",r.onResume,!0),window.removeEventListener("unload",r.onUnload,!0),window.removeEventListener("pagehide",r.onPageHide,!0),window.removeEventListener("pageshow",r.onResume,!0),window.removeEventListener("visibilitychange",r.onVisibilityChange,!0),window.removeEventListener("focus",r.activateTab,!0))}})}var t,n,r;return t=e,n=[{key:"injectTabsStateConnector",value:function(e){var t=this;this.cleanup(),this.tabsConnector=e,this.subscriptions.push(e.dispenser.subscribe({onInitialState:function(e){e.tabs[Go]||(t.currentTabData=$c(Lc({},t.currentTabData),{visible:!document.hidden,role:t.roleManager.getRole()}),Ta(t.tabsConnector),t.tabsConnector.dispatch.updateTabState(Go,t.currentTabData)),Go in e.tabs&&(t.currentTabData=e.tabs[Go])},onCollectTabsInfo:this.updateCurrentTabState}))}},{key:"get",value:function(){return this.currentTabData}},{key:"cleanup",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}],n&&jc(t.prototype,n),r&&jc(t,r),e}();var Fc={onInitialState:{parameters:[]},onChange:{parameters:[]}},Uc={setOffline:{parameters:[]},setShowOfflineAlert:{parameters:[]},handleWithOfflineAlertClick:{parameters:[]}};function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zc(e,t,n){return zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wc(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},zc(e,t,n||e)}function Wc(e){return Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wc(e)}function Vc(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?qc(e):t;var n}function Yc(e,t){return Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yc(e,t)}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wc(e);if(t){var a=Wc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vc(this,n)}}var Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}(o,e);var t,n,r,a=Qc(o);function o(){var e;return Bc(this,o),Hc(qc(e=a.apply(this,arguments)),"executeOfflineTimer",void 0),Hc(qc(e),"onTabRoleChanged",(function(t){e.setOffline("follower_lost_master"===t)})),Hc(qc(e),"handleWithOfflineAlertClick",(function(t){e.stateData.isOffline&&(t.stopPropagation(),t.preventDefault(),e.setShowOfflineAlert(!0))})),Hc(qc(e),"setShowOfflineAlert",(function(t){e.updateState(Ot((function(e){e.showOfflineAlert=t})))})),Hc(qc(e),"setOffline",(function(t){e.updateState(Ot((function(e){e.isOffline=t})))})),Hc(qc(e),"onWsReconnecting",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return e.executeOfflineTimer&&clearTimeout(e.executeOfflineTimer),e.executeOfflineTimer=void 0,void e.setOffline(!1);e.executeOfflineTimer||(e.executeOfflineTimer=setTimeout((function(){e.setOffline(!0),e.executeOfflineTimer=void 0}),1e3))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({setShowOfflineAlert:this.setShowOfflineAlert,handleWithOfflineAlertClick:this.handleWithOfflineAlertClick,setOffline:this.setOffline}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){var n=t.wsIsReconnecting;e.onWsReconnecting(n)},onChange:function(t){var n=t.wsIsReconnecting;e.onWsReconnecting(n)}})),this.roleManager.onRoleChanged(this.onTabRoleChanged)}},{key:"cleanup",value:function(){zc(Wc(o.prototype),"cleanup",this).call(this),clearTimeout(this.executeOfflineTimer),this.roleManager.removeRoleChangedListener(this.onTabRoleChanged)}},{key:"resetState",value:function(){zc(Wc(o.prototype),"resetState",this).call(this),clearTimeout(this.executeOfflineTimer)}}])&&Gc(t.prototype,n),r&&Gc(t,r),o}(Ts.createBaseStateClass({name:"offlineState",controlEvents:Uc,trackerEvents:Fc,getInitialState:function(){return{isOffline:!1,showOfflineAlert:!1}},options:{},dependencies:["sessionConnector","roleManager"]})),Xc={onInitialState:{parameters:[]},onChange:{parameters:[]}},Zc={validatePassword:{parameters:[]},resetValidation:{parameters:[]}};function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},au(e)}function ou(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?eu(e):t;var n}function iu(e,t){return iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},iu(e,t)}function su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=au(e);if(t){var a=au(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ou(this,n)}}var cu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iu(e,t)}(o,e);var t,n,r,a=su(o);function o(){var e;return tu(this,o),ru(eu(e=a.apply(this,arguments)),"validatePassword",(function(t,n){var r=e.sessionConnector.getStateData(),a=r.domain,o=r.loginId,i=r.serverOrigin;if(o&&a){var s=n?"checkCurrentForLoginId":"validateForLoginId";e.produceState((function(e){n?e.oldPassword={pending:!0}:e.newPassword={pending:!0}})),t&&yc(i).validatePassword({type:s,requestBody:{loginId:o,password:t,tenantUrl:a}}).then((function(t){if(t){var r=t.value,a=t.valid;if(n)e.produceState((function(e){e.oldPassword={isValid:a,pending:!1}}));else{var o=JSON.parse(r);e.produceState((function(e){e.newPassword={isValid:a,errors:o,pending:!1}}))}}}))}})),ru(eu(e),"resetValidation",(function(t){e.produceState((function(e){["old","both"].includes(t)&&(e.oldPassword=void 0),["new","both"].includes(t)&&(e.newPassword=void 0)}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({validatePassword:this.validatePassword,resetValidation:this.resetValidation}))}}])&&nu(t.prototype,n),r&&nu(t,r),o}(Ts.createBaseStateClass({name:"passwordValidationState",controlEvents:Zc,trackerEvents:Xc,options:{synchronized:!0},getInitialState:function(){return{}},dependencies:["sessionConnector"]})),uu=function(){return{serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"}};var lu="4",du="12",fu="13";function _u(e){return"take_screenpop"==e.message_type}function pu(e){return"send_screenpop"==e.message_type}function mu(e){return"transfer_data"==e.message_type}function gu(e){return"agent_feature_item_event"==e.message_type}var hu={forced_logout_by_another_session:"1",not_enough_privileges:"2",invalid_message_received:"3",phone_in_dial_plan_not_registered:"4",phone_not_in_dial_plan:"5",not_enough_privileges_for_chat:"6",forced_logout_by_supervisor:"7",forced_logout_by_disabling_tenant:"8",phone_not_registered:"9",destination_user_not_logged_in:"10",forced_logout_by_disabling_user:"11",already_has_active_session:"12",duplicate_subscription:"13"};function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vu(e,t,n[t])}))}return e}var Cu=3e3;function Su(e){return"realConnector"in(t=e)&&"proxyConnector"in t?e.realConnector:e;var t}var wu=v.withPrefix("@SYNC"),Iu=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vu(this,"role","undecided"),vu(this,"sessionStateConnector",void 0),vu(this,"sessionData",{serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"}),vu(this,"invalidateRoleHandlers",[]),vu(this,"roleChangedListeners",[]),vu(this,"failedLifeChecks",0),vu(this,"failedHandshakeMaster",0),vu(this,"handshakeInProcess",!1),vu(this,"nextLifeCheckTimerId",null),vu(this,"lifeCheckSubscription",null),vu(this,"sessionStateResolvers",[]),vu(this,"communicationChannelStateHost",void 0),vu(this,"communicationChannelStateListener",void 0),vu(this,"subscriptions",[]),vu(this,"realSessionStateSubscription",null),vu(this,"onStorage",(function(e){if(e.key===Ho){var n=t.getRole();"undecided"===n?t.resolveMyRole():"master"===n&&e.newValue!==Go?wu.warn("Master conflict!"):"follower"===n&&t.invalidateRole()}})),this.communicationChannelStateHost=mi("state-host"),this.communicationChannelStateListener=mi("state-listener"),wu.info("Create role manager"),this.subscriptions.push({unsubscribe:function(){t.stopPollingMasterLifeCheck(),t.stopAnsweringMasterLifeCheck()}}),this.onRoleChanged((function(e){"follower"===e&&t.startPollingMasterLifeCheck(),"master"===e?(t.stopPollingMasterLifeCheck(),t.startAnsweringMasterLifeCheck()):t.stopAnsweringMasterLifeCheck(),t.tryToSubscribeForRealSessionState()})),this.resolveMyRole(),this.subscribeOnMasterChange()}var t,n,r;return t=e,n=[{key:"injectSessionStateConnector",value:function(e){this.sessionStateConnector=e,this.tryToSubscribeForRealSessionState(),this.sessionStateResolvers.forEach((function(e){return e()})),this.sessionStateResolvers.splice(0,this.sessionStateResolvers.length)}},{key:"waitForSessionConnector",value:function(){var e=this;return this.sessionStateConnector?Promise.resolve():new Promise((function(t){e.sessionStateResolvers.push(t)}))}},{key:"tryToSubscribeForRealSessionState",value:function(){var e=this;Ta(this.sessionStateConnector);var t=Su(this.sessionStateConnector);t&&!this.realSessionStateSubscription&&(wu.info("Real session state detected: subscribe"),this.realSessionStateSubscription=t.dispenser.subscribe({onInitialState:function(t){e.sessionData=bu({},t)},onChange:function(t){var n=bu({},e.sessionData),r=bu({},e.sessionData,t);e.sessionData=r,n.isAuthorizing&&!r.isAuthorizing&&(!n.isLoggedIn&&r.isLoggedIn?(wu.info("successful login, become master"),localStorage.setItem(Ho,Go),e.setRole("master"),e.failedHandshakeMaster=0,e.failedLifeChecks=0):!n.isLoggedInOnOtherTab&&r.isLoggedInOnOtherTab&&(wu.info("login failed: this session is logged in on different tab, resolve master"),e.resolveMyRole())),r.loginError&&r.loginError!==n.loginError&&wu.info("login error:",r.loginError)},onDisconnect:function(t){wu.warn("disconnect: code",t),t===hu.forced_logout_by_another_session?(wu.warn("disconnect: forced logout by another session"),e.resolveMyRole()):t===hu.already_has_active_session&&(wu.warn("disconnect: already has active session"),e.resolveMyRole())}})),!t&&this.realSessionStateSubscription&&(wu.info("Real session state destroyed: unsubscribe"),this.realSessionStateSubscription.unsubscribe(),this.realSessionStateSubscription=null)}},{key:"getRole",value:function(){return this.role}},{key:"onInvalidateRole",value:function(e){this.invalidateRoleHandlers.push(e)}},{key:"removeInvalidateRoleHandler",value:function(e){var t=this.invalidateRoleHandlers.indexOf(e);-1!==t&&this.invalidateRoleHandlers.splice(t,1)}},{key:"onRoleChanged",value:function(e){this.roleChangedListeners.push(e)}},{key:"removeRoleChangedListener",value:function(e){var t=this.roleChangedListeners.indexOf(e);-1!==t&&this.roleChangedListeners.splice(t,1)}},{key:"startAnsweringMasterLifeCheck",value:function(){this.lifeCheckSubscription=this.communicationChannelStateHost.subscribe("__sync__",{lifeCheck:function(){return!0}})}},{key:"stopAnsweringMasterLifeCheck",value:function(){this.lifeCheckSubscription&&(this.lifeCheckSubscription.unsubscribe(),this.lifeCheckSubscription=null)}},{key:"masterLifeCheckIteration",value:function(){var e=this,t=this.getRole();"follower"!==t&&"follower_lost_master"!==t||this.masterLifeCheck().then((function(){return e.failedLifeChecks=0,e.setRole("follower")})).catch((function(){"follower"!==(t=e.getRole())&&"follower_lost_master"!==t||(e.failedLifeChecks++,wu.info("master does not pass life check #".concat(e.failedLifeChecks,"!")),e.setRole("follower_lost_master"),e.failedLifeChecks<2||!e.sessionData.authChecked?e.tryToBecomeMaster():e.forceToBecomeMaster())})).finally((function(){e.nextLifeCheckTimerId=setTimeout((function(){e.masterLifeCheckIteration()}),Cu)}))}},{key:"startPollingMasterLifeCheck",value:function(){var e=this;"undefined"!=typeof localStorage&&"undefined"!=typeof window&&(this.failedLifeChecks=0,null===this.nextLifeCheckTimerId&&(this.nextLifeCheckTimerId=setTimeout((function(){e.masterLifeCheckIteration()}),Cu)))}},{key:"stopPollingMasterLifeCheck",value:function(){null!==this.nextLifeCheckTimerId&&(clearTimeout(this.nextLifeCheckTimerId),this.nextLifeCheckTimerId=null)}},{key:"invalidateRole",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getRole(),t=!0,n=!1,r=void 0;try{for(var a,o=this.invalidateRoleHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;try{i(e,this.role)}catch(s){wu.error("error in invalidate role handler:",s)}}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"setRole",value:function(e){if(e!==this.role){this.invalidateRole(e),wu.info("new role: ".concat(e,", previous: ").concat(this.role));var t=this.role;this.role=e,this.roleChangedListeners.forEach((function(n){try{n(e,t)}catch(r){wu.error("error in role changed listener:",r)}}))}}},{key:"resolveMyRole",value:function(){var e=this,t=localStorage.getItem(Ho);wu.info("resolveMaster: masterId =",null!=t?t:"undefined"),t!==Go?this.handshakeInProcess||(t?(this.handshakeInProcess=!0,this.masterLifeCheck().then((function(){return wu.info("handshake succeeded"),e.failedHandshakeMaster=0,e.handshakeInProcess=!1,e.setRole("follower")})).catch((function(){wu.info("handshake failed"),e.failedHandshakeMaster++,e.failedHandshakeMaster>=2?(wu.warn("Limit of failed attempts to connect to the master reached!"),e.forceToBecomeMaster()):e.tryToBecomeMaster(),e.handshakeInProcess=!1}))):this.waitForSessionConnector().then((function(){e.tryToBecomeMaster()}))):this.waitForSessionConnector().then((function(){e.tryToBecomeMaster()}))}},{key:"masterLifeCheck",value:function(){var e=this,t=Date.now();return new Promise((function(n,r){e.communicationChannelStateListener.sendRequest({scope:"__sync__",event:"lifeCheck",payload:[]},6e3).then((function(){var e=Date.now()-t;e>Cu?wu.warn("Life Check duration = ".concat((e/1e3).toFixed(1),"s "),"MORE THAN expectation timeout = ".concat(3..toFixed(1),"s!")):wu.info("Life Check duration = ".concat((e/1e3).toFixed(1),"s")),n()})).catch(r),setTimeout(r,Cu)}))}},{key:"tryToBecomeMaster",value:function(){if(!this.sessionData.isAuthorizing){wu.info("tryToBecomeMaster"),Ta(this.sessionStateConnector);var e=Su(this.sessionStateConnector);Ra(e),e.dispatch.checkToken(void 0)}}},{key:"forceToBecomeMaster",value:function(){if(!this.sessionData.isAuthorizing){wu.info("forceToBecomeMaster"),Ta(this.sessionStateConnector);var e=Su(this.sessionStateConnector);Ra(e),e.dispatch.forceLogin()}}},{key:"subscribeOnMasterChange",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("storage",this.onStorage),this.subscriptions.push({unsubscribe:function(){"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener("storage",e.onStorage)}})}},{key:"cleanup",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}],n&&yu(t.prototype,n),r&&yu(t,r),e}();const Ou=(e,t={})=>{const n=Boolean(t.sorted),r=Boolean(t.skipIndex),a=Boolean(t.ignorenull),o=e=>String(e).replace(/[^ !'()~\*]/gu,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,(e=>"%"+e.charCodeAt().toString(16).slice(-2).toUpperCase())),i=(e,t=Object.keys(e))=>n?t.sort():t,s=e=>e.filter((e=>e)).join("&"),c=(e,t,n=typeof t,u=null)=>(t===u?u=a?u:o(e)+"="+u:/string|number|boolean/.test(n)?u=o(e)+"="+o(t):Array.isArray(t)?u=((e,t)=>t.length?s(t.map(((t,n)=>c(r?e+"[]":e+"["+n+"]",t)))):o(e+"[]"))(e,t):"object"===n&&(u=((e,t)=>s(i(t).map((n=>c(e+"["+n+"]",t[n])))))(e,t)),u);return e&&s(i(e).map((t=>c(t,e[t]))))};function Tu(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Eu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Tu(o,r,a,i,s,"next",e)}function s(e){Tu(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Du(e,t,n[t])}))}return e}function Pu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ku(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ru(e){var t=e.match(/:[0-9]+$/);return t?e.substring(0,t.index):e}function Nu(e){return e&&e.split("//").pop()}function Mu(e){return Ou(e.domain?Pu(Au({},e),{domain:Ru(e.domain)}):e)}function ju(){"undefined"!=typeof document&&(document.cookie="X-BP-SESSION-ID=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}function xu(e){var t={app:(null==e?void 0:e.origin)||"",path:(null==e?void 0:e.pathname)||"",static:"true",params:e&&e.search.length>0?e.search.substring(1):""};e&&new URLSearchParams(e.search).forEach((function(e,n){t[n]=e}));return t}function Lu(e,t,n,r,a){return $u.apply(this,arguments)}function $u(){return($u=Eu((function(e,t,n,r,a){var o,i,s;return ku(this,(function(c){switch(c.label){case 0:return n.isClientBasedSsoEnabled()?[2,Ku(e,t,n,r)]:[3,1];case 1:return o="".concat(e).concat(vc.checkSessionToken),i={method:"GET"},[4,n.addSessionCookie(i,t)];case 2:return i=c.sent(),[4,fetch(o,Pu(Au({},i),{headers:Au({},i.headers,a?{"User-Agent":a}:{})}))];case 3:return(s=c.sent()).ok?[4,s.json()]:[2,{sso_enabled:!1,error:"Response status code ".concat(s.status),os:"",browser:"",timestamp:Date.now()}];case 4:return[2,Au({sso_enabled:!1},c.sent())];case 5:return[2]}}))}))).apply(this,arguments)}function Ku(e,t,n,r){return Fu.apply(this,arguments)}function Fu(){return(Fu=Eu((function(e,t,n,r){var a,o,i,s,c,u;return ku(this,(function(l){switch(l.label){case 0:return a=new URLSearchParams(xu(r)),o="".concat(e).concat(vc.checkSessionTokenWithSSO,"?").concat(a.toString()),i={method:"GET"},[4,n.addSessionCookie(i,t)];case 1:return i=l.sent(),[4,fetch(o,i)];case 2:return(s=l.sent()).ok?[4,s.json()]:[2,{sso_enabled:!1,error:"Response status code ".concat(s.status),os:"",browser:"",timestamp:Date.now()}];case 3:if((c=l.sent()).sso_redirect_url){u=new URLSearchParams(location.search).get("ssoSideLogin");try{u&&"undefined"!=typeof window?window.open(c.sso_redirect_url,"_blank",""):"undefined"!=typeof location&&location.replace(c.sso_redirect_url)}catch(d){}}return[2,c]}}))}))).apply(this,arguments)}function Uu(e,t,n){return qu.apply(this,arguments)}function qu(){return(qu=Eu((function(e,t,n){var r,a,o,i,s,c,u,l,d;return ku(this,(function(f){switch(f.label){case 0:return r=e.loginId,a=e.password,o=e.domain,i=e.deviceName,s=e.appType,c=e.appVersion,ju(),u="".concat(t).concat(vc.login),l=Mu({domain:Nu(o)||o,username:r,password:a,deviceName:i,appType:s,appVersion:c}),[4,fetch(u,{method:"POST",headers:Au({"Content-Type":"application/x-www-form-urlencoded"},n?{"User-Agent":n}:{}),body:l})];case 1:return(d=f.sent()).ok?[4,d.json()]:[2,{error:"Response status code ".concat(d.status),os:"",browser:"",timestamp:Date.now()}];case 2:return[2,f.sent()]}}))}))).apply(this,arguments)}function Bu(e,t){var n=e.loginId,r=e.domain||Nu(Ru(t));return yc(t).resetPassword({user:n||"",tenant:r||""})}function Gu(e){return yc(e).logout({})}function Hu(e){return zu.apply(this,arguments)}function zu(){return(zu=Eu((function(e){return ku(this,(function(t){return[2,yc(e).getAppInfo().catch((function(){return{}}))]}))}))).apply(this,arguments)}var Wu={SYS_RECEIVE_AUTOMATICALLY_DISTRIBUTED_CALLS:1001,SYS_RECEIVE_CUSTOMER_CHATS:1023,SYS_HANDLE_EMAILS:1037,EDIT_KNOWLEDGE_BASE:1038,SYS_EXTERNAL_CALLS:1043,SYS_LOGIN_TO_AGENT_DESKTOP:1052,SYS_ACCESS_FULL_AD:1056,SYS_USE_RECENT_TAB:1059,SYS_USE_FAVORITES_TAB:1061,SYS_MONITOR_AGENT_SCREEN:1036,SYSTEM_WIDE_SUPERVISOR_ALERT_THRESHOLDS:1021,SYS_LISTEN_TO_CRM_LINKED_RECORDINGS:1057,SYS_FORCE_STATE_OF_OTHER_AGENTS:1003,CAN_SEE_CONTENTS_OF_EMAIL_PUSH_QUEUES:1080,CAN_SEE_ACTIVITIES:1014,CAN_SEE_OWN_ACTIVITIES:1062,LISTEN_ALL_RECORDINGS:1067,LISTEN_RECORDINGS_FOR_SERVICE:1050,GENERATE_VIEW_REPORTS:1019,MANAGE_CANNED_CHAT_RESPONSES:1024,SYS_ALERT_CONFIG:1041,SYS_VIEW_LIST_OF_AGENTS:1002,SYS_MONITOR_INTERACTIONS:1004,EDIT_CONTACTS:1063,DELETE_CONTACTS:1064,SYS_ALL_ASSIGNED_TEAMS_COMBINED_VIEW:1070,SYS_CUSTOMIZE_WALLBOARDS:1073,SYS_VIEW_QUEUE_STATUS:1006,SYS_PUSH_PULL_GLOBAL_WALLBOARDS:1074,SYS_ACCESS_REALTIME_STATSAPI:1054,DOWNLOAD_RECORDINGS:1044,REP_INTERACTION_SEARCH:1017,SYSTEM_WIDE_SUPERVISOR_REAL_TIME_METRICS:1045,SYS_REALTIME_METRICS_CONFIG:1040,SYS_PULL_SCREEN_POP:1005,SYS_USE_AGENT_SEAT_MAPS:1081,SYS_DELETE_CASES:1069,SYS_USE_SUBTEAMS:1072,CAN_START_EXTERNAL_CHAT:1033,CAN_START_INTERNAL_CHAT:1007,CAN_HANDLE_LEADS:1047,CAN_OPERATE_CAMPAIGNS:1027,CAN_VIEW_DIRECTORY:1030,CAN_START_RECORDING:1032,CAN_STOP_RECORDING:1039,CAN_FORCE_POP_PUT_WINDOW:1035,CAN_TRANSFER:1042,CAN_SEE_OTHER_AGENT_CASES:1051,CAN_MASK_INTERACTION_CONTENT:1053,CAN_USE_ZENDESK:1055,CAN_USE_RIGHTNOW:1058,CAN_USE_SERVICENOW:1068,CAN_USE_CALENDAR:1071,SYS_PRIVILEGED_ACCESS_IP_RANGE:1075,CAN_MODIFY_OWN_IDENTIFICATION_DATA:1076,BYPASS_SSO:1095,SYS_USE_REMOTE_ASSIST:1100,DIRECT_CHAT_INVITATION:1113,MANAGE_KNOWLEDGE_BASE_SETTINGS:1123,MANAGE_EVALUATIONS_ACCROSS_TEAMS:1084,DELETE_EVALS_COMPLETED_BY_THEMSELVES:1085,DELETE_EVALS_COMPLETED_BY_ANYONE:1086,SEE_EVALS_OF_SELF:1088,EVALUATE_OWN_INTERACTIONS:1089,CONFIRM_EVALUATIONS_OF_SUPERVISED_AGENTS:1090,CONFIRM_EVALUATIONS_OF_SELF:1091,ASSIGN_EVALUATIONS_AND_CALIBRATIONS:1093,CUSTOMIZE_HOME_PAGE_VIEWS:1124,PUSH_PULL_GLOBAL_HOME_PAGE_VIEWS:1125},Vu=["SYS_MONITOR_AGENT_SCREEN","SYSTEM_WIDE_SUPERVISOR_ALERT_THRESHOLDS","SYS_FORCE_STATE_OF_OTHER_AGENTS","SYS_ALERT_CONFIG","SYS_VIEW_LIST_OF_AGENTS","SYS_MONITOR_INTERACTIONS","SYS_ALL_ASSIGNED_TEAMS_COMBINED_VIEW","SYS_VIEW_QUEUE_STATUS","SYSTEM_WIDE_SUPERVISOR_REAL_TIME_METRICS","SYS_REALTIME_METRICS_CONFIG","SYS_USE_SUBTEAMS"],Yu={onInitialState:{parameters:[]},onChange:{parameters:[]},onLogin:{parameters:[]},onLogout:{parameters:[]},onDisconnect:{parameters:[]},onSetPhoneType:{parameters:[]},onSetPhoneDeviceResultReceived:{parameters:[]},onSetPhoneTypeError:{parameters:[]},onThreePCCServerReady:{parameters:[]},onThreePCCServerGone:{parameters:[]},onAgentWelcomeReceived:{parameters:[]},onAgentStartScreenRecording:{parameters:[]},onAgentStopScreenRecording:{parameters:[]},onServerError:{parameters:[]},onBadCallQualityAlert:{parameters:[]},onPhoneNumberChanged:{parameters:[]},onUpdateCapabilities:{parameters:[]},onEmiAccountChanged:{parameters:[]},onCallWaitingInQueueNotification:{parameters:[]},onBaseConfigReceived:{parameters:[]},onPluginMessageReceived:{parameters:[]}},Qu={login:{parameters:[]},checkToken:{parameters:[]},forceLogin:{parameters:[]},logout:{parameters:[]},rejectForceLogin:{parameters:[]},updatePersonalDetails:{parameters:[]},clearTransportError:{parameters:[]},getPasswordConfig:{parameters:[]},remindPassword:{parameters:[]},cancelRemindPassword:{parameters:[]},changePassword:{parameters:[]},cancelChangePassword:{parameters:[]},submitResetPassword:{parameters:[]},cancelResetPassword:{parameters:[]},startPhoneTypeSelection:{parameters:[]},cancelPhoneTypeSelection:{parameters:[]},submitPhoneTypeSelection:{parameters:[]},sendPhoneTypeSelection:{parameters:[]},sendPhoneDeviceChanged:{parameters:[]},sendSipEndpointStatusChanged:{parameters:[]},sendAgentInfo:{parameters:[]},closeForceLogout:{parameters:[]},validateServerOrigin:{parameters:[]},updateBaseConfig:{parameters:[]},forceReconnect:{parameters:[]},transmitMessageFromPlugin:{parameters:[]},saveMSTeamsUserData:{parameters:[]},tryToDisconnect:{parameters:[]},sendPing:{parameters:[]},saveActiveRoute:{parameters:[]},sendAgentRecordOutOfBandCallAttempt:{parameters:[]}};function Ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Zu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xu(o,r,a,i,s,"next",e)}function s(e){Xu(o,r,a,i,s,"throw",e)}i(void 0)}))}}function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rl(e,t,n){return rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=al(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},rl(e,t,n||e)}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},al(e)}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nl(e,t,n[t])}))}return e}function il(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function sl(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Ju(e):t;var n}function cl(e,t){return cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cl(e,t)}function ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=al(e);if(t){var a=al(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sl(this,n)}}function ll(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var dl="random-string-that-nobody-cares-about",fl="BASE_CFG:0",_l="NAVIGATION_CFG:0",pl="1";function ml(e,t,n){e.dispatchWifiMobEvent(t,n)}var gl=function(e){return["phone_type_external","phone_type_hard_custom","phone_type_microsoft_teams"].includes(e)},hl=function(){return{data_id:(0,C.v4)(),msteams_principal_name:null,msteams_directory_id:null,msteams_client_id:null,auto_play_voice_prompt_id:null,default_email_font_fg_color:null,default_email_font_text:null,default_email_font_name:null,default_email_font_size:0,follow_up_queue_enabled:!0,volume:{SOFTPHONE_RING:-4,EXTERNAL_CHAT_NOTIFICATION:-4,INTERNAL_CHAT_NOTIFICATION:0,NEW_CHAT_MESSAGE_NOTIFICATION:-12},mutes:[]}},yl=v.withPrefix("@SESSION"),vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cl(e,t)}(o,e);var t,n,r,a=ul(o);function o(){var e;el(this,o),nl(Ju(e=a.apply(this,arguments)),"phoneDeviceCapabilitiesPerServer",{}),nl(Ju(e),"awaitingLoginData",void 0),nl(Ju(e),"awaitingReconnectData",void 0),nl(Ju(e),"authRedirectInProgress",void 0),nl(Ju(e),"phoneTypeSelected",void 0),nl(Ju(e),"dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived",void 0),nl(Ju(e),"shouldSendAgentSetPhoneTypeMobile",!1),nl(Ju(e),"pushNotificationCallingSupportedByServer",void 0),nl(Ju(e),"reconnectTimeout",void 0);var t=Ju(e);nl(Ju(e),"checkToken",function(){var e=Zu((function(e){var n,r,a,o,i;return ll(this,(function(s){switch(s.label){case 0:return yl.info("checkToken"),[4,t.localSettings.get("serverOrigin")];case 1:return n=s.sent(),[4,t.localSettings.get("tenantUrl")];case 2:return r=s.sent(),a="mobile"===t.platformSpecific.clientType()?r:r||location.host,"mobile"!==t.platformSpecific.clientType()?[3,4]:[4,t.localSettings.get("sessionId")];case 3:return i=s.sent(),[3,5];case 4:i=!0,s.label=5;case 5:return o=i,a&&o?t.stateData.isLoggedIn||t.awaitingLoginData?[3,7]:[4,t.sendLoginRequest("check_token",{serverOrigin:n,domain:a},e)]:[3,8];case 6:s.sent(),s.label=7;case 7:return[3,9];case 8:t.shouldSendAgentSetPhoneTypeMobile=!0,t.updateState({showLoginDialog:!0}),s.label=9;case 9:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var n=Ju(e);nl(Ju(e),"login",function(){var e=Zu((function(e){return ll(this,(function(t){return n.stateData.isLoggedIn||n.awaitingLoginData||n.sendLoginRequest("auth",e),[2]}))}));return function(t){return e.apply(this,arguments)}}());var r=Ju(e);nl(Ju(e),"forceLogin",Zu((function(){return ll(this,(function(e){switch(e.label){case 0:return yl.info("forceLogin 255",r.stateData),r.stateData.isLoggedIn||r.awaitingLoginData?[3,2]:[4,r.sendLoginRequest("force")];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))),nl(Ju(e),"logout",(function(){e.awaitingReconnectData?e.awaitingReconnectData.logoutRequested=!0:e.stateData.isLoggedIn&&e.stateData.serverOrigin&&(e.resetState(),e.transport.dispatch.logout(),e.setLoggedOut(),Gu(e.stateData.serverOrigin),bl(e.stateData.serverOrigin),e.toClientDispatch.onLogout(),ju())}));var i=Ju(e);nl(Ju(e),"onAuthAccept",function(){var e=Zu((function(e){var t,n,r,a,o,s,c,u,l,d,f,_,p,m,g,h,y,v,b,C,S,w;return ll(this,(function(I){switch(I.label){case 0:if(yl.info("onAuthAccept 442",e),"mobile"===i.platformSpecific.clientType()&&(e.force_full_login===Oe(!1)&&"1"===(null===(t=e.capabilities)||void 0===t?void 0:t.partial_login)&&(i.shouldSendAgentSetPhoneTypeMobile=!1),"1"===e.force_full_login&&(i.shouldSendAgentSetPhoneTypeMobile=!0),"force"==(null===(n=i.awaitingLoginData)||void 0===n?void 0:n.loginType)&&(i.shouldSendAgentSetPhoneTypeMobile=!0),i.pushNotificationCallingSupportedByServer=null!==(a=null===(r=e.capabilities)||void 0===r?void 0:r.push_notification_calling)&&void 0!==a?a:Oe(!1)),void 0!==e.user_id&&(yl.info("onAuthAccept 444",e),i.localSettings.setCurrentUserId(e.user_id)),yl.info("onAuthAccept 448",e.force_full_login,i.awaitingLoginData,i.awaitingReconnectData,i.authRedirectInProgress),!("1"===e.force_full_login||i.awaitingLoginData||i.awaitingReconnectData||i.authRedirectInProgress))return[3,6];i.authRedirectInProgress=!1,yl.info("onAuthAccept 452",i.awaitingLoginData),i.awaitingLoginData?(o=i.awaitingLoginData.domain,i.clearAwaitingLoginData(),i.tweakOldADSharedSession()):(o=i.stateData.domain,delete i.awaitingReconnectData),s=ol({},e.phone_types),c=!0,u=!1,l=void 0;try{for(d=i.platformSpecific.unsupportedPhoneTypes()[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)_=f.value,delete s[_]}catch(wX){u=!0,l=wX}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}return p={serverOrigin:i.platformSpecific.currentServerOrigin(o),isAuthorizing:!1,isLoggedIn:!0,loginId:e.username,userId:e.user_id,wsIsReconnecting:!1,wsDisconnectTime:void 0,wsReconnectAttempts:void 0,domain:o,availablePhoneTypes:s,disableAutoLogoutPrevention:Ie(e.disable_autologout_prevention),authChecked:!0},i.platformSpecific.storeServerOrigin(i.localSettings),i.localSettings.set("tenantUrl",o),i.localSettings.set("loginId",e.username),i.updateState(p),i.transport.dispatch.agent_delete_old_user_data({is_system:Oe(!1),keep_records:"100",type:"RECENT"}),[4,Cl(i.localSettings)];case 1:return m=I.sent(),g=m.phoneType,h=m.phoneNumber,y=m.hardPhoneNumber,v=m.msTeamsPhoneNumber,b=m.externalPhoneNumber,C=g||e.default_phone_type,(S=wl({phoneType:C,phoneNumber:h,hardPhoneNumber:y,externalPhoneNumber:b,msTeamsPhoneNumber:v,availablePhoneTypes:p.availablePhoneTypes}))?(i.updateState({offerPhoneSelection:S}),"mobile"===i.platformSpecific.clientType()&&i.setPhoneType({phoneType:"phone_type_browser"}),[3,5]):[3,2];case 2:return i.phoneTypeSelected=!0,i.updateState({phoneType:C,phoneNumber:h,isLoggedInWithPhoneType:!0}),"mobile"!==i.platformSpecific.clientType()?[3,5]:(console.log("shouldSendAgentSetPhone",i.shouldSendAgentSetPhoneTypeMobile),i.shouldSendAgentSetPhoneTypeMobile?(i.setPhoneType({phoneType:C,phoneNumber:h}),[3,5]):[3,3]);case 3:return"phone_type_browser"!==C?[3,5]:[4,i.localSettings.get("extension")];case 4:w=I.sent(),i.updateState({phoneNumber:w}),I.label=5;case 5:setTimeout((function(){i.toClientDispatch.onLogin(i.stateData)}),10),I.label=6;case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),nl(Ju(e),"onAuthReject",(function(t){var n=t.error_message,r=t.error_code;if(console.log("onAuthReject"),e.toClientDispatch.onServerError("auth",parseInt(r),n),e.awaitingLoginData||e.awaitingReconnectData||e.authRedirectInProgress){e.authRedirectInProgress=!1,e.transport.disconnect();var a=r===du;if(e.awaitingLoginData){var o=r===lu&&"auth"===e.awaitingLoginData.loginType,i=o||a?e.awaitingLoginData.domain:void 0,s=o||a?e.stateData.sessionId:void 0,c=e.filterLoginError({message:n,loginType:e.awaitingLoginData.loginType}),u=!o||a;e.clearAwaitingLoginData();var l=o&&!a;e.updateState({isAuthorizing:!1,sessionId:s,domain:i,loginError:c,offerForceLogin:l,showLoginDialog:u,wsIsReconnecting:!1,wsDisconnectTime:void 0,wsReconnectAttempts:void 0,isLoggedInOnOtherTab:a,authChecked:!0}),u&&(e.shouldSendAgentSetPhoneTypeMobile=!0),l||ju()}else{delete e.awaitingReconnectData;var d=r===lu,f=d&&!a,_=!d||a;e.updateState({isLoggedIn:!1,isLoggedInWithPhoneType:!1,loginError:d?n:void 0,offerForceLogin:f,showLoginDialog:_,wsIsReconnecting:!1,wsDisconnectTime:void 0,wsReconnectAttempts:void 0,isLoggedInOnOtherTab:a}),_&&(e.shouldSendAgentSetPhoneTypeMobile=!0),f||ju()}}r===fu&&"mobile"===e.platformSpecific.clientType()&&e.logout()})),nl(Ju(e),"onAuthRedirect",(function(t){var n=t.server_id;e.authRedirectInProgress=!0,e.transport.disconnect();var r,a=e.stateData.sessionId;r=e.awaitingLoginData?e.awaitingLoginData.domain:e.stateData.domain;var o=e.platformSpecific.currentServerOrigin(r);e.transportConnect({sessionId:a,serverOrigin:o,force:Oe(!1),serverId:n})})),nl(Ju(e),"onLoginError",(function(t){if(e.awaitingLoginData){var n=e.filterLoginError({message:t.message,loginType:e.awaitingLoginData.loginType}),r="must_change_password"===t.message&&"auth"===e.awaitingLoginData.loginType,a=r?e.awaitingLoginData.domain:void 0,o=r?e.awaitingLoginData.loginId:void 0;e.clearAwaitingLoginData(),e.shouldSendAgentSetPhoneTypeMobile=!0,e.updateState({isAuthorizing:!1,sessionId:void 0,pushToken:void 0,firebaseToken:void 0,loginError:n,domain:a,loginId:o,showLoginDialog:!0,authChecked:!0})}})),nl(Ju(e),"onIncomingErrorMessage",(function(t){var n=[hu.forced_logout_by_another_session,hu.forced_logout_by_supervisor,hu.forced_logout_by_disabling_tenant,hu.forced_logout_by_disabling_user],r=t.error_code,a=t.error_message,o=t.firstname,i=t.lastname;if(e.toClientDispatch.onServerError("agentServer",parseInt(r),a),n.indexOf(r)>=0){e.updateState({forceLogoutInfo:{firstName:o,lastName:i,timestamp:String(Date.now()),forceLogoutReason:t.force_logout_reason||"",errorMessage:a,errorCode:r}}),e.transport.dispatch.agent_change_state({acd_state:"not_ready",reason:"logout pending"});var s="unknown error";Object.keys(hu).forEach((function(e){hu[e]===r&&(s=e)})),clearTimeout(e.reconnectTimeout),delete e.awaitingReconnectData,e.transport.disconnect(),e.toClientDispatch.onDisconnect(r),e.toClientDispatch.onLogout(),e.setDisconnected("session was disconnected: ".concat(s))}})),nl(Ju(e),"onAgentWelcome",(function(t){var n,r,a=Il(t.privileges),o=!!a&&Ol(a);if(e.localSettings.set("tenantId",t.tenant_id),e.updateState({nonCallCasesUrls:t.initcasemgmturl?[t.initcasemgmturl]:void 0,firstName:t.firstname,lastName:t.lastname,tenantId:t.tenant_id,teamId:t.team_id,teamName:t.team_name,displayNameFormat:t.display_name_format,licensedTo:t.licensed_to,serverVersion:t.server_version,serverComments:t.server_comments,privileges:a,isAgent:o,isSupervisor:Vu.filter((function(e){return!0===a[e]})).length>0,sipDomain:t.sip_domain,softphonePassword:t.password,reconnectTimeout:parseInt(t.reconnect_timeout)||0,screenSharingEnabled:"1"===t.screen_sharing_enabled,screenRecordingEnabled:"1"===t.screen_recording_enabled,myRemoteIpAddress:t.remote_address,screenRecordingBitrate:parseInt(t.screen_recording_target_bitrate)||512,screenRecordingGrayscale:"1"===t.screen_recording_grayscale,screenRecordingMultiMonitors:t.screen_recording_multi_monitors,disablePluginUpdate:null===(n=t.tenant_options)||void 0===n?void 0:n.disable_plugin_update,country:t.country,redirectMobileEmergencyCallsToNativePhone:"1"===(null===(r=t.tenant_options)||void 0===r?void 0:r.redirect_mobile_emergency_calls_to_native_phone)}),e.checkIsClientAndServerCompatible()){var i=Object.keys(t.audio_notifications).map((function(e){return t.audio_notifications[e]}));e.setAudioNotifications(i),e.transport.dispatch.agent_get_user_data({types:"BASE_CFG",is_system:Oe(!1),request_id:fl}),e.transport.dispatch.agent_get_user_data({types:"NAVIGATION_DATA",is_system:Oe(!1),request_id:_l}),e.getTenantFeatures(),"mobile"!==e.platformSpecific.clientType()&&e.submitPhoneTypeSelection(e.stateData.phoneType?{phoneNumber:e.stateData.phoneNumber,phoneType:e.stateData.phoneType,userId:e.stateData.userId}:void 0),e.toClientDispatch.onAgentWelcomeReceived(t.items)}})),nl(Ju(e),"checkIsClientAndServerCompatible",(function(){if("mobile"!==e.platformSpecific.clientType())return!0;if(pl===Oe(!1))return!0;if(pl===e.pushNotificationCallingSupportedByServer)return!0;return e.updateState({loginError:"incompatible_server_and_client"}),!1})),nl(Ju(e),"getTenantFeatures",(function(){e.transport.dispatch.tenant_features().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){if(n.length&&n[0]){var a={dbname:n[0].dbname,emailMaxSize:n[0].limit_email_message,emailAttachmentMaxSize:n[0].limit_email_file,kbArticleMaxSize:n[0].limit_kb_article,canSeeAllAssignedAgents:"1"===n[0].all_teams,emailEnabled:"1"===n[0].email_enabled,mobileAgentAppLogEnabled:"1"===n[0].mobile_agent_app_log_enabled,qmProEnabled:"1"===n[0].qm_pro_enabled,rtDataEnabled:"1"===n[0].rt_data_in_ad_enabled,surflyCobrowsingEnabled:"1"===n[0].surfly_cobrowsing_enabled,useOutboundDIDEnabled:"1"===n[0].use_outbound_did_enabled,msTeamsIntegrationEnabled:"1"===n[0].microsoft_teams_integration_enabled,nativeRemoteAssistEnabled:"1"===n[0].native_remote_assist_enabled};e.updateState({tenantFeatures:a}),e.dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived&&(e.dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived=!1,e.toClientDispatch.onPhoneNumberChanged({useOutboundDIDEnabled:a.useOutboundDIDEnabled,phoneNumber:e.stateData.phoneNumber}))}}else yl.error(null==r?void 0:r.message)}))})),nl(Ju(e),"setAudioNotifications",(function(t){var n=e.stateData.serverOrigin,r={};t.forEach((function(t){var a=t.type,o=t.audio_id,i=t.audio_version,s=t.audio_periodicity,c="".concat(n).concat(vc.getAudioNotification,"?id=").concat(o);r[a]={type:a,audioId:o,audioVersion:i,audioPeriodicity:parseInt(s),url:"".concat(n).concat(vc.getAudioNotification,"?id=").concat(o)},"mobile"!==e.platformSpecific.clientType()&&e.prefetchLink(c)})),e.updateState({audioNotifications:r})})),nl(Ju(e),"onAgentUserData",(function(t){t.request_id!==fl||0!==Object.keys(t.data).length?t.request_id!==_l||0!==Object.keys(t.data).length?Object.keys(t.data).forEach((function(n){var r=t.data[n];switch(null==r?void 0:r.type){case"BASE_CFG":try{var a=JSON.parse(r.value);e.setBaseConfig(a)}catch(o){yl.error("Unable to parse BASE_CFG")}break;case"NAVIGATION_DATA":try{e.produceState((function(e){e.navigationData=il(ol({},JSON.parse(r.value)),{dataId:r.data_id})}))}catch(o){yl.error("Unable to parse NAVIGATION_DATA")}}})):e.createInitialNavigationData():e.createInitialBaseConfig()})),nl(Ju(e),"createInitialBaseConfig",(function(){var t=hl();e.transport.dispatch.agent_add_user_data({type:"BASE_CFG",data_id:t.data_id,is_system:Oe(!1),value:JSON.stringify(t)}),e.setBaseConfig(t)})),nl(Ju(e),"createInitialNavigationData",(function(){var t=(0,C.v4)();e.transport.dispatch.agent_add_user_data({type:"NAVIGATION_DATA",data_id:t,is_system:Oe(!1),value:JSON.stringify({route:{}})}),e.produceState((function(e){e.navigationData={dataId:t,route:{}}}))})),nl(Ju(e),"setBaseConfig",(function(t){var n={dataId:t.data_id,autoPlayVoicePromptId:t.auto_play_voice_prompt_id,defaultEmailFontFgColor:t.default_email_font_fg_color,defaultEmailFontText:t.default_email_font_text,defaultEmailFontName:t.default_email_font_name,defaultEmailFontSize:t.default_email_font_size,followUpQueueEnabled:t.follow_up_queue_enabled,volume:t.volume,mutes:t.mutes},r=ol({},e.stateData.emi);t.msteams_principal_name&&(r.msteams=il(ol({up:!1},r.msteams),{principalName:t.msteams_principal_name,directoryId:t.msteams_directory_id,clientId:t.msteams_client_id}),e.emiAccountChanged("msteams")),e.toClientDispatch.onBaseConfigReceived(n),e.updateState({baseConfig:n,emi:r})})),nl(Ju(e),"updateBaseConfig",(function(t){var n;if(e.stateData.baseConfig){var r=e.stateData.baseConfig.dataId,a=null===(n=e.stateData.emi)||void 0===n?void 0:n.msteams,o=ol({},e.stateData.baseConfig,t),i={data_id:o.dataId,auto_play_voice_prompt_id:o.autoPlayVoicePromptId,default_email_font_fg_color:o.defaultEmailFontFgColor,default_email_font_text:o.defaultEmailFontText,default_email_font_name:o.defaultEmailFontName,default_email_font_size:o.defaultEmailFontSize,follow_up_queue_enabled:o.followUpQueueEnabled,volume:o.volume,mutes:o.mutes};a&&(i.msteams_principal_name=a.principalName,i.msteams_directory_id=a.directoryId,i.msteams_client_id=a.clientId),e.transport.dispatch.agent_update_user_data({data_id:r,value:JSON.stringify(i),is_system:Oe(!1)}),e.updateState({baseConfig:o})}})),nl(Ju(e),"saveActiveRoute",(function(t){var n,r,a=null===(n=e.stateData.navigationData)||void 0===n?void 0:n.dataId;if(a){var o=e.currentTabDataProvider.get().app;e.produceState((function(e){Ta(e.navigationData),e.navigationData.route[o]=t})),e.transport.dispatch.agent_update_user_data({data_id:a,value:JSON.stringify({route:null===(r=e.stateData.navigationData)||void 0===r?void 0:r.route}),is_system:Oe(!1)})}})),nl(Ju(e),"onThreePccDataCaps",(function(t){var n=t.caps,r=t.sip_processor_id,a={canDial:"true"===n.can_dial,canAnswer:"true"===n.can_answer,canHold:"true"===n.can_hold,canRetrieve:"true"===n.can_retrieve};e.updatePhoneCapabilities(r,a),e.toClientDispatch.onUpdateCapabilities(e.stateData.phoneDeviceCapabilities)})),nl(Ju(e),"onThreePccFailed",(function(t){var n=t.cause,r=t.msg;e.toClientDispatch.onServerError("3pcc",parseInt(n),r)})),nl(Ju(e),"onThreePccAudioQualityAlert",(function(t){var n=t.call_id,r=t.status;e.toClientDispatch.onBadCallQualityAlert(n,"1"===r||"true"===r)})),nl(Ju(e),"onThreePccServerConnected",(function(t){e.updateState({sipServer:{id:t.sipserver_id,address:t.sipserver_address,port:t.sipserver_port}}),e.toClientDispatch.onThreePCCServerReady(),e.toClientDispatch.onUpdateCapabilities(e.stateData.phoneDeviceCapabilities)})),nl(Ju(e),"onThreePccServerDisconnected",(function(t){var n=t.sipserver_id,r=!!e.stateData.sipServer;e.updateState({sipServer:void 0}),e.clearPhoneDeviceCapabilities(n),r&&e.toClientDispatch.onThreePCCServerGone({sipServerId:n})})),nl(Ju(e),"onConnected",(function(t){var n=t.host,r=t.port;e.updateState({wsHost:n,wsPort:r})})),nl(Ju(e),"onDisconnected",(function(){yl.info("onDisconnected 916",e.stateData),e.updateState({wsDisconnectTime:Date.now()}),e.awaitingReconnectData?(clearTimeout(e.reconnectTimeout),delete e.awaitingReconnectData,e.initiateReconnect()):e.stateData.isLoggedIn&&!e.authRedirectInProgress?(yl.info("onDisconnected 921"),ml(e.transport,"wifi","onDisconnected 876"),e.clearPhoneDeviceCapabilities(),clearTimeout(e.reconnectTimeout),e.initiateReconnect()):e.authRedirectInProgress?yl.info("Disconnected Websocket During authRedirect Ignoring"):e.setDisconnected("session was disconnected")})),nl(Ju(e),"onUnhandledDisconnection",(function(){e.stateData.isLoggedIn&&e.initiateReconnect()})),nl(Ju(e),"tryToDisconnect",(function(){yl.info("tryToDisconnect 987",e.awaitingReconnectData),e.awaitingReconnectData||e.transport.disconnectWithDispatch()})),nl(Ju(e),"sendPing",(function(){return e.transport.sendPing()})),nl(Ju(e),"forceReconnect",(function(){clearTimeout(e.reconnectTimeout),delete e.awaitingReconnectData,yl.info("forceReconnect",{}),ml(e.transport,"wifi","forceReconnect 941"),e.initiateReconnect()})),nl(Ju(e),"rejectForceLogin",(function(){e.shouldSendAgentSetPhoneTypeMobile=!0,e.updateState({offerForceLogin:!1,showLoginDialog:!0}),ju()})),nl(Ju(e),"updatePersonalDetails",(function(t){e.updateState(t)})),nl(Ju(e),"onSetPhoneResult",(function(t){var n=t.error_code,r=t.phone_type,a=t.phone_number,o=t.error_message;if(n!==Oe(!1))e.updateState({phoneTypeErrorCode:+n,phoneTypeErrorText:o}),e.toClientDispatch.onSetPhoneTypeError({errorCode:+n,errorMessage:o});else{var i={phoneType:r,phoneNumber:a,isLoggedInWithPhoneType:!0,phoneTypeErrorCode:void 0,phoneTypeErrorText:void 0};e.stateData.phoneNumber!==a&&(e.stateData.tenantFeatures?e.toClientDispatch.onPhoneNumberChanged({useOutboundDIDEnabled:e.stateData.tenantFeatures.useOutboundDIDEnabled,phoneNumber:a}):e.dispatchOnPhoneNumberChangedAfterTenantFeaturesReceived=!0),e.localSettings.set("phoneType",r).then((function(){switch(r){case"phone_type_browser":e.localSettings.set("extension",a);break;case"phone_type_hard_custom":e.localSettings.set("hardPhoneNumber",a);break;case"phone_type_external":e.localSettings.set("externalPhoneNumber",a);break;case"phone_type_microsoft_teams":e.localSettings.set("msTeamsPhoneNumber",a)}})),e.updateState(i),e.toClientDispatch.onSetPhoneDeviceResultReceived({phoneType:r,phoneNumber:a}),"phone_type_none"===r?e.clearPhoneDeviceCapabilities():e.toClientDispatch.onUpdateCapabilities(e.stateData.phoneDeviceCapabilities)}})),nl(Ju(e),"sendPhoneDeviceChanged",(function(t){var n=t.code,r=t.inDeviceString,a=t.outDeviceString;e.transport.dispatch.agent_phone_status({code:n,in_device:r,out_device:a}),e.updateState({phoneDeviceIn:r,phoneDeviceOut:a})})),nl(Ju(e),"sendSipEndpointStatusChanged",(function(t){var n=t.fail,r={session_id:e.stateData.sessionId,message_type:n?"show_sip_fail":"hide_sip_fail"};e.transport.dispatch.agent_message({user_id:e.stateData.userId,message:r})})),nl(Ju(e),"sendAgentInfo",(function(t){var n=t.hostName,r=t.pluginVersion;e.transport.dispatch.agent_info({hostname:n,plugin_version:r})}));var s=Ju(e);nl(Ju(e),"startPhoneTypeSelection",Zu((function(){var e,t,n,r,a,o,i,c;return ll(this,(function(u){switch(u.label){case 0:return[4,Cl(s.localSettings)];case 1:return e=u.sent(),t=e.phoneType,n=e.hardPhoneNumber,r=e.msTeamsPhoneNumber,a=e.externalPhoneNumber,o=s.stateData.phoneType||t,i=s.stateData.availablePhoneTypes||{phone_type_none:"1"},o&&i[o]||(o=void 0),c={phoneType:o,hardPhoneNumber:n,externalPhoneNumber:a,availablePhoneTypes:i,msTeamsPhoneNumber:r},s.updateState({offerPhoneSelection:c}),[2]}}))}))),nl(Ju(e),"cancelPhoneTypeSelection",(function(){e.phoneTypeSelected||e.setPhoneType({phoneType:"phone_type_none"}),e.updateState({offerPhoneSelection:void 0})}));var c=Ju(e);nl(Ju(e),"submitPhoneTypeSelection",function(){var e=Zu((function(e){var t,n,r,a,o,i,s,u,l,d;return ll(this,(function(f){switch(f.label){case 0:return e?[3,2]:[4,Cl(c.localSettings)];case 1:return t=f.sent(),n=t.phoneType,r=t.hardPhoneNumber,a=t.externalPhoneNumber,o=t.msTeamsPhoneNumber,n&&c.setPhoneType({phoneType:n,phoneNumber:r||a||o}),[2];case 2:return i=e.phoneType,s=e.phoneNumber,u=e.phoneNumbers,c.phoneTypeSelected=!0,c.updateState({offerPhoneSelection:void 0}),l=c.stateData.availablePhoneTypes[i]?i:"phone_type_none",d=s||(u&&gl(l)?u[l]:void 0),c.setPhoneType({phoneType:l,phoneNumber:d}),u&&c.localSettings.set("phoneType",l).then((function(){c.localSettings.set("hardPhoneNumber",u.phone_type_hard_custom),c.localSettings.set("externalPhoneNumber",u.phone_type_external),c.localSettings.set("msTeamsPhoneNumber",u.phone_type_microsoft_teams)})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),nl(Ju(e),"setPhoneType",(function(t){e.toClientDispatch.onSetPhoneType(t)})),nl(Ju(e),"sendPhoneTypeSelection",(function(t){e.updateState({phoneTypeErrorCode:void 0,phoneTypeErrorText:void 0}),e.transport.dispatch.agent_set_phone_device({phone_type:t.phoneType,phone_number:t.phoneNumber,plugin_type:t.pluginType})})),nl(Ju(e),"validateServerOrigin",(function(){var t=e.platformSpecific.currentServerOrigin("");yc(t).checkIfTenantExists().then((function(t){e.updateState({isValidServerOrigin:!0===t})})).catch((function(){e.updateState({isValidServerOrigin:!1})}))})),nl(Ju(e),"setLoggedOut",(function(){e.updateState({isLoggedIn:!1,isLoggedInWithPhoneType:!1,sessionId:void 0,pushToken:void 0,firebaseToken:void 0,loginId:void 0,domain:void 0,showLoginDialog:!0}),e.shouldSendAgentSetPhoneTypeMobile=!0,"mobile"===e.platformSpecific.clientType()&&e.localSettings.set("sessionId",void 0)})),nl(Ju(e),"getPasswordConfig",(function(){var t=e.stateData.domain,n=e.platformSpecific.currentServerOrigin(e.stateData.domain);yc(n).getPasswordConfig({tenantUrl:t}).then((function(t){e.updateState({passwordConfig:{passwordHistoryConfig:t.passwordHistoryConfig,passwordPolicy:t.passwordPolicy}})}))}));var u=Ju(e);nl(Ju(e),"remindPassword",function(){var e=Zu((function(e){var t;return ll(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=u.platformSpecific.currentServerOrigin(e.domain),[4,Bu(e,t)];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return u.updateState({remindPasswordSuccess:!0}),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),nl(Ju(e),"cancelRemindPassword",(function(){e.updateState({remindPasswordSuccess:!1})})),nl(Ju(e),"changePassword",(function(t,n){e.transport.dispatch.changePassword({params:[t,n]}).then((function(t){var n,r=t.error;r?e.updateState({changePasswordError:null!==(n=r.message)&&void 0!==n?n:"Unknown error",changePasswordSuccess:!1}):e.updateState({changePasswordError:void 0,changePasswordSuccess:!0})}))})),nl(Ju(e),"cancelChangePassword",(function(){e.updateState({changePasswordError:void 0,changePasswordSuccess:!1})})),nl(Ju(e),"submitResetPassword",(function(t){var n=e.platformSpecific.currentServerOrigin(e.stateData.domain);e.updateState({resetPasswordError:void 0,resetPasswordSuccess:!1}),yc(n).changePassword({requestBody:{loginId:e.stateData.loginId||"",tenantUrl:e.stateData.domain||"",oldPassword:t.oldPassword,newPassword:t.newPassword}}).then((function(){e.updateState({resetPasswordSuccess:!0})})).catch((function(){e.updateState({resetPasswordError:"Some error occurred"})}))})),nl(Ju(e),"cancelResetPassword",(function(){e.updateState({resetPasswordError:void 0,resetPasswordSuccess:!1})})),nl(Ju(e),"closeForceLogout",(function(){e.updateState({forceLogoutInfo:void 0})}));var l=Ju(e);return nl(Ju(e),"getAppInfo",function(){var e=Zu((function(e){var t;return ll(this,(function(n){switch(n.label){case 0:return[4,Hu(e)];case 1:return t=n.sent(),l.updateGlobalEnableMacPluginVariable(t.enable_mac_plugin),l.updateState({appInfo:{productName:t.product_name,companyName:t.company_name,pluginVersion:t.plugin_version,enableMacPlugin:t.enable_mac_plugin,muteRecordingIfNotReady:t.mute_recording_if_note_ready,hideErrorBar:t.hide_error_bar,completeTransferOnOriginalCallWithOriginService:t.complete_transfer_on_original_call_with_origin_service}}),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),nl(Ju(e),"onAgentStartScreenRecording",(function(t){var n=t.sr_host,r=t.sr_port,a=t.sr_file;e.toClientDispatch.onAgentStartScreenRecording({host:n,port:parseInt(r),file:a})})),nl(Ju(e),"onAgentStopScreenRecording",(function(){e.toClientDispatch.onAgentStopScreenRecording()})),nl(Ju(e),"onAgentEMIUp",(function(t){var n;"msteams"===t.type&&(yl.info("MSTeams integration is up:",t),e.updateState({emi:il(ol({},e.stateData.emi),{msteams:il(ol({},null===(n=e.stateData.emi)||void 0===n?void 0:n.msteams),{up:!0,emiServerUrlPrefix:t.emi_server_url_prefix,errorCode:void 0,errorMessage:void 0})})}))})),nl(Ju(e),"onAgentEMIDown",(function(t){var n;"msteams"===t.type&&(yl.info("MSTeams integration going down:",t),e.updateState({emi:il(ol({},e.stateData.emi),{msteams:il(ol({},null===(n=e.stateData.emi)||void 0===n?void 0:n.msteams),{up:!1,errorCode:t.error_code,errorMessage:t.error_message})})}))})),nl(Ju(e),"transmitMessageFromPlugin",(function(t,n){e.transport.dispatch.agent_message({user_id:t,message:il(ol({},n),{peer_type:"plugin"})})})),nl(Ju(e),"saveMSTeamsUserData",(function(t){e.stateData.baseConfig&&(e.updateState({emi:il(ol({},e.stateData.emi),{msteams:ol({up:!1},e.stateData.emi,t)})}),e.updateBaseConfig({}),e.emiAccountChanged("msteams"))})),nl(Ju(e),"sendAgentRecordOutOfBandCallAttempt",(function(t,n){e.transport.dispatch.agent_record_out_of_band_call_attempt({destination:t,origination:e.stateData.phoneNumber,result:n})})),nl(Ju(e),"onAgentCallWaitingNotifyAudio",(function(t){var n=t.notify_state;e.toClientDispatch.onCallWaitingInQueueNotification("1"===n)})),nl(Ju(e),"onAgentMessage",(function(t){"peer_type"in t.message&&e.toClientDispatch.onPluginMessageReceived(t.user_id||"",JSON.stringify(t.message))})),nl(Ju(e),"onTransportError",(function(t){var n=t.message;"mobile"===e.platformSpecific.clientType()&&yl.error("onTransportError",n)})),nl(Ju(e),"onWebsocketErrorEvent",(function(e){yl.error("onWebsocketErrorEvent",e)})),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({onConnected:this.onConnected,onDisconnected:this.onDisconnected,onUnhandledDisconnection:this.onUnhandledDisconnection,auth_accept:this.onAuthAccept,auth_reject:this.onAuthReject,auth_redirect:this.onAuthRedirect,error_message:this.onIncomingErrorMessage,agent_set_phone_device_result:this.onSetPhoneResult,byebye:this.setLoggedOut,agent_welcome:this.onAgentWelcome,agent_user_data:this.onAgentUserData,"3pcc_server_connected":this.onThreePccServerConnected,"3pcc_server_disconnected":this.onThreePccServerDisconnected,e3pcc_device_snapshot:this.onThreePccDataCaps,e3pcc_caps_changed:this.onThreePccDataCaps,e3pcc_failed:this.onThreePccFailed,e3pcc_audio_quality_alert:this.onThreePccAudioQualityAlert,agent_start_screen_recording:this.onAgentStartScreenRecording,agent_stop_screen_recording:this.onAgentStopScreenRecording,agent_emi_up:this.onAgentEMIUp,agent_emi_down:this.onAgentEMIDown,agent_call_waiting_notify_audio:this.onAgentCallWaitingNotifyAudio,agent_message:this.onAgentMessage,onTransportError:this.onTransportError,onWebsocketErrorEvent:this.onWebsocketErrorEvent}),this.fromClientDispenser.subscribe({login:this.login,checkToken:this.checkToken,forceLogin:this.forceLogin,logout:this.logout,rejectForceLogin:this.rejectForceLogin,updatePersonalDetails:this.updatePersonalDetails,getPasswordConfig:this.getPasswordConfig,remindPassword:this.remindPassword,cancelRemindPassword:this.cancelRemindPassword,changePassword:this.changePassword,cancelChangePassword:this.cancelChangePassword,submitResetPassword:this.submitResetPassword,cancelResetPassword:this.cancelResetPassword,startPhoneTypeSelection:this.startPhoneTypeSelection,cancelPhoneTypeSelection:this.cancelPhoneTypeSelection,submitPhoneTypeSelection:this.submitPhoneTypeSelection,sendPhoneTypeSelection:this.sendPhoneTypeSelection,sendPhoneDeviceChanged:this.sendPhoneDeviceChanged,sendSipEndpointStatusChanged:this.sendSipEndpointStatusChanged,validateServerOrigin:this.validateServerOrigin,updateBaseConfig:this.updateBaseConfig,closeForceLogout:this.closeForceLogout,forceReconnect:this.forceReconnect,tryToDisconnect:this.tryToDisconnect,transmitMessageFromPlugin:this.transmitMessageFromPlugin,sendAgentInfo:this.sendAgentInfo,sendAgentRecordOutOfBandCallAttempt:this.sendAgentRecordOutOfBandCallAttempt,saveMSTeamsUserData:this.saveMSTeamsUserData,sendPing:this.sendPing,saveActiveRoute:this.saveActiveRoute}))}},{key:"updatePhoneCapabilities",value:function(e,t){e||t?e&&!t?delete this.phoneDeviceCapabilitiesPerServer[e]:e&&t?this.phoneDeviceCapabilitiesPerServer[e]=t:yl.info("updatePhoneCapabilities: bad parameters: serverId=".concat(e,", capabilities: "),t):this.phoneDeviceCapabilitiesPerServer={};var n={},r=!0,a=!1,o=void 0;try{for(var i,s=Object.values(this.phoneDeviceCapabilitiesPerServer)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;n.canHold=n.canHold||c.canHold,n.canDial=n.canDial||c.canDial,n.canAnswer=n.canAnswer||c.canAnswer,n.canRetrieve=n.canRetrieve||c.canRetrieve}}catch(wX){a=!0,o=wX}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}this.updateState({phoneDeviceCapabilities:n})}},{key:"sendLoginRequest",value:function(e,t,n){var r=this;v.info("sendLoginRequest ",e),delete this.awaitingReconnectData;var a="force"===e?this.stateData.domain:t.domain;this.awaitingLoginData={loginType:e,domain:Nu(a)||a,loginId:t&&t.loginId,timeout:setTimeout((function(){return r.onLoginError({message:"login timeout expired: no response received"})}),12e3)},this.updateState({isAuthorizing:!0,loginError:void 0,offerForceLogin:!1,showLoginDialog:!1}),this.platformSpecific.setServerOrigin((null==t?void 0:t.serverOrigin)||"");var o=this.platformSpecific.currentServerOrigin(a);this.getSessionId(e,o,t,n).then((function(t){r.localSettings.set("sessionId",t),r.transportConnect({sessionId:t,serverOrigin:o,force:"force"===e?"1":Oe(!1)})})).catch((function(e){yl.warn("onLoginError:",e),r.onLoginError(e)}))}},{key:"transportConnect",value:function(e){var t=this;return Zu((function(){var n,r,a,o;return ll(this,(function(i){return yl.info("transportConnect 332"),ml(t.transport,"transportConnect","transportConnect session State 472"),n=e.sessionId,r=e.serverOrigin,a=e.force,o=e.serverId,t.getAppInfo(r),yl.info("transportConnect 338"),[2,t.transport.connect(r,o).then(Zu((function(){var e,r,o,i,s,c,u,l,d,f,_,p;return ll(this,(function(m){switch(m.label){case 0:return yl.info("transportConnect 341"),t.isDestroyed()?[2]:(t.updateState({sessionId:n,isLoggedInOnOtherTab:!1}),e=t.stateData,r=e.os,o=e.browser,[4,t.platformSpecific.getDeviceName()]);case 1:return i=m.sent(),yl.info("transportConnect 352"),[4,t.platformSpecific.getNotificationTokens()];case 2:return s=m.sent(),c=s.voipToken,u=s.pushToken,l=s.firebaseToken,yl.info("transportConnect 354",{voipToken:c,pushToken:u,firebaseToken:l}),d=t.platformSpecific.getTimezoneName(),f={FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"https://localhost:3000/agent/communicator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:!0,REACT_APP_SERVICE_WORKER_SCOPE:"/agent/communicator",REACT_APP_DISABLE_WEBSOCKET_MESSAGE_LOGGING:!1,REACT_APP_CURRENT_SERVER_ORIGIN:!1}.REACT_APP_SIMPLE_STATES?Oe(!1):"1",_=Oe(!1),p=Oe(!1),"mobile"===t.platformSpecific.clientType()&&(f=Oe(!1),_="1",p=pl),yl.info("transportConnect 357"),t.transport.dispatch.auth_session(il(ol(il(ol({session_id:n,force:a,detect_active_session:f,client_type:t.platformSpecific.clientType(),firebase_token:l,push_token:u,voip_token:c,os:r,browser:o},i?{device_name:i}:void 0),{app_type:t.platformSpecific.getAppType(),app_version:t.platformSpecific.getAppVersion()}),d?{client_timezone_name:d}:void 0),{capabilities:{partial_login:_,push_notification_calling:p,inactivity_logout:"1"}})),[2]}}))})))]}))}))()}},{key:"getSessionId",value:function(e,t,n,r){var a=this;return Zu((function(){var o,i,s,c,u,l,d;return ll(this,(function(f){switch(f.label){case 0:return yl.info("getSessionId:",e),"check_token"!==e?[3,2]:(o=a.platformSpecific.getUserAgent(),[4,Lu(t,a.localSettings,a.platformSpecific,r,o)]);case 1:if(i=f.sent(),yl.info("response to checkToken",i),"error"in i)throw new Error(i.error);return a.updateState({isSsoEnabled:i.sso_enabled,os:i.os,browser:i.browser}),[2,i.session_id];case 2:if("force"!==e)return[3,3];if(!a.stateData.sessionId)throw new Error("forceLogin() is called but there is no sessionId from previous login attempt");if(!a.stateData.domain)throw new Error("forceLogin() is called but current tenant domain is not initialized");return bl(a.stateData.serverOrigin),[2,a.stateData.sessionId];case 3:if("mobile"===a.platformSpecific.clientType())return[3,7];s=a.platformSpecific.getUserAgent(),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,Lu(t,a.localSettings,a.platformSpecific,r,s)];case 5:return c=f.sent(),yl.info("response to checkToken attempt on auth",c),"error"in c?[3,7]:[2,c.session_id];case 6:return f.sent(),[3,7];case 7:return a.platformSpecific.removeSessionCookies(a.localSettings),u=a.platformSpecific.getUserAgent(),[4,a.platformSpecific.getDeviceName()];case 8:return l=f.sent(),[4,Uu(il(ol({},n,l?{deviceName:l}:void 0),{appType:a.platformSpecific.getAppType(),appVersion:a.platformSpecific.getAppVersion()}),t,u)];case 9:if(d=f.sent(),yl.info("response to authRequest",d),"error"in d)throw new Error(d.error);return bl(t),a.updateState({os:d.os,browser:d.browser}),[2,d.session_id];case 10:return[2]}}))}))()}},{key:"tweakOldADSharedSession",value:function(){var e=this;setTimeout((function(){e.localSettings.setExternal("shared-session",dl),setTimeout((function(){e.localSettings.getExternal("shared-session").then((function(t){t===dl&&e.localSettings.removeExternal("shared-session")}))}),1e4)}),10)}},{key:"filterLoginError",value:function(e){var t=e.message;return"check_token"===e.loginType?void 0:t}},{key:"prefetchLink",value:function(e){var t;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?fetch(e):((t=document.createElement("link")).rel="prefetch",t.href=e,document.getElementsByTagName("head")[0].appendChild(t))}},{key:"setDisconnected",value:function(e){yl.info("setDisconnected 940",this.stateData),(this.stateData.isLoggedIn||this.stateData.isAuthorizing)&&(this.logout(),this.shouldSendAgentSetPhoneTypeMobile=!0,this.updateState({isAuthorizing:!1,isLoggedIn:!1,isLoggedInWithPhoneType:!1,loginError:e,sessionId:void 0,pushToken:void 0,firebaseToken:void 0,showLoginDialog:!0}))}},{key:"initiateReconnect",value:function(){yl.info("initiateReconnect 956",this.awaitingReconnectData),this.awaitingReconnectData||(this.updateState({wsIsReconnecting:!0,wsReconnectAttempts:0}),this.awaitingReconnectData={retryCount:0,backoffTimeoutMilliseconds:100},yl.info("initiateReconnect 966"),this.reconnect())}},{key:"tryToConnect",value:function(){var e=this;yl.info("tryToConnect 972"),ml(this.transport,"wifi","tryToConnect 920"),this.transportConnect({sessionId:this.stateData.sessionId,serverOrigin:this.stateData.serverOrigin,force:Oe(!1)}).catch((function(){yl.info("tryToConnect catch 980"),ml(e.transport,"wifi","tryToConnect catch 929"),e.reconnect()}))}},{key:"reconnect",value:function(){var e=this;if(yl.info("reconnect 1002",this.awaitingReconnectData),ml(this.transport,"wifi","reconnect 946"),this.awaitingReconnectData){var t=this.awaitingReconnectData.backoffTimeoutMilliseconds<15e3?this.awaitingReconnectData.backoffTimeoutMilliseconds:15e3;yl.info("reconnectTimeOut 1008",t),ml(this.transport,"wifi","reconnectTimeOut ".concat(t)),this.reconnectTimeout=setTimeout((function(){yl.info("timeout in reconnect 1012",e.awaitingReconnectData),e.awaitingReconnectData&&(e.updateState({wsReconnectAttempts:(e.stateData.wsReconnectAttempts||0)+1}),yl.info("timeout in reconnect 1017"),ml(e.transport,"wifi","reconnect 955"),e.tryToConnect())}),t),this.awaitingReconnectData.retryCount+=1,this.awaitingReconnectData.backoffTimeoutMilliseconds*=4}}},{key:"clearAwaitingLoginData",value:function(){this.awaitingLoginData&&this.awaitingLoginData.timeout&&clearTimeout(this.awaitingLoginData.timeout),delete this.awaitingLoginData}},{key:"updateGlobalEnableMacPluginVariable",value:function(e){window.__enableMacPlugin=e}},{key:"emiAccountChanged",value:function(e){var t=this;this.localSettings.get("emiLastAccounts").then((function(n){var r,a,o,i=null==n?void 0:n[e],s=null===(o=t.stateData)||void 0===o||null===(a=o.emi)||void 0===a||null===(r=a[e])||void 0===r?void 0:r.principalName;s&&(t.localSettings.set("emiLastAccounts",il(ol({},n),nl({},e,s))),i&&s!==i&&t.toClientDispatch.onEmiAccountChanged({emiType:e,oldAccount:i,newAccount:s}))}))}},{key:"clearPhoneDeviceCapabilities",value:function(e){yl.info("clearPhoneDeviceCapabilities 1451, sipServerId: ".concat(e),this.awaitingReconnectData),this.awaitingReconnectData||(this.updatePhoneCapabilities(e,void 0),this.toClientDispatch.onUpdateCapabilities(this.stateData.phoneDeviceCapabilities))}},{key:"resetState",value:function(){var e=this.stateData.authChecked;rl(al(o.prototype),"resetState",this).call(this),this.produceState((function(t){t.authChecked=e,t.navigationData=void 0}))}}],n&&tl(t.prototype,n),r&&tl(t,r),o}(Ts.createBaseStateClass({name:"sessionState",controlEvents:Qu,trackerEvents:Yu,options:{synchronized:!0},getInitialState:uu,dependencies:["transport","localSettings","platformSpecific","currentTabDataProvider"]}));function bl(e){yc(e).adminLogoutHelper().then((function(){}),(function(){}))}function Cl(e){return Sl.apply(this,arguments)}function Sl(){return(Sl=Zu((function(e){var t,n,r,a;return ll(this,(function(o){switch(o.label){case 0:return[4,e.get("phoneType")];case 1:return t=o.sent(),[4,e.get("hardPhoneNumber")];case 2:return n=o.sent(),[4,e.get("externalPhoneNumber")];case 3:return r=o.sent(),[4,e.get("msTeamsPhoneNumber")];case 4:return a=o.sent(),[2,{phoneType:t,phoneNumber:"phone_type_hard_custom"===t?n:"phone_type_external"===t?r:void 0,hardPhoneNumber:n,msTeamsPhoneNumber:a,externalPhoneNumber:r}]}}))}))).apply(this,arguments)}function wl(e){var t=e.phoneType,n=e.phoneNumber,r=e.hardPhoneNumber,a=e.externalPhoneNumber,o=e.msTeamsPhoneNumber,i=e.availablePhoneTypes;return!t||!i[t]||i[t]===Oe(!1)||!n&&function(e){return"phone_type_hard_custom"===e||"phone_type_external"===e||"phone_type_microsoft_teams"===e}(t)?{phoneType:i[t]?t:void 0,hardPhoneNumber:r,externalPhoneNumber:a,msTeamsPhoneNumber:o,availablePhoneTypes:i}:void 0}function Il(e){var t={};e.split(",").forEach((function(e){t[e]=!0}));var n={};return Object.keys(Wu).forEach((function(e){var r=e;t[Wu[r]]&&(n[r]=!0)})),n}function Ol(e){return!!e.SYS_RECEIVE_AUTOMATICALLY_DISTRIBUTED_CALLS||!!e.SYS_RECEIVE_CUSTOMER_CHATS||!!e.SYS_HANDLE_EMAILS}var Tl=function(){return{tabs:{}}},El={onInitialState:{parameters:[]},onChange:{parameters:[]},onCollectTabsInfo:{parameters:[]},onBossHasBeenReassigned:{parameters:[]}},Dl={updateTabState:{parameters:[]},dropTab:{parameters:[]}};function Al(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nl(e)}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Rl(e,t,n[t])}))}return e}function jl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function xl(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Al(e):t;var n}function Ll(e,t){return Ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ll(e,t)}function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nl(e);if(t){var a=Nl(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xl(this,n)}}function Kl(e){return 16e3+3e3*e}function Fl(e,t){return Object.keys(t).every((function(n){return t[n]===e[n]}))}var Ul=v.withPrefix("@TABS"),ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ll(e,t)}(o,e);var t,n,r,a=$l(o);function o(){var e;return Pl(this,o),Rl(Al(e=a.apply(this,arguments)),"tabsPollingTimerId",-1),Rl(Al(e),"broadcastChanges",(function(){Ul.info("change",e.stateData.tabs),e.toClientDispatch.onChange(e.stateData)})),Rl(Al(e),"updateTabState",(function(t,n){var r=e.stateData.tabs[t];if(r){if(Fl(r,n))return;e.updateTab(t,n)}else e.addTab(t,n);e.checkBoss(),e.broadcastChanges()})),Rl(Al(e),"dropTab",(function(t){e.deleteTab(t),e.broadcastChanges()})),Rl(Al(e),"collectTabsInfo",(function(){Ul.info("collect tabs info..."),e.toClientDispatch.onCollectTabsInfo()})),Rl(Al(e),"scheduledTabsPollIteration",(function(){e.collectTabsInfo(),e.tabsPollingTimerId=setTimeout(e.scheduledTabsPollIteration,Kl(Object.keys(e.stateData.tabs).length))})),Rl(Al(e),"startScheduledTabsPoll",(function(){e.scheduledTabsPollIteration()})),Rl(Al(e),"addTab",(function(t,n){e.stateData=Ot(e.stateData,(function(e){e.tabs[t]=jl(Ml({},{app:"ad",boss:!1,id:"unknown",role:"undecided",visible:!1,activeApi:!1,frozen:!1,latestActivationTimestamp:0},n),{id:t})}))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({updateTabState:this.updateTabState,dropTab:this.dropTab}),{unsubscribe:function(){clearTimeout(e.tabsPollingTimerId)}}),"mobile"!==this.platformSpecific.clientType()&&this.startScheduledTabsPoll()}},{key:"updateTab",value:function(e,t){this.stateData=Ot(this.stateData,(function(n){n.tabs[e]=Ml({},n.tabs[e],t)}))}},{key:"deleteTab",value:function(e){this.stateData.tabs[e]&&(this.stateData=Ot(this.stateData,(function(t){delete t.tabs[e]})),this.checkBoss(!0))}},{key:"checkBoss",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object.values(this.stateData.tabs),r=n.filter((function(e){return"undecided"!==e.role}));if(r.length){var a=n.find((function(e){return e.boss}));if(!a){var o=r.find((function(e){return e.visible})),i=r[0],s=o?o.id:i.id;this.updateTab(s,{boss:!0}),t&&setTimeout((function(){e.toClientDispatch.onBossHasBeenReassigned(s)}),1e3)}}}}],n&&kl(t.prototype,n),r&&kl(t,r),o}(Ts.createBaseStateClass({name:"tabsState",controlEvents:Dl,trackerEvents:El,options:{synchronized:!0},getInitialState:Tl,dependencies:["platformSpecific"]})),Bl={onInitialState:{parameters:[]},onChange:{parameters:[]},onAutoAnswerTimerCompleted:{parameters:[]},onWorkItemAutoDialTimerCompleted:{parameters:[]}},Gl={startTimer:{parameters:[]},stopTimer:{parameters:[]}};function Hl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yl(e,t,n){return Yl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ql(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Yl(e,t,n||e)}function Ql(e){return Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ql(e)}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vl(e,t,n[t])}))}return e}function Xl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Zl(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Hl(e):t;var n}function ed(e,t){return ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ed(e,t)}function td(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ql(e);if(t){var a=Ql(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zl(this,n)}}var nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ed(e,t)}(o,e);var t,n,r,a=td(o);function o(){var e;return zl(this,o),Vl(Hl(e=a.apply(this,arguments)),"timeouts",{}),Vl(Hl(e),"startTimer",(function(t){e.stateData.timers[t.id]||(e.updateState(Ot((function(e){var n=Date.now(),r=L(new Date,"seconds",t.timeoutInSeconds).getTime();e.timers[t.id]=Xl(Jl({},t),{startTime:n,endTime:r})}))),e.checkTimer(t.id))})),Vl(Hl(e),"stopTimer",(function(t){e.updateState(Ot((function(e){delete e.timers[t]})))})),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({startTimer:this.startTimer,stopTimer:this.stopTimer}))}},{key:"checkTimer",value:function(e){var t=this,n=this.stateData.timers[e];if(n){var r=Date.now();if(n.endTime<=r)switch(delete this.timeouts[e],this.stopTimer(e),n.type){case"autoAnswer":return this.toClientDispatch.onAutoAnswerTimerCompleted(n);case"workitemAutoDial":return this.toClientDispatch.onWorkItemAutoDialTimerCompleted(n)}this.timeouts[e]=setTimeout((function(){return t.checkTimer(e)}),200)}}},{key:"clearTimeouts",value:function(){Object.values(this.timeouts).forEach((function(e){clearTimeout(e)})),this.timeouts={}}},{key:"cleanup",value:function(){Yl(Ql(o.prototype),"cleanup",this).call(this),this.clearTimeouts()}},{key:"resetState",value:function(){Yl(Ql(o.prototype),"resetState",this).call(this),this.clearTimeouts()}}],n&&Wl(t.prototype,n),r&&Wl(t,r),o}(Ts.createBaseStateClass({name:"timersState",controlEvents:Gl,trackerEvents:Bl,getInitialState:function(){return{timers:{}}},options:{synchronized:!0},dependencies:[]}));const rd=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var ad=Object.prototype.hasOwnProperty;const od=function(e,t,n){var r=e[t];ad.call(e,t)&&Et(r,n)&&(void 0!==n||t in e)||ro(e,t,n)};const id=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),a?ro(n,s,c):od(n,s,c)}return n};const sd=function(e,t){return e&&id(t,Fr(t),e)};const cd=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var ud=Object.prototype.hasOwnProperty;const ld=function(e){if(!Zt(e))return cd(e);var t=Mr(e),n=[];for(var r in e)("constructor"!=r||!t&&ud.call(e,r))&&n.push(r);return n};const dd=function(e){return Kr(e)?Rr(e,!0):ld(e)};const fd=function(e,t){return e&&id(t,dd(t),e)};var _d="object"==typeof exports&&exports&&!exports.nodeType&&exports,pd=_d&&"object"==typeof module&&module&&!module.nodeType&&module,md=pd&&pd.exports===_d?qt.Buffer:void 0,gd=md?md.allocUnsafe:void 0;const hd=function(e,t){if(t)return e.slice();var n=e.length,r=gd?gd(n):new e.constructor(n);return e.copy(r),r};const yd=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const vd=function(e,t){return id(e,ir(e),t)};const bd=jr(Object.getPrototypeOf,Object);var Cd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Zn(t,ir(e)),e=bd(e);return t}:rr;const Sd=Cd;const wd=function(e,t){return id(e,Sd(e),t)};const Id=function(e){return tr(e,dd,Sd)};var Od=Object.prototype.hasOwnProperty;const Td=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Od.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const Ed=function(e){var t=new e.constructor(e.byteLength);return new Wn(t).set(new Wn(e)),t};const Dd=function(e,t){var n=t?Ed(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var Ad=/\w*$/;const Pd=function(e){var t=new e.constructor(e.source,Ad.exec(e));return t.lastIndex=e.lastIndex,t};var kd=Bt?Bt.prototype:void 0,Rd=kd?kd.valueOf:void 0;const Nd=function(e){return Rd?Object(Rd.call(e)):{}};const Md=function(e,t){var n=t?Ed(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const jd=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ed(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Dd(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Md(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Pd(e);case"[object Symbol]":return Nd(e)}};var xd=Object.create,Ld=function(){function e(){}return function(t){if(!Zt(t))return{};if(xd)return xd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const $d=Ld;const Kd=function(e){return"function"!=typeof e.constructor||Mr(e)?{}:$d(bd(e))};const Fd=function(e){return cr(e)&&"[object Map]"==oa(e)};var Ud=Dr&&Dr.isMap;const qd=Ud?Ir(Ud):Fd;const Bd=function(e){return cr(e)&&"[object Set]"==oa(e)};var Gd=Dr&&Dr.isSet;const Hd=Gd?Ir(Gd):Bd;var zd="[object Arguments]",Wd="[object Function]",Vd="[object Object]",Yd={};Yd[zd]=Yd["[object Array]"]=Yd["[object ArrayBuffer]"]=Yd["[object DataView]"]=Yd["[object Boolean]"]=Yd["[object Date]"]=Yd["[object Float32Array]"]=Yd["[object Float64Array]"]=Yd["[object Int8Array]"]=Yd["[object Int16Array]"]=Yd["[object Int32Array]"]=Yd["[object Map]"]=Yd["[object Number]"]=Yd["[object Object]"]=Yd["[object RegExp]"]=Yd["[object Set]"]=Yd["[object String]"]=Yd["[object Symbol]"]=Yd["[object Uint8Array]"]=Yd["[object Uint8ClampedArray]"]=Yd["[object Uint16Array]"]=Yd["[object Uint32Array]"]=!0,Yd["[object Error]"]=Yd[Wd]=Yd["[object WeakMap]"]=!1;const Qd=function e(t,n,r,a,o,i){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(t,a,o,i):r(t)),void 0!==s)return s;if(!Zt(t))return t;var d=er(t);if(d){if(s=Td(t),!c)return yd(t,s)}else{var f=oa(t),_=f==Wd||"[object GeneratorFunction]"==f;if(yr(t))return hd(t,c);if(f==Vd||f==zd||_&&!o){if(s=u||_?{}:Kd(t),!c)return u?wd(t,fd(s,t)):vd(t,sd(s,t))}else{if(!Yd[f])return o?t:{};s=jd(t,f,c)}}i||(i=new Kn);var p=i.get(t);if(p)return p;i.set(t,s),Hd(t)?t.forEach((function(a){s.add(e(a,n,r,a,t,i))})):qd(t)&&t.forEach((function(a,o){s.set(o,e(a,n,r,o,t,i))}));var m=d?void 0:(l?u?Id:Ur:u?dd:Fr)(t);return rd(m||t,(function(a,o){m&&(a=t[o=a]),od(s,o,e(a,n,r,o,t,i))})),s};const Jd=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const Xd=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o};const Zd=function(e,t){return t.length<2?e:Po(e,Xd(t,0,-1))};const ef=function(e,t){return t=Do(t,e),null==(e=Zd(e,t))||delete e[Ao(Jd(t))]};var tf=Function.prototype,nf=Object.prototype,rf=tf.toString,af=nf.hasOwnProperty,of=rf.call(Object);const sf=function(e){if(!cr(e)||"[object Object]"!=Xt(e))return!1;var t=bd(e);if(null===t)return!0;var n=af.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&rf.call(n)==of};const cf=function(e){return sf(e)?void 0:e};var uf=Bt?Bt.isConcatSpreadable:void 0;const lf=function(e){return er(e)||_r(e)||!!(uf&&e&&e[uf])};const df=function e(t,n,r,a,o){var i=-1,s=t.length;for(r||(r=lf),o||(o=[]);++i<s;){var c=t[i];n>0&&r(c)?n>1?e(c,n-1,r,a,o):Zn(o,c):a||(o[o.length]=c)}return o};const ff=function(e){return(null==e?0:e.length)?df(e,1):[]};const _f=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var pf=Math.max;const mf=function(e,t,n){return t=pf(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=pf(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(i),_f(e,this,s)}};const gf=function(e){return function(){return e}};const hf=no?function(e,t){return no(e,"toString",{configurable:!0,enumerable:!1,value:gf(t),writable:!0})}:xo;var yf=Date.now;const vf=function(e){var t=0,n=0;return function(){var r=yf(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const bf=vf(hf);const Cf=function(e){return bf(mf(e,void 0,ff),e+"")};var Sf=Cf((function(e,t){var n={};if(null==e)return n;var r=!1;t=wo(t,(function(t){return t=Do(t,e),r||(r=t.length>1),t})),id(e,Id(e),n),r&&(n=Qd(n,7,cf));for(var a=t.length;a--;)ef(n,t[a]);return n}));const wf=Sf;var If={auth_session:{async:!0,parameters:[],result:void 0},agent_delete_old_user_data:{async:!0,parameters:[],result:void 0},agent_change_state:{async:!0,parameters:[],result:void 0},logout:{async:!0,parameters:[],result:void 0},agent_force_logout:{async:!0,parameters:[],result:void 0},agent_set_phone_device:{async:!0,parameters:[],result:void 0},agent_activate_item:{async:!0,parameters:[],result:void 0},agent_accept_item:{async:!0,parameters:[],result:void 0},agent_complete_item:{async:!0,parameters:[],result:void 0},agent_control_feature_item:{async:!0,parameters:[],result:void 0},agent_external_chat_message:{async:!0,parameters:[],result:void 0},agent_external_chat_get_content:{async:!0,parameters:[],result:void 0},agent_external_chat_message_delivered:{async:!0,parameters:[],result:void 0},agent_external_chat_message_read:{async:!0,parameters:[],result:void 0},agent_external_chat_open_channel:{async:!0,parameters:[],result:void 0},agent_external_chat_session_mask:{async:!0,parameters:[],result:void 0},agent_external_chat_disconnect:{async:!0,parameters:[],result:void 0},agent_external_chat_typing:{async:!0,parameters:[],result:void 0},agent_external_chat_not_typing:{async:!0,parameters:[],result:void 0},agent_external_chat_pickup_item:{async:!0,parameters:[],result:void 0},"3pcc_data":{async:!0,parameters:[],result:void 0},agent_item_discard_draft:{async:!0,parameters:[],result:void 0},agent_item_create_draft:{async:!0,parameters:[],result:void 0},agent_item_send_draft:{async:!0,parameters:[],result:void 0},agent_item_disposition:{async:!0,parameters:[],result:void 0},agent_item_custom_fields:{async:!0,parameters:[],result:void 0},agent_item_use_contact:{async:!0,parameters:[],result:void 0},agent_external_chat_file:{async:!0,parameters:[],result:void 0},agent_external_chat_session_init:{async:!0,parameters:[],result:void 0},agent_external_chat_cobrowsing_requested:{async:!0,parameters:[],result:void 0},agent_external_chat_signaling:{async:!0,parameters:[],result:void 0},agent_external_chat_media_added:{async:!0,parameters:[],result:void 0},agent_chat_delivered:{async:!0,parameters:[],result:void 0},agent_chat_read:{async:!0,parameters:[],result:void 0},agent_chat:{async:!0,parameters:[],result:void 0},agent_message:{async:!0,parameters:[],result:void 0},agent_item_save_draft:{async:!0,parameters:[],result:void 0},agent_get_chat_history:{async:!0,parameters:[],result:void 0},agent_get_users_details:{async:!0,parameters:[],result:void 0},agent_get_services_details:{async:!0,parameters:[],result:void 0},agent_get_hunt_groups_details:{async:!0,parameters:[],result:void 0},agent_external_chat_invite_other:{async:!0,parameters:[],result:void 0},agent_external_chat_remove_other:{async:!0,parameters:[],result:void 0},agent_im_conv_get_list:{async:!0,parameters:[],result:void 0},agent_im_conv_get_info:{async:!0,parameters:[],result:void 0},agent_im_conv_get_history:{async:!0,parameters:[],result:void 0},agent_im_conv_message:{async:!0,parameters:[],result:void 0},agent_im_conv_create:{async:!0,parameters:[],result:void 0},agent_im_conv_update:{async:!0,parameters:[],result:void 0},agent_im_conv_delete:{async:!0,parameters:[],result:void 0},agent_im_conv_add_member:{async:!0,parameters:[],result:void 0},agent_im_conv_delete_member:{async:!0,parameters:[],result:void 0},agent_im_conv_mark_delivered:{async:!0,parameters:[],result:void 0},agent_im_conv_mark_read:{async:!0,parameters:[],result:void 0},agent_im_conv_message_delivered:{async:!0,parameters:[],result:void 0},agent_im_conv_message_read:{async:!0,parameters:[],result:void 0},agent_im_conv_add_members:{async:!0,parameters:[],result:void 0},agent_im_conv_delete_members:{async:!0,parameters:[],result:void 0},agent_get_workitem_data:{async:!0,parameters:[],result:void 0},agent_get_screen_recorder:{async:!0,parameters:[],result:void 0},agent_notification_result:{async:!0,parameters:[],result:void 0},agent_query:{async:!0,parameters:[],result:void 0},agent_modify:{async:!0,parameters:[],result:void 0},agent_get_user_data:{async:!0,parameters:[],result:void 0},agent_add_user_data:{async:!0,parameters:[],result:void 0},agent_update_user_data:{async:!0,parameters:[],result:void 0},agent_delete_user_data:{async:!0,parameters:[],result:void 0},agent_get_teams:{async:!0,parameters:[],result:void 0},agent_get_directory_categories:{async:!0,parameters:[],result:void 0},agent_get_unread_chat_sessions:{async:!0,parameters:[],result:void 0},agent_get_directory:{async:!0,parameters:[],result:void 0},agent_get_logged_users:{async:!0,parameters:[],result:void 0},agent_find_contact:{async:!0,parameters:[],result:void 0},agent_subscribe_users_details:{async:!0,parameters:[],result:void 0},agent_unsubscribe_users_details:{async:!0,parameters:[],result:void 0},agent_subscribe_teams_stats:{async:!0,parameters:[],result:void 0},agent_unsubscribe_teams_stats:{async:!0,parameters:[],result:void 0},agent_subscribe_team_stats:{async:!0,parameters:[],result:void 0},agent_unsubscribe_team_stats:{async:!0,parameters:[],result:void 0},agent_get_campaigns_summary:{async:!0,parameters:[],result:void 0},agent_get_campaign_details:{async:!0,parameters:[],result:void 0},agent_get_campaign_lists_summary:{async:!0,parameters:[],result:void 0},agent_get_campaign_teams_summary:{async:!0,parameters:[],result:void 0},agent_get_record_report:{async:!0,parameters:[],result:void 0},user_change_state:{async:!0,parameters:[],result:void 0},agent_qm_call_start:{async:!0,parameters:[],result:void 0},agent_qm_record_start:{async:!0,parameters:[],result:void 0},agent_qm_record_stop:{async:!0,parameters:[],result:void 0},agent_qm_record_mute:{async:!0,parameters:[],result:void 0},agent_qm_record_unmute:{async:!0,parameters:[],result:void 0},agent_mark_problem_item:{async:!0,parameters:[],result:void 0},agent_flag_item:{async:!0,parameters:[],result:void 0},agent_update_screenpop:{async:!0,parameters:[],result:void 0},agent_send_screenpop:{async:!0,parameters:[],result:void 0},agent_set_scenario_variables:{async:!0,parameters:[],result:void 0},agent_get_scenario_variables:{async:!0,parameters:[],result:void 0},agent_phone_status:{async:!0,parameters:[],result:void 0},agent_stop_item:{async:!0,parameters:[],result:void 0},server_data:{async:!0,parameters:[],result:void 0},agent_play_user_voice_prompt:{async:!0,parameters:[],result:void 0},agent_stop_user_voice_prompt:{async:!0,parameters:[],result:void 0},agent_info:{async:!0,parameters:[],result:void 0},agent_external_chat_timeout_pause:{async:!0,parameters:[],result:void 0},agent_external_chat_timeout_resume:{async:!0,parameters:[],result:void 0},agent_activity_report:{async:!0,parameters:[],result:void 0},agent_record_out_of_band_call_attempt:{async:!0,parameters:[],result:void 0},agent_item_peek_subscribe:{async:!0,parameters:[],result:void 0},agent_item_peek_unsubscribe:{async:!0,parameters:[],result:void 0},agent_call_pickup_accept:{async:!0,parameters:[],result:void 0},agent_call_pickup_reject:{async:!0,parameters:[],result:void 0},agent_item_intents_subscribe:{async:!0,parameters:[],result:void 0},__ping__:{async:!0,parameters:[],result:void 0},__pong__:{async:!0,parameters:[],result:void 0}},Of=["__ping__","__pong__","server_data","agent_query","3pcc_data"];var Tf=wf({auth_accept:{parameters:[]},auth_reject:{parameters:[]},auth_redirect:{parameters:[]},agent_welcome:{parameters:[]},agent_message:{parameters:[]},error_message:{parameters:[]},agent_set_phone_device_result:{parameters:[]},"3pcc_data":{parameters:[]},"3pcc_server_connected":{parameters:[]},"3pcc_server_disconnected":{parameters:[]},agent_change_state:{parameters:[]},agent_item_created:{parameters:[]},agent_new_item:{parameters:[]},agent_item_changed:{parameters:[]},agent_item_intent:{parameters:[]},agent_item_pre_complete:{parameters:[]},agent_agent_stats:{parameters:[]},agent_teams_stats:{parameters:[]},agent_team_stats:{parameters:[]},agent_campaigns_summary:{parameters:[]},agent_campaign_details:{parameters:[]},agent_campaign_lists_summary:{parameters:[]},agent_campaign_teams_summary:{parameters:[]},agent_record_report:{parameters:[]},byebye:{parameters:[]},agent_external_chat_party_joined:{parameters:[]},agent_external_chat_party_changed:{parameters:[]},agent_external_chat_party_left:{parameters:[]},agent_external_chat_channel_opened:{parameters:[]},agent_external_chat_error:{parameters:[]},agent_external_chat_message:{parameters:[]},agent_external_chat_message_attributes:{parameters:[]},agent_external_chat_content:{parameters:[]},agent_external_chat_navigation:{parameters:[]},agent_external_chat_session_ended:{parameters:[]},agent_external_chat_file:{parameters:[]},agent_external_chat_typing:{parameters:[]},agent_external_chat_not_typing:{parameters:[]},agent_external_chat_cobrowsing_started:{parameters:[]},agent_external_chat_cobrowsing_rejected:{parameters:[]},agent_external_chat_cobrowsing_ended:{parameters:[]},agent_external_chat_signaling:{parameters:[]},agent_external_chat_location:{parameters:[]},agent_chat:{parameters:[]},agent_internal_message:{parameters:[]},agent_chat_history:{parameters:[]},agent_im_conv_list:{parameters:[]},agent_im_conv_info:{parameters:[]},agent_im_conv_history:{parameters:[]},agent_im_conv_message:{parameters:[]},agent_im_conv_member_added:{parameters:[]},agent_im_conv_member_deleted:{parameters:[]},agent_im_conv_updated:{parameters:[]},agent_im_conv_created:{parameters:[]},agent_im_conv_deleted:{parameters:[]},agent_im_conv_members_added:{parameters:[]},agent_im_conv_members_deleted:{parameters:[]},agent_workitem_data:{parameters:[]},agent_query_result:{parameters:[]},agent_user_data:{parameters:[]},agent_teams:{parameters:[]},agent_logged_users:{parameters:[]},agent_find_contact_result:{parameters:[]},agent_users_details:{parameters:[]},agent_services_details:{parameters:[]},agent_hunt_groups_details:{parameters:[]},agent_directory_categories:{parameters:[]},agent_directory:{parameters:[]},server_data:{parameters:[]},service_status:{parameters:[]},agent_send_screenpop:{parameters:[]},agent_user_voice_prompt_completed:{parameters:[]},agent_start_screen_recording:{parameters:[]},agent_stop_screen_recording:{parameters:[]},agent_screen_recorder:{parameters:[]},agent_unread_chat_sessions:{parameters:[]},agent_emi_up:{parameters:[]},agent_emi_down:{parameters:[]},agent_call_waiting_notify_audio:{parameters:[]},agent_emi_channel_received:{parameters:[]},agent_emi_channel_sent:{parameters:[]},agent_item_voice_transcript_data:{parameters:[]},agent_item_suggestion_data:{parameters:[]},agent_item_sentiment_data:{parameters:[]},agent_item_message_attributes:{parameters:[]},agent_scenario_variables:{parameters:[]},agent_item_peek_transcript:{parameters:[]},agent_item_peek_voice_transcript_data:{parameters:[]},agent_item_peek_chat_transcript_data:{parameters:[]},agent_item_peek_intent_result:{parameters:[]},agent_call_pickup_notify:{parameters:[]},agent_call_pickup_cancel:{parameters:[]},__ping__:{parameters:[]},__pong__:{parameters:[]}},["__ping__","__pong__","server_data","agent_query_result","3pcc_data"]),Ef=wf(If,Of);function Df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af={getAgentDesktopTimeZoneNameDataList:{async:!0,parameters:[],result:void 0},changePassword:{async:!0,parameters:[],result:void 0}},Pf={stopCampaign:{async:!0,parameters:[],result:void 0},startCampaign:{async:!0,parameters:[],result:void 0},enableList:{async:!0,parameters:[],result:void 0},disableList:{async:!0,parameters:[],result:void 0}},kf=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Df(e,t,n[t])}))}return e}({},Af,Pf),Rf={invocation_result:{parameters:[]}},Nf={agent_calendar_alert_delivered:{async:!0,parameters:[],result:void 0},agent_open_case:{async:!0,parameters:[],result:void 0},agent_open_queue_item:{async:!0,parameters:[],result:void 0},agent_open_reply_for_email:{async:!0,parameters:[],result:void 0},agent_create_email:{async:!0,parameters:[],result:void 0},agent_create_case_email:{async:!0,parameters:[],result:void 0},agent_create_followup_case:{async:!0,parameters:[],result:void 0},agent_move_queue_item:{async:!0,parameters:[],result:void 0},agent_transfer_email:{async:!0,parameters:[],result:void 0},agent_edit_email:{async:!0,parameters:[],result:void 0},agent_delete_case:{async:!0,parameters:[],result:void 0},agent_close_queue_item:{async:!0,parameters:[],result:void 0},agent_close_case_as_spam:{async:!0,parameters:[],result:void 0},agent_close_case_with_disposition:{async:!0,parameters:[],result:void 0}},Mf={agent_calendar_alert:{parameters:[]},agent_close_case_with_disposition_completed:{parameters:[]},agent_pull_failed:{parameters:[]}},jf={agent_email_uniqueness_check:{async:!0,parameters:[],result:void 0},agent_service_info:{async:!0,parameters:[],result:void 0},service_dispositions:{async:!0,parameters:[],result:void 0},hs_supervisor_dispositions:{async:!0,parameters:[],result:void 0},evaluation_areas:{async:!0,parameters:[],result:void 0},application_config:{async:!0,parameters:[],result:void 0},agent_dashboard_config:{async:!0,parameters:[],result:void 0},chat_launch_point_info:{async:!0,parameters:[],result:void 0},user_profile_info_read:{async:!0,parameters:[],result:void 0},voice_mail_greetings:{async:!0,parameters:[],result:void 0},voice_prompt_read:{async:!0,parameters:[],result:void 0},service_info:{async:!0,parameters:[],result:void 0},localized_languages:{async:!0,parameters:[],result:void 0},tenant_features:{async:!0,parameters:[],result:void 0},agent_access_number_info:{async:!0,parameters:[],result:void 0},agent_outbound_chat_channels:{async:!0,parameters:[],result:void 0},agent_outbound_chat_channels2:{async:!0,parameters:[],result:void 0},service_voice_prompts:{async:!0,parameters:[],result:void 0},email_reply_template:{async:!0,parameters:[],result:void 0},agent_name_info:{async:!0,parameters:[],result:void 0},supervisor_sub_team_agents:{async:!0,parameters:[],result:void 0},agent_service_info_by_team:{async:!0,parameters:[],result:void 0},language_skill_info:{async:!0,parameters:[],result:void 0},case_categories:{async:!0,parameters:[],result:void 0},case_pending_reasons:{async:!0,parameters:[],result:void 0},service_messenger_data:{async:!0,parameters:[],result:void 0},messenger_data:{async:!0,parameters:[],result:void 0},custom_activity_history_fields:{async:!0,parameters:[],result:void 0},ia_intents:{async:!0,parameters:[],result:void 0},team_service_info:{async:!0,parameters:[],result:void 0}},xf={agent_query_result:{parameters:[]}};function Lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $f,Kf="e3pcc_";function Ff(e){return"".concat(Kf).concat(e)}var Uf,qf=(Lf($f={},Ff("dial"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("rtc_call_made"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("rtc_call_reset"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("disconnect"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("answer"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("hold"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("resume"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("mute"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("unmute"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("send_dtmf"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("single_step_transfer"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("complete_conference"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("complete_transfer"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("destroy_conference"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("remove_party"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("reserve_call"),{async:!0,parameters:[],result:void 0}),Lf($f,Ff("release_call"),{async:!0,parameters:[],result:void 0}),$f),Bf=(Lf(Uf={},Ff("rtc_call_make"),{parameters:[]}),Lf(Uf,Ff("rtc_call_drop"),{parameters:[]}),Lf(Uf,Ff("offered"),{parameters:[]}),Lf(Uf,Ff("failed"),{parameters:[]}),Lf(Uf,Ff("call_setup"),{parameters:[]}),Lf(Uf,Ff("dialing"),{parameters:[]}),Lf(Uf,Ff("ringing"),{parameters:[]}),Lf(Uf,Ff("user_data"),{parameters:[]}),Lf(Uf,Ff("disconnected"),{parameters:[]}),Lf(Uf,Ff("established"),{parameters:[]}),Lf(Uf,Ff("party_removed"),{parameters:[]}),Lf(Uf,Ff("party_added"),{parameters:[]}),Lf(Uf,Ff("party_changed"),{parameters:[]}),Lf(Uf,Ff("muted"),{parameters:[]}),Lf(Uf,Ff("unmuted"),{parameters:[]}),Lf(Uf,Ff("device_snapshot"),{parameters:[]}),Lf(Uf,Ff("caps_changed"),{parameters:[]}),Lf(Uf,Ff("local_held"),{parameters:[]}),Lf(Uf,Ff("local_resumed"),{parameters:[]}),Lf(Uf,Ff("audio_quality_alert"),{parameters:[]}),Lf(Uf,Ff("reserve_call_result"),{parameters:[]}),Uf);function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gf(e,t,n[t])}))}return e}var zf,Wf,Vf=(zf=Hf({},Tf,Rf,Mf,xf,Bf),Wf=null!=(Wf={onConnectInitiated:{parameters:[]},onConnectError:{parameters:[]},onTransportError:{parameters:[]},onWebsocketErrorEvent:{parameters:[]},onPingMessage:{parameters:[]},onPongMessage:{parameters:[]},onConnected:{parameters:[]},onDisconnected:{parameters:[]},onUnhandledDisconnection:{parameters:[]}})?Wf:{},Object.getOwnPropertyDescriptors?Object.defineProperties(zf,Object.getOwnPropertyDescriptors(Wf)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(Wf)).forEach((function(e){Object.defineProperty(zf,e,Object.getOwnPropertyDescriptor(Wf,e))})),zf),Yf=Hf({},Ef,kf,Nf,jf,qf);function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jf(e,t,n[t])}))}return e}function Zf(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function e_(e){return function(e){if(Array.isArray(e))return Qf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var r_=function(e){return Oa(Ef).reduce((function(t,n){return t[n]=function(t){e(ka(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){t_(e,t,n[t])}))}return e}({action:n},t)))},t}),{})};function a_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a_(e,t,n[t])}))}return e}function i_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c_=function(e){return Oa(Nf).reduce((function(t,n){return t[n]=function(t){e(function(e,t){return{action:"server_data",request_id:t.request_id,server_type:"ACTIVITYSERVER",data:ka(o_({activityserver_action:e},s_(t,["request_id"])))}}(n,t))},t}),{})};function u_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u_(e,t,n[t])}))}return e}function d_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var f_=function(e){var t=function(t,n){return Oa(t).reduce((function(t,r){return d_(l_({},t),u_({},r,(function(t){e(function(e,t,n){var r=t.request_id,a=t.params;return{action:"server_data",request_id:r,server_type:"PORTAL",data:{invocate_service:JSON.stringify({service:n,method:e,params:a})}}}(r,t,n))})))}),{})};return l_({},t(Af,"UserContextServiceImp"),t(Pf,"ServiceServiceImp"))};function __(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=[],a=0;do{(t=e[a.toString()])&&(r[a]=n(t)),++a}while(t);return r}function p_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.reduce((function(e,n,r){return n&&(e[r.toString()]=t(n)),e}),{})}function m_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var h_=Oa(jf).reduce((function(e,t){return e[t]=[],e}),{}),y_=Ya({timeoutMilliseconds:1e4}),v_=function(e,t){return Oa(jf).reduce((function(n,r){return n[r]=function(n){Ta(null==n?void 0:n.request_id);var a=n.request_id;v.info('@@@ agent query "'.concat(r,'" with id "').concat(a,'"'));var o=wf(n,"request_id"),i=h_[r].find((function(e){return fa(e.payload,o)}));if(i)return v.debug('Cache is found for "'.concat(r,'" agent_query')),void i.promise.then((function(e){t.agent_query_result(g_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m_(e,t,n[t])}))}return e}({},e),{request_id:a}))}));var s=y_.addRequest({requestId:a,displayName:r}).promise,c={payload:o,promise:s};h_[r].push(c);var u=function(){var e=h_[r].indexOf(c);-1!==e&&h_[r].splice(e,1)};s.then((function(){setTimeout(u,1e3)})).catch((function(e){throw u(),new Error(e)})),e(function(e,t){var n={action:"agent_query",request_id:t.request_id,query:e},r=ka(t);return Object.keys(r).length&&(n.params=r),n}(r,n))},n}),{})};function b_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b_(e,t,n[t])}))}return e}function S_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function w_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function I_(e){return e.slice(Kf.length)}var O_=function(e){return Oa(qf).reduce((function(t,n){return t[n]=function(t){e(function(e,t){return ka({action:"3pcc_data",request_id:"request_id"in t?t.request_id:void 0,data:S_(C_({},t),{request:I_(e)})})}(n,t))},t}),{})};function T_(e,t){var n=e.data,r=n.event,a=w_(n,["event"]),o=function(e){return"".concat(Kf).concat(e)}(r),i=t[o];if(i)return i(a);v.warn('Receive unknown 3pcc_data event "'.concat(r,'":'),n)}function E_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D_(e){if(Array.isArray(e))return e}function A_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function k_(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A_(e,t,n[t])}))}return e}function N_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function M_(e,t){return D_(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||L_(e,t)||k_()}function j_(e){return D_(e)||P_(e)||L_(e)||k_()}function x_(e){return function(e){if(Array.isArray(e))return E_(e)}(e)||P_(e)||L_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L_(e,t){if(e){if("string"==typeof e)return E_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E_(e,t):void 0}}var $_=function(e){var t=La();return{resolvePromiseOnIncomingEvent:function(e){return N_(R_({},e),{dispenser:function(){var n=e.dispenser();return Object.keys(e.events()).forEach((function(n){e.eventTarget.addEventListener(n,(function(e){!function(e,n){var r,a=null===(r=n.detail.parameters)||void 0===r?void 0:r[0],o=F_(e,a)||(null==a?void 0:a.request_id);o&&t.resolvePromise(o,a)}(n,e)}))})),n}})},returnPromiseOnOutgoingDispatch:function(n){return N_(R_({},n),{dispatch:function(){var r=n.dispatch(),a=n.events();return Oa(a).reduce((function(n,a){return N_(R_({},n),A_({},a,(function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=r[a],c=j_(o),u=c[0],l=c.slice(1),d=F_(a,o[0])||K_(o)||e(),f=N_(R_({},u),{request_id:d}),_=[f].concat(x_(l));s.apply(void 0,x_(_));var p=M_(t.createPromise(d),1),m=p[0];return m})))}),{})}})}}};function K_(e){var t,n;return e[0]&&(t=e[0],null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"request_id"in e[0]?e[0].request_id:void 0}function F_(e,t){var n,r=null===(n=[{requestEventName:"agent_get_workitem_data",responseEventName:"agent_workitem_data",connectedByParamName:"workitem_id"}].find((function(t){return t.requestEventName===e||t.responseEventName===e})))||void 0===n?void 0:n.connectedByParamName;if(r)return null==t?void 0:t[r]}function U_(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function q_(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U_(o,r,a,i,s,"next",e)}function s(e){U_(o,r,a,i,s,"throw",e)}i(void 0)}))}}function B_(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function G_(e){return e.host}function H_(e,t){var n=new Promise((function(t,n){var r=setTimeout((function(){clearTimeout(r),n(new Error("timeout"))}),e)}));return Promise.race([t,n])}function z_(e){return W_.apply(this,arguments)}function W_(){return W_=q_((function(e){var t=arguments;return B_(this,(function(n){switch(n.label){case 0:return[4,H_(t.length>1&&void 0!==t[1]?t[1]:1e4,yc(e).getServerAddressList())];case 1:return[2,n.sent()]}}))})),W_.apply(this,arguments)}function V_(e){return Y_.apply(this,arguments)}function Y_(){return Y_=q_((function(e){var t,n,r,a,o,i;return B_(this,(function(s){switch(s.label){case 0:return t=e.serverAddressList,n=e.triedServerAddresses,r=e.localSettings,a=e.serverId,o=void 0,a&&(o=t.find((function(e){return e.id===a}))),o?[3,3]:[4,r.get("lastConnectedServerAddress")];case 1:return(i=s.sent())&&(o=t.find((function(e){return G_(e)===G_(i)}))),o||(o=t[0]),o?[4,r.remove("lastConnectedServerAddress")]:[3,3];case 2:s.sent(),s.label=3;case 3:return o&&(n[G_(o)]=1),[2,o]}}))})),Y_.apply(this,arguments)}function Q_(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function J_(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q_(o,r,a,i,s,"next",e)}function s(e){Q_(o,r,a,i,s,"throw",e)}i(void 0)}))}}function X_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var tp=new va,np=v.withPrefix("@WS");function rp(e,t,n){var r,a;"action"in e&&("incoming"===t?(r="Incoming message",a="background: #a9eda9;"):"outgoing"===t&&(r="Outgoing message",a="background: lightblue;"),console.groupCollapsed("%c".concat(r,"%c: ").concat(e.action),a,""),"mobile"===n.clientType()&&"agent_get_scenario_variables"===e.action&&(e.names=e.names.substring(0,500)+"..."),np.info(e),console.groupEnd())}var ap=function(){function e(t,n){var r,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z_(this,"localSettings",void 0),Z_(this,"platformSpecific",void 0),Z_(this,"ws",void 0),Z_(this,"wsIsConnecting",void 0),Z_(this,"resolversDecorators",void 0),Z_(this,"eventCacheContainer",void 0),Z_(this,"incomingEvents",void 0),Z_(this,"outgoingEvents",void 0),Z_(this,"dispenser",void 0),Z_(this,"dispatch",void 0),Z_(this,"incomingDispatch",void 0),Z_(this,"subscriptions",void 0),Z_(this,"lastRequestId",void 0),Z_(this,"lastOutgoingPingTimestamp",void 0),Z_(this,"wifiEventsReceiver",void 0),Z_(this,"outgoingMessageInterceptors",void 0),Z_(this,"lastServerAddressList",void 0),Z_(this,"connect",void 0),Z_(this,"disconnect",void 0),Z_(this,"disconnectWithDispatch",void 0),Z_(this,"sendPing",void 0),Z_(this,"initiateSendMessage",void 0),Z_(this,"addOutgoingMessageInterceptor",void 0),Z_(this,"interceptOutgoingMessage",void 0),Z_(this,"sendTransportErrorMessage",void 0),Z_(this,"dispatchWifiMobEvent",void 0),this.localSettings=t,this.platformSpecific=n,this.resolversDecorators=$_(this.getNextRequestId.bind(this)),this.eventCacheContainer=(r=!1,a=[],{eventCacheDecorator:function(e){return Zf(Xf({},e),{dispatch:function(){var t=e.dispatch();return Oa(e.events()).reduce((function(e,n){return Zf(Xf({},e),Jf({},n,(function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var s;(s=t)[n].apply(s,e_(o)),r&&a.push({event:n,payload:o})})))}),{})},dispenser:function(){var t=e.dispenser();return{subscribe:function(e){var n=t.subscribe(e);return r&&pa()((function(){a.forEach((function(t){var n,r,a=t.event,o=t.payload;null===(r=e[a])||void 0===r||(n=r).call.apply(n,[e].concat(e_(o)))}))})),{unsubscribe:function(){n.unsubscribe()}}}}}})},startCaching:function(){r=!0,v.debug("@WS start incoming events caching"),setTimeout((function(){r=!1,a.splice(0,a.length),v.debug("@WS stop incoming events caching")}),5e3)}}),this.incomingEvents=$a(Vf).with(this.resolversDecorators.resolvePromiseOnIncomingEvent).with(this.eventCacheContainer.eventCacheDecorator),this.outgoingEvents=$a(Yf).with(this.resolversDecorators.returnPromiseOnOutgoingDispatch),this.dispenser=this.incomingEvents.dispenser(),this.dispatch=this.outgoingEvents.dispatch(),this.incomingDispatch=this.incomingEvents.dispatch(),this.subscriptions=[],this.lastRequestId=1e4,this.lastOutgoingPingTimestamp=null,this.wifiEventsReceiver=tp,this.outgoingMessageInterceptors=[];var i=this;this.connect=function(){var e=J_((function(e,t){return ep(this,(function(n){switch(n.label){case 0:return np.info("impl connect 104"),i.dispatchWifiMobEvent("wifi","connect  transport 81"),i.ws?[3,2]:(np.info("impl connect 107",{localSettings:i.localSettings,serverOrigin:e,serverId:t}),i.incomingDispatch.onConnectInitiated(),i.wsIsConnecting=i.createWebSocket(e,t).then((function(e){return np.info("impl connect resolved 112"),i.ws=e,i.wsIsConnecting=void 0,e}),(function(e){throw np.info("impl connect rejected 118"),i.wsIsConnecting=void 0,e})),[4,i.wsIsConnecting]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),this.disconnect=function(){np.info("impl disconnect 124"),o.ws&&o.ws.close(),delete o.ws},this.disconnectWithDispatch=function(){np.info("impl disconnectWithDispatch 130"),o.disconnect(),o.incomingDispatch.onDisconnected()},this.sendPing=function(){o.ws&&(o.lastOutgoingPingTimestamp=Date.now(),setTimeout((function(){o.dispatchWifiMobEvent("wifi","outgoingPing")}),200),o.ws.send(JSON.stringify(o.interceptOutgoingMessage({__ping__:"1"}))))},this.initiateSendMessage=function(e){o.ws?o.sendMessage(e,o.ws):o.wsIsConnecting?o.wsIsConnecting.then(o.initiateSendMessage.bind(o,e)):o.sendTransportErrorMessage()},this.addOutgoingMessageInterceptor=function(e){o.outgoingMessageInterceptors.push(e)},this.interceptOutgoingMessage=function(e){return o.outgoingMessageInterceptors.reduce((function(e,t){return t(e)}),e)},this.sendTransportErrorMessage=function(){return o.incomingDispatch.onTransportError({message:"attempt to send message over disconnected websocket"})},this.dispatchWifiMobEvent=function(e,t){o.wifiEventsReceiver.dispatchEvent(new ba(e,{detail:t}))},this.subscriptions.push(this.outgoingEvents.dispenser().subscribe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z_(e,t,n[t])}))}return e}({},r_(this.initiateSendMessage),c_(this.initiateSendMessage),f_(this.initiateSendMessage),v_(this.initiateSendMessage,this.incomingDispatch),O_(this.initiateSendMessage)))),this.pingWsConnection()}var t,n,r;return t=e,n=[{key:"isConnected",value:function(){return!!this.ws}},{key:"createWebSocket",value:function(e,t){var n=this;return J_((function(){var r,a,o,i,s,c,u,l,d,f,_;return ep(this,(function(p){switch(p.label){case 0:n.dispatchWifiMobEvent("wifi","createWebSocket transport 118"),o={},np.info("impl createWebSocket 152"),p.label=1;case 1:return p.trys.push([1,6,,7]),t&&n.lastServerAddressList||(np.info("impl createWebSocket 157"),n.lastServerAddressList=z_(e,5e3)),np.info("impl createWebSocket 160"),[4,n.lastServerAddressList];case 2:return r=p.sent(),np.info("impl createWebSocket 162",{serverAddressList:r,triedServerAddresses:o,serverId:t}),!t||r.find((function(e){return e.id===t}))?[3,4]:(n.lastServerAddressList=z_(e,5e3),[4,n.lastServerAddressList]);case 3:r=p.sent(),p.label=4;case 4:return[4,V_({serverAddressList:r,triedServerAddresses:o,localSettings:n.localSettings,serverId:t})];case 5:return a=p.sent(),np.info("impl createWebSocket 164",a),n.dispatchWifiMobEvent("wifi","serverAddress, ".concat(!!a)),[3,7];case 6:return i=p.sent(),s=z(i),np.info("impl createWebSocket catch 167",s),n.incomingDispatch.onConnectError({message:null!=s?s:""}),n.dispatchWifiMobEvent("wifi","createWebSocket failed"),[2,Promise.reject(i)];case 7:if(void 0===a)return np.info("impl createWebSocket onConnectError 174"),c="unable to get first server address",n.incomingDispatch.onConnectError({message:c}),[2,Promise.reject(new Error(c))];u="undefined"==typeof document||"https:"===window.location.protocol,l=void 0,d=void 0,p.label=8;case 8:return p.trys.push([8,10,,11]),np.info("impl createWebSocket 186",{serverAddress:a,useHttps:u}),[4,n.createWebSocketForServer({serverAddress:a,useHttps:u})];case 9:return l=p.sent(),np.info("impl createWebSocket 188"),[3,11];case 10:return f=p.sent(),np.info("impl createWebSocket catch 190",z(f)),m=f,g=Error,d=(null!=g&&"undefined"!=typeof Symbol&&g[Symbol.hasInstance]?g[Symbol.hasInstance](m):m instanceof g)?f:void 0,a=function(e){var t=e.serverAddressList,n=e.triedServerAddresses,r=t.find((function(e){return!n[G_(e)]}));return r&&(n[G_(r)]=1),r}({serverAddressList:r,triedServerAddresses:o,localSettings:n.localSettings}),[3,11];case 11:if(void 0===l&&void 0!==a)return[3,8];p.label=12;case 12:return np.info("impl createWebSocket 196"),l?(np.info("impl createWebSocket 198"),[4,n.localSettings.set("lastConnectedServerAddress",a)]):[3,14];case 13:return p.sent(),np.info("impl createWebSocket 200"),[2,l];case 14:return _="could not connect to agent server. ".concat(d?d.message:""),np.info("impl createWebSocket reject 204",_),n.incomingDispatch.onConnectError({message:_}),[2,Promise.reject(new Error(_))]}var m,g}))}))()}},{key:"createWebSocketForServer",value:function(e){var t=this,n=e.serverAddress,r=e.useHttps;this.dispatchWifiMobEvent("wifi","createWebSocketForServer 169");var a,o=r?"wss":"ws",i=G_(n),s=r?n.httpsPort:n.httpPort,c="".concat(o,"://").concat(i,":").concat(s);return a=new WebSocket(c),new Promise((function(e,n){setTimeout((function(){n(new Error("TransportWebsocketImpl: connection timeout"))}),1e4);var r=function(){t.dispatchWifiMobEvent("wifi","open"),Promise.resolve().then((function(){t.incomingDispatch.onConnected({host:i,port:String(s)})})),e(a),"mobile"!==t.platformSpecific.clientType()&&t.eventCacheContainer.startCaching()},o=function(e){var n,r;try{n=JSON.parse(e.data)}catch(s){return void t.incomingDispatch.onTransportError({message:"error parsing incoming message: ".concat(z(s))})}if(n){if("__ping__"in n)return t.dispatchWifiMobEvent("wifi","__ping__"),t.incomingDispatch.onPingMessage(),a.send(JSON.stringify(t.interceptOutgoingMessage({__pong__:"1"}))),void setTimeout((function(){t.dispatchWifiMobEvent("wifi","__pong__")}),200);if("action"in n)return rp(n,"incoming",t.platformSpecific),"action"in(r=n)&&"server_data"===r.action&&"PORTAL"===r.server_type&&"invocation_result"in r.data?void function(e,t){var n=e.request_id,r=e.data;try{t.invocation_result(l_({request_id:n},JSON.parse(r.invocation_result)))}catch(s){return t.invocation_result({request_id:n,error:{message:"Result parsing error"}})}}(n,t.incomingDispatch):function(e){return"action"in e&&"server_data"===e.action&&"ACTIVITYSERVER"===e.server_type&&"activityserver_action"in e.data}(n)?void function(e,t){var n=e.request_id,r=e.data,a=r.activityserver_action,o=s_(r,["activityserver_action"]),i=t[a];if(i)return i(i_(o_({},o),{request_id:n}));v.warn('Receive unknown Activity Server action "'.concat(a,'":'),r)}(n,t.incomingDispatch):function(e){return"action"in e&&"agent_query_result"===e.action&&("result"in e||"error_message"in e)}(n)?void function(e,t){var n=e.request_id,r=e.result,a=e.error_message,o=ka({request_id:n,result:a?void 0:__(r),error:a?{message:a}:void 0});y_.hasRequest(n)&&y_.onResponse(n,o),t.agent_query_result(o)}(n,t.incomingDispatch):function(e){return"action"in e&&"3pcc_data"===e.action}(n)?void T_(n,t.incomingDispatch):function(e){return"action"in e&&Oa(Tf).includes(e.action)}(n)?void function(e,t){var n=e.action,r=n_(e,["action"]),a=t[n];if(a)return a(r);v.warn('Receive unknown WebSocket action "'.concat(n,'":'),e)}(n,t.incomingDispatch):void np.warn("Received unknown event from the server:",n);if("__pong__"in n){var o=Date.now();t.incomingDispatch.onPongMessage({timestamp:o});var i=t.lastOutgoingPingTimestamp?o-t.lastOutgoingPingTimestamp:0;return void setTimeout((function(){var e=t.lastOutgoingPingTimestamp?i/1e3:"";t.dispatchWifiMobEvent("wifi","incomingPong, RTT: ".concat(e," seconds"))}),200)}}t.incomingDispatch.onTransportError({message:"unrecognized incoming message: neither __ping__ nor __pong__ nor action"})},c=function(e){np.info("impl onTransportError 254",e),t.incomingDispatch.onWebsocketErrorEvent(e)},u=function(){np.info("impl websocket closed"),a.removeEventListener("open",r),a.removeEventListener("message",o),a.removeEventListener("error",c),a.removeEventListener("close",u),t.ws===a&&(np.info("impl websocket deleted"),t.dispatchWifiMobEvent("wifi","close"),delete t.ws,t.incomingDispatch.onDisconnected())};a.addEventListener("open",r),a.addEventListener("message",o),a.addEventListener("error",c),a.addEventListener("close",u)}))}},{key:"sendMessage",value:function(e,t){rp(e,"outgoing",this.platformSpecific),t.send(JSON.stringify(this.interceptOutgoingMessage(e)))}},{key:"getNextRequestId",value:function(){return(this.lastRequestId++).toString()}},{key:"getStateData",value:function(){return{}}},{key:"resetState",value:function(){this.disconnect(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.splice(0)}},{key:"cleanup",value:function(){this.disconnect(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.splice(0)}},{key:"pingWsConnection",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&"undefined"!=typeof document&&(window.addEventListener("online",(function(){np.info("impl online event"),e.sendPing()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&(np.info("impl visible event"),e.sendPing())})))}}],n&&X_(t.prototype,n),r&&X_(t,r),e}();var op={onInitialState:{parameters:[]},onChange:{parameters:[]}},ip={registerActivity:{parameters:[]}};function sp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dp(e,t,n){return dp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fp(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},dp(e,t,n||e)}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fp(e)}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lp(e,t,n[t])}))}return e}function pp(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function mp(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?sp(e):t;var n}function gp(e,t){return gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gp(e,t)}function hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fp(e);if(t){var a=fp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mp(this,n)}}var yp,vp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gp(e,t)}(o,e);var t,n,r,a=hp(o);function o(){var e;return cp(this,o),lp(sp(e=a.apply(this,arguments)),"inactiveTimeout",-1),lp(sp(e),"sendingInterval",-1),lp(sp(e),"initSendingActivityStatus",(function(){e.sendingInterval=setInterval((function(){e.sendActivityStatus()}),6e4)})),lp(sp(e),"sendActivityStatus",(function(){e.transport.dispatch.agent_activity_report({activity:Oe(e.stateData.isActive)})})),lp(sp(e),"addUserActivityStatusInEveryTransportOutgoingMessage",(function(){var t,n;null===(n=e.transport)||void 0===n||null===(t=n.addOutgoingMessageInterceptor)||void 0===t||t.call(n,(function(t){return pp(_p({},t),{__activity_status__:Oe(e.stateData.isActive)})}))})),lp(sp(e),"registerActivity",(function(){e.updateState((function(){return{isActive:!0}})),e.setInactiveAfterSeconds(60)})),lp(sp(e),"setInactiveAfterSeconds",(function(t){clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){e.updateState((function(){return{isActive:!1}}))}),1e3*t)})),e}return t=o,(n=[{key:"initialize",value:function(){this.registerActivity(),this.addUserActivityStatusInEveryTransportOutgoingMessage(),this.initSendingActivityStatus(),this.subscriptions.push(this.fromClientDispenser.subscribe({registerActivity:this.registerActivity}))}},{key:"cleanup",value:function(){dp(fp(o.prototype),"cleanup",this).call(this),clearTimeout(this.inactiveTimeout)}},{key:"resetState",value:function(){dp(fp(o.prototype),"resetState",this).call(this),clearTimeout(this.inactiveTimeout)}}])&&up(t.prototype,n),r&&up(t,r),o}(Ts.createBaseStateClass({name:"userActivityState",controlEvents:ip,trackerEvents:op,options:{synchronized:!0},dependencies:["transport"],getInitialState:function(){return{isActive:!1}}})),bp=["GET_LOGIN_STATE","LOGIN","LOGOUT","GET_AGENT_STATE","SET_AGENT_STATE","ACCEPT_INTERACTION","REJECT_INTERACTION","START_CALL","START_CHAT","START_EMAIL","SEND_DTMF","CONSULT_CALL","BLIND_TRANSFER","TRANSFER","LEAVE_INTERACTION","COMPLETE_INTERACTION","LEAVE_AND_COMPLETE_INTERACTION","SWITCH_ACTIVE_INTERACTION","INVITE_TO_CALL_CONFERENCE","REMOVE_FROM_CALL_CONFERENCE","DESTROY_CALL_CONFERENCE","INVITE_TO_CHAT_CONFERENCE","REMOVE_FROM_CHAT_CONFERENCE","MERGE_ALL_CALLS_INTO_CONFERENCE","GET_TEAMS","GET_TEAM_MEMBERS","GET_SERVICES_LIST","GET_SERVICE","SET_SERVICE","GET_DID_LIST","GET_DID","SET_DID","GET_DISPOSITIONS_LIST","SET_DISPOSITION","SET_RESCHEDULE","ADD_NOTE","UPDATE_NOTE","REPLACE_NOTE","GET_CONFIG","GET_VARIABLES","SET_VARIABLE","ADD_INTERACTION_ASSOCIATED_OBJECT","SET_INTERACTION_ACTIVE_SCREEN","GET_PHONE_DEVICES_LIST","GET_PHONE_DEVICE","SET_PHONE_DEVICE","SET_CALL_HOLD","SET_CALL_RECORDING","SET_CALL_MUTE","SET_SCREEN_RECORDING_MUTE","GET_SCREEN_RECORDING_STATE","SET_WIDGET_MINIMIZED","SEND_CHAT_MESSAGE","SUGGEST_CHAT_MESSAGE","GET_AGENT_NOT_READY_REASONS","ACTIVATE_PAGE","GET_INTERACTIONS_STATE","SET_CALL_RECORDING_MUTE","SET_DIAL_CANDIDATES"],Cp={ON_LOGIN:{needResponse:!1},ON_LOGOUT:{needResponse:!1},ON_NEW_INTERACTION:{needResponse:!1},ON_INTERACTION_REMOVED:{needResponse:!1},ON_INTERACTION_STATE_CHANGE:{needResponse:!1},ON_ACTIVE_INTERACTION_SWITCHED:{needResponse:!1},ON_AGENT_STATE_CHANGE:{needResponse:!1},ON_REQUEST_TRANSFER_DATA:{needResponse:!0},ON_LOAD_TRANSFER_DATA:{needResponse:!1},ON_GET_KNOWLEDGE_BASE_FOLDER:{needResponse:!0},ON_SEARCH_KNOWLEDGE_BASE:{needResponse:!0},ON_GET_KNOWLEDGE_BASE_ARTICLE:{needResponse:!0},ON_OPEN_RECORD:{needResponse:!1},ON_SEARCH_RECORDS:{needResponse:!1},ON_SHOW_SCREEN:{needResponse:!1},ON_SCREEN_RECORDING_STATE_CHANGE:{needResponse:!1},ON_WIDGET_MINIMIZED_CHANGE:{needResponse:!1},ON_SERVER_ERROR:{needResponse:!1},ON_SOFTPHONE_STATUS_CHANGE:{needResponse:!1},ON_AUDIO_DEVICE_CHANGE:{needResponse:!1},ON_PHONE_CAPABILITIES_CHANGE:{needResponse:!1},ON_CALL_AUDIO_QUALITY_ALERT:{needResponse:!1},ON_WEB_SCREEN_POP_CUSTOM:{needResponse:!0},ON_SAVE_ACTIVITY_RECORD:{needResponse:!1},ON_VALIDATE_ASSOCIATED_RECORDS:{needResponse:!0},ON_REQUEST_RECORD_INFO:{needResponse:!0},ON_REQUEST_RECORD_ON_SCREEN:{needResponse:!0}},Sp="_RESPONSE",wp=(bp.map((function(e){return"".concat(e).concat(Sp)})),(yp=Cp,Object.keys.call(yp,yp)).filter((function(e){return Cp[e].needResponse})).map((function(e){return"".concat(e).concat(Sp)}))),Ip={not_enough_privileges:1,not_logged_in:2,invalid_args:3,logged_without_phone:4,banned:5,api_not_answer:6,invalid_request:7,timeout:8,no_chat_in_service:9,empty_number:10,no_service:11,self_call:12,no_interaction:13,api_method_not_implemented:14,not_suitable_state:15,no_disposition:16,object_not_found:17,no_permissions_did_sms:18,no_permissions_did_call:19,no_channel_in_service:20,unknown_error:99},Op={forced_logout_by_other_client:100,forced_logout_by_supervisor:101,invalid_request:102,phone_not_registered:103,phone_not_in_dial_plan:104,tenant_disabled:105,destination_user_not_logged:106,user_disabled_or_deleted:107,user_already_logged_in:108,invalid_credentials:109,other_user_logged_with_phone:110,invalid_token:111,logged_users_limit_reached:112,already_logged_in_with_the_same_session:113,not_enough_privileges:114,sip_server_error:200,unknown_error:300},Tp=["phone_type_browser","phone_type_external","phone_type_hard_custom","phone_type_hard_default","phone_type_nailed","phone_type_none","phone_type_soft_secure","phone_type_microsoft_teams","phone_type_soft_unsecure"],Ep=["internal","external"],Dp=["mobile","business","home","fax","other"];function Ap(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pp(e,t,n){return Pp=xp()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Mp(a,n.prototype),a},Pp.apply(null,arguments)}function kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(e)}function Np(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Ap(e):t;var n}function Mp(e,t){return Mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mp(e,t)}function jp(e){var t="function"==typeof Map?new Map:void 0;return jp=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Pp(e,arguments,Rp(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mp(n,e)},jp(e)}function xp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Lp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mp(e,t)}(a,e);var t,n,r=(t=a,n=xp(),function(){var e,r=Rp(t);if(n){var a=Rp(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Np(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),kp(Ap(n=r.call(this,t)),"name",void 0),kp(Ap(n),"code",void 0),n.name=e,n.code=Ip[e],n}return a}(jp(Error));function $p(e,t){return{code:Ip[e],name:e,message:t}}function Kp(e){return e&&e.code&&e.name&&"number"==typeof e.code&&"string"==typeof e.name?{code:e.code,name:e.name,message:e.message}:{code:Ip.unknown_error,name:"unknown_error",message:(t=e,n=Error,(null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e.message:"string"==typeof e?e:void 0)};var t,n}var Fp="CALLBACK_HAS_NO_HANDLERS",Up={onInitialState:{parameters:[]},onChange:{parameters:[]},onGetLoginState:{async:!0,parameters:[],result:void 0},onLogin:{async:!0,parameters:[],result:void 0},onLogout:{async:!0,parameters:[],result:void 0},onGetAgentState:{async:!0,parameters:[],result:void 0},onSetAgentState:{async:!0,parameters:[],result:void 0},onAcceptInteraction:{async:!0,parameters:[],result:void 0},onRejectInteraction:{async:!0,parameters:[],result:void 0},onStartCall:{async:!0,parameters:[],result:void 0},onStartChat:{async:!0,parameters:[],result:void 0},onStartEmail:{async:!0,parameters:[],result:void 0},onSendDtmf:{async:!0,parameters:[],result:void 0},onConsultCall:{async:!0,parameters:[],result:void 0},onBlindTransfer:{async:!0,parameters:[],result:void 0},onTransfer:{async:!0,parameters:[],result:void 0},onLeaveInteraction:{async:!0,parameters:[],result:void 0},onCompleteInteraction:{async:!0,parameters:[],result:void 0},onLeaveAndCompleteInteraction:{async:!0,parameters:[],result:void 0},onSwitchActiveInteraction:{async:!0,parameters:[],result:void 0},onInviteToCallConference:{async:!0,parameters:[],result:void 0},onRemoveFromCallConference:{async:!0,parameters:[],result:void 0},onDestroyCallConference:{async:!0,parameters:[],result:void 0},onInviteToChatConference:{async:!0,parameters:[],result:void 0},onRemoveFromChatConference:{async:!0,parameters:[],result:void 0},onMergeAllCallsIntoConference:{async:!0,parameters:[],result:void 0},onGetTeams:{async:!0,parameters:[],result:void 0},onGetTeamMembers:{async:!0,parameters:[],result:void 0},onGetServicesList:{async:!0,parameters:[],result:void 0},onGetService:{async:!0,parameters:[],result:void 0},onSetService:{async:!0,parameters:[],result:void 0},onGetDIDNumbersList:{async:!0,parameters:[],result:void 0},onGetDIDNumber:{async:!0,parameters:[],result:void 0},onSetDIDNumber:{async:!0,parameters:[],result:void 0},onGetDispositionsList:{async:!0,parameters:[],result:void 0},onSetDisposition:{async:!0,parameters:[],result:void 0},onAddNote:{async:!0,parameters:[],result:void 0},onUpdateNote:{async:!0,parameters:[],result:void 0},onReplaceNote:{async:!0,parameters:[],result:void 0},onSetRescheduleWindow:{async:!0,parameters:[],result:void 0},onGetConfig:{async:!0,parameters:[],result:void 0},onSetVariable:{async:!0,parameters:[],result:void 0},onGetVariables:{async:!0,parameters:[],result:void 0},onAddInteractionAssociatedObject:{async:!0,parameters:[],result:void 0},onSetInteractionActiveScreen:{async:!0,parameters:[],result:void 0},onGetPhoneDevicesList:{async:!0,parameters:[],result:void 0},onGetPhoneDevice:{async:!0,parameters:[],result:void 0},onSetPhoneDevice:{async:!0,parameters:[],result:void 0},onSetCallHold:{async:!0,parameters:[],result:void 0},onSetCallRecording:{async:!0,parameters:[],result:void 0},onSetCallMute:{async:!0,parameters:[],result:void 0},onSetScreenRecordingMute:{async:!0,parameters:[],result:void 0},onGetScreenRecordingState:{async:!0,parameters:[],result:void 0},onSetWidgetMinimized:{async:!0,parameters:[],result:void 0},onSendChatMessage:{async:!0,parameters:[],result:void 0},onSuggestChatMessage:{async:!0,parameters:[],result:void 0},onGetAgentNotReadyReasons:{async:!0,parameters:[],result:void 0},onActivatePage:{async:!0,parameters:[],result:void 0},onGetInteractionsState:{async:!0,parameters:[],result:void 0},onSetCallRecordingMute:{async:!0,parameters:[],result:void 0},onSetDialCandidates:{async:!0,parameters:[],result:void 0}},qp={setDeferredDialData:{parameters:[]},addPendingAssociatedObjects:{parameters:[]},removePendingAssociatedObjects:{parameters:[]},login:{parameters:[]},logout:{parameters:[]},newInteraction:{parameters:[]},interactionRemoved:{parameters:[]},interactionStateChange:{parameters:[]},activeInteractionSwitched:{parameters:[]},agentStateChange:{parameters:[]},loadTransferData:{parameters:[]},openRecord:{parameters:[]},searchRecords:{parameters:[]},showScreen:{parameters:[]},screenRecordingStateChange:{parameters:[]},widgetMinimizedChange:{parameters:[]},serverError:{parameters:[]},softphoneStatusChange:{parameters:[]},audioDeviceChange:{parameters:[]},phoneCapabilitiesChange:{parameters:[]},callAudioQualityAlert:{parameters:[]},saveActivityRecord:{parameters:[]},requestTransferData:{async:!0,parameters:[],result:void 0},getKnowledgeBaseFolder:{async:!0,parameters:[],result:void 0},getKnowledgeBaseArticle:{async:!0,parameters:[],result:void 0},searchKnowledgeBase:{async:!0,parameters:[],result:void 0},webScreenPopCustom:{async:!0,parameters:[],result:void 0},validateAssociatedRecords:{async:!0,parameters:[],result:void 0},requestRecordInfo:{async:!0,parameters:[],result:void 0},requestRecordOnScreen:{async:!0,parameters:[],result:void 0}},Bp=function(){return{isAvailable:!1,integrationKey:null,adapterUrlParams:null,deferredDialData:void 0,pendingAssociatedObjects:{},disableNewInteractionPopup:!1,dialCandidates:[]}};function Gp(e){return wp.includes(e)}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wp={extractURLParams:function(e){var t={};if(e)try{var n=e.split("?").slice(1).join("?");if(n.length)n.split("&").reduce((function(e,t){var n=t.split("=");n.length&&(e[decodeURIComponent(n.shift())]=decodeURIComponent(n.join("=")));return e}),t)}catch(wX){v.error("@API Unable to parse URL parameters: ",e)}return t},fromPairs:function(e){return e.reduce((function(e,t){var n=zp(t,2),r=n[0],a=n[1];return e[r]=a,e}),{})}},Vp=function(){return Wp.fromPairs(wp.map((function(e){return[e,{}]})))};function Yp(e){var t;null===(t=window.parent)||void 0===t||t.postMessage(e,"*")}function Qp(e,t,n){Yp({uid:e,type:"".concat(t).concat(Sp),params:{status:"error",error:n}})}var Jp={GET_LOGIN_STATE:"onGetLoginState",LOGIN:"onLogin",LOGOUT:"onLogout",GET_AGENT_STATE:"onGetAgentState",SET_AGENT_STATE:"onSetAgentState",ACCEPT_INTERACTION:"onAcceptInteraction",REJECT_INTERACTION:"onRejectInteraction",START_CALL:"onStartCall",START_CHAT:"onStartChat",START_EMAIL:"onStartEmail",SEND_DTMF:"onSendDtmf",CONSULT_CALL:"onConsultCall",BLIND_TRANSFER:"onBlindTransfer",TRANSFER:"onTransfer",LEAVE_INTERACTION:"onLeaveInteraction",COMPLETE_INTERACTION:"onCompleteInteraction",LEAVE_AND_COMPLETE_INTERACTION:"onLeaveAndCompleteInteraction",SWITCH_ACTIVE_INTERACTION:"onSwitchActiveInteraction",INVITE_TO_CALL_CONFERENCE:"onInviteToCallConference",REMOVE_FROM_CALL_CONFERENCE:"onRemoveFromCallConference",DESTROY_CALL_CONFERENCE:"onDestroyCallConference",INVITE_TO_CHAT_CONFERENCE:"onInviteToChatConference",REMOVE_FROM_CHAT_CONFERENCE:"onRemoveFromChatConference",MERGE_ALL_CALLS_INTO_CONFERENCE:"onMergeAllCallsIntoConference",GET_TEAMS:"onGetTeams",GET_TEAM_MEMBERS:"onGetTeamMembers",GET_SERVICES_LIST:"onGetServicesList",GET_SERVICE:"onGetService",SET_SERVICE:"onSetService",GET_DID_LIST:"onGetDIDNumbersList",GET_DID:"onGetDIDNumber",SET_DID:"onSetDIDNumber",GET_DISPOSITIONS_LIST:"onGetDispositionsList",SET_DISPOSITION:"onSetDisposition",SET_RESCHEDULE:"onSetRescheduleWindow",ADD_NOTE:"onAddNote",UPDATE_NOTE:"onUpdateNote",REPLACE_NOTE:"onReplaceNote",GET_CONFIG:"onGetConfig",SET_VARIABLE:"onSetVariable",GET_VARIABLES:"onGetVariables",ADD_INTERACTION_ASSOCIATED_OBJECT:"onAddInteractionAssociatedObject",SET_INTERACTION_ACTIVE_SCREEN:"onSetInteractionActiveScreen",GET_PHONE_DEVICES_LIST:"onGetPhoneDevicesList",GET_PHONE_DEVICE:"onGetPhoneDevice",SET_PHONE_DEVICE:"onSetPhoneDevice",SET_CALL_HOLD:"onSetCallHold",SET_CALL_RECORDING:"onSetCallRecording",SET_CALL_MUTE:"onSetCallMute",SET_SCREEN_RECORDING_MUTE:"onSetScreenRecordingMute",GET_SCREEN_RECORDING_STATE:"onGetScreenRecordingState",SET_WIDGET_MINIMIZED:"onSetWidgetMinimized",SEND_CHAT_MESSAGE:"onSendChatMessage",SUGGEST_CHAT_MESSAGE:"onSuggestChatMessage",GET_AGENT_NOT_READY_REASONS:"onGetAgentNotReadyReasons",ACTIVATE_PAGE:"onActivatePage",GET_INTERACTIONS_STATE:"onGetInteractionsState",SET_CALL_RECORDING_MUTE:"onSetCallRecordingMute",SET_DIAL_CANDIDATES:"onSetDialCandidates"};function Xp(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Zp(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var em=["null","undefined","boolean","number","string"],tm=["primitiveObject","interactionAssociatedObject","interactionAssociatedObjectsArray","externalKBItems","externalKBSearchResults","externalKBArticle","formattedDate","phoneDeviceData","dispositionTarget","loginData","rescheduleData","arrayOfStrings","dialCandidates","phoneNumbers","recordsValidationResult"],nm=function(e,t){if(!Da(e))return!1;var n=Object.keys(e),r=Object.keys(t);return!!n.every((function(n){return!!r.includes(n)&&sm(e[n],t[n])}))&&r.filter((function(e){return!n.includes(e)})).every((function(e){var n,r;return(null===(n=t[e].types)||void 0===n?void 0:n.includes("undefined"))||(null===(r=t[e].values)||void 0===r?void 0:r.includes(void 0))}))},rm=function(e){if(!Da(e))return!1;return nm(e,{id:{types:["string"]},type:{types:["string"]},displayName:{types:["string"]},displayType:{types:["string"]},customFields:{types:["primitiveObject"]}})},am=function(e){if(!Da(e))return!1;return nm(e,{id:{types:["string"]},title:{types:["string"]},text:{types:["string"]},type:{values:["article"]}})},om=/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/,im={primitiveObject:function(e){return!(null===e||!Da(e))&&!Object.values(e).some((function(e){return null!==e&&!em.includes(void 0===e?"undefined":Zp(e))}))},interactionAssociatedObject:rm,interactionAssociatedObjectsArray:function(e){return!!Xp(e,Array)&&e.every((function(e){return rm(e)}))},externalKBItems:function(e){return!!Xp(e,Array)&&e.every((function(e){return am(e)||function(e){return!!Da(e)&&nm(e,{id:{types:["string"]},title:{types:["string"]},type:{values:["folder"]}})}(e)}))},externalKBSearchResults:function(e){return!!Xp(e,Array)&&e.every(am)},externalKBArticle:function(e){if(!Da(e))return!1;return nm(e,{id:{types:["string"]},title:{types:["string"]},keywords:{types:["string"]},answer:{types:["string"]},notes:{types:["string"]},language:{types:["string"]},createdByUser:{types:["string"]},lastEditedByUser:{types:["string"]},customFields:{types:["primitiveObject"]}})},formattedDate:function(e){if("string"!=typeof e||!om.test(e))return!1;var t=parseInt(e.slice(0,4),10),n=parseInt(e.slice(5,7),10),r=parseInt(e.slice(8,10),10),a=parseInt(e.slice(11,13),10),o=parseInt(e.slice(14,16),10),i=parseInt(e.slice(17,19),10);if(t<1e3||t>3e3||n<1||n>12)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(t%400==0||t%100!=0&&t%4==0)&&(s[1]=29),!(r<1||r>s[n-1])&&!(a<0||a>23||o<0||o>59||i<0||i>59)},phoneDeviceData:function(e){return!!Da(e)&&nm(e,{type:{values:Tp},phone:{types:["string","undefined"]}})},dispositionTarget:function(e){if(!Da(e))return!1;return nm(e,{service:{types:["string","undefined"]},interactionId:{types:["string","undefined"]}})},loginData:function(e){if(!Da(e))return!1;return nm(e,{username:{types:["string"]},password:{types:["string"]},tenant:{types:["string","undefined"]}})},rescheduleData:function(e){if(!Da(e))return!1;return nm(e,{numberToDial:{types:["string"]},fromTime:{types:["formattedDate"]},untilTime:{types:["formattedDate"]},timezoneCode:{types:["string","undefined"]}})},arrayOfStrings:function(e){return Xp(e,Array)&&e.every((function(e){return"string"==typeof e}))},dialCandidates:function(e){var t={id:{types:["string"]},displayName:{types:["string"]},phones:{types:["phoneNumbers"]},email:{types:["string","undefined"]},associatedObjects:{types:["interactionAssociatedObjectsArray"]}};return!!Xp(e,Array)&&e.every((function(e){return nm(e,t)}))},phoneNumbers:function(e){var t={number:{types:["string"]},type:{values:Dp},displayType:{types:["string","undefined"]}};return!!Xp(e,Array)&&e.every((function(e){return nm(e,t)}))},recordsValidationResult:function(e){if(!Da(e))return!1;return nm(e,{valid:{types:["boolean"]},message:{types:["string","undefined"]}})}},sm=function(e,t){var n,r;if(null===(n=t.types)||void 0===n?void 0:n.length){if(t.types.includes("null")&&null===e)return!0;if(t.types.includes(void 0===e?"undefined":Zp(e)))return!0;var a=tm.filter((function(e){return Ta(t.types),t.types.includes(e)})),o=!0,i=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;if(im[l](e))return!0}}catch(wX){i=!0,s=wX}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return!1}return!!(null===(r=t.values)||void 0===r?void 0:r.length)&&t.values.includes(e)};function cm(e,t){if(e.length>t.length)throw new Lp("invalid_args","Expected to receive ".concat(t.length," parameters, but got ").concat(e.length));t.forEach((function(t,n){if(!sm(e[n],t)){var r,a;if(null===(r=t.types)||void 0===r?void 0:r.length)throw new Lp("invalid_args","Allowed types: ".concat(t.types.join(", "),'. But got: "').concat(Zp(e[n]),'"'));if(null===(a=t.values)||void 0===a?void 0:a.length)throw new Lp("invalid_args","Allowed values: ".concat(t.values.join(", "),'. But got: "').concat(e[n],'"'));throw new Lp("unknown_error","Type constraint for this method isn't working. Please contact the support.")}}))}var um={GET_LOGIN_STATE:[],LOGIN:[{types:["loginData"]},{types:["boolean","undefined"]}],LOGOUT:[],GET_AGENT_STATE:[],SET_AGENT_STATE:[{values:["supervising","ready","not_ready","busy","after_call_work","reserved","ringing"]},{types:["string","undefined"]}],ACCEPT_INTERACTION:[{types:["string","undefined"]}],REJECT_INTERACTION:[{types:["string","undefined"]}],START_CALL:[{types:["string"]},{types:["interactionAssociatedObjectsArray"]}],START_CHAT:[{values:["telegram","line","facebook","web","nexmo","sms","viber","twitter","wechat","whatsapp"]},{types:["string"]},{types:["interactionAssociatedObjectsArray"]}],START_EMAIL:[{types:["string"]},{types:["interactionAssociatedObjectsArray"]}],SEND_DTMF:[{types:["string"]},{types:["string","undefined"]}],CONSULT_CALL:[{types:["string"]}],BLIND_TRANSFER:[{types:["string"]},{types:["primitiveObject","undefined"]},{types:["string","undefined"]}],TRANSFER:[{types:["primitiveObject","undefined"]}],LEAVE_INTERACTION:[{types:["string","undefined"]}],COMPLETE_INTERACTION:[{types:["string","undefined"]}],LEAVE_AND_COMPLETE_INTERACTION:[{types:["string","undefined"]},{types:["string","undefined"]},{types:["string","undefined"]}],SWITCH_ACTIVE_INTERACTION:[{types:["string"]}],INVITE_TO_CALL_CONFERENCE:[{types:["string"]},{types:["primitiveObject","undefined"]},{types:["string","undefined"]}],REMOVE_FROM_CALL_CONFERENCE:[{types:["string"]},{types:["string","undefined"]}],DESTROY_CALL_CONFERENCE:[{types:["string","undefined"]}],INVITE_TO_CHAT_CONFERENCE:[{types:["string"]},{types:["string","undefined"]}],REMOVE_FROM_CHAT_CONFERENCE:[{types:["string"]},{types:["string","undefined"]}],MERGE_ALL_CALLS_INTO_CONFERENCE:[{types:["primitiveObject","undefined"]}],GET_TEAMS:[],GET_TEAM_MEMBERS:[{types:["string"]}],GET_SERVICES_LIST:[],GET_SERVICE:[],SET_SERVICE:[{types:["string","null"]}],GET_DID_LIST:[],GET_DID:[],SET_DID:[{types:["string","null"]}],GET_DISPOSITIONS_LIST:[{types:["dispositionTarget"]}],SET_DISPOSITION:[{types:["string"]},{types:["string","undefined"]}],ADD_NOTE:[{types:["string"]},{types:["string","undefined"]}],UPDATE_NOTE:[{types:["string"]},{types:["string","undefined"]}],REPLACE_NOTE:[{types:["string"]},{types:["string","undefined"]}],SET_RESCHEDULE:[{types:["rescheduleData"]},{types:["string","undefined"]}],GET_CONFIG:[],SET_VARIABLE:[{types:["string"]},{types:["string"]},{types:["string","undefined"]}],GET_VARIABLES:[{types:["arrayOfStrings"]},{types:["string","undefined"]}],ADD_INTERACTION_ASSOCIATED_OBJECT:[{types:["interactionAssociatedObject"]},{types:["string","undefined"]}],SET_INTERACTION_ACTIVE_SCREEN:[{types:["primitiveObject"]},{types:["string","undefined"]}],GET_PHONE_DEVICES_LIST:[],GET_PHONE_DEVICE:[],SET_PHONE_DEVICE:[{types:["phoneDeviceData"]}],SET_CALL_HOLD:[{types:["boolean"]},{types:["string","undefined"]}],SET_CALL_RECORDING:[{types:["boolean"]},{types:["string","undefined"]}],SET_CALL_MUTE:[{types:["boolean"]},{types:["string","undefined"]}],SET_SCREEN_RECORDING_MUTE:[{types:["boolean"]}],GET_SCREEN_RECORDING_STATE:[],SET_WIDGET_MINIMIZED:[{types:["boolean"]}],SEND_CHAT_MESSAGE:[{types:["string"]},{types:["string","undefined"]}],SUGGEST_CHAT_MESSAGE:[{types:["string"]},{types:["boolean","undefined"]},{types:["string","undefined"]}],GET_AGENT_NOT_READY_REASONS:[],ACTIVATE_PAGE:[],GET_INTERACTIONS_STATE:[],SET_CALL_RECORDING_MUTE:[{types:["boolean"]},{types:["string","undefined"]}],SET_DIAL_CANDIDATES:[{types:["dialCandidates"]}]},lm={ON_REQUEST_TRANSFER_DATA:[{types:["primitiveObject","null"]}],ON_SEARCH_KNOWLEDGE_BASE:[{types:["externalKBSearchResults"]}],ON_GET_KNOWLEDGE_BASE_ARTICLE:[{types:["externalKBArticle","null"]}],ON_GET_KNOWLEDGE_BASE_FOLDER:[{types:["externalKBItems"]}],ON_WEB_SCREEN_POP_CUSTOM:[{types:["boolean"]}],ON_VALIDATE_ASSOCIATED_RECORDS:[{types:["recordsValidationResult"]}],ON_REQUEST_RECORD_INFO:[{types:["interactionAssociatedObject","null"]}],ON_REQUEST_RECORD_ON_SCREEN:[{types:["interactionAssociatedObject","null"]}]};function dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gm(e,t,n){return gm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hm(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},gm(e,t,n||e)}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hm(e)}function ym(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mm(e,t,n[t])}))}return e}function bm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Cm(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?fm(e):t;var n}function Sm(e,t){return Sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sm(e,t)}function wm(e){return function(e){if(Array.isArray(e))return dm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hm(e);if(t){var a=hm(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Cm(this,n)}}var Om=2e3,Tm=v.withPrefix("@API"),Em=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sm(e,t)}(o,e);var t,n,r,a=Im(o);function o(){var e;return _m(this,o),mm(fm(e=a.apply(this,arguments)),"callbackResponseResolverMap",Vp()),mm(fm(e),"pendingMessages",[]),mm(fm(e),"sessionState",{serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"}),mm(fm(e),"onSessionDataChange",(function(e,t){!e.authChecked&&t.authChecked&&(console.info("@@@ Integration API is ready"),Yp({type:"ready",uid:(0,C.v4)()}))})),mm(fm(e),"simpleApiCall",(function(t,n){null===e.stateData.integrationKey?e.pendingMessages.push({mode:"simple",type:t,params:n}):Yp({uid:(0,C.v4)(),type:t,params:n})})),mm(fm(e),"makeApiCallWithTimeout",(function(t,n,r){Yp({uid:r,type:t,params:n}),e.runResponseTimeoutWatch(t,r)})),mm(fm(e),"apiCallWithResponse",(function(t,n){return new Promise((function(r,a){var o=(0,C.v4)();e.callbackResponseResolverMap[t+Sp][o]={resolve:r,reject:a},null===e.stateData.integrationKey?e.pendingMessages.push({mode:"withResponse",uid:o,type:t,params:n}):e.makeApiCallWithTimeout(t,n,o)}))})),mm(fm(e),"runResponseTimeoutWatch",(function(t,n){var r="".concat(t).concat(Sp);Gp(r)&&setTimeout((function(){var a=e.callbackResponseResolverMap[r],o=a[n];o&&(delete a[n],o.reject($p("timeout","Response message ".concat(t," wasn't received ")+"in the set timeout of ".concat(Om," ms"))))}),Om)})),mm(fm(e),"assertCurrentTabIsLatestActiveADC",(function(t){if(!e.isCurrentTabActiveADC())throw Tm.info('Singleton event "'.concat(t,'" has been skipped on this tab')),new Error(Bo)})),mm(fm(e),"tabSingleton",(function(t,n){e.isCurrentTabActiveADC()?n():console.info('@@@ IntegrationAPI: singleton event "'.concat(t,'" has been skipped on this tab'))})),mm(fm(e),"login",(function(t){e.simpleApiCall("ON_LOGIN",[t])})),mm(fm(e),"logout",(function(){e.simpleApiCall("ON_LOGOUT",[])})),mm(fm(e),"newInteraction",(function(t){e.simpleApiCall("ON_NEW_INTERACTION",[t])})),mm(fm(e),"interactionRemoved",(function(t){e.simpleApiCall("ON_INTERACTION_REMOVED",[t])})),mm(fm(e),"interactionStateChange",(function(t){e.simpleApiCall("ON_INTERACTION_STATE_CHANGE",[t])})),mm(fm(e),"activeInteractionSwitched",(function(t){e.simpleApiCall("ON_ACTIVE_INTERACTION_SWITCHED",[t])})),mm(fm(e),"agentStateChange",(function(t){e.simpleApiCall("ON_AGENT_STATE_CHANGE",[t.state,t.notReadyReason])})),mm(fm(e),"loadTransferData",(function(t,n){e.simpleApiCall("ON_LOAD_TRANSFER_DATA",[t,n])})),mm(fm(e),"screenRecordingStateChange",(function(t){e.simpleApiCall("ON_SCREEN_RECORDING_STATE_CHANGE",[t])})),mm(fm(e),"widgetMinimizedChange",(function(t){e.simpleApiCall("ON_WIDGET_MINIMIZED_CHANGE",[t])})),mm(fm(e),"serverError",(function(t){e.simpleApiCall("ON_SERVER_ERROR",[t])})),mm(fm(e),"softphoneStatusChange",(function(t,n){e.simpleApiCall("ON_SOFTPHONE_STATUS_CHANGE",[t,n])})),mm(fm(e),"audioDeviceChange",(function(t,n){e.simpleApiCall("ON_AUDIO_DEVICE_CHANGE",[t,n])})),mm(fm(e),"phoneCapabilitiesChange",(function(t){e.simpleApiCall("ON_PHONE_CAPABILITIES_CHANGE",[t])})),mm(fm(e),"callAudioQualityAlert",(function(t,n){e.simpleApiCall("ON_CALL_AUDIO_QUALITY_ALERT",[t,n])})),mm(fm(e),"openRecord",(function(t,n,r){e.tabSingleton("ON_OPEN_RECORD",(function(){return e.simpleApiCall("ON_OPEN_RECORD",[t,n,r])}))})),mm(fm(e),"searchRecords",(function(t,n,r){e.tabSingleton("ON_SEARCH_RECORDS",(function(){return e.simpleApiCall("ON_SEARCH_RECORDS",[t,n,r])}))})),mm(fm(e),"showScreen",(function(t,n){e.tabSingleton("ON_SHOW_SCREEN",(function(){return e.simpleApiCall("ON_SHOW_SCREEN",[t,n])}))})),mm(fm(e),"saveActivityRecord",(function(t){e.tabSingleton("ON_SAVE_ACTIVITY_RECORD",(function(){return e.simpleApiCall("ON_SAVE_ACTIVITY_RECORD",[t])}))})),mm(fm(e),"requestTransferData",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_REQUEST_TRANSFER_DATA"),e.apiCallWithResponse("ON_REQUEST_TRANSFER_DATA",[t])})),mm(fm(e),"getKnowledgeBaseFolder",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_GET_KNOWLEDGE_BASE_FOLDER"),e.apiCallWithResponse("ON_GET_KNOWLEDGE_BASE_FOLDER",[t]).then((function(t){return t.map((function(t){var n;return bm(vm({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""})}))}))})),mm(fm(e),"searchKnowledgeBase",(function(t,n,r){return e.assertCurrentTabIsLatestActiveADC("ON_SEARCH_KNOWLEDGE_BASE"),e.apiCallWithResponse("ON_SEARCH_KNOWLEDGE_BASE",[t,n,r]).then((function(t){return t.map((function(t){var n;return bm(vm({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""})}))}))})),mm(fm(e),"getKnowledgeBaseArticle",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_GET_KNOWLEDGE_BASE_ARTICLE"),e.apiCallWithResponse("ON_GET_KNOWLEDGE_BASE_ARTICLE",[t]).then((function(t){var n;return t?bm(vm({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""}):null}))})),mm(fm(e),"webScreenPopCustom",(function(t,n){return e.assertCurrentTabIsLatestActiveADC("ON_WEB_SCREEN_POP_CUSTOM"),e.apiCallWithResponse("ON_WEB_SCREEN_POP_CUSTOM",[t,n])})),mm(fm(e),"validateAssociatedRecords",(function(t,n){return e.assertCurrentTabIsLatestActiveADC("ON_VALIDATE_ASSOCIATED_RECORDS"),e.apiCallWithResponse("ON_VALIDATE_ASSOCIATED_RECORDS",[t,n])})),mm(fm(e),"requestRecordInfo",(function(t){return e.assertCurrentTabIsLatestActiveADC("ON_REQUEST_RECORD_INFO"),e.apiCallWithResponse("ON_REQUEST_RECORD_INFO",[t]).then((function(t){var n;return t?bm(vm({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""}):null}))})),mm(fm(e),"requestRecordOnScreen",(function(){return e.assertCurrentTabIsLatestActiveADC("ON_REQUEST_RECORD_ON_SCREEN"),e.apiCallWithResponse("ON_REQUEST_RECORD_ON_SCREEN",[]).then((function(t){var n;return t?bm(vm({},t),{source:null!==(n=e.stateData.integrationKey)&&void 0!==n?n:""}):null}))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({setDeferredDialData:this.setDeferredDialData,addPendingAssociatedObjects:this.addPendingAssociatedObjects,removePendingAssociatedObjects:this.removePendingAssociatedObjects,login:this.login,logout:this.logout,newInteraction:this.newInteraction,interactionRemoved:this.interactionRemoved,interactionStateChange:this.interactionStateChange,activeInteractionSwitched:this.activeInteractionSwitched,agentStateChange:this.agentStateChange,loadTransferData:this.loadTransferData,openRecord:this.openRecord,searchRecords:this.searchRecords,showScreen:this.showScreen,screenRecordingStateChange:this.screenRecordingStateChange,widgetMinimizedChange:this.widgetMinimizedChange,serverError:this.serverError,audioDeviceChange:this.audioDeviceChange,callAudioQualityAlert:this.callAudioQualityAlert,phoneCapabilitiesChange:this.phoneCapabilitiesChange,softphoneStatusChange:this.softphoneStatusChange,saveActivityRecord:this.saveActivityRecord,requestTransferData:this.requestTransferData,getKnowledgeBaseFolder:this.getKnowledgeBaseFolder,getKnowledgeBaseArticle:this.getKnowledgeBaseArticle,searchKnowledgeBase:this.searchKnowledgeBase,webScreenPopCustom:this.webScreenPopCustom,validateAssociatedRecords:this.validateAssociatedRecords,requestRecordInfo:this.requestRecordInfo,requestRecordOnScreen:this.requestRecordOnScreen}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){e.onSessionDataChange(e.sessionState,t),e.sessionState=vm({},t)},onChange:function(t){var n=vm({},e.sessionState,t);e.onSessionDataChange(e.sessionState,n),e.sessionState=n}})),this.registerMessageListeners(),this.startAutoDetectionAdapterPing()}},{key:"isCurrentTabActiveADC",value:function(){var e,t=this.currentTabDataProvider.get().latestActivationTimestamp,n=this.tabsConnector.getStateData().tabs,r=(e=Math).max.apply(e,wm(Object.values(n).filter((function(e){return e.activeApi})).map((function(e){return e.latestActivationTimestamp}))));return Tm.info("### current tab latest activation timestamp:",t),Tm.info("### latest activated ADC timestamp overall:",r),t>=r}},{key:"setDeferredDialData",value:function(e){this.produceState((function(t){t.deferredDialData=e}))}},{key:"addPendingAssociatedObjects",value:function(e,t){var n=this;if(t.length){var r=(0,C.v4)();this.produceState((function(n){n.pendingAssociatedObjects[e]={lastId:r,objects:t}})),setTimeout((function(){var t=n.stateData.pendingAssociatedObjects[e];(null==t?void 0:t.lastId)===r&&n.removePendingAssociatedObjects(e)}),3e4)}}},{key:"removePendingAssociatedObjects",value:function(e){this.produceState((function(t){delete t.pendingAssociatedObjects[e]}))}},{key:"startAutoDetectionAdapterPing",value:function(){var e=this,t=function(){return Yp({type:"hello",uid:(0,C.v4)()})};t();var n=setInterval((function(){null!==e.stateData.integrationKey?clearInterval(n):t()}),5e3)}},{key:"handlePendingMessages",value:function(){var e=this;this.pendingMessages.forEach((function(t){"simple"===t.mode?e.simpleApiCall(t.type,t.params):"withResponse"===t.mode&&e.makeApiCallWithTimeout(t.type,t.params,t.uid)})),this.pendingMessages.splice(0)}},{key:"registerMessageListeners",value:function(){var e=this;window&&"function"==typeof window.addEventListener&&window.addEventListener("message",(function(t){var n=t.data;if(function(e){return!!e&&Da(e)&&"type"in e&&"string"==typeof e.type&&"uid"in e&&"string"==typeof e.uid}(n)){var r=n.type,a=n.uid,o=n.params,i=n.noHandlers;if("hi"===r)return o&&ym(o,Array)&&e.produceState((function(e){e.integrationKey="string"==typeof o[0]?o[0]:null,e.adapterUrlParams="string"==typeof o[1]?Wp.extractURLParams(o[1]):null,e.disableNewInteractionPopup="boolean"==typeof o[2]&&o[2]})),void(e.stateData.integrationKey?(e.handlePendingMessages(),e.produceState((function(e){e.isAvailable=!0}))):Tm.error("API will not work without specifying integration key in the constructor"));if(null!==e.stateData.integrationKey)try{if(!ym(o,Array))return void Qp(a,r,$p("invalid_args","params expected to be an array"));if(function(e){return bp.includes(e)}(r))return void e.handleIncomingRequest(a,r,o);if(Gp(r))return void e.handleIncomingCallbackResponse(a,r,o,null!=i&&i);Qp(a,r,$p("invalid_request","Incorrect message type, or this method is not yet implemented"))}catch(s){Tm.error("Error in message event listener:",z(s))}}}))}},{key:"dispatchRequestMessage",value:function(e,t){var n;return this.internalHandlers(e,t),(n=this.toClientDispatch)[Jp[e]].apply(n,wm(t))}},{key:"internalHandlers",value:function(e,t){"SET_DIAL_CANDIDATES"===e&&this.produceState((function(e){e.dialCandidates=t[0].map((function(t){return bm(vm({},t),{associatedObjects:t.associatedObjects.map((function(t){var n;return bm(vm({},t),{source:null!==(n=e.integrationKey)&&void 0!==n?n:""})}))})}))}))}},{key:"handleIncomingRequest",value:function(e,t,n){try{cm(n,um[t])}catch(a){var r=Kp(a);return console.error("@@@ Api error: ".concat(t," ").concat(e,": ").concat(JSON.stringify(r))),void Qp(e,t,r)}this.dispatchRequestMessage(t,n).then((function(n){!function(e,t,n){Yp({uid:e,type:"".concat(t).concat(Sp),params:{status:"success",data:n}})}(e,t,n)})).catch((function(n){var r=Kp(n);console.error("@@@ Api error: ".concat(t," ").concat(e,": ").concat(JSON.stringify(r))),Qp(e,t,r)}))}},{key:"handleIncomingCallbackResponse",value:function(e,t,n,r){var a=this.callbackResponseResolverMap[t];if(null==a?void 0:a[e]){var o=a[e],i=o.resolve,s=o.reject;delete a[e],r?Promise.resolve().then((function(){s(Fp)})):Promise.resolve().then((function(){var e=t.substring(0,t.length-Sp.length),r=null;try{cm(n,lm[e])}catch(a){r=Kp(a)}Promise.resolve().then((function(){null===r?i(n[0]):s(r)}))}))}else Tm.warn("API received response for unknown request")}},{key:"resetState",value:function(){gm(hm(o.prototype),"resetState",this).call(this),this.pendingMessages.splice(0)}}],n&&pm(t.prototype,n),r&&pm(t,r),o}(Ts.createBaseStateClass({name:"integrationApiState",controlEvents:qp,trackerEvents:Up,getInitialState:Bp,options:{synchronized:!0,coordinationMode:"adc-app"},dependencies:["currentTabDataProvider","sessionConnector","tabsConnector"]}));const Dm=function(e,t,n){(void 0!==n&&!Et(e[t],n)||void 0===n&&!(t in e))&&ro(e,t,n)};const Am=function(e){return cr(e)&&Kr(e)};const Pm=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};const km=function(e){return id(e,dd(e))};const Rm=function(e,t,n,r,a,o,i){var s=Pm(e,n),c=Pm(t,n),u=i.get(c);if(u)Dm(e,n,u);else{var l=o?o(s,c,n+"",e,t,i):void 0,d=void 0===l;if(d){var f=er(c),_=!f&&yr(c),p=!f&&!_&&Pr(c);l=c,f||_||p?er(s)?l=s:Am(s)?l=yd(s):_?(d=!1,l=hd(c,!0)):p?(d=!1,l=Md(c,!0)):l=[]:sf(c)||_r(c)?(l=s,_r(s)?l=km(s):Zt(s)&&!en(s)||(l=Kd(c))):d=!1}d&&(i.set(c,l),a(l,c,r,o,i),i.delete(c)),Dm(e,n,l)}};const Nm=function e(t,n,r,a,o){t!==n&&ao(n,(function(i,s){if(o||(o=new Kn),Zt(i))Rm(t,n,s,r,e,a,o);else{var c=a?a(Pm(t,s),i,s+"",t,n,o):void 0;void 0===c&&(c=i),Dm(t,s,c)}}),dd)};const Mm=function(e,t){return bf(mf(e,t,xo),e+"")};const jm=function(e,t,n){if(!Zt(n))return!1;var r=typeof t;return!!("number"==r?Kr(n)&&br(t,n.length):"string"==r&&t in n)&&Et(n[t],e)};const xm=function(e){return Mm((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,i=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,i&&jm(n[0],n[1],i)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))};var Lm=xm((function(e,t,n){Nm(e,t,n)}));const $m=Lm;var Km={GLOBAL:{call:{getter:function(){return"Call"},mapKey:"InteractionConstants_call"},chat:{getter:function(){return"Chat"},mapKey:"InteractionConstants_chat"},from:{getter:function(){return"From"},mapKey:"InteractionConstants_from"},to:{getter:function(){return"To"},mapKey:"InteractionConstants_to"},at:{getter:function(){return"at"},mapKey:"InteractionConstants_at"},inbound:{getter:function(){return"Inbound"},mapKey:"InteractionConstants_inbound"},outbound:{getter:function(){return"Outbound"},mapKey:"InteractionConstants_outbound"},recording:{getter:function(){return"recording"},mapKey:"InteractionConstants_recording"},result:{getter:function(){return"Result"},mapKey:"InteractionConstants_result"},additional_info:{getter:function(){return"Additional info"},mapKey:"InteractionConstants_additional_info"},re:{getter:function(){return"re"},mapKey:"InteractionConstants_re"},powered_by:{getter:function(){return"Powered by <a href='https://www.brightpattern.com' target='_blank'>Bright Pattern</a>"},mapKey:"Constants_powered_by"},message_not_enough_permissions:{getter:function(){return"Not enough permissions."},mapKey:"Constants_message_not_enough_permissions"},sf_button_openAgentDesktop:{getter:function(){return"Open Agent Desktop Pop-up"},mapKey:"Constants_sf_button_openAgentDesktop"},sf_runningInPopup_msg:{getter:function(){return"Agent Desktop running in pop-up window"},mapKey:"Constants_sf_runningInPopup_msg"},click_to_activate_message:{getter:function(){return"Current page is inactive click anywhere on the page to activate."},mapKey:"Constants_click_to_activate_message"},click_to_login_message:{getter:function(){return"Not logged into Agent Desktop <b>click here</b> to log in"},mapKey:"Constants_click_to_login_message"},drop_files_here:{getter:function(){return"Drop files here"},mapKey:"Constants_drop_files_here"},anonymous:{getter:function(){return"Anonymous"},mapKey:"Constants_anonymous"},unidentified:{getter:function(){return"Unidentified"},mapKey:"Constants_unidentified"},chat_type_telegram:{getter:function(){return"Telegram"},mapKey:"Constants_chat_type_telegram"},dial_request_status_failed:{getter:function(){return"failed"},mapKey:"Constants_dial_request_status_failed"},dial_request_status_search_number:{getter:function(){return"search..."},mapKey:"Constants_dial_request_status_search_number"},reserved_interaction:{getter:function(){return"reserved"},mapKey:"Constants_reserved_interaction"},callback_reservation:{getter:function(){return"Callback reservation"},mapKey:"Constants_callback_reservation"},callback_reservation_details:{getter:function(){return"You will be presented with the call once the customer is called back and connected"},mapKey:"Constants_callback_reservation_details"},callback_reservation_header:{getter:function(){return"Reservation for incoming interaction"},mapKey:"Constants_callback_reservation_header"},do_not_show_again:{getter:function(){return"don't show this to me again"},mapKey:"Constants_do_not_show_again"},internal_error:{getter:function(){return"Internal error"},mapKey:"Constants_internal_error"},dial_request_error_message_record_completed:{getter:function(){return"The campaign record is completed and cannot be dialed anymore"},mapKey:"Constants_dial_request_error_message_record_completed"},dial_request_error_message_hop_violation:{getter:function(){return"The dialed number is outside of the campaign\u2019s safe calling hours"},mapKey:"Constants_dial_request_error_message_hop_violation"},dial_request_error_message_dnc:{getter:function(){return"The number is matching an active Do-not-call List"},mapKey:"Constants_dial_request_error_message_dnc"},dial_request_error_message_campaign_disabled:{getter:function(){return"The campaign is disabled"},mapKey:"Constants_dial_request_error_message_campaign_disabled"},dial_request_error_message_list_is_unavailable:{getter:function(){return"The calling list is not ready for dialing yet, please try again later"},mapKey:"Constants_dial_request_error_message_list_is_unavailable"},dial_request_error_message_number_is_not_found:{getter:function(){return"The dialed number is not found in the campaign\u2019s lists"},mapKey:"Constants_dial_request_error_message_number_is_not_found"},dial_request_error_message_campaign_is_not_found:{getter:function(){return"Campaign is not found"},mapKey:"Constants_dial_request_error_message_campaign_is_not_found"},dial_request_error_message_number_missed:{getter:function(){return"No phone number to dial"},mapKey:"Constants_dial_request_error_message_number_missed"},dial_request_error_message_timeout:{getter:function(){return"Timeout verifying phone number"},mapKey:"Constants_dial_request_error_message_timeout"},dial_request_dial_anyway_button_text:{getter:function(){return"Dial anyway"},mapKey:"Constants_dial_request_dial_anyway_button_text"},chat_type_viber:{getter:function(){return"Viber"},mapKey:"Constants_chat_type_viber"},chat_type_sms:{getter:function(){return"SMS"},mapKey:"Constants_chat_type_sms"},chat_type_nexmo:{getter:function(){return"Nexmo"},mapKey:"Constants_chat_type_nexmo"},chat_type_remote_assist:{getter:function(){return"Remote Assist"},mapKey:"Constants_chat_type_remote_assist"},chat_type_wechat:{getter:function(){return"WeChat"},mapKey:"Constants_chat_type_wechat"},chat_type_facebook:{getter:function(){return"Facebook"},mapKey:"Constants_chat_type_facebook"},chat_type_twitter:{getter:function(){return"Twitter"},mapKey:"Constants_chat_type_twitter"},chat_type_web:{getter:function(){return"Chat"},mapKey:"Constants_chat_type_web"},chat_type_line:{getter:function(){return"Line"},mapKey:"Constants_chat_type_line"},unknown_sticker:{getter:function(e){return"unknown sticker {0}"},mapKey:"Constants_unknown_sticker"},category_selector_no_value:{getter:function(){return"Select Category"},mapKey:"Constants_category_selector_no_value"},category_selector_tooltip:{getter:function(){return"Category Selector"},mapKey:"Constants_category_selector_tooltip"},copy_shareable_link_button_tooltip:{getter:function(){return"Copy shareable link to clipboard"},mapKey:"Constants_copy_shareable_link_button_tooltip"},more_matches_omitted:{getter:function(){return"More matches omitted"},mapKey:"Constants_more_matches_omitted"},enter_search_criteria:{getter:function(){return"enter search criteria"},mapKey:"Constants_enter_search_criteria"},no_data:{getter:function(){return"no data"},mapKey:"Constants_no_data"},contact_not_found:{getter:function(){return"Contact is not found"},mapKey:"Constants_contact_not_found"},case_not_found:{getter:function(){return"Case is not found"},mapKey:"Constants_case_not_found"},no_matches:{getter:function(){return"no matches"},mapKey:"Constants_no_matches"},too_many_matches_results_unsorted:{getter:function(){return"Too many matches; Results are not sorted."},mapKey:"Constants_too_many_matches_results_unsorted"},need_email_or_phone:{getter:function(){return"Need a phone number or an email address to perform augmentation search"},mapKey:"Constants_need_email_or_phone"},need_contact_id:{getter:function(){return"Interaction needs to be associated with a contact to perform augmentation search"},mapKey:"Constants_need_contact_id"},no_name:{getter:function(){return"no name"},mapKey:"Constants_no_name"},show_more:{getter:function(){return"Show more"},mapKey:"Constants_show_more"},maximize:{getter:function(){return"Maximize"},mapKey:"Constants_maximize"},authorization:{getter:function(){return"Authorization..."},mapKey:"Constants_authorization"},loading:{getter:function(){return"Loading..."},mapKey:"Constants_loading"},loggingOff:{getter:function(){return"Logging off..."},mapKey:"Constants_loggingOff"},loggingIn:{getter:function(){return"Logging in..."},mapKey:"Constants_loggingIn"},service_selector_no_value:{getter:function(){return"Select Service"},mapKey:"Constants_service_selector_no_value"},access_number_voice_selector_name:{getter:function(e){return"Voice number <{0}>"},mapKey:"Constants_access_number_voice_selector_name"},access_number_sms_selector_name:{getter:function(e){return"SMS number <{0}>"},mapKey:"Constants_access_number_sms_selector_name"},access_number_voice_and_sms_selector_name:{getter:function(e){return"Voice and SMS number <{0}>"},mapKey:"Constants_access_number_voice_and_sms_selector_name"},none:{getter:function(){return"<< None >>"},mapKey:"Constants_none"},submitAs:{getter:function(){return"Set state to"},mapKey:"Constants_submitAs"},all_teams:{getter:function(){return"All Teams"},mapKey:"Constants_all_teams"},none_tooltip:{getter:function(){return"No value"},mapKey:"Constants_none_tooltip"},notSet:{getter:function(){return"<< Not set >>"},mapKey:"Constants_notSet"},search_input_placeholder:{getter:function(){return"Enter search term"},mapKey:"Constants_search_input_placeholder"},searchTextBoxResetIconTooltip:{getter:function(){return"Reset filter"},mapKey:"Constants_searchTextBoxResetIconTooltip"},playFile:{getter:function(){return"Play file"},mapKey:"Constants_playFile"},stopPlaying:{getter:function(){return"Stop playing"},mapKey:"Constants_stopPlaying"},heading:{getter:function(){return"Agent Desktop"},mapKey:"Constants_heading"},noScriptMessage:{getter:function(){return"Your web browser must have JavaScript enabled in order for this application to display correctly."},mapKey:"Constants_noScriptMessage"},sortAscending:{getter:function(){return"Sort Ascending"},mapKey:"Constants_sortAscending"},sortDescending:{getter:function(){return"Sort Descending"},mapKey:"Constants_sortDescending"},heading_incomingCall:{getter:function(){return"Call / incoming"},mapKey:"Constants_heading_incomingCall"},heading_call:{getter:function(){return"Call"},mapKey:"Constants_heading_call"},heading_incomingEmail:{getter:function(){return"Email / incoming"},mapKey:"Constants_heading_incomingEmail"},update_cases_dialog_header:{getter:function(){return"Update cases"},mapKey:"Constants_update_cases_dialog_header"},heading_email:{getter:function(){return"Email"},mapKey:"Constants_heading_email"},heading_incomingChat:{getter:function(){return"Web Chat / incoming"},mapKey:"Constants_heading_incomingChat"},heading_chat:{getter:function(){return"Web Chat"},mapKey:"Constants_heading_chat"},interaction_state_pending:{getter:function(){return"Pending"},mapKey:"Constants_interaction_state_pending"},interaction_state_active:{getter:function(){return"Active"},mapKey:"Constants_interaction_state_active"},interaction_state_acw:{getter:function(){return"ACW"},mapKey:"Constants_interaction_state_acw"},interaction_state_completed:{getter:function(){return"Completed"},mapKey:"Constants_interaction_state_completed"},heading_incomingPreview:{getter:function(){return"Preview"},mapKey:"Constants_heading_incomingPreview"},heading_preview:{getter:function(){return"Preview"},mapKey:"Constants_heading_preview"},heading_unknown:{getter:function(){return"Unknown"},mapKey:"Constants_heading_unknown"},heading_incomingForum:{getter:function(){return"Forum message / incoming"},mapKey:"Constants_heading_incomingForum"},heading_forum:{getter:function(){return"Forum message"},mapKey:"Constants_heading_forum"},heading_calendarAlert:{getter:function(){return"Calendar Event"},mapKey:"Constants_heading_calendarAlert"},heading_calendarAlert_morePrefix:{getter:function(e){return"(+{0} more)"},mapKey:"Constants_heading_calendarAlert_morePrefix"},heading_incomingMessage:{getter:function(){return"Incoming message"},mapKey:"Constants_heading_incomingMessage"},leaveConfirmMsg:{getter:function(){return"This page is asking you to confirm that you want to leave."},mapKey:"Constants_leaveConfirmMsg"},logout:{getter:function(){return"Log out"},mapKey:"Constants_logout"},logout_confirmMsg:{getter:function(){return"Are you sure you want to log out?"},mapKey:"Constants_logout_confirmMsg"},case_status_new:{getter:function(){return"New"},mapKey:"Constants_case_status_new"},case_status_open:{getter:function(){return"Open"},mapKey:"Constants_case_status_open"},case_status_pending:{getter:function(){return"Pending"},mapKey:"Constants_case_status_pending"},case_status_resolved:{getter:function(){return"Resolved"},mapKey:"Constants_case_status_resolved"},case_status_closed:{getter:function(){return"Closed"},mapKey:"Constants_case_status_closed"},select_disposition_dialog_header:{getter:function(){return"Please select a disposition"},mapKey:"Constants_select_disposition_dialog_header"},case_pending_reason_selector_no_value:{getter:function(){return"<select a reason>"},mapKey:"Constants_case_pending_reason_selector_no_value"},settings:{getter:function(){return"Settings"},mapKey:"Constants_settings"},help:{getter:function(){return"Help"},mapKey:"Constants_help"},wallboard:{getter:function(){return"Wallboard"},mapKey:"Constants_wallboard"},miniWidget:{getter:function(){return"Show As mini widget"},mapKey:"Constants_miniWidget"},popin_tooltip:{getter:function(){return"Pop-in"},mapKey:"Constants_popin_tooltip"},popout_tooltip:{getter:function(){return"Pop-out"},mapKey:"Constants_popout_tooltip"},reloadConfirmMsg:{getter:function(){return"Your copy of Agent Desktop is out of date. Press OK to update it now. The application may not work properly if you do not update it."},mapKey:"Constants_reloadConfirmMsg"},qmMode_monitoring_short:{getter:function(){return"M"},mapKey:"Constants_qmMode_monitoring_short"},qmMode_coaching_short:{getter:function(){return"C"},mapKey:"Constants_qmMode_coaching_short"},qmMode_bargein_short:{getter:function(){return"B"},mapKey:"Constants_qmMode_bargein_short"},voice_signature:{getter:function(){return"voice signature"},mapKey:"Constants_voice_signature"},notification_callWithNoAnswer_networkProblem:{getter:function(e){return"A call attempted at {0} to this phone was not delivered due to network, firewall, or computer configuration issues."},mapKey:"Constants_notification_callWithNoAnswer_networkProblem"},notification_agentInNotReadyNoAnswer:{getter:function(e,t){return"You are in the {0} state because you did not accept a customer interaction at {1}. Select the Ready state when ready to handle customer interactions."},mapKey:"Constants_notification_agentInNotReadyNoAnswer"},notification_agentInNotReadyConnectionLoss:{getter:function(e,t){return"Your state was set to {0} because at {1} a call to this phone was not delivered due to network, firewall, or computer configuration issues. Please ensure this phone can accept calls before switching into the Ready state."},mapKey:"Constants_notification_agentInNotReadyConnectionLoss"},remove_conference_party_tooltip:{getter:function(e){return"Disconnect {0} from conference"},mapKey:"Constants_remove_conference_party_tooltip"},addressType_phone:{getter:function(){return"Phone"},mapKey:"Constants_addressType_phone"},addressType_account:{getter:function(){return"Account"},mapKey:"Constants_addressType_account"},addressType_twitter:{getter:function(){return"Twitter"},mapKey:"Constants_addressType_twitter"},addressType_skype:{getter:function(){return"Skype"},mapKey:"Constants_addressType_skype"},addressType_email:{getter:function(){return"Email"},mapKey:"Constants_addressType_email"},addressType_address:{getter:function(){return"Address"},mapKey:"Constants_addressType_address"},campaign_mode_preview:{getter:function(){return"preview"},mapKey:"Constants_campaign_mode_preview"},campaign_mode_progressive:{getter:function(){return"progressive"},mapKey:"Constants_campaign_mode_progressive"},campaign_mode_predictive:{getter:function(){return"predictive"},mapKey:"Constants_campaign_mode_predictive"},emailInAgentsPersonalQueue:{getter:function(e){return"Email in agent's ({0}) personal queue."},mapKey:"Constants_emailInAgentsPersonalQueue"},voicemail_greeting_dialog_activeGreeting_notBeenChanged_message:{getter:function(){return"Active Voicemail Greeting has not been changed."},mapKey:"Constants_voicemail_greeting_dialog_activeGreeting_notBeenChanged_message"},voicemail_greeting_edit_dialog_heading:{getter:function(){return"Edit Voicemail Greeting"},mapKey:"Constants_voicemail_greeting_edit_dialog_heading"},voicemail_greeting_button_edit_label:{getter:function(){return"edit/record"},mapKey:"Constants_voicemail_greeting_button_edit_label"},voicemail_greeting_button_delete_label:{getter:function(){return"delete"},mapKey:"Constants_voicemail_greeting_button_delete_label"},time_units_hours:{getter:function(){return"hours"},mapKey:"Constants_time_units_hours"},time_units_minutes:{getter:function(){return"minutes"},mapKey:"Constants_time_units_minutes"},time_units_days:{getter:function(){return"days"},mapKey:"Constants_time_units_days"},button_followUpActivity_tooltip:{getter:function(){return"Schedule follow-up activity"},mapKey:"Constants_button_followUpActivity_tooltip"},next_prefix:{getter:function(){return"Next"},mapKey:"Constants_next_prefix"},home_screen_welcome_url:{getter:function(){return"Welcome"},mapKey:"Constants_home_screen_welcome_url"},home_screen_personal_stats:{getter:function(){return"Personal stats"},mapKey:"Constants_home_screen_personal_stats"},home_screen_team_stats:{getter:function(){return"Team stats"},mapKey:"Constants_home_screen_team_stats"},OK:{getter:function(){return"OK"},mapKey:"PasswordErrorMessages_OK"},TOO_SHORT:{getter:function(){return"The password is too short"},mapKey:"PasswordErrorMessages_TOO_SHORT"},NO_LETTER_DIGITS:{getter:function(){return"The password is too weak - need both letters and digits"},mapKey:"PasswordErrorMessages_NO_LETTER_DIGITS"},NO_UPPER_LOWER:{getter:function(){return"The password is too weak - need both upper and lower case letters"},mapKey:"PasswordErrorMessages_NO_UPPER_LOWER"},NO_SPECIAL:{getter:function(){return"The password is too weak - needs to have a special character"},mapKey:"PasswordErrorMessages_NO_SPECIAL"},IN_WEAK_LIST:{getter:function(){return"The password is too weak - it can be easily guessed"},mapKey:"PasswordErrorMessages_IN_WEAK_LIST"},RECENTLY_USED:{getter:function(){return"The password was used previously"},mapKey:"PasswordErrorMessages_RECENTLY_USED"},must_change_password:{getter:function(){return"Must change password"},mapKey:"Constants_must_change_password"},account_disabled:{getter:function(){return"Account disabled"},mapKey:"Constants_account_disabled"},tenant_disabled:{getter:function(){return"Tenant disabled"},mapKey:"Constants_tenant_disabled"},ip_address_not_allowed:{getter:function(){return"IP address not allowed"},mapKey:"Constants_ip_address_not_allowed"},account_locked:{getter:function(){return"Account locked"},mapKey:"Constants_account_locked"},wait_before_login:{getter:function(){return"Wait before login"},mapKey:"Constants_wait_before_login"},already_logged_in:{getter:function(){return"Already logged in"},mapKey:"Constants_already_logged_in"},invalid_password:{getter:function(){return"Invalid password"},mapKey:"Constants_invalid_password"},insufficient_privileges:{getter:function(){return"Insufficient privileges"},mapKey:"Constants_insufficient_privileges"},invalid_domain:{getter:function(){return"Invalid domain"},mapKey:"Constants_invalid_domain"},invalid_user_name:{getter:function(){return"Invalid user name"},mapKey:"Constants_invalid_user_name"},unknown_failure:{getter:function(){return"Unknown failure"},mapKey:"Constants_unknown_failure"},search_contact_input_placeholder:{getter:function(){return"Enter name or number"},mapKey:"declaration_search_contact_input_placeholder"},drag_and_drop_subtitle:{getter:function(){return"To send them with a message"},mapKey:"declaration_drag_and_drop_subtitle"},hours_short:{getter:function(){return"hr"},mapKey:"declaration_hours_short"},minutes_short:{getter:function(){return"min"},mapKey:"declaration_minutes_short"},seconds_short:{getter:function(){return"sec"},mapKey:"declaration_seconds_short"},time_in_queue:{getter:function(){return"Time in queue:"},mapKey:"declaration_time_in_queue"},see_more:{getter:function(){return"See more"},mapKey:"declaration_see_more"},see_less:{getter:function(){return"See less"},mapKey:"declaration_see_less"},edit:{getter:function(){return"Edit"},mapKey:"declaration_edit"},delete:{getter:function(){return"Delete"},mapKey:"declaration_delete"},continue:{getter:function(){return"Continue"},mapKey:"declaration_continue"},play:{getter:function(){return"Play"},mapKey:"declaration_play"},add:{getter:function(){return"Add"},mapKey:"declaration_add"},reload_confirm_new_msg_part1:{getter:function(){return"Your copy of Agent Desktop is out of date. Press "},mapKey:"declaration_reload_confirm_new_msg_part1"},reload_confirm_action_button_text:{getter:function(){return"OK"},mapKey:"declaration_reload_confirm_action_button_text"},reload_confirm_new_msg_part2:{getter:function(){return" to update it now. The application may not work properly if you do not update it."},mapKey:"declaration_reload_confirm_new_msg_part2"},country_selector_recent:{getter:function(){return"Recent"},mapKey:"declaration_country_selector_recent"},country_selector_countries:{getter:function(){return"Countries"},mapKey:"declaration_country_selector_countries"},country_selector_all_countries_title:{getter:function(){return"All Countries"},mapKey:"declaration_country_selector_all_countries_title"},country_selector_button_tooltip:{getter:function(){return"Change phone number country formatting"},mapKey:"declaration_country_selector_button_tooltip"},country_selector_search_input_placeholder:{getter:function(){return"Search"},mapKey:"declaration_country_selector_search_input_placeholder"},audio_player_handled_by_label:{getter:function(){return"Handled by:"},mapKey:"declaration_audio_player_handled_by_label"},interaction_bar_calls_label:{getter:function(){return"Voice calls"},mapKey:"declaration_interaction_bar_calls_label"},interaction_bar_chats_label:{getter:function(){return"Chats"},mapKey:"declaration_interaction_bar_chats_label"},interaction_bar_contact_activities_label:{getter:function(){return"History contacts"},mapKey:"declaration_interaction_bar_contact_activities_label"}},ABOUT_DIALOG_BOX:{about_heading:{getter:function(){return"About"},mapKey:"Constants_about_heading"},proxyType_webSockets:{getter:function(){return"Web Sockets"},mapKey:"Constants_proxyType_webSockets"},proxyType_softphone:{getter:function(){return"Softphone"},mapKey:"Constants_proxyType_softphone"},proxyType_httppolldirect:{getter:function(){return"HTTP poll direct"},mapKey:"Constants_proxyType_httppolldirect"},proxyType_httppollproxy:{getter:function(){return"HTTP poll proxy"},mapKey:"Constants_proxyType_httppollproxy"},proxyType_httppollexternalproxy:{getter:function(){return"HTTP poll external proxy"},mapKey:"Constants_proxyType_httppollexternalproxy"},about_prodictName:{getter:function(){return"Product Name:"},mapKey:"Constants_about_prodictName"},about_logFiles:{getter:function(){return"Log Files"},mapKey:"Constants_about_logFiles"},about_clientVersion:{getter:function(){return"Client version:"},mapKey:"Constants_about_clientVersion"},about_licensedTo:{getter:function(){return"Licensed to:"},mapKey:"Constants_about_licensedTo"},about_pluginInstall:{getter:function(){return"install"},mapKey:"Constants_about_pluginInstall"},about_pluginUpdate:{getter:function(){return"update"},mapKey:"Constants_about_pluginUpdate"},about_pluginVersion:{getter:function(){return"Helper App version:"},mapKey:"Constants_about_pluginVersion"},about_extensionVersion:{getter:function(){return"Chrome extension version:"},mapKey:"Constants_about_extensionVersion"},about_extensionVersionFirefox:{getter:function(){return"Firefox extension version:"},mapKey:"Constants_about_extensionVersionFirefox"},about_extensionUpdate:{getter:function(){return"Update"},mapKey:"Constants_about_extensionUpdate"},about_extensionVersionSafari:{getter:function(){return"Safari extension version:"},mapKey:"Constants_about_extensionVersionSafari"},about_serverVersion:{getter:function(){return"Server version:"},mapKey:"Constants_about_serverVersion"},about_agentServer:{getter:function(){return"Agent server:"},mapKey:"Constants_about_agentServer"},about_SIPserver:{getter:function(){return"SIP server:"},mapKey:"Constants_about_SIPserver"},about_proxyType:{getter:function(){return"Proxy type:"},mapKey:"Constants_about_proxyType"}},ACCESSIBILITY:{status_call_muted:{getter:function(){return"Call muted"},mapKey:"declaration_status_call_muted"},status_call_unmuted:{getter:function(){return"Call unmuted"},mapKey:"declaration_status_call_unmuted"},status_call_on_hold:{getter:function(){return"Call on hold"},mapKey:"declaration_status_call_on_hold"},status_call_retrieved:{getter:function(){return"Call retrieved"},mapKey:"declaration_status_call_retrieved"},status_call_ended:{getter:function(){return"Call ended"},mapKey:"declaration_status_call_ended"},status_chat_message_sent:{getter:function(){return"Message sent"},mapKey:"declaration_status_chat_message_sent"},alert_item_flagged:{getter:function(e){return"{0} flagged"},mapKey:"declaration_alert_item_flagged"},alert_item_unflagged:{getter:function(e){return"{0} unflagged"},mapKey:"declaration_alert_item_unflagged"},alert_call_recording_started:{getter:function(){return"Recording started"},mapKey:"declaration_alert_call_recording_started"},alert_call_recording_stopped:{getter:function(){return"Recording stopped"},mapKey:"declaration_alert_call_recording_stopped"},country_selector_button_selected:{getter:function(e){return"Selected: {0}"},mapKey:"declaration_country_selector_button_selected"},internal_chat_message:{getter:function(){return"Internal chat messages"},mapKey:"declaration_internal_chat_message"},attachment_button_label:{getter:function(){return"Open attachment context menu"},mapKey:"declaration_attachment_button_label"},incoming_interaction:{getter:function(){return"Incoming interaction"},mapKey:"declaration_incoming_interaction"}},ACTIVITY_HISTORY:{activity_view_reported_date_label:{getter:function(e,t,n){return"{0} reported on {1} at {2}"},mapKey:"Constants_activity_view_reported_date_label"},activity_view_called_at_label:{getter:function(e,t,n,r){return"{0} called on {1} at {2}, handled by {3}"},mapKey:"Constants_activity_view_called_at_label"},activity_view_email_not_found:{getter:function(){return"No data"},mapKey:"Constants_activity_view_email_not_found"},activity_view_agent_called_at_label:{getter:function(e,t,n){return"{0} called on {1} at {2}"},mapKey:"Constants_activity_view_agent_called_at_label"},activity_view_chatted_at_label:{getter:function(e,t,n){return"{0} chatted on {1}, handled by {2}"},mapKey:"Constants_activity_view_chatted_at_label"},activity_view_agent_remote_assist_at_label:{getter:function(e,t,n,r){return"{0} had remote assistance on {1} at {2} handled by {3}"},mapKey:"Constants_activity_view_agent_remote_assist_at_label"},activity_view_remote_assist_duration:{getter:function(){return"Duration:"},mapKey:"Constants_activity_view_remote_assist_duration"},activity_view_remote_assist_os_version:{getter:function(){return"OS version:"},mapKey:"Constants_activity_view_remote_assist_os_version"},activity_view_remote_assist_private_ip:{getter:function(){return"Private IP:"},mapKey:"Constants_activity_view_remote_assist_private_ip"},activity_view_remote_assist_public_ip:{getter:function(){return"Public IP:"},mapKey:"Constants_activity_view_remote_assist_public_ip"},activity_view_agent_chatted_at_label:{getter:function(e,t){return"{0} chatted on {1}"},mapKey:"Constants_activity_view_agent_chatted_at_label"},activity_view_sent_date_label:{getter:function(e,t,n){return"{0} sent on {1} at {2}"},mapKey:"Constants_activity_view_sent_date_label"},activity_view_auto_ack_date_label:{getter:function(e,t){return"auto acknowledge on {0} at {1}"},mapKey:"Constants_activity_view_auto_ack_date_label"},activity_view_hidden_messages:{getter:function(e){return"{0} hidden messages"},mapKey:"Constants_activity_view_hidden_messages"},activity_view_hidden_messages_expand:{getter:function(){return"expand"},mapKey:"Constants_activity_view_hidden_messages_expand"},activity_view_hidden_messages_collapse:{getter:function(){return"collapse"},mapKey:"Constants_activity_view_hidden_messages_collapse"},activity_view_left_note_label:{getter:function(e,t,n){return"{0} left a note on {1} at {2}"},mapKey:"Constants_activity_view_left_note_label"},activity_view_case_disposition_label:{getter:function(e,t,n){return"{0} dispositioned email interaction {1} at {2}"},mapKey:"Constants_activity_view_case_disposition_label"},activity_view_left_event_label:{getter:function(e,t,n){return"{0} created an event on {1} at {2}"},mapKey:"Constants_activity_view_left_event_label"},activity_view_case_created_event_label:{getter:function(e,t,n){return"{0} created new case on {1} at {2}"},mapKey:"Constants_activity_view_case_created_event_label"},activity_view_follow_up_case_created_label:{getter:function(e){return"Follow up case {0} is created"},mapKey:"Constants_activity_view_follow_up_case_created_label"},activity_view_case_created_as_follow_up_label:{getter:function(e){return"Case created as follow up from case {0}"},mapKey:"Constants_activity_view_case_created_as_follow_up_label"},activity_view_email_content_erased:{getter:function(e,t,n,r){return"Content erased on {0} at {1} by {2}. Reason: {3}."},mapKey:"Constants_activity_view_email_content_erased"},activity_case_state_changed:{getter:function(e,t,n,r){return"{0} changed case state to {1} on {2} at {3}"},mapKey:"Constants_activity_case_state_changed"},activity_case_state_pending:{getter:function(e,t,n,r,a){return"{0} changed case state to {1} on {2} at {3}. Reason: {4}"},mapKey:"Constants_activity_case_state_pending"},activity_case_state_disposition:{getter:function(e,t,n,r,a){return"{0} changed case state to {1} on {2} at {3}. Disposition: {4}"},mapKey:"Constants_activity_case_state_disposition"},activity_case_state_no_message:{getter:function(){return"None"},mapKey:"Constants_activity_case_state_no_message"},activity_case_state_closed:{getter:function(e,t){return"Case closed on {2} at {3}"},mapKey:"Constants_activity_case_state_closed"},activity_view_case_pushed_label:{getter:function(e,t,n,r){return"Pushed from Team Queue \u201c{0}\u201d to {1} on {2} at {3}"},mapKey:"Constants_activity_view_case_pushed_label"},activity_view_case_pulled_label:{getter:function(e,t,n,r){return"{1} pulled from Team Queue \u201c{0}\u201d on {2} at {3}"},mapKey:"Constants_activity_view_case_pulled_label"},activity_view_case_assigned_to_queue_label:{getter:function(e,t,n,r){return"{0} Assigned to Team Queue \u201c{1}\u201d on {2} at {3}"},mapKey:"Constants_activity_view_case_assigned_to_queue_label"},activity_view_case_assigned_to_agent_label:{getter:function(e,t,n,r){return"{0} Assigned to {1} on {2} at {3}"},mapKey:"Constants_activity_view_case_assigned_to_agent_label"},activity_view_case_transferred_to_queue_label:{getter:function(e,t,n,r){return"{0} transferred to Team Queue \u201c{1}\u201d on {2} at {3}"},mapKey:"Constants_activity_view_case_transferred_to_queue_label"},activity_view_case_transferred_to_agent_label:{getter:function(e,t,n,r){return"{0} transferred to {1} on {2} at {3}"},mapKey:"Constants_activity_view_case_transferred_to_agent_label"},case_view_activity_filter_label:{getter:function(){return"Content"},mapKey:"Constants_case_view_activity_filter_label"},activity_view_filter_by_activity_conversations:{getter:function(){return"Conversations"},mapKey:"Constants_activity_view_filter_by_activity_conversations"},activity_view_filter_by_activity_events:{getter:function(){return"Events"},mapKey:"Constants_activity_view_filter_by_activity_events"},activity_history_header_from:{getter:function(e){return"From: {0}"},mapKey:"Constants_activity_history_header_from"},activity_history_header_cc:{getter:function(e){return"Cc: {0}"},mapKey:"Constants_activity_history_header_cc"},activity_history_header_bcc:{getter:function(e){return"Bcc: {0}"},mapKey:"Constants_activity_history_header_bcc"},activity_history_header_viaDistributionRules:{getter:function(){return"Distribution rules"},mapKey:"Constants_activity_history_header_viaDistributionRules"},activity_history_header_to:{getter:function(e){return"To: {0}"},mapKey:"Constants_activity_history_header_to"},activity_history_header_duration:{getter:function(e){return"Duration: {0}"},mapKey:"Constants_activity_history_header_duration"},activity_history_header_subject:{getter:function(e){return"Subject: {0}"},mapKey:"Constants_activity_history_header_subject"},activity_view_email_restricted:{getter:function(){return"Restricted content"},mapKey:"Constants_activity_view_email_restricted"},button_close_tooltip:{getter:function(){return"Close activity history"},mapKey:"declaration_button_close_tooltip"},heading_user_started_call_on_date:{getter:function(e,t,n){return"{0} started a {1} on {2}"},mapKey:"declaration_heading_user_started_call_on_date"},call_message_created_time_aria:{getter:function(){return"Created time:"},mapKey:"declaration_call_message_created_time_aria"},call_message_duration_aria:{getter:function(){return"Duration:"},mapKey:"declaration_call_message_duration_aria"},call_message_incoming_text:{getter:function(){return"Incoming"},mapKey:"declaration_call_message_incoming_text"},call_message_incoming_aria_label:{getter:function(){return"Incoming call"},mapKey:"declaration_call_message_incoming_aria_label"},call_message_outgoing_text:{getter:function(){return"Outgoing"},mapKey:"declaration_call_message_outgoing_text"},call_message_outgoing_aria_label:{getter:function(){return"Outgoing call"},mapKey:"declaration_call_message_outgoing_aria_label"},call_message_missed:{getter:function(){return"Missed"},mapKey:"declaration_call_message_missed"},call_message_expand_voice_transcript:{getter:function(){return"Expand voice transcript"},mapKey:"declaration_call_message_expand_voice_transcript"},call_message_collapse_voice_transcript:{getter:function(){return"Collapse voice transcript"},mapKey:"declaration_call_message_collapse_voice_transcript"},call_message_transcript_confidence_high:{getter:function(){return"Transcript confidence level: High"},mapKey:"declaration_call_message_transcript_confidence_high"},call_message_transcript_confidence_medium:{getter:function(){return"Transcript confidence level: Medium"},mapKey:"declaration_call_message_transcript_confidence_medium"},call_message_transcript_confidence_low:{getter:function(){return"Transcript confidence level: Low"},mapKey:"declaration_call_message_transcript_confidence_low"}},ADDRESS_BOOK_AREA:{addressBook_no_active_chats:{getter:function(){return"No active chats"},mapKey:"Constants_addressBook_no_active_chats"},addressBook_button_blind:{getter:function(){return"Blind"},mapKey:"Constants_addressBook_button_blind"},addressBook_button_blind_tooltip:{getter:function(){return"Blind transfer"},mapKey:"Constants_addressBook_button_blind_tooltip"},addressBook_caseSearch_emptyText:{getter:function(){return"Enter search string"},mapKey:"Constants_addressBook_caseSearch_emptyText"},addressBook_button_dialPad_tooltip:{getter:function(){return"Open Dial Pad"},mapKey:"Constants_addressBook_button_dialPad_tooltip"},addressBook_button_sms_tooltip:{getter:function(){return"Send SMS to the destination number"},mapKey:"Constants_addressBook_button_sms_tooltip"},addressBook_button_call_tooltip:{getter:function(){return"Initiate call"},mapKey:"Constants_addressBook_button_call_tooltip"},addressBook_button_conferenceCall_tooltip:{getter:function(){return"Initiate conference call"},mapKey:"Constants_addressBook_button_conferenceCall_tooltip"},addressBook_button_email_tooltip:{getter:function(){return"Compose email"},mapKey:"Constants_addressBook_button_email_tooltip"},addressBook_button_email_text:{getter:function(){return"New"},mapKey:"Constants_addressBook_button_email_text"},addressBook_directory:{getter:function(){return"Directory"},mapKey:"Constants_addressBook_directory"},addressBook_dialPad:{getter:function(){return"Dial Pad"},mapKey:"Constants_addressBook_dialPad"},addressBook_favorites:{getter:function(){return"Favorites"},mapKey:"Constants_addressBook_favorites"},addressBook_close:{getter:function(){return"Close"},mapKey:"Constants_addressBook_close"},addressBook_chat:{getter:function(){return"Chat"},mapKey:"Constants_addressBook_chat"},addressBook_dial:{getter:function(){return"Dial"},mapKey:"Constants_addressBook_dial"},addressBook_recent:{getter:function(){return"Recent"},mapKey:"Constants_addressBook_recent"},call_status_ended:{getter:function(){return"ended"},mapKey:"Constants_call_status_ended"},call_status_ringing:{getter:function(){return"Ringing"},mapKey:"Constants_call_status_ringing"},destination_emptyText:{getter:function(){return"Enter number"},mapKey:"Constants_destination_emptyText"},state_selector_tooltip:{getter:function(){return"State Selector"},mapKey:"Constants_state_selector_tooltip"},directory_searchEmptyText:{getter:function(){return"Enter search term"},mapKey:"Constants_directory_searchEmptyText"},directory_narrowSearchText:{getter:function(){return"please narrow your search to get more results"},mapKey:"Constants_directory_narrowSearchText"},directory_clearSearchBoxTooltip:{getter:function(){return"Clear field"},mapKey:"Constants_directory_clearSearchBoxTooltip"},pin_tooltip:{getter:function(){return"Pin panel"},mapKey:"Constants_pin_tooltip"},unpin_tooltip:{getter:function(){return"Unpin panel"},mapKey:"Constants_unpin_tooltip"},search_tooltip:{getter:function(){return"Contact Search"},mapKey:"Constants_search_tooltip"},recentPopup:{getter:function(){return"(popup)"},mapKey:"Constants_recentPopup"},tab_directory_internal:{getter:function(){return"Internal"},mapKey:"declaration_tab_directory_internal"},tab_directory_external:{getter:function(){return"External"},mapKey:"declaration_tab_directory_external"}},ADD_FAVORITE_ENTRY_DIALOG_BOX:{addFavoriteEntry_heading:{getter:function(){return"Add Favorites Entry"},mapKey:"Constants_addFavoriteEntry_heading"},editFavoriteEntry_heading:{getter:function(){return"Edit Favorites Entry"},mapKey:"Constants_editFavoriteEntry_heading"},addFavoriteEntry_displayName_label:{getter:function(){return"Display name:"},mapKey:"Constants_addFavoriteEntry_displayName_label"},addFavoriteEntry_phone_label:{getter:function(){return"Phone:"},mapKey:"Constants_addFavoriteEntry_phone_label"},add_button:{getter:function(){return"Add"},mapKey:"declaration_add_button"}},AGENT_STATE_CONTROL:{service_selector_tooltip:{getter:function(){return"Service Selector"},mapKey:"Constants_service_selector_tooltip"},service_selector_no_selected_error_message:{getter:function(){return"No service selected or service is not suitable for this action"},mapKey:"Constants_service_selector_no_selected_error_message"},service_selector_no_sms_error_message:{getter:function(){return"Selected service is not SMS capable"},mapKey:"Constants_service_selector_no_sms_error_message"},acd_acw_short:{getter:function(){return"ACW"},mapKey:"AcdConstants_acd_acw_short"},acd_acw_long:{getter:function(){return"After Call Work"},mapKey:"AcdConstants_acd_acw_long"},acd_busy:{getter:function(){return"Busy"},mapKey:"AcdConstants_acd_busy"},acd_ready:{getter:function(){return"Ready"},mapKey:"AcdConstants_acd_ready"},acd_not_ready:{getter:function(){return"Not Ready"},mapKey:"AcdConstants_acd_not_ready"},acd_supervision:{getter:function(){return"Supervising"},mapKey:"AcdConstants_acd_supervision"},acd_ringing:{getter:function(){return"Ringing"},mapKey:"AcdConstants_acd_ringing"},acd_reserved:{getter:function(){return"Reserved"},mapKey:"AcdConstants_acd_reserved"},presence_available:{getter:function(){return"Available"},mapKey:"AcdConstants_presence_available"},presence_away:{getter:function(){return"Away"},mapKey:"AcdConstants_presence_away"},presence_dnd:{getter:function(){return"Do Not Disturb"},mapKey:"AcdConstants_presence_dnd"},presence_offline:{getter:function(){return"Offline"},mapKey:"AcdConstants_presence_offline"},acd_next_prefix:{getter:function(){return"Next"},mapKey:"AcdConstants_acd_next_prefix"},next_state:{getter:function(e){return"Next: {0}"},mapKey:"declaration_next_state"},call_in_queue:{getter:function(){return"A call in the queue is waiting"},mapKey:"declaration_call_in_queue"},acd_nr_short:{getter:function(){return"NR"},mapKey:"declaration_acd_nr_short"}},AUDIO_DEVICES_DIALOG_BOX:{audioDevices_newDeviceDetected:{getter:function(){return"Audio device is detected:"},mapKey:"Constants_audioDevices_newDeviceDetected"},audioDevices_heading:{getter:function(){return"Audio Devices"},mapKey:"Constants_audioDevices_heading"},audioDevices_mic:{getter:function(){return"Microphone"},mapKey:"Constants_audioDevices_mic"},audioDevices_speaker:{getter:function(){return"Speaker"},mapKey:"Constants_audioDevices_speaker"},audioDevices_description:{getter:function(){return"Use the computer's control panel to change default audio devices."},mapKey:"Constants_audioDevices_description"},authorized_domains_link:{getter:function(e){return"Click {0} to manage list of authorized domains"},mapKey:"Constants_authorized_domains_link"},authorized_domains_link_anchor:{getter:function(){return"here"},mapKey:"Constants_authorized_domains_link_anchor"}},AUTHORIZATION_DIALOG_LABELS:{auth_message_undefinedDefaultHardphoneExtension:{getter:function(){return"You do not have a default hardphone defined, please choose another option"},mapKey:"Constants_auth_message_undefinedDefaultHardphoneExtension"},auth_message_undefinedExtension:{getter:function(){return"Extension is undefined,  please choose another option"},mapKey:"Constants_auth_message_undefinedExtension"},auth_message_undefinedSoftphoneExtension:{getter:function(){return"Extension is undefined. Softphone would not work. Use hardphone"},mapKey:"Constants_auth_message_undefinedSoftphoneExtension"},auth_useDefaultHardPhone:{getter:function(){return"default phone"},mapKey:"Constants_auth_useDefaultHardPhone"},auth_useVirtualSoftPhone:{getter:function(){return"dial-in and keep line open"},mapKey:"Constants_auth_useVirtualSoftPhone"},auth_useHardPhone:{getter:function(e){return"phone {0}"},mapKey:"Constants_auth_useHardPhone"},auth_useSoftPhone:{getter:function(){return"softphone"},mapKey:"Constants_auth_useSoftPhone"},auth_withoutPhone:{getter:function(){return"no phone"},mapKey:"Constants_auth_withoutPhone"},password_reset_dialog_header:{getter:function(){return"Password reset"},mapKey:"Constants_password_reset_dialog_header"},password_reset_dialog_name_aria_label:{getter:function(){return"to reset password enter username or email address"},mapKey:"Constants_password_reset_dialog_name_aria_label"},password_reset_username_label:{getter:function(){return"Username or email address:"},mapKey:"Constants_password_reset_username_label"},password_reset_tenant_label:{getter:function(){return"Tenant url:"},mapKey:"Constants_password_reset_tenant_label"},password_reset_proceed_button:{getter:function(){return"Proceed"},mapKey:"Constants_password_reset_proceed_button"},password_reset_confirmation_title:{getter:function(){return"Password reset"},mapKey:"Constants_password_reset_confirmation_title"},password_reset_confirmation_message:{getter:function(){return"The instructions for resetting your password were sent to the email address registered with your account. <br/>If you did not receive them, please check your junk mail folder or contact your system administrator for further assistance."},mapKey:"Constants_password_reset_confirmation_message"},password_reset_message:{getter:function(){return'Clicking "Proceed" will send password reset instructions to your registered email address.'},mapKey:"Constants_password_reset_message"},heading:{getter:function(){return"Agent Desktop Login"},mapKey:"LoginConstants_heading"},password:{getter:function(){return"Password"},mapKey:"LoginConstants_password"},submit:{getter:function(){return"Log in"},mapKey:"LoginConstants_submit"},tenant:{getter:function(){return"Tenant"},mapKey:"LoginConstants_tenant"},user:{getter:function(){return"Username"},mapKey:"LoginConstants_user"},forgot_password:{getter:function(){return"Forgot password?"},mapKey:"LoginConstants_forgot_password"},phone_device:{getter:function(){return"Phone device"},mapKey:"LoginConstants_phone_device"},label_loading_authorizing:{getter:function(){return"Authorizing..."},mapKey:"declaration_label_loading_authorizing"},header_new_agent_desktop:{getter:function(){return"New Agent Desktop"},mapKey:"declaration_header_new_agent_desktop"},button_show_password:{getter:function(){return"Show password"},mapKey:"declaration_button_show_password"},button_hide_password:{getter:function(){return"Hide password"},mapKey:"declaration_button_hide_password"},forced_login_dialog_header:{getter:function(){return"Login"},mapKey:"declaration_forced_login_dialog_header"},force_login_button_text:{getter:function(){return"Force log in"},mapKey:"declaration_force_login_button_text"}},AUTHORIZATION_FAILED_DIALOG:{loginFailedDialog_message_loginFailed:{getter:function(){return"Login failed."},mapKey:"Constants_loginFailedDialog_message_loginFailed"},loginFailedDialog_heading:{getter:function(){return"Login failed"},mapKey:"Constants_loginFailedDialog_heading"},loginFailedDialog_message_loggedOut:{getter:function(){return"You were logged out."},mapKey:"Constants_loginFailedDialog_message_loggedOut"},loginFailedDialog_message_phoneIsUsedByAnotherAgent:{getter:function(){return"Another user is already logged in with this phone."},mapKey:"Constants_loginFailedDialog_message_phoneIsUsedByAnotherAgent"},loginFailedDialog_message_tooManyLoggedAgents:{getter:function(){return"Unable to log you in, exceeding the licensed limit of concurrent agents. Please contact your administrator."},mapKey:"Constants_loginFailedDialog_message_tooManyLoggedAgents"},loginFailedDialog_message_disabledAccount:{getter:function(){return"Your account has been disabled by Service Provider."},mapKey:"Constants_loginFailedDialog_message_disabledAccount"},loginFailedDialog_message_lockedAccount:{getter:function(){return"You have exceeded the maximum login attempts. Please try again later. Alternatively, contact your system administrator."},mapKey:"Constants_loginFailedDialog_message_lockedAccount"},loginFailedDialog_message_invalidAgentCredentials:{getter:function(){return"Invalid username or password."},mapKey:"Constants_loginFailedDialog_message_invalidAgentCredentials"},loginFailedDialog_message_alreadyLoggedIn:{getter:function(){return"The user is already logged in. Force log in?"},mapKey:"Constants_loginFailedDialog_message_alreadyLoggedIn"},loginFailedDialog_message_anotherLoggedIn:{getter:function(){return"You are already logged in as a different user. Force log in?"},mapKey:"Constants_loginFailedDialog_message_anotherLoggedIn"},loginFailedDialog_message_accessDenied:{getter:function(){return"Access denied"},mapKey:"Constants_loginFailedDialog_message_accessDenied"},loginFailedDialog_message_invalidExtension:{getter:function(){return"Invalid extension"},mapKey:"Constants_loginFailedDialog_message_invalidExtension"}},CALENDAR:{calendar_button_tooltip:{getter:function(){return"Show Agent's Calendar"},mapKey:"Constants_calendar_button_tooltip"},calendar_monitoring_record_text:{getter:function(e){return"{0} - personal calendar"},mapKey:"Constants_calendar_monitoring_record_text"},calendar_heading:{getter:function(){return"Calendar"},mapKey:"Constants_calendar_heading"},calendar_local_timezone:{getter:function(){return"local"},mapKey:"Constants_calendar_local_timezone"},calendar_dialog_fieldIsRequired:{getter:function(){return"Field is required"},mapKey:"Constants_calendar_dialog_fieldIsRequired"},calendar_dialog_invalidValue:{getter:function(){return"Invalid value"},mapKey:"Constants_calendar_dialog_invalidValue"},assign_multiple_calendar_events_header:{getter:function(){return"Reassign Calendar Events"},mapKey:"CalendarConstants_assign_multiple_calendar_events_header"},assign_calendar_event_header:{getter:function(){return"Assign Calendar Event"},mapKey:"CalendarConstants_assign_calendar_event_header"},assign_calendar_event_range_start_label:{getter:function(){return"Entries between:"},mapKey:"CalendarConstants_assign_calendar_event_range_start_label"},assign_calendar_event_range_end_label:{getter:function(){return"and:"},mapKey:"CalendarConstants_assign_calendar_event_range_end_label"},calendar_error_message_unableToSaveEvent:{getter:function(){return"Unable to save calendar event"},mapKey:"CalendarConstants_calendar_error_message_unableToSaveEvent"},calendar_error_message_invalid_start_date:{getter:function(){return"Unable to save calendar event. Invalid start date"},mapKey:"CalendarConstants_calendar_error_message_invalid_start_date"},assign_event_to_user_without_privilege:{getter:function(){return'Unable to assign calendar event to user without "Use Calendar" privilege.'},mapKey:"CalendarConstants_assign_event_to_user_without_privilege"},today:{getter:function(){return"today"},mapKey:"declaration_today"},month:{getter:function(){return"month"},mapKey:"declaration_month"},week:{getter:function(){return"week"},mapKey:"declaration_week"},day:{getter:function(){return"day"},mapKey:"declaration_day"},all_day:{getter:function(){return"all-day"},mapKey:"declaration_all_day"},more:{getter:function(e){return"+{0} more"},mapKey:"declaration_more"}},CALENDAR_EVENT_FORM:{button_save_text:{getter:function(){return"Save"},mapKey:"CalendarConstants_button_save_text"},button_save_tooltip:{getter:function(){return"Save"},mapKey:"CalendarConstants_button_save_tooltip"},button_cancel_text:{getter:function(){return"Cancel"},mapKey:"CalendarConstants_button_cancel_text"},button_cancel_tooltip:{getter:function(){return"Cancel"},mapKey:"CalendarConstants_button_cancel_tooltip"},button_open_text:{getter:function(){return"Open"},mapKey:"CalendarConstants_button_open_text"},button_open_tooltip:{getter:function(){return"Open"},mapKey:"CalendarConstants_button_open_tooltip"},button_delete_text:{getter:function(){return"Delete"},mapKey:"CalendarConstants_button_delete_text"},button_delete_tooltip:{getter:function(){return"Delete"},mapKey:"CalendarConstants_button_delete_tooltip"},event_delete_confirmation:{getter:function(e){return'Are you sure you want to delete event "{0}"?'},mapKey:"CalendarConstants_event_delete_confirmation"},button_edit_text:{getter:function(){return"Edit"},mapKey:"CalendarConstants_button_edit_text"},button_edit_tooltip:{getter:function(){return"Edit"},mapKey:"CalendarConstants_button_edit_tooltip"},button_reassignByRange_text:{getter:function(){return"Reassign by range..."},mapKey:"CalendarConstants_button_reassignByRange_text"},button_reassignByRange_tooltip:{getter:function(){return"Reassign events from a range of dates"},mapKey:"CalendarConstants_button_reassignByRange_tooltip"},button_reassign_text:{getter:function(){return"Assign..."},mapKey:"CalendarConstants_button_reassign_text"},button_reassign_tooltip:{getter:function(){return"Reassign selected event"},mapKey:"CalendarConstants_button_reassign_tooltip"},label_when:{getter:function(){return"When:"},mapKey:"CalendarConstants_label_when"},label_timezone:{getter:function(){return"Timezone:"},mapKey:"CalendarConstants_label_timezone"},label_note:{getter:function(){return"Summary:"},mapKey:"CalendarConstants_label_note"},label_reminder:{getter:function(){return"Reminder:"},mapKey:"CalendarConstants_label_reminder"},label_date:{getter:function(){return"Date:"},mapKey:"CalendarConstants_label_date"},label_time:{getter:function(){return"Time:"},mapKey:"CalendarConstants_label_time"},label_details:{getter:function(){return"Details:"},mapKey:"CalendarConstants_label_details"},details_value_none:{getter:function(){return"none"},mapKey:"CalendarConstants_details_value_none"},details_value_one:{getter:function(){return"1 tab"},mapKey:"CalendarConstants_details_value_one"},details_value_many:{getter:function(e){return"{0} tabs"},mapKey:"CalendarConstants_details_value_many"},checkbox_completed_label:{getter:function(){return"completed"},mapKey:"CalendarConstants_checkbox_completed_label"},reminder_unit_minutes:{getter:function(e){return"Remind {0} minutes before"},mapKey:"CalendarConstants_reminder_unit_minutes"},reminder_unit_hours:{getter:function(e){return"Remind {0} hours before"},mapKey:"CalendarConstants_reminder_unit_hours"},reminder_unit_days:{getter:function(e){return"Remind {0} days before"},mapKey:"CalendarConstants_reminder_unit_days"},contact_on_label:{getter:function(){return"Contact on"},mapKey:"CalendarConstants_contact_on_label"},contact_create_box_label:{getter:function(){return"create contact"},mapKey:"CalendarConstants_contact_create_box_label"},contact_add_phone_box_label:{getter:function(){return"add to contact"},mapKey:"CalendarConstants_contact_add_phone_box_label"},contact_name_placeholder:{getter:function(){return"Name"},mapKey:"CalendarConstants_contact_name_placeholder"},assign_contact_button_tooltip:{getter:function(){return"Assign contact"},mapKey:"CalendarConstants_assign_contact_button_tooltip"},contact_enter_manually_label:{getter:function(){return"Enter manually (or directory)"},mapKey:"CalendarConstants_contact_enter_manually_label"},contact_other_label:{getter:function(){return"Other"},mapKey:"CalendarConstants_contact_other_label"},contact_search_label:{getter:function(){return"Search Contacts"},mapKey:"CalendarConstants_contact_search_label"},contact_search_dialog_heading:{getter:function(){return"Lookup"},mapKey:"CalendarConstants_contact_search_dialog_heading"},date_from_label:{getter:function(){return"Date from"},mapKey:"declaration_date_from_label"},date_to_label:{getter:function(){return"Date to"},mapKey:"declaration_date_to_label"},time_from_label:{getter:function(){return"Time from"},mapKey:"declaration_time_from_label"},time_to_label:{getter:function(){return"Time to"},mapKey:"declaration_time_to_label"},show_date_suggestions_label:{getter:function(){return"Show date suggestions"},mapKey:"declaration_show_date_suggestions_label"},show_suggested_phone_numbers:{getter:function(){return"Show date suggestions"},mapKey:"declaration_show_suggested_phone_numbers"},phone_number_label:{getter:function(){return"Phone number"},mapKey:"declaration_phone_number_label"},show_timezones_label:{getter:function(){return"Show suggested timezones"},mapKey:"declaration_show_timezones_label"},event_title:{getter:function(){return"Event title"},mapKey:"declaration_event_title"}},CALL_DETAILS_FORM:{call_message_noScreenpopFound:{getter:function(){return"No screenpop found"},mapKey:"Constants_call_message_noScreenpopFound"},call_status_dialing:{getter:function(){return"Dialing"},mapKey:"Constants_call_status_dialing"},callDetails_subHeader_conference:{getter:function(){return"Conference"},mapKey:"Constants_callDetails_subHeader_conference"},calldetails_status_connected:{getter:function(){return"connected"},mapKey:"Constants_calldetails_status_connected"},calldetails_status_defaultAt:{getter:function(e){return"at {0}"},mapKey:"Constants_calldetails_status_defaultAt"},forumdetails_status_defaultAt:{getter:function(e){return"from {0}"},mapKey:"Constants_forumdetails_status_defaultAt"},calldetails_status_dialing:{getter:function(){return"dialing"},mapKey:"Constants_calldetails_status_dialing"},calldetails_status_disconnected:{getter:function(){return"disconnected"},mapKey:"Constants_calldetails_status_disconnected"},calldetails_status_monitoring:{getter:function(e){return"Monitoring ({0})"},mapKey:"Constants_calldetails_status_monitoring"},calldetails_status_coaching:{getter:function(e){return"Coaching ({0})"},mapKey:"Constants_calldetails_status_coaching"},calldetails_status_participating:{getter:function(e){return"Participating ({0})"},mapKey:"Constants_calldetails_status_participating"},calldetails_status_ringingAt:{getter:function(e){return"ringing at ({0})"},mapKey:"Constants_calldetails_status_ringingAt"},calldetails_status_connectedInbound:{getter:function(){return"connected inbound"},mapKey:"Constants_calldetails_status_connectedInbound"},calldetails_status_connectedOutbound:{getter:function(){return"connected outbound"},mapKey:"Constants_calldetails_status_connectedOutbound"},calldetails_status_connectedOutboundAt:{getter:function(e){return"connected outbound at ({0})"},mapKey:"Constants_calldetails_status_connectedOutboundAt"},calldetails_status_connectedInboundAt:{getter:function(e){return"connected inbound at ({0})"},mapKey:"Constants_calldetails_status_connectedInboundAt"},calldetails_status_heldAt:{getter:function(e){return"held at ({0})"},mapKey:"Constants_calldetails_status_heldAt"},calldetails_status_held:{getter:function(){return"held"},mapKey:"Constants_calldetails_status_held"},calldetails_status_ringing:{getter:function(){return"ringing"},mapKey:"Constants_calldetails_status_ringing"},interaction_accept:{getter:function(){return"Accept"},mapKey:"Constants_interaction_accept"},interaction_reject:{getter:function(){return"Reject"},mapKey:"Constants_interaction_reject"},interaction_sendScreen_tooltip:{getter:function(){return"Send Screen"},mapKey:"Constants_interaction_sendScreen_tooltip"},interaction_bargeIn:{getter:function(){return"Barge-in"},mapKey:"Constants_interaction_bargeIn"},interaction_call:{getter:function(){return"Call"},mapKey:"Constants_interaction_call"},interaction_sendMessage:{getter:function(){return"Send message"},mapKey:"Constants_interaction_sendMessage"},interaction_coach:{getter:function(){return"Coach"},mapKey:"Constants_interaction_coach"},extended_monitoring_boxLabel:{getter:function(){return"keep monitoring this agent"},mapKey:"Constants_extended_monitoring_boxLabel"},interaction_complete:{getter:function(){return"Complete Transfer"},mapKey:"Constants_interaction_complete"},interaction_initiate_transfer:{getter:function(){return"Initiate transfer or conference"},mapKey:"Constants_interaction_initiate_transfer"},interaction_completeACW:{getter:function(){return"Complete"},mapKey:"Constants_interaction_completeACW"},interaction_endConference:{getter:function(){return"End Conference"},mapKey:"Constants_interaction_endConference"},interaction_grade:{getter:function(){return"Grade"},mapKey:"Constants_interaction_grade"},interaction_endCall:{getter:function(){return"End Call"},mapKey:"Constants_interaction_endCall"},interaction_leaveConference:{getter:function(){return"Leave"},mapKey:"Constants_interaction_leaveConference"},interaction_remoteAssist:{getter:function(){return"Start remote assistance"},mapKey:"Constants_interaction_remoteAssist"},interaction_endChat:{getter:function(){return"End Chat"},mapKey:"Constants_interaction_endChat"},interaction_endWorkItem:{getter:function(){return"Skip"},mapKey:"Constants_interaction_endWorkItem"},interaction_autoDial:{getter:function(e,t){return"Auto-dial {0} in {1}"},mapKey:"Constants_interaction_autoDial"},interaction_endForum:{getter:function(){return"End Forum"},mapKey:"Constants_interaction_endForum"},interaction_recordStart_tooltip:{getter:function(){return"Start recording"},mapKey:"Constants_interaction_recordStart_tooltip"},interaction_recordStop_tooltip:{getter:function(){return"Stop recording"},mapKey:"Constants_interaction_recordStop_tooltip"},mute_tooltip:{getter:function(){return"Mute the microphone"},mapKey:"Constants_mute_tooltip"},flag_tooltip:{getter:function(){return"Flag the call"},mapKey:"Constants_flag_tooltip"},unflag_tooltip:{getter:function(){return"Unflag the call"},mapKey:"Constants_unflag_tooltip"},voip_stop_tooltip:{getter:function(){return"Hang up VoIP call"},mapKey:"Constants_voip_stop_tooltip"},voip_start_tooltip:{getter:function(){return"Start VoIP call"},mapKey:"Constants_voip_start_tooltip"},voip_video_on_tooltip:{getter:function(){return"Turn off video stream"},mapKey:"Constants_voip_video_on_tooltip"},voip_video_off_tooltip:{getter:function(){return"Turn on video stream"},mapKey:"Constants_voip_video_off_tooltip"},report_a_call_problem:{getter:function(){return"report a call problem"},mapKey:"Constants_report_a_call_problem"},rcp_heading:{getter:function(){return"Report a problem with the call"},mapKey:"Constants_rcp_heading"},rcp_option_poor_voice:{getter:function(){return"Poor voice quality (echo, noise, distorted sound)"},mapKey:"Constants_rcp_option_poor_voice"},rcp_option_silent:{getter:function(){return"Call went silent unexpectedly"},mapKey:"Constants_rcp_option_silent"},rcp_option_dropped:{getter:function(){return"Call dropped unexpectedly"},mapKey:"Constants_rcp_option_dropped"},rcp_option_other:{getter:function(){return"Other"},mapKey:"Constants_rcp_option_other"},unmute_tooltip:{getter:function(){return"Unmute the microphone"},mapKey:"Constants_unmute_tooltip"},interaction_addFavorite_tooltip:{getter:function(){return"Add to Favorites"},mapKey:"Constants_interaction_addFavorite_tooltip"},interaction_removeFavorite_tooltip:{getter:function(){return"Remove from Favorites"},mapKey:"Constants_interaction_removeFavorite_tooltip"},interaction_hold:{getter:function(){return"Hold"},mapKey:"Constants_interaction_hold"},interaction_merge:{getter:function(){return"Merge"},mapKey:"Constants_interaction_merge"},interaction_monitor:{getter:function(){return"Monitor"},mapKey:"Constants_interaction_monitor"},interaction_pullScreen_tooltip:{getter:function(){return"Pull Agent's Screen"},mapKey:"Constants_interaction_pullScreen_tooltip"},interaction_seeScreen_tooltip:{getter:function(){return"See Agent's Screen"},mapKey:"Constants_interaction_seeScreen_tooltip"},interaction_seeScreen_helper_required_message:{getter:function(){return"Agent Desktop Helper application is required in order to use screen monitoring."},mapKey:"Constants_interaction_seeScreen_helper_required_message"},interaction_retrieve:{getter:function(){return"Retrieve"},mapKey:"Constants_interaction_retrieve"},interaction_failed:{getter:function(){return"Failed"},mapKey:"declaration_interaction_failed"},button_schedule_followup_label:{getter:function(){return"Schedule Follow-up"},mapKey:"declaration_button_schedule_followup_label"},button_add_case_label:{getter:function(){return"Add Case"},mapKey:"declaration_button_add_case_label"},button_remote_access_tooltip:{getter:function(){return"Remote access"},mapKey:"declaration_button_remote_access_tooltip"},button_call_problem_report_label:{getter:function(){return"Report"},mapKey:"declaration_button_call_problem_report_label"},button_initiate_call_tooltip:{getter:function(){return"Initiate call"},mapKey:"declaration_button_initiate_call_tooltip"}},CALL_GRADING_DIALOG_BOX:{grading_heading:{getter:function(e){return"Grading {0}"},mapKey:"Constants_grading_heading"},grading_none:{getter:function(){return"<None>"},mapKey:"Constants_grading_none"},grading_notes:{getter:function(){return"Notes"},mapKey:"Constants_grading_notes"}},CAMPAIGN_MONITOR:{campaignMonitor_heading:{getter:function(){return"Campaigns"},mapKey:"Constants_campaignMonitor_heading"},campaignMonitor_lists_heading:{getter:function(){return"Lists"},mapKey:"Constants_campaignMonitor_lists_heading"},campaignMonitor_teams_heading:{getter:function(){return"Teams"},mapKey:"Constants_campaignMonitor_teams_heading"},campaign_button_quota:{getter:function(){return"Quota"},mapKey:"Constants_campaign_button_quota"},campaignMonitor_addDispositionCountMenuItem:{getter:function(){return"Add disposition count..."},mapKey:"Constants_campaignMonitor_addDispositionCountMenuItem"},campaignMonitor_addDispositionPctMenuItem:{getter:function(){return"Add disposition %..."},mapKey:"Constants_campaignMonitor_addDispositionPctMenuItem"},campaignMonitor_stoppedCampaign:{getter:function(){return"stopped (ready to run)"},mapKey:"Constants_campaignMonitor_stoppedCampaign"},campaignMonitor_pausedCampaign:{getter:function(){return"paused (ready to run)"},mapKey:"Constants_campaignMonitor_pausedCampaign"},campaignMonitor_selectTeam:{getter:function(){return"<Select Team>"},mapKey:"Constants_campaignMonitor_selectTeam"},campaignMonitor_selectList:{getter:function(){return"<Select List>"},mapKey:"Constants_campaignMonitor_selectList"},campaignMonitor_selectCampaign:{getter:function(){return"<Select Campaign>"},mapKey:"Constants_campaignMonitor_selectCampaign"},campaign_button_startCampaign:{getter:function(){return"Start"},mapKey:"Constants_campaign_button_startCampaign"},campaign_button_stopCampaign:{getter:function(){return"Stop"},mapKey:"Constants_campaign_button_stopCampaign"},campaigns_column_name:{getter:function(){return"Name"},mapKey:"Constants_campaigns_column_name"},campaigns_column_running:{getter:function(){return"Running"},mapKey:"Constants_campaigns_column_running"},campaignList_column_name:{getter:function(){return"Name"},mapKey:"Constants_campaignList_column_name"},campaignList_column_enabled:{getter:function(){return"Enabled"},mapKey:"Constants_campaignList_column_enabled"},campaignTeam_column_name:{getter:function(){return"Name"},mapKey:"Constants_campaignTeam_column_name"},campaignTeam_column_enabled:{getter:function(){return"Enabled"},mapKey:"Constants_campaignTeam_column_enabled"},campaignTeam_button_disable:{getter:function(){return"Disable"},mapKey:"Constants_campaignTeam_button_disable"},campaignTeam_button_disable_tooltip:{getter:function(){return"Disable"},mapKey:"Constants_campaignTeam_button_disable_tooltip"},campaignTeam_button_enable:{getter:function(){return"Enable"},mapKey:"Constants_campaignTeam_button_enable"},campaignTeam_button_enable_tooltip:{getter:function(){return"Enable"},mapKey:"Constants_campaignTeam_button_enable_tooltip"},campaignTeam_button_add_tooltip:{getter:function(){return"Add team..."},mapKey:"Constants_campaignTeam_button_add_tooltip"},campaignTeam_button_remove_tooltip:{getter:function(){return"Remove team"},mapKey:"Constants_campaignTeam_button_remove_tooltip"},campaignList_button_disable:{getter:function(){return"Disable"},mapKey:"Constants_campaignList_button_disable"},campaignList_button_disable_tooltip:{getter:function(){return"Disable"},mapKey:"Constants_campaignList_button_disable_tooltip"},campaignList_button_enable:{getter:function(){return"Enable"},mapKey:"Constants_campaignList_button_enable"},campaignList_button_enable_tooltip:{getter:function(){return"Enable"},mapKey:"Constants_campaignList_button_enable_tooltip"},teamSelection_heading:{getter:function(){return"Select team(s)"},mapKey:"Constants_teamSelection_heading"},campaignMonitor_list_progress_axis_auto:{getter:function(){return"auto"},mapKey:"Constants_campaignMonitor_list_progress_axis_auto"},campaignMonitor_list_progress_axis_remaining:{getter:function(){return"remaining"},mapKey:"Constants_campaignMonitor_list_progress_axis_remaining"},campaignMonitor_list_progress_axis_scheduled:{getter:function(){return"scheduled"},mapKey:"Constants_campaignMonitor_list_progress_axis_scheduled"},campaignMonitor_list_progress_axis_completed:{getter:function(){return"completed"},mapKey:"Constants_campaignMonitor_list_progress_axis_completed"},ringtone_disable_tooltip:{getter:function(){return"Disable"},mapKey:"Constants_ringtone_disable_tooltip"},ringtone_enable_tooltip:{getter:function(){return"Enable"},mapKey:"Constants_ringtone_enable_tooltip"}},CAMPAIGN_MONITOR_REMOVE_TEAM_DIALOG_BOX:{campaignMonitorRemoveTeamDialog_confirmMsg:{getter:function(e,t){return"Are you sure you want to remove \xab{0}\xbb team from \xab{1}\xbb campaign?"},mapKey:"Constants_campaignMonitorRemoveTeamDialog_confirmMsg"},campaignMonitorRemoveTeamDialog_heading:{getter:function(){return"Warning"},mapKey:"Constants_campaignMonitorRemoveTeamDialog_heading"}},CANNED_RESPONSES:{cr_greeting_requires_initial_question:{getter:function(){return"requires initial question"},mapKey:"Constants_cr_greeting_requires_initial_question"},cr_greeting_requires_no_initial_question:{getter:function(){return"requires no initial question"},mapKey:"Constants_cr_greeting_requires_no_initial_question"},cr_for_all_agents:{getter:function(){return"for all agents"},mapKey:"Constants_cr_for_all_agents"},cr_for_my_teams:{getter:function(){return"for agents in my teams"},mapKey:"Constants_cr_for_my_teams"},cr_add:{getter:function(){return"add"},mapKey:"Constants_cr_add"},cr_delete:{getter:function(){return"Delete"},mapKey:"Constants_cr_delete"},cr_add_item_heading:{getter:function(){return"Add item"},mapKey:"Constants_cr_add_item_heading"},cr_edit_item_heading:{getter:function(){return"Edit item"},mapKey:"Constants_cr_edit_item_heading"},cr_add_folder_heading:{getter:function(){return"Add folder"},mapKey:"Constants_cr_add_folder_heading"},cr_change_folder_heading:{getter:function(){return"Add folder"},mapKey:"Constants_cr_change_folder_heading"},cr_add_folder:{getter:function(){return"add folder"},mapKey:"Constants_cr_add_folder"},cr_change_folder:{getter:function(){return"change folder"},mapKey:"Constants_cr_change_folder"},cr_no_responses:{getter:function(){return"(No canned response defined)"},mapKey:"Constants_cr_no_responses"},item_actions:{getter:function(){return"Item actions"},mapKey:"declaration_item_actions"},insert:{getter:function(){return"Insert"},mapKey:"declaration_insert"},button_add_response_text:{getter:function(){return"Add response"},mapKey:"declaration_button_add_response_text"},for_all_agents:{getter:function(){return"For all agents"},mapKey:"declaration_for_all_agents"}},CASE_SEARCH:{create_case_button_tooltip:{getter:function(){return"Add new case"},mapKey:"Constants_create_case_button_tooltip"},delete_case_button_tooltip:{getter:function(){return"Delete case"},mapKey:"Constants_delete_case_button_tooltip"},delete_case_confirmation_label:{getter:function(e){return"Are you sure you want to delete case {0}?"},mapKey:"Constants_delete_case_confirmation_label"},unlink_case_confirmation_label:{getter:function(){return"Current interaction won\u2019t be posted in the case history. Are you sure?"},mapKey:"Constants_unlink_case_confirmation_label"},new_case_notes_button_tooltip:{getter:function(){return"Add case notes"},mapKey:"Constants_new_case_notes_button_tooltip"},save_case_notes_button_tooltip:{getter:function(){return"Save case notes"},mapKey:"Constants_save_case_notes_button_tooltip"},discard_case_notes_button_tooltip:{getter:function(){return"Discard case notes"},mapKey:"Constants_discard_case_notes_button_tooltip"},caseSearch_case_column:{getter:function(){return"Case"},mapKey:"Constants_caseSearch_case_column"},caseSearch_date_column:{getter:function(){return"Created"},mapKey:"Constants_caseSearch_date_column"},caseSearch_subject_column:{getter:function(){return"Subject"},mapKey:"Constants_caseSearch_subject_column"},button_create_follow_up_case_text:{getter:function(){return"Create follow up case"},mapKey:"Constants_button_create_follow_up_case_text"},button_create_follow_up_case_title:{getter:function(){return"Create follow up case"},mapKey:"Constants_button_create_follow_up_case_title"},button_use_case_text:{getter:function(){return"Use"},mapKey:"Constants_button_use_case_text"},button_use_case_title:{getter:function(){return"Use Case"},mapKey:"Constants_button_use_case_title"},new_case_title:{getter:function(){return"New Case"},mapKey:"Constants_new_case_title"},restricted_email_error:{getter:function(){return"You do not have permissions to work with this case"},mapKey:"Constants_restricted_email_error"}},CHANGE_PASSWORD_DIALOG_BOX:{changePassword_again:{getter:function(){return"New password again:"},mapKey:"Constants_changePassword_again"},changeExpiredPassword_heading:{getter:function(){return"Change expired password"},mapKey:"Constants_changeExpiredPassword_heading"},changePassword_heading:{getter:function(){return"Change Password"},mapKey:"Constants_changePassword_heading"},changePassword_newPassword:{getter:function(){return"New password:"},mapKey:"Constants_changePassword_newPassword"},changePassword_oldPassword:{getter:function(){return"Old password:"},mapKey:"Constants_changePassword_oldPassword"},changePassword_message_fillEmptyFields:{getter:function(){return"Fill empty fields"},mapKey:"Constants_changePassword_message_fillEmptyFields"},changePassword_message_changed:{getter:function(){return"Password successfully changed"},mapKey:"Constants_changePassword_message_changed"},changePassword_message_passwordNotEqual:{getter:function(){return"New password and confirmed password are not equal!"},mapKey:"Constants_changePassword_message_passwordNotEqual"},changePassword_message_passwordInvalid:{getter:function(){return"New  and confirmed passwords should be same and should not be empty."},mapKey:"Constants_changePassword_message_passwordInvalid"},passwordBox_show:{getter:function(){return"Show"},mapKey:"Constants_passwordBox_show"},passwordBox_hide:{getter:function(){return"Hide"},mapKey:"Constants_passwordBox_hide"},changePassword_validation_digitsAndLetters:{getter:function(){return"Digits and Letters"},mapKey:"Constants_changePassword_validation_digitsAndLetters"},changePassword_validation_upperAndLower:{getter:function(){return"Upper and lower case letters"},mapKey:"Constants_changePassword_validation_upperAndLower"},changePassword_validation_specChars:{getter:function(){return"Special characters"},mapKey:"Constants_changePassword_validation_specChars"},changePassword_validation_minLength:{getter:function(e){return"At least {0} characters long"},mapKey:"Constants_changePassword_validation_minLength"},changePassword_validation_weakList:{getter:function(){return"Not based on a commonly used word (found in a weak password list)"},mapKey:"Constants_changePassword_validation_weakList"},changePassword_validation_prevUsed:{getter:function(){return"Has not been used recently"},mapKey:"Constants_changePassword_validation_prevUsed"},changePassword_validation_selfNames:{getter:function(){return"Not based on an item or a tenant name"},mapKey:"Constants_changePassword_validation_selfNames"},changePassword_validation_oldPassword:{getter:function(){return"Correct old password"},mapKey:"Constants_changePassword_validation_oldPassword"},changePassword_notStrongEnoughMessage:{getter:function(){return"The password isn't strong enough"},mapKey:"Constants_changePassword_notStrongEnoughMessage"},changePassword_strongPasswordMessage:{getter:function(){return"Password strength: strong"},mapKey:"Constants_changePassword_strongPasswordMessage"},changePassword_message_authFailure:{getter:function(){return"Auth failed"},mapKey:"Constants_changePassword_message_authFailure"},changePassword_message_error:{getter:function(){return"Change password error"},mapKey:"Constants_changePassword_message_error"},changePassword_message_success:{getter:function(){return"Success"},mapKey:"Constants_changePassword_message_success"},changePassword_message_invalidNewPassword:{getter:function(){return"Invalid new password"},mapKey:"Constants_changePassword_message_invalidNewPassword"},changePassword_message_userNotFound:{getter:function(){return"User not found"},mapKey:"Constants_changePassword_message_userNotFound"},title:{getter:function(){return"Change Password"},mapKey:"declaration_title"},title_required:{getter:function(){return"Change Password Required"},mapKey:"declaration_title_required"},correct_old_password_hint:{getter:function(){return"Correct old password"},mapKey:"declaration_correct_old_password_hint"}},CONFERENCE:{party_mobile_phone:{getter:function(e){return"mobile: {0}"},mapKey:"declaration_party_mobile_phone"},party_extension:{getter:function(e){return"ext.: {0}"},mapKey:"declaration_party_extension"}},CONTACT:{button_start_call_text:{getter:function(){return"Start a call"},mapKey:"declaration_button_start_call_text"},button_initiate_chat_text:{getter:function(){return"Initiate chat"},mapKey:"declaration_button_initiate_chat_text"},button_show_contact_details_text:{getter:function(){return"Show contact details"},mapKey:"declaration_button_show_contact_details_text"},label_add_phone:{getter:function(){return"Add phone"},mapKey:"declaration_label_add_phone"},label_add_email:{getter:function(){return"Add email"},mapKey:"declaration_label_add_email"},label_add_address:{getter:function(){return"Add address"},mapKey:"declaration_label_add_address"},augment_contact:{getter:function(){return"Augment"},mapKey:"declaration_augment_contact"},add_email_heading:{getter:function(){return"Add Email to Contact"},mapKey:"declaration_add_email_heading"},add_phone_heading:{getter:function(){return"Add Phone to Contact"},mapKey:"declaration_add_phone_heading"},add_email_description:{getter:function(e,t){return"`Add email {0} to {1} record as`"},mapKey:"declaration_add_email_description"},add_phone_description:{getter:function(e,t){return"`Add number {0} to {1} record as`"},mapKey:"declaration_add_phone_description"},add_email_confirmation_button:{getter:function(){return"Add"},mapKey:"declaration_add_email_confirmation_button"},add_phone_confirmation_button:{getter:function(){return"Add"},mapKey:"declaration_add_phone_confirmation_button"},add_phone_phone_type_placeholder:{getter:function(){return"Phone type"},mapKey:"declaration_add_phone_phone_type_placeholder"},add_email_email_type_placeholder:{getter:function(){return"Email type"},mapKey:"declaration_add_email_email_type_placeholder"},save_error:{getter:function(){return"There was an error while saving the contact"},mapKey:"declaration_save_error"},delete_error:{getter:function(){return"There was an error while deleting the contact"},mapKey:"declaration_delete_error"},open_error:{getter:function(){return"There was an error while opening the contact"},mapKey:"declaration_open_error"},unsaved_warning_message:{getter:function(){return"You have unsaved changes that will be lost, do you want to continue?"},mapKey:"declaration_unsaved_warning_message"},unidentified_contact:{getter:function(){return"Unidentified contact"},mapKey:"declaration_unidentified_contact"},go_back_button_button_tooltip:{getter:function(){return"Back"},mapKey:"declaration_go_back_button_button_tooltip"},copied_confirmation_label_text:{getter:function(){return"Copied!"},mapKey:"declaration_copied_confirmation_label_text"},add_entry_button_tooltip:{getter:function(){return"Add entry"},mapKey:"declaration_add_entry_button_tooltip"},remove_entry_button_tooltip:{getter:function(){return"Remove entry"},mapKey:"declaration_remove_entry_button_tooltip"}},CONTACT_POPUP:{contact_popup_new_contact_label:{getter:function(){return"new contact"},mapKey:"Constants_contact_popup_new_contact_label"},contact_popup_select:{getter:function(){return"Select..."},mapKey:"Constants_contact_popup_select"},contact_msteams_no_chat:{getter:function(){return"Cannot chat with this Microsoft Teams user, please initiate chat session using Microsoft Teams application"},mapKey:"Constants_contact_msteams_no_chat"},contact_popup_add_to_contact_label:{getter:function(){return"add to existing"},mapKey:"Constants_contact_popup_add_to_contact_label"},new_contact_dialog_heading:{getter:function(){return"Add New Record"},mapKey:"Constants_new_contact_dialog_heading"},new_contact_dialog_name_placeholder:{getter:function(){return"first last name"},mapKey:"Constants_new_contact_dialog_name_placeholder"},new_contact_dialog_phone_placeholder:{getter:function(){return"mobile phone"},mapKey:"Constants_new_contact_dialog_phone_placeholder"},new_contact_dialog_email_placeholder:{getter:function(){return"email"},mapKey:"Constants_new_contact_dialog_email_placeholder"},new_contact_dialog_photo_placeholder:{getter:function(){return"photo"},mapKey:"Constants_new_contact_dialog_photo_placeholder"},new_contact_dialog_edit_button_text:{getter:function(){return"Add and Edit"},mapKey:"Constants_new_contact_dialog_edit_button_text"}},CRM:{crm_case_status_label:{getter:function(e,t){return"Case {0} ({1})"},mapKey:"Constants_crm_case_status_label"},crm_history_tab:{getter:function(){return"Activities"},mapKey:"Constants_crm_history_tab"},crm_pending_tab:{getter:function(){return"Pending"},mapKey:"Constants_crm_pending_tab"},crm_case_tab:{getter:function(){return"Cases"},mapKey:"Constants_crm_case_tab"},crm_notes_tab:{getter:function(){return"Notes"},mapKey:"Constants_crm_notes_tab"},crm_details_tab:{getter:function(){return"Details"},mapKey:"Constants_crm_details_tab"},crm_history_headers_by:{getter:function(e){return"By: {0}"},mapKey:"Constants_crm_history_headers_by"},crm_history_headers_disposition:{getter:function(e){return"Disposition: {0}"},mapKey:"Constants_crm_history_headers_disposition"},crm_history_record_attachments_tooltip:{getter:function(){return"Contains an attachments"},mapKey:"Constants_crm_history_record_attachments_tooltip"},crm_history_headers_via:{getter:function(e){return"Via: {0}"},mapKey:"Constants_crm_history_headers_via"},crm_message_tab:{getter:function(){return"Message"},mapKey:"Constants_crm_message_tab"},crm_form_tab:{getter:function(){return"Form"},mapKey:"Constants_crm_form_tab"}},DEVICE_SETUP_WINDOW:{deviceSetup_defaultHardphone:{getter:function(){return"Default phone"},mapKey:"Constants_deviceSetup_defaultHardphone"},deviceSetup_virtualSoftphone:{getter:function(){return"Dial-in and keep line open"},mapKey:"Constants_deviceSetup_virtualSoftphone"},deviceSetup_hardphone:{getter:function(){return"Internal phone"},mapKey:"Constants_deviceSetup_hardphone"},deviceSetup_external:{getter:function(){return"External phone"},mapKey:"Constants_deviceSetup_external"},deviceSetup_heading:{getter:function(){return"Phone Device"},mapKey:"Constants_deviceSetup_heading"},deviceSetup_platformNotSupported:{getter:function(){return"Your platform is not supported by softphone plugin"},mapKey:"Constants_deviceSetup_platformNotSupported"},deviceSetup_softphone:{getter:function(){return"Softphone with computer headset"},mapKey:"Constants_deviceSetup_softphone"},deviceSetup_warning:{getter:function(){return"Warning! Changes will be applied after re-login"},mapKey:"Constants_deviceSetup_warning"},deviceSetup_withoutphone:{getter:function(){return"No phone"},mapKey:"Constants_deviceSetup_withoutphone"},phone_type_secure_soft:{getter:function(){return"Secure phone via soundcard/headset (Secure Agent Helper Application)"},mapKey:"Constants_phone_type_secure_soft"},phone_type_unsecure_soft:{getter:function(){return"Phone via soundcard/headset (Agent Helper Application)"},mapKey:"Constants_phone_type_unsecure_soft"},phone_type_browser:{getter:function(){return"Secure phone via browser audio (Web RTC)"},mapKey:"Constants_phone_type_browser"},phone_type_browser_sf_classic_comment:{getter:function(){return"This option is not compatible with SalesForce Classic"},mapKey:"Constants_phone_type_browser_sf_classic_comment"},phone_type_hard_custom:{getter:function(){return"Internal hardphone, number"},mapKey:"Constants_phone_type_hard_custom"},phone_type_hard_default:{getter:function(){return"Internal hardphone, my default number"},mapKey:"Constants_phone_type_hard_default"},phone_type_external_number:{getter:function(){return"External phone, PSTN number"},mapKey:"Constants_phone_type_external_number"},phone_type_microsoft_teams:{getter:function(){return"Microsoft Teams, Direct Routing number"},mapKey:"Constants_phone_type_microsoft_teams"},phone_type_nailed:{getter:function(){return"Dial-in and keep line open (nailed connection)"},mapKey:"Constants_phone_type_nailed"},phone_type_none:{getter:function(){return"Login without phone"},mapKey:"Constants_phone_type_none"},internal_phone_number_not_valid:{getter:function(){return"Internal phone number must have only digits"},mapKey:"Constants_internal_phone_number_not_valid"},external_phone_number_not_valid:{getter:function(){return'External phone number must have only digits, plus sign "+", and comma ","'},mapKey:"Constants_external_phone_number_not_valid"},msteams_phone_number_not_valid:{getter:function(){return'Microsoft Teams Direct Routing phone number must have only digits, plus sign "+", and comma ","'},mapKey:"Constants_msteams_phone_number_not_valid"},phone_type_microsoft_teams_not_valid:{getter:function(){return'Microsoft Teams Direct Routing phone number must have only digits, plus sign "+", and comma ","'},mapKey:"declaration_phone_type_microsoft_teams_not_valid"}},DIAL_PAD:{letter2:{getter:function(){return"ABC"},mapKey:"DialPadConstants_letter2"},letter3:{getter:function(){return"DEF"},mapKey:"DialPadConstants_letter3"},letter4:{getter:function(){return"GHI"},mapKey:"DialPadConstants_letter4"},letter5:{getter:function(){return"JKL"},mapKey:"DialPadConstants_letter5"},letter6:{getter:function(){return"MNO"},mapKey:"DialPadConstants_letter6"},letter7:{getter:function(){return"PQRS"},mapKey:"DialPadConstants_letter7"},letter8:{getter:function(){return"TUV"},mapKey:"DialPadConstants_letter8"},letter9:{getter:function(){return"WXYZ"},mapKey:"DialPadConstants_letter9"},error_empty_number:{getter:function(){return"Please, enter the number"},mapKey:"declaration_error_empty_number"},show_controls_label:{getter:function(){return"Show controls"},mapKey:"declaration_show_controls_label"},delete_last_digit_tooltip:{getter:function(){return"Delete last digit"},mapKey:"declaration_delete_last_digit_tooltip"},invalid_number_error_text:{getter:function(){return"Enter extension or number valid for the selected country"},mapKey:"declaration_invalid_number_error_text"}},DID:{voice_number:{getter:function(e){return"Voice number {0}"},mapKey:"declaration_voice_number"},sms_number:{getter:function(e){return"SMS number {0}"},mapKey:"declaration_sms_number"},voice_and_sms_number:{getter:function(e){return"Voice and SMS number {0}"},mapKey:"declaration_voice_and_sms_number"}},DIRECTORY:{waiting:{getter:function(e){return"Waiting: {0}"},mapKey:"declaration_waiting"},max_wait:{getter:function(e){return"Max Wait: {0}"},mapKey:"declaration_max_wait"},ewt:{getter:function(e){return"Estimated wait time: {0}"},mapKey:"declaration_ewt"},svc_level:{getter:function(e){return"Svc Level: {0}%"},mapKey:"declaration_svc_level"},ready:{getter:function(e){return"Ready: {0}"},mapKey:"declaration_ready"},logged_in:{getter:function(e){return"Logged In: {0}"},mapKey:"declaration_logged_in"},too_many_results_found:{getter:function(){return"Too many results found, please refine your search."},mapKey:"declaration_too_many_results_found"},external_contacts:{getter:function(){return"External Contacts"},mapKey:"declaration_external_contacts"},search_placeholder:{getter:function(){return"Search in directory"},mapKey:"declaration_search_placeholder"},no_results_internal:{getter:function(){return"No internal contacts found"},mapKey:"declaration_no_results_internal"},no_results_external:{getter:function(){return"No external contacts found"},mapKey:"declaration_no_results_external"},no_results_internal_for_query:{getter:function(e){return'No internal contacts found for "{0}"'},mapKey:"declaration_no_results_internal_for_query"},no_results_external_for_query:{getter:function(e){return'No external contacts found for "{0}"'},mapKey:"declaration_no_results_external_for_query"}},DISPOSITION:{disposition_notesEmptyText:{getter:function(){return"<notes>"},mapKey:"Constants_disposition_notesEmptyText"},disposition_notes_tooltip:{getter:function(){return"Notes"},mapKey:"Constants_disposition_notes_tooltip"},disposition_noSelect:{getter:function(){return"<no disposition>"},mapKey:"Constants_disposition_noSelect"},disposition_selectDisposition:{getter:function(){return"<select disposition>"},mapKey:"Constants_disposition_selectDisposition"},disposition_selector_tooltip:{getter:function(){return"Disposition Selector"},mapKey:"Constants_disposition_selector_tooltip"},dispositionValidation_disposition:{getter:function(){return"Disposition"},mapKey:"Constants_dispositionValidation_disposition"},formValidation_formFields:{getter:function(){return"Form fields"},mapKey:"Constants_formValidation_formFields"},disposition_not_selected:{getter:function(){return"Not Selected"},mapKey:"declaration_disposition_not_selected"},notes_length_error_text:{getter:function(e){return"Notes must be less than {0} characters"},mapKey:"declaration_notes_length_error_text"},required_disposition_error_text:{getter:function(){return"Disposition is required"},mapKey:"declaration_required_disposition_error_text"},reschedule_date_in_past_error_text:{getter:function(){return"Reschedule date should not be in the past"},mapKey:"declaration_reschedule_date_in_past_error_text"},disposition_search_input_hint:{getter:function(){return"Search disposition"},mapKey:"declaration_disposition_search_input_hint"},resolution_crm_objects_label:{getter:function(){return"Link to CRM objects"},mapKey:"declaration_resolution_crm_objects_label"}},EMAIL:{button_maskSelectedText_text:{getter:function(){return"Mask"},mapKey:"Constants_button_maskSelectedText_text"},msg_masked_content:{getter:function(){return"Masked Content"},mapKey:"Constants_msg_masked_content"},button_trash_text:{getter:function(){return"Trash"},mapKey:"Constants_button_trash_text"},button_trash_tooltip:{getter:function(){return"Trash"},mapKey:"Constants_button_trash_tooltip"},trash_confirm_message_single:{getter:function(e){return'Are you sure you want to delete "{0}"?'},mapKey:"Constants_trash_confirm_message_single"},trash_confirm_message_multiple:{getter:function(e){return"Are you sure you want to delete {0} selected items?"},mapKey:"Constants_trash_confirm_message_multiple"},button_spam_text:{getter:function(){return"Spam"},mapKey:"Constants_button_spam_text"},button_spam_tooltip:{getter:function(){return"Spam"},mapKey:"Constants_button_spam_tooltip"},spam_confirm_message_single:{getter:function(e){return'Are you sure you want to mark as spam "{0}"?'},mapKey:"Constants_spam_confirm_message_single"},spam_confirm_message_multiple:{getter:function(e){return"Are you sure you want to mark as spam {0} selected items?"},mapKey:"Constants_spam_confirm_message_multiple"},email_target_answer_time_tooltip:{getter:function(e){return"Target time: {0}"},mapKey:"Constants_email_target_answer_time_tooltip"},button_unMaskSelectedText_text:{getter:function(){return"Unmask"},mapKey:"Constants_button_unMaskSelectedText_text"},emailQueue:{getter:function(e,t){return"Email (me: {0} | team: {1})"},mapKey:"Constants_emailQueue"},emailQueuePersonal:{getter:function(e){return"Email (me: {0})"},mapKey:"Constants_emailQueuePersonal"},emailManagePersonalQueue:{getter:function(e){return"Email [{0} - personal queue]"},mapKey:"Constants_emailManagePersonalQueue"},emailPersonalQueue_header:{getter:function(){return"Personal Queue"},mapKey:"Constants_emailPersonalQueue_header"},queuePostfix:{getter:function(e){return"{0} - queue"},mapKey:"Constants_queuePostfix"},followUpPostfix:{getter:function(e){return"{0} - Pinned Cases"},mapKey:"Constants_followUpPostfix"},emailFollowUpQueue_header:{getter:function(){return"Pinned Cases"},mapKey:"Constants_emailFollowUpQueue_header"},emailSearchQueue_header:{getter:function(){return"Search"},mapKey:"Constants_emailSearchQueue_header"},emailPersonalQueue_short_header:{getter:function(){return"Personal Q"},mapKey:"Constants_emailPersonalQueue_short_header"},emailPQM_button_tooltip:{getter:function(){return"Show Agent's Personal Queue"},mapKey:"Constants_emailPQM_button_tooltip"},pageItemsSelected:{getter:function(e){return"All <b>{0}</b> items on this page are selected.&nbsp;"},mapKey:"Constants_pageItemsSelected"},selectAllQueueItems:{getter:function(e){return"Select all <b>{0}</b> items of the Queue"},mapKey:"Constants_selectAllQueueItems"},allQueueItemsSelected:{getter:function(e){return"All <b>{0}</b> items of the Queue are selected.&nbsp;"},mapKey:"Constants_allQueueItemsSelected"},itemsWithoutServiceStillInPersonalQueue:{getter:function(e){return"{0} items don't have associated Service and cannot be moved to Team Queue."},mapKey:"Constants_itemsWithoutServiceStillInPersonalQueue"},clearSelection:{getter:function(){return"Clear Selection"},mapKey:"Constants_clearSelection"},close_email_interaction_tooltip:{getter:function(){return"Close without sending reply"},mapKey:"Constants_close_email_interaction_tooltip"},complete_email_interaction_tooltip:{getter:function(){return"Complete current email interaction"},mapKey:"Constants_complete_email_interaction_tooltip"},emailTeamQueue_header:{getter:function(){return"Team Queue"},mapKey:"Constants_emailTeamQueue_header"},emailTeamQueue_short_header:{getter:function(){return"Team Q"},mapKey:"Constants_emailTeamQueue_short_header"},email_draft_tab:{getter:function(){return"Draft"},mapKey:"Constants_email_draft_tab"},email_view_button:{getter:function(){return"View"},mapKey:"Constants_email_view_button"},email_open_button:{getter:function(){return"Open"},mapKey:"Constants_email_open_button"},email_no_subject:{getter:function(){return"(no subject)"},mapKey:"Constants_email_no_subject"},email_send_button_tooltip:{getter:function(){return"Send email"},mapKey:"Constants_email_send_button_tooltip"},email_saveDraft_button_tooltip:{getter:function(){return"Save draft and complete interaction"},mapKey:"Constants_email_saveDraft_button_tooltip"},email_close_case_without_reply:{getter:function(){return"You have unsent drafts that will be lost upon case completion."},mapKey:"Constants_email_close_case_without_reply"},email_deleteDraft_button_tooltip:{getter:function(){return"Delete draft"},mapKey:"Constants_email_deleteDraft_button_tooltip"},email_sendEmptyEmail_confirmMsg:{getter:function(){return"Send this message without subject or text in the body?"},mapKey:"Constants_email_sendEmptyEmail_confirmMsg"},email_sendEmailError_noRecipient:{getter:function(){return"Please specify at least one recipient."},mapKey:"Constants_email_sendEmailError_noRecipient"},email_invalid_addresses:{getter:function(){return"The Recipients field contains invalid emails"},mapKey:"Constants_email_invalid_addresses"},email_new_email_draft:{getter:function(){return"Email draft"},mapKey:"Constants_email_new_email_draft"},email_addAttachment_button_tooltip:{getter:function(){return"Add an attachment"},mapKey:"Constants_email_addAttachment_button_tooltip"},email_reply_showTrimmedContext_tooltip:{getter:function(){return"Show trimmed content"},mapKey:"Constants_email_reply_showTrimmedContext_tooltip"},email_reply_prefix:{getter:function(){return"Re: "},mapKey:"Constants_email_reply_prefix"},email_recipients:{getter:function(){return"Recipients"},mapKey:"Constants_email_recipients"},email_address_from_prefix:{getter:function(){return"From"},mapKey:"Constants_email_address_from_prefix"},email_address_to_prefix:{getter:function(){return"To"},mapKey:"Constants_email_address_to_prefix"},email_address_cc_prefix:{getter:function(){return"Cc"},mapKey:"Constants_email_address_cc_prefix"},email_address_bcc_prefix:{getter:function(){return"Bcc"},mapKey:"Constants_email_address_bcc_prefix"},email_date_prefix:{getter:function(){return"Date"},mapKey:"Constants_email_date_prefix"},email_subject:{getter:function(){return"Subject"},mapKey:"Constants_email_subject"},email_forward_subject_prefix:{getter:function(){return"Fwd: "},mapKey:"Constants_email_forward_subject_prefix"},email_assign_button:{getter:function(){return"Assign..."},mapKey:"Constants_email_assign_button"},email_assign_button_tooltip:{getter:function(){return"Assign email to agent"},mapKey:"Constants_email_assign_button_tooltip"},email_assign_keep_current_language_skill_label:{getter:function(){return"Keep current language skill"},mapKey:"Constants_email_assign_keep_current_language_skill_label"},email_move_to_team_queue_button_text:{getter:function(){return"Move to TQ"},mapKey:"Constants_email_move_to_team_queue_button_text"},email_move_to_team_queue_button_tooltip:{getter:function(){return"Move to Team Queue"},mapKey:"Constants_email_move_to_team_queue_button_tooltip"},email_transfer_button:{getter:function(){return"Transfer..."},mapKey:"Constants_email_transfer_button"},email_transfer_failed_message:{getter:function(){return"Email transfer failed. The email remains in your personal queue."},mapKey:"Constants_email_transfer_failed_message"},queue_item_close_failed:{getter:function(e){return"Some messages ({0}) could not be processed because they were acted upon by another user or users."},mapKey:"Constants_queue_item_close_failed"},email_transfer_button_tooltip:{getter:function(){return"Transfer"},mapKey:"Constants_email_transfer_button_tooltip"},email_searchInKb_button_tooltip:{getter:function(){return"Search the Knowledge Base to match selected text fragment"},mapKey:"Constants_email_searchInKb_button_tooltip"},show_original_email_body_button_tooltip:{getter:function(){return"Show original email content"},mapKey:"Constants_show_original_email_body_button_tooltip"},apply_mask_to_original_email_body_button_tooltip:{getter:function(){return"Apply mask to original email content"},mapKey:"Constants_apply_mask_to_original_email_body_button_tooltip"},email_reply_assign_header:{getter:function(){return"Assign Email"},mapKey:"Constants_email_reply_assign_header"},email_reply_transfer_header:{getter:function(){return"Transfer Email"},mapKey:"Constants_email_reply_transfer_header"},email_reply_transfer_initialize_with_service_error:{getter:function(){return"Initialize the interaction with the service."},mapKey:"Constants_email_reply_transfer_initialize_with_service_error"},email_grab_button:{getter:function(){return"Grab"},mapKey:"Constants_email_grab_button"},email_grab_button_tooltip:{getter:function(){return"Move email to personal queue"},mapKey:"Constants_email_grab_button_tooltip"},email_grab_drag_tooltip:{getter:function(e){return"Move {0} email(s) to personal queue"},mapKey:"Constants_email_grab_drag_tooltip"},email_teamQueue_service_label:{getter:function(){return"Service"},mapKey:"Constants_email_teamQueue_service_label"},email_teamQueue_language_label:{getter:function(){return"Language"},mapKey:"Constants_email_teamQueue_language_label"},email_teamQueue_allServices:{getter:function(){return"All"},mapKey:"Constants_email_teamQueue_allServices"},email_teamQueue_allPushServices:{getter:function(){return"All Services with Push Queues"},mapKey:"Constants_email_teamQueue_allPushServices"},email_teamQueue_allPullServices:{getter:function(){return"All Services with Pull Queues"},mapKey:"Constants_email_teamQueue_allPullServices"},email_teamQueue_selector_services:{getter:function(e){return"{0} services selected"},mapKey:"Constants_email_teamQueue_selector_services"},search_queue_case_status_label:{getter:function(){return"Case Status"},mapKey:"Constants_search_queue_case_status_label"},search_queue_case_restore_default:{getter:function(){return"Restore Default"},mapKey:"Constants_search_queue_case_restore_default"},search_queue_case_content_label:{getter:function(){return"Show/hide"},mapKey:"Constants_search_queue_case_content_label"},search_queue_case_content_all:{getter:function(){return"All"},mapKey:"Constants_search_queue_case_content_all"},search_queue_case_content_location:{getter:function(){return"Location"},mapKey:"Constants_search_queue_case_content_location"},search_queue_case_category:{getter:function(){return"Category"},mapKey:"Constants_search_queue_case_category"},search_queue_case_content_state:{getter:function(){return"State"},mapKey:"Constants_search_queue_case_content_state"},search_queue_case_content_date:{getter:function(){return"Date"},mapKey:"Constants_search_queue_case_content_date"},search_queue_case_content_sla:{getter:function(){return"SLA"},mapKey:"Constants_search_queue_case_content_sla"},search_queue_case_content_last_service:{getter:function(){return"Last Service"},mapKey:"Constants_search_queue_case_content_last_service"},search_queue_case_content_disposition:{getter:function(){return"Disposition"},mapKey:"Constants_search_queue_case_content_disposition"},search_queue_all_case_status_label:{getter:function(){return"All"},mapKey:"Constants_search_queue_all_case_status_label"},search_queue_case_count_label:{getter:function(e,t){return"Shown: {0} of {1} total"},mapKey:"Constants_search_queue_case_count_label"},search_queue_all_team_services:{getter:function(){return"All"},mapKey:"Constants_search_queue_all_team_services"},search_queue_team_services:{getter:function(){return"Team's Assigned Services"},mapKey:"Constants_search_queue_team_services"},search_queue_active_case_status_label:{getter:function(){return"Active"},mapKey:"Constants_search_queue_active_case_status_label"},search_queue_closed_case_status_label:{getter:function(){return"Closed"},mapKey:"Constants_search_queue_closed_case_status_label"},email_erased_attachment_tooltip:{getter:function(e,t,n,r){return"Attachment was deleted on {0} at {1} by {2}. Note: {3}"},mapKey:"Constants_email_erased_attachment_tooltip"},email_erase_attachment_confirmation:{getter:function(e){return"Are you sure you want to delete the attachment {0}? This operation cannot be undone."},mapKey:"Constants_email_erase_attachment_confirmation"},email_erase_attachment_note:{getter:function(){return"Erase reason:"},mapKey:"Constants_email_erase_attachment_note"},email_high_importance_tooltip:{getter:function(){return"High importance"},mapKey:"Constants_email_high_importance_tooltip"},email_low_importance_tooltip:{getter:function(){return"Low importance"},mapKey:"Constants_email_low_importance_tooltip"},case_view_reporter_label:{getter:function(){return"reporter"},mapKey:"Constants_case_view_reporter_label"},case_view_flag_off_button_tooltip:{getter:function(){return"Flag the case"},mapKey:"Constants_case_view_flag_off_button_tooltip"},case_view_flag_on_button_tooltip:{getter:function(){return"Unflag the call"},mapKey:"Constants_case_view_flag_on_button_tooltip"},case_view_pin_off_button_tooltip:{getter:function(){return"Pin the case"},mapKey:"Constants_case_view_pin_off_button_tooltip"},case_view_pin_on_button_tooltip:{getter:function(){return"Unpin the case"},mapKey:"Constants_case_view_pin_on_button_tooltip"},case_view_transfer_button_tooltip:{getter:function(){return"Transfer the case"},mapKey:"Constants_case_view_transfer_button_tooltip"},case_view_cc_label:{getter:function(){return"on copy"},mapKey:"Constants_case_view_cc_label"},case_view_status_label:{getter:function(){return"State"},mapKey:"Constants_case_view_status_label"},case_view_assignments_label:{getter:function(){return"Assigned to"},mapKey:"Constants_case_view_assignments_label"},case_view_contact_cases_with_updates_tooltip:{getter:function(e){return"This contact has {0} more cases with updates"},mapKey:"Constants_case_view_contact_cases_with_updates_tooltip"},case_view_followups_label:{getter:function(){return"Pinned by"},mapKey:"Constants_case_view_followups_label"},case_view_assignment_personal_label:{getter:function(e,t,n){return"In personal queue of {0} since {1}, {2}"},mapKey:"Constants_case_view_assignment_personal_label"},case_view_assignment_followup_label:{getter:function(e){return"Pinned by {0}"},mapKey:"Constants_case_view_assignment_followup_label"},case_view_pending_reason_label:{getter:function(){return"Reason"},mapKey:"Constants_case_view_pending_reason_label"},email_queue_field_subject:{getter:function(){return"Subject"},mapKey:"Constants_email_queue_field_subject"},email_queue_field_serviceLevel:{getter:function(){return"SLA Age %"},mapKey:"Constants_email_queue_field_serviceLevel"},email_queue_field_slaTarget:{getter:function(){return"SLA Target"},mapKey:"Constants_email_queue_field_slaTarget"},email_queue_field_from:{getter:function(){return"From"},mapKey:"Constants_email_queue_field_from"},email_queue_field_reply_to:{getter:function(){return"Reply To"},mapKey:"Constants_email_queue_field_reply_to"},email_queue_field_flag:{getter:function(){return"Flag"},mapKey:"Constants_email_queue_field_flag"},email_queue_field_customerUpdate:{getter:function(){return"Last customer update"},mapKey:"Constants_email_queue_field_customerUpdate"},email_queue_field_updateTime:{getter:function(){return"Update time"},mapKey:"Constants_email_queue_field_updateTime"},email_queue_field_createTime:{getter:function(){return"Create time"},mapKey:"Constants_email_queue_field_createTime"},email_queue_field_relevance:{getter:function(){return"Relevance"},mapKey:"Constants_email_queue_field_relevance"},email_queue_sort_by_label:{getter:function(e){return"Sort by {0}"},mapKey:"Constants_email_queue_sort_by_label"},emailReply_menu_more_tooltip:{getter:function(){return"More"},mapKey:"Constants_emailReply_menu_more_tooltip"},emailReply_menu_item_replyTo:{getter:function(){return"Reply"},mapKey:"Constants_emailReply_menu_item_replyTo"},emailReply_menu_item_replyToAll:{getter:function(){return"Reply to all"},mapKey:"Constants_emailReply_menu_item_replyToAll"},emailReply_menu_item_forward:{getter:function(){return"Forward"},mapKey:"Constants_emailReply_menu_item_forward"},case_view_load_older_content:{getter:function(){return"Load older content"},mapKey:"Constants_case_view_load_older_content"},case_view_load_newer_content:{getter:function(){return"Load newer content"},mapKey:"Constants_case_view_load_newer_content"}},ERROR_MESSAGES:{sipRegistrationFail:{getter:function(){return"SIP server registration failed"},mapKey:"Constants_sipRegistrationFail"},switchToSmsError:{getter:function(){return"Switch to SMS impossible without number."},mapKey:"Constants_switchToSmsError"},switchWithoutContactError:{getter:function(){return"Switch channel impossible on unidentified contact."},mapKey:"Constants_switchWithoutContactError"},switchWithoutRASessionError:{getter:function(){return"Switching channel is impossible without active Remote Assist session"},mapKey:"Constants_switchWithoutRASessionError"},dialAddDncError:{getter:function(e,t){return"Could not add number {0} to DNC lists. Reason: {1}"},mapKey:"Constants_dialAddDncError"},dialerCreateWorkItemError_1:{getter:function(){return"The system could not proceed your request: No such record in list"},mapKey:"Constants_dialerCreateWorkItemError_1"},dialerCreateWorkItemError_2:{getter:function(){return"The system could not proceed your request: No such list"},mapKey:"Constants_dialerCreateWorkItemError_2"},dialerCreateWorkItemError_3:{getter:function(){return"The system could not proceed your request: Record is in processing"},mapKey:"Constants_dialerCreateWorkItemError_3"},dialerCreateWorkItemError_4:{getter:function(){return"The system could not proceed your request: System failure"},mapKey:"Constants_dialerCreateWorkItemError_4"},dialerCreateWorkItemError_5:{getter:function(){return"The system could not proceed your request: Scenario engine is not available"},mapKey:"Constants_dialerCreateWorkItemError_5"},dialerCreateWorkItemError_6:{getter:function(){return"The system could not proceed your request: List is not in running state."},mapKey:"Constants_dialerCreateWorkItemError_6"},sessionWasOverwritten:{getter:function(){return"This session was logged out automatically because you just logged in somewhere else."},mapKey:"Constants_sessionWasOverwritten"},consult_call_required_error:{getter:function(){return"The form requires consult transfer attempts made during the call."},mapKey:"Constants_consult_call_required_error"},forcedLogout:{getter:function(e,t){return"You have been logged out by {0} at {1}"},mapKey:"Constants_forcedLogout"},notEnoughPrivileges:{getter:function(){return"Not enough privileges for requested operation."},mapKey:"Constants_notEnoughPrivileges"},invalidMessageReceived:{getter:function(){return"Invalid message sent."},mapKey:"Constants_invalidMessageReceived"},phoneIsNotRegistered:{getter:function(){return"Phone is not registered."},mapKey:"Constants_phoneIsNotRegistered"},phoneNumberIsNotPresent:{getter:function(){return"Phone is not present in dial plan."},mapKey:"Constants_phoneNumberIsNotPresent"},accountDisabled:{getter:function(e){return"Your account has been disabled by Service Provider at {0}."},mapKey:"Constants_accountDisabled"},missingWorkingPhone:{getter:function(){return"You were logged out because you did not have a working phone."},mapKey:"Constants_missingWorkingPhone"},noPrivilegeMakeExternalCalls:{getter:function(){return"Outbound calls not allowed."},mapKey:"Constants_noPrivilegeMakeExternalCalls"},genericError_noActiveServer:{getter:function(e){return"No active {0} server"},mapKey:"Constants_genericError_noActiveServer"},problem_with_voice_quality:{getter:function(){return"A problem with voice quality is detected, please check your network connection."},mapKey:"Constants_problem_with_voice_quality"},account_has_been_disabled:{getter:function(){return"Your account is disabled. Please contact your administrator."},mapKey:"Constants_account_has_been_disabled"},login_rate_limit_exceeded:{getter:function(){return"Login attempt rate limit exceeded. Please wait a few seconds before trying to login."},mapKey:"Constants_login_rate_limit_exceeded"},login_not_valid_app:{getter:function(){return"Your login id is not valid for this application"},mapKey:"Constants_login_not_valid_app"},login_from_ip_is_not_allowed:{getter:function(){return"System access is restricted. Your current IP address is not in allowed range."},mapKey:"Constants_login_from_ip_is_not_allowed"},email_message_limit_exceeded:{getter:function(){return"Email is too large and cannot be sent or saved"},mapKey:"Constants_email_message_limit_exceeded"},zendesk_sso_disabled:{getter:function(){return"You don't have the privilege to use Zendesk Single sign-on."},mapKey:"Constants_zendesk_sso_disabled"},zendesk_disabled:{getter:function(){return"You don't have the privilege to use Zendesk integration"},mapKey:"Constants_zendesk_disabled"},zendesk_sso_malformed_return_to:{getter:function(){return"Redirect to Zendesk account is disabled. "},mapKey:"Constants_zendesk_sso_malformed_return_to"},zendesk_fullVersion_disabled:{getter:function(){return"You don't have the privilege to use full version of AgentDesktop."},mapKey:"Constants_zendesk_fullVersion_disabled"},uploading_image_io_error:{getter:function(){return"The image could not be loaded."},mapKey:"Constants_uploading_image_io_error"},no_service_with_outbound_sms_account_configured:{getter:function(){return"No service with outbound sms account is configured"},mapKey:"Constants_no_service_with_outbound_sms_account_configured"},service_is_required_for_outbound_call_message:{getter:function(){return"Service is required for outbound call"},mapKey:"Constants_service_is_required_for_outbound_call_message"},service_is_required_for_outbound_sms_message:{getter:function(){return"Service is required for outbound SMS"},mapKey:"Constants_service_is_required_for_outbound_sms_message"},login_id_changed_message:{getter:function(){return"Your username has changed. Please log out and log in with the new username."},mapKey:"Constants_login_id_changed_message"},msteams_access_token_error_message:{getter:function(){return"Microsoft Teams error: "},mapKey:"Constants_msteams_access_token_error_message"},msteams_refresh_token_expired_error_message:{getter:function(){return"Your Microsoft login into MS Teams integration has expired, re-authorize in Settings -> Profile."},mapKey:"Constants_msteams_refresh_token_expired_error_message"},msteams_reset_by_admin_message:{getter:function(){return"Teams integration was reset by admin, please re-enable Teams in Settings -> Profile."},mapKey:"Constants_msteams_reset_by_admin_message"},msteams_disabling_confirmation:{getter:function(){return"Warning: disabling the integration will disable Teams directory, and will prevent you from sending messages to, or receiving updates from, Teams chats and channels."},mapKey:"Constants_msteams_disabling_confirmation"},msteams_different_user_confirmation:{getter:function(){return"You are logging into Teams as a user %s. This will erase all existing Teams chats and favorites and disable \u201cRecent\u201d entries linked to previous user %s."},mapKey:"Constants_msteams_different_user_confirmation"},msteams_disabled:{getter:function(){return"Teams integration is disabled, not configured or out of service"},mapKey:"Constants_msteams_disabled"},msteams_user_deleted:{getter:function(){return"Microsoft Teams user has been deleted from the Azure directory"},mapKey:"Constants_msteams_user_deleted"},msteams_unsufficient_privileges:{getter:function(){return"Microsoft Teams user does not have all privileges required for integration"},mapKey:"Constants_msteams_unsufficient_privileges"},msteams_other_user_item:{getter:function(){return"This item belongs to the different Teams user"},mapKey:"Constants_msteams_other_user_item"},msteams_start_channel_conversation:{getter:function(){return"Start a new conversation"},mapKey:"Constants_msteams_start_channel_conversation"},micNotRecognized:{getter:function(){return"Microphone is not recognized."},mapKey:"Constants_micNotRecognized"},speakersNotRecognized:{getter:function(){return"Speakers are not recognized."},mapKey:"Constants_speakersNotRecognized"},audioDevicesNotRecognized:{getter:function(){return"Microphone and speakers are not recognized."},mapKey:"Constants_audioDevicesNotRecognized"},dispositionProhibitedd:{getter:function(e){return"The disposition selected is not allowed. {0}"},mapKey:"Constants_dispositionProhibitedd"},callProhibited:{getter:function(e){return"The call is not allowed. {0}"},mapKey:"Constants_callProhibited"},completeProhibited:{getter:function(e){return"Complete call is not allowed. {0}"},mapKey:"Constants_completeProhibited"},validationTimeoutError:{getter:function(e){return"Validation timeout {}."},mapKey:"Constants_validationTimeoutError"},validationFailError:{getter:function(){return"Unable to process validation url."},mapKey:"Constants_validationFailError"},screenViewNoPluginError:{getter:function(){return"Agent Desktop Helper application is required in order to use screen monitoring."},mapKey:"Constants_screenViewNoPluginError"},domainAuthentificationError:{getter:function(e){return"This domain is not authorized to access your screen and microphone, please click {0} to authorize"},mapKey:"Constants_domainAuthentificationError"},domainAuthentificationErrorAnchor:{getter:function(){return"here"},mapKey:"Constants_domainAuthentificationErrorAnchor"},communicator_msteams_refresh_token_expired_error_message:{getter:function(){return"Your Microsoft login into MS Teams integration has expired, re-authorize in Settings -> Enterprise Messaging Accounts."},mapKey:"declaration_communicator_msteams_refresh_token_expired_error_message"},communicator_msteams_reset_by_admin_message:{getter:function(){return"Teams integration was reset by admin, please re-enable Teams in Settings -> Enterprise Messaging Accounts."},mapKey:"declaration_communicator_msteams_reset_by_admin_message"},error_field_required:{getter:function(){return"Field is required"},mapKey:"declaration_error_field_required"},error_no_username:{getter:function(){return"Please enter your username"},mapKey:"declaration_error_no_username"},error_no_service:{getter:function(){return"Select a service in the dropdown menu"},mapKey:"declaration_error_no_service"},error_no_tenant:{getter:function(){return"Tenant is required"},mapKey:"declaration_error_no_tenant"},error_no_chat_in_service:{getter:function(){return"There is no associated chat with this service, please, select another service"},mapKey:"declaration_error_no_chat_in_service"},error_no_channel_in_service:{getter:function(){return"No service selected or service is not suitable for this action"},mapKey:"declaration_error_no_channel_in_service"},error_no_number:{getter:function(){return"This item has no number"},mapKey:"declaration_error_no_number"},error_self_call:{getter:function(){return"You can't call yourself"},mapKey:"declaration_error_self_call"},insufficient_privileges:{getter:function(){return"Your login id is not valid for this application"},mapKey:"declaration_insufficient_privileges"},device_empty:{getter:function(){return"No microphone detected, calls are not possible"},mapKey:"declaration_device_empty"},device_detected:{getter:function(e){return"Audio device is detected: {0}"},mapKey:"declaration_device_detected"},login_no_name:{getter:function(){return"You should specify your username"},mapKey:"declaration_login_no_name"},login_no_password:{getter:function(){return"You should specify your password"},mapKey:"declaration_login_no_password"},login_invalid_user_name:{getter:function(){return"Username or Password is incorrect"},mapKey:"declaration_login_invalid_user_name"},login_invalid_password:{getter:function(){return"Username or Password is incorrect"},mapKey:"declaration_login_invalid_password"},login_invalid_domain:{getter:function(){return"Invalid domain"},mapKey:"declaration_login_invalid_domain"},login_unknown_error:{getter:function(){return"Login failed: Internal Error"},mapKey:"declaration_login_unknown_error"},forcedLogout_automatically:{getter:function(e){return"You have been automatically logged out at {0}"},mapKey:"declaration_forcedLogout_automatically"},no_permissions_did_sms:{getter:function(){return"You have no permissions to start SMS chat with a selected DID number"},mapKey:"declaration_no_permissions_did_sms"},no_permissions_did_call:{getter:function(){return"You have no permissions to start a voice call with a selected DID number"},mapKey:"declaration_no_permissions_did_call"},profile_emi_request_error:{getter:function(){return"Unknown error during server request"},mapKey:"declaration_profile_emi_request_error"},profile_emi_abrupt_window_close:{getter:function(){return"Authentication window was closed"},mapKey:"declaration_profile_emi_abrupt_window_close"},profile_emi_auth_protocol_error:{getter:function(){return"Internal auth protocol error"},mapKey:"declaration_profile_emi_auth_protocol_error"},profile_emi_unsuccessful_result:{getter:function(){return"Procedure finished unsuccessfully"},mapKey:"declaration_profile_emi_unsuccessful_result"},error_message_size_limit_exceeded:{getter:function(e){return"Message size exceeds limit of {0} characters"},mapKey:"declaration_error_message_size_limit_exceeded"}},EXTERNAL_CHAT:{external_chat_video_call_requested:{getter:function(){return"The customer has requested the video call."},mapKey:"Constants_external_chat_video_call_requested"},external_chat_video_call_no_video:{getter:function(){return"no video"},mapKey:"Constants_external_chat_video_call_no_video"},external_chat_location_url:{getter:function(e,t){return"https://www.google.com/maps/dir//{0},{1}"},mapKey:"Constants_external_chat_location_url"},external_chat_customer_navigates_to:{getter:function(){return"Page"},mapKey:"Constants_external_chat_customer_navigates_to"},external_chat_audio_call_requested:{getter:function(){return"The customer has requested the audio call."},mapKey:"Constants_external_chat_audio_call_requested"},external_chat_call_finished:{getter:function(){return"The call has been finished."},mapKey:"Constants_external_chat_call_finished"},click_to_enlarge_image_tooltip:{getter:function(){return"Click to show in original size"},mapKey:"Constants_click_to_enlarge_image_tooltip"},external_chat_new_messages:{getter:function(){return"You have new messages"},mapKey:"Constants_external_chat_new_messages"},external_chat_file_label:{getter:function(){return"File: "},mapKey:"Constants_external_chat_file_label"},external_chat_card_label:{getter:function(){return"Card: "},mapKey:"Constants_external_chat_card_label"},external_chat_file_sent:{getter:function(e){return'Sent file "{0}"'},mapKey:"Constants_external_chat_file_sent"},external_chat_file_received:{getter:function(e){return'File "{0}" received'},mapKey:"Constants_external_chat_file_received"},external_chat_contact_received:{getter:function(e){return'Contact "{0}" received'},mapKey:"Constants_external_chat_contact_received"},external_chat_url_received:{getter:function(e){return'Url "{0}" received'},mapKey:"Constants_external_chat_url_received"},external_chat_sticker_received:{getter:function(){return"Sticker received"},mapKey:"Constants_external_chat_sticker_received"},external_chat_location_received:{getter:function(){return"Location received"},mapKey:"Constants_external_chat_location_received"},external_chat_secure_form_canceled:{getter:function(){return"Form input has been cancelled"},mapKey:"Constants_external_chat_secure_form_canceled"},external_chat_secure_data_requested:{getter:function(){return"Secure data has been requested"},mapKey:"Constants_external_chat_secure_data_requested"},click_to_enlarge_image_heading:{getter:function(){return"Original image"},mapKey:"Constants_click_to_enlarge_image_heading"},external_chat_cancel:{getter:function(){return"cancel"},mapKey:"Constants_external_chat_cancel"},external_chat_canned_greetings:{getter:function(){return"Greetings"},mapKey:"Constants_external_chat_canned_greetings"},external_chat_log_party_joined:{getter:function(){return"%s connected"},mapKey:"Constants_external_chat_log_party_joined"},external_chat_party_joined:{getter:function(e){return"{0} connected"},mapKey:"Constants_external_chat_party_joined"},external_chat_party_inviting:{getter:function(){return"Inviting..."},mapKey:"Constants_external_chat_party_inviting"},external_chat_log_party_left:{getter:function(){return"%s disconnected"},mapKey:"Constants_external_chat_log_party_left"},external_chat_party_left:{getter:function(e){return"{0} disconnected"},mapKey:"Constants_external_chat_party_left"},external_chat_file_upload_error:{getter:function(){return"File upload error!"},mapKey:"Constants_external_chat_file_upload_error"},external_chat_invite_button:{getter:function(){return"Invite"},mapKey:"Constants_external_chat_invite_button"},external_chat_invite_button_tooltip:{getter:function(){return"Invite to chat"},mapKey:"Constants_external_chat_invite_button_tooltip"},external_chat_party_typing:{getter:function(e){return"{0} is typing..."},mapKey:"Constants_external_chat_party_typing"},external_chat_log_party_coaching:{getter:function(){return"%s is now coaching"},mapKey:"Constants_external_chat_log_party_coaching"},external_chat_party_coaching:{getter:function(e){return"{0} is now coaching"},mapKey:"Constants_external_chat_party_coaching"},external_chat_customer_account:{getter:function(){return"Account:"},mapKey:"Constants_external_chat_customer_account"},external_chat_customer_service:{getter:function(){return"Service:"},mapKey:"Constants_external_chat_customer_service"},external_chat_customer_launchpoint:{getter:function(){return"Via"},mapKey:"Constants_external_chat_customer_launchpoint"},external_chat_send:{getter:function(){return"Send"},mapKey:"Constants_external_chat_send"},external_chat_session_ended:{getter:function(){return"Chat session ended"},mapKey:"Constants_external_chat_session_ended"},external_chat_session_inviting:{getter:function(e){return"Inviting customer to switch to {0}"},mapKey:"Constants_external_chat_session_inviting"},external_chat_session_invite_accepted:{getter:function(e){return"{0} connection accepted"},mapKey:"Constants_external_chat_session_invite_accepted"},external_chat_unmask_tooltip:{getter:function(){return"Click to unmask"},mapKey:"Constants_external_chat_unmask_tooltip"},close_surfly_cobrowsing_session_label:{getter:function(){return"Are you sure to leave the co-browsing session?"},mapKey:"Constants_close_surfly_cobrowsing_session_label"},external_chat_cobrowsing_requested:{getter:function(){return"Co-browsing session requested."},mapKey:"Constants_external_chat_cobrowsing_requested"},external_chat_cobrowsing_started:{getter:function(){return"Co-browsing session started."},mapKey:"Constants_external_chat_cobrowsing_started"},external_chat_cobrowsing_rejected:{getter:function(){return"Co-browsing session rejected."},mapKey:"Constants_external_chat_cobrowsing_rejected"},external_chat_cobrowsing_ended:{getter:function(){return"Co-browsing session ended."},mapKey:"Constants_external_chat_cobrowsing_ended"},disposition_message_title:{getter:function(e,t,n){return"{0} dispositioned chat interaction on {1} at {2}"},mapKey:"declaration_disposition_message_title"},disposition_message_service_name:{getter:function(){return"Service:"},mapKey:"declaration_disposition_message_service_name"},sentiment_positive_tooltip:{getter:function(){return"Sentiment: Positive"},mapKey:"declaration_sentiment_positive_tooltip"},sentiment_neutral_tooltip:{getter:function(){return"Sentiment: Neutral"},mapKey:"declaration_sentiment_neutral_tooltip"},sentiment_negative_tooltip:{getter:function(){return"Sentiment: Negative"},mapKey:"declaration_sentiment_negative_tooltip"},chat_attachment_remove_button:{getter:function(){return"Remove attachment"},mapKey:"declaration_chat_attachment_remove_button"},party_joined_chat_2:{getter:function(){return"has joined the chat"},mapKey:"declaration_party_joined_chat_2"},party_left_chat_2:{getter:function(){return"has left the chat"},mapKey:"declaration_party_left_chat_2"},party_is_typing:{getter:function(){return"typing..."},mapKey:"declaration_party_is_typing"},agent_is_typing:{getter:function(e){return"{0} is typing..."},mapKey:"declaration_agent_is_typing"},dialog_header_invite_to_group_chat:{getter:function(e){return"Invite to group: {0}"},mapKey:"declaration_dialog_header_invite_to_group_chat"},invite_dialog_label:{getter:function(){return"Chat conference"},mapKey:"declaration_invite_dialog_label"},dialog_header_start_internal_chat:{getter:function(){return"Start an internal chat"},mapKey:"declaration_dialog_header_start_internal_chat"},message_connection_accepted:{getter:function(e){return"{0} connection accepted"},mapKey:"declaration_message_connection_accepted"},button_start_web_call_tooltip:{getter:function(){return"Start Web Call"},mapKey:"declaration_button_start_web_call_tooltip"},button_start_video_call_tooltip:{getter:function(){return"Start Video Call"},mapKey:"declaration_button_start_video_call_tooltip"},warning_second_web_call_line_1:{getter:function(){return"you already have web call in progress,"},mapKey:"declaration_warning_second_web_call_line_1"},warning_second_web_call_line_2:{getter:function(){return"which will be dropped if you accept this web call"},mapKey:"declaration_warning_second_web_call_line_2"},warning_have_other_call_line_1:{getter:function(){return"you have voice call in progress,"},mapKey:"declaration_warning_have_other_call_line_1"},warning_have_other_call_line_2:{getter:function(){return"which will be put on hold if you accept this web call"},mapKey:"declaration_warning_have_other_call_line_2"},display_name_placeholder:{getter:function(){return"Anonymous"},mapKey:"declaration_display_name_placeholder"},download_attachment_button_text:{getter:function(){return"Download attachment"},mapKey:"declaration_download_attachment_button_text"},open_fullsize_image_button_text:{getter:function(){return"Open fullsize image"},mapKey:"declaration_open_fullsize_image_button_text"}},FORMS:{address_type:{getter:function(){return"Address type"},mapKey:"declaration_address_type"},street:{getter:function(){return"Street"},mapKey:"declaration_street"},address_line_1:{getter:function(){return"Address Line 1"},mapKey:"declaration_address_line_1"},address_line_2:{getter:function(){return"Address Line 2"},mapKey:"declaration_address_line_2"},city:{getter:function(){return"City"},mapKey:"declaration_city"},state:{getter:function(){return"State"},mapKey:"declaration_state"},zip:{getter:function(){return"Zip"},mapKey:"declaration_zip"}},HOME_SCREEN:{home_screen_alert_none:{getter:function(){return"No announcements"},mapKey:"Constants_home_screen_alert_none"},home_screen_alerts:{getter:function(){return"Alerts"},mapKey:"Constants_home_screen_alerts"},home_screen_longestBreakTime:{getter:function(){return"Longest Break Time"},mapKey:"Constants_home_screen_longestBreakTime"},home_screen_quality_score:{getter:function(){return"Quality Score"},mapKey:"Constants_home_screen_quality_score"},home_screen_supervised_quality_score:{getter:function(){return"Supervised Quality Score"},mapKey:"Constants_home_screen_supervised_quality_score"},home_screen_quality_score_average_form_score:{getter:function(){return"Average form score"},mapKey:"Constants_home_screen_quality_score_average_form_score"},home_screen_campaignsCallsInProgress:{getter:function(){return"Campaigns Calls in Progress"},mapKey:"Constants_home_screen_campaignsCallsInProgress"},home_screen_lowestOccupancyAgents:{getter:function(){return"Lowest Occupancy Agents"},mapKey:"Constants_home_screen_lowestOccupancyAgents"},home_screen_customerSatisfaction:{getter:function(){return"Customer Satisfaction"},mapKey:"Constants_home_screen_customerSatisfaction"},home_screen_agenda:{getter:function(){return"Agenda"},mapKey:"Constants_home_screen_agenda"},home_screen_myStatsVsMyTeam:{getter:function(){return"My Stats vs. My Team's"},mapKey:"Constants_home_screen_myStatsVsMyTeam"},home_screen_breakTimeRemaining:{getter:function(){return"Break Time Remaining"},mapKey:"Constants_home_screen_breakTimeRemaining"},home_screen_agentsByState:{getter:function(){return"Agents by State"},mapKey:"Constants_home_screen_agentsByState"},home_screen_breakTime:{getter:function(){return"Break Time"},mapKey:"Constants_home_screen_breakTime"},home_screen_label_remaining:{getter:function(){return"remaining"},mapKey:"Constants_home_screen_label_remaining"},home_screen_tooltip_remaining:{getter:function(e){return"{0} min remaining"},mapKey:"Constants_home_screen_tooltip_remaining"},home_screen_tooltip_used:{getter:function(e){return"{0} min used"},mapKey:"Constants_home_screen_tooltip_used"},home_screen_tooltip_exceeded:{getter:function(e){return"{0} min exceeded"},mapKey:"Constants_home_screen_tooltip_exceeded"},home_screen_tooltip_permitted:{getter:function(e){return"{0} min permitted"},mapKey:"Constants_home_screen_tooltip_permitted"},home_screen_label_used:{getter:function(){return"used"},mapKey:"Constants_home_screen_label_used"},home_screen_label_permitted:{getter:function(){return"permitted"},mapKey:"Constants_home_screen_label_permitted"},home_screen_label_exceeded:{getter:function(){return"exceeded"},mapKey:"Constants_home_screen_label_exceeded"},home_screen_label_handled:{getter:function(){return"Handled"},mapKey:"Constants_home_screen_label_handled"},home_screen_label_successful:{getter:function(){return"Successful interactions"},mapKey:"Constants_home_screen_label_successful"},home_screen_label_avgHandlingT:{getter:function(){return"Average Handling Time"},mapKey:"Constants_home_screen_label_avgHandlingT"},home_screen_label_my:{getter:function(){return"my stats"},mapKey:"Constants_home_screen_label_my"},home_screen_label_teams:{getter:function(){return"team's stats"},mapKey:"Constants_home_screen_label_teams"},home_screen_dispositions:{getter:function(){return"Dispositions"},mapKey:"Constants_home_screen_dispositions"},home_screen_longestWaitTime:{getter:function(){return"Longest wait time"},mapKey:"Constants_home_screen_longestWaitTime"},home_screen_worstServiceLevel:{getter:function(){return"Worst Service Level"},mapKey:"Constants_home_screen_worstServiceLevel"},home_screen_count:{getter:function(){return"Count"},mapKey:"Constants_home_screen_count"},home_screen_satisfaction:{getter:function(){return"Satisfaction"},mapKey:"Constants_home_screen_satisfaction"},home_screen_label_demeanor:{getter:function(){return"Demeanor"},mapKey:"Constants_home_screen_label_demeanor"},home_screen_label_resolutions:{getter:function(){return"Resolutions"},mapKey:"Constants_home_screen_label_resolutions"},home_screen_label_netPromoterScore:{getter:function(){return"Net Promoter Score"},mapKey:"Constants_home_screen_label_netPromoterScore"},home_screen_label_agent_CM1:{getter:function(){return"Custom Survey Metric 1"},mapKey:"Constants_home_screen_label_agent_CM1"},home_screen_label_agent_CM2:{getter:function(){return"Custom Survey Metric 2"},mapKey:"Constants_home_screen_label_agent_CM2"},home_screen_widget_config_dialog:{getter:function(){return"Select Metrics"},mapKey:"Constants_home_screen_widget_config_dialog"},home_screen_selectDispositions:{getter:function(){return"Select Dispositions"},mapKey:"Constants_home_screen_selectDispositions"},home_screen_selectEvaluationAreas:{getter:function(){return"Select Evaluation Areas"},mapKey:"Constants_home_screen_selectEvaluationAreas"},home_screen_label_noEvents:{getter:function(){return"You have no events scheduled today or in the future"},mapKey:"Constants_home_screen_label_noEvents"},home_screen_label_noEventsToday:{getter:function(){return"You have no events scheduled today"},mapKey:"Constants_home_screen_label_noEventsToday"},interaction_tab_label_resolution:{getter:function(){return"Resolution"},mapKey:"declaration_interaction_tab_label_resolution"},interaction_tab_label_all_interactions:{getter:function(){return"All Interactions"},mapKey:"declaration_interaction_tab_label_all_interactions"},interaction_tab_label_calls:{getter:function(){return"Calls"},mapKey:"declaration_interaction_tab_label_calls"},interaction_tab_label_messages:{getter:function(){return"Messages"},mapKey:"declaration_interaction_tab_label_messages"},interaction_call_conference_label:{getter:function(){return"Conference"},mapKey:"declaration_interaction_call_conference_label"},interaction_chat_conference_label:{getter:function(){return"Conference Chat"},mapKey:"declaration_interaction_chat_conference_label"},menu_icon_tooltip:{getter:function(){return"Menu"},mapKey:"declaration_menu_icon_tooltip"},time_frame_today:{getter:function(){return"Today"},mapKey:"declaration_time_frame_today"},time_frame_week:{getter:function(){return"This Week"},mapKey:"declaration_time_frame_week"},time_frame_month:{getter:function(){return"This Month"},mapKey:"declaration_time_frame_month"},time_frame_year:{getter:function(){return"This Year"},mapKey:"declaration_time_frame_year"},home_screen_selectTitleAvailable:{getter:function(){return"Available"},mapKey:"declaration_home_screen_selectTitleAvailable"},home_screen_selectTitleIncluded:{getter:function(){return"Included"},mapKey:"declaration_home_screen_selectTitleIncluded"},home_screen_label_timeFrame:{getter:function(){return"Time Frame"},mapKey:"declaration_home_screen_label_timeFrame"},home_screen_label_timeFrameFrom:{getter:function(){return"From"},mapKey:"declaration_home_screen_label_timeFrameFrom"},home_screen_label_timeFrameTo:{getter:function(){return"To"},mapKey:"declaration_home_screen_label_timeFrameTo"}},INCOMING_CALL_DIALOG_BOX:{incomingInteraction_accept:{getter:function(){return"Accept"},mapKey:"Constants_incomingInteraction_accept"},incomingInteraction_open:{getter:function(){return"Open"},mapKey:"Constants_incomingInteraction_open"},pickup_call_notigication_accept:{getter:function(){return"Pick Up"},mapKey:"Constants_pickup_call_notigication_accept"},pickup_call_notigication_ignore:{getter:function(){return"Ignore"},mapKey:"Constants_pickup_call_notigication_ignore"},incomingInteraction_reply:{getter:function(){return"Reply"},mapKey:"Constants_incomingInteraction_reply"},incomingInteraction_reject:{getter:function(){return"Reject"},mapKey:"Constants_incomingInteraction_reject"},calendarAlert_dismiss:{getter:function(){return"Dismiss"},mapKey:"Constants_calendarAlert_dismiss"},calendarAlert_snooze:{getter:function(){return"Snooze"},mapKey:"Constants_calendarAlert_snooze"},incomingInteraction_postpone:{getter:function(){return"Postpone"},mapKey:"Constants_incomingInteraction_postpone"},incomingInteraction_number:{getter:function(e){return"from {0}"},mapKey:"Constants_incomingInteraction_number"},incomingInteraction_totalQueueTime:{getter:function(e){return"(Q {0}) "},mapKey:"Constants_incomingInteraction_totalQueueTime"},calendarAlert_dateString:{getter:function(e){return"at {0}"},mapKey:"Constants_calendarAlert_dateString"},call_pickup_dest_name:{getter:function(e){return"For {0}"},mapKey:"Constants_call_pickup_dest_name"},call_pickup_caller_info:{getter:function(e,t){return"From {0} {1}"},mapKey:"Constants_call_pickup_caller_info"},call_pickup_group_name:{getter:function(e){return"For a member of {0}"},mapKey:"Constants_call_pickup_group_name"},dial_number:{getter:function(){return"Dial Number"},mapKey:"declaration_dial_number"},button_accept_and_open_label:{getter:function(){return"Accept and Open"},mapKey:"declaration_button_accept_and_open_label"},loader_accepting_interaction_label:{getter:function(){return"Accepting..."},mapKey:"declaration_loader_accepting_interaction_label"},auto_accept_timer:{getter:function(e){return"in {0}"},mapKey:"declaration_auto_accept_timer"},button_see_context_label:{getter:function(){return"See Context"},mapKey:"declaration_button_see_context_label"},button_campaign_item_dial_label:{getter:function(){return"Dial Number"},mapKey:"declaration_button_campaign_item_dial_label"}},INSTALLATION_PROCESS:{install_downloadFlash:{getter:function(){return"Download the latest Adobe Flash Player"},mapKey:"Constants_install_downloadFlash"},install_flashRequire:{getter:function(){return"This page requires JavaScript and a recent version of Adobe Flash Player."},mapKey:"Constants_install_flashRequire"},bp_client_not_authorized_header:{getter:function(){return"Important"},mapKey:"Constants_bp_client_not_authorized_header"},bp_client_not_authorized_message:{getter:function(e){return"This domain is not authorized to access your screen and microphone, please click {0} to authorize"},mapKey:"Constants_bp_client_not_authorized_message"},bp_client_old_extension_version:{getter:function(e){return"We detected an old version of Agent Desktop {0} Extension. We strongly urge you to upgrade to the latest to benefit from security improvements."},mapKey:"Constants_bp_client_old_extension_version"},bp_client_update_extension:{getter:function(e){return"Click {0} the extension."},mapKey:"Constants_bp_client_update_extension"},bp_client_update_extension_text:{getter:function(){return"here to upgrade"},mapKey:"Constants_bp_client_update_extension_text"},bp_client_not_authorized_link:{getter:function(){return"here"},mapKey:"Constants_bp_client_not_authorized_link"},install_installHeader:{getter:function(e,t){return'Agent Desktop Helper Application is not detected. It is either disabled or not installed at all.<br> <br> <b>Features</b><br> When installed, the Agent Desktop Helper Application allows you to use a computer as a phone, share and record screen activity, receive notifications when the browser window is minimized<br><br><b>Application Installation Instructions:</b><ul><li>Install the Agent Desktop Helper Application by  <span id="{0}" class="{1}">downloading</span> and running the installer.</li><li>After installation is complete, refresh the browser page.</li></ul>'},mapKey:"Constants_install_installHeader"},install_installHeaderChrome:{getter:function(e,t,n){return'Agent Desktop Helper Application is not detected. It is either disabled or not installed at all.<br> <br> <b>Features</b><br> When installed, the Agent Desktop Helper Application allows you to use a computer as a phone, share and record screen activity, receive notifications when the browser window is minimized<br><br><b>Important</b><br> To use the Agent Desktop Helper Application with the Chrome browser, the Agent Desktop Chrome Extension must be installed and enabled before installing the application.<br><br><b>Application Installation Instructions:</b><ul><li>Install and enable the Agent Desktop Chrome Extension from the <span id="{0}" class="{2}">Chrome Web Store</span><br>If the extension is disabled, enable it in the Chrome menu of your browser window, [chrome://extensions], and refresh the browser page.</li><li>Install the Agent Desktop Helper Application by <span id="{1}" class="{2}">downloading</span> and running the installer.</li><li>After installation is complete, refresh the browser page.</li></ul>'},mapKey:"Constants_install_installHeaderChrome"},install_installHeaderFirefox:{getter:function(e,t,n){return'Agent Desktop Helper Application is not detected. It is either disabled or not installed at all.<br> <br> <b>Features</b><br> When installed, the Agent Desktop Helper Application allows you to use a computer as a phone, share and record screen activity, receive notifications when the browser window is minimized<br><br><b>Important</b><br> To use the Agent Desktop Helper Application with the Firefox browser, the Agent Desktop Extension must be installed and enabled before installing the application.<br><br><b>Application Installation Instructions:</b><ul><li>Install and enable the <span id="{0}" class="{2}">Agent Desktop Extension</span><br>If the browser extension is disabled, navigate to [about:addons], click on Extensions section and enable \'Agent Desktop Extension\' </li><li>Install the Agent Desktop Helper Application by <span id="{1}" class="{2}">downloading</span> and running the installer.<li>After installation is complete, refresh the browser page.</li></ul>'},mapKey:"Constants_install_installHeaderFirefox"},install_updateHeader:{getter:function(e,t){return'You are using an outdated version of the Agent Desktop Helper Application.<br>To continue using the Helper Application, it needs to be upgraded.<br><span id="{0}" class="{1}">Download it here</span>, save the file and then run it to update the application.<br><br>After the update is completed, please refresh the browser page.'},mapKey:"Constants_install_updateHeader"}},INTERACTION_SEARCH:{grid_copy:{getter:function(){return"Copy"},mapKey:"declaration_grid_copy"},grid_copied:{getter:function(){return"Copied"},mapKey:"declaration_grid_copied"},grid_columns:{getter:function(){return"Columns"},mapKey:"declaration_grid_columns"},grid_layout:{getter:function(){return"Layout"},mapKey:"declaration_grid_layout"},grid_search_columns_placeholder:{getter:function(){return"Search columns"},mapKey:"declaration_grid_search_columns_placeholder"},grid_autosize_this_column:{getter:function(){return"Autosize this column"},mapKey:"declaration_grid_autosize_this_column"},grid_autosize_all_columns:{getter:function(){return"Autosize all columns"},mapKey:"declaration_grid_autosize_all_columns"},grid_reset_columns:{getter:function(){return"Reset columns collection to default"},mapKey:"declaration_grid_reset_columns"},search_panel_more_button:{getter:function(){return"More"},mapKey:"declaration_search_panel_more_button"},search_panel_search_input_placeholder:{getter:function(){return"Enter Global Interaction ID or a search text string"},mapKey:"declaration_search_panel_search_input_placeholder"},search_tab_title:{getter:function(){return"Search"},mapKey:"declaration_search_tab_title"},search_tab_general:{getter:function(){return"General"},mapKey:"declaration_search_tab_general"},search_result_col_media_type:{getter:function(){return"Media Type"},mapKey:"declaration_search_result_col_media_type"},search_result_col_data_state:{getter:function(){return"Recordings"},mapKey:"declaration_search_result_col_data_state"},search_result_col_start_time:{getter:function(){return"Start Time"},mapKey:"declaration_search_result_col_start_time"},search_result_col_global_interaction_id:{getter:function(){return"Global interaction id"},mapKey:"declaration_search_result_col_global_interaction_id"},search_result_col_origination:{getter:function(){return"From"},mapKey:"declaration_search_result_col_origination"},search_result_col_destination:{getter:function(){return"To"},mapKey:"declaration_search_result_col_destination"},search_result_col_duration:{getter:function(){return"Duration"},mapKey:"declaration_search_result_col_duration"},search_result_col_talk_time:{getter:function(){return"Talk Time"},mapKey:"declaration_search_result_col_talk_time"},search_result_col_service_names:{getter:function(){return"Service"},mapKey:"declaration_search_result_col_service_names"},search_result_col_agent_names:{getter:function(){return"Agent"},mapKey:"declaration_search_result_col_agent_names"},search_result_col_number_of_segments:{getter:function(){return"Segments"},mapKey:"declaration_search_result_col_number_of_segments"},search_result_col_queue_time:{getter:function(){return"Queue Time"},mapKey:"declaration_search_result_col_queue_time"},search_result_col_ivr_time:{getter:function(){return"IVR Time"},mapKey:"declaration_search_result_col_ivr_time"},search_result_col_hold_time:{getter:function(){return"Hold Time"},mapKey:"declaration_search_result_col_hold_time"},search_result_col_number_of_holds:{getter:function(){return"Number of Holds"},mapKey:"declaration_search_result_col_number_of_holds"},search_result_col_disposition_names:{getter:function(){return"Disposition"},mapKey:"declaration_search_result_col_disposition_names"},search_result_col_flagged:{getter:function(){return"Flagged"},mapKey:"declaration_search_result_col_flagged"},search_result_col_contact_name:{getter:function(){return"Contact"},mapKey:"declaration_search_result_col_contact_name"},search_result_col_account_number:{getter:function(){return"Account"},mapKey:"declaration_search_result_col_account_number"},search_result_col_sentiment:{getter:function(){return"Sentiment"},mapKey:"declaration_search_result_col_sentiment"},search_result_col_sentiment_value:{getter:function(){return"Sentiment Value"},mapKey:"declaration_search_result_col_sentiment_value"},search_result_col_call_problem:{getter:function(){return"Call Problem"},mapKey:"declaration_search_result_col_call_problem"},search_result_col_email_subject:{getter:function(){return"Subject"},mapKey:"declaration_search_result_col_email_subject"},search_result_col_custom_1:{getter:function(){return"Custom 1"},mapKey:"declaration_search_result_col_custom_1"},search_result_col_custom_2:{getter:function(){return"Custom 2"},mapKey:"declaration_search_result_col_custom_2"},search_result_col_custom_3:{getter:function(){return"Custom 3"},mapKey:"declaration_search_result_col_custom_3"},search_result_col_custom_4:{getter:function(){return"Custom 4"},mapKey:"declaration_search_result_col_custom_4"},search_result_col_custom_5:{getter:function(){return"Custom 5"},mapKey:"declaration_search_result_col_custom_5"},search_result_col_cobrowsing:{getter:function(){return"Co-browsing"},mapKey:"declaration_search_result_col_cobrowsing"},searchable_list_panel_no_results:{getter:function(){return"No results found."},mapKey:"declaration_searchable_list_panel_no_results"},searchable_list_panel_no_options:{getter:function(){return"No options available."},mapKey:"declaration_searchable_list_panel_no_options"},filter_panel_any_placeholder:{getter:function(){return"Any"},mapKey:"declaration_filter_panel_any_placeholder"},filter_panel_agents:{getter:function(){return"Agents"},mapKey:"declaration_filter_panel_agents"},filter_panel_teams:{getter:function(){return"Teams"},mapKey:"declaration_filter_panel_teams"},filter_panel_search_agents_placeholder:{getter:function(){return"Search agents"},mapKey:"declaration_filter_panel_search_agents_placeholder"},filter_panel_search_teams_placeholder:{getter:function(){return"Search teams"},mapKey:"declaration_filter_panel_search_teams_placeholder"},filter_panel_date_today:{getter:function(){return"Today"},mapKey:"declaration_filter_panel_date_today"},filter_panel_date_yesterday:{getter:function(){return"Yesterday"},mapKey:"declaration_filter_panel_date_yesterday"},filter_panel_date_last_24h:{getter:function(){return"Last 24 hours"},mapKey:"declaration_filter_panel_date_last_24h"},filter_panel_date_last_week:{getter:function(){return"Last month"},mapKey:"declaration_filter_panel_date_last_week"},filter_panel_date_last_month:{getter:function(){return"Last week"},mapKey:"declaration_filter_panel_date_last_month"},filter_panel_date_select_date:{getter:function(){return"Select date"},mapKey:"declaration_filter_panel_date_select_date"},filter_panel_date_after_date:{getter:function(){return"After date"},mapKey:"declaration_filter_panel_date_after_date"},filter_panel_date__before_date:{getter:function(){return"Before date"},mapKey:"declaration_filter_panel_date__before_date"},filter_panel_date_between_dates:{getter:function(){return"Between dates"},mapKey:"declaration_filter_panel_date_between_dates"},filter_panel_date_custom_date:{getter:function(){return"Custom date: "},mapKey:"declaration_filter_panel_date_custom_date"},filter_panel_duration_custom:{getter:function(){return"Custom: "},mapKey:"declaration_filter_panel_duration_custom"},filter_panel_exists:{getter:function(){return"Exists"},mapKey:"declaration_filter_panel_exists"},filter_panel_not_exists:{getter:function(){return"Does not exist"},mapKey:"declaration_filter_panel_not_exists"},filter_panel_yes:{getter:function(){return"Yes"},mapKey:"declaration_filter_panel_yes"},filter_panel_no:{getter:function(){return"No"},mapKey:"declaration_filter_panel_no"},filter_panel_media_all:{getter:function(){return"All Media"},mapKey:"declaration_filter_panel_media_all"},filter_panel_media_voice:{getter:function(){return"Voice"},mapKey:"declaration_filter_panel_media_voice"},filter_panel_media_chat:{getter:function(){return"Text"},mapKey:"declaration_filter_panel_media_chat"},filter_panel_media_email:{getter:function(){return"Email"},mapKey:"declaration_filter_panel_media_email"},filter_panel_clear_all_button:{getter:function(){return"Clear All"},mapKey:"declaration_filter_panel_clear_all_button"},filter_panel_disposition:{getter:function(){return"Disposition"},mapKey:"declaration_filter_panel_disposition"},filter_panel_search_dispositions_placeholder:{getter:function(){return"Search dispositions"},mapKey:"declaration_filter_panel_search_dispositions_placeholder"},filter_panel_contact_account:{getter:function(){return"Contact/Account"},mapKey:"declaration_filter_panel_contact_account"},filter_panel_voice_recording:{getter:function(){return"Recording"},mapKey:"declaration_filter_panel_voice_recording"},filter_panel_screen_recording:{getter:function(){return"Screen Recording"},mapKey:"declaration_filter_panel_screen_recording"},filter_panel_transcript:{getter:function(){return"Transcript"},mapKey:"declaration_filter_panel_transcript"},filter_panel_duration:{getter:function(){return"Duration"},mapKey:"declaration_filter_panel_duration"},filter_panel_talk_time:{getter:function(){return"Talk Time"},mapKey:"declaration_filter_panel_talk_time"},filter_panel_queue_time:{getter:function(){return"Queue Time"},mapKey:"declaration_filter_panel_queue_time"},filter_panel_scenario:{getter:function(){return"Scenario"},mapKey:"declaration_filter_panel_scenario"},filter_panel_search_scenarios_placeholder:{getter:function(){return"Search scenarios"},mapKey:"declaration_filter_panel_search_scenarios_placeholder"},filter_panel_time_period:{getter:function(){return"Time Period"},mapKey:"declaration_filter_panel_time_period"},filter_panel_phone_address:{getter:function(){return"Phone/Address"},mapKey:"declaration_filter_panel_phone_address"},filter_panel_service:{getter:function(){return"Service"},mapKey:"declaration_filter_panel_service"},filter_panel_search_services_placeholder:{getter:function(){return"Search services"},mapKey:"declaration_filter_panel_search_services_placeholder"},filter_panel_team:{getter:function(){return"Team"},mapKey:"declaration_filter_panel_team"},filter_panel_agent:{getter:function(){return"Agent"},mapKey:"declaration_filter_panel_agent"},filter_panel_show_more_filters:{getter:function(){return"Show more filters"},mapKey:"declaration_filter_panel_show_more_filters"},filter_panel_hide_extra_filters:{getter:function(){return"Hide extra filters"},mapKey:"declaration_filter_panel_hide_extra_filters"}},INTERNAL_CHAT:{chat_messages_tooltip:{getter:function(){return"Chat messages"},mapKey:"Constants_chat_messages_tooltip"},chat_erased_attachment_tooltip:{getter:function(e,t){return"Attachment was deleted on {0} by {1}"},mapKey:"Constants_chat_erased_attachment_tooltip"},chat_emptyTextArea:{getter:function(){return"type message here"},mapKey:"Constants_chat_emptyTextArea"},chat_notes_input_placeholder:{getter:function(){return"enter notes"},mapKey:"Constants_chat_notes_input_placeholder"},chat_sendMessage_tooltip:{getter:function(){return"Send the message"},mapKey:"Constants_chat_sendMessage_tooltip"},chat_sendNotes_tooltip:{getter:function(){return"Send notes"},mapKey:"Constants_chat_sendNotes_tooltip"},chat_signaling_request_phone_label:{getter:function(){return"Customer requested phone call to"},mapKey:"Constants_chat_signaling_request_phone_label"},chat_signaling_request_sms_label:{getter:function(){return"Customer requested sms to"},mapKey:"Constants_chat_signaling_request_sms_label"},chat_sendUrgentMessage_tooltip:{getter:function(){return"Send the message with urgent flag"},mapKey:"Constants_chat_sendUrgentMessage_tooltip"},chat_selectCannedResponses:{getter:function(){return"Select predefined message"},mapKey:"Constants_chat_selectCannedResponses"},chat_addAttachment_button_tooltip:{getter:function(){return"Add an attachment"},mapKey:"Constants_chat_addAttachment_button_tooltip"},chat_removedAttachment_label:{getter:function(){return"attachment"},mapKey:"Constants_chat_removedAttachment_label"},chat_cobrowsing_button_tooltip:{getter:function(){return"Request a co-browsing session"},mapKey:"Constants_chat_cobrowsing_button_tooltip"},chat_addEmoji_button_tooltip:{getter:function(){return"Insert Emoji"},mapKey:"Constants_chat_addEmoji_button_tooltip"},chat_invite:{getter:function(){return"Invite for conference or warm transfer"},mapKey:"Constants_chat_invite"},chat_remote_assist:{getter:function(){return"Start remote assistance"},mapKey:"Constants_chat_remote_assist"},chat_history_moreMessages:{getter:function(){return"More messages"},mapKey:"Constants_chat_history_moreMessages"},chat_radio_messenger_type_tooltip:{getter:function(){return"Select Messenger control"},mapKey:"Constants_chat_radio_messenger_type_tooltip"},chat_radio_notes_tooltip:{getter:function(){return"Select Notes control"},mapKey:"Constants_chat_radio_notes_tooltip"},chat_radio_disposition_tooltip:{getter:function(){return"Select Disposition control"},mapKey:"Constants_chat_radio_disposition_tooltip"},chat_history_day:{getter:function(){return"day"},mapKey:"Constants_chat_history_day"},chat_history_week:{getter:function(){return"week"},mapKey:"Constants_chat_history_week"},chat_history_month:{getter:function(){return"month"},mapKey:"Constants_chat_history_month"},chat_history_all:{getter:function(){return"all"},mapKey:"Constants_chat_history_all"},chat_history_today:{getter:function(){return"Today"},mapKey:"Constants_chat_history_today"},chat_current_session:{getter:function(){return"current session"},mapKey:"Constants_chat_current_session"},chat_message_status_delivered:{getter:function(){return"delivered"},mapKey:"Constants_chat_message_status_delivered"},chat_message_status_read:{getter:function(){return"read"},mapKey:"Constants_chat_message_status_read"},chat_message_status_sending:{getter:function(){return"sending"},mapKey:"Constants_chat_message_status_sending"},personal_chats_header:{getter:function(){return"Personal chats"},mapKey:"Constants_personal_chats_header"},group_chats_header:{getter:function(){return"#Groups"},mapKey:"Constants_group_chats_header"},group_chats_invite:{getter:function(){return"Invite"},mapKey:"Constants_group_chats_invite"},group_chats_new_title:{getter:function(){return"#New Chat Group"},mapKey:"Constants_group_chats_new_title"},group_chat_members:{getter:function(){return"Members"},mapKey:"Constants_group_chat_members"},group_chat_delete_confirmation:{getter:function(e){return'Are you sure you want to delete group chat "{0}"?'},mapKey:"Constants_group_chat_delete_confirmation"},group_chat_remove_member_icon_tooltip:{getter:function(e){return'Remove "{0}" from group chat'},mapKey:"Constants_group_chat_remove_member_icon_tooltip"},group_chat_leave_icon_tooltip:{getter:function(){return"Leave group chat"},mapKey:"Constants_group_chat_leave_icon_tooltip"},group_chat_destroy_tooltip:{getter:function(){return"Delete group chat"},mapKey:"Constants_group_chat_destroy_tooltip"},agent_chat_remove_tooltip:{getter:function(){return"Remove chat from list"},mapKey:"Constants_agent_chat_remove_tooltip"},group_chat_files:{getter:function(){return"Files"},mapKey:"Constants_group_chat_files"},group_create_tooltip:{getter:function(){return"Create New Group"},mapKey:"Constants_group_create_tooltip"},select_agent_window_header:{getter:function(){return"Select Agent for Chat"},mapKey:"Constants_select_agent_window_header"},personal_chats_add_chat_tooltip:{getter:function(){return"Select from Directory"},mapKey:"Constants_personal_chats_add_chat_tooltip"},history_search_input_placeholder:{getter:function(){return"search for"},mapKey:"Constants_history_search_input_placeholder"},voice_transfer_window_header:{getter:function(){return"Consult, Conference, Blind Transfer"},mapKey:"Constants_voice_transfer_window_header"},message_input_placeholder:{getter:function(){return"Write a message"},mapKey:"declaration_message_input_placeholder"},chat_history_no_recent_while_loading:{getter:function(e){return"No recent {0}"},mapKey:"declaration_chat_history_no_recent_while_loading"},chat_history_search_for_older:{getter:function(e){return"Search for older {0}"},mapKey:"declaration_chat_history_search_for_older"},chat_history_no_recent_found:{getter:function(e){return"No older {0} found"},mapKey:"declaration_chat_history_no_recent_found"},chat_note_input_placeholder:{getter:function(){return"Enter note"},mapKey:"declaration_chat_note_input_placeholder"}},KNOWLEDGE_BASE:{kb_tab:{getter:function(){return"Knowledge"},mapKey:"Constants_kb_tab"},kb_heading:{getter:function(){return"Knowledge Base"},mapKey:"Constants_kb_heading"},kb_search_input_placeholder:{getter:function(){return"Search knowledge base"},mapKey:"Constants_kb_search_input_placeholder"},kb_redactor_add_button:{getter:function(){return"Add"},mapKey:"Constants_kb_redactor_add_button"},kb_redactor_add_button_tooltip:{getter:function(){return"Article new article of folder"},mapKey:"Constants_kb_redactor_add_button_tooltip"},kb_redactor_addFolder_item:{getter:function(){return"Folder"},mapKey:"Constants_kb_redactor_addFolder_item"},kb_redactor_addArticle_item:{getter:function(){return"Article"},mapKey:"Constants_kb_redactor_addArticle_item"},kb_redactor_edit_button:{getter:function(){return"Edit"},mapKey:"Constants_kb_redactor_edit_button"},kb_redactor_edit_button_tooltip:{getter:function(){return"Edit selected article of folder"},mapKey:"Constants_kb_redactor_edit_button_tooltip"},kb_redactor_delete_button:{getter:function(){return"Delete"},mapKey:"Constants_kb_redactor_delete_button"},kb_redactor_delete_button_tooltip:{getter:function(){return"Delete selected article or folder"},mapKey:"Constants_kb_redactor_delete_button_tooltip"},kb_redactor_addFolder_heading:{getter:function(){return"Create Knowledge Base Folder"},mapKey:"Constants_kb_redactor_addFolder_heading"},kb_redactor_delete_heading:{getter:function(){return"Knowledge Base Item Deleting"},mapKey:"Constants_kb_redactor_delete_heading"},kb_redactor_delete_confirmation:{getter:function(){return"Are you sure you want to delete the knowledge base item?"},mapKey:"Constants_kb_redactor_delete_confirmation"},kb_redactor_addFolder_name:{getter:function(){return"Name"},mapKey:"Constants_kb_redactor_addFolder_name"},kb_redactor_parentFolder:{getter:function(){return"Parent Folder"},mapKey:"Constants_kb_redactor_parentFolder"},kb_redactor_language_label:{getter:function(){return"Language"},mapKey:"Constants_kb_redactor_language_label"},kb_redactor_title_label:{getter:function(){return"Title"},mapKey:"Constants_kb_redactor_title_label"},kb_redactor_services_label:{getter:function(){return"Services"},mapKey:"Constants_kb_redactor_services_label"},kb_redactor_services_select_button:{getter:function(){return"select"},mapKey:"Constants_kb_redactor_services_select_button"},kb_redactor_services_asDefault:{getter:function(){return"(as default)"},mapKey:"Constants_kb_redactor_services_asDefault"},kb_redactor_serviceAssign_heading:{getter:function(){return"Assign service for article"},mapKey:"Constants_kb_redactor_serviceAssign_heading"},kb_redactor_serviceAssign_service_column:{getter:function(){return"Service"},mapKey:"Constants_kb_redactor_serviceAssign_service_column"},kb_redactor_serviceAssign_default_column:{getter:function(){return"As Default"},mapKey:"Constants_kb_redactor_serviceAssign_default_column"},kb_redactor_serviceAssign_assign_column:{getter:function(){return"Assign"},mapKey:"Constants_kb_redactor_serviceAssign_assign_column"},kb_redactor_addArticle_heading:{getter:function(){return"Create Knowledge Base Article"},mapKey:"Constants_kb_redactor_addArticle_heading"},kb_redactor_selectFolderHeading:{getter:function(){return"Select Parent Folder"},mapKey:"Constants_kb_redactor_selectFolderHeading"},kb_redactor_selectFolder_emptyText:{getter:function(){return"Root Folder"},mapKey:"Constants_kb_redactor_selectFolder_emptyText"},kb_redactor_selectFolder_setRootFolder:{getter:function(){return"Select Root Folder"},mapKey:"Constants_kb_redactor_selectFolder_setRootFolder"},kb_redactor_select:{getter:function(){return"Select"},mapKey:"Constants_kb_redactor_select"},kb_reply_insert_button:{getter:function(){return"Insert"},mapKey:"Constants_kb_reply_insert_button"},kb_reply_insert_button_tooltip:{getter:function(){return"Insert article in the reply"},mapKey:"Constants_kb_reply_insert_button_tooltip"},kb_reply_use_button:{getter:function(){return"Use"},mapKey:"Constants_kb_reply_use_button"},kb_reply_use_button_tooltip:{getter:function(){return"Use article in the reply"},mapKey:"Constants_kb_reply_use_button_tooltip"},kb_tab_keywords:{getter:function(){return"Keywords"},mapKey:"Constants_kb_tab_keywords"},kb_tab_answer:{getter:function(){return"Answer"},mapKey:"Constants_kb_tab_answer"},kb_tab_usageNote:{getter:function(){return"Usage notes"},mapKey:"Constants_kb_tab_usageNote"},kb_onlyForThisService_boxLabel:{getter:function(){return"only for this service"},mapKey:"Constants_kb_onlyForThisService_boxLabel"},close_kb_prompt:{getter:function(){return"Close KB?"},mapKey:"declaration_close_kb_prompt"},close_kb:{getter:function(){return"Close KB"},mapKey:"declaration_close_kb"},sort_a_to_z:{getter:function(){return"A to Z"},mapKey:"declaration_sort_a_to_z"},sort_z_to_a:{getter:function(){return"Z to A"},mapKey:"declaration_sort_z_to_a"},copy_to_clipboard:{getter:function(){return"Copy to clipboard"},mapKey:"declaration_copy_to_clipboard"},sort_by_default_order:{getter:function(){return"Default Folders Order (as created by Admin)"},mapKey:"declaration_sort_by_default_order"},sort_by_relevance:{getter:function(){return"Relevance"},mapKey:"declaration_sort_by_relevance"},sort_dropdown_text:{getter:function(){return"SORT BY"},mapKey:"declaration_sort_dropdown_text"},insert_to_dropdown_text:{getter:function(){return"INSERT TO"},mapKey:"declaration_insert_to_dropdown_text"},insert_to_history_option_label:{getter:function(e){return"History contact: {0}"},mapKey:"declaration_insert_to_history_option_label"},insert_to_chat_option_label:{getter:function(e){return"Chat: {0}"},mapKey:"declaration_insert_to_chat_option_label"},new_tab_button_tooltip:{getter:function(){return"Full Screen"},mapKey:"declaration_full_screen_button_tooltip"},number_of_articles_in_folder:{getter:function(e){return"Articles: {0}"},mapKey:"declaration_number_of_articles_in_folder"},all_articles:{getter:function(){return"All Articles"},mapKey:"declaration_all_articles"},all_articles_number:{getter:function(e){return"All Articles: {0}"},mapKey:"declaration_all_articles_number"},label_tab_attachments:{getter:function(){return"Attachments"},mapKey:"declaration_label_tab_attachments"},kb_mode_internal_label:{getter:function(){return"Internal Knowledge Base"},mapKey:"declaration_kb_mode_internal_label"},kb_mode_crm_label:{getter:function(){return"CRM Knowledge Base"},mapKey:"declaration_kb_mode_crm_label"},kb_mode_combined_label:{getter:function(){return"Combined Knowledge Base"},mapKey:"declaration_kb_mode_combined_label"},label_show_results_only_for_server:{getter:function(e){return"Show results only for service: {0}"},mapKey:"declaration_label_show_results_only_for_server"},search_folder:{getter:function(e){return"Search {0}"},mapKey:"declaration_search_folder"},article_search_no_results_label:{getter:function(){return"No results found"},mapKey:"declaration_article_search_no_results_label"},search_results_heading:{getter:function(){return"Search Results"},mapKey:"declaration_search_results_heading"},any_lang_label:{getter:function(){return"Any Language"},mapKey:"declaration_any_lang_label"},select_lang_input_placeholder:{getter:function(){return"Select Language"},mapKey:"declaration_select_lang_input_placeholder"},button_toggle_split_pane_mode_on_tooltip:{getter:function(){return"Toggle split pane mode on"},mapKey:"declaration_button_toggle_split_pane_mode_on_tooltip"},button_toggle_split_pane_mode_off_tooltip:{getter:function(){return"Toggle split pane mode off"},mapKey:"declaration_button_toggle_split_pane_mode_off_tooltip"},recommended_articles:{getter:function(){return"Recommended Articles"},mapKey:"declaration_recommended_articles"},insert_article:{getter:function(){return"Insert the article"},mapKey:"declaration_insert_article"},copy_link_to_clipboard:{getter:function(){return"Copy shareable link to clipboard"},mapKey:"declaration_copy_link_to_clipboard"}},LICENSE:{demo_license:{getter:function(){return"Demo License"},mapKey:"Constants_demo_license"},invalid_license:{getter:function(){return"Production license is invalid"},mapKey:"Constants_invalid_license"},label_ExactEmailSeatch:{getter:function(){return"exact"},mapKey:"Constants_label_ExactEmailSeatch"}},MERGE_CALLS:{mergeCalls_heading:{getter:function(){return"Merge All Calls?"},mapKey:"Constants_mergeCalls_heading"},mergeCalls_mergeAll:{getter:function(){return"Merge all my calls into conference"},mapKey:"Constants_mergeCalls_mergeAll"}},METRIC_NAMES:{metric_static_entry_agents_ready:{getter:function(){return"Ready"},mapKey:"StaticEntryConstants_metric_static_entry_agents_ready"},metric_static_entry_agents_logged:{getter:function(){return"Logged In"},mapKey:"StaticEntryConstants_metric_static_entry_agents_logged"},metric_static_entry_in_calls_waiting:{getter:function(){return"Waiting"},mapKey:"StaticEntryConstants_metric_static_entry_in_calls_waiting"},metric_static_entry_in_max_wait_time:{getter:function(){return"Max Wait"},mapKey:"StaticEntryConstants_metric_static_entry_in_max_wait_time"},metric_static_entry_in_ewt:{getter:function(){return"EWT"},mapKey:"StaticEntryConstants_metric_static_entry_in_ewt"},metric_static_entry_service_level:{getter:function(){return"Service Level"},mapKey:"StaticEntryConstants_metric_static_entry_service_level"},agents_logged_short:{getter:function(){return"Logged In"},mapKey:"MetricsConstants_agents_logged_short"},agents_logged_long:{getter:function(){return"Logged-in agents"},mapKey:"MetricsConstants_agents_logged_long"},agents_busy_short:{getter:function(){return"Busy"},mapKey:"MetricsConstants_agents_busy_short"},agents_busy_long:{getter:function(){return"Busy agents"},mapKey:"MetricsConstants_agents_busy_long"},agents_in_wrap_up_short:{getter:function(){return"ACW Count"},mapKey:"MetricsConstants_agents_in_wrap_up_short"},agents_in_wrap_up_long:{getter:function(){return"Agents in ACW state"},mapKey:"MetricsConstants_agents_in_wrap_up_long"},agents_ready_short:{getter:function(){return"Ready"},mapKey:"MetricsConstants_agents_ready_short"},agents_ready_long:{getter:function(){return"Ready agents"},mapKey:"MetricsConstants_agents_ready_long"},agents_not_ready_short:{getter:function(){return"Not Ready"},mapKey:"MetricsConstants_agents_not_ready_short"},agents_not_ready_long:{getter:function(){return"Not Ready agents"},mapKey:"MetricsConstants_agents_not_ready_long"},agent_occupancy_short:{getter:function(){return"Occupancy"},mapKey:"MetricsConstants_agent_occupancy_short"},agent_occupancy_long:{getter:function(){return"Occupancy in campaign/service"},mapKey:"MetricsConstants_agent_occupancy_long"},agent_average_idle_time_short:{getter:function(){return"Avg Idle Time"},mapKey:"MetricsConstants_agent_average_idle_time_short"},agent_average_idle_time_long:{getter:function(){return"Average idle time"},mapKey:"MetricsConstants_agent_average_idle_time_long"},agent_preview_duration_short:{getter:function(){return"Preview Duration"},mapKey:"MetricsConstants_agent_preview_duration_short"},agent_preview_duration_long:{getter:function(){return"Time in Preview"},mapKey:"MetricsConstants_agent_preview_duration_long"},agent_average_preview_time_short:{getter:function(){return"Avg Preview Time"},mapKey:"MetricsConstants_agent_average_preview_time_short"},agent_average_preview_time_long:{getter:function(){return"Average Preview time"},mapKey:"MetricsConstants_agent_average_preview_time_long"},agent_calendar_pending_short:{getter:function(){return"CAL Reminders"},mapKey:"MetricsConstants_agent_calendar_pending_short"},agent_calendar_pending_long:{getter:function(){return"Calendar reminders"},mapKey:"MetricsConstants_agent_calendar_pending_long"},agent_calendar_overdue_short:{getter:function(){return"CAL Overdue"},mapKey:"MetricsConstants_agent_calendar_overdue_short"},agent_calendar_overdue_long:{getter:function(){return"Calendar reminders in the past"},mapKey:"MetricsConstants_agent_calendar_overdue_long"},agent_idle_time_short:{getter:function(){return"Idle Time"},mapKey:"MetricsConstants_agent_idle_time_short"},agent_idle_time_long:{getter:function(){return"Agent Idle Time"},mapKey:"MetricsConstants_agent_idle_time_long"},in_calls_received_per_day_short:{getter:function(){return"IN Received"},mapKey:"MetricsConstants_in_calls_received_per_day_short"},in_calls_received_per_day_long:{getter:function(){return"Inbound interactions received for the day"},mapKey:"MetricsConstants_in_calls_received_per_day_long"},in_transfers_received_per_day_short:{getter:function(){return"IN Transfers"},mapKey:"MetricsConstants_in_transfers_received_per_day_short"},in_transfers_received_per_day_long:{getter:function(){return"Inbound transfers received for the day"},mapKey:"MetricsConstants_in_transfers_received_per_day_long"},in_calls_in_ivr_short:{getter:function(){return"IN In IVR"},mapKey:"MetricsConstants_in_calls_in_ivr_short"},in_calls_in_ivr_long:{getter:function(){return"Inbound calls currently in IVR"},mapKey:"MetricsConstants_in_calls_in_ivr_long"},in_calls_self_serviced_per_day_short:{getter:function(){return"IN Self Serviced"},mapKey:"MetricsConstants_in_calls_self_serviced_per_day_short"},in_calls_self_serviced_per_day_long:{getter:function(){return"Inbound calls self serviced for the day"},mapKey:"MetricsConstants_in_calls_self_serviced_per_day_long"},in_calls_abandoned_in_ivr_per_day_short:{getter:function(){return"IN IVR Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_in_ivr_per_day_short"},in_calls_abandoned_in_ivr_per_day_long:{getter:function(){return"Inbound calls abandoned in IVR for the day"},mapKey:"MetricsConstants_in_calls_abandoned_in_ivr_per_day_long"},in_calls_dropped_in_ivr_per_day_short:{getter:function(){return"IN IVR Dropped"},mapKey:"MetricsConstants_in_calls_dropped_in_ivr_per_day_short"},in_calls_dropped_in_ivr_per_day_long:{getter:function(){return"Inbound calls dropped by system in IVR for the day"},mapKey:"MetricsConstants_in_calls_dropped_in_ivr_per_day_long"},in_calls_queued_per_day_short:{getter:function(){return"IN Queued"},mapKey:"MetricsConstants_in_calls_queued_per_day_short"},in_calls_queued_per_day_long:{getter:function(){return"Inbound calls queued for the day"},mapKey:"MetricsConstants_in_calls_queued_per_day_long"},in_calls_waiting_short:{getter:function(){return"IN Waiting"},mapKey:"MetricsConstants_in_calls_waiting_short"},in_calls_waiting_long:{getter:function(){return"Inbound interactions currently in queue"},mapKey:"MetricsConstants_in_calls_waiting_long"},in_calls_in_progress_short:{getter:function(){return"IN in Progress"},mapKey:"MetricsConstants_in_calls_in_progress_short"},in_calls_in_progress_long:{getter:function(){return"Inbound interactions currently in IVR, queue or on agents"},mapKey:"MetricsConstants_in_calls_in_progress_long"},in_calls_abandoned_in_queue_per_day_short:{getter:function(){return"IN Queue Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_per_day_short"},in_calls_abandoned_in_queue_per_day_long:{getter:function(){return"Inbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_per_day_long"},in_calls_abandoned_in_queue_ratio_per_day_short:{getter:function(){return"IN Queue Abandoned %"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_ratio_per_day_short"},in_calls_abandoned_in_queue_ratio_per_day_long:{getter:function(){return"Percentage of inbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_abandoned_in_queue_ratio_per_day_long"},in_calls_short_abandoned_in_queue_per_day_short:{getter:function(){return"IN Queue Sh-Abandoned"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_per_day_short"},in_calls_short_abandoned_in_queue_per_day_long:{getter:function(){return"Inbound calls short abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_per_day_long"},in_calls_short_abandoned_in_queue_ratio_per_day_short:{getter:function(){return"IN Queue Sh-Abandoned %"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_ratio_per_day_short"},in_calls_short_abandoned_in_queue_ratio_per_day_long:{getter:function(){return"Percentage of inbound calls short abandoned in queue for the day"},mapKey:"MetricsConstants_in_calls_short_abandoned_in_queue_ratio_per_day_long"},in_calls_dropped_in_queue_per_day_short:{getter:function(){return"IN Queue Dropped"},mapKey:"MetricsConstants_in_calls_dropped_in_queue_per_day_short"},in_calls_dropped_in_queue_per_day_long:{getter:function(){return"Inbound calls dropped by system in queue for the day"},mapKey:"MetricsConstants_in_calls_dropped_in_queue_per_day_long"},in_calls_first_time_queued_per_day:{getter:function(){return"IN Queued Unique"},mapKey:"MetricsConstants_in_calls_first_time_queued_per_day"},in_calls_first_time_queued_per_day_long:{getter:function(){return"Inbound calls first time queued for the day"},mapKey:"MetricsConstants_in_calls_first_time_queued_per_day_long"},in_calls_first_time_handled_per_day_short:{getter:function(){return"IN Handled Unique"},mapKey:"MetricsConstants_in_calls_first_time_handled_per_day_short"},in_calls_first_time_handled_per_day_long:{getter:function(){return"Unique Inbound calls handled by agents for the day"},mapKey:"MetricsConstants_in_calls_first_time_handled_per_day_long"},service_level_short:{getter:function(){return"IN Svc Level %"},mapKey:"MetricsConstants_service_level_short"},service_level_long:{getter:function(){return"Percentage of inbound interactions answered in Service Level over 20 most recent calls"},mapKey:"MetricsConstants_service_level_long"},service_level_target_short:{getter:function(){return""},mapKey:"MetricsConstants_service_level_target_short"},service_level_target_long:{getter:function(){return"Inbound Service Level target"},mapKey:"MetricsConstants_service_level_target_long"},service_level_threshold_time_short:{getter:function(){return""},mapKey:"MetricsConstants_service_level_threshold_time_short"},service_level_threshold_time_long:{getter:function(){return"Inbound Service Level threshold"},mapKey:"MetricsConstants_service_level_threshold_time_long"},service_level_per_day_short:{getter:function(){return"IN Svc Level Day %"},mapKey:"MetricsConstants_service_level_per_day_short"},service_level_per_day_long:{getter:function(){return"Percentage of inbound interactions answered in Service Level over the day"},mapKey:"MetricsConstants_service_level_per_day_long"},in_max_wait_time_short:{getter:function(){return"IN Max Wait"},mapKey:"MetricsConstants_in_max_wait_time_short"},in_max_wait_time_long:{getter:function(){return"Max inbound wait time"},mapKey:"MetricsConstants_in_max_wait_time_long"},in_calls_routed_per_day_short:{getter:function(){return"IN Routed"},mapKey:"MetricsConstants_in_calls_routed_per_day_short"},in_calls_routed_per_day_long:{getter:function(){return"Inbound calls routed to agents for the day"},mapKey:"MetricsConstants_in_calls_routed_per_day_long"},in_calls_ringing_short:{getter:function(){return"IN Ringing"},mapKey:"MetricsConstants_in_calls_ringing_short"},in_calls_ringing_long:{getter:function(){return"Inbound calls currently ringing "},mapKey:"MetricsConstants_in_calls_ringing_long"},in_calls_handled_per_day_short:{getter:function(){return"IN Handled"},mapKey:"MetricsConstants_in_calls_handled_per_day_short"},in_calls_handled_per_day_long:{getter:function(){return"Inbound interactions handled by agents for the day"},mapKey:"MetricsConstants_in_calls_handled_per_day_long"},in_calls_rejected_per_day_short:{getter:function(){return"IN Rejected"},mapKey:"MetricsConstants_in_calls_rejected_per_day_short"},in_calls_rejected_per_day_long:{getter:function(){return"Inbound calls rejected or unanswered by agents for the day"},mapKey:"MetricsConstants_in_calls_rejected_per_day_long"},in_calls_abandoned_ringing_per_day_short:{getter:function(){return"IN Ringing Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_ringing_per_day_short"},in_calls_abandoned_ringing_per_day_long:{getter:function(){return"Inbound calls abandoned while ringing for the day"},mapKey:"MetricsConstants_in_calls_abandoned_ringing_per_day_long"},in_calls_dropped_ringing_per_day_short:{getter:function(){return"IN Ringing Dropped"},mapKey:"MetricsConstants_in_calls_dropped_ringing_per_day_short"},in_calls_dropped_ringing_per_day_long:{getter:function(){return"Inbound calls dropped by system while ringing for the day"},mapKey:"MetricsConstants_in_calls_dropped_ringing_per_day_long"},in_calls_active_on_agents_short:{getter:function(){return"IN Active"},mapKey:"MetricsConstants_in_calls_active_on_agents_short"},in_calls_active_on_agents_long:{getter:function(){return"Inbound interactions currently handled by agents"},mapKey:"MetricsConstants_in_calls_active_on_agents_long"},in_calls_disconnected_talking_per_day_short:{getter:function(){return"IN Remote Disconnected"},mapKey:"MetricsConstants_in_calls_disconnected_talking_per_day_short"},in_calls_disconnected_talking_per_day_long:{getter:function(){return"Inbound calls released by callers for the day"},mapKey:"MetricsConstants_in_calls_disconnected_talking_per_day_long"},in_calls_dropped_talking_per_day_short:{getter:function(){return"IN Agent Disconnected"},mapKey:"MetricsConstants_in_calls_dropped_talking_per_day_short"},in_calls_dropped_talking_per_day_long:{getter:function(){return"Inbound calls released by agents for the day"},mapKey:"MetricsConstants_in_calls_dropped_talking_per_day_long"},in_calls_transferred_per_day_short:{getter:function(){return"IN Transferred"},mapKey:"MetricsConstants_in_calls_transferred_per_day_short"},in_calls_transferred_per_day_long:{getter:function(){return"Inbound interactions transferred/forwarded by agents for the day"},mapKey:"MetricsConstants_in_calls_transferred_per_day_long"},in_average_speed_of_answer_short:{getter:function(){return"IN ASA"},mapKey:"MetricsConstants_in_average_speed_of_answer_short"},in_average_speed_of_answer_long:{getter:function(){return"For calls, average speed of answer. For emails, average time to reply"},mapKey:"MetricsConstants_in_average_speed_of_answer_long"},in_callbacks_requested_per_day_short:{getter:function(){return"CB Requested"},mapKey:"MetricsConstants_in_callbacks_requested_per_day_short"},in_callbacks_requested_per_day_long:{getter:function(){return"Callbacks requested for the day"},mapKey:"MetricsConstants_in_callbacks_requested_per_day_long"},in_callbacks_waiting_short:{getter:function(){return"CB Waiting"},mapKey:"MetricsConstants_in_callbacks_waiting_short"},in_callbacks_waiting_long:{getter:function(){return"Callbacks currently waiting in queue"},mapKey:"MetricsConstants_in_callbacks_waiting_long"},records_total_short:{getter:function(){return"Total Records"},mapKey:"MetricsConstants_records_total_short"},records_total_long:{getter:function(){return"Total number of records in active lists"},mapKey:"MetricsConstants_records_total_long"},records_completed_short:{getter:function(){return"Total Completed"},mapKey:"MetricsConstants_records_completed_short"},records_completed_long:{getter:function(){return"Completed records in active lists"},mapKey:"MetricsConstants_records_completed_long"},records_with_assigned_agents_completed_short:{getter:function(){return"Lists P.A. Completed"},mapKey:"MetricsConstants_records_with_assigned_agents_completed_short"},records_with_assigned_agents_completed_long:{getter:function(){return"Completed records with personal agent assignments"},mapKey:"MetricsConstants_records_with_assigned_agents_completed_long"},records_remaining_short:{getter:function(){return"Remaining records in active lists"},mapKey:"MetricsConstants_records_remaining_short"},records_remaining_long:{getter:function(){return"Records Remaining"},mapKey:"MetricsConstants_records_remaining_long"},records_with_assigned_agents_remaining_short:{getter:function(){return"Lists P.A. Remaining"},mapKey:"MetricsConstants_records_with_assigned_agents_remaining_short"},records_with_assigned_agents_remaining_long:{getter:function(){return"Remaining records with personal agent assignments"},mapKey:"MetricsConstants_records_with_assigned_agents_remaining_long"},records_in_dnc_short:{getter:function(){return"Total DNC"},mapKey:"MetricsConstants_records_in_dnc_short"},records_in_dnc_long:{getter:function(){return"Number of records excluded by DNC lists from Active Lists"},mapKey:"MetricsConstants_records_in_dnc_long"},records_attempted_per_day_short:{getter:function(){return"Attempted"},mapKey:"MetricsConstants_records_attempted_per_day_short"},records_attempted_per_day_long:{getter:function(){return"Records attempted for the day"},mapKey:"MetricsConstants_records_attempted_per_day_long"},records_attempted_ratio_per_day_short:{getter:function(){return"Attempted %"},mapKey:"MetricsConstants_records_attempted_ratio_per_day_short"},records_attempted_ratio_per_day_long:{getter:function(){return"Percentage of records attempted for the day"},mapKey:"MetricsConstants_records_attempted_ratio_per_day_long"},records_accepted_per_day_short:{getter:function(){return"Previewed"},mapKey:"MetricsConstants_records_accepted_per_day_short"},records_accepted_per_day_long:{getter:function(){return"Records previewed for the day"},mapKey:"MetricsConstants_records_accepted_per_day_long"},records_skipped_per_day_short:{getter:function(){return"Skipped"},mapKey:"MetricsConstants_records_skipped_per_day_short"},records_skipped_per_day_long:{getter:function(){return"Records skipped for the day"},mapKey:"MetricsConstants_records_skipped_per_day_long"},records_skipped_ratio_per_day_short:{getter:function(){return"Skipped %"},mapKey:"MetricsConstants_records_skipped_ratio_per_day_short"},records_skipped_ratio_per_day_long:{getter:function(){return"Percentage of records skipped for the day"},mapKey:"MetricsConstants_records_skipped_ratio_per_day_long"},records_completed_per_day_short:{getter:function(){return"Completed"},mapKey:"MetricsConstants_records_completed_per_day_short"},records_completed_per_day_long:{getter:function(){return"Records completed for the day"},mapKey:"MetricsConstants_records_completed_per_day_long"},records_completed_ratio_per_day_short:{getter:function(){return"Completed %"},mapKey:"MetricsConstants_records_completed_ratio_per_day_short"},records_completed_ratio_per_day_long:{getter:function(){return"Percentage of records completed for the day"},mapKey:"MetricsConstants_records_completed_ratio_per_day_long"},records_completed_ratio_short:{getter:function(){return"Total Completed %"},mapKey:"MetricsConstants_records_completed_ratio_short"},records_completed_ratio_long:{getter:function(){return"Percentage of records completed in active lists"},mapKey:"MetricsConstants_records_completed_ratio_long"},records_progress_short:{getter:function(){return"State chart"},mapKey:"MetricsConstants_records_progress_short"},records_progress_long:{getter:function(){return"Records state chart"},mapKey:"MetricsConstants_records_progress_long"},records_dialable_short:{getter:function(){return"Dialable"},mapKey:"MetricsConstants_records_dialable_short"},records_dialable_long:{getter:function(){return"Records Dialable Right Now"},mapKey:"MetricsConstants_records_dialable_long"},records_expired_short:{getter:function(){return"Expired"},mapKey:"MetricsConstants_records_expired_short"},records_expired_long:{getter:function(){return"Records Expired"},mapKey:"MetricsConstants_records_expired_long"},records_out_of_quota_short:{getter:function(){return"Out of Quota"},mapKey:"MetricsConstants_records_out_of_quota_short"},records_out_of_quota_long:{getter:function(){return"Number of records in quota groups that reached quota limits"},mapKey:"MetricsConstants_records_out_of_quota_long"},records_quota_remaining:{getter:function(){return"Remaining"},mapKey:"MetricsConstants_records_quota_remaining"},records_quota_completed:{getter:function(){return"Completed"},mapKey:"MetricsConstants_records_quota_completed"},records_successes_short:{getter:function(){return"Successes"},mapKey:"MetricsConstants_records_successes_short"},records_successes_long:{getter:function(){return"Number of records with a success disposition"},mapKey:"MetricsConstants_records_successes_long"},records_quota_short:{getter:function(){return"Quota"},mapKey:"MetricsConstants_records_quota_short"},records_quota_long:{getter:function(){return"Quota of successes for the calling list quota group"},mapKey:"MetricsConstants_records_quota_long"},out_campaign_mode_short:{getter:function(){return"Mode"},mapKey:"MetricsConstants_out_campaign_mode_short"},out_campaign_mode_long:{getter:function(){return"Campaign mode"},mapKey:"MetricsConstants_out_campaign_mode_long"},out_campaign_duration_forecast_short:{getter:function(){return"Estd Duration"},mapKey:"MetricsConstants_out_campaign_duration_forecast_short"},out_campaign_duration_forecast_long:{getter:function(){return"Estimated campaign duration"},mapKey:"MetricsConstants_out_campaign_duration_forecast_long"},out_average_success_rate_short:{getter:function(){return"ASR %"},mapKey:"MetricsConstants_out_average_success_rate_short"},out_average_success_rate_long:{getter:function(){return"Average Success Rate - percentage of successful call attempts"},mapKey:"MetricsConstants_out_average_success_rate_long"},out_calls_current_call_rate_short:{getter:function(){return"OUT Call Rate"},mapKey:"MetricsConstants_out_calls_current_call_rate_short"},out_calls_current_call_rate_long:{getter:function(){return"Outbound current calling rate"},mapKey:"MetricsConstants_out_calls_current_call_rate_long"},out_calls_placed_per_day_short:{getter:function(){return"OUT Dialed"},mapKey:"MetricsConstants_out_calls_placed_per_day_short"},out_calls_placed_per_day_long:{getter:function(){return"Outbound call attempts for the day"},mapKey:"MetricsConstants_out_calls_placed_per_day_long"},out_calls_in_progress_short:{getter:function(){return"OUT In Progress"},mapKey:"MetricsConstants_out_calls_in_progress_short"},out_calls_in_progress_long:{getter:function(){return"Outbound call attempts currently in progress"},mapKey:"MetricsConstants_out_calls_in_progress_long"},out_calls_failed_per_day_short:{getter:function(){return"OUT Failed"},mapKey:"MetricsConstants_out_calls_failed_per_day_short"},out_calls_failed_per_day_long:{getter:function(){return"Outbound calls attempts failed fo the day"},mapKey:"MetricsConstants_out_calls_failed_per_day_long"},out_calls_answered_per_day_short:{getter:function(){return"OUT Answered"},mapKey:"MetricsConstants_out_calls_answered_per_day_short"},out_calls_answered_per_day_long:{getter:function(){return"Outbound successful calls attempts for the day"},mapKey:"MetricsConstants_out_calls_answered_per_day_long"},out_calls_answered_ratio_per_day_short:{getter:function(){return"OUT Answered %"},mapKey:"MetricsConstants_out_calls_answered_ratio_per_day_short"},out_calls_answered_ratio_per_day_long:{getter:function(){return"Percentage of outbound successful call attempts for the day"},mapKey:"MetricsConstants_out_calls_answered_ratio_per_day_long"},out_calls_in_ivr_short:{getter:function(){return"OUT In IVR"},mapKey:"MetricsConstants_out_calls_in_ivr_short"},out_calls_in_ivr_long:{getter:function(){return"Outbound calls currently in IVR"},mapKey:"MetricsConstants_out_calls_in_ivr_long"},out_calls_self_serviced_per_day_short:{getter:function(){return"OUT Self Serviced"},mapKey:"MetricsConstants_out_calls_self_serviced_per_day_short"},out_calls_self_serviced_per_day_long:{getter:function(){return"Outbound calls self serviced for the day"},mapKey:"MetricsConstants_out_calls_self_serviced_per_day_long"},out_calls_abandoned_in_ivr_per_day_short:{getter:function(){return"OUT IVR Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_per_day_short"},out_calls_abandoned_in_ivr_per_day_long:{getter:function(){return"Outbound calls abandoned in IVR for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_per_day_long"},out_calls_abandoned_in_ivr_ratio_per_day_short:{getter:function(){return"OUT IVR Abandoned %"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_ratio_per_day_short"},out_calls_abandoned_in_ivr_ratio_per_day_long:{getter:function(){return"Percentage of outbound calls abandoned in IVR for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_ivr_ratio_per_day_long"},out_calls_dropped_in_ivr_per_day_short:{getter:function(){return"OUT IVR Dropped"},mapKey:"MetricsConstants_out_calls_dropped_in_ivr_per_day_short"},out_calls_dropped_in_ivr_per_day_long:{getter:function(){return"Outbound calls dropped in IVR for the day"},mapKey:"MetricsConstants_out_calls_dropped_in_ivr_per_day_long"},out_calls_queued_per_day_short:{getter:function(){return"OUT Queued"},mapKey:"MetricsConstants_out_calls_queued_per_day_short"},out_calls_queued_per_day_long:{getter:function(){return"Outbound calls queued for the day"},mapKey:"MetricsConstants_out_calls_queued_per_day_long"},out_calls_waiting_short:{getter:function(){return"OUT Waiting"},mapKey:"MetricsConstants_out_calls_waiting_short"},out_calls_waiting_long:{getter:function(){return"Outbound calls currently in queue"},mapKey:"MetricsConstants_out_calls_waiting_long"},out_calls_abandoned_in_queue_per_day_short:{getter:function(){return"OUT Queue Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_per_day_short"},out_calls_abandoned_in_queue_per_day_long:{getter:function(){return"Outbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_per_day_long"},out_calls_abandoned_in_queue_ratio_per_day_short:{getter:function(){return"OUT Queue Abandoned %"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_ratio_per_day_short"},out_calls_abandoned_in_queue_ratio_per_day_long:{getter:function(){return"Percentage of outbound calls abandoned in queue for the day"},mapKey:"MetricsConstants_out_calls_abandoned_in_queue_ratio_per_day_long"},out_calls_dropped_in_queue_per_day_short:{getter:function(){return"OUT Queue Dropped"},mapKey:"MetricsConstants_out_calls_dropped_in_queue_per_day_short"},out_calls_dropped_in_queue_per_day_long:{getter:function(){return"Outbound calls dropped in queue for the day"},mapKey:"MetricsConstants_out_calls_dropped_in_queue_per_day_long"},out_calls_routed_per_day_short:{getter:function(){return"OUT Routed"},mapKey:"MetricsConstants_out_calls_routed_per_day_short"},out_calls_routed_per_day_long:{getter:function(){return"Outbound calls routed to agents for the day"},mapKey:"MetricsConstants_out_calls_routed_per_day_long"},out_calls_ringing_short:{getter:function(){return"OUT Ringing"},mapKey:"MetricsConstants_out_calls_ringing_short"},out_calls_ringing_long:{getter:function(){return"Outbound calls delivered to agents and currently ringing"},mapKey:"MetricsConstants_out_calls_ringing_long"},out_calls_abandoned_ringing_per_day_short:{getter:function(){return"OUT Ringing Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_ringing_per_day_short"},out_calls_abandoned_ringing_per_day_long:{getter:function(){return"Outbound calls abandoned while ringing for the day"},mapKey:"MetricsConstants_out_calls_abandoned_ringing_per_day_long"},out_calls_dropped_ringing_per_day_short:{getter:function(){return"OUT Ringing Dropped"},mapKey:"MetricsConstants_out_calls_dropped_ringing_per_day_short"},out_calls_dropped_ringing_per_day_long:{getter:function(){return"Outbound calls dropped while ringing for the day"},mapKey:"MetricsConstants_out_calls_dropped_ringing_per_day_long"},out_calls_rejected_per_day_short:{getter:function(){return"OUT Rejected"},mapKey:"MetricsConstants_out_calls_rejected_per_day_short"},out_calls_rejected_per_day_long:{getter:function(){return"Outbound calls  rejected or unanswered by agents for the day"},mapKey:"MetricsConstants_out_calls_rejected_per_day_long"},out_calls_handled_per_day_short:{getter:function(){return"OUT Handled"},mapKey:"MetricsConstants_out_calls_handled_per_day_short"},out_calls_handled_per_day_long:{getter:function(){return"Outbound calls handled by agents for the day"},mapKey:"MetricsConstants_out_calls_handled_per_day_long"},out_calls_active_on_agents_short:{getter:function(){return"OUT Active"},mapKey:"MetricsConstants_out_calls_active_on_agents_short"},out_calls_active_on_agents_long:{getter:function(){return"Outbound interactions currently handled by agents"},mapKey:"MetricsConstants_out_calls_active_on_agents_long"},out_calls_disconnected_talking_per_day_short:{getter:function(){return"OUT Remote Disconnected"},mapKey:"MetricsConstants_out_calls_disconnected_talking_per_day_short"},out_calls_disconnected_talking_per_day_long:{getter:function(){return"Outbound calls released by remote party for the day"},mapKey:"MetricsConstants_out_calls_disconnected_talking_per_day_long"},out_calls_dropped_talking_per_day_short:{getter:function(){return"OUT Agent Disconnected"},mapKey:"MetricsConstants_out_calls_dropped_talking_per_day_short"},out_calls_dropped_talking_per_day_long:{getter:function(){return"Outbound calls released by agent for the day"},mapKey:"MetricsConstants_out_calls_dropped_talking_per_day_long"},out_calls_transferred_per_day_short:{getter:function(){return"OUT Transferred"},mapKey:"MetricsConstants_out_calls_transferred_per_day_short"},out_calls_transferred_per_day_long:{getter:function(){return"Outbound calls transferred by agents for the day"},mapKey:"MetricsConstants_out_calls_transferred_per_day_long"},out_calls_abandoned_per_day_short:{getter:function(){return"OUT Abandoned"},mapKey:"MetricsConstants_out_calls_abandoned_per_day_short"},out_calls_abandoned_per_day_long:{getter:function(){return"Outbound calls abandoned at any stage for the day"},mapKey:"MetricsConstants_out_calls_abandoned_per_day_long"},out_calls_abandoned_ratio_per_day_short:{getter:function(){return"OUT Abandoned %"},mapKey:"MetricsConstants_out_calls_abandoned_ratio_per_day_short"},out_calls_abandoned_ratio_per_day_long:{getter:function(){return"Percentage of outbound calls abandoned at any stage for the day"},mapKey:"MetricsConstants_out_calls_abandoned_ratio_per_day_long"},out_calls_unattended_per_day_short:{getter:function(){return"OUT Unattended"},mapKey:"MetricsConstants_out_calls_unattended_per_day_short"},out_calls_unattended_per_day_long:{getter:function(){return"Outbound answered calls for the day that did not connect to agent in compliance time"},mapKey:"MetricsConstants_out_calls_unattended_per_day_long"},out_calls_unattended_ratio_per_day_short:{getter:function(){return"OUT Unattended %"},mapKey:"MetricsConstants_out_calls_unattended_ratio_per_day_short"},out_calls_unattended_ratio_per_day_long:{getter:function(){return"Percentage of outbound answered calls for the day that did not connect to agent in compliance time"},mapKey:"MetricsConstants_out_calls_unattended_ratio_per_day_long"},state_duration_short:{getter:function(){return"Time in State"},mapKey:"MetricsConstants_state_duration_short"},state_duration_long:{getter:function(){return"User time in current state"},mapKey:"MetricsConstants_state_duration_long"},priority_short:{getter:function(){return"Order"},mapKey:"MetricsConstants_priority_short"},priority_long:{getter:function(){return"List order"},mapKey:"MetricsConstants_priority_long"},ratio_short:{getter:function(){return"Ratio"},mapKey:"MetricsConstants_ratio_short"},ratio_long:{getter:function(){return"List ratio"},mapKey:"MetricsConstants_ratio_long"},outbound_campaign_link_group_short:{getter:function(){return"Group"},mapKey:"MetricsConstants_outbound_campaign_link_group_short"},outbound_campaign_link_group_long:{getter:function(){return"Campaign Link Group"},mapKey:"MetricsConstants_outbound_campaign_link_group_long"},active_item_talk_duration_short:{getter:function(){return"Talk"},mapKey:"MetricsConstants_active_item_talk_duration_short"},active_item_talk_duration_long:{getter:function(){return"Current item talk time"},mapKey:"MetricsConstants_active_item_talk_duration_long"},active_item_hold_duration_short:{getter:function(){return"Hold"},mapKey:"MetricsConstants_active_item_hold_duration_short"},active_item_hold_duration_long:{getter:function(){return"Current item hold time"},mapKey:"MetricsConstants_active_item_hold_duration_long"},active_item_qm_is_recording_short:{getter:function(){return"Rec"},mapKey:"MetricsConstants_active_item_qm_is_recording_short"},active_item_qm_is_recording_long:{getter:function(){return"Item recording indicator"},mapKey:"MetricsConstants_active_item_qm_is_recording_long"},active_item_service_name_short:{getter:function(){return"Service"},mapKey:"MetricsConstants_active_item_service_name_short"},active_item_service_name_long:{getter:function(){return"Current item service name"},mapKey:"MetricsConstants_active_item_service_name_long"},active_item_party_name_short:{getter:function(){return"Interaction"},mapKey:"MetricsConstants_active_item_party_name_short"},active_item_party_name_long:{getter:function(){return"Current item customer name as received from the network"},mapKey:"MetricsConstants_active_item_party_name_long"},ready_agents_chat_short:{getter:function(){return"Ready (chat)"},mapKey:"MetricsConstants_ready_agents_chat_short"},ready_agents_chat_long:{getter:function(){return"Number of ready agents and chat slots"},mapKey:"MetricsConstants_ready_agents_chat_long"},agents_busy_on_service_short:{getter:function(){return"Busy Svc"},mapKey:"MetricsConstants_agents_busy_on_service_short"},agents_busy_on_service_long:{getter:function(){return"Agents busy with interactions of this service"},mapKey:"MetricsConstants_agents_busy_on_service_long"},agent_current_number_interactions_long:{getter:function(){return"Number of interactions on agent"},mapKey:"MetricsConstants_agent_current_number_interactions_long"},agent_current_number_interactions_short:{getter:function(){return"Active"},mapKey:"MetricsConstants_agent_current_number_interactions_short"},personal_success_ratio_per_day_short:{getter:function(){return"SR"},mapKey:"MetricsConstants_personal_success_ratio_per_day_short"},personal_success_ratio_per_day_long:{getter:function(){return"My Success Rate"},mapKey:"MetricsConstants_personal_success_ratio_per_day_long"},team_success_ratio_per_day_short:{getter:function(){return"TR"},mapKey:"MetricsConstants_team_success_ratio_per_day_short"},team_success_ratio_per_day_long:{getter:function(){return"My Team Success Rate"},mapKey:"MetricsConstants_team_success_ratio_per_day_long"},agent_call_handling_rate_short:{getter:function(){return"HR"},mapKey:"MetricsConstants_agent_call_handling_rate_short"},agent_call_handling_rate_long:{getter:function(){return"Call handling rate per hour"},mapKey:"MetricsConstants_agent_call_handling_rate_long"},in_email_carried_over_short:{getter:function(){return"IN Carried Over"},mapKey:"MetricsConstants_in_email_carried_over_short"},in_email_carried_over_long:{getter:function(){return"Inbound emails that arrived at any time before the reset time and remained unprocessed at the reset time (includes both new emails and emails related to existing cases)"},mapKey:"MetricsConstants_in_email_carried_over_long"},in_email_carried_over_new_short:{getter:function(){return"IN Carried Over New"},mapKey:"MetricsConstants_in_email_carried_over_new_short"},in_email_carried_over_new_long:{getter:function(){return"Inbound emails that arrived at any time before the reset time and remained unprocessed at the reset time (new cases only)"},mapKey:"MetricsConstants_in_email_carried_over_new_long"},in_email_offered_per_day_short:{getter:function(){return"IN Offered"},mapKey:"MetricsConstants_in_email_offered_per_day_short"},in_email_offered_per_day_long:{getter:function(){return"Inbound emails offered to agent for the day"},mapKey:"MetricsConstants_in_email_offered_per_day_long"},in_email_received_new_per_day_short:{getter:function(){return"IN Received New"},mapKey:"MetricsConstants_in_email_received_new_per_day_short"},in_email_received_new_per_day_long:{getter:function(){return"Inbound interactions received for the day for new cases"},mapKey:"MetricsConstants_in_email_received_new_per_day_long"},in_email_pulled_per_day_short:{getter:function(){return"IN Pulled"},mapKey:"MetricsConstants_in_email_pulled_per_day_short"},in_email_pulled_per_day_long:{getter:function(){return"Inbound emails pulled by agent for the day"},mapKey:"MetricsConstants_in_email_pulled_per_day_long"},in_email_processed_replied_per_day_short:{getter:function(){return"IN Replied"},mapKey:"MetricsConstants_in_email_processed_replied_per_day_short"},in_email_processed_replied_per_day_long:{getter:function(){return"Inbound emails replied for the day"},mapKey:"MetricsConstants_in_email_processed_replied_per_day_long"},in_email_processed_noreply_per_day_short:{getter:function(){return"IN Closed"},mapKey:"MetricsConstants_in_email_processed_noreply_per_day_short"},in_email_processed_noreply_per_day_long:{getter:function(){return"Inbound emails closed without reply for the day"},mapKey:"MetricsConstants_in_email_processed_noreply_per_day_long"},in_email_waiting_in_personal_queues_short:{getter:function(){return"IN Desktop"},mapKey:"MetricsConstants_in_email_waiting_in_personal_queues_short"},in_email_waiting_in_personal_queues_long:{getter:function(){return"Inbound emails currently on agents, saved in personal queues"},mapKey:"MetricsConstants_in_email_waiting_in_personal_queues_long"},in_email_waiting_in_pq_breached_sla_short:{getter:function(){return"IN Breached SLA"},mapKey:"MetricsConstants_in_email_waiting_in_pq_breached_sla_short"},in_email_waiting_in_pq_breached_sla_long:{getter:function(){return"Inbound emails currently on agents, saved in personal queues, waiting in excess of SLA time"},mapKey:"MetricsConstants_in_email_waiting_in_pq_breached_sla_long"},in_email_handled_new_per_day_short:{getter:function(){return"IN Handled New"},mapKey:"MetricsConstants_in_email_handled_new_per_day_short"},in_email_handled_new_per_day_long:{getter:function(){return"Number of new inbound emails handled by agents for the day"},mapKey:"MetricsConstants_in_email_handled_new_per_day_long"},in_email_spam_short:{getter:function(){return"IN Spam"},mapKey:"MetricsConstants_in_email_spam_short"},in_email_spam_long:{getter:function(){return"Number of interactions re-categorized as spam by agents"},mapKey:"MetricsConstants_in_email_spam_long"},in_email_trash_short:{getter:function(){return"IN Trash"},mapKey:"MetricsConstants_in_email_trash_short"},in_email_trash_long:{getter:function(){return"Number of interactions re-categorized as trash by agents"},mapKey:"MetricsConstants_in_email_trash_long"},in_email_rejected_per_day_short:{getter:function(){return"IN Ignored"},mapKey:"MetricsConstants_in_email_rejected_per_day_short"},in_email_rejected_per_day_long:{getter:function(){return"Inbound emails unanswered for the day"},mapKey:"MetricsConstants_in_email_rejected_per_day_long"},in_emails_joined_existing_cases_short:{getter:function(){return"IN Joined"},mapKey:"MetricsConstants_in_emails_joined_existing_cases_short"},in_emails_joined_existing_cases_long:{getter:function(){return"number of inbound emails joined to already existing case, per day"},mapKey:"MetricsConstants_in_emails_joined_existing_cases_long"},in_service_changed_per_day_short:{getter:function(){return"IN Svc Changed"},mapKey:"MetricsConstants_in_service_changed_per_day_short"},in_service_changed_per_day_long:{getter:function(){return"Number of interactions  re-categorized to a different service by agents"},mapKey:"MetricsConstants_in_service_changed_per_day_long"},in_service_change_received_per_day_short:{getter:function(){return"IN Svc Change Received"},mapKey:"MetricsConstants_in_service_change_received_per_day_short"},in_service_change_received_per_day_long:{getter:function(){return"Number of interactions re-categorized from a different service by agents"},mapKey:"MetricsConstants_in_service_change_received_per_day_long"},wrap_up_time_short:{getter:function(){return"Wrap Up Time"},mapKey:"MetricsConstants_wrap_up_time_short"},wrap_up_time_long:{getter:function(){return"Wrap Up Time"},mapKey:"MetricsConstants_wrap_up_time_long"},ready_state_short:{getter:function(){return"Ready"},mapKey:"MetricsConstants_ready_state_short"},ready_state_long:{getter:function(){return"Ready"},mapKey:"MetricsConstants_ready_state_long"},out_email_waiting_in_personal_queues_short:{getter:function(){return"OUT Desktop"},mapKey:"MetricsConstants_out_email_waiting_in_personal_queues_short"},out_email_waiting_in_personal_queues_long:{getter:function(){return"Outbound emails currently on agents, saved in personal queues"},mapKey:"MetricsConstants_out_email_waiting_in_personal_queues_long"},in_calls_abandoned_total_per_day_short:{getter:function(){return"IN Total Abandoned"},mapKey:"MetricsConstants_in_calls_abandoned_total_per_day_short"},in_calls_abandoned_total_per_day_long:{getter:function(){return"Inbound calls abandoned for the day"},mapKey:"MetricsConstants_in_calls_abandoned_total_per_day_long"},in_calls_abandoned_percent_per_day_short:{getter:function(){return"IN Total Abandoned %"},mapKey:"MetricsConstants_in_calls_abandoned_percent_per_day_short"},in_calls_abandoned_percent_per_day_long:{getter:function(){return"Percentage of inbound calls abandoned for the day"},mapKey:"MetricsConstants_in_calls_abandoned_percent_per_day_long"},in_calls_handled_percent_per_day_short:{getter:function(){return"IN Handled %"},mapKey:"MetricsConstants_in_calls_handled_percent_per_day_short"},in_calls_handled_percent_per_day_long:{getter:function(){return"Percentage of inbound calls handled for the day"},mapKey:"MetricsConstants_in_calls_handled_percent_per_day_long"},in_calls_duration_average_per_day_short:{getter:function(){return"IN Avg Talk Time"},mapKey:"MetricsConstants_in_calls_duration_average_per_day_short"},in_calls_duration_average_per_day_long:{getter:function(){return"Inbound calls duration average for the day"},mapKey:"MetricsConstants_in_calls_duration_average_per_day_long"},in_calls_duration_total_per_day_short:{getter:function(){return"IN Total Talk Time"},mapKey:"MetricsConstants_in_calls_duration_total_per_day_short"},in_calls_duration_total_per_day_long:{getter:function(){return"Inbound calls duration total for the day"},mapKey:"MetricsConstants_in_calls_duration_total_per_day_long"},in_calls_put_on_hold_per_day_short:{getter:function(){return"IN on Hold"},mapKey:"MetricsConstants_in_calls_put_on_hold_per_day_short"},in_calls_put_on_hold_per_day_long:{getter:function(){return"Inbound interactions being on hold by agent(s) for the day"},mapKey:"MetricsConstants_in_calls_put_on_hold_per_day_long"},in_calls_first_time_put_on_hold_per_day_short:{getter:function(){return"IN on Hold Unique"},mapKey:"MetricsConstants_in_calls_first_time_put_on_hold_per_day_short"},in_calls_first_time_put_on_hold_per_day_long:{getter:function(){return"Unique inbound interactions being on hold by agent(s) for the day"},mapKey:"MetricsConstants_in_calls_first_time_put_on_hold_per_day_long"},in_ewt_short:{getter:function(){return"IN EWT"},mapKey:"MetricsConstants_in_ewt_short"},in_ewt_long:{getter:function(){return"Estimated wait time"},mapKey:"MetricsConstants_in_ewt_long"},out_calls_duration_average_per_day_short:{getter:function(){return"OUT Avg Talk Time"},mapKey:"MetricsConstants_out_calls_duration_average_per_day_short"},out_calls_duration_average_per_day_long:{getter:function(){return"Outbound calls duration average for the day"},mapKey:"MetricsConstants_out_calls_duration_average_per_day_long"},out_calls_duration_total_per_day_short:{getter:function(){return"OUT Total Talk Time"},mapKey:"MetricsConstants_out_calls_duration_total_per_day_short"},out_calls_duration_total_per_day_long:{getter:function(){return"Outbound calls duration total for the day"},mapKey:"MetricsConstants_out_calls_duration_total_per_day_long"},state_text_short:{getter:function(){return"Agent State"},mapKey:"MetricsConstants_state_text_short"},state_text_long:{getter:function(){return"Current agent state"},mapKey:"MetricsConstants_state_text_long"},login_time_short:{getter:function(){return"Agent Login time"},mapKey:"MetricsConstants_login_time_short"},login_time_long:{getter:function(){return"Agent Login time"},mapKey:"MetricsConstants_login_time_long"},calls_average_handling_time_per_day_short:{getter:function(){return"IN Avg Handle Time"},mapKey:"MetricsConstants_calls_average_handling_time_per_day_short"},calls_average_handling_time_per_day_long:{getter:function(){return"Average Handle time"},mapKey:"MetricsConstants_calls_average_handling_time_per_day_long"},calls_average_acw_time_per_day_short:{getter:function(){return"Avg ACW Time"},mapKey:"MetricsConstants_calls_average_acw_time_per_day_short"},calls_average_acw_time_per_day_long:{getter:function(){return"Average ACW Time"},mapKey:"MetricsConstants_calls_average_acw_time_per_day_long"},agent_fcr_short:{getter:function(){return"FCR"},mapKey:"MetricsConstants_agent_fcr_short"},agent_fcr_long:{getter:function(){return"First Call Resolution"},mapKey:"MetricsConstants_agent_fcr_long"},agent_nps_short:{getter:function(){return"NPS"},mapKey:"MetricsConstants_agent_nps_short"},agent_nps_long:{getter:function(){return"Net Promoter Score"},mapKey:"MetricsConstants_agent_nps_long"},agent_csat_short:{getter:function(){return"CSAT"},mapKey:"MetricsConstants_agent_csat_short"},agent_csat_long:{getter:function(){return"Customer Satisfaction"},mapKey:"MetricsConstants_agent_csat_long"},agent_cm1_short:{getter:function(){return"Survey 1"},mapKey:"MetricsConstants_agent_cm1_short"},agent_cm1_long:{getter:function(){return"Custom Survey Metric 1"},mapKey:"MetricsConstants_agent_cm1_long"},agent_cm2_short:{getter:function(){return"Survey 2"},mapKey:"MetricsConstants_agent_cm2_short"},agent_cm2_long:{getter:function(){return"Custom Survey Metric 2"},mapKey:"MetricsConstants_agent_cm2_long"},active_item_sentiment_short:{getter:function(){return"Sentiment"},mapKey:"MetricsConstants_active_item_sentiment_short"},active_item_sentiment_long:{getter:function(){return"Sentiment"},mapKey:"MetricsConstants_active_item_sentiment_long"},agent_total_break_time_short:{getter:function(){return"BT"},mapKey:"MetricsConstants_agent_total_break_time_short"},agent_total_break_time_long:{getter:function(){return"My Break Time"},mapKey:"MetricsConstants_agent_total_break_time_long"},agent_total_busy_time_short:{getter:function(){return"Busy Time"},mapKey:"MetricsConstants_agent_total_busy_time_short"},agent_total_busy_time_long:{getter:function(){return"My Busy Time"},mapKey:"MetricsConstants_agent_total_busy_time_long"},agent_total_acw_time_short:{getter:function(){return"ACW Time"},mapKey:"MetricsConstants_agent_total_acw_time_short"},agent_total_acw_time_long:{getter:function(){return"My ACW Time"},mapKey:"MetricsConstants_agent_total_acw_time_long"},agent_total_ready_time_short:{getter:function(){return"Ready Time"},mapKey:"MetricsConstants_agent_total_ready_time_short"},agent_total_ready_time_long:{getter:function(){return"My Ready Time"},mapKey:"MetricsConstants_agent_total_ready_time_long"},in_calls_first_time_queued_per_day_short:{getter:function(){return"IN Queued Unique"},mapKey:"declaration_in_calls_first_time_queued_per_day_short"}},MONITORING_AGENTS_COLUMN_NAMES:{monitoring_column_name:{getter:function(){return"Name"},mapKey:"Constants_monitoring_column_name"},monitoring_column_group:{getter:function(){return"Group"},mapKey:"Constants_monitoring_column_group"},monitoring_column_total:{getter:function(){return"Total"},mapKey:"Constants_monitoring_column_total"},monitoring_recording_value_no:{getter:function(){return"no"},mapKey:"Constants_monitoring_recording_value_no"},monitoring_recording_value_yes:{getter:function(){return"yes"},mapKey:"Constants_monitoring_recording_value_yes"}},MONITORING_CONFIRMATIONS:{agentForceLogout_confirm_heading:{getter:function(){return"Warning"},mapKey:"Constants_agentForceLogout_confirm_heading"},agentForceLogout_confirm_msg:{getter:function(){return"Do you really want to force agent logout?"},mapKey:"Constants_agentForceLogout_confirm_msg"},forceLogoutIsNotPossible:{getter:function(){return"Agent has an active call, you can not forcefully log him out now."},mapKey:"Constants_forceLogoutIsNotPossible"},forceReadyIsNotPossible:{getter:function(){return"Agent has an active call, you can not force him to ready state now."},mapKey:"Constants_forceReadyIsNotPossible"},agentForceLogout_title:{getter:function(){return"Force agent logout"},mapKey:"Constants_agentForceLogout_title"},agentForceReady_confirm_heading:{getter:function(){return"Warning"},mapKey:"Constants_agentForceReady_confirm_heading"},agentForceReady_confirm_msg:{getter:function(){return"Do you really want to force agent ready?"},mapKey:"Constants_agentForceReady_confirm_msg"},agentForceReady_title:{getter:function(){return"Force agent into Ready"},mapKey:"Constants_agentForceReady_title"},agentForceButton_tooltip:{getter:function(){return"Force agent..."},mapKey:"Constants_agentForceButton_tooltip"}},MONITORING_LABEL:{supervision_teams:{getter:function(){return"Real Time Metrics"},mapKey:"Constants_supervision_teams"},supervision_dashboard:{getter:function(){return"Services Dashboard"},mapKey:"Constants_supervision_dashboard"},supervision_dashboard_service:{getter:function(){return"Service"},mapKey:"Constants_supervision_dashboard_service"},supervision_dashboard_day:{getter:function(){return"Date"},mapKey:"Constants_supervision_dashboard_day"},supervision_dashboard_day_error:{getter:function(){return"Invalid date"},mapKey:"Constants_supervision_dashboard_day_error"},supervision_dashboard_agents_axis:{getter:function(){return"Agents"},mapKey:"Constants_supervision_dashboard_agents_axis"},supervision_dashboard_sl_axis:{getter:function(){return"Service Level(%)"},mapKey:"Constants_supervision_dashboard_sl_axis"},supervision_dashboard_required_title:{getter:function(){return"Required No.of Agents"},mapKey:"Constants_supervision_dashboard_required_title"},supervision_dashboard_actual_title:{getter:function(){return"Actual No.of Agents with skill"},mapKey:"Constants_supervision_dashboard_actual_title"},supervision_dashboard_calls_title:{getter:function(){return"No.of Calls"},mapKey:"Constants_supervision_dashboard_calls_title"},supervision_dashboard_sl_title:{getter:function(){return"Service Level"},mapKey:"Constants_supervision_dashboard_sl_title"},supervision_dashboard_calls_axis:{getter:function(){return"Calls"},mapKey:"Constants_supervision_dashboard_calls_axis"},monitoring_label_services:{getter:function(e){return"{0} Services"},mapKey:"Constants_monitoring_label_services"},monitoring_label_agents:{getter:function(e){return"{0} Agents"},mapKey:"Constants_monitoring_label_agents"},monitoring_label_noActiveCalls:{getter:function(){return"No active calls"},mapKey:"Constants_monitoring_label_noActiveCalls"},monitoring_label_skillsHeader:{getter:function(e){return"{0}: Skills"},mapKey:"Constants_monitoring_label_skillsHeader"},monitoring_withLoggedOutAgents_checkbox_label:{getter:function(){return"logged-out users"},mapKey:"Constants_monitoring_withLoggedOutAgents_checkbox_label"},monitoring_subTeam_checkbox_label:{getter:function(){return"my subteam only"},mapKey:"Constants_monitoring_subTeam_checkbox_label"},monitoring_subTeam_editMode_label:{getter:function(){return"Select agents then"},mapKey:"Constants_monitoring_subTeam_editMode_label"}},MONITORING_SERVICES_COLUMN_NAMES:{services_column_name:{getter:function(){return"Name"},mapKey:"Constants_services_column_name"}},MONITORING_TABLES_CONFIG:{addMetricsMenuItem:{getter:function(){return"Add metrics..."},mapKey:"Constants_addMetricsMenuItem"},hideMetricMenuItem:{getter:function(){return"Hide metric"},mapKey:"Constants_hideMetricMenuItem"},restoreDefaultView:{getter:function(){return"Restore default view"},mapKey:"Constants_restoreDefaultView"},setViewAsDefault:{getter:function(){return"Set view as default system-wide"},mapKey:"Constants_setViewAsDefault"},hideAllMetricsMenuItem:{getter:function(){return"Hide all metrics"},mapKey:"Constants_hideAllMetricsMenuItem"},addServicesMenuItem:{getter:function(){return"Add services..."},mapKey:"Constants_addServicesMenuItem"},hideServiceMenuItem:{getter:function(){return"Hide service"},mapKey:"Constants_hideServiceMenuItem"},chooseMetrics_heading:{getter:function(){return"Select Metrics to Display"},mapKey:"Constants_chooseMetrics_heading"},chooseServices_heading:{getter:function(){return"Select Services/Campaigns to Display"},mapKey:"Constants_chooseServices_heading"}},MONITORING_TEAMS_COLUMN_NAMES:{teams_column_name:{getter:function(){return"Name"},mapKey:"declaration_teams_column_name"}},MS_TEAMS_CHAT:{unsupported_code_snippet_card:{getter:function(){return"Unsupported Code Snippet Card"},mapKey:"declaration_unsupported_code_snippet_card"},unsupported_thumbnail_card:{getter:function(){return"Unsupported thumbnail card"},mapKey:"declaration_unsupported_thumbnail_card"},unsupported_hero_card:{getter:function(){return"Unsupported hero card"},mapKey:"declaration_unsupported_hero_card"},unsupported_office_365_connector_card:{getter:function(){return'Unsupported Office 365 Connector Card"'},mapKey:"declaration_unsupported_office_365_connector_card"}},MULTIPLE_BLIND_TRANSFER_DIALOG_BOX:{blindTransfer_heading:{getter:function(){return"Blind Transfer of?"},mapKey:"Constants_blindTransfer_heading"}},MULTIPLE_COMPLETE_TRANSFER_DIALOG_BOX:{completeTransfer_heading:{getter:function(){return"Complete Transfer of?"},mapKey:"Constants_completeTransfer_heading"}},PLAY_CANNED_PROMPTS_DIALOG_BOX:{play_prompt_heading:{getter:function(){return"Play Message"},mapKey:"Constants_play_prompt_heading"},play_prompt_playButton_tooltip:{getter:function(){return"Play message"},mapKey:"Constants_play_prompt_playButton_tooltip"},play_prompt_selector_tooltip:{getter:function(){return"Message selector"},mapKey:"Constants_play_prompt_selector_tooltip"},play_prompt_stopPlayButton_tooltip:{getter:function(){return"Stop playing message"},mapKey:"Constants_play_prompt_stopPlayButton_tooltip"},play_prompt_playCloseButton_tooltip:{getter:function(){return"Play selected message and close dialog"},mapKey:"Constants_play_prompt_playCloseButton_tooltip"},play_prompt_editPersonalPrompts:{getter:function(){return"edit pre-recorded messages"},mapKey:"Constants_play_prompt_editPersonalPrompts"},play_prompt_servicePrompts:{getter:function(){return"Canned Prompts from Service"},mapKey:"Constants_play_prompt_servicePrompts"},play_prompt_personalPrompts:{getter:function(){return"Personal Pre-recorded Messages"},mapKey:"Constants_play_prompt_personalPrompts"},play_prompt_emptyList:{getter:function(){return"Empty list"},mapKey:"Constants_play_prompt_emptyList"},canned_prompts:{getter:function(){return"Canned prompts"},mapKey:"declaration_canned_prompts"},custom_prompts:{getter:function(){return"Custom prompts"},mapKey:"declaration_custom_prompts"}},RECENT:{button_show_crm_objects_text:{getter:function(){return"Show linked CRM objects"},mapKey:"declaration_button_show_crm_objects_text"},no_records_placeholder:{getter:function(){return"There are no records here yet."},mapKey:"declaration_no_records_placeholder"}},RECORD_SEARCH:{record_search_byPhone_label:{getter:function(){return"Phone number:"},mapKey:"Constants_record_search_byPhone_label"},record_search_button_text:{getter:function(){return"Search"},mapKey:"Constants_record_search_button_text"},record_search_new_button_text:{getter:function(){return"New"},mapKey:"Constants_record_search_new_button_text"},record_search_use_button_text:{getter:function(){return"Use"},mapKey:"Constants_record_search_use_button_text"}},REMOTE_ASSIST_DIALOG_BOX:{remote_assist_heading:{getter:function(){return"Remote Assist Session"},mapKey:"Constants_remote_assist_heading"},remote_assist_pin_url_mobile:{getter:function(e){return"http://RescueMobile.com/{0}"},mapKey:"Constants_remote_assist_pin_url_mobile"},remote_assist_pin_url_desktop:{getter:function(e){return"https://oty.com/?code={0}"},mapKey:"Constants_remote_assist_pin_url_desktop"},remote_assist_create_another_pin_button:{getter:function(){return"Create Another PIN"},mapKey:"Constants_remote_assist_create_another_pin_button"},remote_assist_paste_into_chat_text_mobile:{getter:function(){return"Mobile Link:"},mapKey:"Constants_remote_assist_paste_into_chat_text_mobile"},remote_assist_paste_into_chat_link_mobile:{getter:function(){return"paste into chat"},mapKey:"Constants_remote_assist_paste_into_chat_link_mobile"},remote_assist_paste_into_chat_text_desktop:{getter:function(){return"Desktop Link:"},mapKey:"Constants_remote_assist_paste_into_chat_text_desktop"},remote_assist_paste_into_chat_link_desktop:{getter:function(){return"paste into chat"},mapKey:"Constants_remote_assist_paste_into_chat_link_desktop"},remote_assist_manual_url_text:{getter:function(){return"URL for manual PIN input: "},mapKey:"Constants_remote_assist_manual_url_text"},remote_assist_manual_url_address:{getter:function(){return"oty.com"},mapKey:"Constants_remote_assist_manual_url_address"},remote_assist_error_message:{getter:function(){return"Unable to get remote assist PIN code. Please contact your administrator."},mapKey:"Constants_remote_assist_error_message"},remote_assist_error_not_logged_in_message:{getter:function(){return"Please log into LogMeIn Rescue before requesting a session PIN."},mapKey:"Constants_remote_assist_error_not_logged_in_message"}},REPLACE_SCREENPOP_DIALOG_BOX:{replaceScreenPopDialog_heading:{getter:function(){return"Warning"},mapKey:"Constants_replaceScreenPopDialog_heading"},replaceScreenPopDialog_msg:{getter:function(e){return"New ScreenPop arrives for call with {0}. Do you want to replace the old one?"},mapKey:"Constants_replaceScreenPopDialog_msg"}},RESCHEDULE:{rsc_nextCall:{getter:function(){return"Next call"},mapKey:"Constants_rsc_nextCall"},rsc_from:{getter:function(){return"from"},mapKey:"Constants_rsc_from"},rsc_to:{getter:function(){return"to"},mapKey:"Constants_rsc_to"},rsc_on:{getter:function(){return"on"},mapKey:"Constants_rsc_on"},more:{getter:function(){return"more..."},mapKey:"Constants_more"},rsc_in1hour:{getter:function(){return"In 1 hour"},mapKey:"Constants_rsc_in1hour"},rsc_in2hours:{getter:function(){return"In 2 hours"},mapKey:"Constants_rsc_in2hours"},rsc_afternoon:{getter:function(){return"Afternoon"},mapKey:"Constants_rsc_afternoon"},rsc_evening:{getter:function(){return"Evening"},mapKey:"Constants_rsc_evening"},rsc_tomorrowMorning:{getter:function(){return"Tomorrow morning"},mapKey:"Constants_rsc_tomorrowMorning"},rsc_tomorrowAfternoon:{getter:function(){return"Tomorrow afternoon"},mapKey:"Constants_rsc_tomorrowAfternoon"},rsc_tomorrowEvening:{getter:function(){return"Tomorrow evening"},mapKey:"Constants_rsc_tomorrowEvening"},rescheduleIntervalValidation_timeInThePast:{getter:function(){return"Time is in the past."},mapKey:"Constants_rescheduleIntervalValidation_timeInThePast"},rescheduleIntervalValidation_timeRequired:{getter:function(){return"Time is required."},mapKey:"Constants_rescheduleIntervalValidation_timeRequired"},rescheduleIntervalValidation_invalidInterval:{getter:function(){return"Interval is not valid."},mapKey:"Constants_rescheduleIntervalValidation_invalidInterval"},rescheduleIntervalValidation_invalidTimeFormat:{getter:function(){return"Invalid time format."},mapKey:"Constants_rescheduleIntervalValidation_invalidTimeFormat"},rescheduleIntervalValidation_invalidTime:{getter:function(){return"Reschedule time"},mapKey:"Constants_rescheduleIntervalValidation_invalidTime"},schedule_next_call_to:{getter:function(){return"Schedule next call to"},mapKey:"declaration_schedule_next_call_to"},from:{getter:function(){return"From"},mapKey:"declaration_from"},to:{getter:function(){return"To"},mapKey:"declaration_to"},time_zone:{getter:function(){return"Time Zone"},mapKey:"declaration_time_zone"},phone:{getter:function(){return"Phone"},mapKey:"declaration_phone"}},RICH_TEXT_EDITOR:{bold:{getter:function(){return"Bold"},mapKey:"RichTextEditorConstants_bold"},italic:{getter:function(){return"Italic"},mapKey:"RichTextEditorConstants_italic"},underline:{getter:function(){return"Underline"},mapKey:"RichTextEditorConstants_underline"},stroke:{getter:function(){return"Strikethrough"},mapKey:"RichTextEditorConstants_stroke"},alignLeft:{getter:function(){return"Align Left"},mapKey:"RichTextEditorConstants_alignLeft"},alignRight:{getter:function(){return"Align Right"},mapKey:"RichTextEditorConstants_alignRight"},alignCenter:{getter:function(){return"Align Center"},mapKey:"RichTextEditorConstants_alignCenter"},orderList:{getter:function(){return"Numbered List"},mapKey:"RichTextEditorConstants_orderList"},unorderList:{getter:function(){return"Bulleted List"},mapKey:"RichTextEditorConstants_unorderList"},removeFormatting:{getter:function(){return"Remove Formatting"},mapKey:"RichTextEditorConstants_removeFormatting"},insertLink:{getter:function(){return"Insert link"},mapKey:"RichTextEditorConstants_insertLink"},fontName:{getter:function(){return"Font"},mapKey:"RichTextEditorConstants_fontName"},fontSize:{getter:function(){return"Font size"},mapKey:"RichTextEditorConstants_fontSize"},backgroundColor:{getter:function(){return"Background color"},mapKey:"RichTextEditorConstants_backgroundColor"},foregroundColor:{getter:function(){return"Color"},mapKey:"RichTextEditorConstants_foregroundColor"},white:{getter:function(){return"White"},mapKey:"RichTextEditorConstants_white"},black:{getter:function(){return"Black"},mapKey:"RichTextEditorConstants_black"},red:{getter:function(){return"Red"},mapKey:"RichTextEditorConstants_red"},green:{getter:function(){return"Green"},mapKey:"RichTextEditorConstants_green"},yellow:{getter:function(){return"Yellow"},mapKey:"RichTextEditorConstants_yellow"},blue:{getter:function(){return"Blue"},mapKey:"RichTextEditorConstants_blue"},xx_small:{getter:function(){return"Tiny"},mapKey:"RichTextEditorConstants_xx_small"},x_small:{getter:function(){return"X small"},mapKey:"RichTextEditorConstants_x_small"},small:{getter:function(){return"Small"},mapKey:"RichTextEditorConstants_small"},medium:{getter:function(){return"Normal"},mapKey:"RichTextEditorConstants_medium"},large:{getter:function(){return"Large"},mapKey:"RichTextEditorConstants_large"},x_large:{getter:function(){return"X large"},mapKey:"RichTextEditorConstants_x_large"},xx_large:{getter:function(){return"XX large"},mapKey:"RichTextEditorConstants_xx_large"},textColor:{getter:function(){return"Text color"},mapKey:"RichTextEditorConstants_textColor"},backColor:{getter:function(){return"Background color"},mapKey:"RichTextEditorConstants_backColor"}},RINGTONE_VOLUME_DIALOG_BOX:{ringtoneVolumeDialog_heading:{getter:function(){return"Ringtone and Alert Volume"},mapKey:"Constants_ringtoneVolumeDialog_heading"},ringtoneVolumeDialog_testVolume_title:{getter:function(){return"Test volume"},mapKey:"Constants_ringtoneVolumeDialog_testVolume_title"},ringtoneVolumeDialog_externalChat_label:{getter:function(){return"External chat and preview record notification"},mapKey:"Constants_ringtoneVolumeDialog_externalChat_label"},ringtoneVolumeDialog_externalChatMessage_label:{getter:function(){return"External chat message notification"},mapKey:"Constants_ringtoneVolumeDialog_externalChatMessage_label"},ringtoneVolumeDialog_internalChat_label:{getter:function(){return"Internal chat notification"},mapKey:"Constants_ringtoneVolumeDialog_internalChat_label"},ringtoneVolumeDialog_incomingCalls_label:{getter:function(){return"Incoming calls"},mapKey:"Constants_ringtoneVolumeDialog_incomingCalls_label"},test_notification_sound_aria_label:{getter:function(){return"Test notification sound"},mapKey:"declaration_test_notification_sound_aria_label"},test_softphone_sound_aria_label:{getter:function(){return"Test softphone sound"},mapKey:"declaration_test_softphone_sound_aria_label"},test_incoming_message_sound_aria_label:{getter:function(){return"Test incoming message sound"},mapKey:"declaration_test_incoming_message_sound_aria_label"},test_internal_chat_sound_aria_label:{getter:function(){return"Test internal chat sound"},mapKey:"declaration_test_internal_chat_sound_aria_label"}},SCREENPOP_FORM:{screenpopForm_failureLoadingFormValues_message:{getter:function(){return"Failed to load values for screenpop form."},mapKey:"Constants_screenpopForm_failureLoadingFormValues_message"},screenpopForm_failureLoadingForm_message:{getter:function(){return"Failed to load screenpop form definition."},mapKey:"Constants_screenpopForm_failureLoadingForm_message"},screenpopForm_callNumberIsEmpty:{getter:function(){return"Call number is empty."},mapKey:"Constants_screenpopForm_callNumberIsEmpty"},screenpopForm_failureSavingFormValues_message:{getter:function(){return"Failed to save screenpop form."},mapKey:"Constants_screenpopForm_failureSavingFormValues_message"},activityFormTab:{getter:function(){return"Form"},mapKey:"Constants_activityFormTab"},webScreenpopTab:{getter:function(){return"URL"},mapKey:"Constants_webScreenpopTab"},requiredField_tooltip:{getter:function(){return"Field is required"},mapKey:"Constants_requiredField_tooltip"},dateFieldValidFormat:{getter:function(e){return"Format should be in {0}"},mapKey:"Constants_dateFieldValidFormat"},alert_interactionDataIsNotFilledOut:{getter:function(){return"Please fill out required fields"},mapKey:"Constants_alert_interactionDataIsNotFilledOut"},addActivityButton:{getter:function(){return"Add Activity"},mapKey:"Constants_addActivityButton"},invalidEmailAddress:{getter:function(){return"Invalid email address"},mapKey:"Constants_invalidEmailAddress"},formInvalidDate:{getter:function(e){return"Year must not be greater than {0}"},mapKey:"Constants_formInvalidDate"},reminderButton:{getter:function(){return"Reminder"},mapKey:"Constants_reminderButton"},forceHangUpButton:{getter:function(){return"Force Hang up"},mapKey:"Constants_forceHangUpButton"},searchButton:{getter:function(){return"Search"},mapKey:"Constants_searchButton"},manualAugmentationButton:{getter:function(){return"Manual Augmentation"},mapKey:"Constants_manualAugmentationButton"},form_photo_placeholder:{getter:function(){return"photo"},mapKey:"Constants_form_photo_placeholder"},form_changePhoto_label:{getter:function(){return"Change photo"},mapKey:"Constants_form_changePhoto_label"},address_line1_placeholder:{getter:function(){return"Address line 1"},mapKey:"Constants_address_line1_placeholder"},address_line2_placeholder:{getter:function(){return"Address line 2"},mapKey:"Constants_address_line2_placeholder"},address_city_placeholder:{getter:function(){return"City"},mapKey:"Constants_address_city_placeholder"},address_state_placeholder:{getter:function(){return"State"},mapKey:"Constants_address_state_placeholder"},address_zip_placeholder:{getter:function(){return"Zip"},mapKey:"Constants_address_zip_placeholder"},address_postcode_placeholder:{getter:function(){return"Post Code"},mapKey:"Constants_address_postcode_placeholder"},address_country_placeholder:{getter:function(){return"Country"},mapKey:"Constants_address_country_placeholder"},phone_type_home:{getter:function(){return"Home"},mapKey:"Constants_phone_type_home"},phone_type_business:{getter:function(){return"Business"},mapKey:"Constants_phone_type_business"},phone_type_mobile:{getter:function(){return"Mobile"},mapKey:"Constants_phone_type_mobile"},phone_type_fax:{getter:function(){return"Fax"},mapKey:"Constants_phone_type_fax"},email_type_primary:{getter:function(){return"Primary email"},mapKey:"Constants_email_type_primary"},email_type_business:{getter:function(){return"Business email"},mapKey:"Constants_email_type_business"},email_type_private:{getter:function(){return"Private email"},mapKey:"Constants_email_type_private"},address_type_primary:{getter:function(){return"Primary address"},mapKey:"Constants_address_type_primary"},address_type_billing:{getter:function(){return"Billing address"},mapKey:"Constants_address_type_billing"},address_type_shipping:{getter:function(){return"Shipping address"},mapKey:"Constants_address_type_shipping"},address_type_other:{getter:function(){return"Other address"},mapKey:"Constants_address_type_other"},add_address_label:{getter:function(){return"add address"},mapKey:"Constants_add_address_label"},add_phone_label:{getter:function(){return"add phone"},mapKey:"Constants_add_phone_label"},add_email_label:{getter:function(){return"add email"},mapKey:"Constants_add_email_label"}},SETTINGS:{settings_menu_changePassword:{getter:function(){return"Change Password"},mapKey:"Constants_settings_menu_changePassword"},settings_menu_phone:{getter:function(){return"Phone"},mapKey:"Constants_settings_menu_phone"},settings_menu_emailFollowUpSection:{getter:function(){return"Enable Pinned Cases section"},mapKey:"Constants_settings_menu_emailFollowUpSection"},settings_menu_alarmConfiguration:{getter:function(){return"Alert Configuration"},mapKey:"Constants_settings_menu_alarmConfiguration"},settings_menu_about:{getter:function(){return"About"},mapKey:"Constants_settings_menu_about"},thirdPartyLicenseNotices:{getter:function(){return"3rd-party license acknowledgement notices"},mapKey:"Constants_thirdPartyLicenseNotices"},settings_menu_editVoicePrompts:{getter:function(){return"Pre-recorded Messages"},mapKey:"Constants_settings_menu_editVoicePrompts"},settings_menu_userProfile:{getter:function(){return"User Profile"},mapKey:"Constants_settings_menu_userProfile"},settings_menu_shortcuts:{getter:function(){return"Keyboard Shortcuts"},mapKey:"Constants_settings_menu_shortcuts"},settings_menu_email_default_font:{getter:function(){return"Default email font"},mapKey:"Constants_settings_menu_email_default_font"},settings_menu_email_default_font_example_text:{getter:function(){return"Example text"},mapKey:"Constants_settings_menu_email_default_font_example_text"},settings_menu_preferences:{getter:function(){return"Preferences"},mapKey:"Constants_settings_menu_preferences"},settings_menu_ringtone_volume:{getter:function(){return"Ringtones and Alerts"},mapKey:"Constants_settings_menu_ringtone_volume"},settings_menu_pop_out_ad:{getter:function(){return"Pop-out Agent Desktop"},mapKey:"Constants_settings_menu_pop_out_ad"},settings_menu_notificationsOnChatMessage:{getter:function(){return"Enable browser notifications about incoming chat messages"},mapKey:"Constants_settings_menu_notificationsOnChatMessage"},settings_menu_audioDevices:{getter:function(){return"Audio Devices"},mapKey:"Constants_settings_menu_audioDevices"},settings_menu_phoneDevice:{getter:function(){return"Phone Device"},mapKey:"Constants_settings_menu_phoneDevice"},settings_menu_chatCannedResponses:{getter:function(){return"Chat Responses"},mapKey:"Constants_settings_menu_chatCannedResponses"},settings_menu_phoneDevice_locked_warning:{getter:function(){return"Phone Device cannot be changed at the moment due to the active calls."},mapKey:"Constants_settings_menu_phoneDevice_locked_warning"},settings_menu_go_back:{getter:function(){return"Go back"},mapKey:"declaration_settings_menu_go_back"}},SHORTCUTS_DIALOG_BOX:{shortcuts_heading:{getter:function(){return"Keyboard Shortcuts"},mapKey:"Constants_shortcuts_heading"},shortcuts_alt_s:{getter:function(){return"Open directory tab, set focus on search input box"},mapKey:"Constants_shortcuts_alt_s"},shortcuts_alt_c:{getter:function(){return"Set focus on chat input text field"},mapKey:"Constants_shortcuts_alt_c"},shortcuts_alt_k:{getter:function(){return"Set focus on chat messages"},mapKey:"Constants_shortcuts_alt_k"},shortcuts_alt_n:{getter:function(){return"Set focus on number input field"},mapKey:"Constants_shortcuts_alt_n"},shortcuts_f8:{getter:function(){return"Open state selector menu"},mapKey:"Constants_shortcuts_f8"},shortcuts_f9:{getter:function(){return'Set agent state to "Ready"'},mapKey:"Constants_shortcuts_f9"},shortcuts_f10:{getter:function(){return"Open Settings menu"},mapKey:"Constants_shortcuts_f10"},shortcuts_f6:{getter:function(){return"Set focus on disposition selector"},mapKey:"Constants_shortcuts_f6"},shortcuts_f2:{getter:function(){return"Open service selector menu"},mapKey:"Constants_shortcuts_f2"},shortcuts_alt_a:{getter:function(){return"Answer alerting interaction"},mapKey:"Constants_shortcuts_alt_a"},shortcuts_alt_x:{getter:function(){return"Mute the microphone"},mapKey:"Constants_shortcuts_alt_x"},shortcuts_alt_shift_x:{getter:function(){return"Unmute the microphone"},mapKey:"Constants_shortcuts_alt_shift_x"},shortcuts_alt_shift_b:{getter:function(){return"Blind transfer"},mapKey:"Constants_shortcuts_alt_shift_b"},shortcuts_alt_shift_t:{getter:function(){return"Initiate transfer or conference"},mapKey:"Constants_shortcuts_alt_shift_t"},shortcuts_ctrl_shift_c:{getter:function(){return"Merge conference"},mapKey:"Constants_shortcuts_ctrl_shift_c"},shortcuts_ctrl_shift_f:{getter:function(){return"Complete transfer"},mapKey:"Constants_shortcuts_ctrl_shift_f"},shortcuts_alt_shift_l:{getter:function(){return"Leave conference "},mapKey:"Constants_shortcuts_alt_shift_l"},shortcuts_alt_shift_d:{getter:function(){return"Dial consult"},mapKey:"Constants_shortcuts_alt_shift_d"},shortcuts_alt_shift_c:{getter:function(){return"Dial conference"},mapKey:"Constants_shortcuts_alt_shift_c"},shortcuts_alt_shift_s:{getter:function(){return"Initiate SMS conversation"},mapKey:"Constants_shortcuts_alt_shift_s"},shortcuts_alt_m:{getter:function(){return"Flag the interaction"},mapKey:"Constants_shortcuts_alt_m"},shortcuts_alt_shift_m:{getter:function(){return"Unflag the interaction"},mapKey:"Constants_shortcuts_alt_shift_m"},shortcuts_alt_z:{getter:function(){return"Hold/Retrieve the current interaction"},mapKey:"Constants_shortcuts_alt_z"},shortcuts_alt_q:{getter:function(){return"Terminate the current interaction"},mapKey:"Constants_shortcuts_alt_q"},shortcuts_alt_p:{getter:function(){return"Open pre-recorded messages menu"},mapKey:"Constants_shortcuts_alt_p"},shortcuts_alt_f:{getter:function(){return"Add to favorites"},mapKey:"Constants_shortcuts_alt_f"},shortcuts_alt_shift_f:{getter:function(){return"Remove from favorites"},mapKey:"Constants_shortcuts_alt_shift_f"},shortcuts_alt_number:{getter:function(){return"Select interaction in Active Interaction List (AIL)"},mapKey:"Constants_shortcuts_alt_number"},shortcuts_alt_shift_number:{getter:function(){return"Insert number from Favorites into the number input field"},mapKey:"Constants_shortcuts_alt_shift_number"},shortcuts_alt_arrow_left:{getter:function(){return"Arrow left"},mapKey:"Constants_shortcuts_alt_arrow_left"},shortcuts_alt_arrow_right:{getter:function(){return"Arrow right"},mapKey:"Constants_shortcuts_alt_arrow_right"},shortcuts_alt_arrow:{getter:function(){return"Select next and previous interaction in AIL"},mapKey:"Constants_shortcuts_alt_arrow"},shortcuts_logout:{getter:function(){return"Logout from AgentDesktop"},mapKey:"Constants_shortcuts_logout"}},THRESHOLDS:{threshold_config_label_text:{getter:function(){return"Text"},mapKey:"Constants_threshold_config_label_text"},threshold_config_label_background:{getter:function(){return"Background"},mapKey:"Constants_threshold_config_label_background"},threshold_config_invalid_value:{getter:function(){return"Invalid value"},mapKey:"Constants_threshold_config_invalid_value"},threshold_config_none:{getter:function(){return"n/a"},mapKey:"Constants_threshold_config_none"},threshold_condition_great:{getter:function(){return">"},mapKey:"Constants_threshold_condition_great"},threshold_condition_less:{getter:function(){return"<"},mapKey:"Constants_threshold_condition_less"},threshold_condition_exists:{getter:function(){return"exists"},mapKey:"Constants_threshold_condition_exists"},threshold_condition_auto:{getter:function(){return"auto"},mapKey:"Constants_threshold_condition_auto"},threshold_button_apply:{getter:function(){return"Apply"},mapKey:"Constants_threshold_button_apply"},threshold_button_setDefault:{getter:function(){return"Set as System Default"},mapKey:"Constants_threshold_button_setDefault"},threshold_label_service:{getter:function(){return"Services and Campaigns"},mapKey:"Constants_threshold_label_service"},threshold_label_agents:{getter:function(){return"Agents"},mapKey:"Constants_threshold_label_agents"},threshold_heading:{getter:function(){return"Alert Configuration"},mapKey:"Constants_threshold_heading"},threshold_heading_custom:{getter:function(){return"Custom"},mapKey:"Constants_threshold_heading_custom"},threshold_heading_notification:{getter:function(){return"Notification"},mapKey:"Constants_threshold_heading_notification"},threshold_heading_threshold:{getter:function(){return"Threshold"},mapKey:"Constants_threshold_heading_threshold"},threshold_heading_color:{getter:function(){return"Color"},mapKey:"Constants_threshold_heading_color"},threshold_color_heading:{getter:function(){return"Alert Colors"},mapKey:"Constants_threshold_color_heading"}},UNDEFINED:{partition_selector_label:{getter:function(){return"Client"},mapKey:"ContactConstants_partition_selector_label"},new_contact_heading:{getter:function(){return"New contact"},mapKey:"ContactConstants_new_contact_heading"},partition_selector_default_value:{getter:function(){return"Not specified"},mapKey:"ContactConstants_partition_selector_default_value"},add_phone_to_contact_heading:{getter:function(){return"Add phone to contact"},mapKey:"ContactConstants_add_phone_to_contact_heading"},add_phone_to_contact_label:{getter:function(e,t){return'Add number {0} to "{1}" record'},mapKey:"ContactConstants_add_phone_to_contact_label"},add_phone_to_contact_question:{getter:function(e){return"as {0} phone?"},mapKey:"ContactConstants_add_phone_to_contact_question"},add_email_to_contact_question:{getter:function(e){return"as {0} email?"},mapKey:"ContactConstants_add_email_to_contact_question"},add_email_to_contact_label:{getter:function(e,t){return'Add email {0} to "{1}" record'},mapKey:"ContactConstants_add_email_to_contact_label"},add_email_to_contact_heading:{getter:function(){return"Add email to contact"},mapKey:"ContactConstants_add_email_to_contact_heading"},contact_deleting_confirmation:{getter:function(e){return'Are you sure you want to delete contact for "{0}" including all activity history?'},mapKey:"ContactConstants_contact_deleting_confirmation"},column_type:{getter:function(){return"Source"},mapKey:"ContactConstants_column_type"},contact_first_name:{getter:function(){return"First Name"},mapKey:"ContactConstants_contact_first_name"},contact_last_name:{getter:function(){return"Last Name"},mapKey:"ContactConstants_contact_last_name"},contact_phone:{getter:function(){return"Phone"},mapKey:"ContactConstants_contact_phone"},contact_email:{getter:function(){return"Email"},mapKey:"ContactConstants_contact_email"},activity_disposition:{getter:function(){return"Disposition"},mapKey:"ContactConstants_activity_disposition"},activity_datetime:{getter:function(){return"Time"},mapKey:"ContactConstants_activity_datetime"},activity_agent:{getter:function(){return"Agent"},mapKey:"ContactConstants_activity_agent"},activity_queue:{getter:function(){return"Queue"},mapKey:"ContactConstants_activity_queue"},activity_duration:{getter:function(){return"Duration"},mapKey:"ContactConstants_activity_duration"},activity_service:{getter:function(){return"Service"},mapKey:"ContactConstants_activity_service"},activity_details:{getter:function(){return"Subject, Notes"},mapKey:"ContactConstants_activity_details"},case_not_in_queue:{getter:function(){return"<not in queue>"},mapKey:"ContactConstants_case_not_in_queue"},button_new_contact_text:{getter:function(){return"New"},mapKey:"ContactConstants_button_new_contact_text"},button_new_contact_title:{getter:function(){return"Create New Contact"},mapKey:"ContactConstants_button_new_contact_title"},button_delete_contact_text:{getter:function(){return"Delete"},mapKey:"ContactConstants_button_delete_contact_text"},button_delete_contact_title:{getter:function(){return"Delete Contact"},mapKey:"ContactConstants_button_delete_contact_title"},button_edit_contact_text:{getter:function(){return"Edit"},mapKey:"ContactConstants_button_edit_contact_text"},button_edit_contact_title:{getter:function(){return"Edit Contact"},mapKey:"ContactConstants_button_edit_contact_title"},button_create_contact_text:{getter:function(){return"Create"},mapKey:"ContactConstants_button_create_contact_text"},button_create_contact_title:{getter:function(){return"Create Contact"},mapKey:"ContactConstants_button_create_contact_title"},button_use_contact_text:{getter:function(){return"Use"},mapKey:"ContactConstants_button_use_contact_text"},button_use_contact_title:{getter:function(){return"Use Contact"},mapKey:"ContactConstants_button_use_contact_title"},button_view_contact_text:{getter:function(){return"View"},mapKey:"ContactConstants_button_view_contact_text"},button_view_contact_title:{getter:function(){return"View Contact"},mapKey:"ContactConstants_button_view_contact_title"},button_save_contact_text:{getter:function(){return"Save"},mapKey:"ContactConstants_button_save_contact_text"},button_save_contact_title:{getter:function(){return"Save Contact"},mapKey:"ContactConstants_button_save_contact_title"},button_cancel_contact_text:{getter:function(){return"Cancel"},mapKey:"ContactConstants_button_cancel_contact_text"},button_cancel_contact_title:{getter:function(){return"Cancel editing"},mapKey:"ContactConstants_button_cancel_contact_title"},button_create_workitem_text:{getter:function(){return"Create Workitem"},mapKey:"ContactConstants_button_create_workitem_text"},button_create_workitem_title:{getter:function(){return"Create Workitem"},mapKey:"ContactConstants_button_create_workitem_title"},contact_search_input_placeholder:{getter:function(){return"search term, e.g.: star* *inish exact *google.com *5551212"},mapKey:"ContactConstants_contact_search_input_placeholder"},contact_search_input_valid_date_pattern_title:{getter:function(e){return"the valid date pattern is {0}"},mapKey:"ContactConstants_contact_search_input_valid_date_pattern_title"},identification_input_placeholder:{getter:function(){return"search contact"},mapKey:"ContactConstants_identification_input_placeholder"},identification_form_next_page:{getter:function(){return"Next"},mapKey:"ContactConstants_identification_form_next_page"},identification_form_next_page_tooltip:{getter:function(){return"Go to the next page of the form"},mapKey:"ContactConstants_identification_form_next_page_tooltip"},augmentation_augment_the_contact_data:{getter:function(){return"Augment the Contact Data"},mapKey:"ContactConstants_augmentation_augment_the_contact_data"},augmentation_firstName:{getter:function(){return"First name"},mapKey:"ContactConstants_augmentation_firstName"},augmentation_lastName:{getter:function(){return"Last name"},mapKey:"ContactConstants_augmentation_lastName"},augmentation_gender:{getter:function(){return"Gender"},mapKey:"ContactConstants_augmentation_gender"},augmentation_age:{getter:function(){return"Age"},mapKey:"ContactConstants_augmentation_age"},augmentation_dob:{getter:function(){return"Date of birth"},mapKey:"ContactConstants_augmentation_dob"},augmentation_title:{getter:function(){return"Title"},mapKey:"ContactConstants_augmentation_title"},augmentation_position:{getter:function(){return"Position"},mapKey:"ContactConstants_augmentation_position"},augmentation_company:{getter:function(){return"Company"},mapKey:"ContactConstants_augmentation_company"},augmentation_summary:{getter:function(){return"Summary"},mapKey:"ContactConstants_augmentation_summary"},augmentation_segments:{getter:function(){return"Segments"},mapKey:"ContactConstants_augmentation_segments"},augmentation_localContact:{getter:function(){return"Local"},mapKey:"ContactConstants_augmentation_localContact"},augmentation_nextcaller:{getter:function(){return"NextCaller"},mapKey:"ContactConstants_augmentation_nextcaller"},augmentation_thedatagroup:{getter:function(){return"TheDataGroup"},mapKey:"ContactConstants_augmentation_thedatagroup"},augmentation_externalContact:{getter:function(){return"External"},mapKey:"ContactConstants_augmentation_externalContact"},bulk_label_createNewContacts:{getter:function(){return"Create new contacts"},mapKey:"ContactConstants_bulk_label_createNewContacts"},bulk_label_updateExistingContacts:{getter:function(){return"Update existing contacts"},mapKey:"ContactConstants_bulk_label_updateExistingContacts"},bulk_button_upload:{getter:function(){return"Browse"},mapKey:"ContactConstants_bulk_button_upload"},bulk_label_fileFormatDescription:{getter:function(){return"Import file format is described"},mapKey:"ContactConstants_bulk_label_fileFormatDescription"},bulk_label_here:{getter:function(){return"here"},mapKey:"ContactConstants_bulk_label_here"},bulk_button_next:{getter:function(){return"Next"},mapKey:"ContactConstants_bulk_button_next"},bulk_button_previous:{getter:function(){return"Previous"},mapKey:"ContactConstants_bulk_button_previous"},bulk_button_cancel:{getter:function(){return"Cancel"},mapKey:"ContactConstants_bulk_button_cancel"},bulk_button_finish:{getter:function(){return"Finish"},mapKey:"ContactConstants_bulk_button_finish"},bulk_label_clickNext:{getter:function(){return"Click Next to perform changes"},mapKey:"ContactConstants_bulk_label_clickNext"},bulk_label_contactsWillBeAdded:{getter:function(){return"Contacts will be added:"},mapKey:"ContactConstants_bulk_label_contactsWillBeAdded"},bulk_label_contactsWillBeChanged:{getter:function(){return"Contacts will be changed:"},mapKey:"ContactConstants_bulk_label_contactsWillBeChanged"},bulk_label_contactsAdded:{getter:function(){return"Contacts added:"},mapKey:"ContactConstants_bulk_label_contactsAdded"},bulk_label_contactsChanged:{getter:function(){return"Contacts changed:"},mapKey:"ContactConstants_bulk_label_contactsChanged"},bulk_label_errorsDetected:{getter:function(){return"Errors detected:"},mapKey:"ContactConstants_bulk_label_errorsDetected"},bulk_label_errorList:{getter:function(){return"error list"},mapKey:"ContactConstants_bulk_label_errorList"},bulk_menu_tooltip:{getter:function(){return"Import/export of contacts"},mapKey:"ContactConstants_bulk_menu_tooltip"},bulk_title:{getter:function(){return"Bulk import of contacts"},mapKey:"ContactConstants_bulk_title"},bulk_menu_export:{getter:function(){return"Bulk export contacts"},mapKey:"ContactConstants_bulk_menu_export"},bulk_menu_import:{getter:function(){return"Bulk import contacts"},mapKey:"ContactConstants_bulk_menu_import"},voiceMail_heading:{getter:function(){return"Voicemail authorization"},mapKey:"VoiceMailConstants_voiceMail_heading"},authorization:{getter:function(){return"Authorization..."},mapKey:"VoiceMailConstants_authorization"},playMessage:{getter:function(){return"Play message"},mapKey:"VoiceMailConstants_playMessage"},loading:{getter:function(){return"Loading..."},mapKey:"VoiceMailConstants_loading"},error_tenantNotFound:{getter:function(){return"Tenant not found..."},mapKey:"VoiceMailConstants_error_tenantNotFound"},auth_userId:{getter:function(){return"Username:"},mapKey:"VoiceMailConstants_auth_userId"},auth_password:{getter:function(){return"Password:"},mapKey:"VoiceMailConstants_auth_password"},voiceMail_submit:{getter:function(){return"Submit"},mapKey:"VoiceMailConstants_voiceMail_submit"},voiceMail_playMessage_error0:{getter:function(){return"Message is playing"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error0"},voiceMail_playMessage_downloaded:{getter:function(){return"Message was downloaded"},mapKey:"VoiceMailConstants_voiceMail_playMessage_downloaded"},voiceMail_playMessage_error1:{getter:function(){return"User specified in request not found"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error1"},voiceMail_playMessage_error2:{getter:function(){return"Unable to determine user\u2019s phone number"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error2"},voiceMail_playMessage_error3:{getter:function(){return"One of the required request parameters is missing"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error3"},voiceMail_playMessage_error4:{getter:function(){return"Unknown HTTP request"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error4"},voiceMail_playMessage_error5:{getter:function(){return"Internal server error"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error5"},voiceMail_playMessage_error6:{getter:function(){return"Tenant is disabled"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error6"},voiceMail_playMessage_error7:{getter:function(){return"Phone call cannot be established"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error7"},voiceMail_playMessage_error9:{getter:function(){return"Access denied"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error9"},voiceMail_playMessage_error10:{getter:function(){return"File not found"},mapKey:"VoiceMailConstants_voiceMail_playMessage_error10"},tab_enterprise_messaging_accounts_heading:{getter:function(){return"Enterprise Messaging Accounts"},mapKey:"Constants_tab_enterprise_messaging_accounts_heading"},navigation_acl_tooltip:{getter:function(){return"Conversations"},mapKey:"DeskConstants_navigation_acl_tooltip"},navigation_dir_tooltip:{getter:function(){return"Directory and Dial Pad"},mapKey:"DeskConstants_navigation_dir_tooltip"},navigation_cur_tooltip:{getter:function(){return"Selected Conversation\u2019s Documents"},mapKey:"DeskConstants_navigation_cur_tooltip"},navigation_cal_tooltip:{getter:function(){return"Calendar"},mapKey:"DeskConstants_navigation_cal_tooltip"},navigation_mlq_tooltip:{getter:function(){return"Email Queues"},mapKey:"DeskConstants_navigation_mlq_tooltip"},navigation_cts_tooltip:{getter:function(){return"Search & Preview Records"},mapKey:"DeskConstants_navigation_cts_tooltip"},navigation_cases_tooltip:{getter:function(){return"My Cases"},mapKey:"DeskConstants_navigation_cases_tooltip"},navigation_svs_tooltip:{getter:function(){return"Supervision"},mapKey:"DeskConstants_navigation_svs_tooltip"},navigation_qa_tooltip:{getter:function(){return"Quality Management"},mapKey:"DeskConstants_navigation_qa_tooltip"},navigation_agent_home_tooltip:{getter:function(){return"Agent Home Page"},mapKey:"DeskConstants_navigation_agent_home_tooltip"},navigation_supervisor_home_tooltip:{getter:function(){return"Supervisor Home Page"},mapKey:"DeskConstants_navigation_supervisor_home_tooltip"},navigation_cmp_tooltip:{getter:function(){return"Campaign Operations"},mapKey:"DeskConstants_navigation_cmp_tooltip"},navigation_cht_tooltip:{getter:function(){return"Chat Center"},mapKey:"DeskConstants_navigation_cht_tooltip"},search_tab_records:{getter:function(){return"List records"},mapKey:"DeskConstants_search_tab_records"},search_tab_activities:{getter:function(){return"Activities"},mapKey:"DeskConstants_search_tab_activities"},search_tab_contacts:{getter:function(){return"Contacts"},mapKey:"DeskConstants_search_tab_contacts"},search_tab_cases:{getter:function(){return"Cases"},mapKey:"DeskConstants_search_tab_cases"},button_open_contact_text:{getter:function(){return"Open"},mapKey:"declaration_button_open_contact_text"}},USER_PROFILE:{tab_profile_heading:{getter:function(){return"User Profile"},mapKey:"ProfileConstants_tab_profile_heading"},tab_contact_heading:{getter:function(){return"Contact Info"},mapKey:"ProfileConstants_tab_contact_heading"},tab_location_heading:{getter:function(){return"Location"},mapKey:"ProfileConstants_tab_location_heading"},tab_greeting_heading:{getter:function(){return"Forwarding and Voicemail"},mapKey:"ProfileConstants_tab_greeting_heading"},form_profile_photo_placeholder:{getter:function(){return"photo"},mapKey:"ProfileConstants_form_profile_photo_placeholder"},form_profile_changePhoto_label:{getter:function(){return"Change photo"},mapKey:"ProfileConstants_form_profile_changePhoto_label"},form_profile_firstName_label:{getter:function(){return"First name"},mapKey:"ProfileConstants_form_profile_firstName_label"},form_profile_lastName_label:{getter:function(){return"Last name"},mapKey:"ProfileConstants_form_profile_lastName_label"},form_profile_title_label:{getter:function(){return"Title"},mapKey:"ProfileConstants_form_profile_title_label"},form_profile_about_label:{getter:function(){return"About me"},mapKey:"ProfileConstants_form_profile_about_label"},form_contact_nick_label:{getter:function(){return"Chat nickname"},mapKey:"ProfileConstants_form_contact_nick_label"},form_contact_extension_label:{getter:function(){return"Extension"},mapKey:"ProfileConstants_form_contact_extension_label"},form_contact_workPhone_label:{getter:function(){return"Work phone"},mapKey:"ProfileConstants_form_contact_workPhone_label"},form_contact_mobilePhone_label:{getter:function(){return"Mobile phone"},mapKey:"ProfileConstants_form_contact_mobilePhone_label"},form_contact_email_label:{getter:function(){return"Email"},mapKey:"ProfileConstants_form_contact_email_label"},form_contact_email_required_for_voicemail:{getter:function(){return"voicemail requires email address and will be disabled"},mapKey:"ProfileConstants_form_contact_email_required_for_voicemail"},form_location_timezone_label:{getter:function(){return"Time zone"},mapKey:"ProfileConstants_form_location_timezone_label"},form_location_country_label:{getter:function(){return"Country"},mapKey:"ProfileConstants_form_location_country_label"},form_location_state_label:{getter:function(){return"State/Province"},mapKey:"ProfileConstants_form_location_state_label"},form_location_city_label:{getter:function(){return"City"},mapKey:"ProfileConstants_form_location_city_label"},form_greeting_activeGreeting_label:{getter:function(){return"Use the following greeting for voicemail"},mapKey:"ProfileConstants_form_greeting_activeGreeting_label"},form_greeting_forwardTimeout_label:{getter:function(){return"Forward on no answer after"},mapKey:"ProfileConstants_form_greeting_forwardTimeout_label"},form_greeting_enableVoiceMail_label:{getter:function(){return"Enable voicemail (requires email address)"},mapKey:"ProfileConstants_form_greeting_enableVoiceMail_label"},form_greeting_voicemailTimeout_label:{getter:function(){return"Send to voicemail after"},mapKey:"ProfileConstants_form_greeting_voicemailTimeout_label"},form_seconds:{getter:function(){return"sec"},mapKey:"ProfileConstants_form_seconds"},form_greeting_forwardCalls_label:{getter:function(e){return"Forward all calls for ext. {0} to"},mapKey:"ProfileConstants_form_greeting_forwardCalls_label"},form_validation_messages_emptyNameFields:{getter:function(){return"First Name or Last Name should be filled in."},mapKey:"ProfileConstants_form_validation_messages_emptyNameFields"},form_validation_messages_emptyForwardDestination:{getter:function(){return"Forward destination should not be empty."},mapKey:"ProfileConstants_form_validation_messages_emptyForwardDestination"},form_validation_messages_emptyForwardTimeout:{getter:function(){return"Forward timeout should not be empty."},mapKey:"ProfileConstants_form_validation_messages_emptyForwardTimeout"},form_validation_messages_emptyAddressField:{getter:function(){return"Email address should not be empty."},mapKey:"ProfileConstants_form_validation_messages_emptyAddressField"},form_validation_messages_duplicateAddressField:{getter:function(){return"Email address already exists."},mapKey:"ProfileConstants_form_validation_messages_duplicateAddressField"},form_integrations_enable_button:{getter:function(){return"Enable"},mapKey:"ProfileConstants_form_integrations_enable_button"},form_integrations_disable_button:{getter:function(){return"Disable"},mapKey:"ProfileConstants_form_integrations_disable_button"},form_integrations_active_status:{getter:function(){return"Active"},mapKey:"ProfileConstants_form_integrations_active_status"},form_integrations_inactive_status:{getter:function(){return"Inactive"},mapKey:"ProfileConstants_form_integrations_inactive_status"},form_integrations_msteams_label:{getter:function(){return"Microsoft Teams:"},mapKey:"ProfileConstants_form_integrations_msteams_label"},label_voicemail_active_text:{getter:function(){return"Active"},mapKey:"declaration_label_voicemail_active_text"},label_voicemail_not_set_text:{getter:function(){return"Not set"},mapKey:"declaration_label_voicemail_not_set_text"},label_voicemail_other_text:{getter:function(){return"Other"},mapKey:"declaration_label_voicemail_other_text"},button_voicemail_set_active_tooltip:{getter:function(){return"Make Active"},mapKey:"declaration_button_voicemail_set_active_tooltip"},button_voicemail_add_new_greeting_tooltip:{getter:function(){return"Add Greeting"},mapKey:"declaration_button_voicemail_add_new_greeting_tooltip"},button_voicemail_remove_from_active_tooltip:{getter:function(){return"Remove from Active"},mapKey:"declaration_button_voicemail_remove_from_active_tooltip"},button_change_avatar_text:{getter:function(){return"Change"},mapKey:"declaration_button_change_avatar_text"},button_change_avatar_tooltip:{getter:function(){return"Change user avatar"},mapKey:"declaration_button_change_avatar_tooltip"},tab_name_heading:{getter:function(){return"Name"},mapKey:"declaration_tab_name_heading"},tab_forwarding_heading:{getter:function(){return"Forwarding"},mapKey:"declaration_tab_forwarding_heading"},tab_voicemail_heading:{getter:function(){return"Voicemail"},mapKey:"declaration_tab_voicemail_heading"},location_tz_not_selected:{getter:function(){return"Not Selected"},mapKey:"declaration_location_tz_not_selected"},form_location_language_label:{getter:function(){return"Language"},mapKey:"declaration_form_location_language_label"},location_not_selected:{getter:function(){return"System default"},mapKey:"declaration_location_not_selected"},sidebar_profile_link:{getter:function(){return"See profile"},mapKey:"declaration_sidebar_profile_link"},sidebar_ext:{getter:function(e){return"ext: {0}"},mapKey:"declaration_sidebar_ext"},form_integrations_loading_tooltip:{getter:function(){return"Loading..."},mapKey:"declaration_form_integrations_loading_tooltip"},form_integrations_bad_config_tooltip:{getter:function(){return"Integration not configured properly"},mapKey:"declaration_form_integrations_bad_config_tooltip"},voicemail_reached_max_amount:{getter:function(){return"You have reached the maximum allowed number of greetings."},mapKey:"declaration_voicemail_reached_max_amount"},error_recording_no_title:{getter:function(){return"Please enter a name"},mapKey:"declaration_error_recording_no_title"},error_recording_no_audio:{getter:function(){return"Record voice or upload a voice file"},mapKey:"declaration_error_recording_no_audio"},error_recording_max_file_size:{getter:function(){return"The size of the file is too big. (max 25Mb)"},mapKey:"declaration_error_recording_max_file_size"}},VALIDATION:{ALL_FIELDS_ARE_REQUIRED:{getter:function(){return"All fields are required"},mapKey:"declaration_ALL_FIELDS_ARE_REQUIRED"},LETTER_DIGITS:{getter:function(){return"Digits and letters"},mapKey:"declaration_LETTER_DIGITS"},UPPER_LOWER:{getter:function(){return"Upper and lower case letters"},mapKey:"declaration_UPPER_LOWER"},SPECIAL:{getter:function(){return"Special characters"},mapKey:"declaration_SPECIAL"},MIN_LENGTH:{getter:function(e){return"At least {0} characters long"},mapKey:"declaration_MIN_LENGTH"},WEAK_LIST:{getter:function(){return"Not based on a commonly used word (found in a weak password list)"},mapKey:"declaration_WEAK_LIST"},NOT_USED_RECENTLY:{getter:function(){return"Has not been used recently"},mapKey:"declaration_NOT_USED_RECENTLY"},NOT_IN_SELF_NAMES:{getter:function(){return"Not based on an item or a tenant name"},mapKey:"declaration_NOT_IN_SELF_NAMES"},STRONG_ENOUGH:{getter:function(){return"Password strength: strong"},mapKey:"declaration_STRONG_ENOUGH"},OLD_PASSWORD_ERROR:{getter:function(){return"Old password is incorrect"},mapKey:"declaration_OLD_PASSWORD_ERROR"},NEW_PASSWORD_ERROR:{getter:function(){return"New password isn`t strong enough"},mapKey:"declaration_NEW_PASSWORD_ERROR"}},VOICE_CALL:{dial_consult_button_tooltip:{getter:function(){return"Dial consult"},mapKey:"declaration_dial_consult_button_tooltip"},dial_conference_button_tooltip:{getter:function(){return"Dial conference"},mapKey:"declaration_dial_conference_button_tooltip"},blind_transfer_button_tooltip:{getter:function(){return"Blind transfer"},mapKey:"declaration_blind_transfer_button_tooltip"},disposition_message_title:{getter:function(e,t,n){return"{0} dispositioned voice call on {1} at {2}"},mapKey:"declaration_disposition_message_title"}},VOICE_PROMPTS_DIALOG_BOX:{voice_prompts_downloadFileLink:{getter:function(){return"download file"},mapKey:"Constants_voice_prompts_downloadFileLink"},edit_voice_prompts_heading:{getter:function(){return"Pre-recorded Messages"},mapKey:"Constants_edit_voice_prompts_heading"},edit_voice_prompt_heading:{getter:function(){return"Edit Message"},mapKey:"Constants_edit_voice_prompt_heading"},add_voice_prompt_heading:{getter:function(){return"Add Message"},mapKey:"Constants_add_voice_prompt_heading"},file_upload_message_uploadFailure:{getter:function(){return"File is not uploaded."},mapKey:"Constants_file_upload_message_uploadFailure"},file_upload_message_invalidFileType:{getter:function(){return"Invalid file type."},mapKey:"Constants_file_upload_message_invalidFileType"},edit_voice_prompts_emptyList:{getter:function(){return"Empty list"},mapKey:"Constants_edit_voice_prompts_emptyList"},edit_voice_prompts_default_flat:{getter:function(){return"(default)"},mapKey:"Constants_edit_voice_prompts_default_flat"},edit_voice_prompts_description:{getter:function(){return"You can maintain a list of personal pre-recorded messages and have them available for playback during a call."},mapKey:"Constants_edit_voice_prompts_description"},edit_voice_prompts_titleLabel:{getter:function(){return"Title"},mapKey:"Constants_edit_voice_prompts_titleLabel"},edit_voice_prompts_upload:{getter:function(){return"Upload"},mapKey:"Constants_edit_voice_prompts_upload"},edit_voice_prompts_upload_tooltip:{getter:function(){return"Upload voice file"},mapKey:"Constants_edit_voice_prompts_upload_tooltip"},edit_voice_prompts_nameField_tooltip:{getter:function(){return"Title of the message"},mapKey:"Constants_edit_voice_prompts_nameField_tooltip"},edit_voice_prompts_addButton_tooltip:{getter:function(){return"Add message"},mapKey:"Constants_edit_voice_prompts_addButton_tooltip"},edit_voice_prompts_removeButton_tooltip:{getter:function(){return"Remove selected message"},mapKey:"Constants_edit_voice_prompts_removeButton_tooltip"},edit_voice_prompts_editButton_tooltip:{getter:function(){return"Edit selected message"},mapKey:"Constants_edit_voice_prompts_editButton_tooltip"},edit_voice_prompts_autoPlay:{getter:function(){return"play automatically on all service calls"},mapKey:"Constants_edit_voice_prompts_autoPlay"},edit_voice_prompts_delete_confirm_message:{getter:function(e){return'Are you sure you want to delete "{0}" message?'},mapKey:"Constants_edit_voice_prompts_delete_confirm_message"},edit_voice_prompts_message_promptsSavingFailure:{getter:function(){return"Unable to save message"},mapKey:"Constants_edit_voice_prompts_message_promptsSavingFailure"},voiceFileRequired_heading:{getter:function(){return"Voice file is missing"},mapKey:"Constants_voiceFileRequired_heading"},voiceFileRequired_label:{getter:function(){return"You should upload voice file."},mapKey:"Constants_voiceFileRequired_label"},button_save_changes:{getter:function(){return"Save"},mapKey:"declaration_button_save_changes"},template_to_continue_save_part_1:{getter:function(){return"To continue,"},mapKey:"declaration_template_to_continue_save_part_1"},template_to_continue_save_part_2:{getter:function(){return"save"},mapKey:"declaration_template_to_continue_save_part_2"},template_to_continue_save_part_3:{getter:function(){return"or"},mapKey:"declaration_template_to_continue_save_part_3"},template_to_continue_save_part_4:{getter:function(){return"cancel"},mapKey:"declaration_template_to_continue_save_part_4"},template_to_continue_save_part_5:{getter:function(){return"your changes."},mapKey:"declaration_template_to_continue_save_part_5"}},WINDOW_POPUP_TITLES_AND_MESSAGES:{window_messages_connecting:{getter:function(){return"Connecting..."},mapKey:"Constants_window_messages_connecting"},window_messages_server_connectionFailed:{getter:function(){return"Agent Desktop could not connect to any agent servers - please check if there is network connectivity."},mapKey:"Constants_window_messages_server_connectionFailed"},window_messages_server_openedInPopupWindow:{getter:function(){return"You opened AgentDesktop in separate popup window. You can close this window."},mapKey:"Constants_window_messages_server_openedInPopupWindow"},window_messages_server_failedConnectToASPort:{getter:function(e){return"Agent Desktop could not connect to agent server, because {0} port is not configured."},mapKey:"Constants_window_messages_server_failedConnectToASPort"},window_messages_3pcc_server_connectionLost:{getter:function(){return"SIP server connection lost."},mapKey:"Constants_window_messages_3pcc_server_connectionLost"},window_messages_3pcc_server_not_available:{getter:function(){return"SIP server is not available."},mapKey:"Constants_window_messages_3pcc_server_not_available"},window_messages_virtual_phone_not_available:{getter:function(){return"Phone line is down. Please dial in and keep line open to enable calling."},mapKey:"Constants_window_messages_virtual_phone_not_available"},window_messages_phone_not_available:{getter:function(){return"A network connectivity issue is impacting your phone device."},mapKey:"Constants_window_messages_phone_not_available"},window_messages_helper_app_not_available:{getter:function(){return"You logged in with a softphone, but the Agent Desktop Helper application is not installed or is blocked on your computer"},mapKey:"Constants_window_messages_helper_app_not_available"},window_messages_favoritesLimit:{getter:function(){return"A limit of 50 favorite entries was reached."},mapKey:"Constants_window_messages_favoritesLimit"},window_title_error:{getter:function(){return"Error"},mapKey:"Constants_window_title_error"},window_title_information:{getter:function(){return"Information"},mapKey:"Constants_window_title_information"},window_title_screenpop:{getter:function(){return"ScreenPop"},mapKey:"Constants_window_title_screenpop"},window_title_warning:{getter:function(){return"Warning"},mapKey:"Constants_window_title_warning"},window_buttonClose:{getter:function(){return"Close"},mapKey:"Constants_window_buttonClose"},window_buttonOk:{getter:function(){return"Ok"},mapKey:"Constants_window_buttonOk"},window_buttonYes:{getter:function(){return"Yes"},mapKey:"Constants_window_buttonYes"},window_buttonNo:{getter:function(){return"No"},mapKey:"Constants_window_buttonNo"},window_button_assign:{getter:function(){return"Assign"},mapKey:"Constants_window_button_assign"},window_button_transfer:{getter:function(){return"Transfer"},mapKey:"Constants_window_button_transfer"},window_buttonSelect:{getter:function(){return"Select"},mapKey:"Constants_window_buttonSelect"},window_buttonReset:{getter:function(){return"Reset"},mapKey:"Constants_window_buttonReset"},window_buttonCreate:{getter:function(){return"Create"},mapKey:"Constants_window_buttonCreate"},window_buttonCancel:{getter:function(){return"Cancel"},mapKey:"Constants_window_buttonCancel"},window_buttonDownload:{getter:function(e){return'Download "{0}"'},mapKey:"Constants_window_buttonDownload"},window_copyToClipboard_success:{getter:function(){return"Link copied"},mapKey:"Constants_window_copyToClipboard_success"},window_messages_shared_session_heading:{getter:function(){return"Session sharing"},mapKey:"Constants_window_messages_shared_session_heading"},window_messages_shared_session_message:{getter:function(){return"Shared session has been detected."},mapKey:"Constants_window_messages_shared_session_message"},window_messages_shared_session_button:{getter:function(){return"I'm back"},mapKey:"Constants_window_messages_shared_session_button"},window_timezones_heading:{getter:function(){return"Select timezone"},mapKey:"Constants_window_timezones_heading"},window_timezones_filter_placeholder:{getter:function(){return"Enter search string"},mapKey:"Constants_window_timezones_filter_placeholder"},window_timezones_filter_label:{getter:function(){return"Search:"},mapKey:"Constants_window_timezones_filter_label"},openingEmailFromSupervisingStateConfirmation:{getter:function(){return"Opening email will switch you from supervision to agent state. Do you wish to proceed?"},mapKey:"Constants_openingEmailFromSupervisingStateConfirmation"}}};function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Um(e){return function(e){if(Array.isArray(e))return Fm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qm(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a="function"==typeof e?e.apply(void 0,Um(n)):String(e);return a.replace(/\{(\d+)\}/g,(function(e,t){var r=parseInt(t,10);return void 0===n[r]?e:n[r]}))}}var Bm=Uo(Km,(function(e){return Uo(e,(function(e){return qm(e.getter)}))})),Gm=$m(Bm,Uo({GLOBAL:{complete_interaction:function(){return"Complete Interaction"},disposition:function(){return"Disposition"},service_selector_label:function(){return"Select a Service"},select:function(){return"Select"},view_all:function(){return"View all"},pagination:function(e,t,n){return"{0}-{1} of {2}"},search:function(){return"Search"},add:function(){return"Add"},audio_player_handled_by_label:function(){return"Handled by:"},cancel:function(){return"Cancel"},continue:function(){return"Continue"},not_found:function(){return"Not found"},copy:function(){return"Copy"},add_to_copy:function(){return"Add to copy"},copy_shareable_link:function(){return"Copy shareable link"},country_selector_all_countries_title:function(){return"All Countries"},country_selector_button_tooltip:function(){return"Select Country"},country_selector_countries:function(){return"Countries"},country_selector_recent:function(){return"Recent"},country_selector_search_input_placeholder:function(){return"Search"},delete:function(){return"Delete"},dial_request_status_long_connection:function(){return"Connecting..."},done:function(){return"Done"},drag_and_drop_subtitle:function(){return"To send them with a message"},edit:function(){return"Edit"},hours_short:function(){return"hr"},in:function(){return"In"},interaction_bar_calls_label:function(){return"Voice calls"},interaction_bar_chats_label:function(){return"Chats"},interaction_bar_contact_activities_label:function(){return"History contacts"},minutes_short:function(){return"min"},more:function(){return"More"},no_results_found:function(){return"No results found"},ok:function(){return"OK"},optional:function(){return"Optional"},play:function(){return"Play"},stop:function(){return"Stop"},reload_confirm_action_button_text:function(){return"OK"},reload_confirm_new_msg_part1:function(){return"Your copy of Agent Desktop is out of date. Press "},reload_confirm_new_msg_part2:function(){return" to update it now. The application may not work properly if you do not update it."},clear:function(){return"Clear"},remove:function(){return"Remove"},search_contact_input_placeholder:function(){return"Enter name or number"},seconds_short:function(){return"sec"},see_less:function(){return"See less"},see_more:function(){return"See more"},time_in_queue:function(){return"Time in queue:"},validation_hint:function(e){return"Validation hint: {0}"},chat_type_whatsapp:function(){return"WhatsApp"},slow_connection:function(){return"Slow connection"},available:function(){return"Available"},included:function(){return"Included"},title:function(){return"Title"},statistic:function(){return"Statistic"},sort:function(){return"Sort"},published:function(){return"Published"},publish:function(){return"Publish"},unpublish:function(){return"Unpublish"},select_color:function(){return"Select Color"},name:function(){return"Name"},owner:function(){return"Owner"},created:function(){return"Created"},modified:function(){return"Modified"},modified_by:function(){return"Modified by"},find_user:function(){return"Find user"},close:function(){return"Close"},create:function(){return"Create"},now:function(){return"Now"},next:function(){return"Next"},back:function(){return"Back"},restore:function(){return"Restore"},heading_incomingUnknown:function(){return"Unknown / incoming"},merge:function(){return"Merge"},reset:function(){return"Reset"},confirm:function(){return"Confirm"},previous:function(){return"Previous"},no_data:function(){return"No data"},no_available:function(){return"N/A"},unknown:function(){return"Unknown"}},DAYS:{monday:function(){return"Monday"},tuesday:function(){return"Tuesday"},wednesday:function(){return"Wednesday"},thursday:function(){return"Thursday"},friday:function(){return"Friday"},saturday:function(){return"Saturday"},sunday:function(){return"Sunday"},mondayShort:function(){return"Mon"},tuesdayShort:function(){return"Tue"},wednesdayShort:function(){return"Wed"},thursdayShort:function(){return"Thu"},fridayShort:function(){return"Fri"},saturdayShort:function(){return"Sat"},sundayShort:function(){return"Sun"},mondayLetter:function(){return"M"},tuesdayLetter:function(){return"T"},wednesdayLetter:function(){return"W"},thursdayLetter:function(){return"T"},fridayLetter:function(){return"F"},saturdayLetter:function(){return"S"},sundayLetter:function(){return"S"}},MONTHS:{january:function(){return"January"},february:function(){return"February"},march:function(){return"March"},april:function(){return"April"},may:function(){return"May"},june:function(){return"June"},july:function(){return"July"},august:function(){return"August"},september:function(){return"September"},october:function(){return"October"},november:function(){return"November"},december:function(){return"December"},januaryShort:function(){return"Jan"},februaryShort:function(){return"Feb"},marchShort:function(){return"Mar"},aprilShort:function(){return"Apr"},mayShort:function(){return"May"},juneShort:function(){return"Jun"},julyShort:function(){return"Jul"},augustShort:function(){return"Aug"},septemberShort:function(){return"Sep"},octoberShort:function(){return"Oct"},novemberShort:function(){return"Nov"},decemberShort:function(){return"Dec"}},AGENT_ASSIST:{suggestions_tab:function(){return"Suggestions"},kb_tab:function(){return"Knowledge Base"}},INTERACTIONS:{interaction_details:function(){return"Interaction Details"},quick_add:function(){return"Quick Add"},new_contact:function(){return"New Contact"},add_to_existing:function(){return"Add to Existing"},call:function(){return"Call"},message:function(){return"Message"},email:function(){return"Email"},end:function(){return"End"},end_interaction:function(){return"End Interaction"},end_conference:function(){return"End Conference"},conference:function(e){return"Conference ({0})"},disconnect:function(){return"Disconnect"},count_members:function(e){return"{0} Members"},self_item_name:function(){return"(you)"},no_new_interactions:function(){return"No New Interactions Yet"},next_message_interaction_show:function(){return"The next message interaction will show up here"},acl_after_call_work_label:function(){return"After Call Work"}},AUDIO_PLAYER:{play:function(){return"Play"},pause:function(){return"Pause"},download:function(){return"Download"},open_volume_controls:function(){return"Open Volume Controls"},close_volume_controls:function(){return"Close Volume Controls"},time_slider:function(){return"Time Slider"},volume_slider:function(){return"Volume Slider"}},WALLBOARD:{topbar_tooltip_btn:function(){return"Wallboard"},select_teams:function(){return"Select Teams"},menu_new:function(){return"New"},menu_edit:function(){return"Edit"},menu_duplicate:function(){return"Duplicate"},menu_export:function(){return"Export"},menu_import:function(){return"Import"},menu_push_to_global:function(){return"Push to Global"},menu_pull_from_global:function(){return"Pull from Global"},menu_rotation:function(){return"Rotation"},menu_hide_title_bar:function(){return"Hide title bar"},menu_show_title_bar:function(){return"Show title bar"},menu_user_widgets:function(){return"User widgets"},wallboard_select_personal:function(){return"Personal Wallboards"},wallboard_select_global:function(){return"Global Wallboards"},pull_from_global_modal_title:function(){return"Wallboard will not be available for other Users after Pull. Duplicate instead?"},pull:function(){return"Pull"},duplicate:function(){return"Duplicate"},cancel:function(){return"Cancel"},delete:function(){return"Delete"},confirm_delete_title:function(e){return"Delete {0}?"},menu_logout:function(){return"Logout"},new_wallboard:function(){return"New Wallboard"},new_widget:function(){return"New Widget"},new_wallboard_type:function(){return"Type:"},rotation_setting:function(){return"Rotation Setting"},rotation_enabled:function(){return"Enabled:"},rotation_wallboards:function(){return"Wallboards:"},rotation_interval:function(){return"Interval(sec):"},agent_select_title:function(){return"Select agent"},agent_select_label:function(){return"Agent"},logged_in_user:function(){return"Logged in User"},no_data:function(){return"No data"},no_available:function(){return"N/A"}},WALLBOARD_AGENT_STATES:{busy:function(){return"Busy"},ready:function(){return"Ready"},after_call_work:function(){return"After Call Work"},not_ready:function(){return"NR"}},WALLBOARD_BREAK_TIME_WIDGET:{name:function(e){return"Break Time: {0}"},minutes_label:function(e,t){return"{0} mins {1}"},remaining:function(){return"Remaining"},used:function(){return"Used"}},WALLBOARD_AGENDA_WIDGET:{name:function(e){return"Agenda: {0}"}},WALLBOARD_SATISFACTION_WIDGET:{name:function(e){return"Satisfaction: {0}"},percent_label:function(e){return"{0}%"}},WALLBOARD_SINGLE_OR_GAUGE_WIDGET:{name_single:function(){return"Single Statistic"},name_gauge:function(){return"Gauge"},mode:function(){return"Mode"},title:function(){return"Title"},primary_statistic:function(){return"Primary Statistic"},secondary_statistic:function(){return"Secondary Statistic"},warning_threshold:function(){return"warning threshold"},alert_threshold:function(){return"alert threshold"},max_threshold:function(){return"max threshold"},enable_warning_sound:function(){return"enable warning sound"},services:function(){return"services"}},WALLBOARD_SERVICES_MODAL:{title:function(){return"Select Services"}},WALLBOARD_TEAMS_MODAL:{title:function(){return"Select Teams"}},WALLBOARD_STATES_MODAL:{title:function(){return"Select Agents by State"},states_header:function(){return"States"},limits_header:function(){return"Limit to"},state_busy:function(){return"Busy"},state_ready:function(){return"Ready"},state_after_call_work:function(){return"After Call Work"},state_not_ready:function(){return"Not Ready"},limit_my_subteam:function(){return"My Subteam Only"},limit_logged_in:function(){return"Logged in Agents Only"}},WALLBOARD_WIDGET_IMAGE:{name:function(){return"Image"},select_image:function(){return"Select image"},image:function(){return"Image"},style:function(){return"Style"},style_contain:function(){return"Contain"},style_cover:function(){return"Cover"}},WALLBOARD_STATS_SINGLE:{agent_cm1_name:function(){return"Custom Survey Metric 1"},agent_cm2_name:function(){return"Custom Survey Metric 2"},agent_csat_name:function(){return"Customer Satisfaction"},agent_fcr_name:function(){return"First Call Resolution"},agent_nps_name:function(){return"Net Promoter Score"},agent_average_idle_time_name:function(){return"Average idle time of matching agents"},agent_average_preview_time_name:function(){return"Average preview time of matching agents"},agent_occupancy_name:function(){return"Occupancy of matching agents"},agents_busy_name:function(){return"Matching agents busy"},agents_busy_on_service_name:function(){return"Agents busy with this service"},agents_logged_name:function(){return"Matching agents logged-in"},agents_not_ready_name:function(){return"Matching agents not ready"},agents_ready_name:function(){return"Matching agents ready"},agents_in_wrap_up_name:function(){return"Agents in ACW state"},calls_average_handling_time_per_day_name:function(){return"Average handle time"},calls_dispositions_per_day_name:function(){return"Count of selected dispositions"},calls_dispositions_ratio_per_day_name:function(){return"Selected Dispositions Percentage"},in_calls_received_per_day_name:function(){return"Inbound received"},in_calls_ringing_name:function(){return"Inbound ringing on agents now"},in_average_speed_of_answer_name:function(){return"Average speed of answer/reply"},in_callbacks_requested_per_day_name:function(){return"Callbacks requested"},in_callbacks_waiting_name:function(){return"Callbacks in queue now"},in_calls_abandoned_in_ivr_per_day_name:function(){return"Inbound abandoned in IVR"},in_calls_abandoned_in_queue_per_day_name:function(){return"Inbound abandoned in queue"},in_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound abandoned in queue %"},in_calls_abandoned_percent_per_day_name:function(){return"Inbound abandoned %"},in_calls_abandoned_ringing_per_day_name:function(){return"Inbound abandoned while ringing"},in_calls_abandoned_total_per_day_name:function(){return"Inbound abandoned"},in_calls_active_on_agents_name:function(){return"Inbound handled by agents now"},in_calls_disconnected_talking_per_day_name:function(){return"Inbound released by callers"},in_calls_dropped_in_ivr_per_day_name:function(){return"Inbound dropped by system in IVR"},in_calls_dropped_in_queue_per_day_name:function(){return"Inbound dropped by system in queue"},in_calls_dropped_ringing_per_day_name:function(){return"Inbound dropped by system while ringing"},in_calls_dropped_talking_per_day_name:function(){return"Inbound released by agents"},in_calls_duration_average_per_day_name:function(){return"Inbound duration average"},in_calls_duration_total_per_day_name:function(){return"Inbound duration total"},in_calls_first_time_handled_per_day_name:function(){return"Inbound handled unique"},in_calls_first_time_queued_per_day_name:function(){return"Inbound queued unique"},in_calls_handled_per_day_name:function(){return"Inbound handled by agents"},in_calls_handled_percent_per_day_name:function(){return"Inbound handled by agents %"},in_calls_in_ivr_name:function(){return"Inbound in IVR now"},in_calls_in_progress_name:function(){return"Inbound in IVR, queue or on agents now"},in_calls_first_time_put_on_hold_per_day_name:function(){return"Inbound held, non-transferred"},in_calls_queued_per_day_name:function(){return"Inbound queued"},in_calls_put_on_hold_per_day_name:function(){return"Inbound held"},in_calls_rejected_per_day_name:function(){return"Inbound rejected or missed by agents"},in_calls_routed_per_day_name:function(){return"Inbound routed to agents"},in_calls_self_serviced_per_day_name:function(){return"Inbound self serviced"},in_calls_short_abandoned_in_queue_per_day_name:function(){return"Inbound short-abandoned in queue"},in_calls_short_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound short-abandoned in queue %"},in_calls_transferred_per_day_name:function(){return"Inbound transferred away"},in_email_carried_over_name:function(){return"Inbound emails carried over"},in_email_handled_new_per_day_name:function(){return"Inbound emails handled"},in_email_processed_noreply_per_day_name:function(){return"Inbound emails dispositioned without reply"},in_email_processed_replied_per_day_name:function(){return"Inbound emails replied"},in_email_received_new_per_day_name:function(){return"Inbound emails that created new cases"},in_email_rejected_per_day_name:function(){return"Inbound emails not accepted"},in_email_waiting_in_personal_queues_name:function(){return"Inbound emails in personal queues now"},in_emails_joined_existing_cases_name:function(){return"Inbound emails for existing queued cases"},in_ewt_name:function(){return"Estimated wait time"},in_max_wait_time_name:function(){return"Inbound longest wait now"},in_service_change_received_per_day_name:function(){return"Number of interactions recategorized from a different service"},in_service_changed_per_day_name:function(){return"Number of interactions recategorized to a different service"},in_transfers_received_per_day_name:function(){return"Inbound received as transfers"},out_calls_abandoned_in_ivr_per_day_name:function(){return"Outbound calls abandoned in IVR"},out_calls_abandoned_in_ivr_ratio_per_day_name:function(){return"Outbound calls abandoned in IVR %"},out_calls_abandoned_in_queue_per_day_name:function(){return"Outbound calls abandoned in queue"},out_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Outbound calls abandoned in queue %"},out_calls_abandoned_per_day_name:function(){return"Outbound calls abandoned"},out_calls_abandoned_ratio_per_day_name:function(){return"Outbound calls abandoned %"},out_calls_abandoned_ringing_per_day_name:function(){return"Outbound calls abandoned while ringing"},out_calls_active_on_agents_name:function(){return"Outbound interactions handled by agents now"},out_calls_answered_per_day_name:function(){return"Outbound calls attempts successful"},out_calls_answered_ratio_per_day_name:function(){return"Outbound calls attempts successful %"},out_calls_current_call_rate_name:function(){return"Outbound calling rate now"},out_calls_disconnected_talking_per_day_name:function(){return"Outbound calls released by remote party"},out_calls_dropped_in_ivr_per_day_name:function(){return"Outbound calls dropped in IVR"},out_calls_dropped_in_queue_per_day_name:function(){return"Outbound calls dropped in queue"},out_calls_dropped_ringing_per_day_name:function(){return"Outbound calls dropped while ringing"},out_calls_dropped_talking_per_day_name:function(){return"Outbound calls released by agent"},out_calls_duration_average_per_day_name:function(){return"Outbound calls duration average"},out_calls_duration_total_per_day_name:function(){return"Outbound calls duration total"},out_calls_failed_per_day_name:function(){return"Outbound calls attemtps failed"},out_calls_handled_per_day_name:function(){return"Outbound interactions handled by agents (email - send non-replies)"},out_calls_in_ivr_name:function(){return"Outbound calls in IVR %"},out_calls_in_progress_name:function(){return"Outbound call attempts in progress now"},out_calls_placed_per_day_name:function(){return"Outbound call attempts"},out_calls_queued_per_day_name:function(){return"Outbound calls queued"},out_calls_rejected_per_day_name:function(){return"Outbound calls rejected or missed by agents"},out_calls_ringing_name:function(){return"Outbound calls ringing on agents now"},out_calls_routed_per_day_name:function(){return"Outbound calls routed to agents"},out_calls_self_serviced_per_day_name:function(){return"Outbound calls self serviced"},out_calls_transferred_per_day_name:function(){return"Outbound calls transferred away"},out_calls_unattended_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance"},out_calls_unattended_ratio_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance %"},out_calls_waiting_name:function(){return"Outbound calls in queue now"},out_campaign_duration_forecast_name:function(){return"Estimated campaign duration"},records_accepted_per_day_name:function(){return"Records previews"},records_attempted_per_day_name:function(){return"Records attempts"},records_attempted_ratio_per_day_name:function(){return"Records attempts %"},records_completed_name:function(){return"Completed records in active lists"},records_completed_per_day_name:function(){return"Records completions"},records_completed_ratio_name:function(){return"Records completed in active lists %"},records_completed_ratio_per_day_name:function(){return"Records completions %"},records_dialable_name:function(){return"Dialable"},records_in_dnc_name:function(){return"Number of records excluded by DNC lists from active Lists"},records_out_of_quota_name:function(){return"Records in quota groups that reached quota limits"},records_remaining_name:function(){return"Remaining records in active lists"},records_skipped_per_day_name:function(){return"Records skips"},records_skipped_ratio_per_day_name:function(){return"Records skips %"},records_total_name:function(){return"Count of records in all active lists"},records_with_assigned_agents_completed_name:function(){return"Completed records with personal agent assignments"},records_with_assigned_agents_remaining_name:function(){return"Remaining records with personal agent assignments"},service_level_name:function(){return"Inbound interactions answered in Service Level % (moving window)"},service_level_target_name:function(){return"Inbound Service Level target"},service_level_threshold_time_name:function(){return"Inbound Service Level threshold"},service_level_per_day_name:function(){return"Inbound interactions answered in Service Level %"},in_calls_waiting_name:function(){return"Inbound in queue now"}},WALLBOARD_STATS_AGENT:{acd_next_state_name:function(){return"Next state"},acd_state_name:function(){return"State"},active_item_direction_name:function(){return"Active item: direction"},active_item_hold_duration_name:function(){return"Active item: hold duration"},active_item_is_flagged_name:function(){return"Active item: flagged"},active_item_media_type_name:function(){return"Active item: media"},active_item_party_name_name:function(){return"Active item: party name"},active_item_qm_monitor_mode_name:function(){return"Active item: monitor mode"},active_item_sentiment_name:function(){return"Active item: sentiment"},active_item_service_name_name:function(){return"Active item: service"},active_item_state_name:function(){return"Active item: state"},active_item_talk_duration_name:function(){return"Active item: talk duration"},agent_cm1_name:function(){return"Custom Survey Metric 1"},agent_cm2_name:function(){return"Custom Survey Metric 2"},agent_csat_name:function(){return"Customer Satisfaction"},agent_fcr_name:function(){return"First Call Resolution"},agent_nps_name:function(){return"Net Promoter Score"},agent_average_idle_time_name:function(){return"Average idle time"},agent_average_preview_time_name:function(){return"Average preview duration"},agent_calendar_overdue_name:function(){return"Calendar events overdue"},agent_calendar_pending_name:function(){return"Calendar events"},agent_occupancy_name:function(){return"Occupancy"},agent_preview_duration_name:function(){return"Preview duration now"},agent_success_ratio_per_day_name:function(){return"Success rate"},agent_total_break_time_name:function(){return"Break time total"},calls_average_handling_time_per_day_name:function(){return"Average handle time"},calls_dispositions_per_day_name:function(){return"Count of selected dispositions"},calls_dispositions_ratio_per_day_name:function(){return"Selected Dispositions Percentage"},extension_name:function(){return"Extension"},first_last_name_name:function(){return"First Name Last Name"},in_calls_active_on_agents_name:function(){return"Inbound handled by agents now"},in_calls_dropped_talking_per_day_name:function(){return"Inbound released by agent"},in_calls_duration_average_per_day_name:function(){return"Inbound duration average"},in_calls_duration_total_per_day_name:function(){return"Inbound duration total"},in_calls_first_time_put_on_hold_per_day_name:function(){return"Inbound held, non-transferred"},in_calls_handled_per_day_name:function(){return"Inbound handled by agents"},in_calls_put_on_hold_per_day_name:function(){return"Inbound held"},in_calls_rejected_per_day_name:function(){return"Inbound rejected or missed"},in_calls_transferred_per_day_name:function(){return"Inbound transferred away"},in_email_handled_new_per_day_name:function(){return"Inbound emails handled"},in_email_offered_per_day_name:function(){return"Inbound emails offered"},in_email_processed_noreply_per_day_name:function(){return"Inbound emails dispositioned without reply"},in_email_processed_replied_per_day_name:function(){return"Inbound emails replied"},in_email_pulled_per_day_name:function(){return"Inbound emails pulled by agent"},in_email_rejected_per_day_name:function(){return"Inbound emails unanswered"},in_email_waiting_in_personal_queues_name:function(){return"Inbound emails in personal queue now"},in_service_changed_per_day_name:function(){return"Number of interactions recategorized to a different service"},in_transfers_received_per_day_name:function(){return"Inbound transfers received"},last_first_name_name:function(){return"Last Name First Name"},login_time_name:function(){return"Login duration"},next_reason_name:function(){return"Next not ready reason"},out_calls_duration_average_per_day_name:function(){return"Outbound calls duration average"},out_calls_duration_total_per_day_name:function(){return"Outbound calls duration total"},out_calls_handled_per_day_name:function(){return"Outbound interactions handled (email - send non-replies)"},out_calls_rejected_per_day_name:function(){return"Outbound calls rejected or missed by agents"},out_email_waiting_in_personal_queues_name:function(){return"Outbound emails in personal queue"},reason_name:function(){return"Not ready reason"},records_accepted_per_day_name:function(){return"Records previews"},records_skipped_per_day_name:function(){return"Records skips"},records_skipped_ratio_per_day_name:function(){return"Records skips %"},state_duration_name:function(){return"State duration"},team_name_name:function(){return"Team name"},agent_idle_time_name:function(){return"Idle Time"},calls_average_acw_time_per_day_name:function(){return"Avg ACW"}},WALLBOARD_STATS_SERVICE:{agent_cm1_name:function(){return"Custom Survey Metric 1"},agent_cm2_name:function(){return"Custom Survey Metric 2"},agent_csat_name:function(){return"Customer Satisfaction"},agent_fcr_name:function(){return"First Call Resolution"},agent_nps_name:function(){return"Net Promoter Score"},agent_average_idle_time_name:function(){return"Average idle time of matching agents"},agent_average_preview_time_name:function(){return"Average preview time of matching agents"},agent_occupancy_name:function(){return"Occupancy of matching agents"},agents_busy_name:function(){return"Matching agents busy"},agents_busy_on_service_name:function(){return"Agents busy with this service"},agents_logged_name:function(){return"Matching agents logged-in"},agents_not_ready_name:function(){return"Matching agents not ready"},agents_ready_name:function(){return"Matching agents ready"},agents_in_wrap_up_name:function(){return"Agents in ACW state"},calls_average_handling_time_per_day_name:function(){return"Average handle time"},calls_dispositions_per_day_name:function(){return"Count of selected dispositions"},calls_dispositions_ratio_per_day_name:function(){return"Selected Dispositions Percentage"},in_average_speed_of_answer_name:function(){return"Average speed of answer/reply"},in_calls_first_time_put_on_hold_per_day_name:function(){return"Inbound held, non-transferred"},in_callbacks_requested_per_day_name:function(){return"Callbacks requested"},in_callbacks_waiting_name:function(){return"Callbacks in queue now"},in_calls_abandoned_in_ivr_per_day_name:function(){return"Inbound abandoned in IVR"},in_calls_abandoned_in_queue_per_day_name:function(){return"Inbound abandoned in queue"},in_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound abandoned in queue %"},in_calls_abandoned_percent_per_day_name:function(){return"Inbound abandoned %"},in_calls_abandoned_ringing_per_day_name:function(){return"Inbound abandoned while ringing"},in_calls_abandoned_total_per_day_name:function(){return"Inbound abandoned"},in_calls_active_on_agents_name:function(){return"Inbound handled by agents now"},in_calls_disconnected_talking_per_day_name:function(){return"Inbound released by callers"},in_calls_dropped_in_ivr_per_day_name:function(){return"Inbound dropped by system in IVR"},in_calls_dropped_in_queue_per_day_name:function(){return"Inbound dropped by system in queue"},in_calls_dropped_ringing_per_day_name:function(){return"Inbound dropped by system while ringing"},in_calls_dropped_talking_per_day_name:function(){return"Inbound released by agents"},in_calls_duration_average_per_day_name:function(){return"Inbound duration average"},in_calls_duration_total_per_day_name:function(){return"Inbound duration total"},in_calls_first_time_handled_per_day_name:function(){return"Inbound handled unique"},in_calls_first_time_queued_per_day_name:function(){return"Inbound queued unique"},in_calls_handled_per_day_name:function(){return"Inbound handled by agents"},in_calls_handled_percent_per_day_name:function(){return"Inbound handled by agents %"},in_calls_in_ivr_name:function(){return"Inbound in IVR now"},in_calls_in_progress_name:function(){return"Inbound in IVR, queue or on agents now"},in_calls_put_on_hold_per_day_name:function(){return"Inbound held"},in_calls_queued_per_day_name:function(){return"Inbound queued"},in_calls_received_per_day_name:function(){return"Inbound received"},in_calls_rejected_per_day_name:function(){return"Inbound rejected or missed by agents"},in_calls_ringing_name:function(){return"Inbound ringing on agents now"},in_calls_routed_per_day_name:function(){return"Inbound routed to agents"},in_calls_self_serviced_per_day_name:function(){return"Inbound self serviced"},in_calls_short_abandoned_in_queue_per_day_name:function(){return"Inbound short-abandoned in queue"},in_calls_short_abandoned_in_queue_ratio_per_day_name:function(){return"Inbound short-abandoned in queue %"},in_calls_transferred_per_day_name:function(){return"Inbound transferred away"},in_calls_waiting_name:function(){return"Inbound in queue now"},in_email_carried_over_name:function(){return"Inbound emails carried over"},in_email_carried_over_new_name:function(){return"Inbound emails carried over from previous day"},in_email_handled_new_per_day_name:function(){return"Inbound emails handled"},in_email_processed_noreply_per_day_name:function(){return"Inbound emails dispositioned without reply"},in_email_processed_replied_per_day_name:function(){return"Inbound emails replied"},in_email_received_new_per_day_name:function(){return"Inbound emails that created new cases"},in_email_rejected_per_day_name:function(){return"Inbound emails not accepted"},in_email_waiting_in_personal_queues_name:function(){return"Inbound emails in personal queues now"},in_emails_joined_existing_cases_name:function(){return"Inbound emails for existing queued cases"},in_ewt_name:function(){return"Estimated wait time"},in_max_wait_time_name:function(){return"Inbound longest wait now"},in_service_changed_per_day_name:function(){return"Number of interactions recategorized to a different service"},in_transfers_received_per_day_name:function(){return"Inbound received as transfers"},name_name:function(){return"Service Name"},out_calls_abandoned_in_ivr_per_day_name:function(){return"Outbound calls abandoned in IVR"},out_calls_abandoned_in_ivr_ratio_per_day_name:function(){return"Outbound calls abandoned in IVR %"},out_calls_abandoned_in_queue_per_day_name:function(){return"Outbound calls abandoned in queue"},out_calls_abandoned_in_queue_ratio_per_day_name:function(){return"Outbound calls abandoned in queue %"},out_calls_abandoned_per_day_name:function(){return"Outbound calls abandoned"},out_calls_abandoned_ratio_per_day_name:function(){return"Outbound calls abandoned %"},out_calls_abandoned_ringing_per_day_name:function(){return"Outbound calls abandoned while ringing"},out_calls_active_on_agents_name:function(){return"Outbound interactions handled by agents now"},out_calls_answered_per_day_name:function(){return"Outbound calls attempts successful"},out_calls_answered_ratio_per_day_name:function(){return"Outbound calls attempts successful %"},out_calls_current_call_rate_name:function(){return"Outbound calling rate now"},out_calls_disconnected_talking_per_day_name:function(){return"Outbound calls released by remote party"},out_calls_dropped_in_ivr_per_day_name:function(){return"Outbound calls dropped in IVR"},out_calls_dropped_in_queue_per_day_name:function(){return"Outbound calls dropped in queue"},out_calls_dropped_ringing_per_day_name:function(){return"Outbound calls dropped while ringing"},out_calls_dropped_talking_per_day_name:function(){return"Outbound calls released by agent"},out_calls_duration_average_per_day_name:function(){return"Outbound calls duration average"},out_calls_duration_total_per_day_name:function(){return"Outbound calls duration total"},out_calls_failed_per_day_name:function(){return"Outbound calls attemtps failed"},out_calls_handled_per_day_name:function(){return"Outbound interactions handled by agents (email - send non-replies)"},out_calls_in_ivr_name:function(){return"Outbound calls in IVR %"},out_calls_in_progress_name:function(){return"Outbound call attempts in progress now"},out_calls_placed_per_day_name:function(){return"Outbound call attempts"},out_calls_queued_per_day_name:function(){return"Outbound calls queued"},out_calls_rejected_per_day_name:function(){return"Outbound calls rejected or missed by agents"},out_calls_ringing_name:function(){return"Outbound calls ringing on agents now"},out_calls_routed_per_day_name:function(){return"Outbound calls routed to agents"},out_calls_self_serviced_per_day_name:function(){return"Outbound calls self serviced"},out_calls_transferred_per_day_name:function(){return"Outbound calls transferred away"},out_calls_unattended_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance"},out_calls_unattended_ratio_per_day_name:function(){return"Outbound calls answered, out of connection speed compliance %"},out_calls_waiting_name:function(){return"Outbound calls in queue now"},out_campaign_duration_forecast_name:function(){return"Estimated campaign duration"},records_accepted_per_day_name:function(){return"Records previews"},records_attempted_per_day_name:function(){return"Records attempts"},records_attempted_ratio_per_day_name:function(){return"Records attempts %"},records_completed_name:function(){return"Completed records in active lists"},records_completed_per_day_name:function(){return"Records completions"},records_completed_ratio_name:function(){return"Records completed in active lists %"},records_completed_ratio_per_day_name:function(){return"Records completions %"},records_dialable_name:function(){return"Dialable"},records_in_dnc_name:function(){return"Number of records excluded by DNC lists from active Lists"},records_out_of_quota_name:function(){return"Records in quota groups that reached quota limits"},records_remaining_name:function(){return"Remaining records in active lists"},records_skipped_per_day_name:function(){return"Records skips"},records_skipped_ratio_per_day_name:function(){return"Records skips %"},records_total_name:function(){return"Count of records in all active lists"},records_with_assigned_agents_completed_name:function(){return"Completed records with personal agent assignments"},records_with_assigned_agents_remaining_name:function(){return"Remaining records with personal agent assignments"},service_level_name:function(){return"Inbound interactions answered in Service Level % (moving window)"},service_level_target_name:function(){return"Inbound Service Level target"},service_level_threshold_time_name:function(){return"Inbound Service Level threshold"},service_level_per_day_name:function(){return"Inbound interactions answered in Service Level %"},calls_average_acw_time_per_day_name:function(){return"Avg ACW"}},WALLBOARD_STATS_TIME_SERIES_SERVICES:{in_calls_waiting:function(){return"Inbound in queue now"},in_calls_in_progress:function(){return"Inbound in IVR, queue or on agents now"},service_level:function(){return"Inbound interactions answered in Service Level % (moving window)"},in_calls_in_ivr:function(){return"Inbound in IVR now"},in_calls_received_per_day:function(){return"Inbound received"},in_calls_abandoned_total_per_day:function(){return"Inbound abandoned"}},WALLBOARD_STATS_TIME_SERIES_TEAMS:{agents_busy:function(){return"Matching agents busy"},agents_logged:function(){return"Matching agents logged-in"},agents_ready:function(){return"Matching agents ready"},agents_not_ready:function(){return"Matching agents not ready"},agent_occupancy:function(){return"Occupancy of matching agents"}},WALLBOARD_STATS_CUSTOM:{handled:function(){return"Handled"},average_handling_time:function(){return"Average Handling Time"},successful_interaction:function(){return"Successful Interactions"}},WALLBOARD_DISPOSITION_WIDGET:{name:function(e){return"Dispositions: {0}"},count:function(){return"Count"}},WALLBOARD_MY_STATS_WIDGET:{name:function(e){return"My Stats vs My Team's: {0}"},handled:function(){return"Handled"},average_handling_time:function(){return"Average Handling Time"},successful_interactions:function(){return"Successful Interactions"},my_stats:function(){return"My Stats"},teams_stats:function(){return"Team's Stats"}},WALLBOARD_WIDGETS_GRIDS:{name:function(){return"Grid"},agent_grid:function(){return"Agent Grid"},service_grid:function(){return"Service Grid"},column_headings:function(){return"Column Headings"},max_to_show:function(){return"Max items to show"},teams:function(){return"Select Teams"},services:function(){return"Select Services"},states:function(){return"Select States"},state_busy:function(){return"Busy"},state_ready:function(){return"Ready"},state_after_call_work:function(){return"ACW"},state_not_ready:function(){return"Not Ready"},state_default:function(){return"Logged Out"},add_column:function(){return"Add Column"}},WALLBOARD_WIDGET_TIME_SERIES:{name:function(){return"Time Series"},series_type:function(){return"Series type"},teams:function(){return"Teams"},services:function(){return"Services"},statistics:function(){return"Statistics"},time_range:function(){return"Time range"},show_x_grid:function(){return"Show X grid lines"},show_y_grid:function(){return"Show Y grid lines"},mins_5:function(){return"5 minutes"},mins_15:function(){return"15 minutes"},hours_1:function(){return"1 hour"},hours_3:function(){return"3 hours"},hours_6:function(){return"6 hours"},hours_12:function(){return"12 hours"},hours_24:function(){return"24 hours"},days_2:function(){return"2 days"},days_7:function(){return"7 days"}},WALLBOARD_WIDGET_TEXT:{name:function(){return"Text"},title:function(){return"Title"},text:function(){return"Text"}},WALLBOARD_WIDGET_NEWS:{name:function(){return"News"},title:function(){return"Title"},newsCount:function(){return"Number of messages"}},WALLBOARD_WIDGET_EMPTY:{name:function(){return"Select widget"},standardWidgets:function(){return"Standard Widgets"},userWidgets:function(){return"User Widgets"},timeSeriesWidgets:function(){return"Time Series Widgets"},copyFromExisting:function(){return"Copy From Existing"},single:function(){return"Single Statistic"},agent_grid:function(){return"Agent Grid"},service_grid:function(){return"Service Grid"},news:function(){return"News"},summary:function(){return"Agent State Summary"},gauge:function(){return"Gauge"},text:function(){return"Text"},datetime:function(){return"Time"},image:function(){return"Image"},time_series:function(){return"Time Series"},copy_from_other:function(){return"Copy from other wallboard"},break_time:function(){return"Break Time"},dispositions:function(){return"Dispositions"},my_stats:function(){return"My Stats"},satisfaction:function(){return"Satisfaction"},agenda:function(){return"Agenda"},confirm_delete_widget:function(e){return"Are you sure you want to delete the {0} widget?"}},WALLBOARD_WIDGET_SUMMARY:{title_label:function(){return"Title"},teams_label:function(){return"Show only"},selected_teams:function(){return"Selected teams"},default_name:function(){return"Agent State Summary"}},PLAY_CANNED_PROMPTS_DIALOG_BOX:{canned_prompts:function(){return"Canned prompts from service"},custom_prompts:function(){return"Personal prerecorded messages"}},AGENT_STATE_CONTROL:{acd_nr_short:function(){return"NR"},aria_current_state:function(){return"Your current state"},state:function(){return"State"},next_state:function(){return"Next state"},aria_state_button:function(){return"Agent state"},aria_timer:function(){return"The time spent in the current state"},call_in_queue:function(){return"A call in the queue is waiting"},current_state:function(e){return"Current: {0}"},next:function(e){return"Next: {0}"},logged_out:function(){return"Logged out"},acd_busy_call:function(){return"Busy: Call"},acd_busy_chat:function(){return"Busy: Chat"},acd_busy_email:function(){return"Busy: Email"}},RECENT:{button_show_crm_objects_text:function(){return"Show linked CRM objects"},button_show_crm_objects_text_short:function(){return"CRM"},no_recent_interactions_found:function(){return"No recent interactions found"},no_recent_interactions_found_for:function(e){return"No recent interactions found for {0}"},blue_placeholder_text:function(){return"Blue placeholder text"},simple_placeholder_text:function(){return"Simple placeholder text"},search_field_placeholder:function(){return"Search Recents"},conference_title_text:function(){return"Conference"},conference_call_details_description_text:function(e){return"Conference Call from {0}"},conference_chat_details_description_text:function(e){return"Conference Chat from {0}"},conference_details_input_placeholder:function(){return"Dial Number"}},DIRECTORY:{waiting:function(e){return"Waiting: {0}"},max_wait:function(e){return"Max Wait: {0}"},ewt:function(e){return"Estimated wait time: {0}"},svc_level:function(e){return"Svc Level: {0}%"},ready:function(e){return"Ready: {0}"},logged_in:function(e){return"Logged In: {0}"},too_many_results_found:function(){return"Too many results found, please refine your search."},external_contacts:function(){return"External Contacts"},search_placeholder:function(){return"Search in directory"},search_field_placeholder:function(){return"Search Directory"},no_results_internal:function(){return"No internal contacts found"},no_results_external:function(){return"No external contacts found"},no_results_internal_for_query:function(e){return'No internal contacts found for "{0}"'},no_results_external_for_query:function(e){return'No external contacts found for "{0}"'},no_results_for_query:function(e){return'No contacts found for "{0}"'},phones_registered:function(e){return"Phones: {0}"}},CONFERENCE:{party_mobile_phone:function(e){return"mobile: {0}"},party_extension:function(e){return"ext.: {0}"}},WINDOW_POPUP_TITLES_AND_MESSAGES:{button_save:function(){return"Save"}},USER_PROFILE:{forwarding_none:function(){return"None"},label_voicemail_text:function(){return"Use the following greeting for voicemail:"},label_voicemail_active_text:function(){return"Active"},label_voicemail_not_set_text:function(){return"Not set"},label_voicemail_other_text:function(){return"Other"},label_voicemail_timeout:function(){return"Send to voicemail after:"},button_voicemail_set_active_tooltip:function(){return"Make Active"},button_voicemail_add_new_greeting_tooltip:function(){return"Add Greeting"},button_voicemail_remove_from_active_tooltip:function(){return"Remove from Active"},button_change_avatar_text:function(){return"Change"},button_change_avatar_tooltip:function(){return"Change user avatar"},tab_name_heading:function(){return"Name"},tab_forwarding_and_voicemail_heading:function(){return"Forwarding and Voicemail"},location_tz_not_selected:function(){return"Not Selected"},form_location_language_label:function(){return"Language"},location_not_selected:function(){return"System default"},sidebar_profile_link:function(){return"See profile"},sidebar_ext:function(e){return"ext: {0}"},form_integrations_loading_tooltip:function(){return"Loading..."},form_integrations_bad_config_tooltip:function(){return"Integration not configured properly"},voicemail_reached_max_amount:function(){return"You have reached the maximum allowed number of greetings."},error_recording_no_title:function(){return"Please enter a name"},error_recording_no_audio:function(){return"Record voice or upload a voice file"},error_recording_max_file_size:function(){return"The size of the file is too big. (max 25Mb)"},error_empty_first_name:function(){return"First name is required"},error_empty_last_name:function(){return"Last name is required"},error_empty_email:function(){return"Email should not be empty"},error_invalid_email:function(){return"Email should be correct"},error_call_forwarding_empty_destination:function(){return"Forwarding destination is required"},error_call_forwarding_empty_timeout:function(){return"Forwarding timeout is required"},error_voicemail_empty_timeout:function(){return"Voicemail timeout is required"},error_email_already_used:function(){return"Email should be unique"},error_email_check_failed:function(){return"Error checking email uniqueness"}},FAVORITES:{contact_added_to_favorites:function(){return"Contact added to favorites"},contact_removed_from_favorites:function(){return"Contact removed from favorites"},create_favorite_item:function(){return"Create Favorite Item"},edit_favorite_heading:function(){return"Edit Favorite"},delete_favorite_tooltip:function(){return"Delete Favorite"},modify_favorite_heading:function(){return"Modify Favorite"},create_new_contact:function(){return"Create new contact"},add_to_existing_contact:function(){return"Add to existing contact"},favorite_item_exists:function(e,t){return"Item {0}: {1} already exists"},favorites_limit_reached_error:function(){return"You couldn't add more contacts to Favorites, limit reached"}},CANNED_RESPONSES:{item_actions:function(){return"Item actions"},insert:function(){return"Insert"},button_add_response_text:function(){return"Add response"},for_all_agents:function(){return"For all agents"},new_response:function(){return"New Response"},new_folder:function(){return"New Folder"},response_label:function(){return"Message content"},folder_label:function(){return"Folder name"}},KNOWLEDGE_BASE:{actions:function(){return"Actions"},all_articles_number:function(e){return"All Articles ({0})"},all_items_number:function(e){return"All Items ({0})"},any_lang_label:function(){return"Any Language"},aria_article_cancel_label:function(){return"Discard changes and close panel"},aria_article_delete_label:function(){return"Delete article"},aria_article_save_label:function(){return"Save article"},article_characters:function(e){return"Characters: {0}"},article_create_title:function(){return"Create new article"},article_deleting_blocked_text:function(){return"Cannot delete the article because it is currently open for editing"},article_deleting_blocked_title:function(){return"Deleting is not allowed"},article_editing_blocked_text:function(){return"Only one article can be opened for editing at a time."},article_editing_blocked_title:function(){return"Another article is editing"},article_is_not_found:function(){return"Knowledge article is not found. It might have been moved, renamed, or deleted."},article_moving_locked_by_other_kb:function(){return"Article moving is not allowed because the article has been edited in other Knowledge Base window"},article_saving_error_text:function(){return"Article saving was not successful. Please try again later."},article_saving_error_title:function(){return"Saving error"},article_search_no_results_label:function(){return"No results found"},article_search_no_results_scope_label:function(e){return'No results found in the scope "{0}"'},article_size:function(e){return"Size: {0}"},article_usage_count:function(e){return"Usage count: {0}"},articles_list_error_text:function(){return"Error loading articles list"},back_btn_tooltip:function(){return"Back"},button_cancel_text:function(){return"Cancel"},button_delete_text:function(){return"Delete"},button_deleting_text:function(){return"Deleting..."},button_move:function(){return"Move"},button_move_in_progress_text:function(){return"Moving..."},button_ok_text:function(){return"Ok"},button_replace_text:function(){return"Replace"},button_save_and_close_text:function(){return"Save and Close"},button_save_text:function(){return"Save"},button_toggle_split_pane_mode_off_tooltip:function(){return"Toggle split pane mode off"},button_toggle_split_pane_mode_on_tooltip:function(){return"Toggle split pane mode on"},checkbox_export_all_articles:function(){return"Export all articles"},checkbox_export_selected_articles:function(){return"Export selected articles only"},clear_selection:function(){return"Clear Selection"},close_button_text:function(){return"Close"},close_tab_text:function(){return"Close tab"},color:function(){return"Color"},content_inserted:function(){return"Content inserted"},content_type:function(){return"Content type"},content_type_crm:function(){return"CRM Articles"},content_type_internal:function(){return"Internal Articles"},content_type_internal_and_crm:function(){return"Internal and CRM Articles"},copy_link:function(){return"Copy Link"},copy_to_clipboard:function(){return"Copy to clipboard"},create_article_in_folder:function(){return"Create Article in Folder"},create_subfolder:function(){return"Create Subfolder"},crm_msdynamics365_folder_title:function(){return"MS Dynamics 365 Articles"},crm_servicenow_folder_title:function(){return"ServiceNow Articles"},crm_unknown_folder_title:function(){return"External Articles"},custom_service:function(e){return"Custom Service - {0}"},default_article_font:function(){return"Default Article Font"},default_for_services:function(){return"Default article for services"},default_sorting_order:function(){return"Default Sorting Order"},default_sorting_order_alphabetical:function(){return"Alphabetical"},default_sorting_order_by_usage:function(){return"By Usage"},default_sorting_order_manually:function(){return"Manually Arranged"},delete:function(){return"Delete"},delete_error_text:function(){return"A deleting error occurred. Please try again later."},delete_error_title:function(){return"Deleting error"},delete_modal_article_body:function(e){return'Are you sure you want to delete article "{0}"?'},delete_modal_article_title:function(){return"Delete Article"},delete_modal_batch_body:function(){return"Are you sure you want to delete selected items?"},delete_modal_batch_title:function(){return"Delete selected items"},delete_modal_cancel:function(){return"Cancel"},delete_modal_folder_body:function(e){return'Are you sure you want to delete folder "{0}"?'},delete_modal_folder_title:function(){return"Delete Folder"},delete_modal_ok:function(){return"Delete"},delete_modal_selected_items_text:function(e){return"{0} item(s) will be moved to the Recycle. Delete item(s)?"},deleted_toast_article:function(e){return'Article "{0}" has been deleted'},deleted_toast_folder:function(e){return'Folder "{0}" has been deleted'},deleted_toast_items:function(){return"Selected items have been deleted"},discard_editing_mode_exit:function(){return"Exit"},discard_editing_mode_text:function(){return"You have unsaved changes. Exit edit mode?"},discard_editing_mode_title:function(){return"Exit editing"},edit:function(){return"Edit"},edit_article:function(){return"Edit Article"},edit_article_button_tooltip:function(){return"Article editing options"},edit_folder:function(){return"Edit Folder"},edit_folder_button_tooltip:function(){return"Folder editing options"},edit_mode_tooltip:function(){return"Edit Mode"},enable_kb:function(){return"Enable Knowledge Base"},enable_sorting_order_change:function(){return"Enable Sorting Order Change"},error_field_required:function(){return"Field is required"},export_articles:function(){return"Export Articles"},export_btn_text:function(){return"Export"},export_error_text:function(){return"Export was not successful. Please try again later."},export_error_title:function(){return"Exporting error"},exported_toast:function(){return"Articles have been exported"},exporting_btn_text:function(){return"Exporting..."},field_article_name:function(){return"Article Name"},field_language:function(){return"Language"},field_language_not_selected:function(){return"Not selected"},folder_content_heading:function(){return"Folder content"},folder_deleting_blocked_text:function(){return"Folder deleting is not allowed because a descendant article has been edited"},folder_deleting_blocked_title:function(){return"Deleting is not allowed"},folder_loading_error:function(){return"Error loading folder content"},folder_moving_locked:function(){return"Folder moving is not allowed because a descendant article has been edited in other Knowledge Base window"},home_tab_name:function(){return"Home"},import_articles:function(){return"Import Articles"},import_report_download_csv:function(){return"Result CSV"},import_report_skipped:function(e){return"Articles skipped: {0}"},import_report_skipped_duplicate:function(){return"Duplicate article titles"},import_report_skipped_format:function(){return"Format errors"},import_report_skipped_kb_limit:function(){return"KB size limit exceeded"},import_report_skipped_limit:function(){return"Article size limit exceeded"},import_report_total:function(e,t){return"Articles imported: {0} of {1}"},imported_error_text:function(){return"Import was not successful. Please try again later."},imported_error_title:function(){return"Importing error"},imported_notification_title:function(){return"Your articles have been imported"},importing_modal_text:function(){return"Your articles is currently being imported. Edits are not allowed while this is being processed. Try again later."},importing_modal_title:function(){return"Import in progress"},importing_notification_text:function(){return"This may take some time"},importing_notification_title:function(){return"Your articles are being imported"},info_characters:function(){return"Characters"},info_created_at:function(){return"Created on"},info_created_by:function(){return"Created by"},info_modified_at:function(){return"Last modified on"},info_modified_by:function(){return"Last modified by"},info_size:function(){return"Size"},info_usage_count:function(){return"Usage Count"},info_words:function(){return"Words"},insert_article:function(){return"Insert the article"},insert_selection_to:function(){return"INSERT SELECTION TO"},insert_selection_to_response:function(){return"Insert selection to response"},insert_to_chat_option_label:function(e){return"Chat: {0}"},insert_to_dropdown_text:function(){return"INSERT TO"},insert_to_history_option_label:function(e){return"History contact: {0}"},kb_disabled_text:function(){return"Knowledge Base is not currently enabled in your configuration.\nTo enable Knowledge Base, contact your system administrator."},kb_heading:function(){return"Knowledge Base"},kb_mode_combined_label:function(){return"Combined Knowledge Base"},kb_mode_crm_label:function(){return"CRM Knowledge Base"},kb_mode_internal_label:function(){return"Internal Knowledge Base"},kb_settings:function(){return"Knowledge Base Settings"},kb_settings_disable_warning:function(){return"The Knowledge Base will be disabled for all users of your contact center. You can save or revert the change."},kb_settings_modal_sorting_warning:function(){return"The new sorting order will be applied to Knowledge Base views of all users of your contact center. You can save or revert the change."},label_show_results_only_for_server:function(e){return"Show results only for service: {0}"},label_tab_attachments:function(){return"Attachments"},last_edited_by:function(e){return"Last edited by: {0}"},loading_article_error_text:function(){return"Article loading was not successful. Please try again later."},loading_error_title:function(){return"Loading error"},move_items:function(e){return"Move {0} items"},move_one_parent_items:function(e){return"Move {0} items"},move_single_item:function(e){return'Move "{0}"'},move_to:function(){return"Move To"},move_to_folder:function(e){return'to "{0}"'},move_undone:function(){return"Move undone"},moved_items:function(e,t){return'{0} items have been moved to "{1}"'},moved_one_parent_items:function(e,t,n){return'{0} items has been moved from "{1}" to "{2}"'},moved_single_item:function(e,t,n){return'"{0}" has been moved from "{1}" to "{2}"'},moved_single_item_dnd:function(e){return'"{0}" has been moved'},moving_error_text:function(e){return'Unable to move "{0}"'},moving_error_title:function(){return"Error"},new:function(){return"New"},new_article:function(){return"New Article"},new_folder:function(){return"New Folder"},new_tab_button_tooltip:function(){return"Open In New Tab"},not_selected:function(){return"Not selected"},number_of_results:function(e){return"{0} Results"},open_folder_tooltip:function(){return"Open folder"},pane_article_title:function(){return"Article"},pane_info_title:function(){return"Info"},pane_keywords_title:function(){return"Keywords"},pane_notes_title:function(){return"Usage Notes"},pane_properties_title:function(){return"Properties"},paste_article_error_text:function(){return"An error occurred while inserting the article. Please try again later."},paste_article_error_title:function(){return"Inserting error"},paste_article_tooltip:function(){return"Insert article to chat"},pin_tooltip:function(){return"Pin"},plus_more:function(e){return"+ {0} more"},recommended_articles:function(){return"Recommended Articles"},recycle_bin_button_text:function(e){return"Recycle Bin {0}"},recycle_bin_delete:function(){return"Delete"},recycle_bin_delete_all_header:function(){return"Empty Recycle Bin"},recycle_bin_delete_all_text:function(){return"Are you sure you want to delete all items permanently?"},recycle_bin_delete_one_header:function(){return"Delete item permanently"},recycle_bin_delete_one_text:function(){return"Are you sure you want to delete one item permanently?"},recycle_bin_delete_selected_header:function(){return"Delete selected items permanently"},recycle_bin_delete_selected_text:function(){return"Are you sure you want to delete selected items permanently?"},recycle_bin_deleted_all_toast:function(){return"Recycle bin has been emptied"},recycle_bin_deleted_one_toast:function(){return"Item has been deleted permanently"},recycle_bin_deleted_selected_toast:function(){return"Items have been deleted permanently"},recycle_bin_empty_text:function(){return"Empty Recycle Bin"},recycle_bin_header:function(){return"Recycle Bin"},recycle_bin_no_items_header:function(){return"No items in Recycle Bin"},recycle_bin_no_items_text:function(){return"When deleting items, they will appear here"},recycle_bin_restore:function(){return"Restore"},recycle_bin_restored_error_text:function(){return"An error occurred while restoring"},recycle_bin_restored_error_title:function(){return"Restoring error"},recycle_bin_restored_one:function(){return"Item has been successfully restored"},recycle_bin_restored_selected:function(){return"Selected items have been successfully restored"},recycle_bin_sorting_date:function(){return"Recycled"},recycle_bin_sorting_name:function(){return"Name"},rename:function(){return"Rename"},replace_default_article_title:function(){return"Replace default article"},replace_default_article_text:function(e){return"The {0} service already has a default article. Are you sure you want to replace it?"},restore_btn_text:function(){return"Restore"},revert:function(){return"Revert"},root_folder_name:function(){return"Root Folder"},search_articles:function(){return"Search for Articles"},search_folders:function(){return"Search for Folders"},search_recycle_bin:function(){return"Search Recycle Bin"},search_results_heading:function(){return"Search results"},search_service:function(){return"Search service"},search_tags_all:function(){return"All"},search_tags_body:function(){return"Body"},search_tags_folder:function(){return"Folder"},search_tags_keywords:function(){return"Keywords"},search_tags_service:function(){return"Service"},search_tags_title:function(){return"Title"},search_trash_bin:function(){return"Search Trash Bin"},select_destination_folder:function(){return"Select a destination folder"},select_lang_input_placeholder:function(){return"Select Language"},select_services_modal_available:function(){return"Available services"},select_services_modal_search_placeholder:function(){return"Search"},select_services_modal_selected:function(){return"Selected services"},selected:function(e){return"{0} Selected"},selection_mode:function(){return"Selection mode"},services:function(){return"Services"},size:function(){return"Size"},sort_a_to_z:function(){return"A to Z"},sort_btn_text:function(){return"Sort by"},sort_by_default_order:function(){return"Default Order"},sort_by_relevance:function(){return"Relevance"},sort_by_usage:function(){return"Usage"},sort_dropdown_text:function(){return"SORT BY"},sort_z_to_a:function(){return"Z to A"},tinymce_close_button:function(){return"Close"},tinymce_name:function(){return"Variables"},tinymce_selectbox:function(){return"Insert ($)"},type:function(){return"Type"},undo:function(){return"Undo"},unnamed_article_title:function(){return"Unnamed (draft)"},unpin_tooltip:function(){return"Unpin"},validation_error:function(){return"Validation error"}},ACTIVITY_HISTORY:{button_close_tooltip:function(){return"Close activity history"},button_open_popup_tooltip:function(){return"Open in a pop-up"},heading_user_started_call_on_date:function(e,t,n){return"{0} started a {1} on {2}"},call_message_created_time_aria:function(){return"Created time:"},call_message_duration_aria:function(){return"Duration:"},call_message_incoming_text:function(){return"Incoming"},call_message_incoming_aria_label:function(){return"Incoming call"},call_message_outgoing_text:function(){return"Outgoing"},call_message_outgoing_aria_label:function(){return"Outgoing call"},call_message_missed:function(){return"Missed"},call_message_expand_voice_transcript:function(){return"Expand voice transcript"},call_message_collapse_voice_transcript:function(){return"Collapse voice transcript"},call_message_transcript_confidence_high:function(){return"Transcript confidence level: High"},call_message_transcript_confidence_medium:function(){return"Transcript confidence level: Medium"},call_message_transcript_confidence_low:function(){return"Transcript confidence level: Low"},remote_assist_title:function(){return"Remote assistance"},remote_assist_duration_label:function(){return"Duration:"},remote_assist_private_ip_label:function(){return"Private IP:"},remote_assist_public_ip_label:function(){return"Public IP:"},remote_assist_os_version_label:function(){return"OS version:"},remote_assist_empty_private_ip_display_value:function(){return"Unknown"},remote_assist_empty_public_ip_display_value:function(){return"Unknown"},remote_assist_empty_os_version_display_value:function(){return"Unknown"},agent_notes_title:function(){return"Agent Notes"},disposition_title:function(){return"Disposition"},view_transcript_option:function(){return"View Transcript"},download_transcript_option:function(){return"Download Transcript"},empty_activity_message_title:function(){return"No conversation history"},empty_activity_message_description:function(){return"All messages and calls will show up here."},navigate_to:function(){return"navigated to"},close_transcript_option:function(){return"Close Transcript"}},INTERNAL_CHAT:{message_input_placeholder:function(){return"Write a message"},message_input_placeholder_disabled:function(){return"You can't send messages because you are not a member of the chat"},chat_history_no_recent_while_loading:function(e){return"No recent {0}"},chat_history_search_for_older:function(e){return"Search for older {0}"},chat_history_no_recent_found:function(e){return"No older {0} found"},chat_note_input_placeholder:function(){return"Enter note"},chat_in_popup_message:function(){return"Chat has been pinned to the bottom of the screen"},unpin:function(){return"Unpin"}},MS_TEAMS_CHAT:{unsupported_code_snippet_card:function(){return"Unsupported Code Snippet Card"},unsupported_thumbnail_card:function(){return"Unsupported thumbnail card"},unsupported_hero_card:function(){return"Unsupported hero card"},unsupported_office_365_connector_card:function(){return'Unsupported Office 365 Connector Card"'}},EXTERNAL_CHAT:{unmask:function(){return"Unmask"},mask:function(){return"Mask"},add_emoji:function(){return"Add emoji"},attachment:function(){return"Attachment"},knowledge_base:function(){return"Knowledge Base"},predefined_messages:function(){return"Predefined Messages"},suggestions:function(){return"Suggestions"},send_message_btn_tooltip:function(){return"Send message"},insert_emoji_btn_tooltip:function(){return"Insert emoji"},insert_predefined_message_btn_tooltip:function(){return"Insert predefined message"},voice_transcript_header:function(e){return"{0} - Voice Transcript"},search_transcript:function(){return"Search transcript"},disposition_message_title:function(e,t,n){return"{0} dispositioned chat interaction on {1} at {2}"},disposition_message_service_name:function(){return"Service:"},disposition_message_name:function(){return"Disposition:"},sentiment_positive_tooltip:function(){return"Sentiment: Positive"},sentiment_neutral_tooltip:function(){return"Sentiment: Neutral"},sentiment_negative_tooltip:function(){return"Sentiment: Negative"},chat_attachment_remove_button:function(){return"Remove attachment"},masking_failed_error_message:function(){return"An error occurred while masking the message, please try again later."},invalid_file_extension_error:function(e){return"This message was blocked because its content presents a potential security issue {0}"},external_chat_party_joined_new:function(){return"has joined the session"},external_chat_party_left_new:function(){return"has left the session"},party_joined_chat_2:function(){return"has joined the chat"},party_left_chat_2:function(){return"has left the chat"},party_is_typing:function(){return"typing..."},agent_is_typing:function(e){return"{0} is typing..."},dialog_header_invite_to_group_chat:function(e){return"Invite to group: {0}"},invite_dialog_label:function(){return"Chat conference"},dialog_header_start_internal_chat:function(){return"Start an internal chat"},message_connection_accepted:function(e){return"{0} connection accepted"},button_start_web_call_tooltip:function(){return"Start Web Call"},button_start_video_call_tooltip:function(){return"Start Video Call"},warning_second_web_call_line_1:function(){return"you already have web call in progress,"},warning_second_web_call_line_2:function(){return"which will be dropped if you accept this web call"},warning_have_other_call_line_1:function(){return"you have voice call in progress,"},warning_have_other_call_line_2:function(){return"which will be put on hold if you accept this web call"},display_name_placeholder:function(){return"Anonymous"},download_attachment_button_text:function(){return"Download attachment"},open_fullsize_image_button_text:function(){return"Open fullsize image"},sms_messages_number:function(e){return"{0} messages"},location_message_icon_tooltip:function(){return"Show location"},messenger_unavailable_for_service_tooltip:function(){return"Selected service doesn't support that messenger"},system_message:function(){return"System Message"},file:function(){return"File"},received:function(){return"received"},contact:function(){return"Contact"},url:function(){return"Url"},external_chat_file_sent_new:function(){return"Sent file"},external_chat_party_coaching_new:function(){return"is now coaching"}},VOICE_TRANSCRIPT:{search_results:function(e,t){return"{0} of {1}"},title:function(){return"Call Transcript"},bot_suggestion_btn_tooltip:function(){return"Show Suggestions"},transcript_btn_tooltip:function(){return"Show Speech to Text"},sms_btn_tooltip:function(){return"Show Text Messages"}},VOICE_PROMPTS_DIALOG_BOX:{button_save_changes:function(){return"Save"},template_to_continue_save_part_1:function(){return"To continue,"},template_to_continue_save_part_2:function(){return"save"},template_to_continue_save_part_3:function(){return"or"},template_to_continue_save_part_4:function(){return"cancel"},template_to_continue_save_part_5:function(){return"your changes."}},AUTHORIZATION_DIALOG_LABELS:{label_loading_authorizing:function(){return"Authorizing..."},header_new_agent_desktop:function(){return"New Agent Desktop"},button_show_password:function(){return"Show password"},button_hide_password:function(){return"Hide password"},forced_login_dialog_header:function(){return"Login"},force_login_button_text:function(){return"Force log in"},username_or_email_address:function(){return"Username or Email Address:"},forgot:function(){return"Forgot?"},submit_reset:function(){return"Submit"},forgot_text:function(){return"Password reset instructions will be sent to your registered email address"}},DISPOSITION:{note:function(){return"Note"},write_a_note:function(){return"Write a note..."},select_disposition:function(){return"Select Disposition"},ended:function(){return"Ended"},set_disposition:function(){return"Set disposition"},disposition_set:function(){return"Disposition set"},disposition_not_selected:function(){return"Not Selected"},notes_length_error_text:function(e){return"Notes must be less than {0} characters"},required_disposition_error_text:function(){return"Disposition is required"},reschedule_date_in_past_error_text:function(){return"Reschedule date should not be in the past"},disposition_search_input_hint:function(){return"Search disposition"},resolution_crm_objects_new_label:function(){return"Associated Records"},resolution_crm_objects_empty_label:function(){return"No records to display"},resolution_crm_object_click_tooltip:function(e){return'Show "{0}"'},resolution_crm_objects_label:function(){return"Link to CRM objects"}},CALL_DETAILS_FORM:{interaction_failed:function(){return"Failed"},button_schedule_followup_label:function(){return"Schedule Follow-up"},button_add_case_label:function(){return"Add Case"},button_remote_access_tooltip:function(){return"Remote access"},button_call_problem_report_label:function(){return"Report"},button_initiate_call_tooltip:function(){return"Initiate call"},contact_details_link_tooltip:function(){return"Show contact details"},workitem_auto_dial_message_text:function(e){return"Auto-Dial in {0}s"},workitem_phone_number_call_tooltip:function(){return"Call"},workitem_history_filter_all:function(){return"All"},workitem_history_filter_calls:function(){return"Calls"},workitem_history_filter_messages:function(){return"Messages"}},ACCESSIBILITY:{status_call_muted:function(){return"Call muted"},status_call_unmuted:function(){return"Call unmuted"},status_call_on_hold:function(){return"Call on hold"},status_call_retrieved:function(){return"Call retrieved"},status_call_ended:function(){return"Call ended"},status_chat_message_sent:function(){return"Message sent"},alert_call_item_flagged:function(){return"Call flagged"},alert_call_item_unflagged:function(){return"Call unflagged"},alert_chat_item_flagged:function(){return"Chat flagged"},alert_chat_item_unflagged:function(){return"Chat unflagged"},alert_email_item_flagged:function(){return"Email conversation flagged"},alert_email_item_unflagged:function(){return"Email conversation unflagged"},alert_call_recording_started:function(){return"Recording started"},alert_call_recording_stopped:function(){return"Recording stopped"},country_selector_button_selected:function(e){return"Selected: {0}"},internal_chat_message:function(){return"Internal chat messages"},attachment_button_label:function(){return"Open attachment context menu"},incoming_interaction:function(){return"Incoming interaction"},chat_center_message_type_selector_label:function(){return"Message type selector"},chat_center_message_status_incoming_message:function(){return"Incoming message"},chat_center_message_status_outgoing_message:function(){return"Outgoing message"},chat_center_message_status_announcement:function(){return"Announcement"},chat_center_deleted_message:function(){return"Deleted message"},call_pickup_notification:function(){return"Call pick up notification"},call_pickup_alert_group:function(e,t,n){return"A call for a member of {0} from {1} {2}"},call_pickup_alert_recipient:function(e,t,n){return"A call for {0} from {1} {2}"}},CONTACT:{create_new:function(){return"Create New"},add_to_contact:function(){return"Add to Contact"},select_existing_contact:function(){return"Select Existing Contact"},search_for_contact:function(){return"Search for contact"},phone_number:function(){return"Phone Number"},email:function(){return"Email"},quick_add:function(){return"Quick Add"},contact:function(){return"Contact"},external_contact:function(){return"External Contact"},messages_field_label:function(){return"Messages"},phone_field_label:function(){return"Phone"},type_field_label:function(){return"Type"},description_field_label:function(){return"Description"},email_field_label:function(){return"Email"},internal_messages_field_value:function(){return"Internal chat"},full_name:function(){return"Full Name"},merge_contacts:function(){return"Merge Contacts"},create_contact:function(){return"Create Contact"},create_new_contact_button_text:function(){return"Create new contact"},search_contact_to_merge:function(){return"Search contacts to merge"},merge_form_title:function(){return"Review and confirm merge"},create_and_open_in_crm:function(){return"Create and open in CRM"},open_in_crm:function(){return"Open in CRM"},merge_to_existing:function(){return"Merge to Existing"},button_start_call_text:function(){return"Start a call"},button_initiate_chat_text:function(){return"Initiate chat"},button_send_email_text:function(){return"Send email"},button_show_contact_details_text:function(){return"Show contact details"},label_add_phone:function(){return"Add phone"},label_add_email:function(){return"Add email"},label_add_address:function(){return"Add address"},augment_contact:function(){return"Augment"},add_email_heading:function(){return"Add email to existing contact"},add_phone_heading:function(){return"Add phone number to existing contact"},add_email_description:function(e,t){return"`Add email {0} to {1} record as`"},add_phone_description_1:function(){return"Would you like to add"},add_phone_description_2:function(){return"to"},add_phone_description_3:function(){return"record"},add_phone_description_4:function(){return"as a"},add_phone_description_5:function(){return"phone?"},add_email_description_1:function(){return"Would you like to add"},add_email_description_2:function(){return"to"},add_email_description_3:function(){return"record"},add_email_description_4:function(){return"as a"},add_email_description_5:function(){return"email?"},add_email_confirmation_button:function(){return"Save"},add_phone_confirmation_button:function(){return"Save"},add_phone_phone_type_placeholder:function(){return"Phone type"},add_email_email_type_placeholder:function(){return"Email type"},save_error:function(){return"There was an error while saving the contact"},delete_error:function(){return"There was an error while deleting the contact"},open_error:function(){return"There was an error while opening the contact"},unsaved_warning_message:function(){return"You have unsaved changes that will be lost, do you want to continue?"},unidentified_contact:function(){return"Unidentified contact"},go_back_button_button_tooltip:function(){return"Back"},copied_confirmation_label_text:function(){return"Copied!"},add_entry_button_tooltip:function(){return"Add entry"},remove_entry_button_tooltip:function(){return"Remove entry"},create_new_contact:function(){return"Create new contact"},add_to_existing_contact:function(){return"Add to existing contact"},no_associated_contacts_found:function(){return"No associated contacts found."},channel_favorites_phone_icon_tooltip:function(){return"Dial number"},channel_favorites_chat_icon_tooltip:function(){return"Start chat"}},SEARCH_CONTACT_DIALOG:{active_interactions_section_title:function(){return"Active Interactions"},contacts_section_title:function(){return"Contacts"},no_results:function(){return"No external contacts found"},no_results_for_query:function(e){return'No external contacts found for "{0}"'}},LOGOUT_DIALOG:{body_text:function(){return"Are you sure you want to sign out from your account and close all applications?"},sign_out_text:function(){return"Sign Out"},loggingOff_text:function(){return"Logging off..."},cancel_btn:function(){return"Cancel"}},FORMS:{address_type:function(){return"Address type"},street:function(){return"Street"},address_line_1:function(){return"Address Line 1"},address_line_2:function(){return"Address Line 2"},city:function(){return"City"},state:function(){return"State"},zip:function(){return"Zip"}},DIAL_PAD:{keypad:function(){return"KeyPad"},dialpad:function(){return"Dialpad"},error_empty_number:function(){return"Please, enter the number"},show_controls_label:function(){return"Show controls"},hide_controls_label:function(){return"Hide controls"},delete_last_digit_tooltip:function(){return"Delete last digit"},invalid_number_error_text:function(){return"Enter extension or number valid for the selected country"},error_pause_symbols:function(){return"Number can not start and/or end with pause symbols!"},no_contacts_found_for:function(e){return"No contacts found for {0}"}},ADDRESS_BOOK_AREA:{tab_directory_internal:function(){return"Internal"},tab_directory_external:function(){return"External"},addressBook_calendar:function(){return"Calendar"},addressBook_recents:function(){return"Recents"},addressBook_dial_pad:function(){return"Dial Pad"},addressBook_active_interactions:function(e){return"Active Interactions ({0})"},addressBook_interaction_details:function(){return"Interaction Details"},addressBook_contact_details:function(){return"Contact Details"},addressBook_knowledge_base:function(){return"Knowledge Base"},addressBook_help:function(){return"Help"},addressBook_cases:function(){return"Cases"},contact:function(){return"Contact"},active_interaction:function(){return"Active interaction"}},ERROR_MESSAGES:{rescue_modal_no_tech_console_running:function(){return"Open technician`s app and login there"},rescue_modal_unknown_error:function(){return"Unknown error occurred"},offline_unavailable_functionality:function(){return"Some functionality may be unavailable offline"},unhandled_router_error:function(){return"An error has occurred. Please, reopen or reload the page. "},communicator_msteams_refresh_token_expired_error_message:function(){return"Your Microsoft login into MS Teams integration has expired, re-authorize in Settings -> Enterprise Messaging Accounts."},communicator_msteams_reset_by_admin_message:function(){return"Teams integration was reset by admin, please re-enable Teams in Settings -> Enterprise Messaging Accounts."},error_field_required:function(){return"Field is required"},error_no_username:function(){return"Please enter your username"},error_no_service:function(){return"Select a service in the dropdown menu"},error_no_tenant:function(){return"Tenant is required"},error_no_chat_in_service:function(){return"There is no associated chat with this service, please, select another service"},error_no_channel_in_service:function(){return"No service selected or service is not suitable for this action"},error_no_number:function(){return"This item has no number"},error_self_call:function(){return"You can't call yourself"},insufficient_privileges:function(){return"Your login id is not valid for this application"},device_empty:function(){return"No microphone detected, calls are not possible"},device_detected:function(e){return"Audio device is detected: {0}"},login_no_name:function(){return"You should specify your username"},login_no_password:function(){return"You should specify your password"},login_invalid_user_name:function(){return"The username or password is incorrect"},login_invalid_password:function(){return"The username or password is incorrect"},login_invalid_domain:function(){return"Invalid domain"},login_unknown_error:function(){return"Login failed: Internal Error"},forcedLogout_automatically:function(e){return"You have been automatically logged out at {0}"},no_permissions_did_sms:function(){return"You have no permissions to start SMS chat with a selected DID number"},no_permissions_did_call:function(){return"You have no permissions to start a voice call with a selected DID number"},profile_emi_request_error:function(){return"Unknown error during server request"},profile_emi_abrupt_window_close:function(){return"Authentication window was closed"},profile_emi_auth_protocol_error:function(){return"Internal auth protocol error"},profile_emi_unsuccessful_result:function(){return"Procedure finished unsuccessfully"},error_message_size_limit_exceeded:function(e){return"Message size exceeds limit of {0} characters"},chat_web_rtc_only_1_call_simultaneously:function(){return"Only 1 chat with in-browser call allowed at a time"},chat_web_rtc_invalid_ice_server:function(){return"Unable to connect to WebRTC ICE servers"},chat_web_rtc_answer_timeout:function(){return"Call was not answered"},domain_authentication_error_part1:function(){return"This domain is not authorized to access your screen and microphone, please click "},domain_authentication_error_part2:function(){return" to authorize"},associated_records_not_selected:function(){return"Please make a valid selection"},associated_records_not_selected_extended:function(e){return'Please make a valid selection: "{0}"'},chat_channel_invite_bad_format:function(){return"Incorrect invite format, expected: /invite <messenger>"},chat_channel_invite_unknown_messenger:function(){return"Invite error: unknown messenger"},error_email_format:function(){return"Invalid email address"},error_phone_format:function(){return"Invalid phone format"},error_digits_format:function(){return"Invalid digits format"},microphone_muted:function(){return"Microphone is muted or not working"},low_cpu:function(){return"Low system resources may affect your audio quality. Try closing some applications to improve performance."},activity_history_file_masking_error:function(){return"An error occurred while masking the file, please try again later."},predefined_messages_load_error:function(){return"Didn't manage to load chat responses, please try again."}},MESSENGERS:{unknown_messenger:function(e){return"Unknown messenger: {0}"},whatsapp:function(){return"WhatsApp"}},THRESHOLDS:{disabled_threshold_header:function(){return"Disabled"},restore:function(){return"Restore"},edit:function(){return"Edit"},enable:function(){return"Enable"},disable:function(){return"Disable"}},EMAIL:{find_agents:function(){return"Find agents"},find_agent:function(){return"Find agent"},assign_to:function(){return"Assign to"},download_original:function(){return"Download original"}},HOME_SCREEN:{me:function(e){return"{0} (me)"},add_widget:function(){return"Add Widget"},select_widget:function(){return"Select widget"},combine_widgets:function(){return"Combine Widgets"},select_flipping_widgets:function(){return"Select widgets to be available for flipping"},home_tab:function(){return"Home"},push_to_team:function(){return"Push to Team"},push_to_team_team_name:function(){return"Team Name"},push_to_team_agents:function(){return"Push to Agents"},push_to_team_supervisors:function(){return"Push to Supervisors"},push:function(){return"Push"},interaction_tab_label_resolution:function(){return"Resolution"},interaction_tab_label_all_interactions:function(){return"All Interactions"},interaction_tab_label_transcript:function(){return"Transcript"},interaction_tab_label_calls:function(){return"Calls"},interaction_tab_label_messages:function(){return"Messages"},interaction_tab_label_crm:function(){return"Records"},interaction_tab_workitem_contacts:function(){return"Record Contacts"},interaction_tab_workitem_details:function(){return"Record Details"},interaction_tab_workitem_history:function(){return"History"},interaction_call_conference_label:function(){return"Conference"},interaction_chat_conference_label:function(){return"Conference Chat"},menu_icon_tooltip:function(){return"Menu"},time_frame_today:function(){return"Today"},time_frame_week:function(){return"This Week"},time_frame_month:function(){return"This Month"},time_frame_year:function(){return"This Year"},home_screen_selectTitleAvailable:function(){return"Available"},home_screen_selectTitleIncluded:function(){return"Included"},home_screen_label_timeFrame:function(){return"Time Frame"},home_screen_label_timeFrameFrom:function(){return"From"},home_screen_label_timeFrameTo:function(){return"To"},navigation_non_call_cases:function(){return"Non-Call Cases"},navigation_interaction_search:function(){return"Interaction search"},breaktime_permitted:function(){return"Permitted"},breaktime_exceeded:function(){return"Exceeded"},breaktime_reamaining:function(){return"Remaining"},breaktime_used:function(){return"Used"},breaktime_mins:function(e){return"{0} min"},breaktime_label:function(e,t){return"{0} min {1}"},my_team_dummy_name:function(e){return"Agent {0}"},request_direct_chat_invitation_link_button_tooltip:function(){return"Create direct chat invitation link"},direct_chat_invitation_link_copied_label:function(){return"Copied"},direct_chat_copy_link_safari_notification:function(){return"A direct chat link has been created. Click here to copy it"},max_items_to_show:function(){return"Max Items to Show"},columns_headings:function(){return"Columns headings"},add_statistic:function(){return"Add Statistic"},use_user_dummy_names:function(){return"Use dummy codes instead of agent names"},my_subteam_only_label:function(){return"My subteam only"},header_save_btn:function(){return"Save"},header_preview_btn:function(){return"Preview"},header_close_preview_btn:function(){return"Close Preview"},delete_widget_title:function(){return"Delete Widget"},delete_widget_content:function(e){return"Delete {0}?"},widget_will_be_removed:function(){return"Widget will be removed from the page"},delete_homepage_title:function(){return"Delete view"},delete_homepage_content:function(e){return"Delete {0}?"},new_home_page_select_placeholder:function(){return"Select"},new_home_page_title:function(){return"New view"},new_home_page_type:function(){return"Type"},restore_unsaved_config_title:function(){return"Restore Unsaved Changes"},restore_unsaved_config_content:function(){return"The view has unsaved changes. Would you like to restore them?"},select_all:function(){return"Select all"},deselect_all:function(){return"Deselect all"},search_for_metrics:function(){return"Search for Metrics"},show_selected_only:function(){return"Show selected only"},configure_widget:function(){return"Configure Widget"},flip_widget:function(){return"Flip Widget"},new_view:function(){return"New View"},full_screen:function(){return"Full Screen"},edit_view:function(){return"Edit View"},menu:function(){return"Menu"},all_services:function(){return"All Services"},all_teams:function(){return"All Teams"},all_states:function(){return"All States"},show_services:function(){return"Show Services"},show_teams:function(){return"Show Teams"},show_states:function(){return"Show States"},agent_state_busy:function(){return"Busy"},agent_state_ready:function(){return"Ready"},agent_state_after_call_work:function(){return"After Call Work"},agent_state_not_ready:function(){return"Not Ready"},agent_state_logged_out:function(){return"Logged Out"},limit_my_subteam:function(){return"My subteam only"},limit_logged_in:function(){return"Logged in only"},text:function(){return"Text"},menu_new:function(){return"New"},menu_edit:function(){return"Edit"},menu_delete:function(){return"Delete"},menu_duplicate:function(){return"Duplicate"},menu_export:function(){return"Export"},menu_import:function(){return"Import"},menu_push_to_global:function(){return"Push to Global"},menu_pull_from_global:function(){return"Pull from Global"},agent_select_title:function(){return"Select agent"},agent_select_label:function(){return"Agent"},logged_in_user:function(){return"Logged in User"},standard_widgets:function(){return"Standard Widgets"},user_widgets:function(){return"User Widgets"},select_teams:function(){return"Select Teams"},home_page_welcome:function(){return"Welcome"},push_to_global_error:function(e){return"The {0} view failed to push to global. Please try again later."},pull_from_global_error:function(e){return"The {0} view failed to pull from global. Please try again later."},duplicate_error:function(e){return"Failed to duplicate the {0} view. Please try again later."},delete_error:function(e){return"Failed to delete the {0} view. Please try again later."},import_error:function(){return"Failed to import the view. Please try again later."},update_error_title:function(){return"Error updating view"},update_error_content:function(e){return"Failed to update the {0} view. Please try again later."},create_error_title:function(){return"Error creating view"},create_error_content:function(){return"Failed to create the view. Please try again later."}},HOME_PAGE_AGENT_WIDGETS:{my_break_time:function(){return"My Break Time"},my_stats:function(){return"My Stats"},my_services:function(){return"My Services"},my_team:function(){return"My Team"}},HOME_PAGE_SUPERVISOR_TEMPLATES:{empty_template:function(){return"Empty"},all_agents_template:function(){return"All Agents"},all_agents_agents:function(){return"Agents"},contact_center_overview_template:function(){return"Contact Center Overview"},contact_center_overview_queues:function(){return"Queues"},contact_center_overview_longest_calls:function(){return"Longest Calls"},contact_center_overview_longest_not_ready:function(){return"Longest Not Ready"},contact_center_overview_longest_hold:function(){return"Longest Hold"},contact_center_overview_all_agents:function(){return"All agents"},contact_center_overview_waiting_in_all_queues:function(){return"Waiting in All Queues"},contact_center_overview_positive_disposition_counts:function(){return"Positive Disposition Counts"},contact_center_overview_abandoned:function(){return"Abandoned, All Queues"},contact_center_overview_queued:function(){return"Queued, All Queues"},contact_center_overview_longest_acw:function(){return"Longest ACW"},contact_center_overview_agent_state_summary:function(){return"Agent State Summary"},email_wallboard_template:function(){return"Email View"},email_wallboard_new_email:function(){return"New Email"},email_wallboard_email_carried_over:function(){return"Email Carried Over"},email_wallboard_email_handled:function(){return"Email Handled"},email_wallboard_email_replied:function(){return"Email Replied"},email_wallboard_top_personal_queues:function(){return"Top Personal Queues"},email_wallboard_top_agents_by_email_handled:function(){return"Top Agents by Email Handled"},email_wallboard_email_services:function(){return"Email Services"},email_wallboard_email_dispositioned_wo_reply:function(){return"Email Dispositioned wo Reply"},email_wallboard_email_in_personal_queues:function(){return"Email in Personal Queues"},email_wallboard_bottom_agents_by_email_handled:function(){return"Bottom Agents by Email Handled"},email_wallboard_top_break_time:function(){return"Top Break Time"},inbound_wallboard_template:function(){return"Inbound View"},inbound_wallboard_in_queue_max_wait:function(){return"In Queue/Max Wait"},inbound_wallboard_in_ivr:function(){return"In IVR"},inbound_wallboard_callbacks_in_queue:function(){return"Callbacks in Queue"},inbound_wallboard_abandoned:function(){return"Abandoned %"},inbound_wallboard_service_queues:function(){return"Service Queues"},inbound_wallboard_busy_agents:function(){return"Busy Agents"},inbound_wallboard_estimated_wait_time:function(){return"Estimated Wait Time"},inbound_wallboard_asa:function(){return"ASA"},inbound_wallboard_top_not_ready_agents:function(){return"Top Not Ready Agents"},inbound_wallboard_top_after_call_work:function(){return"Top After Call Work"},inbound_wallboard_top_idle_time_agents:function(){return"Top Idle Time Agents"},inbound_wallboard_longest_hold:function(){return"Longest Hold"},outbound_campaigns_template:function(){return"Outbound Campaigns"},outbound_campaigns_occupancy:function(){return"Occupancy"},outbound_campaigns_outbound_calling_rate:function(){return"Outbound Calling Rate"},outbound_campaigns_abandoned:function(){return"Abandoned %"},outbound_campaigns_outb_in_q_now:function(){return"Outb In Q Now"},outbound_campaigns_campaigns:function(){return"Campaigns"},outbound_campaigns_top_successful_agents:function(){return"Top Successful Agents"},outbound_campaigns_top_agents_by_avg_call_duration:function(){return"Top Agents by Avg Call Duration"},outbound_campaigns_agent_state_summary:function(){return"Agent State Summary"},outbound_campaigns_outbound_calls_on_agents:function(){return"Outbound Calls on Agents"},outbound_campaigns_records_completed_today:function(){return"Records Completed Today"},outbound_campaigns_top_break_time:function(){return"Top Break Time"}},HOME_PAGE_SUPERVISOR_WIDGETS:{single:function(){return"Single Statistic"},agent_grid:function(){return"Agent Grid"},service_grid:function(){return"Service Grid"},summary:function(){return"Agent State Summary"},gauge:function(){return"Gauge"},text:function(){return"Text"},datetime:function(){return"Time"},image:function(){return"Image"},time_series:function(){return"Time Series"},copy_from_other:function(){return"Copy from other wallboard"},break_time:function(){return"Break Time"},dispositions:function(){return"Dispositions"},my_stats:function(){return"My Stats"},satisfaction:function(){return"Satisfaction"}},HOME_PAGE_SUPERVISOR_WIDGETS_NAMES:{break_time:function(e){return"Break Time: {0}"},dispositions:function(e){return"Dispositions: {0}"},my_stats:function(e){return"My Stats vs My Team's: {0}"},satisfaction:function(e){return"Satisfaction: {0}"}},HOME_PAGE_SINGLE_OR_GAUGE_WIDGET:{name_single:function(){return"Single Statistic"},name_gauge:function(){return"Gauge"},primary_statistic:function(){return"Primary Statistic"},secondary_statistic:function(){return"Secondary Statistic"},warning_threshold:function(){return"Warning threshold"},alert_threshold:function(){return"Alert threshold"},max_threshold:function(){return"Max threshold"},enable_warning_sound:function(){return"Enable warning sound"}},HOME_PAGE_WIDGET_IMAGE:{image:function(){return"Image"},style:function(){return"Style"},style_contain:function(){return"Contain"},style_cover:function(){return"Cover"}},HOME_PAGE_MY_STATS_WIDGET:{handled:function(){return"Handled"},average_handling_time:function(){return"Average Handling Time"},successful_interactions:function(){return"Successful Interactions"},my_stats:function(){return"My Stats"},teams_stats:function(){return"Team's Stats"}},INCOMING_CALL_DIALOG_BOX:{dial_number:function(){return"Dial Number"},incomingInteraction_dismiss:function(){return"Dismiss"},button_accept_and_open_label:function(){return"Accept and Open"},button_accept_and_open_label_2:function(){return"Accept & Open"},loader_accepting_interaction_label:function(){return"Accepting..."},auto_accept_timer:function(e){return"in {0}"},button_see_context_label:function(){return"See Context"},button_campaign_item_dial_label:function(){return"Dial Number"},button_campaign_item_dial_label_2:function(){return"Dial"},call_pickup_call_for_member_of_group_label:function(){return"A call for a member of"},call_pickup_call_for_label:function(){return"A call for"},call_pickup_conference_label:function(){return"Conference"}},INTERACTION_SEARCH:{grid_copy:function(){return"Copy"},grid_copied:function(){return"Copied"},grid_columns:function(){return"Columns"},grid_layout:function(){return"Layout"},grid_search_columns_placeholder:function(){return"Search columns"},grid_autosize_this_column:function(){return"Autosize this column"},grid_autosize_all_columns:function(){return"Autosize all columns"},grid_reset_columns:function(){return"Reset columns collection to default"},search_panel_more_button:function(){return"More"},search_panel_search_input_placeholder:function(){return"Enter Global Interaction ID or a search text string"},search_tab_title:function(){return"Search"},search_tab_general:function(){return"General"},search_result_col_media_type:function(){return"Media Type"},search_result_col_data_state:function(){return"Recordings"},search_result_col_start_time:function(){return"Start Time"},search_result_col_global_interaction_id:function(){return"Global interaction id"},search_result_col_origination:function(){return"From"},search_result_col_destination:function(){return"To"},search_result_col_duration:function(){return"Duration"},search_result_col_talk_time:function(){return"Talk Time"},search_result_col_service_names:function(){return"Service"},search_result_col_agent_names:function(){return"Agent"},search_result_col_number_of_segments:function(){return"Segments"},search_result_col_queue_time:function(){return"Queue Time"},search_result_col_ivr_time:function(){return"IVR Time"},search_result_col_hold_time:function(){return"Hold Time"},search_result_col_number_of_holds:function(){return"Number of Holds"},search_result_col_disposition_names:function(){return"Disposition"},search_result_col_flagged:function(){return"Flagged"},search_result_col_contact_name:function(){return"Contact"},search_result_col_account_number:function(){return"Account"},search_result_col_sentiment:function(){return"Sentiment"},search_result_col_sentiment_value:function(){return"Sentiment Value"},search_result_col_call_problem:function(){return"Call Problem"},search_result_col_email_subject:function(){return"Subject"},search_result_col_custom_1:function(){return"Custom 1"},search_result_col_custom_2:function(){return"Custom 2"},search_result_col_custom_3:function(){return"Custom 3"},search_result_col_custom_4:function(){return"Custom 4"},search_result_col_custom_5:function(){return"Custom 5"},search_result_col_cobrowsing:function(){return"Co-browsing"},searchable_list_panel_no_results:function(){return"No results found."},searchable_list_panel_no_options:function(){return"No options available."},filter_panel_any_placeholder:function(){return"Any"},filter_panel_agents:function(){return"Agents"},filter_panel_teams:function(){return"Teams"},filter_panel_search_agents_placeholder:function(){return"Search agents"},filter_panel_search_teams_placeholder:function(){return"Search teams"},filter_panel_date_today:function(){return"Today"},filter_panel_date_yesterday:function(){return"Yesterday"},filter_panel_date_last_24h:function(){return"Last 24 hours"},filter_panel_date_last_week:function(){return"Last month"},filter_panel_date_last_month:function(){return"Last week"},filter_panel_date_select_date:function(){return"Select date"},filter_panel_date_after_date:function(){return"After date"},filter_panel_date__before_date:function(){return"Before date"},filter_panel_date_between_dates:function(){return"Between dates"},filter_panel_date_custom_date:function(){return"Custom date: "},filter_panel_duration_custom:function(){return"Custom: "},filter_panel_exists:function(){return"Exists"},filter_panel_not_exists:function(){return"Does not exist"},filter_panel_yes:function(){return"Yes"},filter_panel_no:function(){return"No"},filter_panel_media_all:function(){return"All Media"},filter_panel_media_voice:function(){return"Voice"},filter_panel_media_chat:function(){return"Text"},filter_panel_media_email:function(){return"Email"},filter_panel_clear_all_button:function(){return"Clear All"},filter_panel_disposition:function(){return"Disposition"},filter_panel_search_dispositions_placeholder:function(){return"Search dispositions"},filter_panel_contact_account:function(){return"Contact/Account"},filter_panel_voice_recording:function(){return"Recording"},filter_panel_screen_recording:function(){return"Screen Recording"},filter_panel_transcript:function(){return"Transcript"},filter_panel_duration:function(){return"Duration"},filter_panel_talk_time:function(){return"Talk Time"},filter_panel_queue_time:function(){return"Queue Time"},filter_panel_scenario:function(){return"Scenario"},filter_panel_search_scenarios_placeholder:function(){return"Search scenarios"},filter_panel_time_period:function(){return"Time Period"},filter_panel_phone_address:function(){return"Phone/Address"},filter_panel_service:function(){return"Service"},filter_panel_search_services_placeholder:function(){return"Search services"},filter_panel_team:function(){return"Team"},filter_panel_agent:function(){return"Agent"},filter_panel_show_more_filters:function(){return"Show more filters"},filter_panel_hide_extra_filters:function(){return"Hide extra filters"}},VALIDATION:{ALL_FIELDS_ARE_REQUIRED:function(){return"All fields are required"},LETTER_DIGITS:function(){return"Digits and letters"},UPPER_LOWER:function(){return"Upper and lower case letters"},SPECIAL:function(){return"Special characters"},MIN_LENGTH:function(e){return"At least {0} characters long"},WEAK_LIST:function(){return"Not based on a commonly used word (found in a weak password list)"},NOT_USED_RECENTLY:function(){return"Has not been used recently"},NOT_IN_SELF_NAMES:function(){return"Not based on an item or a tenant name"},STRONG_ENOUGH:function(){return"Password strength: strong"},OLD_PASSWORD_ERROR:function(){return"Old password is incorrect"},NEW_PASSWORD_ERROR:function(){return"New password isn`t strong enough"},CONTACT_CREATION_ERROR:function(){return"Contact creation failed"},CONTACT_MERGE_ERROR:function(){return"Contact merge failed"},SAVING_FAILED:function(){return"Saving failed"}},ADD_FAVORITE_ENTRY_DIALOG_BOX:{add_button:function(){return"Add"},addFavoriteEntry_internal_call_label:function(){return"Internal Call"},addFavoriteEntry_internal_chat_label:function(){return"Internal Chat"},addFavoriteEntry_call_label:function(){return"Call"},addFavoriteEntry_sms_mms_label:function(){return"SMS/MMS"},addFavoriteEntry_email_label:function(){return"Email"},addFavoriteEntry_messenger_label:function(){return"Messenger"},addFavoriteEntry_add_phone_label:function(){return"Add Phone"},addFavoriteEntry_add_email_label:function(){return"Add Email"},addFavoriteEntry_add_messenger_label:function(){return"Add Messenger"},addFavoriteEntry_messages_label:function(){return"Messages"},addFavoriteEntry_name_or_nickname_label:function(){return"First Name or Nickname"},addFavoriteEntry_last_name_label:function(){return"Last Name"},addFavoriteEntry_single_phone_label:function(){return"Phone"},internal_voice_channel_label:function(){return"Internal call"},internal_chat_channel_label:function(){return"Internal chat"},create_favorite_heading:function(){return"Create Favorite"},edit_favorite_heading:function(){return"Edit Favorite"},specify_channel:function(){return"Specify one or more channels"},create:function(){return"Create"},default_first_name:function(){return"Anonymous"},error_invalid_name:function(){return"Invalid name"},select_favorite_channels:function(){return"Select Favorite Channels"},modal_title:function(){return"Select Favorite Channel(s)"},modal_info:function(){return"Select channel(s) to add to Favorites:"},at_least_one_channel_warning_start:function(){return"At least one communication channel is required. Add a communication channel, or click"},at_least_one_channel_warning_end:function(){return"to discard the favorite."}},CALENDAR:{no_results_label:function(){return"No results found"},calendars_heading:function(){return"Calendars"},assignees_search_tooltip:function(){return"Keep typing to search for suggestions"},all_day:function(){return"All day"},aria_search_label:function(){return"Search timezone"},add_event_btn_tooltip:function(){return"Create Event"},aria_timezone_dropdown:function(){return"Select secondary timezone"},seconds_short:function(){return"sec"},minutes_short:function(){return"min"},day:function(){return"Day"},month:function(){return"Month"},month_nav_btn_tooltip:function(){return"Show month navigation"},more:function(e){return"{0} more"},date_title_tooltip:function(){return"Title"},timezone_all_header:function(){return"All Timezones"},timezone_local_header:function(){return"Local"},timezone_local_name:function(){return"local"},timezone_local_secondary_title:function(e,t){return"Local timezone: {0}. Secondary timezone: {1}"},timezone_local_title:function(e){return"Local timezone: {0}"},timezone_recently_header:function(){return"Recently Used"},timezone_search_placeholder:function(){return"Search"},today:function(){return"Today"},week:function(){return"Week"},events_period:function(){return"Events period"},schedule:function(){return"Schedule"},assign_button:function(){return"Assign"},holidays:function(){return"Holidays"},events_and_meetings:function(){return"Events and Meetings"},requests:function(){return"Requests"},shifts:function(){return"Shifts"},my_calendar:function(){return"My Calendar"},my_requests:function(){return"My Requests"}},CALENDAR_EVENT_MODAL:{title:function(){return"Event Details"}},CALENDAR_EVENT_FORM:{add_contact_dialog_select_button_text:function(){return"Add Contact"},add_contact_dialog_title:function(){return"Add Contact"},aria_event_cancel_label:function(){return"Discard changes and close panel"},aria_event_delete_label:function(){return"Delete event"},aria_event_edit_label:function(){return"Edit event data"},aria_event_save_label:function(){return"Save event data"},batchAssignEvents:function(){return"Batch Assign Events"},batch_assign_event_users_placeholder:function(){return"Enter name of person or team"},button_delete_text:function(){return"Delete"},button_edit_text:function(){return"Edit"},button_save_text:function(){return"Save"},date_from_label:function(){return"Date from"},date_to_label:function(){return"Date to"},delete_modal_cancel:function(){return"Cancel"},delete_modal_ok:function(){return"Delete"},delete_modal_text:function(e){return'Are you sure you want to delete the event "{0}"?'},delete_modal_title:function(){return"Delete Event"},discard_modal_cancel:function(){return"Cancel"},discard_modal_discard:function(){return"Discard"},discard_modal_text:function(){return"Discard unsaved changes?"},error_delete_event_header:function(){return"Unable to delete calendar event"},error_delete_event_text:function(){return"Try again later"},error_save_event_header:function(){return"Unable to save calendar event"},error_save_event_text:function(){return"Try again later"},event_title:function(){return"Event title"},field_allday_label:function(){return"All day event"},field_assignee_label:function(){return"Assignee"},field_assignee_placeholder:function(){return"Placeholder"},field_completed_label:function(){return"Completed"},field_contact_dropdown_manually_label:function(){return"Add Contact Manually"},field_contact_dropdown_search_label:function(){return"Search Contacts"},field_contact_label:function(){return"Add Contact"},field_date_label:function(){return"Date"},field_details_label:function(){return"Details"},field_details_none:function(){return"none"},field_details_text:function(e){return 1===e?"1 tab":"{0} tabs"},field_reminder_label:function(){return"Reminder"},field_summary_label:function(){return"Summary"},field_time_label:function(){return"Time"},field_title_placeholder:function(){return"Add title"},format_days:function(e){return 1===e?"1 day":"{0} days"},format_hours:function(e){return 1===e?"1 hour":"{0} hours"},format_minutes:function(e){return 1===e?"1 minute":"{0} minutes"},phone_number_label:function(){return"Phone number"},show_date_suggestions_label:function(){return"Show date suggestions"},show_suggested_phone_numbers:function(){return"Show date suggestions"},show_timezones_label:function(){return"Show suggested timezones"},text_all_day_event:function(){return"All day event"},text_reminde_before:function(e){return"Remind {0} before"},add_new_contact_name_placeholder:function(){return"Name"},add_new_contact_phone_placeholder:function(){return"Phone"},add_new_contact_create_label:function(){return"Create contact"}},CALENDAR_REQUESTS:{hours_available:function(){return"Hours available"},type:function(){return"Type"},requested_time:function(){return"Requested time"},submission_date:function(){return"Submission date"},approval_date:function(){return"Approval date"},comments:function(){return"Comments"},system_approval:function(){return"System approval"},create_request:function(){return"Create Request"},new_request:function(){return"New Request"},schedule_request:function(){return"Schedule Request"},absence_request:function(){return"Absence Request"},schedule_change_request:function(){return"Schedule-Change Request"},overtime_request:function(){return"Overtime Request"},absence_type:function(){return"Absence type"},remaining_balance:function(){return"Remaining Balance"},absence_sick:function(){return"Absence (Sick)"},date:function(){return"Date"},all_or_nothing:function(){return"All or nothing"},if_unavailable_deny:function(){return"If one day is unavailable, deny full request"},created_at:function(){return"Created at"},by_system:function(){return"by system"},any_type:function(){return"Any Type"},all:function(){return"All"},choose_requests_period:function(){return"Choose requests period"}},CALENDAR_SETTINGS:{heading:function(){return"Calendar Settings"},locale:function(){return"Locale"},my_availability:function(){return"My Availability"},my_calendars:function(){return"My Calendars"},country:function(){return"Country"},date_format:function(){return"Date Format"},date_format_not_selected:function(){return"Date format not selected"},time_format:function(){return"Time Format"},time_format_not_selected:function(){return"Time format not selected"},time_zone:function(){return"Time Zone"},display_secondary_time_zone:function(){return"Display secondary time zone"},time_zone_not_selected:function(){return"Time zone not selected"},secondary_time_zone_not_selected:function(){return"Secondary time zone not selected"},show_weekends:function(){return"Show Weekends"},enable_working_hours:function(){return"Enable working hours"},set_to_all:function(){return"Set to All"},to:function(){return"to"},create_calendar:function(){return"Create Calendar"},import_calendar:function(){return"Import Calendar"},edit_calendar:function(){return"Edit Calendar"},no_calendars_created:function(){return"No calendars created"},enter_calendar_name:function(){return"Enter calendar name"}},RINGTONE_VOLUME_DIALOG_BOX:{ringtoneVolumeDialog_heading_text:function(){return"Ringtones and Alert Volume"},test_notification_sound_aria_label:function(){return"Test notification sound"},test_softphone_sound_aria_label:function(){return"Test softphone sound"},test_incoming_message_sound_aria_label:function(){return"Test incoming message sound"},test_internal_chat_sound_aria_label:function(){return"Test internal chat sound"},button_close_text:function(){return"Close"}},CHANGE_PASSWORD_DIALOG_BOX:{title:function(){return"Change Password"},title_required:function(){return"Password Change Required"},correct_old_password_hint:function(){return"Correct old password"}},DID:{voice_number:function(e){return"Voice number {0}"},sms_number:function(e){return"SMS number {0}"},voice_and_sms_number:function(e){return"Voice and SMS number {0}"}},DEVICE_SETUP_WINDOW:{phone_type_microsoft_teams_not_valid:function(){return'Microsoft Teams Direct Routing phone number must have only digits, plus sign "+", and comma ","'}},RESCHEDULE:{reschedule_call:function(){return"Reschedule Call"},next_call_date:function(){return"Next Call Date"},from:function(){return"From"},to:function(){return"To"},time_zone:function(){return"Time Zone"},phone:function(){return"Phone"}},SETTINGS:{setting_btn_text:function(){return"Settings"},settings_menu_go_back:function(){return"Go back"},menu_phone_devices_disabled_tooltip:function(){return"Phone device settings aren't available during an active call"}},VOICE_CALL:{transfer_search_placeholder:function(){return"Search Contact Name, Phone Number, Ext."},consult_conference_blind_transfer:function(){return"Consult, Conference, or Blind Transfer"},prerecorded_messages_play_and_leave:function(){return"Play and leave"},prerecorded_messages_more_messages:function(){return"More messages"},prerecorded_messages_recents:function(){return"Recents"},prerecorded_messages:function(){return"Prerecorded Messages"},dial_consult_button_tooltip:function(){return"Consult"},dial_conference_button_tooltip:function(){return"Conference"},blind_transfer_button_tooltip:function(){return"Blind transfer"},disposition_message_title:function(e,t,n){return"{0} dispositioned voice call on {1} at {2}"}},METRIC_NAMES:{in_calls_first_time_queued_per_day_short:function(){return"IN Queued Unique"},last_alert_short:function(){return"Last Alert"},last_alert_long:function(){return"Last Alert"},agent_total_not_ready_time_short:function(){return"Not Ready"},agent_total_not_ready_time_long:function(){return"My Not Ready Time"},agent_success_ratio_per_day_short:function(){return"Success %"},agent_success_ratio_per_day_long:function(){return"Success Rate %"}},NEW_METRIC_NAMES:{agents_logged_general:function(){return"Agents Logged In"},agents_logged_short:function(){return"Logged In"},agents_logged_description:function(){return"The number of agents currently logged into the system, excluding those in the Supervising state"},agents_busy_general:function(){return"Agents Busy"},agents_busy_short:function(){return"Busy"},agents_busy_description:function(){return"The number of agents currently in the Busy state"},agents_in_wrap_up_general:function(){return"Agents ACW"},agents_in_wrap_up_short:function(){return"ACW"},agents_in_wrap_up_description:function(){return"The number of agents currently in the ACW state."},agent_current_number_interactions_general:function(){return"Active"},agent_current_number_interactions_short:function(){return"Active"},agent_current_number_interactions_description:function(){return"The number of interactions on the agent"},agents_busy_on_service_general:function(){return"Agents Busy Svc"},agents_busy_on_service_short:function(){return"Busy Svc"},agents_busy_on_service_description:function(){return"The number of agents in the Busy state who are currently handling interactions related to the given service"},agents_ready_general:function(){return"Agents Ready"},agents_ready_short:function(){return"Ready"},agents_ready_description:function(){return"The number of agents currently in the Ready state"},agents_not_ready_general:function(){return"Agents Not Ready"},agents_not_ready_short:function(){return"Not Ready"},agents_not_ready_description:function(){return"The number of agents currently in the Not Ready state, regardless of the reason"},agent_occupancy_general:function(){return"OCC %"},agent_occupancy_short:function(){return"OCC %"},agent_occupancy_description:function(){return'Occupancy (%), the percentage of the total working time for the day that the agents have spent handling interactions, including preview time and after-call work, within a service. Total working time encompasses time spent handling interactions in any service and time spent in the "Ready" state'},agent_average_idle_time_general:function(){return"Avg Idle"},agent_average_idle_time_short:function(){return"Avg Idle"},agent_average_idle_time_description:function(){return"The average time for the day the agents have spent waiting between handling interactions, including the time spent in \u201cNot Ready\u201d state"},agent_idle_time_general:function(){return"Idle"},agent_idle_time_short:function(){return"Idle"},agent_idle_time_description:function(){return'The time the agent has waited since the last interaction, including time in the "Not Ready" state'},agent_preview_duration_general:function(){return"Preview"},agent_preview_duration_short:function(){return"Preview"},agent_preview_duration_description:function(){return'The time the agent has been previewing the interaction while in the "Busy" state. If the agent is not currently previewing the interaction, the metric returns 0'},agent_average_preview_time_general:function(){return"Avg Preview"},agent_average_preview_time_short:function(){return"Avg Preview"},agent_average_preview_time_description:function(){return'The average time for the day that agents have spent previewing interactions while in the "Busy" state, calculated from when the preview record was accepted by the agent until it was either dialed or skipped'},agent_success_ratio_per_day_general:function(){return"Success Rate %"},agent_success_ratio_per_day_short:function(){return"Success %"},agent_success_ratio_per_day_description:function(){return"The percentage of interactions that received disposition with \u201cSuccess\u201d type"},agent_total_not_ready_time_general:function(){return"Not Ready"},agent_total_not_ready_time_short:function(){return"Not Ready"},agent_total_not_ready_time_description:function(){return"The total time for the day the agent was in the Not Ready state, regardless of the reason"},agent_total_break_time_general:function(){return"Break"},agent_total_break_time_short:function(){return"Break"},agent_total_break_time_description:function(){return"The total time for the day the agent was in the Not Ready states with reasons marked as 'counts toward break time'"},agent_total_busy_time_general:function(){return"Busy"},agent_total_busy_time_short:function(){return"Busy"},agent_total_busy_time_description:function(){return"The total time for the day the agent was in the Busy state"},agent_total_acw_time_general:function(){return"ACW"},agent_total_acw_time_short:function(){return"ACW"},agent_total_acw_time_description:function(){return"The total time for the day the agent was in the ACW state"},agent_total_ready_time_general:function(){return"Ready"},agent_total_ready_time_short:function(){return"Ready"},agent_total_ready_time_description:function(){return"The total time for the day the agent was in the Ready state"},agent_fcr_general:function(){return"FCR %"},agent_fcr_short:function(){return"FCR %"},agent_fcr_description:function(){return"First Call Resolution (%), the percentage of interactions successfully resolved by the agents during a customer's initial contact for the day. This metric is calculated by dividing the total number of interactions marked as First Call Resolution by the total number of interactions where a survey was conducted"},agent_nps_general:function(){return"NPS %"},agent_nps_short:function(){return"NPS %"},agent_nps_description:function(){return"Net Promoter Score (%), the percentage of promoters (values 9 and 10) minus the percentage of detractors (values 0-6), calculated for the day based on interactions where a survey was conducted"},agent_csat_general:function(){return"CSAT"},agent_csat_short:function(){return"CSAT"},agent_csat_description:function(){return"Customer Satisfaction, the average result of surveys with the customer satisfaction question answered"},agent_cm1_general:function(){return"Survey 1"},agent_cm1_short:function(){return"Survey 1"},agent_cm1_description:function(){return"The average result of surveys with the custom Survey 1 question answered"},agent_cm2_general:function(){return"Survey 2"},agent_cm2_short:function(){return"Survey 2"},agent_cm2_description:function(){return"The average result of surveys with the custom Survey 2 question answered"},agent_calendar_pending_general:function(){return"Reminders Upcoming"},agent_calendar_pending_short:function(){return"Upcoming"},agent_calendar_pending_description:function(){return"The number of upcoming events in the calendar's events queue"},agent_calendar_overdue_general:function(){return"Reminders Overdue"},agent_calendar_overdue_short:function(){return"Overdue"},agent_calendar_overdue_description:function(){return"The number of events in the calendar's queue that are past their due date"},in_calls_received_per_day_general:function(){return"IN Received"},in_calls_received_per_day_short:function(){return"Received"},in_calls_received_per_day_description:function(){return"The number of inbound interactions for the day received by the service from PSTN"},in_transfers_received_per_day_general:function(){return"IN Transfers"},in_transfers_received_per_day_short:function(){return"Transfers"},in_transfers_received_per_day_description:function(){return"The number of inbound interactions for the day routed to the agents from another agents\n(Calls, chats)"},out_transfers_received_per_day_general:function(){return"OUT Transfers"},out_transfers_received_per_day_short:function(){return"Transfers"},out_transfers_received_per_day_description:function(){return"The number of outbound calls for the day routed to the agents from another agents"},in_calls_in_ivr_general:function(){return"IN In IVR"},in_calls_in_ivr_short:function(){return"In IVR"},in_calls_in_ivr_description:function(){return"The number of inbound interactions that are currently being processed by an IVR application\n(Calls, chats)"},in_calls_self_serviced_per_day_general:function(){return"IN Self Serviced"},in_calls_self_serviced_per_day_short:function(){return"Self Serviced"},in_calls_self_serviced_per_day_description:function(){return"The number of inbound interactions for the day flagged as Self Serviced while being processed in a scenario\n(Calls, chats)"},in_calls_abandoned_in_ivr_per_day_general:function(){return"IN IVR Abdnd"},in_calls_abandoned_in_ivr_per_day_short:function(){return"IVR Abdnd"},in_calls_abandoned_in_ivr_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while being processed in a scenario before being queued up\n(Calls, chats)"},in_calls_abandoned_total_per_day_general:function(){return"IN Total Abdnd"},in_calls_abandoned_total_per_day_short:function(){return"Total Abdnd"},in_calls_abandoned_total_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while being processed in a scenario\n(Calls, chats)"},in_calls_abandoned_percent_per_day_general:function(){return"IN Total Abdnd %"},in_calls_abandoned_percent_per_day_short:function(){return"Total Abdnd %"},in_calls_abandoned_percent_per_day_description:function(){return"The percentage of inbound interactions for the day terminated by the remote side after answer while being processed in a scenario\n(Calls, chats)"},in_calls_dropped_in_ivr_per_day_general:function(){return"IN IVR Dropped"},in_calls_dropped_in_ivr_per_day_short:function(){return"IVR Dropped"},in_calls_dropped_in_ivr_per_day_description:function(){return"The number of inbound interactions for the day disconnected by the system while being processed in a scenario before being queued up\n(Calls, chats)"},in_calls_queued_per_day_general:function(){return"IN Queued"},in_calls_queued_per_day_short:function(){return"Queued"},in_calls_queued_per_day_description:function(){return"The number of times inbound interactions were been queued up for the day\n(Calls, chats)"},in_calls_first_time_queued_per_day_general:function(){return"IN Queued Uniq"},in_calls_first_time_queued_per_day_short:function(){return"Queued Uniq"},in_calls_first_time_queued_per_day_description:function(){return"The number of inbound interactions that were been queued up for the day. If an interaction enters queue more than once with the same service, it is counted only once\n(Calls, chats)"},in_calls_waiting_general:function(){return"IN Waiting"},in_calls_waiting_short:function(){return"Waiting"},in_calls_waiting_description:function(){return"The number of inbound interactions that are waiting in the service queue\n(Calls, chats, emails)"},in_calls_in_progress_general:function(){return"IN Active"},in_calls_in_progress_short:function(){return"Active"},in_calls_in_progress_description:function(){return"The total number of inbound interactions that are in either IVR, the service queue, or being connected to the agents\n(Calls, chats, emails)"},in_calls_abandoned_in_queue_per_day_general:function(){return"IN Queue Abdnd"},in_calls_abandoned_in_queue_per_day_short:function(){return"Queue Abdnd"},in_calls_abandoned_in_queue_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while waiting in queue\n(Calls, chats)"},in_calls_abandoned_in_queue_ratio_per_day_general:function(){return"IN Queue Abdnd %"},in_calls_abandoned_in_queue_ratio_per_day_short:function(){return"Queue Abdnd %"},in_calls_abandoned_in_queue_ratio_per_day_description:function(){return"The percentage of inbound interactions for the day terminated by the remote side after answer while waiting in queue\n(Calls, chats)"},in_calls_short_abandoned_in_queue_per_day_general:function(){return"IN Queue Sh-Abdnd"},in_calls_short_abandoned_in_queue_per_day_short:function(){return"Queue Sh-Abdnd"},in_calls_short_abandoned_in_queue_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side before specified treshold while waiting in queue\n(Calls, chats)"},in_calls_short_abandoned_in_queue_ratio_per_day_general:function(){return"Queue Sh-Abdnd %"},in_calls_short_abandoned_in_queue_ratio_per_day_short:function(){return"Queue Sh-Abdnd %"},in_calls_short_abandoned_in_queue_ratio_per_day_description:function(){return"The percentage of inbound interactions for the day terminated by the remote side before specified treshold while waiting in queue\n(Calls, chats)"},in_calls_dropped_in_queue_per_day_general:function(){return"IN Queue Dropped"},in_calls_dropped_in_queue_per_day_short:function(){return"Queue Dropped"},in_calls_dropped_in_queue_per_day_description:function(){return"The number of inbound interactions for the day disconnected by the system while waiting in queue\n(Calls, chats)"},service_level_general:function(){return"IN SL Inst %"},service_level_short:function(){return"SL Inst %"},service_level_description:function(){return"Service Level (%, moving window), the percentage of the 20 most recent inbound interactions answered before the threshold time\n(Calls, chats, emails)"},service_level_per_day_general:function(){return"IN SL %"},service_level_per_day_short:function(){return"SL %"},service_level_per_day_description:function(){return"Service Level (%), the percentage of inbound interactions for the day answered before the threshold time\n(Calls, chats, emails)"},service_level_target_general:function(){return"SL Target %"},service_level_target_short:function(){return"SL Target %"},service_level_target_description:function(){return"Service Level configuration parameter, the percentage of interactions expected to be answered within the specified threshold"},service_level_threshold_time_general:function(){return"SL Threshold"},service_level_threshold_time_short:function(){return"SL Threshold"},service_level_threshold_time_description:function(){return"Service Level configuration parameter, the threshold time"},in_max_wait_time_general:function(){return"IN Max Wait"},in_max_wait_time_short:function(){return"Max Wait"},in_max_wait_time_description:function(){return"The current time a customer has been waiting in the queue for the longest unanswered interaction. If an interaction has been requeued, the total wait time since it first entered the queue is considered.\nFor emails the metric is updated once per hour\n(Calls, chats, emails)"},in_ewt_general:function(){return"IN EWT"},in_ewt_short:function(){return"EWT"},in_ewt_description:function(){return"Estimated Wait Time, the estimated time a customer will wait in the service queue before being distributed to an agent.\n(Calls, chats)"},in_calls_routed_per_day_general:function(){return"IN Routed"},in_calls_routed_per_day_short:function(){return"Routed"},in_calls_routed_per_day_description:function(){return"The number of inbound interactions for the day routed to agents from the service queue.\nIf an interaction was routed to an agent more than once with the same service, it is counted multiple times\n(Calls, chats)"},in_calls_ringing_general:function(){return"IN Ringing"},in_calls_ringing_short:function(){return"Ringing"},in_calls_ringing_description:function(){return"The number of inbound interactions that are being distributed to agents from the service queue, but have not been accepted yet\n(Calls, chats)"},in_calls_handled_per_day_general:function(){return"IN Handled"},in_calls_handled_per_day_short:function(){return"Handled"},in_calls_handled_per_day_description:function(){return"The number of inbound interactions for the day accepted by the agents\n(Calls, chats, emails)"},in_calls_handled_percent_per_day_general:function(){return"IN Handled %"},in_calls_handled_percent_per_day_short:function(){return"Handled %"},in_calls_handled_percent_per_day_description:function(){return"The percentage of the total number of inbound interactions for the day accepted by the agents. The total number includes interactions received by the service from PSTN or transferred from another service or an agent\n(Calls, chats)"},in_calls_first_time_handled_per_day_general:function(){return"IN Handled Uniq"},in_calls_first_time_handled_per_day_short:function(){return"Handled Uniq"},in_calls_first_time_handled_per_day_description:function(){return"The number of unique inbound interactions for the day accepted by the agents. If an interaction is handled by multiple agents (e.g., through blind transfer or conference), this metric increases only with the first answer by the first agent\n(Calls, chats)"},in_calls_put_on_hold_per_day_general:function(){return"IN On Hold"},in_calls_put_on_hold_per_day_short:function(){return"On Hold"},in_calls_put_on_hold_per_day_description:function(){return"The number of inbound interactions for the day put on hold by the agents\n(Calls, chats)"},in_calls_first_time_put_on_hold_per_day_general:function(){return"IN On Hold Uniq"},in_calls_first_time_put_on_hold_per_day_short:function(){return"On Hold Uniq"},in_calls_first_time_put_on_hold_per_day_description:function(){return"The number of unique inbound interactions for the day put on hold by the agents. If an agent puts an interaction on hold multiple times, this metric increases only with the first hold\n(Calls, chats)"},in_calls_rejected_per_day_general:function(){return"IN Ignored"},in_calls_rejected_per_day_short:function(){return"Ignored"},in_calls_rejected_per_day_description:function(){return"The number of inbound interactions for the day routed to the agents, but not accepted by them\n(Calls, chats)"},in_calls_abandoned_ringing_per_day_general:function(){return"IN Ringing Abdnd"},in_calls_abandoned_ringing_per_day_short:function(){return"Ringing Abdnd"},in_calls_abandoned_ringing_per_day_description:function(){return"The number of inbound interactions for the day terminated by the remote side after answer while being routed to agents\n(Calls, chats)"},in_calls_dropped_ringing_per_day_general:function(){return"IN Ringing Dropped"},in_calls_dropped_ringing_per_day_short:function(){return"Ringing Dropped"},in_calls_dropped_ringing_per_day_description:function(){return"The number of inbound interactions for the day disconnected by the system while being routed to agents\n(Calls, chats)"},in_calls_active_on_agents_general:function(){return"IN Connected"},in_calls_active_on_agents_short:function(){return"Connected"},in_calls_active_on_agents_description:function(){return"The number of inbound interactions that are connected to the agents\n(Calls, chats, emails)"},in_calls_disconnected_talking_per_day_general:function(){return"IN Remote Discnctd"},in_calls_disconnected_talking_per_day_short:function(){return"Remote Discnctd"},in_calls_disconnected_talking_per_day_description:function(){return"The number of inbound interactions for the day ended by the remote side\n(Calls, chats)"},in_calls_dropped_talking_per_day_general:function(){return"IN Agent Discnctd"},in_calls_dropped_talking_per_day_short:function(){return"Agent Discnctd"},in_calls_dropped_talking_per_day_description:function(){return"The number of inbound interactions for the ended by the agents\n(Calls, chats)"},in_calls_duration_average_per_day_general:function(){return"IN Avg Talk"},in_calls_duration_average_per_day_short:function(){return"Avg Talk"},in_calls_duration_average_per_day_description:function(){return"The average talk time agents spent on inbound interactions for the day, including hold time\n(Calls, chats)"},in_calls_duration_total_per_day_general:function(){return"IN Total Talk"},in_calls_duration_total_per_day_short:function(){return"Total Talk"},in_calls_duration_total_per_day_description:function(){return"The total talk time agents spent on inbound interactions for the day, including hold time\n(Calls, chats)"},in_calls_transferred_per_day_general:function(){return"IN Transferred"},in_calls_transferred_per_day_short:function(){return"Transferred"},in_calls_transferred_per_day_description:function(){return"The number of inbound interactions for the day where agents initiated a transfer, regardless of whether it was accepted\n(Calls, chats)"},in_average_speed_of_answer_general:function(){return"IN ASA"},in_average_speed_of_answer_short:function(){return"ASA"},in_average_speed_of_answer_description:function(){return"For calls and chats: the average waiting time for the day in the service queue before being answered.\nFor emails: the average time for the day between email arrival and the first reply\n(Calls, chats, emails)"},calls_average_handling_time_per_day_general:function(){return"Avg Handle"},calls_average_handling_time_per_day_short:function(){return"Avg Handle"},calls_average_handling_time_per_day_description:function(){return"The average time, including hold time and after-call-work time, that the agents spent handling interactions"},calls_average_acw_time_per_day_general:function(){return"Avg ACW"},calls_average_acw_time_per_day_short:function(){return"Avg ACW"},calls_average_acw_time_per_day_description:function(){return"The average after-call-work time the agents spent handling interactions"},in_callbacks_requested_per_day_general:function(){return"IN CB Requested"},in_callbacks_requested_per_day_short:function(){return"CB Requested"},in_callbacks_requested_per_day_description:function(){return"The number of callbacks requested for the day\n(Calls)"},in_callbacks_waiting_general:function(){return"IN CB Waiting"},in_callbacks_waiting_short:function(){return"CB Waiting"},in_callbacks_waiting_description:function(){return"The number of scheduled callbacks that are waiting in the service virtual queue"},records_total_general:function(){return"Records Total"},records_total_short:function(){return"Total"},records_total_description:function(){return"The total number of records in all enabled lists"},records_completed_general:function(){return"Records Completed"},records_completed_short:function(){return"Completed"},records_completed_description:function(){return"The number of finilized records in all enabled lists, including DNC and Expired records"},records_with_assigned_agents_completed_general:function(){return"Records P.A. Completed"},records_with_assigned_agents_completed_short:function(){return"P.A. Completed"},records_with_assigned_agents_completed_description:function(){return"The number of finilized records in all enabled lists, including DNC and Expired records, that have assigned personal agents"},records_remaining_general:function(){return"Records Remaining"},records_remaining_short:function(){return"Remaining"},records_remaining_description:function(){return"The number of non-finilized records in all enabled lists"},records_out_of_quota_general:function(){return"Records Out of Quota"},records_out_of_quota_short:function(){return"Out of Quota"},records_out_of_quota_description:function(){return""},records_with_assigned_agents_remaining_general:function(){return"Records P.A. Remaining"},records_with_assigned_agents_remaining_short:function(){return"P.A. Remaining"},records_with_assigned_agents_remaining_description:function(){return"The number of non-finilized records in all enabled lists, that have assigned personal agents"},records_in_dnc_general:function(){return"Records DNC"},records_in_dnc_short:function(){return"DNC"},records_in_dnc_description:function(){return"The number of finilized records in all enabled lists completed because they match entries on Do Not Call (DNC) lists"},records_attempted_per_day_general:function(){return"Attempted"},records_attempted_per_day_short:function(){return"Attempted"},records_attempted_per_day_description:function(){return"The number of records attempted for the day"},records_attempted_ratio_per_day_general:function(){return"Attempted %"},records_attempted_ratio_per_day_short:function(){return"Attempted %"},records_attempted_ratio_per_day_description:function(){return"The precentage of records in all enabled lists attempted for the day"},records_accepted_per_day_general:function(){return"Previewed"},records_accepted_per_day_short:function(){return"Previewed"},records_accepted_per_day_description:function(){return"The number of preview interactions for the day accepted by the agents"},records_skipped_per_day_general:function(){return"Skipped"},records_skipped_per_day_short:function(){return"Skipped"},records_skipped_per_day_description:function(){return"The number of preview interactions for the day accepted by the agents, but then skipped"},records_skipped_ratio_per_day_general:function(){return"Skipped %"},records_skipped_ratio_per_day_short:function(){return"Skipped %"},records_skipped_ratio_per_day_description:function(){return"The percentage of the previewed interactions for the day that the agents has skipped"},records_completed_per_day_general:function(){return"Completed"},records_completed_per_day_short:function(){return"Completed"},records_completed_per_day_description:function(){return"The number of finilized records for the day, including DNC and Expired records"},records_completed_ratio_per_day_general:function(){return"Completed %"},records_completed_ratio_per_day_short:function(){return"Completed %"},records_completed_ratio_per_day_description:function(){return"The precentage of records finalized for the day, including DNC and Expired records"},records_completed_ratio_general:function(){return"Records Completed %"},records_completed_ratio_short:function(){return"Completed %"},records_completed_ratio_description:function(){return"The percentage of finalized records in all enabled lists, including DNC and expired records"},records_dialable_general:function(){return"Records Dialable"},records_dialable_short:function(){return"Dialable"},records_dialable_description:function(){return'The number of non-finilized records in all enabled lists, that can be called right now (taking into account calling hours and reschedule limitations). Please note that if the number of dialable records is more than 1000, the metric will show ">1000"'},records_expired_general:function(){return"Records Expired"},records_expired_short:function(){return"Expired"},records_expired_description:function(){return"The number of expired records in all enabled lists"},list_last_updated_general:function(){return"Records Last Updated"},list_last_updated_short:function(){return"Last Updated"},list_last_updated_description:function(){return"Date and time when records were last being successfully added to the list"},out_campaign_mode_general:function(){return"Mode"},out_campaign_mode_short:function(){return"Mode"},out_campaign_mode_description:function(){return"Preview, Progressive, Predictive or Automatic"},out_campaign_duration_forecast_general:function(){return"Est Duration"},out_campaign_duration_forecast_short:function(){return"Est Duration"},out_campaign_duration_forecast_description:function(){return"Estimated Campaign Duration for the day, calculated based on the assumption that the campaign will continue to operate under the same conditions (Answer Rate Inst %, the number of agents, the average handling time, etc.)"},out_average_success_rate_general:function(){return"OUT Answered Inst %"},out_average_success_rate_short:function(){return"Answered Inst %"},out_average_success_rate_description:function(){return"The percentage of the 360 last attempted outbound calls answered by the remote side"},calls_dispositions_per_day_general:function(){return"Selected Dispositions"},calls_dispositions_per_day_short:function(){return"Selected Dispositions"},calls_dispositions_per_day_description:function(){return"The total number of interactions for which the selected dispositions were set"},calls_dispositions_ratio_per_day_general:function(){return"Selected Dispositions %"},calls_dispositions_ratio_per_day_short:function(){return"Selected Dispositions %"},calls_dispositions_ratio_per_day_description:function(){return"The percentage of interactions for which the selected dispositions were set out of all dispositioned interactions"},out_calls_current_call_rate_general:function(){return"OUT Call Rate"},out_calls_current_call_rate_short:function(){return"Call Rate"},out_calls_current_call_rate_description:function(){return"The number of outbound calls handled by agents in the last minute"},out_calls_placed_per_day_general:function(){return"OUT Dialed"},out_calls_placed_per_day_short:function(){return"Dialed"},out_calls_placed_per_day_description:function(){return"The number of outbound calls initiated by agents or the system itself in progressive/preview modes for the day"},out_calls_in_progress_general:function(){return"OUT In Progress"},out_calls_in_progress_short:function(){return"In Progress"},out_calls_in_progress_description:function(){return"The number of outbound calls that have not been accepted by the remote side yet or are being analyzed to detect voice or answering machine"},out_calls_failed_per_day_general:function(){return"OUT Failed"},out_calls_failed_per_day_short:function(){return"Failed"},out_calls_failed_per_day_description:function(){return"The number of outbound calls for the day not answered by the remote side or not detected as voice by CPA (if detection enabled)"},out_calls_answered_per_day_general:function(){return"OUT Answered"},out_calls_answered_per_day_short:function(){return"Answered"},out_calls_answered_per_day_description:function(){return"The number of outbound calls for the day answered by the remote side and detected as voice by CPA (if detection enabled)"},out_calls_answered_ratio_per_day_general:function(){return"OUT Answered %"},out_calls_answered_ratio_per_day_short:function(){return"Answered %"},out_calls_answered_ratio_per_day_description:function(){return"The percentage of outbound calls for the day answered by the remote side and detected as voice by CPA (if detection enabled)"},out_calls_in_ivr_general:function(){return"OUT In IVR"},out_calls_in_ivr_short:function(){return"In IVR"},out_calls_in_ivr_description:function(){return"The number of answered outbound calls that are being processed by an IVR application"},out_calls_self_serviced_per_day_general:function(){return"OUT Self Serviced"},out_calls_self_serviced_per_day_short:function(){return"Self Serviced"},out_calls_self_serviced_per_day_description:function(){return"The number of outbound calls for the day flagged as Self Serviced while being processed in a scenario"},out_calls_abandoned_in_ivr_per_day_general:function(){return"OUT IVR Abdnd"},out_calls_abandoned_in_ivr_per_day_short:function(){return"IVR Abdnd"},out_calls_abandoned_in_ivr_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while being processed in a scenario before being queued up"},out_calls_abandoned_in_ivr_ratio_per_day_general:function(){return"OUT IVR Abdnd %"},out_calls_abandoned_in_ivr_ratio_per_day_short:function(){return"IVR Abdnd %"},out_calls_abandoned_in_ivr_ratio_per_day_description:function(){return"The percentage of outbound calls for the day terminated by the remote side after answer while being processed in a scenario before being queued up"},out_calls_dropped_in_ivr_per_day_general:function(){return"OUT IVR Dropped"},out_calls_dropped_in_ivr_per_day_short:function(){return"IVR Dropped"},out_calls_dropped_in_ivr_per_day_description:function(){return"The number of outbound calls for the day disconnected by the system while being processed in a scenario before being queued up"},out_calls_queued_per_day_general:function(){return"OUT Queued"},out_calls_queued_per_day_short:function(){return"Queued"},out_calls_queued_per_day_description:function(){return"The number of times outbound calls were been queued up for the day"},out_calls_waiting_general:function(){return"OUT Waiting"},out_calls_waiting_short:function(){return"Waiting"},out_calls_waiting_description:function(){return"The number of answered outbound calls that are waiting in the service queue"},out_calls_abandoned_in_queue_per_day_general:function(){return"OUT Queue Abdnd"},out_calls_abandoned_in_queue_per_day_short:function(){return"Queue Abdnd"},out_calls_abandoned_in_queue_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while waiting in queue"},out_calls_abandoned_in_queue_ratio_per_day_general:function(){return"OUT Queue Abdnd %"},out_calls_abandoned_in_queue_ratio_per_day_short:function(){return"Queue Abdnd %"},out_calls_abandoned_in_queue_ratio_per_day_description:function(){return"The percentage of outbound calls for the day terminated by the remote side after answer while waiting in queue"},out_calls_dropped_in_queue_per_day_general:function(){return"OUT Queue Dropped"},out_calls_dropped_in_queue_per_day_short:function(){return"Queue Dropped"},out_calls_dropped_in_queue_per_day_description:function(){return"The number of outbound calls for the day disconnected by the system while waiting in queue"},out_calls_unattended_per_day_general:function(){return"OUT Unattended"},out_calls_unattended_per_day_short:function(){return"Unattended"},out_calls_unattended_per_day_description:function(){return"The number of outbound calls for the day exceeded the Unattended call timeout after answer and terminated by the system while being processed in a scenario"},out_calls_unattended_ratio_per_day_general:function(){return"Out Unattended %"},out_calls_unattended_ratio_per_day_short:function(){return"Unattended %"},out_calls_unattended_ratio_per_day_description:function(){return"The percentage of outbound calls for the day exceeded the Unattended call timeout after answer and terminated by the system while being processed in a scenario"},out_calls_routed_per_day_general:function(){return"OUT Routed"},out_calls_routed_per_day_short:function(){return"Routed"},out_calls_routed_per_day_description:function(){return"The number of times outbound calls were routed to the agents for the day"},out_calls_ringing_general:function(){return"OUT Ringing"},out_calls_ringing_short:function(){return"Ringing"},out_calls_ringing_description:function(){return"The number of answered outbound calls that are being distributed to agents from the service queue, but have not been accepted yet"},out_calls_abandoned_ringing_per_day_general:function(){return"OUT Ringing Abdnd"},out_calls_abandoned_ringing_per_day_short:function(){return"Ringing Abdnd"},out_calls_abandoned_ringing_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while being routed to agents"},out_calls_dropped_ringing_per_day_general:function(){return"OUT Ringing Dropped"},out_calls_dropped_ringing_per_day_short:function(){return"Ringing Dropped"},out_calls_dropped_ringing_per_day_description:function(){return"The number of outbound calls for the day disconnected by the system while being routed to agents"},out_calls_duration_average_per_day_general:function(){return"OUT Avg Talk"},out_calls_duration_average_per_day_short:function(){return"Avg Talk"},out_calls_duration_average_per_day_description:function(){return"The average talk time agents spent on outbound calls for the day, including hold time"},out_calls_duration_total_per_day_general:function(){return"OUT Total Talk"},out_calls_duration_total_per_day_short:function(){return"Total Talk"},out_calls_duration_total_per_day_description:function(){return"The total talk time agents spent on outbound calls for the day, including hold time"},out_calls_rejected_per_day_general:function(){return"OUT Ignored"},out_calls_rejected_per_day_short:function(){return"Ignored"},out_calls_rejected_per_day_description:function(){return"The number of times the agents rejected or missed outbound calls during routing for the day"},out_calls_handled_per_day_general:function(){return"OUT Handled"},out_calls_handled_per_day_short:function(){return"Handled"},out_calls_handled_per_day_description:function(){return"The number of outbound calls accepted by the agents"},out_calls_active_on_agents_general:function(){return"OUT Connected"},out_calls_active_on_agents_short:function(){return"Connected"},out_calls_active_on_agents_description:function(){return"The number of answered outbound calls that are connected to the agent"},out_calls_disconnected_talking_per_day_general:function(){return"OUT Remote Discnctd"},out_calls_disconnected_talking_per_day_short:function(){return"Remote Discnctd"},out_calls_disconnected_talking_per_day_description:function(){return"The number of outbound calls for the day ended by the remote side"},out_calls_dropped_talking_per_day_general:function(){return"OUT Agent Discnctd"},out_calls_dropped_talking_per_day_short:function(){return"Agent Discnctd"},out_calls_dropped_talking_per_day_description:function(){return"The number of outbound calls for the day ended by the agents"},out_calls_transferred_per_day_general:function(){return"OUT Transferred"},out_calls_transferred_per_day_short:function(){return"Transferred"},out_calls_transferred_per_day_description:function(){return"The number of outbound calls for the day where agents initiated a transfer, regardless of whether it was accepted"},out_calls_abandoned_per_day_general:function(){return"OUT Total Abdnd"},out_calls_abandoned_per_day_short:function(){return"Total Abdnd"},out_calls_abandoned_per_day_description:function(){return"The number of outbound calls for the day terminated by the remote side after answer while being processed in a scenario"},out_calls_abandoned_ratio_per_day_general:function(){return"OUT Total Abdnd %"},out_calls_abandoned_ratio_per_day_short:function(){return"Total Abdnd %"},out_calls_abandoned_ratio_per_day_description:function(){return"The percentage of outbound calls for the day terminated by the remote side after answer while being processed in a scenario"},in_emails_joined_existing_cases_general:function(){return"@ Joined"},in_emails_joined_existing_cases_short:function(){return"Joined"},in_emails_joined_existing_cases_description:function(){return"The number of inbound emails for the day joined to already existing cases"},in_email_received_new_per_day_general:function(){return"@ Received New"},in_email_received_new_per_day_short:function(){return"Received New"},in_email_received_new_per_day_description:function(){return"The number of inbound emails for the day created new cases"},in_email_carried_over_general:function(){return"@ Carried Over"},in_email_carried_over_short:function(){return"Carried Over"},in_email_carried_over_description:function(){return"The number of unprocessed inbound emails from the previous day"},in_email_carried_over_new_general:function(){return"@ Carried Over New"},in_email_carried_over_new_short:function(){return"Carried Over New"},in_email_carried_over_new_description:function(){return"The number of unprocessed inbound emails from the previous day that created new cases"},in_email_offered_per_day_general:function(){return"@ Offered"},in_email_offered_per_day_short:function(){return"Offered"},in_email_offered_per_day_description:function(){return"The number of inbound emails pushed to the agents for the day"},in_email_rejected_per_day_general:function(){return"@ Ignored"},in_email_rejected_per_day_short:function(){return"Ignored"},in_email_rejected_per_day_description:function(){return"The number of inbound emails pushed to the agents for the day, but not accepted by them"},in_email_pulled_per_day_general:function(){return"@ Pulled"},in_email_pulled_per_day_short:function(){return"Pulled"},in_email_pulled_per_day_description:function(){return"The number of inbound emails pulled by the agents for the day"},in_email_processed_replied_per_day_general:function(){return"@ Replied"},in_email_processed_replied_per_day_short:function(){return"Replied"},in_email_processed_replied_per_day_description:function(){return"The number of inbound emails replied for the day"},in_email_processed_noreply_per_day_general:function(){return"@ Closed"},in_email_processed_noreply_per_day_short:function(){return"Closed"},in_email_processed_noreply_per_day_description:function(){return"The number of inbound emails closed without reply for the day"},in_email_handled_new_per_day_general:function(){return"@ Handled New"},in_email_handled_new_per_day_short:function(){return"Handled New"},in_email_handled_new_per_day_description:function(){return"The number of new emails for the day processed by agents, including replied, closed without reply, transferred and service changes"},in_email_waiting_in_personal_queues_general:function(){return"Agents Inbox"},in_email_waiting_in_personal_queues_short:function(){return"Inbox"},in_email_waiting_in_personal_queues_description:function(){return"The number of inbound emails in the agents' personal queues"},in_email_waiting_in_pq_breached_sla_general:function(){return"Agents Breached SLA Inbox"},in_email_waiting_in_pq_breached_sla_short:function(){return"Breached SLA Inbox"},in_email_waiting_in_pq_breached_sla_description:function(){return"The number of inbound emails in the agents' personal queues that have not been replied within the SLA time"},out_email_waiting_in_personal_queues_general:function(){return"Agents Outbox"},out_email_waiting_in_personal_queues_short:function(){return"Outbox"},out_email_waiting_in_personal_queues_description:function(){return"The number of saved drafts of outbound emails in the agents' personal queues"},in_service_changed_per_day_general:function(){return"@ Svc Changed"},in_service_changed_per_day_short:function(){return"Svc Changed"},in_service_changed_per_day_description:function(){return"The number of inbound emails re-categorized to a different service by the agents"},in_service_change_received_per_day_general:function(){return"@ Svc Change Received"},in_service_change_received_per_day_short:function(){return"Svc Change Received"},in_service_change_received_per_day_description:function(){return"The number of inbound emails re-categorized from a different service by agents"},in_email_spam_general:function(){return"@ Spam"},in_email_spam_short:function(){return"Spam"},in_email_spam_description:function(){return"The number of inbound emails re-categorized as spam by the agents"},in_email_trash_general:function(){return"@Trash"},in_email_trash_short:function(){return"Trash"},in_email_trash_description:function(){return"The number of inbound emails re-categorized as trash by the agents"},extension_general:function(){return"Extension"},extension_short:function(){return"Extension"},extension_description:function(){return"Phone extension"},name_general:function(){return"Name"},name_short:function(){return"Name"},name_description:function(){return""},team_name_general:function(){return"Team"},team_name_short:function(){return"Team"},team_name_description:function(){return"Team name"},login_time_general:function(){return"Login"},login_time_short:function(){return"Login"},login_time_description:function(){return"The time the agent has been logged on to the system"},acd_state_general:function(){return"State"},acd_state_short:function(){return"State"},acd_state_description:function(){return""},state_duration_general:function(){return"Time in State"},state_duration_short:function(){return"Time in State"},state_duration_description:function(){return"The time the agent has been spending in the current state"},reason_general:function(){return"Not Ready Reason"},reason_short:function(){return"Reason"},reason_description:function(){return"Not Ready reason"},acd_next_state_general:function(){return"Next State"},acd_next_state_short:function(){return"Next State"},acd_next_state_description:function(){return"Next state set by agent"},next_reason_general:function(){return"Next Not Ready Reason"},next_reason_short:function(){return"Next Reason"},next_reason_description:function(){return"Reason for Not Ready, if the agent selected Not Ready as the next state"},active_item_service_name_general:function(){return"Active Item Service"},active_item_service_name_short:function(){return"Service"},active_item_service_name_description:function(){return"Service name of the active interaction"},active_item_media_type_general:function(){return"Active Item Media Type"},active_item_media_type_short:function(){return"Media Type"},active_item_media_type_description:function(){return"Media Type of the active interaction: call, chat or email"},active_item_state_general:function(){return"Active Item State"},active_item_state_short:function(){return"State"},active_item_state_description:function(){return"The current state of the active interaction"},active_item_direction_general:function(){return"Active Item Direction"},active_item_direction_short:function(){return"Direction"},active_item_direction_description:function(){return"Direction of the active interactions: inbound or outbound"},active_item_party_name_general:function(){return"Active Item Party Name"},active_item_party_name_short:function(){return"Party Name"},active_item_party_name_description:function(){return"Name of the remote party"},active_item_is_flagged_general:function(){return"Active Item Flagged"},active_item_is_flagged_short:function(){return"Flagged"},active_item_is_flagged_description:function(){return"Is the active interaction flagged"},active_item_qm_monitor_mode_general:function(){return"Active Item Monitor Mode"},active_item_qm_monitor_mode_short:function(){return"Monitor Mode"},active_item_qm_monitor_mode_description:function(){return"Monitor mode of the active interaction"},active_item_talk_duration_general:function(){return"Active Item Talk"},active_item_talk_duration_short:function(){return"Talk"},active_item_talk_duration_description:function(){return"Time the agent spent talking on the active interaction"},active_item_hold_duration_general:function(){return"Active Item Total Hold"},active_item_hold_duration_short:function(){return"Total Hold"},active_item_hold_duration_description:function(){return"For calls: the total time the active interaction has been on hold. For chats and emails: the total time the active interaction has been ongoing, but not selected in Active Communication List "},active_item_sentiment_general:function(){return"Sentiment"},active_item_sentiment_short:function(){return"Sentiment"},active_item_sentiment_description:function(){return"The current sentiment of the interaction"},active_item_qm_is_recording_general:function(){return"Active Item Recording"},active_item_qm_is_recording_short:function(){return"Recording"},active_item_qm_is_recording_description:function(){return"Is the recording of the active interaction enabled"},talk_duration_general:function(){return"Talk"},talk_duration_short:function(){return"Talk"},talk_duration_description:function(){return"For calls: the time the agent has been talking for the interaction excluding any time on hold. For chats and emails: the time the agent was actively engaged in the interaction by selecting it in Active Communication List"},hold_duration_general:function(){return"Total Hold"},hold_duration_short:function(){return"Total Hold"},hold_duration_description:function(){return"For calls: the total time the interaction has been on hold. For chats and emails: the total time the interaction has been ongoing, but not selected in Active Communication List"},current_hold_duration_general:function(){return"Hold"},current_hold_duration_short:function(){return"Hold"},current_hold_duration_description:function(){return"For calls: the current time the interaction has been on hold. For chats and emails: the current time the interaction has been ongoing, but not selected in Active Communication List"},priority_general:function(){return"Order"},priority_short:function(){return"Order"},priority_description:function(){return"Order defines the order (from low to high) in which lists will be used within the service"},is_enabled_general:function(){return"Status"},is_enabled_short:function(){return"Status"},is_enabled_description:function(){return"Enabled or Disabled"},ratio_general:function(){return"Ratio"},ratio_short:function(){return"Ratio"},ratio_description:function(){return"For lists with the same order, Ratio defines the ratio at which records from these lists will be used"},outbound_campaign_link_group_general:function(){return"Link"},outbound_campaign_link_group_short:function(){return"Link"},outbound_campaign_link_group_description:function(){return"Link Group"},last_alert_general:function(){return"Last Alert"},last_alert_short:function(){return"Last Alert"},last_alert_description:function(){return""},first_last_name_general:function(){return"First Name Last Name"},first_last_name_short:function(){return"Name"},first_last_name_description:function(){return"First Name Last Name"},last_first_name_general:function(){return"Last Name First Name"},last_first_name_short:function(){return"Name"},last_first_name_description:function(){return"Last Name First Name"}},NEW_METRIC_GROUP_NAMES:{status:function(){return"Status"},agents:function(){return"Agents"},states_daily:function(){return"States Daily"},surveys_daily:function(){return"Surveys Daily"},reminders:function(){return"Reminders"},inbound_daily:function(){return"Inbound Daily"},inbound_now:function(){return"Inbound Now"},inbound_at_specific_daily:function(){return"Inbound @-specific Daily"},outbound_daily:function(){return"Outbound Daily"},outbound_now:function(){return"Outbound Now"},active_lists_records:function(){return"Active Lists Records"},records_daily:function(){return"Records Daily"},campaign:function(){return"Campaign"},at_personal_queues:function(){return"@ Personal Queues"},list:function(){return"List"},active_item:function(){return"Active Item"}},MONITORING_TEAMS_COLUMN_NAMES:{teams_column_name:function(){return"Name"}},CAMPAIGN_MONITOR:{campaigns_group_status:function(){return"Status"},campaigns_group_agents:function(){return"Agents"},campaigns_group_active_lists_records:function(){return"Active Lists Records"},campaigns_group_calls_daily:function(){return"Calls Daily"},campaigns_group_records_daily:function(){return"Records Daily"},campaigns_group_inbound:function(){return"Inbound"},campaigns_column_teams:function(){return"Teams"},campaign_details_title:function(e){return"Campaign: {0}"},campaigns_active_lists_records_group:function(){return"Active lists records"},campaigns_records_daily_group:function(){return"Records Daily"},campaigns_column_list_name:function(){return"List name"},campaigns_column_list_last_updated:function(){return"Last Updated"},no_campaign_selected:function(){return"No campaign selected"},assign_and_delete_teams:function(){return"Assign & Delete Teams"},change_mode_and_overdial_rate:function(){return"Change Mode & Overdial Rate"},open_daily_report:function(){return"Open Daily Report"},preview_detailed_results:function(){return"Preview Detailed Results"},open_settings:function(){return"Open Settings"},set_order_and_ratio:function(){return"Set Order & Ratio"},get_remaining_records:function(){return"Get Remaining Records"},remaining_records:function(){return"Remaining Records"},get_list_update_log:function(){return"Get List Update Log"},chart_settings:function(){return"Chart Settings"},displaying_mode:function(){return"Displaying Mode"},display_on_pie:function(){return"Display on the pie"},display_in_list:function(){return"Display in the list"},select_all:function(){return"Select All"},config_per_campaign_note:function(){return"Please note that selections should be made independently for each campaign."},default_pie_title:function(){return"Record Dispositions"},count:function(){return"Count"},loading:function(){return"Loading..."},no_dispositions:function(){return"No dispositions"},voice_campaigns:function(){return"Voice Campaigns"},messaging_campaigns:function(){return"Messaging Campaigns"},alert:function(){return"Alert"},generating_report:function(){return"Generating report - depending on the number of records, this may take up to several minutes - please wait\u2026"},available_now:function(){return"Available Now"},postponed:function(){return"Postponed"},postponed_until:function(){return"Postponed Until"},misconfigured:function(){return"Misconfigured"},today_am:function(){return"Today AM"},today_pm:function(){return"Today PM"},tomorrow_am:function(){return"Tomorrow AM"},tomorrow_pm:function(){return"Tomorrow PM"},later:function(){return"Later"}},UNDEFINED:{button_open_contact_text:function(){return"Open"},contact_messenger:function(){return"Messenger"},contact_messenger_user_id_placeholder:function(){return"Messenger ID"},contact_messenger_username_placeholder:function(){return"User name"}},INSTALLATION_PROCESS:{bp_client_update_extension_part1:function(){return"Click "},bp_client_update_extension_part2:function(){return" the extension."},bp_client_not_authorized_message_part1:function(){return"This domain is not authorized to access your screen and microphone, please click "},bp_client_not_authorized_message_part2:function(){return" to authorize"}},AUDIO_DEVICES_DIALOG_BOX:{authorized_domains_link_part1:function(){return"Click "},authorized_domains_link_part2:function(){return" to manage list of authorized domains"},test_speaker:function(){return"Test speaker"},test_speaker_stop:function(){return"Stop test"},test_microphone:function(){return"Test microphone"},test_microphone_speak:function(){return"Speak..."},test_microphone_playing_recording:function(){return"Playing Recording..."}},INTEGRATIONS:{associated_object_from_screen_pop_empty_name:function(){return"Record from screen pop"},associated_object_from_screen_pop_type_only:function(e){return"{0} from screen pop"}},SCREENPOP_FORM:{email_type_business_short:function(){return"Business"},email_type_private_short:function(){return"Private"},email_type_primary_short:function(){return"Primary"}},CHAT_CENTER:{upload_failed:function(){return"Upload failed"},select_files:function(){return"Select files"},failed_to_upload:function(e,t){return"{0} of {1} files failed to upload."},max_file_size_exceeded:function(e){return"Max file size of {0} exceeded"},unread_messages_button_text:function(){return"Unread messages"},unread_messages:function(){return"Unread messages"},chat_center_header:function(){return"Chat Center"},pinned_chats_title:function(){return"Pinned"},team_chats_title:function(){return"Team Chats"},recent_chats_title:function(){return"Recents"},new_team_chat_button_tooltip:function(){return"New team chat"},no_recent_chats_message:function(){return"No recent chats"},main_search_input_placeholder:function(){return"Find people, named chats, and messages"},main_search_loader_text:function(){return"Keep typing to search for suggestions"},chat_empty_title:function(){return"Empty Chat"},chat_2_members_title:function(e,t){return"{0} and {1}"},chat_many_members_title:function(e,t,n){return"{0}, {1}, +{2}"},chat_last_message_your_author_name:function(){return"You"},show_actions_button_tooltip:function(){return"Show actions"},recent_chat_action_pin_text:function(){return"Pin"},recent_chat_action_unpin_text:function(){return"Unpin"},recent_chat_action_mute_text:function(){return"Mute"},recent_chat_action_unmute_text:function(){return"Unmute"},recent_chat_action_enable_alerts_text:function(){return"Enable Interaction Alerts"},recent_chat_action_delete_text:function(){return"Delete"},recent_chat_action_leave_text:function(){return"Leave"},chat_header_members_icon_tooltip:function(){return"Manage chat members"},show_all_participants_button_text:function(e){return"Show all {0} participants"},add_people_button_text:function(){return"Add People"},leave_chat_button_text:function(){return"Leave Chat"},remove_member_confirmation_text:function(e){return"Do you want to remove {0} from conversation?"},remove_member_positive_button_text:function(){return"Remove"},remove_member_negative_button_text:function(){return"Cancel"},full_members_list_close_button_text:function(){return"Cancel"},full_members_list_search_input_placeholder:function(){return"Search"},leave_chat_confirmation_warning:function(){return"Are you sure you want to leave this group chat?"},leave_chat_positive_button_text:function(){return"Leave"},leave_chat_negative_button_text:function(){return"Cancel"},search_type_user_title:function(){return"People"},search_type_group_chat_title:function(){return"Group Chats"},search_type_teams_title:function(){return"Teams"},search_type_team_chats_title:function(){return"Team Chats"},search_no_results:function(e){return'No results found for "{0}"'},search_in_chats_button_text:function(e){return'Search for "{0}" in chats'},chat_add_members_positive_button_text:function(){return"Add People"},chat_add_members_negative_button_text:function(){return"Cancel"},chat_add_members_search_input_placeholder:function(){return"Find people and teams"},chat_add_members_to_personal_chat_note:function(){return"Adding people will create a new group chat"},chat_add_members_dont_include_history_option:function(){return"Don't include chat history"},chat_add_members_include_history_option:function(){return"Include chat history"},chat_add_new_team_chat_title:function(){return"New Team Chat"},chat_add_new_team_chat_text:function(){return"Team Chat Name"},chat_add_new_team_chat_btn_cancel:function(){return"Cancel"},chat_add_new_team_chat_btn_start_chat:function(){return"Start Chat"},chat_add_new_team_chat_placeholder:function(){return"Enter name of the team"},chat_add_new_team_chat_optional:function(){return"Optional"},potential_chat_message_main_text:function(){return"You're starting a new conversation"},potential_chat_message_secondary_text:function(){return"Type your first message below."},message_type_selector_regular_message:function(){return"Regular Message"},message_type_selector_announcement:function(){return"Announcement"},message_like_button_tooltip:function(){return"Like"},message_reactions_button_tooltip:function(){return"Reactions"},message_reply_button_tooltip:function(){return"Reply"},message_pin_button_tooltip:function(){return"Pin"},message_unpin_button_tooltip:function(){return"Unpin"},message_additional_actions_button_tooltip:function(){return"More"},message_enter_edit_mode_button_text:function(){return"Edit"},message_delete_button_text:function(){return"Delete"},message_reactions_users_list_title:function(){return"Reacted"},message_reactions_expand_users_button_text:function(e){return"+{0} more"},selected_reply_message_close_button_tooltip:function(){return"Remove reply"},message_unpin_confirmation_text:function(){return"This will unpin the message for everyone."},message_unpin_positive_button_text:function(){return"Unpin"},message_unpin_negative_button_text:function(){return"Cancel"},deleted_message_text:function(){return"This message has been deleted."},deleted_message_undo_button_text:function(){return"Undo"},edit_message_save_button_tooltip:function(){return"Save"},edit_message_cancel_button_tooltip:function(){return"Cancel"},edit_message_discard_changes_confirmation_text:function(){return"Cancel editing?"},edit_message_discard_changes_positive_button_text:function(){return"Yes"},edit_message_discard_changes_negative_button_text:function(){return"No"},delete_chat_confirmation_title:function(){return"Delete Chat"},delete_chat_confirmation_owner_body:function(){return"This will remove all the members and discontinue the chat."},delete_chat_confirmation_non_owner_body:function(){return"This will remove the chat from your recent activity."},delete_chat_confirmation_positive_button_text:function(){return"Delete"},delete_chat_confirmation_negative_button_text:function(){return"Cancel"},sys_message_personal_chat_created_text:function(e,t){return"{0} added {1} to the chat"},sys_message_group_chat_created_text:function(e,t,n){return"{0} added {1} and {2} other to the chat"},sys_message_member_left_text:function(e){return"{0} has left the chat"},sys_message_chat_renamed:function(e,t){return'{0} has changed the group chat name to "{1}"'},sys_message_one_member_added_no_history:function(e,t){return"{0} added {1} to the chat without sharing history"},sys_message_multiple_members_added_no_history:function(e,t,n){return"{0} added {1} and {2} other to the chat without sharing history"}},COMMUNICATION_PANEL:{pin_tooltip:function(){return"Pin Communication Panel "},active_interactions:function(){return"Active Interactions"}},SUPERVISION_PAGE:{metrics_alerts_configuration:function(){return"Metrics Alerts Configuration"},intents_alerts_configuration:function(){return"Intents Alerts Configuration"},intents_for_alerts_label:function(){return"Intents for Alerts"},no_active_alerts_message:function(){return"You have no active alerts"},search_agents:function(){return"Search agents"},load:function(){return"Load"},enter_the_view_name:function(){return"Enter the view name"},save_table_view:function(){return"Save Table View"},load_table_view:function(){return"Load Table View"},new_custom_group:function(){return"New Custom Group"},metric_edit_name:function(){return"Edit Name"},metric_restore_default_name:function(){return"Restore Default Name"},ungroup:function(){return"Ungroup"},serch_metrics:function(){return"Search metrics"},show_all_metrics_label:function(){return"Show all"},add_custom_group:function(){return"Add Custom Group"},manage_metrics_modal_title:function(){return"Manage Metrics"},actions_menu_option_manage_metrics:function(){return"Manage Metrics..."},actions_menu_option_restore_default_view:function(){return"Restore Default View"},actions_menu_option_set_view:function(){return"Set View as Default System-wide"},actions_menu_option_horizontal_scrolling_off:function(){return"Turn Horizontal Scrolling Off"},actions_menu_option_horizontal_scrolling_on:function(){return"Turn Horizontal Scrolling On"},actions_menu_option_collapse_table:function(){return"Collapse Table"},actions_menu_option_save_view:function(){return"Save View as..."},actions_menu_option_load_view:function(){return"Load View..."},actions_menu_btn_tooltip:function(){return"Table control actions menu"},full_screen_btn_tooltip:function(){return"Full Screen"},monitoring_subTeam_editMode_popupHeader:function(){return"SELECT AGENTS"},monitoring_subTeam_editMode_popupText:function(){return"To create a subteam, select agents below and click OK here."},monitoring_services_filter_services:function(){return"FILTER SERVICES"},monitoring_services_select_all:function(){return"(Select All)"},monitoring_services_use_filter:function(){return"Use Filter"},quality_management_monitor_show_details:function(){return"Show details"},quality_management_monitor_button:function(){return"Monitor"},quality_management_monitor_menu_button:function(){return"Monitor menu"},quality_management_monitor_menu_coach:function(){return"Coach"},quality_management_monitor_menu_barge_in:function(){return"Barge in"},quality_management_monitor_search_transcript:function(){return"Search transcript"},quality_management_monitor_party_connected:function(e){return"{0} connected"},quality_management_monitor_party_inviting:function(e){return"{0} inviting..."},quality_management_monitor_party_left:function(e){return"{0} disconnected"},quality_management_monitor_keep_monitoring:function(){return"Keep monitoring this agent"},users_table_status_column:function(){return"Status"},users_table_logged_out_users_label:function(){return"Logged-out users"},users_table_my_subteam_only_label:function(){return"My subteam only"},users_table_group_state:function(){return"State"},users_table_group_states_daily:function(){return"States Daily"},users_table_group_out_daily:function(){return"OUT Calls&Chats  Daily"},users_table_group_in_daily:function(){return"IN Calls&Chats Daily"},users_table_group_in_email_daily:function(){return"IN @ Daily"},users_table_group_surveys_daily:function(){return"Surveys Daily"},users_table_group_records_daily:function(){return"Records Daily"},users_table_group_remainders:function(){return"Reminders"}},EVALUATION_PAGE:{eval_home:function(){return"Eval Home"},evaluation:function(){return"Evaluation"},summary:function(){return"Summary"},transcript:function(){return"Transcript"},prescoring:function(){return"Prescoring"},screen_recording:function(){return"Screen Recording"},all_evals:function(){return"All Evals"},conversation_summary:function(){return"Conversation Summary"},ai_generated:function(){return"AI Generated"},all_participants:function(){return"All Participants"},all_participants_count:function(e){return"All participants ({0})"},additional_details:function(){return"Additional Details"},hang_up_by:function(){return"Hang up by"},csat:function(){return"CSAT"},fcr:function(){return"FCR"},hold_time:function(){return"Hold time"},talk_time:function(){return"Talk time"},acw_time:function(){return"ACW Time"},agent_notes:function(){return"Agent Notes"},comment:function(){return"Comment"},disposition:function(){return"Disposition"},search_results_count:function(e){return"Search Results: {0}"},no_rows_to_show:function(){return"No rows to show"},assign:function(){return"Assign"},calibrate:function(){return"Calibrate"},filter_search_results:function(){return"Filter search results"},edit_columns:function(){return"Edit columns"},agent:function(){return"Agent"},client:function(){return"Client"},system:function(){return"System"},suggestion:function(){return"Suggestion"},contact:function(){return"Contact"},time_date:function(){return"Time/Date"},compliance:function(){return"Compliance"},service:function(){return"Service"},nps:function(){return"NPS"},sentiment:function(){return"Sentiment"},duration:function(){return"Duration"},status:function(){return"Status"},recording:function(){return"Recording"},fcr_positive_value:function(){return"Yes"},fcr_negative_value:function(){return"No"},show_all_metric:function(){return"Show All"},selected_row_counter:function(e){return"{0} selected"},saved_searches:function(){return"Saved Searches"},create_search_in_folder:function(){return"Create Search in Folder"},create_folder:function(){return"Create Folder"},rename:function(){return"Rename"},delete:function(){return"Delete"},actions:function(){return"Actions"},delete_tree_elem_modal_header:function(e){return"Remove {0}"},delete_tree_elem_modal_body:function(){return"You are going to remove the search"},delete_tree_elem_confirm_modal:function(){return"Remove"},create_tree_elem_confirm_modal:function(){return"Create"},new_folder:function(){return"New Folder"},new_search:function(){return"New Search"},name:function(){return"Name"},assign_evaluation:function(){return"Assign Evaluation"},assign_calibration:function(){return"Assign Calibration"},cancel:function(){return"Cancel"},save:function(){return"Save"},submit:function(){return"Submit"},change_comment:function(){return"Change Comment"},change_disposition:function(){return"Change Disposition"},reason:function(){return"Reason"},autoAcknowledge:function(){return"Auto Acknowledge"},add_filter:function(){return"Add Filter"},add_or_filter:function(){return"Add ANY OF"},interaction_attributes:function(){return"Interaction Attributes"},agent_attributes:function(){return"Agent Attributes"},evaluation_attributes:function(){return"Evaluation Attributes"},special_attributes:function(){return"Special Attributes"},content:function(){return"Content"},quality_metrics:function(){return"Quality Metrics"},customer_attributes:function(){return"Customer Attributes"},filter_name_account_number:function(){return"Account Number"},edit_name_of_search:function(){return"Edit name of search"},filter_name_agent:function(){return"Agent"},filter_name_agent_notes_contains:function(){return"Agent Notes Contains"},filter_name_agents_rank:function(){return"Agent's rank"},filter_name_agents_supervisor:function(){return"Agent's supervisor"},filter_name_agents_training_class:function(){return"Agent's training class"},filter_name_bookmarked:function(){return"Bookmarked"},filter_name_case_id:function(){return"Case ID"},filter_name_comment_contains:function(){return"Comment Contains"},filter_name_connected_to:function(){return"Connected To"},filter_name_csat:function(){return"CSAT"},filter_name_custom_reporting_field_n:function(){return"Custom Reporting Field (N)"},filter_name_customer_phone_number:function(){return"Customer Phone Number"},filter_name_direction:function(){return"Direction"},filter_name_disposition:function(){return"Disposition"},filter_name_total_duration:function(){return"Total Duration"},filter_name_ended:function(){return"Ended"},filter_name_eval_completed:function(){return"Eval completed"},filter_name_eval_failed:function(){return"Eval Failed"},filter_name_eval_status:function(){return"Eval Status"},filter_name_eval_type:function(){return"Eval Type"},filter_name_evaluated:function(){return"Evaluated"},filter_name_evaluated_agent:function(){return"Evaluated Agent"},filter_name_evaluated_by:function(){return"Evaluated By"},filter_name_fcr:function(){return"FCR"},filter_name_first_name:function(){return"First Name"},filter_name_from:function(){return"From"},filter_name_global_interaction_id:function(){return"Global Interaction ID"},filter_name_handle_time:function(){return"Handle Time"},filter_name_hang_up_by:function(){return"Hang up by"},filter_name_has_call_problem:function(){return"Has Call Problem"},filter_name_has_recording:function(){return"Has Recording"},filter_name_has_screen_recording:function(){return"Has Screen Recording"},filter_name_has_voice_signature:function(){return"Has Voice Signature"},filter_name_in_email_subject:function(){return"In Email Subject"},filter_name_km_template:function(){return"KM Template"},filter_name_last_name:function(){return"Last Name"},filter_name_media_type:function(){return"Media Type"},filter_name_monitored_by:function(){return"Monitored By"},filter_name_nps:function(){return"NPS"},filter_name_quota:function(){return"Quota"},filter_name_record_id:function(){return"Record ID"},filter_name_scheduled_for:function(){return"Scheduled For"},filter_name_score:function(){return"Score"},filter_name_self_evaluated:function(){return"Self-evaluated"},filter_name_sentiment:function(){return"Sentiment"},filter_name_service:function(){return"Service"},filter_name_started:function(){return"Started"},filter_name_talk_time:function(){return"Talk Time"},filter_name_text_search:function(){return"Text Search"},filter_name_thread_id:function(){return"Thread ID"},filter_name_to:function(){return"To"},filter_name_transferred:function(){return"Transferred"},filter_name_flagged:function(){return"Flagged"},date_from:function(){return"From"},date_to:function(){return"To"},date_days_amount:function(){return"Number of Days"},filter_time_type_today:function(){return"Today"},filter_time_type_yesterday:function(){return"Yesterday"},filter_time_type_last_24h:function(){return"Last 24h"},filter_time_type_last_n_days:function(){return"Last N days"},filter_time_type_this_week:function(){return"This week"},filter_time_type_this_week_from_monday:function(){return"This week (fromMonday)"},filter_time_type_last_week_from_monday:function(){return"Last week (fromMonday)"},filter_time_type_last_week:function(){return"Last week"},filter_time_type_this_month:function(){return"This month"},filter_time_type_last_month:function(){return"Last month"},filter_time_type_custom_range:function(){return"Custom"},none:function(){return"None"},scheduled:function(){return"Scheduled"},confirmed:function(){return"Completed"},reviewed:function(){return"Accepted"},disputed:function(){return"Disputed"},assigned:function(){return"Assigned"},saved:function(){return"Draft"},submitted:function(){return"Pending"},reopened:function(){return"Reopened"},randomize_search_results:function(){return"Randomize search results"},reset_search:function(){return"Reset Search"},clone:function(){return"Clone"},agents:function(){return"Agents"},teams:function(){return"Teams"},evaluations:function(){return"Evaluations"},per_days:function(){return"Per Days"},any_team_i_supervise:function(){return"Any Team I Supervise"},any_team_i_evaluate:function(){return"Any Team I Evaluate"},min_sec:function(){return"Min (sec)"},max_sec:function(){return"Max (sec)"},all:function(){return"All"},neutral:function(){return"Neutral"},positive:function(){return"Positive"},negative:function(){return"Negative"},export:function(){return"Export"},audio:function(){return"Audio"},video:function(){return"Video"},transcription:function(){return"Transcription"},no_forms_for_services:function(){return"There are no evaluation forms defined for this service"},no_priveleges_for_evaluation:function(){return"You don't have enough privileges to make evaluation of this interaction"},export_interaction:function(){return"Export Interaction"},export_media_type:function(){return"Export media type"},selected_items_label:function(e){return"({0}) selected"},multiselected_items_count:function(e){return" + {0} selected"},all_selected_items_label:function(e){return"All except {0} selected"},range_selected_items_label:function(){return"{0} - {1} secs"},range_selected_items_days:function(e,t){return"from {0} - to {1}"},selected_items_n_days:function(e){return"Last {0} days"},filter_quota_value_name:function(e,t){return"{0} Evaluations per {1} days"},km_template_used:function(){return"KM Template used"},km_template_not_used:function(){return"KM Template not used"}},CHAT_RESPONSES:{delete_folder_modal_body:function(e){return"Are you sure you want to delete the folder {0} with all its\u2019 content?"},delete_response_modal_body:function(){return"Are you sure you want to delete the response?"},delete_folder_modal_header:function(){return"Delete Folder"},delete_response_modal_header:function(){return"Delete Response"},delete_modal_cancel:function(){return"Cancel"},delete_modal_confirm:function(){return"Delete"}},NAV_BAR:{page_title_context:function(){return"Context"},page_title_calendar:function(){return"Calendar"},page_title_cases:function(){return"Cases"},page_title_contacts:function(){return"Contacts"},page_title_campaigns:function(){return"Campaigns"},page_title_supervisor:function(){return"Supervisor"},page_title_internal_chat:function(){return"Internal"},page_title_omni_qm:function(){return"Omni QM"},page_title_kb:function(){return"KB"},page_title_kb_full:function(){return"Knowledge Base"},page_title_home_page:function(){return"Home Page"},more_title:function(){return"More"},page_title_evaluation:function(){return"Quality Management"}},CASE_MESSAGE:{party_joined:function(e){return"{0}: has joined the chat"},party_left:function(e){return"{0}: has left the chat"}},MERGE_FORM:{master_record:function(){return"Master Record"},phone_number:function(){return"Phone number"},email:function(){return"Email"},address:function(){return"Address"},messenger:function(){return"Messenger"},created:function(e){return"Created: {0}"},add_contact:function(){return"Add Contact"},max_emails:function(e){return"Contact cannot have more than {0} email addresses total, please unselect the extra addresses"},max_addresses:function(e){return"Contact cannot have more than {0} addresses total, please unselect the extra addresses"},max_phones:function(e){return"Contact cannot have more than {0} phone numbers total, please unselect the extra phone numbers"},max_messengers:function(e){return"Contact cannot have more than {0} messenger(s) total, please unselect the extra messenger(s)"},confirm_merge:function(){return"All non-master contacts will be deleted. Are you sure you want to proceed?"},confirm_reset:function(){return"Are you sure you want to reset values?"}}},(function(e){return Uo(e,(function(e){return qm(e)}))})));function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zm(e){return function(e){if(Array.isArray(e))return Hm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wm=Km;function Vm(e){return Uo(Gm,(function(t,n){return Uo(t,(function(t,r){return function(e,t,n,r){return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var s,c,u=null===(c=Wm[e])||void 0===c||null===(s=c[t])||void 0===s?void 0:s.mapKey,l=r[u];if(l)return Ym.apply(void 0,[l].concat(zm(o)));var d=n.apply(void 0,zm(o));return Ym.apply(void 0,[d].concat(zm(o)))}}(n,r,t,e)}))}))}function Ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?n.reduce((function(e,t,n){return e.split("{".concat(n,"}")).join(t)}),e):e}var Qm={onInitialState:{parameters:[]},onChange:{parameters:[]}},Jm={setLanguage:{parameters:[]}};function Xm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zm(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function eg(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zm(o,r,a,i,s,"next",e)}function s(e){Zm(o,r,a,i,s,"throw",e)}i(void 0)}))}}function tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ag(e)}function og(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Xm(e):t;var n}function ig(e,t){return ig=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ig(e,t)}function sg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ag(e);if(t){var a=ag(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return og(this,n)}}function cg(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ug=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ig(e,t)}(o,e);var t,n,r,a=sg(o);function o(){var e;tg(this,o);var t=Xm(e=a.apply(this,arguments));return rg(Xm(e),"setLanguage",function(){var e=eg((function(e){var n,r,a,o;return cg(this,(function(i){switch(i.label){case 0:return(r=e)?[3,2]:[4,t.getDefaultLanguage()];case 1:r=i.sent(),i.label=2;case 2:if((n=r)===t.stateData.language)return[2];if(a=function(){var e=t.stateData.translations[n];if(e){var r=Vm(e);t.produceState((function(e){e.language=n,e.t=r}))}},t.stateData.translations[n])return a(),[2];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,t.fetchTranslations(n,a)];case 4:return i.sent(),[3,6];case 5:return o=i.sent(),v.error("Can't get translations ".concat(n," from server:"),z(o)),[3,6];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),rg(Xm(e),"fetchTranslations",function(){var t,n=e.sessionConnector.getStateData().serverOrigin,r=Xm(e);return function(){var e=eg((function(e,a){var o,i;return cg(this,(function(s){switch(s.label){case 0:return t=e,o=e.replace("-","_"),[4,yc(n).getLocalizedMessages({locale:o})];case 1:return i=s.sent(),r.produceState((function(t){t.translations[e]=i})),t===e&&a(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()}()),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({setLanguage:this.setLanguage})),this.getDefaultLanguage().then(this.setLanguage),"desktop"===this.platformSpecific.clientType()&&this.watchNavigatorLanguage()}},{key:"getDefaultLanguage",value:function(){var e=this;return eg((function(){return cg(this,(function(t){switch(t.label){case 0:return[4,e.localSettings.get("userLanguage")];case 1:return[2,t.sent()||e.platformSpecific.getDefaultLanguage()]}}))}))()}},{key:"watchNavigatorLanguage",value:function(){var e=this;return eg((function(){var t;return cg(this,(function(n){return t=function(){var t=eg((function(){return cg(this,(function(t){switch(t.label){case 0:return[4,e.localSettings.get("userLanguage")];case 1:return void 0===t.sent()&&e.setLanguage(navigator.language),[2]}}))}));return function(){return t.apply(this,arguments)}}(),window.addEventListener("languagechange",t),e.subscriptions.push({unsubscribe:function(){window.removeEventListener("languagechange",t)}}),[2]}))}))()}}],n&&ng(t.prototype,n),r&&ng(t,r),o}(Ts.createBaseStateClass({name:"localizationState",controlEvents:Jm,trackerEvents:Qm,options:{},dependencies:["localSettings","platformSpecific","sessionConnector"],getInitialState:function(){return{language:"en-US",translations:{},t:Gm}}})),lg={closeModal:{parameters:[]},openModal:{parameters:[]},updateModal:{parameters:[]}},dg={onChange:{parameters:[]},onInitialState:{parameters:[]}};function fg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gg(e)}function hg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mg(e,t,n[t])}))}return e}function yg(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?fg(e):t;var n}function vg(e,t){return vg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vg(e,t)}function bg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gg(e);if(t){var a=gg(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yg(this,n)}}var Cg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vg(e,t)}(o,e);var t,n,r,a=bg(o);function o(){var e;return _g(this,o),mg(fg(e=a.apply(this,arguments)),"closeModal",(function(t){e.produceState((function(n){var r=e.getModalIndex(t);n.modals=n.modals.filter((function(e,t){return t!==r}))}))})),mg(fg(e),"openModal",(function(t){e.produceState((function(e){var n=hg({id:(0,C.v4)()},t);e.modals.push(n)}))})),mg(fg(e),"updateModal",(function(t){e.produceState((function(n){var r,a=null!==(r=e.getModalIndex(t.id))&&void 0!==r?r:e.stateData.modals.length;n.modals[a]=t}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({closeModal:this.closeModal,openModal:this.openModal,updateModal:this.updateModal}))}},{key:"getModalIndex",value:function(e){var t=this.stateData.modals.findIndex((function(t){return t.id===e}));return t>-1?t:void 0}}])&&pg(t.prototype,n),r&&pg(t,r),o}(Ts.createBaseStateClass({name:"modalsState",controlEvents:lg,trackerEvents:dg,dependencies:[],getInitialState:function(){return{modals:[]}},options:{synchronized:!1}}));var Sg=function(e,t){window.__REDUX_DEVTOOLS_EXTENSION__};function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Og=function(){function e(t,n,r,a,o,i,s,c,u,l,d,f,_,p,m,g){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ig(this,"platformSpecific",void 0),Ig(this,"appType",void 0),Ig(this,"transport",void 0),Ig(this,"localSettings",void 0),Ig(this,"currentTabDataProvider",void 0),Ig(this,"roleManager",void 0),Ig(this,"appConfigConnector",void 0),Ig(this,"integrationApiConnector",void 0),Ig(this,"localizationConnector",void 0),Ig(this,"modalsConnector",void 0),Ig(this,"offlineStateConnector",void 0),Ig(this,"sessionConnector",void 0),Ig(this,"tabsConnector",void 0),Ig(this,"timersConnector",void 0),Ig(this,"userActivityConnector",void 0),Ig(this,"passwordValidationStateConnector",void 0),Ig(this,"subscriptions",void 0),this.platformSpecific=t,this.appType=n,this.transport=r,this.localSettings=a,this.currentTabDataProvider=o,this.roleManager=i,this.appConfigConnector=s,this.integrationApiConnector=c,this.localizationConnector=u,this.modalsConnector=l,this.offlineStateConnector=d,this.sessionConnector=f,this.tabsConnector=_,this.timersConnector=p,this.userActivityConnector=m,this.passwordValidationStateConnector=g,this.subscriptions=[f.dispenser.subscribe({onInitialState:function(e){a.setCurrentUserId(e.userId)},onChange:function(e){"userId"in e&&a.setCurrentUserId(e.userId)}})]}var t,n,r;return t=e,n=[{key:"cleanup",value:function(){this.transport.cleanup(),this.currentTabDataProvider.cleanup(),this.roleManager.cleanup(),this.appConfigConnector.cleanup(),this.integrationApiConnector.cleanup(),this.localizationConnector.cleanup(),this.sessionConnector.cleanup(),this.tabsConnector.cleanup(),this.timersConnector.cleanup(),this.userActivityConnector.cleanup(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}],r=[{key:"create",value:function(t,n){var r=t.createLocalSettings(),a=function(e,t){return new ap(e,t)}(r,t),o=function(e){return"mobile"===e.clientType()||{FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"https://localhost:3000/agent/communicator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:!0,REACT_APP_SERVICE_WORKER_SCOPE:"/agent/communicator",REACT_APP_DISABLE_WEBSOCKET_MESSAGE_LOGGING:!1,REACT_APP_CURRENT_SERVER_ORIGIN:!1}.REACT_APP_SIMPLE_STATES?(t="master",{getRole:function(){return t},onInvalidateRole:function(){},removeInvalidateRoleHandler:function(){},onRoleChanged:function(){},removeRoleChangedListener:function(){},injectSessionStateConnector:function(){},cleanup:function(){}}):new Iu;var t}(t),i=function(e,t){return new Kc(e,t)}(n,o),s=new Ts({platformSpecific:t,localSettings:r,currentTabDataProvider:i,roleManager:o}),c=s.createState(Cg,{}),u=s.createState(ql,{platformSpecific:t}),l=s.createState(nd,{}),d=s.createState(vl,{platformSpecific:t,localSettings:r,transport:a,currentTabDataProvider:i}),f=s.createState(Mc,{transport:a,sessionConnector:d}),_=s.createState(ug,{localSettings:r,platformSpecific:t,sessionConnector:d}),p=s.createState(vp,{transport:a}),m=s.createState(Jc,{roleManager:o,sessionConnector:d}),g=s.createState(Em,{currentTabDataProvider:i,sessionConnector:d,tabsConnector:u}),h=s.createState(cu,{sessionConnector:d});i.injectTabsStateConnector(u),o.injectSessionStateConnector(d);var y=[f,c,g,_,m,d,u,l,p,h];return y.forEach((function(e){Ki(e),e.start()})),Sg(),new e(t,n,a,r,i,o,f,g,_,c,m,d,u,l,p,h)}}],n&&wg(t.prototype,n),r&&wg(t,r),e}();const Tg=Wr&&new Wr;var Eg=Tg?function(e,t){return Tg.set(e,t),e}:xo;const Dg=Eg;const Ag=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$d(e.prototype),r=e.apply(n,t);return Zt(r)?r:n}};const Pg=function(e,t,n){var r=1&t,a=Ag(e);return function t(){var o=this&&this!==qt&&this instanceof t?a:e;return o.apply(r?n:this,arguments)}};var kg=Math.max;const Rg=function(e,t,n,r){for(var a=-1,o=e.length,i=n.length,s=-1,c=t.length,u=kg(o-i,0),l=Array(c+u),d=!r;++s<c;)l[s]=t[s];for(;++a<i;)(d||a<o)&&(l[n[a]]=e[a]);for(;u--;)l[s++]=e[a++];return l};var Ng=Math.max;const Mg=function(e,t,n,r){for(var a=-1,o=e.length,i=-1,s=n.length,c=-1,u=t.length,l=Ng(o-s,0),d=Array(l+u),f=!r;++a<l;)d[a]=e[a];for(var _=a;++c<u;)d[_+c]=t[c];for(;++i<s;)(f||a<o)&&(d[_+n[i]]=e[a++]);return d};const jg=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};const xg=function(){};function Lg(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}Lg.prototype=$d(xg.prototype),Lg.prototype.constructor=Lg;const $g=Lg;const Kg=function(){};const Fg=Tg?function(e){return Tg.get(e)}:Kg;const Ug={};var qg=Object.prototype.hasOwnProperty;const Bg=function(e){for(var t=e.name+"",n=Ug[t],r=qg.call(Ug,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t};function Gg(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Gg.prototype=$d(xg.prototype),Gg.prototype.constructor=Gg;const Hg=Gg;const zg=function(e){if(e instanceof $g)return e.clone();var t=new Hg(e.__wrapped__,e.__chain__);return t.__actions__=yd(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t};var Wg=Object.prototype.hasOwnProperty;function Vg(e){if(cr(e)&&!er(e)&&!(e instanceof $g)){if(e instanceof Hg)return e;if(Wg.call(e,"__wrapped__"))return zg(e)}return new Hg(e)}Vg.prototype=xg.prototype,Vg.prototype.constructor=Vg;const Yg=Vg;const Qg=function(e){var t=Bg(e),n=Yg[t];if("function"!=typeof n||!(t in $g.prototype))return!1;if(e===n)return!0;var r=Fg(n);return!!r&&e===r[0]};const Jg=vf(Dg);var Xg=/\{\n\/\* \[wrapped with (.+)\] \*/,Zg=/,? & /;const eh=function(e){var t=e.match(Xg);return t?t[1].split(Zg):[]};var th=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const nh=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(th,"{\n/* [wrapped with "+t+"] */\n")};const rh=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1};const ah=function(e){return e!=e};const oh=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1};const ih=function(e,t,n){return t==t?oh(e,t,n):rh(e,ah,n)};const sh=function(e,t){return!!(null==e?0:e.length)&&ih(e,t,0)>-1};var ch=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const uh=function(e,t){return rd(ch,(function(n){var r="_."+n[0];t&n[1]&&!sh(e,r)&&e.push(r)})),e.sort()};const lh=function(e,t,n){var r=t+"";return bf(e,nh(r,uh(eh(r),n)))};const dh=function(e,t,n,r,a,o,i,s,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,a,l?o:void 0,l?i:void 0,l?void 0:o,l?void 0:i,s,c,u],f=n.apply(void 0,d);return Qg(e)&&Jg(f,d),f.placeholder=r,lh(f,e,t)};const fh=function(e){return e.placeholder};var _h=Math.min;const ph=function(e,t){for(var n=e.length,r=_h(t.length,n),a=yd(e);r--;){var o=t[r];e[r]=br(o,n)?a[o]:void 0}return e};var mh="__lodash_placeholder__";const gh=function(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==mh||(e[n]=mh,o[a++]=n)}return o};const hh=function e(t,n,r,a,o,i,s,c,u,l){var d=128&n,f=1&n,_=2&n,p=24&n,m=512&n,g=_?void 0:Ag(t);return function h(){for(var y=arguments.length,v=Array(y),b=y;b--;)v[b]=arguments[b];if(p)var C=fh(h),S=jg(v,C);if(a&&(v=Rg(v,a,o,p)),i&&(v=Mg(v,i,s,p)),y-=S,p&&y<l){var w=gh(v,C);return dh(t,n,e,h.placeholder,r,v,w,c,u,l-y)}var I=f?r:this,O=_?I[t]:t;return y=v.length,c?v=ph(v,c):m&&y>1&&v.reverse(),d&&u<y&&(v.length=u),this&&this!==qt&&this instanceof h&&(O=g||Ag(O)),O.apply(I,v)}};const yh=function(e,t,n){var r=Ag(e);return function a(){for(var o=arguments.length,i=Array(o),s=o,c=fh(a);s--;)i[s]=arguments[s];var u=o<3&&i[0]!==c&&i[o-1]!==c?[]:gh(i,c);if((o-=u.length)<n)return dh(e,t,hh,a.placeholder,void 0,i,u,void 0,void 0,n-o);var l=this&&this!==qt&&this instanceof a?r:e;return _f(l,this,i)}};const vh=function(e,t,n,r){var a=1&t,o=Ag(e);return function t(){for(var i=-1,s=arguments.length,c=-1,u=r.length,l=Array(u+s),d=this&&this!==qt&&this instanceof t?o:e;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++i];return _f(d,a?n:this,l)}};var bh="__lodash_placeholder__",Ch=128,Sh=Math.min;const wh=function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,i=r==Ch&&8==n||r==Ch&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!i)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Rg(c,s,t[4]):s,e[4]=c?gh(e[3],bh):t[4]}return(s=t[5])&&(c=e[5],e[5]=c?Mg(c,s,t[6]):s,e[6]=c?gh(e[5],bh):t[6]),(s=t[7])&&(e[7]=s),r&Ch&&(e[8]=null==e[8]?t[8]:Sh(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e};var Ih=/\s/;const Oh=function(e){for(var t=e.length;t--&&Ih.test(e.charAt(t)););return t};var Th=/^\s+/;const Eh=function(e){return e?e.slice(0,Oh(e)+1).replace(Th,""):e};var Dh=/^[-+]0x[0-9a-f]+$/i,Ah=/^0b[01]+$/i,Ph=/^0o[0-7]+$/i,kh=parseInt;const Rh=function(e){if("number"==typeof e)return e;if(fo(e))return NaN;if(Zt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Eh(e);var n=Ah.test(e);return n||Ph.test(e)?kh(e.slice(2),n?2:8):Dh.test(e)?NaN:+e};var Nh=1/0;const Mh=function(e){return e?(e=Rh(e))===Nh||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};const jh=function(e){var t=Mh(e),n=t%1;return t==t?n?t-n:t:0};var xh=Math.max;const Lh=function(e,t,n,r,a,o,i,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=a=void 0),i=void 0===i?i:xh(jh(i),0),s=void 0===s?s:jh(s),u-=a?a.length:0,64&t){var l=r,d=a;r=a=void 0}var f=c?void 0:Fg(e),_=[e,t,n,r,a,l,d,o,i,s];if(f&&wh(_,f),e=_[0],t=_[1],n=_[2],r=_[3],a=_[4],!(s=_[9]=void 0===_[9]?c?0:e.length:xh(_[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?yh(e,t,s):32!=t&&33!=t||a.length?hh.apply(void 0,_):vh(e,t,n,r);else var p=Pg(e,t,n);return lh((f?Dg:Jg)(p,_),e,t)};var $h=Mm((function(e,t){var n=gh(t,fh($h));return Lh(e,32,void 0,t,n)}));$h.placeholder={};const Kh=$h;var Fh=function(){return{activitiesList:[],activitiesListByContactId:{},activitiesListLoading:!1,activities:{}}},Uh={onInitialState:{parameters:[]},onChange:{parameters:[]}},qh={clearActivitiesListById:{parameters:[]},getActivitiesList:{parameters:[]},getActivity:{parameters:[]},resetState:{parameters:[]}};function Bh(e){var t;return null==e||null===(t=e.parties)||void 0===t?void 0:t.filter((function(e){return"bridge"!==e.role}))}function Gh(e){return null==e?void 0:e.filter((function(e){var t=e.item_id===e.party_id,n="internal"===e.type,r="external"===e.type,a="connected"===e.status;return!t&&(n&&a||r)}))}function Hh(e){return null==e?void 0:e.filter((function(e){var t="internal"===e.type,n="1"===e.is_qm&&"participate"!==e.qm_mode;return t&&!n}))}function zh(e,t){return null==e?void 0:e.find((function(e){return e.party_id===t}))}function Wh(e){var t,n;return e.forEach((function(e){_y(e)&&("hold"===e.state&&e.displayData.holdStartTime&&(!n||e.displayData.holdStartTime>n)&&(n=e.displayData.holdStartTime,t=e.id),"delivered"!==e.state&&"delivery_pending"!==e.state||(t=e.id))})),t}function Vh(e){var t,n;return ly(e)?null==e||null===(t=e.workitemData)||void 0===t?void 0:t.globalInteractionId:null==e||null===(n=e.scenarioData)||void 0===n?void 0:n.globalInteractionId}function Yh(e){return null==e?void 0:e.displayData.isConsultCall}function Qh(e){var t;return(ly(e)?null==e?void 0:e.id:null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId)||""}function Jh(e){var t;if(e)return null===(t=e.scenarioData)||void 0===t?void 0:t.channel}function Xh(e){return e&&(ly(e)?ko(e,"workitemData.serviceId"):ko(e,"scenarioData.serviceId"))}function Zh(e,t){var n="string"==typeof t?t:Xh(t);return n?ko(e[n],"chatServiceId",""):""}function ey(e){var t;return(null==e||null===(t=e.dispositionData)||void 0===t?void 0:t.notes)||[]}function ty(e,t){return!!e&&!!t&&!!e.fetchedContacts&&t in e.fetchedContacts}function ny(e){return!!e&&"potential"===e.itemKind}function ry(e){return!(!e||"agent_chat"!==e.mediaType&&!e.internalChatData)}function ay(e){return!!e&&"internalChat"===e.itemKind}function oy(e){return!!e&&"internalMessage"===e.itemKind}function iy(e){return!!e&&"chat"===e.mediaType}function sy(e){var t;return!!(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.isQm)}function cy(e){var t;return sy(e)&&"monitor"===(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.qmMonitorMode)}function uy(e){var t;return sy(e)&&"whisper"===(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.qmMonitorMode)}function ly(e){return!!e&&"workitem"===e.mediaType}function dy(e){return!!e&&"email"===e.mediaType&&!!e.emailData}function fy(e){return!!e&&!!e.userId}function _y(e){return!!e&&"voice"===e.mediaType}function py(e){var t;return _y(e)&&!(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.callId)}function my(e){return _y(e)&&!!(null==e?void 0:e.contactId)}function gy(e){return!!e&&("wrap_up"===e.state||"wrap_up_hold"===e.state)}function hy(e){if(!e)return!1;var t=e.parties;return!!t&&(cy(e)||uy(e)?t.length>2:t.length>1)}function yy(e){if(!e)return!1;var t=Hh(null==e?void 0:e.chatParties);return!!t&&(!!t&&t.length>1)}function vy(e){return!!e&&!!e.displayData.isConsultCall}function by(e){return!!e&&"delivered"===e.state}function Cy(e){return!!e.id}function Sy(e){return"CHAT"===e.media&&"conference"===e.type}function wy(e){return"CHAT"===e.media}function Iy(e){return"chat"===e.type&&!(null==e?void 0:e.groupChatData)}function Oy(e){return!!e&&"inbound"===e.direction}function Ty(e){return"scenario"===(null==e?void 0:e.type)||"conference_peer"===(null==e?void 0:e.type)&&"scenario"===e.peer_type}function Ey(e,t){if(t)return vy(t)?e.find((function(e){return e.id===ko(t,"displayData.isConsultCall")})):t}function Dy(e){return"delivered"===e.state||"hold"===e.state||"wrap_up"===e.state||"wrap_up_hold"===e.state}function Ay(e){return e&&Dy(e)&&"completed"===e.state}function Py(e){return!!e&&(!!ay(e)||(!!e.voiceCallAccepted||(!(!ly(e)||!Ay(e))||!(!_y(e)&&!iy(e))&&(!Oy(e)||Ay(e)))))}function ky(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function My(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jy(e)}function xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){My(e,t,n[t])}))}return e}function Ly(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function $y(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?ky(e):t;var n}function Ky(e,t){return Ky=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ky(e,t)}function Fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jy(e);if(t){var a=jy(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $y(this,n)}}var Uy,qy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ky(e,t)}(o,e);var t,n,r,a=Fy(o);function o(){var e;return Ry(this,o),My(ky(e=a.apply(this,arguments)),"clearActivitiesListById",(function(t){e.updateState(Ot((function(e){delete e.activitiesListByContactId[t]})))})),My(ky(e),"getActivitiesList",(function(t){e.updateState(Ot((function(e){e.activitiesList=[],e.activitiesListLoading=!0,e.activitiesListByContactId[t.id]={isLoading:!0,data:[]}})));var n=Kh(e.onActivitiesList,t.id),r=Kh(e.onActivitiesListError,t.id);e.fetchActivitiesList(t).then(n).catch(r)})),My(ky(e),"getActivity",(function(t){e.updateState(Ot((function(e){e.activities[t.id]={data:null,isLoading:!0}}))),e.fetchActivity(t).then((function(n){return e.onActivity(t.id,n)})).catch((function(){return e.onActivityError(t.id)}))})),My(ky(e),"resetStateFromClient",(function(){e.updateState({activitiesList:[],activitiesListByContactId:{},activitiesListLoading:!1,activities:{}})})),My(ky(e),"onActivitiesList",(function(t,n){var r=n.map((function(e){return{Id:e._id,globalInteractionId:e.global_interaction_id,mediaType:e.media_type,createdTime:e.created_time,direction:e.direction,parties:e.parties.map((function(e){return"USER"===e.party_type?{partyId:e.party_id,partyType:e.party_type,userId:e.user_id,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,startTime:e.start_time,duration:e.duration,disposition:e.disposition,notes:e.notes}:{partyId:e.party_id,partyType:e.party_type,contactId:e.contact_id,serviceId:e.service_id,startTime:e.start_time,duration:e.duration}})),services:e.services&&e.services.map((function(e){return{serviceId:e.service_id,serviceName:e.service_name}})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged}}));e.updateState(Ot((function(e){e.activitiesList=r,e.activitiesListLoading=!1,e.activitiesListByContactId[t]={isLoading:!1,data:r}})))})),My(ky(e),"onActivitiesListError",(function(t){e.updateState((function(e){return Ly(xy({},e),{activitiesList:[],activitiesListByContactId:Ly(xy({},e.activitiesListByContactId),My({},t,{isLoading:!1,data:[]})),activitiesListLoading:!1})}))})),My(ky(e),"onActivity",(function(t,n){var r=n.map((function(e){return{globalInteractionId:e.global_interaction_id,sessionId:e.session_id,tenantId:e.tenant_id,eraseLoginId:e.erase_login_id,eraseReason:e.erase_reason,eraseTime:e.erase_time,messages:e.messages.map((function(t){return{partyId:t.party_id,globalInteractionId:e.global_interaction_id,timestamp:t.timestamp,event:t.event,firstName:t.first_name,lastName:t.last_name,userId:t.user_id,contactId:t.contact_id,phone:t.phone,msg:t.msg,msgId:t.msg_id,refMsgId:t.ref_msg_id,channel:t.channel,type:t.type,fileType:t.file_type,fileName:t.file_name,fileId:t.file_id,page:t.page,title:t.title}}))}}));e.updateState(Ot((function(e){e.activities[t]={data:r,isLoading:!1}})))})),My(ky(e),"onActivityError",(function(t){e.updateState(Ot((function(e){e.activities[t]={data:null,isLoading:!1}})))})),My(ky(e),"fetchActivity",(function(t){var n=t.id,r=t.mediaType,a=e.sessionConnector.getStateData().serverOrigin,o="VOICE"===r?"VOICE_transcript":"chat_transcript";return yc(a).getActivity({transcriptType:o,activityId:n})})),My(ky(e),"fetchActivitiesList",(function(t){var n=t.id,r=e.sessionConnector.getStateData().serverOrigin;return yc(r).getContactActivity({contactId:n})})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({clearActivitiesListById:this.clearActivitiesListById,getActivitiesList:this.getActivitiesList,getActivity:this.getActivity,resetState:this.resetStateFromClient}),this.interactionStateConnector.dispenser.subscribe({onNewItem:function(t){var n=t.previousActivity;"CHAT"===(null==n?void 0:n.mediaType)&&e.getActivity({id:n.globalInteractionId,mediaType:n.mediaType})},onItemRemoved:function(t){t.contactId&&(iy(t)||ny(t))&&e.clearActivitiesListById(t.contactId)}}))}}])&&Ny(t.prototype,n),r&&Ny(t,r),o}(Ts.createBaseStateClass({name:"activitiesState",controlEvents:qh,trackerEvents:Uh,getInitialState:Fh,options:{authorized:!0},dependencies:["sessionConnector","interactionStateConnector"]})),By={onInitialState:{parameters:[]},onChange:{parameters:[]}},Gy={setState:{parameters:[]}};function Hy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qy(e)}function Jy(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?zy(e):t;var n}function Xy(e,t){return Xy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xy(e,t)}function Zy(e){return function(e){if(Array.isArray(e))return Hy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qy(e);if(t){var a=Qy(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Jy(this,n)}}!function(e){e.userDefined="0",e.noAnswer="1",e.connectionLoss="2",e.afterCallBreak="3",e.logoutPending="4",e.busyExternal="5"}(Uy||(Uy={}));var tv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xy(e,t)}(o,e);var t,n,r,a=ev(o);function o(){var e;return Wy(this,o),Yy(zy(e=a.apply(this,arguments)),"notReadyReasons",[]),Yy(zy(e),"notReadyIcons",[]),Yy(zy(e),"systemNotReadyReasons",{noAnswer:"No answer",connectionLoss:"Connection loss",afterCallBreak:"After call break",logoutPending:"Logout Pending"}),Yy(zy(e),"setState",(function(t){var n=t.state,r=t.reason;"busy"===e.stateData.state&&e.produceState((function(e){e.nextStateTouched=!0})),e.transport.dispatch.agent_change_state({acd_state:n,reason:r})})),Yy(zy(e),"onAgentChangeState",(function(t){var n=t.acd_state,r=t.reason,a=t.acd_next_state,i=t.next_reason,s=t.duration,c=e.stateData.state,u=e.stateData.notReadyReason,l=e.stateData.stateSetDate,d=c===n&&r===u?l:o.durationToDate(s);"string"==typeof n?e.updateState({state:n,notReadyReason:r,nextState:a,nextNotReadyReason:i,stateSetDate:d,nextStateTouched:n===c&&e.stateData.nextStateTouched}):e.updateState({state:void 0,notReadyReason:void 0,nextState:void 0,nextNotReadyReason:void 0,stateSetDate:void 0})})),Yy(zy(e),"onAgentWelcome",(function(t){var n=t.reasons,r=t.system_reasons,a=t.not_ready_order_type,o=__(t.items,(function(e){return e})),i=__(n,(function(e){return e})),s=__(r,(function(e){return e}));i.sort((function(e,t){return Number(e.order_num)-Number(t.order_num)})).forEach((function(t){e.notReadyReasons.includes(t.name)||(e.notReadyReasons.push(t.name),e.notReadyIcons.push(t.icon_name))})),s.forEach((function(t){t.type===Uy.noAnswer&&(e.systemNotReadyReasons.noAnswer=t.name),t.type===Uy.connectionLoss&&(e.systemNotReadyReasons.connectionLoss=t.name),t.type===Uy.afterCallBreak&&(e.systemNotReadyReasons.afterCallBreak=t.name),t.type===Uy.logoutPending&&(e.systemNotReadyReasons.logoutPending=t.name)}));var c=Zy(i).concat(Zy(s)).sort((function(e,t){return Number(e.order_num)-Number(t.order_num)})),u=e.getReservedIncomingInteractionId(o);e.updateState({incomingNotReadyItems:c,reservedForIncomingInteraction:Boolean(u),reservedForIncomingInteractionId:u,notReadyReasons:e.notReadyReasons,notReadyIcons:e.notReadyIcons,systemNotReadyReasons:e.systemNotReadyReasons,notReadyOrderType:a})})),Yy(zy(e),"onAgentItemCreated",(function(t){e.setReservedForIncomingInteraction(t)})),Yy(zy(e),"onAgentItemChanged",(function(t){"completed"===t.state&&e.clearReservedForIncomingInteraction(t.item_id),e.updateRingingInfo(t)})),Yy(zy(e),"onAgentNewItem",(function(){e.clearReservedForIncomingInteraction()})),Yy(zy(e),"setReservedForIncomingInteraction",(function(t){if("busy"!==e.stateData.state&&"email"!==t.media_type){var n=setTimeout((function(){e.produceState((function(e){e.reservedForIncomingInteraction=!0}))}),1e3);e.produceState((function(e){e.reservedForIncomingInteractionTimeout=n,e.reservedForIncomingInteractionId=t.item_id}))}})),Yy(zy(e),"updateRingingInfo",(function(t){"inbound"===t.direction&&"voice"==t.media_type&&("delivery_pending"===t.state?e.produceState((function(e){e.isRinging=!0,e.ringingStartTime=(new Date).getTime().toString()})):"delivered"!==t.state&&"completed"!==t.state||e.produceState((function(e){e.isRinging=!1,e.ringingStartTime=void 0})))})),Yy(zy(e),"getReservedIncomingInteractionId",(function(e){var t=null==e?void 0:e.find((function(e){return"queued"===e.state||"IVR"===e.state}));return null==t?void 0:t.item_id})),Yy(zy(e),"clearReservedForIncomingInteraction",(function(t){void 0!==t&&e.stateData.reservedForIncomingInteractionId!==t||(e.stateData.reservedForIncomingInteractionTimeout&&(clearTimeout(e.stateData.reservedForIncomingInteractionTimeout),e.produceState((function(e){e.reservedForIncomingInteractionTimeout=void 0}))),e.stateData.reservedForIncomingInteraction&&e.produceState((function(e){e.reservedForIncomingInteraction=!1})))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_change_state:this.onAgentChangeState,agent_welcome:this.onAgentWelcome,agent_item_created:this.onAgentItemCreated,agent_item_changed:this.onAgentItemChanged,agent_new_item:this.onAgentNewItem}),this.fromClientDispenser.subscribe({setState:this.setState}),this.interactionStateConnector.dispenser.subscribe({onAutoRejectIncomingEmail:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yy(e,t,n[t])}))}return e}({},{noAnswer:"No answer",connectionLoss:"Connection loss",afterCallBreak:"After call break",logoutPending:"Logout Pending"},e.stateData.systemNotReadyReasons);e.setState({state:"not_ready",reason:t.noAnswer})}}))}}],n&&Vy(t.prototype,n),r&&Vy(t,r),o}(Ts.createBaseStateClass({name:"agentState",controlEvents:Gy,trackerEvents:By,options:{synchronized:!0,authorized:!0},dependencies:["transport","interactionStateConnector"],getInitialState:function(){return{state:void 0,notReadyReason:void 0,nextState:void 0,nextNotReadyReason:void 0,reservedForIncomingInteractionTimeout:void 0,reservedForIncomingInteractionId:void 0,reservedForIncomingInteraction:!1}}}));Yy(tv,"durationToDate",(function(e){var t=new Date;return e&&Number(e)&&(t=new Date(Date.now()-1e3*Number(e))),String(Number(t))}));const nv=function(e,t,n,r){if(!Zt(e))return e;for(var a=-1,o=(t=Do(t,e)).length,i=o-1,s=e;null!=s&&++a<o;){var c=Ao(t[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=i){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=Zt(l)?l:br(t[a+1])?[]:{})}od(s,c,u),s=s[c]}return e};const rv=function(e,t,n){return null==e?e:nv(e,t,n)};var av={onInitialState:{parameters:[]},onChange:{parameters:[]}},ov={updateStatus:{parameters:[]},repeatStatus:{parameters:[]},removeStatusesById:{parameters:[]}};function iv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lv(e)}function dv(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?iv(e):t;var n}function fv(e,t){return fv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fv(e,t)}function _v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lv(e);if(t){var a=lv(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dv(this,n)}}var pv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fv(e,t)}(o,e);var t,n,r,a=_v(o);function o(){var e;return sv(this,o),uv(iv(e=a.apply(this,arguments)),"updateStatus",(function(t,n,r){e.updateState(Ot((function(e){rv(e.statuses,"".concat(t,".").concat(n),r)})))})),uv(iv(e),"repeatStatus",(function(t,n,r){e.updateState(Ot((function(e){e.statuses[t]||(e.statuses[t]={}),e.statuses[t]["".concat(n,"/").concat((0,C.v4)())]=r})))})),uv(iv(e),"removeStatusesById",(function(t){e.updateState(Ot((function(e){delete e.statuses[t]})))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({repeatStatus:this.repeatStatus,updateStatus:this.updateStatus,removeStatusesById:this.removeStatusesById}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:function(t){"mobile"!==e.platformSpecific.clientType()&&e.removeStatusesById(t.id)},onCallMuted:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"mute",n.ACCESSIBILITY.status_call_muted())}},onCallUnMuted:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"mute",n.ACCESSIBILITY.status_call_unmuted())}},onCallHeld:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"hold",n.ACCESSIBILITY.status_call_on_hold())}},onCallResumed:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"hold",n.ACCESSIBILITY.status_call_retrieved())}},onCallRecordingStarted:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"record",n.ACCESSIBILITY.alert_call_recording_started())}},onCallRecordingStopped:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"record",n.ACCESSIBILITY.alert_call_recording_stopped())}},onCallDisconnected:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t;e.updateStatus(t,"disconnect",n.ACCESSIBILITY.status_call_ended()),setTimeout((function(){e.removeStatusesById(t)}),1e4)}},onItemFlagged:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t,r=_y(t)?n.ACCESSIBILITY.alert_call_item_flagged():dy(t)?n.ACCESSIBILITY.alert_email_item_flagged():n.ACCESSIBILITY.alert_chat_item_flagged();e.updateStatus(t.id,"flag",r)}},onItemUnflagged:function(t){if("mobile"!==e.platformSpecific.clientType()){var n=e.localizationConnector.getStateData().t,r=_y(t)?n.ACCESSIBILITY.alert_call_item_unflagged():dy(t)?n.ACCESSIBILITY.alert_email_item_unflagged():n.ACCESSIBILITY.alert_chat_item_unflagged();e.updateStatus(t.id,"flag",r)}}}),this.interactionInternalChatConnector.dispenser.subscribe({onAgentChat:function(t){var n=t.userId;if("mobile"!==e.platformSpecific.clientType()){var r=e.localizationConnector.getStateData().t;e.repeatStatus(n,"message_sent",r.ACCESSIBILITY.status_chat_message_sent())}}}))}}],n&&cv(t.prototype,n),r&&cv(t,r),o}(Ts.createBaseStateClass({name:"ariaStatusState",controlEvents:ov,trackerEvents:av,getInitialState:function(){return{statuses:{}}},options:{authorized:!0},dependencies:["platformSpecific","localizationConnector","interactionStateConnector","interactionInternalChatConnector"]})),mv={onInitialState:{parameters:[]},onChange:{parameters:[]},onNotification:{parameters:[]},onTriggerScreenPop:{parameters:[]},onNavigateToInteraction:{parameters:[]},onInstallationRequired:{parameters:[]},onShowDomainAuthorizationDialog:{parameters:[]},onHideDomainAuthorizationDialog:{parameters:[]},onShowExtensionIsOldDialog:{parameters:[]}},gv={setScreenRecordingMute:{parameters:[]},log:{parameters:[]},openLogFolder:{parameters:[]},openLogFile:{parameters:[]},terminate:{parameters:[]},viewUserScreen:{parameters:[]},startAudioNotification:{parameters:[]},stopAudioNotification:{parameters:[]},setAudioDevice:{parameters:[]}},hv=function(){return{screenRecording:{vncInit:!1,muted:!1,stopping:!1,muting:!1,started:!1},softphone:{ready:!1},audioDevice:{},isExtensionAvailable:!1,isHelperAppInstanceCreated:!1,isDomainAuthorized:!0,isDomainAuthSupported:!1}};function yv(){return String((new Date).getTime()).slice(0,-5).padEnd(13,"0")}function vv(e,t,n,r){var a=e.serverOrigin,o=e.sessionId,i=e.loginId,s=e.domain,c=n?"photo":"photoIfFound",u="".concat(a).concat(vc.getContactPictureUrl).replace("{contactId}",t||"null").replace("{occurance}",c),l={token:o,user:i,tenant:s,tmp:yv()};r&&(l.white=Number(r));var d=bc(l);return"".concat(u,"?").concat(d)}function bv(e,t,n){var r=e.serverOrigin,a=e.sessionId,o=e.loginId,i=e.domain,s="".concat(r).concat(vc.getUserPictureUrl),c=bc({token:a,user:o,tenant:i,id:t,tmp:yv(),ifFound:n?void 0:1});return"".concat(s,"?").concat(c)}function Cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wv=function(e){if(isNaN(Number(e)))return e;if(e&&11===e.length){var t=e.split(""),n=Sv([1,3,3,4].map((function(e){return t.splice(0,e).join("")})),4),r=n[0],a=n[1],o=n[2],i=n[3];return"+".concat(r," (").concat(a,") ").concat(o,"-").concat(i)}return e};var Iv=function(e,t,n){var r,a,o=[null!==(r=null==t?void 0:t.trim())&&void 0!==r?r:"",null!==(a=null==n?void 0:n.trim())&&void 0!==a?a:""].filter(Boolean);switch(e){case"0":default:return o.join(" ");case"1":return o.reverse().join(" ");case"2":return o.reverse().join(", ")}};function Ov(e){return e.startsWith("image/")?"image":"attachment"}function Tv(e){return e>=-1&&e<=-.1?{score:e,label:"negative"}:e>-.1&&e<=.2?{score:e,label:"neutral"}:e>.2&&e<=1?{score:e,label:"positive"}:void 0}var Ev=function(){return{items:[],modalItemIds:[],callPickupNotifications:[],missedCallsAmount:0,isLoaded:!1,agentWelcomeReceived:!1,activeItemId:void 0}};function Dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Av(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kv(e,t,n){return t&&Pv(e.prototype,t),n&&Pv(e,n),e}function Rv(e){return function(e){if(Array.isArray(e))return Dv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nv=function(){function e(t,n){var r,a,o;Av(this,e),o=void 0,(a="listener")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,this.listener=function(e){var r,a,o=e.data,i=o.scope,s=o.event;i===t&&(null===(a=n[s])||void 0===a||(r=a).call.apply(r,[n].concat(Rv(o.payload))))},window.navigator.serviceWorker.addEventListener("message",this.listener)}return kv(e,[{key:"unsubscribe",value:function(){this.listener&&window.navigator.serviceWorker.removeEventListener("message",this.listener),delete this.listener}}]),e}(),Mv=function(){function e(){Av(this,e)}return kv(e,[{key:"subscribe",value:function(e,t){return new Nv(e,t)}},{key:"sendMessage",value:function(e){var t,n,r;(null===(r=window)||void 0===r||null===(n=r.navigator)||void 0===n||null===(t=n.serviceWorker)||void 0===t?void 0:t.controller)?window.navigator.serviceWorker.controller.postMessage(e):v.warn("Bright Pattern AD Shared/Service Worker isn't activated!")}},{key:"sendRequest",value:function(e){return Promise.reject("Not implemented for Worker Client communication layer")}}]),e}(),jv=new Mv;function xv(e){if(void 0!==("undefined"==typeof window?"undefined":(t=window)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)){var t,n=window.location.search,r=new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),a=n.replace(r,"$1");return decodeURIComponent(a)}}function Lv(e){return e.popupSupported&&!!xv("disablePluginPopup")}function $v(e){return"chrome"===l.browser||"firefox"===l.browser||"safari"===l.browser&&l.browserVersion>=10?e.versionHost:e.versionPlugin}var Kv={workitem:0,voice:0,chat:1,forum:2,email:3},Fv={debug:0,info:1,warning:2,error:3,panic:4,always:5};function Uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qv=function(e,t,n,r,a){!n(t)||e&&n(e)?e&&n(e)&&!n(t)&&a():r()},Bv=function(e,t){return fa(null==e?void 0:e.volume,null==t?void 0:t.volume)&&fa(null==e?void 0:e.mutes,null==t?void 0:t.mutes)},Gv=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Uv(e,t,n[t])}))}return e}({},e,(t||[]).reduce((function(e,t){return e[t]=-100,e}),{}))};function Hv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zv(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Wv(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zv(o,r,a,i,s,"next",e)}function s(e){zv(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Vv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jv(e,t,n){return Jv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xv(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Jv(e,t,n||e)}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xv(e)}function Zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qv(e,t,n[t])}))}return e}function eb(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function tb(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Hv(e):t;var n}function nb(e,t){return nb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nb(e,t)}function rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xv(e);if(t){var a=Xv(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tb(this,n)}}function ab(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ob=v.withPrefix("@BPC"),ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nb(e,t)}(o,e);var t,n,r,a=rb(o);function o(){var e;return Vv(this,o),Qv(Hv(e=a.apply(this,arguments)),"sessionData",{serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"}),Qv(Hv(e),"interactionStateData",{items:[],modalItemIds:[],callPickupNotifications:[],missedCallsAmount:0,isLoaded:!1,agentWelcomeReceived:!1,activeItemId:void 0}),Qv(Hv(e),"tabsData",{tabs:{}}),Qv(Hv(e),"netApiNotifiedItems",{}),Qv(Hv(e),"isApplicationLoaded",!1),Qv(Hv(e),"bpClientInit",!1),Qv(Hv(e),"isHelperUp",!1),Qv(Hv(e),"newInstanceUponHelperUp",!1),Qv(Hv(e),"newInstanceUponOldDestroyed",!1),Qv(Hv(e),"vaInitialized",!1),Qv(Hv(e),"phoneDeviceResultReceived",!1),Qv(Hv(e),"canLog",!1),Qv(Hv(e),"delaySetPhoneDeviceFunc",void 0),Qv(Hv(e),"delaySetPhoneDeviceTimer",void 0),Qv(Hv(e),"startEndpointFunc",void 0),Qv(Hv(e),"startEndpointTimer",void 0),Qv(Hv(e),"instanceCreateRetryInterval",void 0),Qv(Hv(e),"lastEndpointCode",void 0),Qv(Hv(e),"popupRequestTracker",Ya({timeoutMilliseconds:5e3})),Qv(Hv(e),"openedPopups",{}),Qv(Hv(e),"openedBrowserNotifications",{}),Qv(Hv(e),"autoAnswerPopupTimers",{}),Qv(Hv(e),"suppressHelperAppPopup",!1),Qv(Hv(e),"onTabsDataChange",(function(t){var n=Object.keys(t.tabs).reduce((function(e,n){var r=t.tabs[n];return r.visible&&e.push(r),e}),[]).some((function(e){return"adc"===e.app||"ad"===e.app}));n!==e.suppressHelperAppPopup&&(e.suppressHelperAppPopup=n,e.updateAllPopups())})),Qv(Hv(e),"onItemChange",(function(t){var n=e.interactionStateData.items.find((function(e){return e.id===t.id}));qv(n,t,(function(e){var t;return"chat"===e.mediaType&&!!(null===(t=e.externalChatData)||void 0===t?void 0:t.channel)&&"inbound"===e.direction&&"delivery_pending"===e.state||("email"===e.mediaType||"workitem"===e.mediaType)&&"delivery_pending"===e.state}),(function(){e.startAudioNotification("EXTERNAL_CHAT_NOTIFICATION")}),(function(){e.stopAudioNotification()})),qv(n,t,(function(e){var t;return"voice"===e.mediaType&&"inbound"===e.direction&&"delivery_pending"===e.state&&"offered"===(null===(t=e.callData)||void 0===t?void 0:t.callState)}),(function(){e.interactionStateData.items.some((function(e){var t;return"voice"===e.mediaType&&"established"===(null===(t=e.callData)||void 0===t?void 0:t.callState)}))?e.startAudioNotification("SOFTPHONE_CALL_WAITING"):e.startAudioNotification("SOFTPHONE_RING")}),(function(){e.stopAudioNotification()}))})),Qv(Hv(e),"bpClientHandlers",(function(t){var n=Hv(e),r={onPhoneState:function(){var e=Wv((function(e,t,r){var a,o,i,s;return ab(this,(function(c){switch(c.label){case 0:return ob.info("Phone State: ".concat(e,"; ").concat(t,"; ").concat(r)),1==e?[2]:(n.sendPhoneDeviceChanged({code:e,inDeviceString:t,outDeviceString:r}),[4,n.localSettings.get("lastUsedMicrophone")]);case 1:return a=c.sent(),[4,n.localSettings.get("lastUsedSpeaker")];case 2:return o=c.sent(),s=!o||r!==o,((i=!a||t!==a)||s)&&(n.produceState((function(e){e.audioDevice.input=t,e.audioDevice.output=r})),n.toClientDispatch.onNotification({notificationType:"audioDeviceChanged",closable:!0,duration:5e3,inChange:i,inDevice:t,outChange:s,outDevice:r})),n.updateVolume(),[4,n.localSettings.set("lastUsedMicrophone",t)];case 3:return c.sent(),[4,n.localSettings.set("lastUsedSpeaker",r)];case 4:return c.sent(),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),onInstanceCreated:function(){ob.info("instance CREATED"),e.canLog=!0,e.onHelperApplicationInstanceCreated(t),e.updateVolume(),Lv(t)||e.requestNotificationPermission(),t.origin||e.toClientDispatch.onShowExtensionIsOldDialog(t.browser),e.newInstanceUponOldDestroyed=!1},onInstanceDestroyed:function(){ob.info("instance DESTROYED"),e.canLog=!1,e.onHelperApplicationInstanceDestroyed(t),e.newInstanceUponOldDestroyed&&e.createInstance(t)},onHelperUp:function(){ob.info("helper UP"),e.isHelperUp=!0,e.newInstanceUponHelperUp&&(t.create(!!e.sessionData.disableAutoLogoutPrevention),e.newInstanceUponHelperUp=!1),null!=e.startEndpointFunc&&(e.startEndpointTimer=setTimeout(e.startEndpointFunc,500))},onHelperDown:function(){ob.info("helper DOWN"),e.isHelperUp=!1,e.stateData.isHelperAppInstanceCreated&&(e.newInstanceUponHelperUp=!0,r.onInstanceDestroyed()),null!=e.startEndpointTimer&&(clearTimeout(e.startEndpointTimer),delete e.startEndpointTimer)},onEndpointState:function(t,n,r){if(t&&t===e.sessionData.phoneNumber)switch(e.lastEndpointCode!=n&&(e.lastEndpointCode=n,ob.info("Endpoint State: ".concat(n,"; ").concat(r))),n){case 0:delete e.startEndpointFunc,e.sessionConnector.dispatch.sendSipEndpointStatusChanged({fail:!1});break;case 2:e.sessionConnector.dispatch.sendSipEndpointStatusChanged({fail:!0})}else ob.warn("onEndpointState wrong number: ".concat(t,"; code: ").concat(n,"; msg: ").concat(r));var a=0===n;a===e.stateData.softphone.ready&&r===e.stateData.softphone.error||e.produceState((function(e){e.softphone={ready:a,error:r}}))},onRtcCallMade:function(t,n,r,a){e.interactionStateConnector.dispatch.createRtcCall({number:n,requestId:t,sdp:a,status:""+r})},onRtcCallReset:function(t){e.interactionStateConnector.dispatch.sendRtcCallReset({number:t})},onSendMessage:function(t,n){ob.info("From BPClient: onSendMessage: ".concat(t," ").concat(n));try{var r=JSON.parse(n);e.sessionConnector.dispatch.transmitMessageFromPlugin(t,r)}catch(a){}},onRecordingSessionCompleted:function(n){ob.info("From BPClient: onRecordingSessionCompleted (ended): ".concat(n)),e.updateScreenRecordingState({sessionId:void 0,stopping:!1,started:!1}),e.netApiScreenRecordingCompleted(t,n)},onRecordingSessionCreated:function(n,r){ob.info("From BPClient: onRecordingSessionCreated (started): ".concat(r)),e.updateScreenRecordingState({sessionId:r}),e.netApiScreenRecordingStarted(t,r),e.stateData.screenRecording.muted&&r&&t.vncMuteRecording(r)},onRecordingSessionList:function(e){ob.info("From BPClient: onRecordingSessionList - stop recordings"),e.forEach((function(e){t.vncStopRecording(e)}))},onRecordingSessionMuted:function(n){ob.info("From BPClient: onRecordingSessionMuted: ".concat(n)),e.updateScreenRecordingState({muted:!0,muting:!1}),sessionStorage.setItem("mutedScreenRecordings","true"),t.sendMessageToApi(JSON.stringify({sessionId:n,command:"screen_recording_muted"}))},onRecordingSessionUnmuted:function(n){ob.info("From BPClient: onRecordingSessionUnmuted: ".concat(n)),e.updateScreenRecordingState({muted:!0,muting:!1}),sessionStorage.removeItem("mutedScreenRecordings"),t.sendMessageToApi(JSON.stringify({sessionId:n,command:"screen_recording_unmuted"}))},onError:function(t,n,r){ob.warn("From BPClient: onError ".concat(t,"; ").concat(n,"; ").concat(r)),"100"===t&&(e.canLog=!1),"6"===t&&e.stateData.isDomainAuthorized&&(e.produceState((function(e){e.isDomainAuthorized=!1})),e.instanceCreateRetryInterval=setInterval(e.tryToCreateInstance,5e3)),r&&e.popupRequestTracker.hasRequest(r)&&("5"===t?(ob.warn("Popup already visible, handle as success"),e.popupRequestTracker.onResponse(r)):(ob.warn("Error in show popup"),e.popupRequestTracker.onError(r,new Error(n))))},onPopupCreated:function(t,n){ob.info("onPopupCreated itemId ".concat(n,", requestId ").concat(t)),e.popupRequestTracker.onResponse(t)},onPopupClosed:function(t,n){ob.info("onPopupClosed ".concat(t," ").concat(n)),e.closePopup(t);var r=e.interactionStateData.items.find((function(e){return e.id===t}));if(r)switch(n){case"answer":e.interactionStateConnector.dispatch.acceptItem(t),e.toClientDispatch.onNavigateToInteraction(t);break;case"screen":r.mediaType,e.toClientDispatch.onTriggerScreenPop(r);break;case"hangup":e.interactionStateConnector.dispatch.rejectItem(t);break;default:"email"===r.mediaType&&e.interactionStateConnector.dispatch.rejectItem(t)}},onViewSessionCreated:function(e,t){ob.info("onViewSessionCreated ".concat(e," ").concat(t))}};return r})),Qv(Hv(e),"onSessionDataChange",(function(t,n){var r=e.useBPClient();r&&(n.isLoggedIn&&!e.isApplicationLoaded&&(e.loadApplication(r),e.isApplicationLoaded=!0),n.sipServer&&!t.sipServer&&(ob.info("onThreePCCServerReady: have BPClient"),e.onThreePCCServerReady(r)),e.stateData.isHelperAppInstanceCreated&&!Bv(n.baseConfig,t.baseConfig)&&e.updateVolume())})),Qv(Hv(e),"onInteractionStateDataChange",(function(t){var n,r=e.useBPClient();if(r){var a;t.agentWelcomeReceived&&!e.interactionStateData.agentWelcomeReceived&&e.ensureRecordingInit(r);var o=null!==(a=null===(n=t.callPickupNotifications)||void 0===n?void 0:n.filter((function(t){return!e.interactionStateData.callPickupNotifications.find((function(e){return e.requestId===t.requestId}))})))&&void 0!==a?a:[],i=e.interactionStateData.callPickupNotifications.filter((function(e){var n;return!(null===(n=t.callPickupNotifications)||void 0===n?void 0:n.find((function(t){return t.requestId===e.requestId})))}));o.forEach((function(t){e.updateCallPickupPopup(t),t.playAlertSound&&e.startAudioNotification("CALL_PICKUP_GROUP_CALL_NOTIFICATION")})),i.forEach((function(t){t.playAlertSound&&e.stopAudioNotification(),e.closePopup(t.requestId)}))}})),Qv(Hv(e),"setScreenRecordingMute",(function(t){var n=e.useBPClient(),r=e.stateData.screenRecording,a=r.muting,o=r.sessionId;n&&o&&!a?(e.updateScreenRecordingState({muting:!0}),ob.info("Mute screen recording ".concat(o," = ").concat(t)),t?n.vncMuteRecording(o):n.vncUnmuteRecording(o)):ob.info("Mute screen recording skipped")})),Qv(Hv(e),"extractCallObject",(function(e){var t,n,r,a,o,i,s;return{call_id:null===(t=e.callData)||void 0===t?void 0:t.callId,direction:"outbound"===e.direction?"outbound":"inbound",ani:null===(n=e.callData)||void 0===n?void 0:n.fromNumber,number:null===(r=e.callData)||void 0===r?void 0:r.fromNumber,dnis:null===(a=e.callData)||void 0===a?void 0:a.destination,name:null===(o=e.displayData)||void 0===o?void 0:o.displayName,service:null===(i=e.scenarioData)||void 0===i?void 0:i.serviceName,attach_data:void 0,global_interaction_id:null===(s=e.scenarioData)||void 0===s?void 0:s.globalInteractionId,command:""}})),Qv(Hv(e),"netApiItemOffered",(function(t){var n=e.useBPClient();if(n){var r=e.extractCallObject(t);r.command="call_offered",ob.info("Notify BPClient about offered call: ",r),n.sendMessageToApi(JSON.stringify(r))}})),Qv(Hv(e),"netApiItemDialing",(function(t){var n=e.useBPClient();if(n){var r=e.extractCallObject(t);r.command="call_dialing",ob.info("Notify BPClient about dialing call: ",r),n.sendMessageToApi(JSON.stringify(r))}})),Qv(Hv(e),"netApiItemDisconnected",(function(t){var n,r=e.useBPClient();r&&(ob.info("Notify BPClient about call disconnection: ",t.callData),r.sendMessageToApi(JSON.stringify({command:"call_disconnected",data:"",call_id:null===(n=t.callData)||void 0===n?void 0:n.callId})))})),Qv(Hv(e),"netApiScreenRecordingStarted",(function(e,t){ob.info("Notify BPClient about Screen Recording start"),e.sendMessageToApi(JSON.stringify({command:"screen_recording_started",session_id:t}))})),Qv(Hv(e),"netApiScreenRecordingCompleted",(function(e,t){ob.info("Notify BPClient about Screen Recording end"),e.sendMessageToApi(JSON.stringify({command:"screen_recording_completed",session_id:t}))})),Qv(Hv(e),"updateAllPopups",(function(){e.interactionStateData.items.forEach(e.updatePopup)})),Qv(Hv(e),"isAbleToShowHelperAppPopup",(function(){var t=e.useBPClient();if(!t)return!1;var n=new URLSearchParams(location.search);return e.stateData.isHelperAppInstanceCreated&&t.popupSupported&&!n.has("disablePluginPopup")})),Qv(Hv(e),"updateBrowserNotification",(function(t){var n=t.heading,r=t.lines,a=t.id,o=t.photoUrl,i=t.displayCondition,s=void 0===i||i,c=Object.keys(e.tabsData.tabs).every((function(t){return!e.tabsData.tabs[t].visible}));if(s&&c){var u=[r.line_1,r.line_2,r.line_6].filter(Boolean).join("\n");e.openedBrowserNotifications[a]=!0;var l={body:u,tag:a,icon:o};jv.sendMessage({scope:"__worker__",event:"showNotification",payload:[n,l]})}else a in e.openedBrowserNotifications&&(jv.sendMessage({scope:"__worker__",event:"hideNotification",payload:[a]}),delete e.openedBrowserNotifications[a])})),Qv(Hv(e),"updatePopup",(function(t){var n=e.useBPClient();if("delivery_pending"===t.state){var r,a,i,s=e.getItemHeading(t),c=(t.userId?bv(e.sessionData,t.userId,!0):vv(e.sessionData,t.contactId,!0))+"&small=1",u={line_1:"",line_2:"",line_3:"",line_4:"",line_5:"",line_6:""};switch(u.line_3=(null===(r=t.displayData)||void 0===r?void 0:r.title)||"",u.line_4=(null===(a=t.displayData)||void 0===a?void 0:a.companyName)||"",u.line_2=(null===(i=t.displayData)||void 0===i?void 0:i.displayName)||"",t.mediaType){case"voice":var l;if("inbound"!==t.direction)return;u.line_6=wv(null===(l=t.displayData)||void 0===l?void 0:l.number)||"";break;case"chat":var d,f,_;u.line_1=(null===(d=t.externalChatData)||void 0===d?void 0:d.subject)||"",u.line_5=wv(null===(f=t.externalChatData)||void 0===f?void 0:f.requiresCallToNumber)||"",u.line_5===u.line_2&&(u.line_5=""),u.line_6=(null===(_=t.externalChatData)||void 0===_?void 0:_.email)||"";break;case"email":var p,m;u.line_1=(null===(p=t.emailData)||void 0===p?void 0:p.caseTitle)||"",u.line_6=(null===(m=t.emailData)||void 0===m?void 0:m.fromAddress)||"";break;case"workitem":var g,h;u.line_5=(null===(g=t.displayData)||void 0===g?void 0:g.number)||"",!u.line_2&&u.line_5&&(u.line_2=u.line_5,u.line_5=""),u.line_6=(null===(h=t.displayData)||void 0===h?void 0:h.companyName)||""}if(e.integrationApiConnector.getStateData().disableNewInteractionPopup)return;if(!e.isAbleToShowHelperAppPopup())return void e.updateBrowserNotification({id:t.id,lines:u,heading:s,photoUrl:c,displayCondition:"delivery_pending"===t.state&&"inbound"===t.direction});if(e.suppressHelperAppPopup||!n)return;if(t.id in e.openedPopups)o.applyPopupData(n,t.id,u,0,0,c);else{ob.info("Create softphone popup ".concat(t.id)),e.openedPopups[t.id]=!0;var y=e.getOkButtonText(t),v=e.getOkButton2Text(t),b=e.getCancelButtonText(t),C=t.mediaType&&Kv[t.mediaType]||0;ob.info("showInboundCallPopupV2");var S=n.showInboundCallPopupV2(t.id,u,!!v,y,b,v,s,document.title,C,0,c,0);e.popupRequestTracker.addRequest({requestId:S}).promise.then((function(){t.id in e.openedPopups?(o.applyPopupData(n,t.id,u,0,0,c),e.updatePopupAnswerButton(n,t)):ob.info("Skip handle opening dialog, because it was hidden")})).catch((function(){t.id in e.openedPopups&&delete e.openedPopups[t.id]}))}}else e.closePopup(t.id)})),Qv(Hv(e),"startAudioNotification",(function(t){var n=e.useBPClient();if(n){var r=e.sessionData.audioNotifications[t];if(r){var a="".concat(e.sessionData.serverOrigin,"/agentdesktop/");ob.info("Start audio notification: ".concat(a),r),n.startCallWaitingSound(a,r.audioId,r.audioVersion,r.audioPeriodicity,t)}else ob.info("Audio notification not found")}})),Qv(Hv(e),"stopAudioNotification",(function(){var t=e.useBPClient();t&&(ob.info("Stop audio notification"),t.stopCallWaitingSound())})),Qv(Hv(e),"setAudioDevice",(function(t){var n=e.useBPClient();n&&(ob.info("Set audio device:",t),n.setAudioDeviceId(t))})),Qv(Hv(e),"log",(function(t,n){var r=e.useBPClient();r&&e.canLog&&r.log(Fv[t],n)})),Qv(Hv(e),"openLogFolder",(function(){var t=e.useBPClient();t&&t.openLogFolder()})),Qv(Hv(e),"openLogFile",(function(){var t=e.useBPClient();t&&t.openLogFile()})),Qv(Hv(e),"terminate",(function(){var t=e.useBPClient();t&&t.terminate()})),Qv(Hv(e),"updateVolume",(function(){var t,n=e.useBPClient();if(n)if(null===(t=e.sessionData.baseConfig)||void 0===t?void 0:t.volume){var r=e.sessionData.baseConfig,a=r.volume,o=r.mutes,i=Gv(a,o);ob.info("Set volume settings:",i),n.setVolume(i)}else ob.info("Set volume : no settings")})),Qv(Hv(e),"tryToCreateInstance",(function(){var t=e.useBPClient();t&&(ob.info("Attempt to create BPClient instance..."),e.createInstance(t))})),Qv(Hv(e),"viewUserScreen",(function(t,n,r){var a=e.useBPClient();a&&(ob.info("View user screen:",t),a.vncViewUserScreen(t,n,r))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.sessionConnector.dispenser.subscribe({onInitialState:function(t){var n=e.sessionData;e.sessionData=Zv({},t),e.onSessionDataChange(n,e.sessionData)},onChange:function(t){var n=e.sessionData;e.sessionData=Zv({},e.sessionData,t),e.onSessionDataChange(n,e.sessionData)},onSetPhoneType:function(t){var n=e.useBPClient();n?(ob.info("startSettingPhoneType: phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.startSettingPhoneType(t,n)):(ob.info("bypassing setPhoneType: phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.completeSettingPhoneType(t))},onSetPhoneDeviceResultReceived:function(t){var n=e.useBPClient();n?(ob.info("onSetPhoneDeviceResultReceived: have BPClient phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.onPhoneDeviceResultReceived(t,n)):(ob.info("onSetPhoneDeviceResultReceived: no BPClient. phoneType=".concat(t.phoneType," phoneNumber=").concat(t.phoneNumber)),e.sendPhoneDeviceChanged({code:0,inDeviceString:"Default",outDeviceString:"Default"}))},onThreePCCServerGone:function(t){var n=t.sipServerId,r=e.useBPClient();r&&(ob.info("onThreePCCServerGone: have BPClient"),e.onThreePCCServerGone(r,n))},onAgentStartScreenRecording:function(t){var n=t.host,r=t.port,a=t.file,o=e.useBPClient();o&&(ob.info("Incoming from server: onAgentStartScreenRecording"),e.updateScreenRecordingState({host:n,port:r,file:a,started:!0}),e.ensureRecordingStarted(o))},onAgentStopScreenRecording:function(){var t=e.useBPClient();if(t){ob.info("Incoming from server: onAgentStopScreenRecording");var n=e.stateData.screenRecording,r=n.sessionId,a=n.stopping;t&&r&&!a?(e.updateScreenRecordingState({stopping:!0}),ob.info("Stop screen recording ".concat(r)),t.vncStopRecording(r)):ob.info("Stop screen recording skipped: ".concat(r))}},onLogout:function(){e.stopAudioNotification(),Object.keys(e.openedPopups).forEach(e.closePopup)},onCallWaitingInQueueNotification:function(t){t?e.startAudioNotification("CALL_WAITING_IN_QUEUE_NOTIFICATION"):e.stopAudioNotification()},onPluginMessageReceived:function(t,n){var r=e.useBPClient();r&&r.pluginMessageReceived(t,n)}}),this.interactionInternalChatConnector.dispenser.subscribe({onMessageUnread:function(){"mobile"!==e.platformSpecific.clientType()&&(e.stopAudioNotification(),e.startAudioNotification("INTERNAL_CHAT_NOTIFICATION"))}}),this.interactionStateConnector.dispenser.subscribe({onInitialState:function(t){e.onInteractionStateDataChange(t),e.interactionStateData=Zv({},t),e.interactionStateData.items.forEach(e.updatePopup),e.interactionStateData.callPickupNotifications.forEach(e.updateCallPickupPopup)},onChange:function(t){e.onInteractionStateDataChange(t),e.interactionStateData=Zv({},e.interactionStateData,t)},onNewItem:function(t){e.onItemChange(t),e.updatePopup(t)},onItemChanged:function(t){var n,r;e.onItemChange(t),!e.netApiNotifiedItems[t.id]&&"voice"===t.mediaType&&(null===(n=t.callData)||void 0===n?void 0:n.callId)&&(null===(r=t.scenarioData)||void 0===r?void 0:r.globalInteractionId)&&(e.netApiNotifiedItems[t.id]=!0,"inbound"===t.direction?e.netApiItemOffered(t):e.netApiItemDialing(t)),e.updatePopup(t)},onItemRemoved:function(t){e.onItemChange(t),"voice"===t.mediaType&&t.callData&&e.netApiItemDisconnected(t),e.closePopup(t.id),t.id in e.netApiNotifiedItems&&delete e.netApiNotifiedItems[t.id]},onRtcCallMake:function(t){var n=t.number,r=t.sdp,a=t.request_id,o=e.useBPClient();o&&(ob.info("makeRtcCall ".concat(n)),o.makeRtcCall(a,n,r))},onRtcCallDrop:function(t){var n=t.number,r=t.request_id,a=e.useBPClient();a&&(ob.info("dropRtcCall ".concat(n)),a.dropRtcCall(r,n))}}),this.tabsConnector.dispenser.subscribe({onInitialState:function(t){e.onTabsDataChange(t),e.tabsData=Zv({},t)},onChange:function(t){var n=Zv({},e.tabsData,t);e.onTabsDataChange(n),e.tabsData=n},onBossHasBeenReassigned:function(t){t===Go&&(ob.info("restore BPClient state..."),e.sessionConnector.dispatch.submitPhoneTypeSelection(void 0))}}),this.timersConnector.dispenser.subscribe({onChange:function(t){var n=t.timers;n&&Object.values(n).forEach((function(t){Ta(t),"autoAnswer"===t.type&&e.registerAutoAnswerNotificationCountdown(t.interactionId)}))}}),this.fromClientDispenser.subscribe({setScreenRecordingMute:this.setScreenRecordingMute,log:this.log,openLogFolder:this.openLogFolder,openLogFile:this.openLogFile,terminate:this.terminate,startAudioNotification:this.startAudioNotification,viewUserScreen:this.viewUserScreen,stopAudioNotification:this.stopAudioNotification,setAudioDevice:this.setAudioDevice}))}},{key:"useBPClient",value:function(){return"mobile"!==this.platformSpecific.clientType()&&"undefined"!=typeof window&&window.BPClient?window.BPClient:void 0}},{key:"isRecordScreenEnabled",value:function(){return this.sessionData.screenSharingEnabled||this.sessionData.screenRecordingEnabled}},{key:"loadApplication",value:function(e){var t=this;ob.info("loadApplication"),e.webrtc_iframe_path="/agentdesktop/webrtc.jsp",this.updateState((function(n){return eb(Zv({},n),{screenRecording:eb(Zv({},n.screenRecording),{muted:!!sessionStorage.getItem("mutedScreenRecordings")}),isExtensionAvailable:e.checkExtension(),versionExtension:e.versionExtension,isDomainAuthSupported:t.isDomainAuthSupported(e)})})),function(e,t){e.onPhoneState&&t.addEventHandler("phone_status",e.onPhoneState),e.onEndpointState&&t.addEventHandler("endpoint_status",e.onEndpointState),e.onPopupCreated&&t.addEventHandler("popup_created",e.onPopupCreated),e.onPopupClosed&&t.addEventHandler("popup_closed",e.onPopupClosed),e.onNetEvent&&t.addEventHandler("api_message_received",e.onNetEvent),e.onSendMessage&&t.addEventHandler("plugin_send_message",e.onSendMessage),e.onError&&t.addEventHandler("error",e.onError),e.onInactivityCleared&&t.addEventHandler("inactivity_cleared",e.onInactivityCleared),e.onInactivityDetected&&t.addEventHandler("inactivity_detected",e.onInactivityDetected),e.onInstanceCreated&&t.addEventHandler("instance_created",e.onInstanceCreated),e.onInstanceDestroyed&&t.addEventHandler("instance_destroyed",e.onInstanceDestroyed),e.onHelperUp&&t.addEventHandler("helper_up",e.onHelperUp),e.onHelperDown&&t.addEventHandler("helper_down",e.onHelperDown),e.onRtcCallMade&&t.addEventHandler("rtc_call_made",e.onRtcCallMade),e.onRtcCallReset&&t.addEventHandler("rtc_call_reset",e.onRtcCallReset),e.onSetAlert&&t.addEventHandler("set_alert",e.onSetAlert),e.onWebRTCInitFailed&&t.addEventHandler("webrtc_init_failed",e.onWebRTCInitFailed),e.onApiMessageReceived&&t.addEventHandler("api_message_received",e.onApiMessageReceived),e.onViewSessionList&&t.addEventHandler("vnc_view_sessions",e.onViewSessionList),e.onViewSessionCreated&&t.addEventHandler("vnc_view_session_created",e.onViewSessionCreated),e.onViewSessionStatus&&t.addEventHandler("vnc_view_session_status",e.onViewSessionStatus),e.onViewSessionCompleted&&t.addEventHandler("vnc_view_session_completed",e.onViewSessionCompleted),e.onRecordingSessionList&&t.addEventHandler("vnc_recording_sessions",e.onRecordingSessionList),e.onRecordingSessionCreated&&t.addEventHandler("vnc_recording_session_created",e.onRecordingSessionCreated),e.onRecordingSessionMuted&&t.addEventHandler("vnc_recording_session_muted",e.onRecordingSessionMuted),e.onRecordingSessionUnmuted&&t.addEventHandler("vnc_recording_session_unmuted",e.onRecordingSessionUnmuted),e.onRecordingSessionCompleted&&t.addEventHandler("vnc_recording_session_completed",e.onRecordingSessionCompleted)}(this.bpClientHandlers(e),e),this.stateData.isHelperAppInstanceCreated&&this.sendAgentInfo(e)}},{key:"startSettingPhoneType",value:function(e,t){var n=this;this.initializeVoiceAssistant(t,(function(r){r?n.stateData.isHelperAppInstanceCreated?(ob.info("startSettingPhoneType: helper instance ready, completing"),n.completeSettingPhoneType(e,t)):(ob.info("startSettingPhoneType: helper instance is not ready, delaying"),n.delaySetPhoneDeviceFunc=function(){return n.completeSettingPhoneType(e,t)},n.delaySetPhoneDeviceTimer=setTimeout(n.delaySetPhoneDeviceFunc,5e3)):(ob.info("startSettingPhoneType: instance not available, skipping"),n.completeSettingPhoneType(e,t))}))}},{key:"completeSettingPhoneType",value:function(e,t){this.sessionConnector.dispatch.sendPhoneTypeSelection(Zv({},e,t?{pluginType:t.pluginType}:{}))}},{key:"sendPhoneDeviceChanged",value:function(e){this.sessionConnector.dispatch.sendPhoneDeviceChanged(e)}},{key:"initializeVoiceAssistant",value:function(e,t){l.isSoftphoneSupported()&&this.createInstance(e)?t(!0):(ob.info("Helper Application instance unavailable"),this.requestNotificationPermission(),t(!1))}},{key:"requestNotificationPermission",value:function(){this.requestWebNotificationPermission()}},{key:"createInstance",value:function(e){var t=e.initHelper();return ob.info("Init Helper result: "+t),this.produceState((function(t){t.isExtensionAvailable=e.checkExtension(),t.versionExtension=e.versionExtension})),t&&(this.isHelperUp?(ob.info("Helper is UP, create instance"),e.create(!!this.sessionData.disableAutoLogoutPrevention)):(ob.info("Helper is DOWN, create instance when helper is UP"),this.newInstanceUponHelperUp=!0)),t}},{key:"requestWebNotificationPermission",value:function(){"undefined"!=typeof window&&window.Notification&&window.Notification.requestPermission()}},{key:"onPhoneDeviceResultReceived",value:function(e,t){var n=e.phoneType,r=e.phoneNumber;this.sessionData.phoneType=n,this.sessionData.phoneNumber=r,this.phoneDeviceResultReceived=!0,t.setPhoneType(this.sessionData.phoneType.toLowerCase()),this.startPhoneDevice(t),this.checkPlugin(t,!1)}},{key:"onThreePCCServerReady",value:function(e){this.vaInitialized&&this.startEndPoint(e)}},{key:"onThreePCCServerGone",value:function(e,t){var n=this;this.interactionStateData.items.forEach((function(e){var r;"voice"===e.mediaType&&(null===(r=e.callData)||void 0===r?void 0:r.callId)&&e.callData.callId.substring(0,e.callData.callId.indexOf("/"))===t&&"disconnected"!==e.callData.callState&&n.netApiItemDisconnected(e)})),this.stopEndPoint(e,!1)}},{key:"onHelperApplicationInstanceCreated",value:function(e){this.updateState((function(t){return eb(Zv({},t),{isHelperAppInstanceCreated:!0,version:$v(e),isDomainAuthorized:!0})})),this.sessionData.isLoggedIn&&this.sendAgentInfo(e),this.startPhoneDevice(e),this.delaySetPhoneDeviceTimer&&(clearTimeout(this.delaySetPhoneDeviceTimer),delete this.delaySetPhoneDeviceTimer,this.delaySetPhoneDeviceFunc&&(this.delaySetPhoneDeviceFunc(),delete this.delaySetPhoneDeviceFunc)),this.instanceCreateRetryInterval&&(clearInterval(this.instanceCreateRetryInterval),delete this.instanceCreateRetryInterval),this.toClientDispatch.onHideDomainAuthorizationDialog(),this.ensureRecordingInit(e)}},{key:"sendAgentInfo",value:function(e){this.sessionConnector.dispatch.sendAgentInfo({hostName:e.localHostname,pluginVersion:$v(e)})}},{key:"onHelperApplicationInstanceDestroyed",value:function(e){ob.info("on bpclient instance destroyed"),this.vaInitialized=!1,this.bpClientInit=!1,this.netApiNotifiedItems={},this.produceState((function(t){t.isExtensionAvailable=e.checkExtension(),t.versionExtension=e.versionExtension}))}},{key:"startPhoneDevice",value:function(e){if(this.stateData.isHelperAppInstanceCreated&&this.phoneDeviceResultReceived){var t=this.sessionData,n=t.tenantId,r=t.userId,a=t.phoneNumber,o=t.phoneType,i=t.sipServer;ob.info("startPhoneDevice ".concat(n,", ").concat(r,", ").concat(a,", 900")),e.init({tenantId:n,userId:r,phone:a,inactivityTimeout:900}),this.bpClientInit=!0,this.ensureRecordingInit(e),"phone_type_none"!=o&&(this.vaInitialized=!0,i&&this.startEndPoint(e))}else ob.info("startPhoneDevice skipped - helper = ".concat(this.stateData.isHelperAppInstanceCreated,","),"device = ".concat(this.phoneDeviceResultReceived))}},{key:"startEndPoint",value:function(e){var t=this,n=this.sessionData.sipServer.address,r=this.sessionData.sipServer.port;ob.info("startEndPoint ".concat(this.sessionData.phoneNumber,"@").concat(n,":").concat(r,", ").concat(this.sessionData.reconnectTimeout)),this.startEndpointFunc=function(){var a,o;e.startEndpoint({number:t.sessionData.phoneNumber,"sip-server-host":n,"sip-server-port":r,"sip-domain":t.sessionData.sipDomain,username:t.sessionData.loginId,password:t.sessionData.softphonePassword,expires:"90",audio_url_prefix:"".concat(t.sessionData.serverOrigin,"/agentdesktop/"),ring_in_audio_id:(null===(a=t.sessionData.audioNotifications.SOFTPHONE_RING)||void 0===a?void 0:a.audioId)||"",call_waiting_audio_id:(null===(o=t.sessionData.audioNotifications.SOFTPHONE_CALL_WAITING)||void 0===o?void 0:o.audioId)||"","reconnect-timeout":t.sessionData.reconnectTimeout.toString()})},Promise.resolve().then((function(){return t.startEndpointFunc()}))}},{key:"stopEndPoint",value:function(e,t){this.stateData.isHelperAppInstanceCreated&&(ob.info("Stopping SoftPhone endpoint; suspend = ".concat(t)),e.stopEndpoint(!0,t?1:2))}},{key:"ensureRecordingInit",value:function(e){this.bpClientInit&&!this.stateData.screenRecording.vncInit&&(this.isRecordScreenEnabled()?(ob.info("initializing VNC"),e.vncViewSessions(),e.vncRecordingSessions(),e.vncInit(this.sessionData.myRemoteIpAddress,this.sessionData.screenRecordingMultiMonitors,this.sessionData.screenRecordingBitrate,this.sessionData.screenRecordingGrayscale),ob.info("VNC initialized"),this.updateScreenRecordingState({vncInit:!0}),this.ensureRecordingStarted(e)):ob.info("Screen Recording disabled"))}},{key:"ensureRecordingStarted",value:function(e){var t=this.stateData.screenRecording,n=t.vncInit,r=t.started,a=t.host,o=t.port,i=t.file;this.bpClientInit&&n&&r&&setTimeout((function(){ob.info("Start Screen Recording on ".concat(a,":").concat(o)),e.vncStartRecording(a,o,i)}),1e3)}},{key:"updateScreenRecordingState",value:function(e){ob.info("updateState:",e),this.updateState((function(t){return eb(Zv({},t),{screenRecording:Zv({},t.screenRecording,e)})}))}},{key:"registerAutoAnswerNotificationCountdown",value:function(e){var t,n,r,a,o=this,i=this.timersConnector.getStateData().timers["autoAnswer/".concat(e)];i&&(this.autoAnswerPopupTimers[e]||(this.autoAnswerPopupTimers[e]=(t=i.endTime,n=function(t){var n=o.useBPClient();if(n){var r=o.interactionStateData.items.find((function(t){return t.id===e}));r&&o.updatePopupAnswerButton(n,r)}},r=B(t-Date.now()),a=setInterval((function(){if(Date.now()>t)clearInterval(a);else{var e=B(t-Date.now());e!==r&&(r=e,n(e))}}),200),{unsubscribe:function(){return clearInterval(a)}})))}},{key:"updateCallPickupPopup",value:function(e){var t=this,n=this.useBPClient(),r=this.localizationConnector.getStateData().t,a=Kh(Iv,this.sessionData.displayNameFormat),i=a(e.destFirstname,e.destLastname),s=a(e.callerFirstname,e.callerLastname),c=e.serviceName||r.GLOBAL.heading_incomingCall(),u=(e.callerUserId?bv(this.sessionData,e.callerUserId,!0):vv(this.sessionData,e.callerContactId,!0))+"&small=1",l=e.showOriginalRecipient?r.INCOMING_CALL_DIALOG_BOX.call_pickup_dest_name(i):r.INCOMING_CALL_DIALOG_BOX.call_pickup_group_name(e.groupName),d=r.INCOMING_CALL_DIALOG_BOX.call_pickup_caller_info(s,e.callerNumber),f={line_1:"",line_2:l,line_3:"",line_4:"",line_5:"",line_6:d};if(this.isAbleToShowHelperAppPopup()){if(!this.suppressHelperAppPopup&&n)if(e.requestId in this.openedPopups)o.applyPopupData(n,e.requestId,f,0,0,u);else{ob.info("Create softphone CallPickup popup ".concat(e.requestId)),this.openedPopups[e.requestId]=!0;var _=r.INCOMING_CALL_DIALOG_BOX.pickup_call_notigication_accept(),p=r.INCOMING_CALL_DIALOG_BOX.pickup_call_notigication_ignore();ob.info("showInboundCallPopupV2");var m=n.showInboundCallPopupV2(e.requestId,f,!1,_,p,"",c,document.title,0,0,u,0);this.popupRequestTracker.addRequest({requestId:m}).promise.then((function(){e.requestId in t.openedPopups?(o.applyPopupData(n,e.requestId,f,0,0,u),n.updateInboundCallPopupButton(e.requestId,"answer",_,!!t.sessionData.phoneDeviceCapabilities.canDial)):ob.info("Skip handle opening dialog, because it was hidden")})).catch((function(){e.requestId in t.openedPopups&&delete t.openedPopups[e.requestId]}))}}else this.updateBrowserNotification({id:e.requestId,lines:f,heading:c,photoUrl:u})}},{key:"getItemHeading",value:function(e){var t,n,r,a="",o=(e.workitemData?e.workitemData.serviceName:null===(t=e.scenarioData)||void 0===t?void 0:t.serviceName)||"",i=parseInt(null!==(r=null===(n=e.scenarioData)||void 0===n?void 0:n.totalQueueTime)&&void 0!==r?r:"0");if(!isNaN(i)){var s=function(e){var t=Math.round(Number(e));if(isNaN(t))return"incorrect parameter ".concat(e);var n=t>=3600,r=t>=86400,a=A().duration(t,"seconds");return r?"".concat(Math.floor(a.asDays()),"d ").concat(a.format("HH:mm:ss")):n?a.format("H:mm:ss"):a.format("m:ss")}(B(i));a+=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX.incomingInteraction_totalQueueTime(s)}return e.huntGroupId&&e.huntGroupName&&(a+=e.huntGroupName,o&&(a+=" - ")),o&&(a+=o),a||(a=this.getNotificationDefaultHeader(e.mediaType)),a}},{key:"getNotificationDefaultHeader",value:function(e){var t=this.localizationConnector.getStateData().t.GLOBAL;switch(e){case"workitem":return t.heading_incomingPreview();case"voice":return t.heading_incomingCall();case"forum":return t.heading_incomingForum();case"chat":return t.heading_incomingChat();case"email":return t.heading_incomingEmail();default:return t.heading_incomingUnknown()}}},{key:"getOkButtonText",value:function(e){var t,n=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX,r=this.timersConnector.getStateData().timers["autoAnswer/".concat(e.id)];if(t="chat"===e.mediaType&&this.interactionStateData.items.length>1?n.incomingInteraction_open():"email"===e.mediaType?n.incomingInteraction_reply():n.incomingInteraction_accept(),r){var a=B(r.endTime-Date.now());t+=" ".concat(a)}return t}},{key:"getOkButton2Text",value:function(e){var t=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX;return"chat"===e.mediaType&&this.interactionStateData.items.length>1?t.incomingInteraction_accept():""}},{key:"getCancelButtonText",value:function(e){var t=this.localizationConnector.getStateData().t.INCOMING_CALL_DIALOG_BOX;return"email"===e.mediaType?t.incomingInteraction_postpone():t.incomingInteraction_reject()}},{key:"updatePopupAnswerButton",value:function(e,t){var n=!!this.sessionData.phoneDeviceCapabilities.canAnswer||"voice"!==t.mediaType,r=this.getOkButtonText(t);e.updateInboundCallPopupButton(t.id,"answer",r,n)}},{key:"closePopup",value:function(e){var t=this.useBPClient();e in this.openedBrowserNotifications&&(delete this.openedBrowserNotifications[e],jv.sendMessage({scope:"__worker__",event:"hideNotification",payload:[e]})),t&&e in this.openedPopups&&(delete this.openedPopups[e],delete this.autoAnswerPopupTimers[e],ob.info("Cancel inbound call popup ".concat(e)),t.cancelInboundCallPopup(e))}},{key:"getMinimalPluginVersion",value:function(){var e,t=null===(e=this.sessionData.appInfo)||void 0===e?void 0:e.pluginVersion;return t&&""!==t?t:s.build}},{key:"isVoiceAssistantPluginUpToDate",value:function(e){var t=$v(e);ob.info("version ".concat(t));var n=this.getMinimalPluginVersion();return ob.info("supported minimal version ".concat(n)),null!=t&&o.isPluginUpToData(t,n)}},{key:"isDomainAuthSupported",value:function(e){var t=$v(e),n=null!=t&&function(e,t){for(var n=e.split("."),r=t.split("."),a=Math.min(n.length,r.length),o=0;o<a;o++){var i=parseInt(n[o]),s=parseInt(r[o]);if(i!==s)return i-s}return n.length-r.length}("5.16",t)<=0;return ob.info("Domain authentication is supported: ".concat(n)),n}},{key:"checkPlugin",value:function(e,t){var n=this;if("chrome_os"!==l.platform){var r=this.sessionData,a=r.phoneType,o=r.disablePluginUpdate;if(ob.info("Check plugin for phone type = ",a),"phone_type_soft_secure"===a||"phone_type_soft_unsecure"===a)if(this.stateData.isHelperAppInstanceCreated){var i=this.isVoiceAssistantPluginUpToDate(e),s="phone_type_soft_secure"===a&&!e.supportsSecure;if(ob.info("up-to-date: ".concat(i)),i&&!s)return;o?ob.info("plugin update disabled"):this.toClientDispatch.onInstallationRequired(!1)}else t?this.stateData.isDomainAuthorized?(ob.info("BPClient is not valid"),this.toClientDispatch.onInstallationRequired(!0)):this.toClientDispatch.onShowDomainAuthorizationDialog():(ob.info("BPClient is not yet available"),setTimeout((function(){n.checkPlugin(e,!0)}),2e3))}else ob.info("Can not check plugin on Chrome OS")}},{key:"resetState",value:function(){Jv(Xv(o.prototype),"resetState",this).call(this),this.vaInitialized=!1,this.bpClientInit=!1,this.netApiNotifiedItems={}}}],r=[{key:"applyPopupData",value:function(e,t,n,r,a,o){e.updateInboundCallPopupLine(t,0,n.line_1),e.updateInboundCallPopupLine(t,1,n.line_2),e.updateInboundCallPopupLine(t,2,n.line_3),e.updateInboundCallPopupLine(t,3,n.line_4),e.updateInboundCallPopupLine(t,4,n.line_5),e.updateInboundCallPopupLine(t,5,n.line_6),e.updateInboundCallPopupSegment(t,r),e.updateInboundCallPopupSource(t,a),e.updateInboundCallPopupPhoto(t,o)}},{key:"isPluginUpToData",value:function(e,t){return s.compareVersions(t,e)<=0||s.devVersion===e}}],n&&Yv(t.prototype,n),r&&Yv(t,r),o}(Ts.createBaseStateClass({name:"bpClientState",controlEvents:gv,trackerEvents:mv,options:{synchronized:!0,authorized:!0},dependencies:["platformSpecific","localSettings","sessionConnector","tabsConnector","timersConnector","localizationConnector","integrationApiConnector","interactionStateConnector","interactionInternalChatConnector"],getInitialState:hv}));const sb=function(){return qt.Date.now()};var cb=Math.max,ub=Math.min;const lb=function(e,t,n){var r,a,o,i,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=r,o=a;return r=a=void 0,u=t,i=e.apply(o,n)}function p(e){return u=e,s=setTimeout(g,t),l?_(e):i}function m(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function g(){var e=sb();if(m(e))return h(e);s=setTimeout(g,function(e){var n=t-(e-c);return d?ub(n,o-(e-u)):n}(e))}function h(e){return s=void 0,f&&r?_(e):(r=a=void 0,i)}function y(){var e=sb(),n=m(e);if(r=arguments,a=this,c=e,n){if(void 0===s)return p(c);if(d)return clearTimeout(s),s=setTimeout(g,t),_(c)}return void 0===s&&(s=setTimeout(g,t)),i}return t=Rh(t)||0,Zt(n)&&(l=!!n.leading,o=(d="maxWait"in n)?cb(Rh(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=a=s=void 0},y.flush=function(){return void 0===s?i:h(sb())},y};const db=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Zt(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),lb(e,t,{leading:r,maxWait:t,trailing:a})};var fb=[{id:"name",isShown:!0,width:"210px"},{id:"status_group",columns:[{id:"is_enabled",isShown:!0,width:"80px"},{id:"priority",isShown:!0,width:"80px"},{id:"ratio",isShown:!1,width:"80px"}]},{id:"active_lists_records_group",columns:[{id:"records_total",isShown:!1,width:"80px"},{id:"records_dialable",isShown:!0,width:"80px"},{id:"records_remaining",isShown:!0,width:"80px"},{id:"records_completed",isShown:!1,width:"80px"},{id:"records_completed_ratio",isShown:!0,width:"120px"},{id:"records_in_dnc",isShown:!1,width:"80px"},{id:"records_expired",isShown:!1,width:"80px"},{id:"records_with_assigned_agents_completed",isShown:!1,width:"120px"},{id:"records_with_assigned_agents_remaining",isShown:!1,width:"120px"},{id:"list_last_updated",isShown:!0,width:"120px"}]},{id:"records_daily_group",columns:[{id:"records_completed_per_day",isShown:!1,width:"120px"}]}],_b=[{id:"dialer_diagnostics",isShown:!0,width:"80px"},{id:"name",isShown:!0,width:"100px"},{id:"status_group",columns:[{id:"running",isShown:!0,width:"80px"},{id:"out_campaign_mode",isShown:!0,width:"80px"},{id:"out_average_success_rate",isShown:!0,width:"80px"},{id:"out_calls_in_ivr",isShown:!1,width:"80px"},{id:"out_calls_active_on_agents",isShown:!1,width:"80px"},{id:"out_calls_in_progress",isShown:!0,width:"80px"},{id:"out_calls_current_call_rate",isShown:!1,width:"80px"},{id:"out_campaign_duration_forecast",isShown:!1,width:"80px"}]},{id:"agents_group",columns:[{id:"teams",isShown:!0,width:"180px"},{id:"agent_occupancy",isShown:!0,width:"80px"},{id:"agents_logged",isShown:!0,width:"80px"},{id:"agents_ready",isShown:!0,width:"80px"},{id:"agents_busy",isShown:!0,width:"80px"},{id:"agents_in_wrap_up",isShown:!1,width:"80px"},{id:"agents_not_ready",isShown:!1,width:"80px"}]},{id:"active_lists_records_group",columns:[{id:"records_total",isShown:!1,width:"80px"},{id:"records_dialable",isShown:!0,width:"140px"},{id:"records_remaining",isShown:!0,width:"80px"},{id:"records_completed",isShown:!1,width:"80px"},{id:"records_completed_ratio",isShown:!1,width:"80px"},{id:"records_in_dnc",isShown:!1,width:"80px"},{id:"records_expired",isShown:!1,width:"80px"},{id:"records_with_assigned_agents_completed",isShown:!1,width:"80px"},{id:"records_with_assigned_agents_remaining",isShown:!1,width:"80px"}]},{id:"calls_daily_group",columns:[{id:"out_calls_placed_per_day",isShown:!1,width:"80px"},{id:"out_calls_answered_per_day",isShown:!1,width:"80px"},{id:"out_calls_answered_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_failed_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_ivr_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_ivr_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_queue_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_in_queue_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_abandoned_ringing_per_day",isShown:!1,width:"80px"},{id:"out_calls_unattended_per_day",isShown:!1,width:"80px"},{id:"out_calls_unattended_ratio_per_day",isShown:!1,width:"80px"},{id:"out_calls_dropped_in_ivr_per_day",isShown:!1,width:"80px"},{id:"out_calls_dropped_in_queue_per_day",isShown:!1,width:"80px"},{id:"out_calls_routed_per_day",isShown:!1,width:"80px"},{id:"out_calls_handled_per_day",isShown:!1,width:"80px"},{id:"out_calls_transferred_per_day",isShown:!1,width:"80px"},{id:"out_calls_dropped_talking_per_day",isShown:!1,width:"80px"},{id:"out_calls_disconnected_talking_per_day",isShown:!1,width:"80px"},{id:"out_calls_duration_average_per_day",isShown:!1,width:"80px"},{id:"out_calls_duration_total_per_day",isShown:!1,width:"80px"}]},{id:"records_daily_group",columns:[{id:"records_attempted_per_day",isShown:!1,width:"80px"},{id:"records_attempted_ratio_per_day",isShown:!1,width:"80px"},{id:"records_completed_per_day",isShown:!1,width:"80px"},{id:"records_completed_ratio_per_day",isShown:!1,width:"80px"}]},{id:"inbound_group",columns:[{id:"in_max_wait_time",isShown:!1,width:"80px"}]}],pb=function(){return{selectedCampaignTabId:"voiceCampaigns",tabs:[{id:"voiceCampaigns",type:"voiceCampaigns"}],isCampaignsListLoading:!1,campaignItems:[],selectedCampaignId:void 0,selectedListId:void 0,isPageConfigLoading:!1,pageConfig:{CAMPAIGNS_TABLE_COLUMNS_CONFIG:_b,CAMPAIGN_DETAILS_TABLE_COLUMNS_CONFIG:{},CAMPAIGN_LISTS_TABLE_COLUMNS_CONFIG:fb,DISPOSITIONS_PIE_CONFIG:{}},subscribers:{campaigns:0,details:0,lists:0,pie:0},pageConfigUserDataItemId:void 0}},mb={dialer_diagnostics:["dialer_diagnostics"],name:["name"],running:["state"],out_campaign_mode:["out_campaign_mode"],out_average_success_rate:["out_average_success_rate"],out_calls_in_ivr:["out_calls_in_ivr"],out_calls_active_on_agents:["out_calls_active_on_agents"],out_calls_in_progress:["out_calls_in_progress"],out_calls_current_call_rate:["out_calls_current_call_rate"],out_campaign_duration_forecast:["out_campaign_duration_forecast"],agent_occupancy:["agent_occupancy"],agents_logged:["agents_logged"],agents_ready:["agents_ready"],agents_busy:["agents_busy"],agents_in_wrap_up:["agents_in_wrap_up"],agents_not_ready:["agents_not_ready"],records_total:["records_total"],records_dialable:["records_dialable"],records_remaining:["records_remaining"],records_completed:["records_completed"],records_completed_ratio:["records_completed_ratio"],records_in_dnc:["records_in_dnc"],records_expired:["records_expired"],records_with_assigned_agents_completed:["records_with_assigned_agents_completed"],records_with_assigned_agents_remaining:["records_with_assigned_agents_remaining"],out_calls_placed_per_day:["out_calls_placed_per_day"],out_calls_answered_per_day:["out_calls_answered_per_day"],out_calls_answered_ratio_per_day:["out_calls_answered_ratio_per_day"],out_calls_failed_per_day:["out_calls_failed_per_day"],out_calls_abandoned_per_day:["out_calls_abandoned_per_day"],out_calls_abandoned_ratio_per_day:["out_calls_abandoned_ratio_per_day"],out_calls_abandoned_in_ivr_per_day:["out_calls_abandoned_in_ivr_per_day"],out_calls_abandoned_in_ivr_ratio_per_day:["out_calls_abandoned_in_ivr_ratio_per_day"],out_calls_abandoned_in_queue_per_day:["out_calls_abandoned_in_queue_per_day"],out_calls_abandoned_in_queue_ratio_per_day:["out_calls_abandoned_in_queue_ratio_per_day"],out_calls_abandoned_ringing_per_day:["out_calls_abandoned_ringing_per_day"],out_calls_unattended_per_day:["out_calls_unattended_per_day"],out_calls_unattended_ratio_per_day:["out_calls_unattended_ratio_per_day"],out_calls_dropped_in_ivr_per_day:["out_calls_dropped_in_ivr_per_day"],out_calls_dropped_in_queue_per_day:["out_calls_dropped_in_queue_per_day"],out_calls_routed_per_day:["out_calls_routed_per_day"],out_calls_handled_per_day:["out_calls_handled_per_day"],out_calls_transferred_per_day:["out_calls_transferred_per_day"],out_calls_dropped_talking_per_day:["out_calls_dropped_talking_per_day"],out_calls_disconnected_talking_per_day:["out_calls_disconnected_talking_per_day"],out_calls_duration_average_per_day:["out_calls_duration_average_per_day"],out_calls_duration_total_per_day:["out_calls_duration_total_per_day"],records_attempted_per_day:["records_attempted_per_day"],records_attempted_ratio_per_day:["records_attempted_ratio_per_day"],records_completed_per_day:["records_completed_per_day"],records_completed_ratio_per_day:["records_completed_ratio_per_day"],in_max_wait_time:["in_max_wait_time"]},gb=[{id:"running",isShown:!1},{id:"out_campaign_mode",isShown:!1},{id:"out_average_success_rate",isShown:!1},{id:"out_calls_in_ivr",isShown:!1},{id:"out_calls_active_on_agents",isShown:!1},{id:"out_calls_in_progress",isShown:!1},{id:"out_calls_current_call_rate",isShown:!1},{id:"out_campaign_duration_forecast",isShown:!1},{id:"agent_occupancy",isShown:!1},{id:"agents_logged",isShown:!1},{id:"agents_ready",isShown:!1},{id:"agents_busy",isShown:!1},{id:"agents_in_wrap_up",isShown:!1},{id:"agents_not_ready",isShown:!1},{id:"records_total",isShown:!1},{id:"records_dialable",isShown:!1},{id:"records_remaining",isShown:!1},{id:"records_completed",isShown:!0},{id:"records_completed_ratio",isShown:!1},{id:"records_in_dnc",isShown:!0},{id:"records_expired",isShown:!0},{id:"records_with_assigned_agents_completed",isShown:!1},{id:"records_with_assigned_agents_remaining",isShown:!1},{id:"out_calls_placed_per_day",isShown:!0},{id:"out_calls_answered_per_day",isShown:!0},{id:"out_calls_answered_ratio_per_day",isShown:!1},{id:"out_calls_failed_per_day",isShown:!1},{id:"out_calls_abandoned_per_day",isShown:!1},{id:"out_calls_abandoned_ratio_per_day",isShown:!1},{id:"out_calls_abandoned_in_ivr_per_day",isShown:!1},{id:"out_calls_abandoned_in_ivr_ratio_per_day",isShown:!1},{id:"out_calls_abandoned_in_queue_per_day",isShown:!1},{id:"out_calls_abandoned_in_queue_ratio_per_day",isShown:!1},{id:"out_calls_abandoned_ringing_per_day",isShown:!1},{id:"out_calls_unattended_per_day",isShown:!0},{id:"out_calls_unattended_ratio_per_day",isShown:!0},{id:"out_calls_dropped_in_ivr_per_day",isShown:!1},{id:"out_calls_dropped_in_queue_per_day",isShown:!1},{id:"out_calls_routed_per_day",isShown:!1},{id:"out_calls_handled_per_day",isShown:!0},{id:"out_calls_transferred_per_day",isShown:!1},{id:"out_calls_dropped_talking_per_day",isShown:!1},{id:"out_calls_disconnected_talking_per_day",isShown:!1},{id:"out_calls_duration_average_per_day",isShown:!0},{id:"out_calls_duration_total_per_day",isShown:!0},{id:"records_attempted_per_day",isShown:!1},{id:"records_attempted_ratio_per_day",isShown:!1},{id:"records_completed_per_day",isShown:!0},{id:"records_completed_ratio_per_day",isShown:!1},{id:"in_max_wait_time",isShown:!1}],hb={name:["name"],is_enabled:["is_enabled"],priority:["priority"],ratio:["ratio"],records_total:["records_total"],records_dialable:["records_dialable"],records_remaining:["records_remaining"],records_completed:["records_completed"],records_completed_ratio:["records_completed_ratio"],records_in_dnc:["records_in_dnc"],records_expired:["records_expired"],records_with_assigned_agents_completed:["records_with_assigned_agents_completed"],records_with_assigned_agents_remaining:["records_with_assigned_agents_remaining"],list_last_updated:["list_last_updated"],records_completed_per_day:["records_completed_per_day"]},yb=["#64B5F6","#1976D2","#EF6C00","#FFD54F","#455A64","#96A6A6","#DD2C00","#00838F","#6A1B9A","#C62828","#2E7D32","#00695C","#F9A825","#6D4C41","#0288D1","#D84315","#5D4037","#00BFA5"],vb="#CCCCCC",bb={onInitialState:{parameters:[]},onChange:{parameters:[]}},Cb={subscribe:{parameters:[]},unsubscribe:{parameters:[]},openTab:{parameters:[]},closeTab:{parameters:[]},selectTab:{parameters:[]},selectCampaign:{parameters:[]},selectList:{parameters:[]},updatePageConfig:{parameters:[]},generateListReport:{parameters:[]},restoreDefaultConfig:{parameters:[]},startStopCampaign:{async:!0,parameters:[],result:void 0},enableDisableList:{async:!0,parameters:[],result:void 0}},Sb={};["DETAILS","RECENT","FAVORITE","THRESHOLD","MONITORING_CFG_NEW_AD","CAMPAIGN_MONITORING_CFG","VOICE_PROMPTS","TIMEZONES","BASE_CFG","CHAT_CENTER","AGENT_HOME_SCREEN","SUPERVISOR_HOME_SCREEN","INTENT_ALERTS_CFG","NAVIGATION_DATA","CAMPAIGNS_PAGE_CFG_NEW_AD"].forEach((function(e){return Sb[e]=e}));function wb(e){return"user_type"in e&&"msteams"===e.user_type}function Ib(e){return"extension"in e&&!wb(e)}var Ob=function(e){return!!e&&"columns"in e},Tb=function(e){return Ob(e)},Eb="calls_dispositions_per_day.",Db=function(e){return Ob(e)};function Ab(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ab(e,t,n[t])}))}return e}function kb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rb(e,t){var n=e.service_id,r=kb(e,["service_id"]);return{id:n,fields:Pb({},null==t?void 0:t.fields,r),dispositionsMetrics:(null==t?void 0:t.dispositionsMetrics)||{},teams:(null==t?void 0:t.teams)||[],lists:(null==t?void 0:t.lists)||[],dispositions:(null==t?void 0:t.dispositions)||[],isDetailsLoading:(null==t?void 0:t.isDetailsLoading)||!1,isListsLoading:(null==t?void 0:t.isListsLoading)||!1,isTeamsLoading:(null==t?void 0:t.isTeamsLoading)||!1,isDispositionsLoading:(null==t?void 0:t.isDispositionsLoading)||!1,isPieLoading:(null==t?void 0:t.isPieLoading)||!1}}function Nb(e){var t=__(e).find((function(e){return e.type===Sb.CAMPAIGNS_PAGE_CFG_NEW_AD}));return t?{pageConfig:JSON.parse(t.value),configUserDataItemId:t.data_id}:{pageConfig:void 0,configUserDataItemId:void 0}}function Mb(e){return e.campaignItems.find((function(t){return t.id===e.selectedCampaignId}))}function jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xb(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Lb(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xb(o,r,a,i,s,"next",e)}function s(e){xb(o,r,a,i,s,"throw",e)}i(void 0)}))}}function $b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ub(e,t,n){return Ub="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qb(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Ub(e,t,n||e)}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qb(e)}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fb(e,t,n[t])}))}return e}function Gb(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Hb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zb(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?jb(e):t;var n}function Wb(e,t){return Wb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wb(e,t)}function Vb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qb(e);if(t){var a=qb(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zb(this,n)}}function Yb(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Qb=v.withPrefix("@CAMPAIGNS"),Jb="CONFIG_REQUEST",Xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wb(e,t)}(o,e);var t,n,r,a=Vb(o);function o(){var e;$b(this,o),Fb(jb(e=a.apply(this,arguments)),"configRequestTracker",Ya({timeoutMilliseconds:2e3})),Fb(jb(e),"fetcherIntervalId",void 0);var t=jb(e);Fb(jb(e),"initFetchers",Lb((function(){return Yb(this,(function(e){return t.fetcherIntervalId=setInterval((function(){t.stateData.subscribers.campaigns&&t.fetchCampaigns(),t.stateData.subscribers.details&&t.fetchCampaignDetails(),t.stateData.subscribers.lists&&t.fetchCampaignLists(),t.stateData.subscribers.pie&&t.fetchCampaignPie()}),5e3),[2]}))}))),Fb(jb(e),"subscribe",(function(t){e.produceState((function(e){e.subscribers[t]++})),{pie:e.fetchCampaignPie,campaigns:e.fetchCampaigns,details:e.fetchCampaignDetails,lists:e.fetchCampaignLists}[t]()})),Fb(jb(e),"unsubscribe",(function(t){e.produceState((function(e){e.subscribers[t]=Math.max(0,e.subscribers[t]-1)}))})),Fb(jb(e),"openTab",(function(t){e.produceState((function(e){e.tabs.push(t)}))})),Fb(jb(e),"closeTab",(function(t){e.produceState((function(e){var n,r=e.tabs.findIndex((function(e){return e.id===t}));(e.tabs.splice(r,1),e.selectedCampaignTabId===t)&&(e.selectedCampaignTabId=null===(n=e.tabs[0])||void 0===n?void 0:n.id)}))})),Fb(jb(e),"selectTab",(function(t){e.produceState((function(e){e.selectedCampaignTabId=t}))}));var n=jb(e);Fb(jb(e),"generateListReport",function(){var e=Lb((function(e,t){var r,a,o;return Yb(this,(function(i){switch(i.label){case 0:return Ta(r=n.sessionConnector.getStateData().tenantId,"Tenant id is not defined"),a=n.timezonesStateConnector.getStateData().localTimezone,n.produceListItem(e,t,(function(e){e.isReportLoading=!0})),[4,n.transport.dispatch.agent_get_record_report({tenant_id:r,list_id:t,timezone_id:a})];case 1:return o=i.sent().report_data,n.produceListItem(e,t,(function(e){e.reportData=o,e.isReportLoading=!1,e.reportAt=Date.now()})),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var r=jb(e);Fb(jb(e),"fetchUserConfig",Lb((function(){var e,t,n,a,o;return Yb(this,(function(i){switch(i.label){case 0:return r.configRequestTracker.addRequest({requestId:Jb}),r.produceState((function(e){e.isPageConfigLoading=!0})),[4,r.transport.dispatch.agent_get_user_data({types:Sb.CAMPAIGNS_PAGE_CFG_NEW_AD,is_system:Oe(!1)})];case 1:return e=i.sent(),t=e.data,r.produceState((function(e){e.isPageConfigLoading=!1})),r.configRequestTracker.onResponse(Jb),n=Nb(t),a=n.configUserDataItemId,(o=n.pageConfig)&&a?(r.produceState((function(e){e.pageConfig=Bb({},e.pageConfig,o),e.pageConfigUserDataItemId=a})),[2]):[2]}}))})));var i=jb(e);Fb(jb(e),"saveUserConfigOnServer",lb(Lb((function(){var e;return Yb(this,(function(t){return e=i.stateData.pageConfig,i.stateData.pageConfigUserDataItemId?i.transport.dispatch.agent_update_user_data({data_id:i.stateData.pageConfigUserDataItemId,is_system:Oe(!1),value:JSON.stringify(e)}):i.transport.dispatch.agent_add_user_data({data_id:(0,C.v4)().toUpperCase(),type:Sb.CAMPAIGNS_PAGE_CFG_NEW_AD,value:JSON.stringify(e),is_system:Oe(!1)}),[2]}))})),1e3));var s=jb(e);Fb(jb(e),"restoreDefaultConfig",function(){var e=Lb((function(e){var t,n;return Yb(this,(function(r){return t=pb().pageConfig[e],n=Gb(Bb({},s.stateData.pageConfig),Fb({},e,t)),s.updatePageConfig(n),[2]}))}));return function(t){return e.apply(this,arguments)}}());var c=jb(e);Fb(jb(e),"fetchCampaigns",db(Lb((function(){var e,t,n,r,a,o;return Yb(this,(function(i){switch(i.label){case 0:return(e=c.configRequestTracker.getRequest(Jb))?[4,e.promise]:[3,2];case 1:i.sent(),i.label=2;case 2:return s=c.stateData.pageConfig.CAMPAIGNS_TABLE_COLUMNS_CONFIG.flatMap((function(e){return Tb(e)?e.columns:e})).filter((function(e){return e.isShown})).flatMap((function(e){return mb[e.id]||[]})),t=Array.from(new Set(s)),c.produceState((function(e){e.isCampaignsListLoading=!0})),[4,c.transport.dispatch.agent_get_campaigns_summary({service_fields:p_(t)})];case 3:return n=i.sent(),r=n.summary,c.produceState((function(e){e.isCampaignsListLoading=!1})),a=__(r),o=a.map((function(e){return Rb(e,c.findCampaignItem(e.service_id))})),c.produceState((function(e){e.campaignItems=o})),o.forEach((function(e){c.fetchCampaignTeams(e.id)})),c.autoSelectCampaign(),[2]}var s}))})),5e3));var u=jb(e);Fb(jb(e),"fetchCampaignDetails",db(Lb((function(){var e,t,n;return Yb(this,(function(r){switch(r.label){case 0:return u.stateData.selectedCampaignId?(e=function(){var e=(u.stateData.pageConfig.CAMPAIGN_DETAILS_TABLE_COLUMNS_CONFIG[u.stateData.selectedCampaignId]||gb).filter((function(e){return e.isShown})).flatMap((function(e){return mb[e.id]}));return Array.from(new Set(e))}(),u.produceCampaignItem(u.stateData.selectedCampaignId,(function(e){e.isDetailsLoading=!0})),[4,u.transport.dispatch.agent_get_campaign_details({service_id:u.stateData.selectedCampaignId,service_fields:p_(e)})]):[2];case 1:return t=r.sent(),t.service_id,t.request_id,n=Hb(t,["service_id","request_id"]),u.produceCampaignItem(u.stateData.selectedCampaignId,(function(e){e.fields=Bb({},e.fields,n),e.isDetailsLoading=!1})),[2]}}))})),5e3));var l=jb(e);Fb(jb(e),"fetchCampaignPie",db(Lb((function(){var e,t,n,r;return Yb(this,(function(a){switch(a.label){case 0:return l.stateData.selectedCampaignId?(l.produceCampaignItem(l.stateData.selectedCampaignId,(function(e){e.isPieLoading=!0})),[4,l.fetchCampaignDispositions()]):[2];case 1:return a.sent(),Ta(e=l.getCampaignPieConfig(),"Pie config is not created for the campaign"),t=e.dispositions.filter((function(e){var t=e.isShownOnPie,n=e.isShownOnLegend;return t||n})).map((function(e){return e.dispositionId})).map((function(e){return"".concat(Eb).concat(e)})),[4,l.transport.dispatch.agent_get_campaign_details({service_id:l.stateData.selectedCampaignId,service_fields:p_(t)})];case 2:return n=a.sent(),n.service_id,n.request_id,r=Hb(n,["service_id","request_id"]),l.produceCampaignItem(l.stateData.selectedCampaignId,(function(e){e.isPieLoading=!1,e.dispositionsMetrics=Bb({},e.dispositionsMetrics,r)})),[2]}}))})),5e3));var d=jb(e);Fb(jb(e),"fetchCampaignDispositions",Lb((function(){var e;return Yb(this,(function(t){switch(t.label){case 0:return d.stateData.selectedCampaignId?(d.produceCampaignItem(d.stateData.selectedCampaignId,(function(e){e.isDispositionsLoading=!0})),[4,d.servicesDispositionsConnector.dispatch.requestServiceDispositions(d.stateData.selectedCampaignId)]):[2];case 1:return e=t.sent(),d.produceCampaignItem(d.stateData.selectedCampaignId,(function(t){t.dispositions=e||[],t.isDispositionsLoading=!1})),[2]}}))})));var f=jb(e);Fb(jb(e),"fetchCampaignLists",db(Lb((function(){var e,t,n,r;return Yb(this,(function(a){switch(a.label){case 0:return f.stateData.selectedCampaignId?(o=f.stateData.pageConfig.CAMPAIGN_LISTS_TABLE_COLUMNS_CONFIG.flatMap((function(e){return Db(e)?e.columns:e})).filter((function(e){return e.isShown})).flatMap((function(e){return hb[e.id]||[]})),e=Array.from(new Set(o)),f.produceCampaignItem(f.stateData.selectedCampaignId,(function(e){e.isListsLoading=!0})),[4,f.transport.dispatch.agent_get_campaign_lists_summary({service_id:f.stateData.selectedCampaignId,list_fields:p_(e)})]):[2];case 1:return t=a.sent(),n=t.summary,f.produceCampaignItem(f.stateData.selectedCampaignId,(function(e){e.isListsLoading=!1})),r=__(n),f.produceCampaignItem(f.stateData.selectedCampaignId,(function(e){e.lists=r.map((function(t){var n,r=e.lists.find((function(e){return e.id===t.list_id}));return{id:t.list_id,metrics:t,reportData:null==r?void 0:r.reportData,isReportLoading:null!==(n=null==r?void 0:r.isReportLoading)&&void 0!==n&&n,reportAt:null==r?void 0:r.reportAt}}))})),f.autoSelectList(),[2]}var o}))})),5e3));var _=jb(e);Fb(jb(e),"fetchCampaignTeams",function(){var e=Lb((function(e){var t,n,r,a;return Yb(this,(function(o){switch(o.label){case 0:return t=["name","agents_logged","agents_busy","agents_ready","agents_not_ready","agent_occupancy","agent_average_idle_time","state","is_enabled"],_.produceCampaignItem(e,(function(e){e.isTeamsLoading=!0})),[4,_.transport.dispatch.agent_get_campaign_teams_summary({service_id:e,team_fields:p_(t)})];case 1:return n=o.sent(),r=n.summary,_.produceCampaignItem(e,(function(e){e.isTeamsLoading=!1})),a=__(r),_.produceCampaignItem(e,(function(e){e.teams=a})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),Fb(jb(e),"selectCampaign",(function(t){e.produceState((function(e){e.selectedCampaignId=t})),e.fetchCampaignDetails(),e.fetchCampaignLists(),e.fetchCampaignPie(),e.fetchCampaignDetails.flush(),e.fetchCampaignLists.flush(),e.fetchCampaignPie.flush()})),Fb(jb(e),"selectList",(function(t){e.produceState((function(e){e.selectedListId=t}))})),Fb(jb(e),"autoSelectCampaign",(function(){var t=Mb(e.stateData);if(e.stateData.selectedCampaignId&&!t&&e.produceState((function(e){e.selectedCampaignId=void 0})),!t){var n=e.stateData.campaignItems[0];n&&e.selectCampaign(n.id)}})),Fb(jb(e),"autoSelectList",(function(){var t=Mb(e.stateData);if(t){var n=t.lists.find((function(t){return t.id===e.stateData.selectedListId}));if(!n&&e.stateData.selectedListId&&e.produceState((function(e){e.selectedListId=void 0})),!n){var r=t.lists[0];r&&e.selectList(r.id)}}}));var p=jb(e);Fb(jb(e),"startStopCampaign",function(){var e=Lb((function(e,t){var n;return Yb(this,(function(r){switch(r.label){case 0:return p.findCampaignItem(e)?(n=t?"startCampaign":"stopCampaign",[4,p.transport.dispatch[n]({params:[e]})]):[2];case 1:return r.sent(),p.fetchCampaigns(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var m=jb(e);return Fb(jb(e),"enableDisableList",function(){var e=Lb((function(e,t,n){var r,a,o;return Yb(this,(function(i){switch(i.label){case 0:return r=Mb(m.stateData),a=null==r?void 0:r.lists.find((function(e){return e.id===t})),r&&a?(o=n?"enableList":"disableList",[4,m.transport.dispatch[o]({params:[e,t]})]):[2];case 1:return i.sent(),m.fetchCampaignLists(),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()),Fb(jb(e),"getCampaignPieConfig",(function(){if(e.stateData.selectedCampaignId){var t=e.stateData.pageConfig.DISPOSITIONS_PIE_CONFIG[e.stateData.selectedCampaignId],n=e.findCampaignItem(e.stateData.selectedCampaignId);return Ta(n,"Campaign not found"),e.produceState((function(r){Ta(e.stateData.selectedCampaignId,"Selected campaign id is not defined");var a=n.dispositions.map((function(e,n){var r=null==t?void 0:t.dispositions.find((function(t){return t.dispositionId===e.id}));return r||{dispositionId:e.id,isShownOnPie:!0,isShownOnLegend:!0,color:yb[n]||vb}})),o=Array.from(new Set(n.dispositions.map((function(e){return e.group})))),i=o.map((function(e,n){var r=null==t?void 0:t.groups.find((function(t){return t.name===e}));return r||{name:e,color:yb[n]||vb}}));r.pageConfig.DISPOSITIONS_PIE_CONFIG[e.stateData.selectedCampaignId]={title:"",displayMode:"dispositions",dispositions:a,groups:i}})),e.stateData.pageConfig.DISPOSITIONS_PIE_CONFIG[e.stateData.selectedCampaignId]}})),Fb(jb(e),"updatePageConfig",(function(t){e.produceState((function(e){e.pageConfig=Bb({},e.pageConfig,t)})),e.saveUserConfigOnServer()})),Fb(jb(e),"produceCampaignItem",(function(t,n){e.produceState((function(e){e.campaignItems.forEach((function(e){e.id===t&&n(e)}))}))})),Fb(jb(e),"produceListItem",(function(t,n,r){e.produceCampaignItem(t,(function(e){var a=e.lists.find((function(e){return e.id===n}));a?r(a):Qb.error("List not found",t,n)}))})),Fb(jb(e),"findCampaignItem",(function(t){return e.stateData.campaignItems.find((function(e){return e.id===t}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({}),this.fromClientDispenser.subscribe({subscribe:this.subscribe,unsubscribe:this.unsubscribe,openTab:this.openTab,closeTab:this.closeTab,selectTab:this.selectTab,selectCampaign:this.selectCampaign,selectList:this.selectList,updatePageConfig:this.updatePageConfig,restoreDefaultConfig:this.restoreDefaultConfig,startStopCampaign:this.startStopCampaign,enableDisableList:this.enableDisableList,generateListReport:this.generateListReport})),this.initFetchers(),this.fetchUserConfig()}},{key:"cleanup",value:function(){clearInterval(this.fetcherIntervalId),this.fetcherIntervalId=void 0,Ub(qb(o.prototype),"cleanup",this).call(this)}},{key:"resetState",value:function(){clearInterval(this.fetcherIntervalId),this.fetcherIntervalId=void 0,Ub(qb(o.prototype),"resetState",this).call(this)}}])&&Kb(t.prototype,n),r&&Kb(t,r),o}(Ts.createBaseStateClass({name:"campaignsState",controlEvents:Cb,trackerEvents:bb,options:{synchronized:!0,authorized:!0},dependencies:["transport","sessionConnector","interactionStateConnector","localSettings","servicesDispositionsConnector","timezonesStateConnector"],getInitialState:pb})),Zb={onInitialState:{parameters:[]},onCaseOpenAttemptedWhileSupervising:{parameters:[]},onReplyEmailAttemptedWhileSupervising:{parameters:[]},onChange:{parameters:[]},onQueueMovementFailed:{parameters:[]},onQueueItemsMoved:{parameters:[]},onCasesDeleted:{parameters:[]},onCasesClosedAsSpam:{parameters:[]},onReporterChanged:{parameters:[]},onReporterChangedError:{parameters:[]}},eC={getCasesList:{parameters:[]},getCase:{parameters:[]},getEmail:{parameters:[]},pinCase:{parameters:[]},unpinCase:{parameters:[]},flagCase:{parameters:[]},unflagCase:{parameters:[]},updateCaseTitle:{parameters:[]},setCaseStatus:{parameters:[]},changeReporter:{parameters:[]},getCasePendingReasons:{async:!0,parameters:[],result:void 0},openCase:{parameters:[]},replyEmail:{parameters:[]},createCaseEmail:{parameters:[]},moveQueueItems:{parameters:[]},closeCasesAsSpam:{parameters:[]},deleteCases:{parameters:[]},createEmailDraft:{parameters:[]},discardEmailDraft:{parameters:[]},getEmailTemplate:{async:!0,parameters:[],result:void 0}};function tC(e){return"toUserId"in e}function nC(e){return"fromUserId"in e&&"toUserId"in e}function rC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rC(e,t,n[t])}))}return e}function oC(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var iC=function(e){return{serviceId:e.service_id,serviceName:e.service_name,serviceType:e.service_type}},sC=function(e){return{id:e._id.oid,number:String(e.case_number),title:e.case_title,status:e.case_status,categoryId:e.category_id,categoryName:e.category_name,isFlagged:e.is_flagged,createdTime:ko(e,"created_time.date"),modifiedTime:ko(e,"modified_time.date"),customerUpdateTime:ko(e,"customer_update_time.date"),modifiedTimeWithActivities:e.modified_time_with_activities,reporterId:ko(e,"reporter_id.oid"),reporterFirstName:e.reporter_first_name,reporterLastName:e.reporter_last_name,pendingReasonId:e.pending_reason_id,pendingReasonName:e.pending_reason_name,activities:(e.activities||[]).map((function(e){if(function(e){return"EMAIL"===e.media_type}(e))return{id:e._id.oid,direction:e.direction,mediaType:e.media_type,subject:e.subject,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid}})),services:e.services.map(iC),globalInteractionId:e.global_interaction_id,caseIds:e.case_ids.map((function(e){return e.oid})),accountId:e.account_id,emailId:e.email_id.oid,threadId:e.thread_id,hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged,emailData:{id:e.emailData.id,date:e.emailData.date,langTag:e.emailData.langTag,subject:e.emailData.subject,content:e.emailData.content,contentSize:e.emailData.contentSize,deliveredAddress:e.emailData.deliveredAddress,accountId:e.emailData.accountId,fromAddresses:e.emailData.fromAddresses,toAddresses:e.emailData.toAddresses,replytoAddresses:e.emailData.replytoAddresses,ccAddresses:e.emailData.ccAddresses,bccAddresses:e.emailData.bccAddresses,attachments:e.emailData.attachments,attachmentIds:e.emailData.attachmentIds,attachmentsSize:e.emailData.attachmentsSize,sla:e.emailData.sla,originalMessageInserted:e.emailData.originalMessageInserted,headerFooterInserted:e.emailData.headerFooterInserted,followUpexists:e.emailData.followUpexists,inbound:e.emailData.inbound,emailSize:e.emailData.emailSize,sentiment:e.emailData.sentiment,modified:e.emailData.modified,target:e.emailData.target,caseNumber:e.emailData.caseNumber,serviceId:e.emailData.serviceId,articleId:e.emailData.articleId,eraseLoginId:e.emailData.eraseLoginId,eraseTime:e.emailData.eraseTime,eraseReason:e.emailData.eraseReason}};var t,n;if(function(e){return"VOICE"===e.media_type}(e))return{id:e._id.oid,direction:e.direction,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid,partyId:e.party_id,disposition:e.disposition,notes:e.notes,startTime:e.start_time?e.start_time.date:""}})),services:null===(t=e.services)||void 0===t?void 0:t.map(iC),globalInteractionId:e.global_interaction_id,voiceRecordingInteractionId:e.voice_recording_interaction_id,caseIds:e.case_ids.map((function(e){return e.oid})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged};if(function(e){return"CHAT"===e.media_type}(e))return{id:e._id.oid,direction:e.direction,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid,partyId:e.party_id,disposition:e.disposition,notes:e.notes,startTime:e.start_time?e.start_time.date:""}})),services:null===(n=e.services)||void 0===n?void 0:n.map(iC),globalInteractionId:e.global_interaction_id,caseIds:e.case_ids.map((function(e){return e.oid})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged};if(function(e){return"CASE"===e.media_type}(e)){var r,a={id:e._id.oid,event:e.event,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,serviceId:e.service_id,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid}})),services:null===(r=e.services)||void 0===r?void 0:r.map(iC),caseIds:e.case_ids.map((function(e){return e.oid})),hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged};switch(e.event){case"TRANSFERRED":return oC(aC({},a),{transferredFromFirstName:e.transferred_from_first_name,transferredFromLastName:e.transferred_from_last_name,transferredFromUserId:e.transferred_from_user_id});case"ASSIGNED":return oC(aC({},a),{assignedByFirstName:e.assigned_by_first_name,assignedByLastName:e.assigned_by_last_name,assignedByUserId:e.assigned_by_user_id,assignedFromFirstName:e.assigned_from_first_name,assignedFromLastName:e.assigned_from_last_name,assignedFromUserId:e.assigned_from_user_id});case"STATE_CHANGED":return oC(aC({},a),{status:e.status,pendingReasonId:e.pending_reason_id,pendingReasonName:e.pending_reason_name});default:return a}}else if(function(e){return"NOTES"===e.media_type}(e))return{id:e._id.oid,mediaType:e.media_type,createdTime:e.created_time.date,parties:e.parties.map((function(e){var t;return{partyType:e.party_type,firstName:e.first_name,lastName:e.last_name,userId:e.user_id,contactId:null===(t=e.contact_id)||void 0===t?void 0:t.oid,notes:e.notes,disposition:e.disposition,startTime:ko(e,"start_time.date")}})),caseIds:e.case_ids.map((function(e){return e.oid})),globalInteractionId:e.global_interaction_id,hasVoiceRecording:e.has_voice_recording,isAutoAcknowledgement:e.is_auto_acknowledgement,isAgentAssignment:e.is_agent_assignment,isFlagged:e.is_flagged}})).filter(Boolean)}},cC=function(e){var t,n,r,a,o,i,s;return{id:e.id,accountId:e.accountId,content:e.content,contentSize:e.contentSize,emailSize:e.emailSize,subject:e.subject,date:e.date,modified:e.modified,fromAddresses:e.fromAddresses,toAddresses:e.toAddresses,replytoAddresses:e.replytoAddresses,ccAddresses:e.ccAddresses,bccAddresses:e.bccAddresses,attachments:e.attachments,attachmentIds:e.attachmentIds,attachmentsSize:e.attachmentsSize,sla:e.sla,originalMessageInserted:e.originalMessageInserted,headerFooterUserId:e.headerFooterUserId,followUpExists:e.followUpexists,inbound:e.inbound,target:null!==(t=e.target)&&void 0!==t?t:void 0,eraseTime:e.eraseTime?Number(e.eraseTime):void 0,caseNumber:e.caseNumber?Number(e.caseNumber):void 0,langTag:null!==(n=e.langTag)&&void 0!==n?n:void 0,serviceId:null!==(r=e.serviceId)&&void 0!==r?r:void 0,articleId:null!==(a=e.articleId)&&void 0!==a?a:void 0,deliveredAddress:null!==(o=e.deliveredAddress)&&void 0!==o?o:void 0,eraseLoginId:null!==(i=e.eraseLoginId)&&void 0!==i?i:void 0,eraseReason:null!==(s=e.eraseReason)&&void 0!==s?s:void 0,sentiment:e.sentiment?Number(e.sentiment):void 0}},uC=function(e){return{id:e._id.oid,tenantId:e.tenant_id,sessionId:e.session_id,globalInteractionId:e.global_interaction_id,eraseLoginId:e.erase_login_id,eraseReason:e.erase_reason,eraseTime:e.erase_time,messages:e.messages.map((function(e){return{partyId:e.party_id,timestamp:e.timestamp,isQm:e.is_qm,event:e.event,type:e.type,firstName:e.first_name,lastName:e.last_name,userId:e.user_id,email:e.email,msg:e.msg,msgId:e.msg_id,title:e.title,page:e.page,fileId:e.file_id,fileName:e.file_name,fileType:e.file_type}}))}};function lC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function _C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){fC(o,r,a,i,s,"next",e)}function s(e){fC(o,r,a,i,s,"throw",e)}i(void 0)}))}}function pC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hC(e){return hC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hC(e)}function yC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gC(e,t,n[t])}))}return e}function vC(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function bC(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function CC(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?dC(e):t;var n}function SC(e,t){return SC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},SC(e,t)}function wC(e){return function(e){if(Array.isArray(e))return lC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hC(e);if(t){var a=hC(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return CC(this,n)}}function OC(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var TC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.query,r=e.teamId,a=bC(e,["query","teamId"]),o=t.serverOrigin;return yc(o).getCaseList(yC({query:n||"",team:r,lang:"en"},a))},EC=v.withPrefix("@caseState"),DC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SC(e,t)}(o,e);var t,n,r,a=IC(o);function o(){var e;pC(this,o);var t=dC(e=a.apply(this,arguments));return gC(dC(e),"getCasePendingReasons",_C((function(){var e;return OC(this,(function(n){switch(n.label){case 0:return t.stateData.casePendingReasons.isLoaded?[2,t.stateData.casePendingReasons]:(t.produceState((function(e){e.casePendingReasons.isLoading=!0})),[4,t.transport.dispatch.case_pending_reasons()]);case 1:return e=n.sent().result,t.produceState((function(t){t.casePendingReasons.isLoading=!1,t.casePendingReasons.isLoaded=!0,t.casePendingReasons.data=null!=e?e:[]})),[2,t.stateData.casePendingReasons]}}))}))),gC(dC(e),"discardEmailDraft",(function(t){var n=t.interactionStepId,r=t.emailId;e.transport.dispatch.agent_item_discard_draft({item_id:n,email_id:r})})),gC(dC(e),"createEmailDraft",(function(t){var n=t.interactionStepId,r=t.referenceEmailId;e.transport.dispatch.agent_item_create_draft({item_id:n,referenced_email_id:r})})),gC(dC(e),"getEmailTemplate",(function(t){return e.transport.dispatch.email_reply_template({language:t}).then((function(e){var t;return null===(t=e.result)||void 0===t?void 0:t[0]})).catch((function(e){EC.error(z(e))}))})),gC(dC(e),"getCase",(function(t){var n=e.sessionConnector.getStateData().serverOrigin,r=e.stateData.cases[t];(null==r?void 0:r.isLoading)||(e.updateCase(t,{isLoading:!0}),yc(n).getCase({caseId:t}).then((function(n){var r=sC(n),a=e.getRecordings(r.activities);e.updateCase(t,{isLoading:!1,data:r,recordings:a});var o=r.activities.map((function(e){return"CHAT"===e.mediaType?e.globalInteractionId:""})).filter(Boolean);o.length&&e.getChatTranscript(o).then((function(t){e.updateChats(t)}))})).catch((function(){e.updateCase(t,{isLoading:!1})})),e.getCaseAssignments(t).then((function(n){e.updateCase(t,{assignments:n}),e.updateAssignmentsNames(t)})))})),gC(dC(e),"setCaseStatus",(function(t){var n=t.caseId,r=t.status,a=t.disposition,o=t.pendingReason,i=e.sessionConnector.getStateData().serverOrigin,s=e.stateData.cases[n];s.data&&(e.updateCase(n,vC(yC({},s),{data:vC(yC({},s.data),{status:r,pendingReasonId:null==o?void 0:o.id,pendingReasonName:null==o?void 0:o.name})})),a&&e.transport.dispatch.agent_close_case_with_disposition({case_id:n,disposition_id:a.id,resolve_case:"1"}),yc(i).updateCase({caseId:n,requestBody:{case_status:r,agent_id:e.sessionConnector.getStateData().userId,agent_first_name:e.sessionConnector.getStateData().firstName,agent_last_name:e.sessionConnector.getStateData().lastName,is_state_changed:!0,is_changed_from_ui:!0,disposition_name:null==a?void 0:a.name,pending_reason_id:null==o?void 0:o.id,pending_reason_name:null==o?void 0:o.name}}).then((function(){e.getCase(n)})).catch((function(t){EC.error(z(t)),e.updateCase(n,s)})))})),gC(dC(e),"updateCaseTitle",(function(t){var n=t.caseId,r=t.caseTitle,a=e.sessionConnector.getStateData().serverOrigin;return yc(a).updateCase({caseId:n,requestBody:{case_title:r}}).then((function(){var t=e.stateData.cases[n];(null==t?void 0:t.data)&&e.updateCase(n,vC(yC({},t),{data:vC(yC({},t.data),{title:r})}))}))})),gC(dC(e),"getCasesList",(function(t){e.updateState({casesListLoading:!0});var n=e.sessionConnector.getStateData();return TC(t,n).then((function(t){var n=t.cases;return e.onCasesList(n)})).catch(e.onCasesListError)})),gC(dC(e),"pinCase",(function(t){var n=e.sessionConnector.getStateData(),r=n.serverOrigin,a=n.userId,o=n.firstName,i=n.lastName;yc(r).pinCase({caseId:t}).then((function(){}));var s=e.stateData.cases[t];a&&(null==s?void 0:s.assignments)&&e.updateCase(t,vC(yC({},s),{assignments:vC(yC({},s.assignments),{followUp:[{userId:a,firstName:o,lastName:i,date:Date.now()}]})}))})),gC(dC(e),"unpinCase",(function(t){var n=e.sessionConnector.getStateData(),r=n.serverOrigin,a=n.userId;yc(r).unpinCase({caseId:t}).then((function(){}));var o=e.stateData.cases[t];a&&(null==o?void 0:o.assignments)&&e.updateCase(t,vC(yC({},o),{assignments:vC(yC({},o.assignments),{followUp:[]})}))})),gC(dC(e),"flagCase",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;yc(n).updateCase({caseId:t,requestBody:{is_flagged:!0}}).then((function(){}));var r=e.stateData.cases[t];(null==r?void 0:r.data)&&e.updateCase(t,vC(yC({},r),{data:vC(yC({},r.data),{isFlagged:!0})}))})),gC(dC(e),"unflagCase",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;yc(n).updateCase({caseId:t,requestBody:{is_flagged:!1}}).then((function(){}));var r=e.stateData.cases[t];(null==r?void 0:r.data)&&e.updateCase(t,vC(yC({},r),{data:vC(yC({},r.data),{isFlagged:!1})}))})),gC(dC(e),"getEmail",(function(t){e.stateData.emails[t]||e.updateEmail(t,{isLoading:!0});var n=e.sessionConnector.getStateData().serverOrigin;yc(n).getEmail({emailId:t}).then((function(n){e.updateEmail(t,{isLoading:!1,data:cC(n)})})).catch((function(){e.updateEmail(t,{isLoading:!1})}))})),gC(dC(e),"replyEmail",(function(t){var n=t.emailId,r=t.forceOpenWhileSupervising,a=t.isInbound;if(e.agentIsInSupervisingState()&&!r)return e.toClientDispatch.onReplyEmailAttemptedWhileSupervising(t);var o=e.sessionConnector.getStateData().userId;Ta(o),a&&e.transport.dispatch.agent_open_reply_for_email({email_id:n,user_id:o})})),gC(dC(e),"updateAssignmentsNames",(function(t){var n=e.stateData.cases[t].assignments;if(n){var r=new Set(wC(n.personal).concat(wC(n.followUp)).map((function(e){return e.userId})));Promise.all(Array.from(r).map((function(t){return e.transport.dispatch.agent_name_info({agent:t})}))).then((function(n){n.forEach((function(n){var r=n.result;null==r||r.forEach((function(n){var r=n.firstname,a=n.lastname,o=n.user_id;e.produceState((function(e){var n,i,s=function(e){e.userId===o&&(e.firstName=r,e.lastName=a)};null===(n=e.cases[t].assignments)||void 0===n||n.personal.forEach(s),null===(i=e.cases[t].assignments)||void 0===i||i.followUp.forEach(s)}))}))}))})).catch((function(e){EC.error(z(e))}))}})),gC(dC(e),"openCase",(function(t){var n=t.caseId,r=t.queueId,a=t.queueType,o=t.forceOpenWhileSupervising;if(e.agentIsInSupervisingState()&&!o)return e.toClientDispatch.onCaseOpenAttemptedWhileSupervising(t);if("FOLLOWUP"===a||!a||!r){var i=e.sessionConnector.getStateData().userId;Ta(i),e.transport.dispatch.agent_open_case({case_id:n,user_id:i})}r&&a&&e.transport.dispatch.agent_open_queue_item({email_id:n,queue_id:r,queue_type:V(a)})})),gC(dC(e),"createCaseEmail",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.contactId,r=t.globalInteractionId,a=t.emailAddress,o=t.emailBody,i=t.cc,s=t.bcc,c=t.subject;e.transport.dispatch.agent_create_case_email({contact_id:n,global_interaction_id:r,email_address:a,email_body:o,subject:c,bcc:s,cc:i})})),gC(dC(e),"changeReporter",(function(t,n,r){var a=e.sessionConnector.getStateData().serverOrigin;e.produceState((function(e){rv(e,"cases.".concat(n,".data.reporterFirstName"),r.firstName),rv(e,"cases.".concat(n,".data.reporterLastName"),r.lastName),rv(e,"cases.".concat(n,".data.reporterId"),r.id)})),yc(a).updateCase({caseId:n,requestBody:{reporter_id:r.id}}).then((function(){e.toClientDispatch.onReporterChanged(t,r)})).catch((function(t){EC.error(z(t)),e.produceState((function(e){rv(e,"cases.".concat(n,".data.reporterFirstName"),r.firstName),rv(e,"cases.".concat(n,".data.reporterLastName"),r.lastName),rv(e,"cases.".concat(n,".data.reporterId"),r.id)})),e.toClientDispatch.onReporterChangedError(t,r)}))})),gC(dC(e),"moveQueueItems",(function(t){var n=t.directions,r=t.itemsToMove,a=e.validateItemsToMove(r),o=a.validItemsToMove,i=a.invalidItems.length;if(i&&e.toClientDispatch.onQueueMovementFailed(i),o.length){var s=e.moveQueueItem.bind(dC(e),n);o.forEach(s),e.toClientDispatch.onQueueItemsMoved(r,n)}})),gC(dC(e),"moveQueueItem",(function(t,n){var r={from_queue_id:n.queueId,from_queue_type:V(t.fromQueueType),to_queue_type:V(t.toQueueType),language_skill_id:t.languageSkillId};nC(t)?e.transport.dispatch.agent_move_queue_item(vC(yC({},r),{from_user_id:t.fromUserId,to_user_id:t.toUserId})):tC(t)?e.transport.dispatch.agent_move_queue_item(vC(yC({},r),{to_user_id:t.toUserId})):e.transport.dispatch.agent_move_queue_item(vC(yC({},r),{from_user_id:t.fromUserId}))})),gC(dC(e),"deleteCases",(function(t){t.forEach(e.deleteCase),e.toClientDispatch.onCasesDeleted(t)})),gC(dC(e),"deleteCase",(function(t){e.transport.dispatch.agent_delete_case({case_id:t})})),gC(dC(e),"closeCasesAsSpam",(function(t){t.forEach(e.closeCaseAsSpam),e.toClientDispatch.onCasesClosedAsSpam(t)})),gC(dC(e),"closeCaseAsSpam",(function(t){e.transport.dispatch.agent_close_case_as_spam({case_id:t})})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getCasesList:this.getCasesList,getCase:this.getCase,getEmail:this.getEmail,pinCase:this.pinCase,unpinCase:this.unpinCase,flagCase:this.flagCase,unflagCase:this.unflagCase,createCaseEmail:this.createCaseEmail,openCase:this.openCase,replyEmail:this.replyEmail,moveQueueItems:this.moveQueueItems,closeCasesAsSpam:this.closeCasesAsSpam,deleteCases:this.deleteCases,updateCaseTitle:this.updateCaseTitle,changeReporter:this.changeReporter,setCaseStatus:this.setCaseStatus,getCasePendingReasons:this.getCasePendingReasons,createEmailDraft:this.createEmailDraft,discardEmailDraft:this.discardEmailDraft,getEmailTemplate:this.getEmailTemplate})),this.dispenser.subscribe({onReporterChanged:function(t,n){var r,a;e.interactionStateConnector.dispatch.useContact({itemId:t,contactId:n.id,firstName:null!==(r=n.firstName)&&void 0!==r?r:"",lastName:null!==(a=n.lastName)&&void 0!==a?a:"",email:n.email,phone:n.phone})}})}},{key:"getCaseAssignments",value:function(e){var t=this;return _C((function(){var n;return OC(this,(function(r){return n=t.sessionConnector.getStateData().serverOrigin,[2,yc(n).getCaseAssignments({caseId:e}).then((function(e){if(e){var n=wC(e.personal.map((function(e){return e.userId}))).concat(wC(e.followUp.map((function(e){return e.userId}))));return t.transport.dispatch.agent_get_users_details({type:"CHAT_CENTER",users:p_(n),user_fields:{0:"user_id",1:"firstname",2:"lastname"}}).then((function(t){return vC(yC({},e),{personal:e.personal.map((function(e){var n=Object.values(t.users).find((function(t){return t.user_id===e.userId}));return n?vC(yC({},e),{userId:n.user_id,firstName:n.firstname,lastName:n.lastname}):e})),followUp:e.followUp.map((function(e){var n=Object.values(t.users).find((function(t){return t.user_id===e.userId}));return n?vC(yC({},e),{userId:n.user_id,firstName:n.firstname,lastName:n.lastname}):e}))})}))}})).catch((function(t){EC.error("error getting case assignments for case id ".concat(e,":"),z(t))}))]}))}))()}},{key:"getChatTranscript",value:function(e){var t=this,n=[];return 0===e.length?Promise.resolve([]):Promise.race([new Promise((function(e,t){return setTimeout(t,5e3)})),new Promise((function(r){e.forEach((function(a){var o=t.sessionConnector.getStateData().serverOrigin;yc(o).getChatTranscript({globalInteractionId:a}).then((function(t){var a;t&&((a=n).push.apply(a,wC(t)),n.length===e.length&&r(n.map(uC)))}))}))}))])}},{key:"getRecordings",value:function(e){var t=this;return e.reduce((function(e,n){if(function(e){return"VOICE"===e.mediaType}(n)&&n.voiceRecordingInteractionId){var r=function(e){var t=e.sessionData,n=e.id,r=e.interactionId,a=bc({token:t.sessionId||"",user:t.loginId||"",tenant:t.domain||"",id:n,interaction_id:r,audiotag:"1"});return"".concat(t.serverOrigin).concat(vc.getRecording,"?").concat(a)}({sessionData:t.sessionConnector.getStateData(),id:n.globalInteractionId,interactionId:n.voiceRecordingInteractionId});e.push(r)}return e}),[])}},{key:"onCasesList",value:function(e){var t=e.map((function(e){return{id:e._id.oid,number:e.case_number,status:e.case_status,title:ko(e,"case_title",""),createdTime:ko(e,"created_time.date",""),modifiedTime:ko(e,"modified_time.date"),isFlagged:!!e.is_flagged,reporterId:ko(e,"reporter_id.oid"),reporterFirstName:e.reporter_first_name,reporterLastName:e.reporter_last_name,categoryName:e.category_name,lastService:e.last_service,lastDisposition:e.last_disposition,queuedCase:e.queuedCase}}));this.updateState({casesList:t,casesListLoading:!1})}},{key:"onCasesListError",value:function(){this.updateState({casesList:[],casesListLoading:!1})}},{key:"agentIsInSupervisingState",value:function(){return""===this.agentStateConnector.getStateData().state}},{key:"updateCase",value:function(e,t){var n=t.data;this.produceState((function(r){if(r.cases[e]=yC({},r.cases[e],t),n){var a=r.casesList.findIndex((function(t){return t.id===e}));if(-1===a)return;var o=r.casesList[a];r.casesList[a].status=n.status||o.status,r.casesList[a].title=n.title||o.title,r.casesList[a].isFlagged="boolean"==typeof n.isFlagged?n.isFlagged:o.isFlagged}}))}},{key:"updateEmail",value:function(e,t){this.produceState((function(n){n.emails[e]=t}))}},{key:"updateChats",value:function(e){e&&this.produceState((function(t){e.forEach((function(e){var n=e.globalInteractionId;rv(t,"chats.".concat(n,".data"),e)}))}))}},{key:"validateItemsToMove",value:function(e){return e.reduce((function(e,t){return t.service?e.validItemsToMove.push(t):e.invalidItems.push(t),e}),{validItemsToMove:[],invalidItems:[]})}}],n&&mC(t.prototype,n),r&&mC(t,r),o}(Ts.createBaseStateClass({name:"caseState",controlEvents:eC,trackerEvents:Zb,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{casesList:[],casesListLoading:!1,cases:{},emails:{},notes:{},chats:{},casePendingReasons:{data:[],isLoading:!1,isLoaded:!1}}},dependencies:["transport","sessionConnector","agentStateConnector","interactionStateConnector"]}));var AC=n(7374),PC=n.n(AC);const kC=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,Lh(e,128,void 0,void 0,void 0,void 0,t)};const RC=function(e){return kC(e,1)};const NC=function(e){return Cf((function(t){var n=t.length,r=n,a=Hg.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new TypeError("Expected a function");if(a&&!i&&"wrapper"==Bg(o))var i=new Hg([],!0)}for(r=i?r:n;++r<n;){o=t[r];var s=Bg(o),c="wrapper"==s?Fg(o):void 0;i=c&&Qg(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?i[Bg(c[0])].apply(i,c[3]):1==o.length&&Qg(o)?i[s]():i.thru(o)}return function(){var e=arguments,r=e[0];if(i&&1==e.length&&er(r))return i.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}}))};const MC=NC();function jC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xC(e,t,n[t])}))}return e}function $C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var KC=["emails","phones","addresses"];function FC(e){var t;return{Id:e._id,contactType:e.contact_type,firstName:e.first_name,lastName:e.last_name,title:e.title,segment:e.segment,summary:e.summary,companyId:e.company_id,companyName:e.company_name,dob:e.dob,webUrl:e.web_url,create:e.create,alerts:e.alerts,phones:e.phones,addPhone:e.addPhone,nonEmptyPhones:e.nonEmptyPhones,mobilePhones:e.mobilePhones,primaryPhone:e.primaryPhone,emails:e.emails&&e.emails.map((function(e){return{id:e.id,type:e.type,emailAddress:e.email_address}})),primaryEmail:e.primaryEmail&&{id:e.primaryEmail.id,type:e.primaryEmail.type,emailAddress:e.primaryEmail.email_address},addresses:e.addresses&&e.addresses.map((function(e){return{id:e.id,type:e.type,addressLine1:e.address_line1,addressLine2:e.address_line2,city:e.city,state:e.state,postcode:e.postcode}})),messengers:null===(t=e.messengers)||void 0===t?void 0:t.map((function(e){return{type:e.type,userId:e.user_id,accountId:e.account_id,userName:e.user_name}}))}}function UC(e){return e.map((function(e){return{id:e.id,firstName:t(e.first_name),lastName:t(e.last_name),email:t(e.email),phone:t(e.phone),phones:e.phones,source:e.source}}));function t(e){return e&&"-"!==e?e:""}}function qC(e){return Object.entries(e).reduce((function(e,t){var n=$C(t,2),r=n[0],a=n[1];return e[r]="Contact.addresses"===r||"Contact.emails"===r||"Contact.phones"===r||"Contact.messengers"===r?JSON.parse(a):a,e}),{})}function BC(e){return Object.entries(e).map((function(e){var t=$C(e,2),n=t[0],r=t[1],a={};for(var o in isNaN(+n)?a.type=n:a.order=n,r)a[o]=r[o];return a}))}function GC(e){var t=LC({},e);for(var n in e)r(n)&&(t[n]=[]);return t;function r(t){return KC.includes(t)&&void 0===e[t]}}function HC(e){var t,n,r,a,o,i,s,c,u,l;return console.debug("contactToShortContact: contact=",e),{id:e.Id.oid,firstName:e.firstName,lastName:e.lastName,phone:null!==(u=null!==(c=null===(t=e.primaryPhone)||void 0===t?void 0:t.phone)&&void 0!==c?c:null===(r=e.phones)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.phone)&&void 0!==u?u:"",phones:null===(a=e.phones)||void 0===a?void 0:a.map(Ko("phone")),email:null!==(l=null===(o=e.primaryEmail)||void 0===o?void 0:o.emailAddress)&&void 0!==l?l:null===(s=e.emails)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.emailAddress}}var zC=function(e,t){var n=e.id,r=e.email,a=e.tel;if(n)return yc(t).getContact({contactId:n}).then((function(e){return[FC(e)]}));if(r||a){var o="";if(r&&(o="email:".concat(r)),a&&(o="tel:".concat(a)),o)return yc(t).getContactWithQuery({query:o}).then((function(e){return e.map(FC)}))}return Promise.reject("One of [id, email, tel] is required")};var WC,VC,YC,QC=["chat","voice","all"];function JC(e){if("CHAT"===(null==e?void 0:e.mediaType)){var t=e.event;return"party_file"!==t&&"party_notes_disposition"!==t}return!1}function XC(e){return"VOICE_TRANSCRIPT"===(null==e?void 0:e.mediaType)&&Object.prototype.hasOwnProperty.call(e,"event")&&"party_message_attributes"===e.event}function ZC(e){return"VOICE"===(null==e?void 0:e.mediaType)}function eS(e){return"timestamp"in e?e.timestamp:e.createdTime}function tS(e,t){if(e.mediaType!==t.mediaType||e.globalInteractionId!==t.globalInteractionId)return!1;if(JC(e)){var n=t;return e.msg===n.msg&&e.msgId===n.msgId&&e.event===n.event&&e.timestamp===n.timestamp}if(ZC(e)){var r=t;return e.createdTime===r.createdTime&&e.phone===r.phone&&e.contactId===r.contactId}if("EMAIL"===(null==(c=e)?void 0:c.mediaType)){var a=t;return e.createdTime===a.createdTime&&e.caseId===a.caseId}if(function(e){return"CHAT"===(null==e?void 0:e.mediaType)&&Object.prototype.hasOwnProperty.call(e,"event")&&"party_file"===e.event}(e)){var o=t;return e.fileId===o.fileId&&e.timestamp===o.timestamp}if(function(e){return"CHAT"===(null==e?void 0:e.mediaType)&&"party_notes_disposition"===e.event}(e)){var i=t;return e.timestamp===i.timestamp&&e.disposition===i.disposition&&e.notes===i.notes}if(function(e){return"REMOTE_ASSIST"===(null==e?void 0:e.mediaType)}(e)){var s=t;return e.createdTime===s.createdTime&&e.contactId===s.contactId&&e.globalInteractionId===s.globalInteractionId}var c;return!1}!function(e){e.BUSINESS="BUSINESS",e.HOME="HOME",e.MOBILE="MOBILE",e.FAX="FAX"}(WC||(WC={})),function(e){e.BUSINESS="BUSINESS",e.PRIVATE="PRIVATE",e.PRIMARY="PRIMARY"}(VC||(VC={})),function(e){e.PRIMARY="PRIMARY",e.BILLING="BILLING",e.SHIPPING="SHIPPING",e.OTHER="OTHER"}(YC||(YC={}));var nS={onInitialState:{parameters:[]},onChange:{parameters:[]},onContactChanged:{parameters:[]},onContactDeleted:{parameters:[]},onChangeExternalContact:{parameters:[]}},rS={getContactFormsDefinitions:{async:!0,parameters:[],result:void 0},getContactList:{async:!0,parameters:[],result:void 0},resetContactSearch:{parameters:[]},fetchContactListWithQuery:{async:!0,parameters:[],result:void 0},resetContactListByChunks:{parameters:[]},getContacts:{async:!0,parameters:[],result:void 0},getContactListByChunks:{parameters:[]},getContact:{async:!0,parameters:[],result:void 0},findContact:{async:!0,parameters:[],result:void 0},getContactDetails:{async:!0,parameters:[],result:void 0},createContact:{parameters:[]},saveContact:{parameters:[]},saveContactDetails:{parameters:[]},deleteContact:{async:!0,parameters:[],result:void 0},deleteContactPhoto:{async:!0,parameters:[],result:void 0},addPhone:{parameters:[]},addEmail:{parameters:[]},getContactsWithQuery:{async:!0,parameters:[],result:void 0},updateActivityHistoryForContact:{parameters:[]},addNewMessagesForContact:{parameters:[]},updateIsLoadingForActivityHistory:{parameters:[]},updateActivityHistoryMessageText:{parameters:[]},maskFile:{parameters:[]},mergeContacts:{async:!0,parameters:[],result:void 0}};function aS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function sS(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){iS(o,r,a,i,s,"next",e)}function s(e){iS(o,r,a,i,s,"throw",e)}i(void 0)}))}}function cS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dS(e)}function fS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lS(e,t,n[t])}))}return e}function _S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function pS(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?oS(e):t;var n}function mS(e,t){return mS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mS(e,t)}function gS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||yS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hS(e){return function(e){if(Array.isArray(e))return aS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yS(e,t){if(e){if("string"==typeof e)return aS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aS(e,t):void 0}}function vS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dS(e);if(t){var a=dS(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pS(this,n)}}function bS(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var CS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mS(e,t)}(o,e);var t,n,r,a=vS(o);function o(){var e;cS(this,o),lS(oS(e=a.apply(this,arguments)),"resetReachedActivityHistoryLimit",(function(t){e.produceState((function(e){var n,r;(null===(n=e.activityHistory[t])||void 0===n?void 0:n.reachedLimit)&&(e.activityHistory[t].reachedLimit=!1),(null===(r=e.activityHistory[t])||void 0===r?void 0:r.reachedLimitByMedia)&&(e.activityHistory[t].reachedLimitByMedia={chat:!1,voice:!1,all:!1})}))})),lS(oS(e),"onContactList",(function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).searchId;e.produceState((function(e){n?(e.search[n].list=t,e.search[n].isLoading=!1):(e.contactList=t,e.contactListLoading=!1)}))})),lS(oS(e),"onContactListByChunks",(function(t){e.produceState((function(e){t.forEach((function(t){e.contactListByChunks.some((function(e){return e.id===t.id}))||e.contactListByChunks.push(t)})),e.contactListLoading=!1,e.contactListLoaded=!t.length,e.contactListByChunksLoading=!1}))})),lS(oS(e),"onContactListError",(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).searchId;e.produceState((function(e){t?e.search=_S(fS({},e.search),lS({},t,_S(fS({},e.search[t]),{list:[],isLoading:!1}))):(e.contactList=[],e.contactListLoading=!1,e.contactListByChunksLoading=!1)}))})),lS(oS(e),"getContactFormsDefinitions",(function(t){if(!(null==t?void 0:t.force)&&e.stateData.contactFormDefinitions.length<0)return Promise.resolve(e.stateData.contactFormDefinitions);e.produceState((function(e){e.formDefinitionsLoading=!0}));var n=e.sessionConnector.getStateData().serverOrigin;return yc(n).getContactFormDefinition().then((function(t){return e.produceState((function(e){e.contactFormDefinitions=t,e.formDefinitionsLoading=!1})),t})).catch((function(){e.produceState((function(e){e.formDefinitionsLoading=!1}))}))})),lS(oS(e),"getContacts",(function(t){e.produceState((function(e){t.forEach((function(t){e.contacts[t]?e.contacts[t].contactDetailsLoading=!0:e.contacts[t]={data:null,isLoading:!0}}))}));var n=e.sessionConnector.getStateData().serverOrigin;try{return yc(n).getContactList({requestBody:t}).then((function(e){return e.map(FC)})).then((function(t){return t.map(RC(e.onContact))}))}catch(wX){return v.error(z(wX)),Promise.resolve(void 0)}})),lS(oS(e),"getContactList",(function(t){var n=(t||{}).searchId;return e.produceState((function(e){n?e.search=_S(fS({},e.search),lS({},n,_S(fS({},e.search[n]),{isLoading:!0}))):e.contactListLoading=!0})),e.fetchContactListWithQuery(t).then((function(t){if(t)return e.onContactList(t,{searchId:n}),t;e.onContactListError({searchId:n})})).catch((function(){return e.onContactListError({searchId:n})}))})),lS(oS(e),"resetContactSearch",(function(t){e.produceState((function(e){delete e.search[t]}))})),lS(oS(e),"resetContactListByChunks",(function(){e.produceState((function(e){e.contactListByChunks=[],e.contactListLoading=!1,e.contactListLoaded=!1,e.contactListByChunksLoading=!1})),e.getContactListByChunks({start:void 0,limit:200})})),lS(oS(e),"getContactListByChunks",(function(t){e.produceState((function(e){e.contactListByChunksLoading=!0,e.contactListLoading=!t.start}));var n=e.sessionConnector.getStateData().serverOrigin;yc(n).getContactListWithParams({requestBody:t}).then(UC).then((function(n){t.limit?e.onContactListByChunks(n):e.onContactList(n)})).catch(e.onContactListError)})),lS(oS(e),"getContactsWithQuery",(function(t){return e.fetchContactListWithQuery(t).then((function(e){if(e)return e;throw new Error("Failed to fetch contacts with phone: "+t.query)})).catch((function(e){return v.error(z(e))}))})),lS(oS(e),"getContact",(function(t){var n=!t.force&&e.stateData.contacts[t.id];if(n&&n.data)return Promise.resolve(n.data);e.produceState((function(e){e.contacts[t.id]?e.contacts[t.id].contactDetailsLoading=!0:e.contacts[t.id]={data:null,isLoading:!0}}));var r=e.sessionConnector.getStateData().serverOrigin;return zC(t,r).then((function(n){if(n&&n.length){var r=n[0];return e.onContact(r)}throw new Error("Failed to fetch a contact with id: "+t.id)})).catch((function(){return e.onContactError(t)}))})),lS(oS(e),"findContact",(function(t){var n,r,a=t.email,o=t.tel,i=t.force,s=[],c=[];if(a)n="email",s=null!==(r=e.stateData.contactIds.byEmail[a])&&void 0!==r?r:[];else if(o){var u;n="tel",s=null!==(u=e.stateData.contactIds.byTel[o])&&void 0!==u?u:[]}if(i||(c=s.map((function(t){return e.stateData.contacts[t].data})).filter(xo)),c.length)return Promise.resolve(c);var l=e.sessionConnector.getStateData().serverOrigin;return zC(t,l).then((function(r){if(r)return(Array.isArray(r)?r:[r]).map((function(t){return e.onContact(t,n)}));throw new Error("Failed to fetch a contact with ".concat(n,": ").concat(t[n]))})).catch((function(e){return v.error(z(e))}))})),lS(oS(e),"onContact",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.produceState((function(e){var r,a=t.Id.oid;e.contacts[a]=_S(fS({},e.contacts[a]),{data:t,isLoading:!1,contactDetailsLoading:!1}),function(){var n=HC(t),r=e.contactList.findIndex((function(e){return e.id===a}));-1!==r&&(e.contactList[r]=n);var o=e.contactListByChunks.findIndex((function(e){return e.id===a}));if(-1===o){var i=e.contactListByChunks.findIndex((function(e){return e.lastName>n.lastName}));-1!==i&&e.contactListByChunks.splice(i,0,n)}else e.contactListByChunks[o]=n}(),"tel"===n&&(null===(r=t.phones)||void 0===r||r.forEach((function(t){var n=t.phone;e.contactIds.byTel[n]?e.contactIds.byTel[n].push(a):e.contactIds.byTel[n]=[a]}))),"email"===n&&t.emails.forEach((function(t){var n=t.emailAddress;e.contactIds.byEmail[n]?e.contactIds.byEmail[n].push(a):e.contactIds.byEmail[n]=[a]}))})),e.toClientDispatch.onContactChanged(t),t})),lS(oS(e),"onContactError",(function(t){t.id&&e.produceState((function(e){delete e.contacts[t.id]}))})),lS(oS(e),"getContactDetails",(function(t){var n=t.id,r=!t.force&&e.stateData.contacts[n];if(r&&r.details)return Promise.resolve(r.details);e.produceState((function(e){e.contacts[n]?e.contacts[n].contactDetailsLoading=!0:e.contacts[n]={data:null,isLoading:!0}}));var a=e.sessionConnector.getStateData().serverOrigin;return yc(a).getContactValues({id:n,type:"CONTACT_DETAIL"}).then((function(t){return e.onContactDetails(n,t)})).catch((function(){return e.onContactErrorDetails(n)}))})),lS(oS(e),"onContactDetails",(function(t,n){var r=qC(n.variables);return e.produceState((function(e){e.contacts[t].details=r,e.contacts[t].contactDetailsLoading=!1})),r})),lS(oS(e),"onContactErrorDetails",(function(t){e.produceState((function(e){e.contacts=_S(fS({},e.contacts),lS({},t,_S(fS({},e.contacts[t]),{details:void 0,contactDetailsLoading:!1})))}))})),lS(oS(e),"createContact",(function(t){var n=t.details,r=t.contact,a=void 0===r?{}:r,o=t.photoId,i=t.externalContactData,s=void 0===i?void 0:i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.onSuccess,l=c.onError,d=null==n?void 0:n.Contact,f=null==n?void 0:n.Company,_=MC(e.getRequestDataFromContactDetails,GC)(d),p=e.sessionConnector.getStateData().serverOrigin;yc(p).createContact({requestBody:o?_S(fS({},a),{photo:o}):a}).then((function(e){return f?yc(p).createCompany({requestBody:f}).then((function(t){return yc(p).updateContact({contactId:e,requestBody:_S(fS({},_),{company_id:t})}).then((function(e){return e._id.oid}))})):d?yc(p).updateContact({contactId:e,requestBody:_}).then((function(e){return e._id.oid})):e})).then((function(t){e.getContact({id:t,force:!0}),s&&e.toClientDispatch.onChangeExternalContact(s),null==u||u(t)})).catch(l)})),lS(oS(e),"saveContact",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onError,a=n.onSuccess,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=t.Id.oid,s={},c=e.sessionConnector.getStateData().serverOrigin;yc(c).updateContact({contactId:i,requestBody:s}).then((function(){e.getContact({id:i,force:!0}),o&&e.toClientDispatch.onChangeExternalContact(o),null==a||a(i)})).catch(r)}));var t=oS(e);lS(oS(e),"saveContactDetails",function(){var e=sS((function(e,n){var r,a,o,i,s,c,u,l,d,f,_,p,m=arguments;return bS(this,(function(g){switch(g.label){case 0:r=m.length>2&&void 0!==m[2]?m[2]:{},a=r.onSuccess,o=r.onError,i=m.length>3&&void 0!==m[3]?m[3]:void 0,s=t.sessionConnector.getStateData().serverOrigin,t.produceState((function(t){t.contacts[e].contactDetailsUpdating=!0})),c=null==n?void 0:n.Company,g.label=1;case 1:return g.trys.push([1,5,6,7]),f=null===(d=t.stateData.contacts[e])||void 0===d||null===(l=d.data)||void 0===l||null===(u=l.companyId)||void 0===u?void 0:u.oid,(p=f)?[3,3]:[4,yc(s).createCompany({requestBody:{}})];case 2:p=g.sent(),g.label=3;case 3:return _=p,[4,Promise.all([t.updateContactDetails({contactId:e,details:n,newCompanyId:f?void 0:_}),t.updateCompanyDetails(_,c)])];case 4:return g.sent(),t.getContact({id:e,force:!0}),t.getContactDetails({id:e,force:!0}),i&&t.toClientDispatch.onChangeExternalContact(i),null==a||a(e),[3,7];case 5:return g.sent(),null==o||o(),[3,7];case 6:return t.produceState((function(t){t.contacts[e].contactDetailsUpdating=!1})),[7];case 7:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var n=oS(e);lS(oS(e),"updateContactDetails",function(){var e=sS((function(e){var t,r,a,o,i,s,c,u;return bS(this,(function(l){switch(l.label){case 0:return t=e.contactId,r=e.details,a=e.newCompanyId,o=null==r?void 0:r.Contact,i=MC(n.getRequestDataFromContactDetails,GC)(o),a&&(i.company_id=a),Object.keys(i).length?(s=n.sessionConnector.getStateData().serverOrigin,[4,yc(s).updateContact({contactId:t,requestBody:i})]):[2,void 0];case 1:return c=l.sent(),u=c._id,[2,u.oid]}}))}));return function(t){return e.apply(this,arguments)}}());var r=oS(e);lS(oS(e),"updateCompanyDetails",function(){var e=sS((function(e,t){var n;return bS(this,(function(a){return t&&e?(n=r.sessionConnector.getStateData().serverOrigin,[2,yc(n).updateContactDetails({companyId:e,requestBody:t})]):[2,void 0]}))}));return function(t,n){return e.apply(this,arguments)}}()),lS(oS(e),"deleteContact",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;return yc(n).deleteContact({contactId:t}).then((function(){var n=function(e){return e.id!==t};return e.produceState((function(e){delete e.contacts[t],e.contactList=e.contactList.filter(n),e.contactListByChunks=e.contactListByChunks.filter(n),delete e.activityHistory[t]})),e.toClientDispatch.onContactDeleted(t),t}))})),lS(oS(e),"deleteContactPhoto",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;return yc(n).deleteContactPhoto({contactId:t})})),lS(oS(e),"addPhone",(function(t){var n=t.contactId,r=t.type,a=t.phone,o=e.sessionConnector.getStateData().serverOrigin;yc(o).createContactPhone({contactId:n,requestBody:{id:null,type:r,phone:a}}).then((function(){return e.getContactDetails({id:n,force:!0})}))})),lS(oS(e),"addEmail",(function(t){var n=t.contactId,r=t.type,a=t.email,o=e.sessionConnector.getStateData().serverOrigin;yc(o).createContactEmail({contactId:n,requestBody:{id:null,type:r,email_address:a}}).then((function(){return e.getContactDetails({id:n,force:!0})}))})),lS(oS(e),"updateActivityHistoryForContact",(function(t){var n=t.messages,r=void 0===n?[]:n,a=t.activityCreatedTime,o=t.contactId,i=function(e){switch(e){case"CHAT":return"chat";case"VOICE":return"voice";default:return"all"}}(t.type);e.produceState((function(t){var n,s;t.activityHistory[o]&&!t.activityHistory[o].activityCreatedTimeByMedia&&(t.activityHistory[o].activityCreatedTimeByMedia={}),!r.length&&(null===(n=t.activityHistory[o])||void 0===n?void 0:n.activityCreatedTimeByMedia)?QC.forEach((function(e){t.activityHistory[o].activityCreatedTimeByMedia[e]=1})):((null===(s=t.activityHistory[o])||void 0===s?void 0:s.activityCreatedTime)&&(t.activityHistory[o].activityCreatedTimeByMedia[i]=a),"all"===i&&(t.activityHistory[o]&&(t.activityHistory[o].activityCreatedTime=a),QC.forEach((function(e){var n;(null===(n=t.activityHistory[o])||void 0===n?void 0:n.activityCreatedTimeByMedia)&&(!t.activityHistory[o].activityCreatedTimeByMedia[e]||t.activityHistory[o].activityCreatedTimeByMedia[e]>a)&&(t.activityHistory[o].activityCreatedTimeByMedia[e]=a)})))),function(){var e;function n(){t.activityHistory[o]&&(t.activityHistory[o].reachedLimit=!0,t.activityHistory[o].reachedLimitByMedia={all:!0,voice:!0,chat:!0})}function a(){var e,n;return null!==(n=null===(e=t.activityHistory[o])||void 0===e?void 0:e.reachedLimitByMedia)&&void 0!==n?n:{chat:!1,voice:!1,all:!1}}!r.length&&("all"===i?n():(e=a(),t.activityHistory[o].reachedLimitByMedia=_S(fS({},e),lS({},i,!0)),function(){var e=a();return e.chat&&e.voice}()&&n()))}(),function(){var e,n,a,i;t.activityHistory[o]&&(t.activityHistory[o].handledBy=(i=null!==(a=null===(n=t.activityHistory)||void 0===n||null===(e=n[o])||void 0===e?void 0:e.handledBy)&&void 0!==a?a:{},r.reduce((function(e,t){var n,r=t.users,a=null!==(n=e[t.globalInteractionId])&&void 0!==n?n:[];if(r){var o=r.map((function(e){return e.userId})).filter(Boolean);e[t.globalInteractionId]=hS(a).concat(hS(o))}return"party_joined"===t.event&&t.userId&&(e[t.globalInteractionId]=hS(a).concat([t.userId])),e}),i)))}(),e.addNewMessagesForContactProducer(r,o,t)}))})),lS(oS(e),"addNewMessagesForContact",(function(t){var n=t.messages,r=t.contactId,a=Kh(e.addNewMessagesForContactProducer,n,r);e.produceState(a)})),lS(oS(e),"addNewMessagesForContactProducer",(function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=X(null===(t=a.activityHistory[r])||void 0===t?void 0:t.messages,e.insertSentimentToCallEntries(n),eS,tS);a.activityHistory[r]=_S(fS({},a.activityHistory[r]),{messages:o})})),lS(oS(e),"insertSentimentToCallEntries",(function(e){var t=function(e){if(e){var t=e.reduce((function(e,t){return XC(t)&&(e[t.refMsgId]=t),e}),{});return e.filter(H(XC)).map((function(e){return e.msgId&&t[e.msgId]?_S(fS({},e),{sentimentScore:t[e.msgId].sentimentScore}):e}))}},n=function(e){if(e){var t=e.filter((function(e){return void 0!==e.sentimentScore})),n=t.length;if(0!==n){var r=t.reduce((function(e,t){return new(PC())(e).plus(t.sentimentScore)}),new(PC())(0)).dividedBy(n).toNumber();return Tv(r)}}};return e.map((function(e){return ZC(e)?_S(fS({},e),{sentiment:n(e.transcript),transcript:t(e.transcript)}):e}))})),lS(oS(e),"updateActivityHistoryMessageText",(function(t){var n=Kh(e.updateActivityHistoryMessageTextProducer,t);e.produceState(n)})),lS(oS(e),"maskFile",(function(t){var n=Kh(e.maskFileProducer,t);e.produceState(n)})),lS(oS(e),"updateIsLoadingForActivityHistory",(function(t){var n=t.isLoading,r=t.contactId;e.produceState((function(e){e.activityHistory[r]=_S(fS({},e.activityHistory[r]),{isLoading:n})}))})),lS(oS(e),"fetchContactListWithQuery",(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).query,n=e.sessionConnector.getStateData().serverOrigin;return yc(n).getContactListWithQuery({query:e.fixElasticKeywords(t)||"",lang:"en"}).then((function(e){var t=e.contacts;return t?UC(t):[]}))}));var i=oS(e);return lS(oS(e),"mergeContacts",function(){var e=sS((function(e){var t,n,r;return bS(this,(function(a){switch(a.label){case 0:return t=e.id,n=e.mergedDetails,r=e.removeIds,[4,new Promise((function(e,r){i.saveContactDetails(t,n,{onSuccess:e,onError:r})}))];case 1:return a.sent(),[4,Promise.all(r.map((function(e){return i.deleteContact(e)})))];case 2:return a.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getContactFormsDefinitions:this.getContactFormsDefinitions,getContactList:this.getContactList,resetContactSearch:this.resetContactSearch,getContacts:this.getContacts,getContactListByChunks:this.getContactListByChunks,resetContactListByChunks:this.resetContactListByChunks,getContact:this.getContact,findContact:this.findContact,getContactDetails:this.getContactDetails,createContact:this.createContact,saveContact:this.saveContact,saveContactDetails:this.saveContactDetails,deleteContact:this.deleteContact,deleteContactPhoto:this.deleteContactPhoto,fetchContactListWithQuery:this.fetchContactListWithQuery,addPhone:this.addPhone,addEmail:this.addEmail,getContactsWithQuery:this.getContactsWithQuery,updateActivityHistoryForContact:this.updateActivityHistoryForContact,addNewMessagesForContact:this.addNewMessagesForContact,updateIsLoadingForActivityHistory:this.updateIsLoadingForActivityHistory,updateActivityHistoryMessageText:this.updateActivityHistoryMessageText,maskFile:this.maskFile,mergeContacts:this.mergeContacts}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:function(t){var n,r,a;(iy(t)||ny(t))&&t.contactId&&!(null===(a=e.stateData.activityHistory)||void 0===a||null===(r=a[t.contactId])||void 0===r||null===(n=r.messages)||void 0===n?void 0:n.length)&&e.resetReachedActivityHistoryLimit(t.contactId)}}))}},{key:"getRequestDataFromContactDetails",value:function(e){var t=fS({},e),n=t.emails;n&&(t.emails_all=t.emails,t.emails=BC(n));var r=t.phones;r&&(t.phones_all=t.phones,t.phones=BC(r));var a=t.addresses;return a&&(t.addresses_all=t.addresses,t.addresses=BC(a)),"string"==typeof t.messengers&&(t.messengers=JSON.parse(t.messengers)),t}},{key:"updateActivityHistoryMessageTextProducer",value:function(e,t){var n=e.contactId,r=e.messageId,a=e.messageText,o=t.activityHistory[n].messages.findIndex((function(e){return e.msgId===r})),i=fS({},t.activityHistory[n].messages[o]);JC(i)&&(i.msg=a),t.activityHistory[n].messages.splice(o,1,i)}},{key:"maskFileProducer",value:function(e,t){var n=e.fileId,r=e.contactId,a=t.activityHistory[r].messages.findIndex((function(e){return e.fileId===n})),o=_S(fS({},t.activityHistory[r].messages[a]),{fileId:void 0});t.activityHistory[r].messages.splice(a,1,o)}},{key:"fixElasticKeywords",value:function(e){var t=null==e?void 0:e.match(/^(\w+):(.*)/);if(!t)return e;var n=gS(t,3),r=n[1],a=n[2];if("dob"===r){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefixed,r=t.full,a=t.birthday,o=t.searched;Number(e)&&(e=Number(e));var i=new Date(e);return a?x(i,"L"):o?x(i,"YYYY-MM-DD"):r?(n?"on ":"")+x(i,"ll [at] LT"):$(i)?(n?"at ":"")+x(i,"h:mm A"):K(i)?"Yesterday, ".concat(x(i,"h:mm A")):F(i)?(n?"on ":"")+x(i,"ddd LT"):U(i)?(n?"on ":"")+x(i,"MMM D, LT"):(n?"on ":"")+x(i,"ll")}(a,{searched:!0});return"".concat(r,":").concat(o)}return"".concat(r,":").concat(a)}}],n&&uS(t.prototype,n),r&&uS(t,r),o}(Ts.createBaseStateClass({name:"contactsState",controlEvents:rS,trackerEvents:nS,options:{authorized:!0},dependencies:["sessionConnector","interactionStateConnector"],getInitialState:function(){return{contactFormDefinitions:[],contactList:[],contactListByChunks:[],contactListLoading:!1,contactListLoaded:!1,contactListByChunksLoading:!1,search:{},contacts:{},contactIds:{byEmail:{},byTel:{}},activityHistory:{}}}})),SS={onInitialState:{parameters:[]},onChange:{parameters:[]},onDIDNumbersReceived:{parameters:[]}},wS={requestDIDNumbers:{async:!0,parameters:[],result:void 0}},IS=function(){return{didNumbers:{}}},OS={externalnumber:"externalNumber",id:"id",is_extension:["isExtension",Ie],is_sms:["isSMS",Ie],is_voice:["isVoice",Ie]};function TS(e){return e.reduce((function(e,t){return e[t.id]=Te(t,OS),e}),{})}function ES(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kS(e){return kS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kS(e)}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){PS(e,t,n[t])}))}return e}function NS(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function MS(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?ES(e):t;var n}function jS(e,t){return jS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jS(e,t)}function xS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kS(e);if(t){var a=kS(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return MS(this,n)}}var LS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jS(e,t)}(o,e);var t,n,r,a=xS(o);function o(){var e;return DS(this,o),PS(ES(e=a.apply(this,arguments)),"requestDIDNumbers",(function(t){return e.transport.dispatch.agent_access_number_info({internal_number:t}).then((function(t){var n=t.error,r=t.result;if((null==n?void 0:n.message)||!r)return v.error(null==n?void 0:n.message),[];var a=TS(r);return e.updateState((function(e){return NS(RS({},e),{didNumbers:RS({},a)})})),e.toClientDispatch.onDIDNumbersReceived(a),Object.values(a)}))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({requestDIDNumbers:this.requestDIDNumbers}),this.sessionConnector.dispenser.subscribe({onPhoneNumberChanged:function(t){var n=t.useOutboundDIDEnabled,r=t.phoneNumber;n&&e.requestDIDNumbers(r)}}))}}])&&AS(t.prototype,n),r&&AS(t,r),o}(Ts.createBaseStateClass({name:"didState",controlEvents:wS,trackerEvents:SS,options:{synchronized:!0,authorized:!0},getInitialState:IS,dependencies:["transport","sessionConnector"]}));function $S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KS,FS=function(){return{teams:[],categories:[],users:[],teamsWithoutCurrentUser:[],usersWithoutCurrentUser:[],isUsersLoading:!1,isTeamsLoading:!1,categoryEntries:{},searchResults:{},emiCategories:[],emiUsers:{}}},US="msteams_chats_category_id",qS="msteams_channels_category_id",BS=($S(KS={},US,"Microsoft Teams Chats"),$S(KS,qS,"Microsoft Teams Channels"),KS),GS={onInitialState:{parameters:[]},onChange:{parameters:[]}},HS={getAgentTeams:{async:!0,parameters:[],result:void 0},getDirectoryCategories:{parameters:[]},fetchLoggedUsers:{async:!0,parameters:[],result:void 0},getLoggedUsers:{parameters:[]},getCategoryUsers:{parameters:[]},subscribeUserDetails:{parameters:[]},findContacts:{parameters:[]},requestTeamUsers:{async:!0,parameters:[],result:void 0}},zS=n(4616),WS=n(8316);const VS=Symbol(),YS=Symbol(),QS="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?E.useEffect:E.useLayoutEffect,JS=zS.unstable_runWithPriority?e=>(0,zS.unstable_runWithPriority)(zS.unstable_NormalPriority,e):e=>e();function XS(e,t){const n=(0,E.useContext)(e)[VS];const{v:{current:r},n:{current:a},l:o}=n,i=t(r),[s,c]=(0,E.useReducer)(((e,n)=>{if(!n)return[r,i];if("p"in n)throw n.p;if(n.n===a)return Object.is(e[1],i)?e:[r,i];try{if("v"in n){if(Object.is(e[0],n.v))return e;const r=t(n.v);return Object.is(e[1],r)?e:[n.v,r]}}catch(e){}return[...e]}),[r,i]);return Object.is(s[1],i)||c(),QS((()=>(o.add(c),()=>{o.delete(c)})),[o]),s[1]}function ZS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ew(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ew(e,t,n[t])}))}return e}function nw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rw="NOT_FOUND";var aw=function(e,t){return e===t};function ow(e,t){var n,r,a="object"==typeof t?t:{equalityCheck:t},o=a.equalityCheck,i=void 0===o?aw:o,s=a.maxSize,c=void 0===s?1:s,u=a.resultEqualityCheck,l=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(i),d=1===c?(n=l,{get:function(e){return r&&n(r.key,e)?r.value:rw},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var a=n[r];return r>0&&(n.splice(r,1),n.unshift(a)),a.value}return rw}return{get:r,put:function(t,a){r(t)===rw&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,l);function f(){var t=d.get(arguments);if(t===rw){if(t=e.apply(null,arguments),u){var n=d.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}d.put(arguments,t)}return t}return f.clearCache=function(){return d.clear()},f}function iw(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function sw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o,i=0,s={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(s=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=s,l=u.memoizeOptions,d=void 0===l?n:l,f=Array.isArray(d)?d:[d],_=iw(r),p=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(f)),m=e((function(){for(var e=[],t=_.length,n=0;n<t;n++)e.push(_[n].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(m,{resultFunc:c,memoizedResultFunc:p,dependencies:_,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m};return a}var cw=sw(ow);function uw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dw(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function fw(e){return function(e){if(Array.isArray(e))return uw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _w=new Map;function pw(e,t,n){var r=[e].concat(fw(n.slice().sort())).join("-");if(!_w.has(r)){var a=function(e,t){if(void 0===t&&(t=cw),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}(n.reduce((function(e,t){return dw(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lw(e,t,n[t])}))}return e}({},e),lw({},t,(function(e){return e[t]})))}),Object.assign({})));_w.set(r,a)}var o=_w.get(r);return function(e){return o(e.state)}}var mw,gw,hw=ew({getContext:function(){return gw}},mw="LocalizationStateContextProvider",(function(e){var t=e.children,n=e.connector,r=nw((0,E.useState)((function(){return n.getStateData()})),2),a=r[0],o=r[1],i=function(e){var t=(0,E.useRef)(e);return t.current=e,t}(a);(0,E.useEffect)((function(){var e=n.dispenser.subscribe({onInitialState:function(e){o(tw({},e))},onChange:function(e){o((function(t){return tw({},t,e)}))}});return function(){e.unsubscribe()}}),[n]);var s=(0,E.useMemo)((function(){return{connector:n,methods:n.dispatch,state:a,stateRef:i}}),[n,a,i]);return gw||(gw=function(e){const t=(0,E.createContext)({[VS]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});var n;return t[YS]=t.Provider,t.Provider=(n=t.Provider,({value:e,children:t})=>{const r=(0,E.useRef)(e),a=(0,E.useRef)(0),[o,i]=(0,E.useState)(null);o&&(o(e),i(null));const s=(0,E.useRef)();if(!s.current){const e=new Set,t=(t,n)=>{(0,WS.unstable_batchedUpdates)((()=>{a.current+=1;const r={n:a.current};null!=n&&n.suspense&&(r.n*=-1,r.p=new Promise((e=>{i((()=>t=>{r.v=t,delete r.p,e(t)}))}))),e.forEach((e=>e(r))),t()}))};s.current={[VS]:{v:r,n:a,l:e,u:t}}}return QS((()=>{r.current=e,a.current+=1,JS((()=>{s.current[VS].l.forEach((t=>{t({n:a.current,v:e})}))}))}),[e]),(0,E.createElement)(n,{value:s.current},t)}),delete t.Consumer,t}(s),gw.displayName=mw),(0,T.jsx)(gw.Provider,{value:s,children:t})})),yw=hw.getContext,vw=(hw.LocalizationStateContextProvider,function(e,t){var n,r,a=(n=e).charAt(0).toUpperCase()+n.slice(1);return lw(r={},"use".concat(a),(function(n){var r,a,o;return"string"==typeof n?r=function(e){return e.state[n]}:(a=n,r=(null!=(o=Array)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](a):a instanceof o)?pw(e,0,n):"function"==typeof n?function(e){return n(e.state)}:function(e){return e.state}),XS(t(),r)})),lw(r,"use".concat(a,"Ref"),(function(){return XS(t(),(function(e){return e.stateRef}))})),lw(r,"use".concat(a,"Methods"),(function(){return XS(t(),(function(e){return e.methods}))})),lw(r,"use".concat(a,"Connector"),(function(){return XS(t(),(function(e){return e.connector}))})),r}("localizationState",yw));vw.useLocalizationState,vw.useLocalizationStateRef,vw.useLocalizationStateMethods,vw.useLocalizationStateConnector;function bw(e){switch(e){case"Available":case"AvailableIdle":return"available";case"Away":case"BeRightBack":return"away";case"Busy":case"BusyIdle":return"busy";case"DoNotDisturb":return"dnd";default:return"offline"}}function Cw(e,t){switch(t){case"msteams":case"msteams_channel":var n,r;return null==e||null===(r=e.emi)||void 0===r||null===(n=r.msteams)||void 0===n?void 0:n.principalName}}function Sw(e){if("msteams"===e)return["msteams","msteams_channel"]}function ww(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iw(e){return function(e){if(Array.isArray(e))return ww(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ww(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ow(e){var t=__(e),n=[];return t.forEach((function(e){var t=__(e.users,(function(t){return{firstName:t.firstname,lastName:t.lastname,presenceState:t.presence_state,userId:t.user_id,extension:t.extension,isAgent:Ie(t.is_agent),teamId:e.team_id}}));n=Iw(n).concat(Iw(t))})),n}function Tw(e){return __(e,(function(e){return{id:e.id,name:e.name,usersCount:Number(e.users_count),supervised:Ie(e.supervised)}}))}function Ew(e,t){return __(t,(function(t){return{firstName:t.firstname,lastName:t.lastname,agentState:t.acd_state,userId:t.user_id,extension:t.extension,teamId:e,isLogged:Ie(t.is_logged)}}))}function Dw(e){return __(e,(function(e){return{userType:"msteams_channel",channelId:e.channel_id,title:[e.team_name,e.channel_name].filter((function(e){return e})).join(" - "),photoUrl:e.photo_url}}))}function Aw(e){return e.map((function(e){return{userType:"msteams_channel",userId:e.channelId,isStatic:!0,firstName:e.title,teamId:qS,photoId:e.photoUrl}}))}function Pw(e){return __(e,(function(e){return{userType:"msteams",userId:e.user_id,loginId:e.login_id,chatId:e.chat_id,title:e.title,presenceState:bw(e.availability),email:e.email,firstName:e.firstname,lastName:e.lastname,phones:e.phones,photoUrl:e.photo_url,topic:e.topic,hasChat:Ie(e.has_chat)}}))}function kw(e,t){return __(t,(function(t){return ka({id:t.id,mediaType:t.media_type,title:t.title,categoryId:e,number:"voice"===t.media_type?t.number:void 0,email:"email"===t.media_type&&"1"!==t.is_service?t.number:void 0,serviceId:"1"===t.is_service?t.id:t.service_id,huntGroupId:t.hunt_group_id})}))}function Rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mw(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function jw(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mw(o,r,a,i,s,"next",e)}function s(e){Mw(o,r,a,i,s,"throw",e)}i(void 0)}))}}function xw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kw(e,t,n){return Kw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fw(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Kw(e,t,n||e)}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fw(e)}function Uw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$w(e,t,n[t])}))}return e}function qw(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Bw(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Nw(e):t;var n}function Gw(e,t){return Gw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gw(e,t)}function Hw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Ww(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zw(e){return function(e){if(Array.isArray(e))return Rw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ww(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ww(e,t){if(e){if("string"==typeof e)return Rw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rw(e,t):void 0}}function Vw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fw(e);if(t){var a=Fw(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Bw(this,n)}}function Yw(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Qw="DIRECTORY",Jw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gw(e,t)}(o,e);var t,n,r,a=Vw(o);function o(){var e;xw(this,o),$w(Nw(e=a.apply(this,arguments)),"timeouts",{}),$w(Nw(e),"teamId",void 0);var t=Nw(e);$w(Nw(e),"fetchLoggedUsers",function(){var e=jw((function(e){return Yw(this,(function(n){switch(n.label){case 0:return e.length?[4,t.transport.dispatch.agent_get_logged_users({include_logged_out:"1",teams:p_(e)})]:[2,Promise.resolve([])];case 1:return[2,Ow(n.sent().teams).sort(t.userSort)]}}))}));return function(t){return e.apply(this,arguments)}}());var n=Nw(e);$w(Nw(e),"getLoggedUsers",function(){var e=jw((function(e){var t;return Yw(this,(function(r){switch(r.label){case 0:return n.produceState((function(e){e.isUsersLoading=!0})),[4,n.fetchLoggedUsers(e)];case 1:return t=r.sent(),n.produceState((function(e){e.users=t,e.usersWithoutCurrentUser=t.filter(n.omitCurrentUser),e.isUsersLoading=!1})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var r=Nw(e);$w(Nw(e),"requestTeamUsers",function(){var e=jw((function(e){var t,n;return Yw(this,(function(a){switch(a.label){case 0:return[4,r.transport.dispatch.agent_get_logged_users({teams:p_([e]),include_logged_out:"1"})];case 1:return t=a.sent().teams,Ta(n=t[0]),[2,Ew(n.team_id,n.users)]}}))}));return function(t){return e.apply(this,arguments)}}());var i=Nw(e);return $w(Nw(e),"getAgentTeams",jw((function(){var e;return Yw(this,(function(t){switch(t.label){case 0:return i.produceState((function(e){e.isTeamsLoading=!0})),[4,i.transport.dispatch.agent_get_teams()];case 1:return e=t.sent().teams,i.produceState((function(e){e.isTeamsLoading=!1})),[2,Tw(e)]}}))}))),$w(Nw(e),"getDirectoryCategories",(function(){e.transport.dispatch.agent_get_directory_categories()})),$w(Nw(e),"onDirectoryCategories",(function(t){var n=Object.values(t.items).map((function(e){return qw(Uw({},e),{category:!0})}));n.forEach((function(t){return e.getCategoryUsers(t.id)})),e.produceState((function(e){e.categories=n}))})),$w(Nw(e),"getCategoryUsers",(function(t){var n={category_id:t};e.transport.dispatch.agent_get_directory(n)})),$w(Nw(e),"onCategoryEntries",(function(t){switch(t.category_id){case qS:e.addMsTeamsChannels(t);break;case US:e.addMsTeamsUsers(t);break;default:e.addDirectoryEntries(t)}})),$w(Nw(e),"addMsTeamsChannels",(function(t){var n=Dw(t.items),r=Aw(n);r.length&&e.userDetailsConnector.dispatch.saveStaticUserDetails(r),e.produceState((function(e){e.emiUsers.msteams_channels_category_id=n}))})),$w(Nw(e),"addMsTeamsUsers",(function(t){var n=Pw(t.items);e.produceState((function(e){e.emiUsers.msteams_chats_category_id=n}))})),$w(Nw(e),"addDirectoryEntries",(function(t){var n=kw(t.category_id,t.items);e.produceState((function(e){e.categoryEntries[t.category_id]=n}))})),$w(Nw(e),"onAgentWelcome",(function(t){var n=t.team_id;e.teamId=n,e.fixTeamUsersCount(),"mobile"!==e.platformSpecific.clientType()&&e.getDirectoryCategories()})),$w(Nw(e),"onAgentTeams",(function(t){var n=Tw(t.teams);e.produceState((function(e){e.teams=n})),e.fixTeamUsersCount()})),$w(Nw(e),"fixTeamUsersCount",(function(){var t=Nw(e).teamId,n=e.stateData.teams.map((function(e){return e.id===t?void 0===e.usersCount?e:qw(Uw({},e),{usersCount:e.usersCount-1}):e}));e.produceState((function(e){e.teamsWithoutCurrentUser=n}))})),$w(Nw(e),"omitCurrentUser",(function(t){var n=e.sessionConnector.getStateData().userId;return t.userId!==n})),$w(Nw(e),"userSort",(function(t,n){var r=["available","busy","away","dnd","offline","ringing"],a=Hw([t,n].map((function(e){var t=r.indexOf(e.presenceState);return-1!==t?t:r.length})),2),o=a[0],i=a[1],s=Hw([t,n].map((function(t){var n=e.sessionConnector.getStateData().displayNameFormat;return Iv(n,t.firstName,t.lastName)})),2),c=s[0],u=s[1],l=Hw([c,u].map((function(e){return e.toLowerCase()})),2),d=l[0],f=l[1];return(o===i?0:o>i?100:-100)+(d===f?0:d>f?10:-10)+(c===u?0:c>u?1:-1)})),$w(Nw(e),"subscribeUserDetails",(function(t){if(e.transport.dispatch.agent_unsubscribe_users_details({type:Qw}),t.length){var n={type:Qw,users:p_(t),user_fields:{0:"user_id",1:"capacity",2:"presence_state",3:"is_logged",4:"photo_id"}};e.transport.dispatch.agent_subscribe_users_details(n)}})),$w(Nw(e),"onUserDetails",(function(t){var n;if(t.type===Qw){var r=[],a=[],o=[],i={},s={};for(Object.values(t.users).forEach((function(e){wb(e)?s[e.user_id]=e:e.user_id&&(i[e.user_id]=e)})),e.stateData.users.forEach((function(e){var t=i[e.userId],n=e.presenceState||"offline",a=(null==t?void 0:t.presence_state)||"offline",s=qw(Uw({},e),{presenceState:a||n,photoId:(null==t?void 0:t.photo_id)||e.photoId||""});t&&a!==n?o.push(s):r.push(s)})),null===(n=e.stateData.emiUsers.msteams_chats_category_id)||void 0===n||n.forEach((function(e){var t=s[e.userId],n=e.presenceState||"offline",r=(null==t?void 0:t.availability)&&bw(null==t?void 0:t.availability),o=qw(Uw({},e),{presenceState:r||n,photoUrl:(null==t?void 0:t.photo_url)||e.photoUrl||""});a.push(o)}));o.length;){var c=o.pop(),u=void 0,l=!1;for(u=0;u<r.length;u++)if(e.userSort(c,r[u])<1){r.splice(u,0,c),l=!0;break}l||r.push(c)}e.produceState((function(e){e.users=r})),a.length&&e.produceState((function(e){e.emiUsers.msteams_chats_category_id=a})),e.produceState((function(t){Object.keys(t.searchResults).forEach((function(n){var a=t.searchResults[n].data.users.map((function(e){var t=r.find((function(t){return t.userId===e.userId}));return t?qw(Uw({},e),{presenceState:t.presenceState,firstName:t.firstName,lastName:t.lastName,isAgent:t.isAgent||!1,extension:t.extension}):e}));t.searchResults[n].data.users=a.sort(e.userSort)}))}))}})),$w(Nw(e),"findContacts",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=["user_id","firstname","lastname","login_id","extension","is_logged","acd_state","photo_id","presence_state","state_duration","reason","active_item_id","items"],o=["item_id","service_id","media_type","state","direction","service_name","party_name","is_flagged","qm_is_recording","qm_monitor_mode","qm_monitored_item_id","talk_duration","hold_duration","voice_recording_banned","monitoring_banned"];e.produceState((function(e){e.searchResults[n]={data:{directoryCategories:[],directoryEntries:[],teams:[],users:[],usersWithoutCurrentUser:[],emiUsers:{}},query:t,isLoading:!0}})),e.timeouts.findContacts&&clearTimeout(e.timeouts.findContacts),e.timeouts.findContacts=setTimeout((function(){e.transport.dispatch.agent_find_contact({pattern:t,user_fields:Object.assign({},a),item_fields:Object.assign({},o),request_id:n})}),r)})),$w(Nw(e),"onFindContacts",(function(t){var n,r=function(){var e,n;return zw(null!==(n=null==a||null===(e=a.data)||void 0===e?void 0:e.users)&&void 0!==n?n:[]).concat(zw(__(t.result.users,(function(e){return{userId:e.user_id,extension:e.extension,firstName:e.firstname,lastName:e.lastname,isAgent:Ie(e.is_agent),presenceState:e.presence_state,loginId:e.login_id,userType:e.user_type,isLogged:Ie(e.is_logged),acdState:e.acd_state,reason:e.reason,acdNextState:e.acd_next_state,acdNextReason:e.next_reason,capacity:Uo(e.capacity,(function(e){var t;return{active:Ie(e.active),usedSlots:null!==(t=Number(e.used_slots))&&void 0!==t?t:0}}))}}))))},a=e.stateData.searchResults[t.request_id],o=qw(Uw({},a),{isLoading:!Ie(t.is_final),count:t.num_records?Number(t.num_records):0,data:{directoryCategories:zw((null==a||null===(n=a.data)||void 0===n?void 0:n.directoryCategories)||[]).concat(zw(Object.values(t.result.directory_categories||{}).map((function(e){return{id:e.id,name:e.name}})))),directoryEntries:function(){var e;return zw((null==a||null===(e=a.data)||void 0===e?void 0:e.directoryEntries)||[]).concat(zw(Object.values(t.result.directory_items||{}).map((function(e){return{id:e.id,mediaType:e.media_type,number:e.number,title:e.title}}))))}(),teams:function(){var e;return zw((null==a||null===(e=a.data)||void 0===e?void 0:e.teams)||[]).concat(zw(Object.values(t.result.teams||{}).map((function(e){return{id:e.id,name:e.name}}))))}(),users:r().sort(e.userSort),usersWithoutCurrentUser:r().filter(e.omitCurrentUser),emiUsers:{msteamsUsers:function(){var e;return zw((null==a||null===(e=a.data)||void 0===e?void 0:e.emiUsers.msteamsUsers)||[]).concat(zw(Object.values(t.result.mst_users||{}).map((function(e){return{userId:e.user_id,loginId:e.login_id,userType:e.user_type,firstName:e.firstname,lastName:e.lastname,email:e.email,photoUrl:e.photo_url,phones:e.phones,presenceState:bw(e.availability),hasChat:"1"===e.has_chat}}))))}(),msteamsChannels:function(){var e;return zw((null==a||null===(e=a.data)||void 0===e?void 0:e.emiUsers.msteamsChannels)||[]).concat(zw(Object.values(t.result.mst_channels||{}).map((function(e){return{channelId:e.channel_id,title:[e.team_name,e.channel_name].filter((function(e){return e})).join(" - "),photoUrl:e.photo_url,userType:"msteams_channel"}}))))}()}}});e.produceState((function(e){e.searchResults[t.request_id]=o}))})),$w(Nw(e),"onAgentEMIUp",(function(t){"msteams"===t.type&&e.enableMSTeamsDirectories()})),$w(Nw(e),"onAgentEMIDown",(function(t){"msteams"===t.type&&e.removeMsTeamsDirectories()})),$w(Nw(e),"enableMSTeamsDirectories",(function(){var t=!1,n=zw(e.stateData.emiCategories);n.find((function(e){return e.id===US}))||(t=!0,n.push({id:US,name:BS.msteams_chats_category_id})),e.getCategoryUsers(US),n.find((function(e){return e.id===qS}))||(t=!0,n.push({id:qS,name:BS.msteams_channels_category_id})),e.getCategoryUsers(qS),t&&e.produceState((function(e){e.emiCategories=n}))})),$w(Nw(e),"removeMsTeamsDirectories",(function(){var t=e.stateData.emiCategories.filter((function(e){return e.id!==US&&e.id!==qS})),n=Uw({},e.stateData.emiUsers);delete n.msteams_chats_category_id,delete n.msteams_channels_category_id,e.produceState((function(e){e.emiCategories=t,e.emiUsers=n}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,agent_teams:this.onAgentTeams,agent_users_details:this.onUserDetails,agent_directory_categories:this.onDirectoryCategories,agent_directory:this.onCategoryEntries,agent_find_contact_result:this.onFindContacts,agent_emi_up:this.onAgentEMIUp,agent_emi_down:this.onAgentEMIDown}),this.fromClientDispenser.subscribe({getDirectoryCategories:this.getDirectoryCategories,getAgentTeams:this.getAgentTeams,getLoggedUsers:this.getLoggedUsers,fetchLoggedUsers:this.fetchLoggedUsers,getCategoryUsers:this.getCategoryUsers,subscribeUserDetails:this.subscribeUserDetails,findContacts:this.findContacts,requestTeamUsers:this.requestTeamUsers}))}},{key:"cleanup",value:function(){Kw(Fw(o.prototype),"cleanup",this).call(this),this.timeouts={},this.teamId=void 0}},{key:"resetState",value:function(){Kw(Fw(o.prototype),"resetState",this).call(this),this.timeouts={},this.teamId=void 0}}])&&Lw(t.prototype,n),r&&Lw(t,r),o}(Ts.createBaseStateClass({name:"directoryState",controlEvents:HS,trackerEvents:GS,options:{synchronized:!0,authorized:!0},getInitialState:FS,dependencies:["transport","platformSpecific","sessionConnector","userDetailsConnector"]}));var Xw={onInitialState:{parameters:[]},onChange:{parameters:[]}},Zw={checkEMIStatus:{parameters:[]},enableEMI:{parameters:[]},disableEMI:{parameters:[]},acceptConfirmation:{parameters:[]},rejectConfirmation:{parameters:[]}},eI=["msteams"];function tI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e,t,n){return oI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iI(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},oI(e,t,n||e)}function iI(e){return iI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iI(e)}function sI(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?tI(e):t;var n}function cI(e,t){return cI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cI(e,t)}function uI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iI(e);if(t){var a=iI(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sI(this,n)}}function lI(){var e=(window.outerHeight-720)/2,t=(window.outerWidth-640)/2;return"scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,"+"width=".concat(600,",height=").concat(720,",top=").concat(e,",left=").concat(t)}function dI(e,t){var n=setInterval((function(){e.closed&&(clearTimeout(n),t())}),500)}var fI,_I,pI=v.withPrefix("@EMI"),mI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cI(e,t)}(o,e);var t,n,r,a=uI(o);function o(){var e;return nI(this,o),aI(tI(e=a.apply(this,arguments)),"emiAuthData",{}),aI(tI(e),"checkEMIStatus",(function(t){if("msteams"===t){e.updateEMIState(t,{inLoading:!0,changeAccountConfirmation:!1,logoutConfirmation:!1});var n=e.sessionConnector.getStateData().serverOrigin;yc(n).checkMsTeamsAuthStatus().then((function(n){pI.info("Check emi status result: ",n),e.updateEMIState(t,{enabled:n.isAccountPresent,loggedIn:!!n.refreshToken,inLoading:!1,loaded:!0})})).catch((function(){pI.error('Unable to check "'.concat(t,'" account status')),e.updateEMIState(t,{inLoading:!1},"emi_request_error")}))}})),aI(tI(e),"enableEMI",(function(t){if("msteams"===t){e.updateEMIState(t,{inLoading:!0});var n=e.sessionConnector.getStateData().serverOrigin;yc(n).getMsTeamsLoginUrl().then((function(r){pI.info("MSTeams auth url: ",r);var a=(0,C.v4)(),o=new URLSearchParams,i="".concat(n,"/agentdesktop/msteamscallback.html");o.set("redirect_uri",i),o.set("state",a);var s="".concat(r,"&").concat(o);pI.info("Open msteams auth:",s);var c=!1,u=window.open(s,void 0,lI());u||(u=window.open(s)),dI(u,(function(){c||e.updateEMIState(t,{inLoading:!1},"emi_abrupt_window_close")})),window.setMSTeamsOAuthCode=function(r){c=!0,pI.info("MSTeams auth result received:",r);var o=new URL(r),s=new URLSearchParams(o.search),u=s.get("state"),l=s.get("code")||"";if(u!==a)return e.updateEMIState(t,{inLoading:!1},"emi_auth_protocol_error");var d={code:l,redirect_url:i};yc(n).getMsTeamsRefreshToken({requestBody:d}).then((function(n){if(!n)throw Error("Auth data is empty");e.emiAuthData.msteams=n;var r=n.principalName;e.localSettings.get("emiLastAccounts").then((function(n){var a=null==n?void 0:n.msteams;if(r!==a)return e.updateEMIState(t,{changeAccountConfirmation:!0,oldUsername:a,newUsername:r});e.completeMSTeamsSetup()}))})).catch((function(){pI.error('Unable to receive "'.concat(t,'" refresh token')),e.updateEMIState(t,{inLoading:!1},"emi_request_error")}))}})).catch((function(){pI.error('Unable to receive "'.concat(t,'" login URL')),e.updateEMIState(t,{inLoading:!1},"emi_request_error")}))}})),aI(tI(e),"disableEMI",(function(t){e.updateEMIState(t,{inLoading:!0,logoutConfirmation:!0})})),aI(tI(e),"acceptConfirmation",(function(t){if("msteams"===t)if(e.stateData.status.msteams.changeAccountConfirmation){if(!e.emiAuthData.msteams)return pI.warn('Accept confirmation for "msteams": No EMI Auth data'),e.updateEMIState("msteams",{inLoading:!1,changeAccountConfirmation:!1});e.updateEMIState("msteams",{changeAccountConfirmation:!1}),e.completeMSTeamsSetup()}else e.stateData.status.msteams.logoutConfirmation&&(e.updateEMIState("msteams",{logoutConfirmation:!1}),e.logoutFromMSTeams())})),aI(tI(e),"rejectConfirmation",(function(t){e.updateEMIState(t,{inLoading:!1,changeAccountConfirmation:!1,logoutConfirmation:!1})})),aI(tI(e),"completeMSTeamsSetup",(function(){var t={code:e.emiAuthData.msteams.code,redirect_url:e.emiAuthData.msteams.redirect_url,accountClientId:e.emiAuthData.msteams.accountClientId,accountDirectoryId:e.emiAuthData.msteams.accountDirectoryId,principalName:e.emiAuthData.msteams.principalName,refreshToken:e.emiAuthData.msteams.refreshToken,isAccountPresent:e.emiAuthData.msteams.isAccountPresent},n=e.sessionConnector.getStateData().serverOrigin;yc(n).completeMsTeamsAuth({requestBody:t}).then((function(t){pI.info("Complete MS Teams Auth result: ",t),"OK"===t?(e.sessionConnector.dispatch.saveMSTeamsUserData({principalName:e.emiAuthData.msteams.principalName,directoryId:e.emiAuthData.msteams.accountDirectoryId,clientId:e.emiAuthData.msteams.accountClientId}),e.updateEMIState("msteams",{inLoading:!1,loggedIn:!0})):e.updateEMIState("msteams",{inLoading:!1},"emi_unsuccessful_result")})).catch((function(){pI.error('Unable to save "msteams" auth data'),e.updateEMIState("msteams",{inLoading:!1},"emi_request_error")}))})),aI(tI(e),"logoutFromMSTeams",(function(){var t=e.sessionConnector.getStateData().serverOrigin;yc(t).getMsTeamsLogoutUrl().then((function(t){window.open(t,void 0,lI())||window.open(t),e.updateEMIState("msteams",{inLoading:!1,loggedIn:!1})})).catch((function(){pI.error('Unable to receive "msteams" logout URL'),e.updateEMIState("msteams",{inLoading:!1},"emi_request_error")}))})),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({checkEMIStatus:this.checkEMIStatus,enableEMI:this.enableEMI,disableEMI:this.disableEMI,acceptConfirmation:this.acceptConfirmation,rejectConfirmation:this.rejectConfirmation}))}},{key:"updateEMIState",value:function(e,t,n){this.produceState((function(r){r.status[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){aI(e,t,n[t])}))}return e}({},r.status[e],t),r.error=n}))}},{key:"cleanup",value:function(){oI(iI(o.prototype),"cleanup",this).call(this),this.emiAuthData={}}},{key:"resetState",value:function(){oI(iI(o.prototype),"resetState",this).call(this),this.emiAuthData={}}}],n&&rI(t.prototype,n),r&&rI(t,r),o}(Ts.createBaseStateClass({name:"emiState",controlEvents:Zw,trackerEvents:Xw,options:{authorized:!0},getInitialState:function(){return{status:eI.reduce((function(e,t){return e[t]={loggedIn:!1,enabled:!1,loaded:!1,inLoading:!1,changeAccountConfirmation:!1,logoutConfirmation:!1},e}),{})}},dependencies:["localSettings","sessionConnector"]}));!function(e){e.HOME="home",e.SEARCH="search",e.INTERACTION="interaction"}(fI||(fI={})),function(e){e.SEARCH_ID="search-id",e.EVAL_STAT="eval-stat"}(_I||(_I={}));var gI,hI=["CALLER_TRANSFERRED"];!function(e){e.NONE="NONE",e.SAVED="SAVED",e.SUBMITTED="SUBMITTED",e.ASSIGNED="ASSIGNED",e.SCHEDULED="SCHEDULED",e.REVIEWED="REVIEWED",e.CONFIRMED="CONFIRMED",e.DISPUTED="DISPUTED"}(gI||(gI={}));var yI={onInitialState:{parameters:[]},onChange:{parameters:[]}},vI={getEvalsStatistics:{parameters:[]},updatePrevEvalsStatistics:{parameters:[]},setPermissions:{parameters:[]},getInteraction:{parameters:[]},getInteractionSegments:{parameters:[]},getSavedSearches:{parameters:[]},createNewSearch:{parameters:[]},createNewFolder:{parameters:[]},removeSearchesElem:{parameters:[]},moveSearchesElem:{parameters:[]},assignEvaluations:{parameters:[]},getEvaluators:{parameters:[]},getDispositions:{parameters:[]},saveDisposition:{parameters:[]},saveEvaluatorComment:{parameters:[]},setSavedTabs:{parameters:[]},addTab:{parameters:[]},removeTab:{parameters:[]},replaceTab:{parameters:[]},setActiveTabId:{parameters:[]},getInteractionsBySearchId:{parameters:[]},getInteractionsByEvalStat:{parameters:[]},getInteractionsQuery:{parameters:[]},getEvaluationFormData:{parameters:[]},setActiveEvalFormId:{parameters:[]},saveResultDefinition:{async:!0,parameters:[],result:void 0},bookmarkResultDefinition:{parameters:[]},setInteractionRelatedSearch:{parameters:[]},getDictionaries:{parameters:[]},getDictionariesDisposition:{parameters:[]},getDictionariesService:{parameters:[]},getDictionariesKmTemplate:{parameters:[]},getDictionariesSupervisors:{parameters:[]},getDictionariesUsers:{parameters:[]},getDictionariesTrainingClasses:{parameters:[]},saveInteractionsQuery:{parameters:[]},setInteractionsQuery:{parameters:[]},copyInteractionsQuery:{parameters:[]},setSelectedSearch:{parameters:[]},loadVoiceRecording:{parameters:[]},loadScreenRecording:{parameters:[]},setScreenRecordingExpanded:{parameters:[]}},bI=["ACCOUNT_NUM","AGENT","AGENTS_RANK","AGENTS_SUPERVISOR","AGENTS_TRAINING_CLASS","AGENT_NOTES","AGENT_TEAM","CASE_ID","CONNECTED_TO","DISPOSITION","EVALUATED_AGENT","EVALUATED_BY","EVALUATOR_COMMENTS","FIRST_NAME","FROM","GIID","EMAIL_SUBJECT","LAST_NAME","MONITORED_BY","CDR_ID","SCHEDULED_FOR","SERVICE","KM_TEMPLATE_SPEC_USED","TEXT_SEARCH","TO","THREAD_ID"],CI=["ENDED","EVALUATED","EVALUATION_CONFIRMED","STARTED"],SI=["DIRECTION","MEDIA_TYPE","HAS_CALL_PROBLEM","EVAL_STATUS","EVAL_TYPE","HUNG_UP_BY","CUSTOMER_SURVEY_FCR"],wI=["ANY_TEAM_I_EVALUATE","ANY_TEAM_I_SUPERVISE","CAN_I_CONFIRM_EVALUATIONS","CAN_I_CONFIRM_SELF_EVALUATIONS","EVAL_BOOKMARK","EVAL_FAILED","HAS_RECORDING","HAS_SCREEN_RECORDING","VOICE_SIGNATURE","KM_TEMPLATE_USED","KM_TEMPLATE_NOT_USED","SELF_EVALUATED","FLAGGED","MONITORED","TRANSFERRED"],II=["agent","agentsRank","to","threadID","service","scheduledFor","recordID","monitoredBy","mediaType","lastName","accountNumber","agentsSupervisor","agentsTrainingClass","connectedTo","customerPhoneNumber","direction","disposition","evalStatus","evalType","evaluatedAgent","evaluatedBy","firstName","from","globalInteractionID","hangUpBy","hasCallProblem","kmTemplate","fcr"],OI=["agentNotesContains","bookmarked","commentContains","evalFailed","handleTime","hasRecording","hasScreenRecording","hasVoiceSignature","inEmailSubject","quota","selfEvaluated","sentiment","textSearch","transferred","flagged","csat","totalDuration","ended","evalCompleted","evaluated","nps","score","started","talkTime"],TI=["csat","talkTime","score","handleTime","totalDuration","nps"],EI=["ended","evalCompleted","started","evaluated"],DI=["talkTime","score","nps","handleTime","totalDuration","csat","sentiment","ended","evalCompleted","started","evaluated"],AI=["bookmarked","evalFailed","hasRecording","hasScreenRecording","hasVoiceSignature","transferred","flagged","selfEvaluated"],PI=["evalType","evalStatus","mediaType","direction","hasCallProblem","hangUpBy","fcr"],kI="custom-order-",RI=function(e){return EI.includes(e)},NI=function(e){return TI.includes(e)},MI=function(e){return II.includes(e)},jI=function(e){return DI.includes(e)},xI=function(e){return bI.includes(e)},LI=function(e){return CI.includes(e)},$I=function(e){return SI.includes(e)},KI=function(e){return wI.includes(e)},FI=function(e){return MI(e)||function(e){return OI.includes(e)}(e)},UI="ACCOUNT_NUM",qI="AGENT",BI="AGENTS_RANK",GI="AGENTS_SUPERVISOR",HI="AGENTS_TRAINING_CLASS",zI="AGENT_TEAM",WI="AGENT_NOTES",VI="ANY_TEAM_I_EVALUATE",YI="ANY_TEAM_I_SUPERVISE",QI="CASE_ID",JI="CONNECTED_TO",XI="CUSTOMER_SURVEY_CSAT",ZI="CUSTOMER_SURVEY_FCR",eO="CUSTOMER_SURVEY_NPS",tO="DIRECTION",nO="DISPOSITION",rO="DURATION",aO="ENDED",oO="EVAL_BOOKMARK",iO="EVAL_FAILED",sO="EVAL_STATUS",cO="EVAL_TYPE",uO="EVALUATED",lO="EVALUATED_AGENT",dO="EVALUATION_CONFIRMED",fO="EVALUATED_BY",_O="EVALUATOR_COMMENTS",pO="FIRST_NAME",mO="FROM",gO="GIID",hO="HAS_CALL_PROBLEM",yO="HAS_RECORDING",vO="HAS_SCREEN_RECORDING",bO="VOICE_SIGNATURE",CO="HUNG_UP_BY",SO="EMAIL_SUBJECT",wO="KM_TEMPLATE_USED",IO="LAST_NAME",OO="MEDIA_TYPE",TO="MONITORED_BY",EO="KM_TEMPLATE_NOT_USED",DO="QUOTA",AO="CDR_ID",PO="SCHEDULED_FOR",kO="SCORE",RO="SELF_EVALUATED",NO="SENTIMENT",MO="SERVICE",jO="KM_TEMPLATE_SPEC_USED",xO="STARTED",LO="TEXT_SEARCH",$O="THREAD_ID",KO="FLAGGED",FO="TRANSFERRED",UO="HANDLE_TIME",qO="TALK_TIME",BO="CUSTOMER_PHONE_NUMBER",GO={__ANY__:"Any",CALL_DROPPED:"Call dropped",CALL_WENT_SILENT:"Call went silent",POOR_VOICE_QUALITY:"Poor voice quality",OTHER:"Other"},HO={Incoming:"In",Outbound:"Out",Internal:"In"},zO={VOICE:"Voice",CHAT:"Text",EMAIL:"Email"},WO={NONE:"None",ASSIGNED:"Assigned",SAVED:"Draft",SUBMITTED:"Pending",DISPUTED:"Disputed",CONFIRMED:"Completed"},VO={CALIBRATION:"Calibration",EVALUATION:"Evaluation"},YO={CALLER_TERMINATED:"Caller",CALLEE_TERMINATED:"Callee"},QO={AFTER:"CustomRange",BEFORE:"CustomRange",TODAY:"Today",YESTERDAY:"Yesterday",LAST_24H:"Last24h",LAST_7DAYS:"LastNDays",LAST_NDAYS:"LastNDays",THIS_WEEK:"ThisWeek",THIS_WEEK_MON:"ThisWeek(fromMonday)",LAST_WEEK:"LastWeek",LAST_WEEK_MON:"LastWeek(fromMonday)",THIS_MONTH:"ThisMonth",LAST_MONTH:"LastMonth"},JO="ERROR_CONVERTING_INCOMING_FILTERS",XO="ERROR_CONVERTING_OUTCOMING_FILTERS";function ZO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eT=function(e,t){var n,r,a,o,i,s,c,u=function(e){if(!e.value)throw new Error(XO);switch(e.name){case"accountNumber":return UI;case"agent":if("type"in e.value&&"Agent"===e.value.type)return qI;if("type"in e.value&&"Team"===e.value.type)return zI;if("type"in e.value&&"Any Team I Supervise"===e.value.type)return YI;if("type"in e.value&&"Any Team I Evaluate"===e.value.type)return VI;break;case"agentsRank":return BI;case"agentsSupervisor":return GI;case"agentsTrainingClass":return HI;case"agentNotesContains":return WI;case"bookmarked":return oO;case"caseID":return QI;case"commentContains":return _O;case"connectedTo":return JI;case"csat":return XI;case"from":return mO;case"globalInteractionID":return gO;case"totalDuration":return rO;case"hangUpBy":return CO;case"hasCallProblem":return hO;case"fcr":return ZI;case"hasRecording":return yO;case"hasScreenRecording":return vO;case"hasVoiceSignature":return bO;case"inEmailSubject":return SO;case"kmTemplate":return wO;case"lastName":return IO;case"mediaType":return OO;case"monitoredBy":return TO;case"evaluatedAgent":return lO;case"nps":return eO;case"quota":return DO;case"recordID":return AO;case"scheduledFor":return PO;case"score":return kO;case"selfEvaluated":return RO;case"sentiment":return NO;case"service":return MO;case"started":return xO;case"textSearch":return LO;case"threadID":return $O;case"to":return"TO";case"transferred":return FO;case"flagged":return KO;case"evalCompleted":return dO;case"handleTime":return UO;case"talkTime":return qO;case"customerPhoneNumber":return BO;case"direction":return tO;case"disposition":return nO;case"ended":return aO;case"evalFailed":return iO;case"evalStatus":return sO;case"evalType":return cO;case"evaluated":return uO;case"evaluatedBy":return fO;case"firstName":return pO;default:throw new Error(XO)}throw new Error(XO)}({name:e,value:t[e]});if(u===YI)return{type:YI};if(u===VI)return{type:VI};if(u===zI&&"agent"===e&&"Team"===(null===(n=t.agent)||void 0===n?void 0:n.type))return{type:zI,value:null===(a=t.agent)||void 0===a?void 0:a.teamId};if(u===qI&&"agent"===e&&"Agent"===(null===(r=t.agent)||void 0===r?void 0:r.type))return{type:qI,value:null===(o=t.agent)||void 0===o?void 0:o.agentId};if(i=e,PI.includes(i)&&$I(u))return function(e,t){if("fcr"===e){var n=t.fcr;if(n)return{type:ZI,boolValue:"yes"===n}}if("direction"===e){var r,a=void 0;for(r in HO)HO[r]===t.direction&&(a=r);if(a)return{type:tO,direction:a}}if("mediaType"===e){var o,i=void 0;for(o in zO)zO[o]===t.mediaType&&(i=o);if(i)return{type:OO,mediaType:i}}if("hangUpBy"===e){var s,c=void 0;for(s in YO)YO[s]===t.hangUpBy&&(c=s);if(c)return{type:CO,hungUpDisposition:c}}if("evalType"===e){var u,l=void 0;for(u in VO)VO[u]===t.evalType&&(l=u);if(l)return{type:cO,evalType:l}}if("evalStatus"===e){var d,f=void 0;for(d in WO)WO[d]===t.evalStatus&&(f=d);if(f)return{type:sO,evalStatus:f}}if("hasCallProblem"===e){var _,p=void 0;for(_ in GO)GO[_]===t.hasCallProblem&&(p=_);if(p)return{type:hO,callProblemType:p}}throw new Error(XO)}(e,t);if("quota"===e&&u===DO)return{type:u,intValue:(null===(s=t.quota)||void 0===s?void 0:s.evaluationsCount)||0,intValue2:(null===(c=t.quota)||void 0===c?void 0:c.daysCount)||0};if(function(e){return AI.includes(e)}(e)&&KI(u))return{type:u};if(RI(e)&&LI(u))return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ZO(e,t,n[t])}))}return e}({type:u},function(e){if(!e)throw new Error(XO);var t;if("CustomRange"===e.type)return{dateValue:(e.from?e.from.toISOString():null===(t=e.to)||void 0===t?void 0:t.toISOString())||(new Date).toISOString(),dateType:e.from?"AFTER":"BEFORE"};if("LastNDays"===e.type)return{intValue:e.daysAmount,dateType:"LAST_NDAYS"};var n,r=void 0;for(n in QO)QO[n]===e.type&&(r=n);if(r)return{dateType:r};throw new Error(XO)}(t[e]));if("totalDuration"===e&&u===rO){var l=t.totalDuration;if(!l)throw new Error(XO);if(l.min)return{type:u,duration:60*l.min,operator:"GTE"};if(l.max)return{type:u,duration:60*l.max,operator:"LTE"}}if(!("csat"!==e&&"nps"!==e||u!==XI&&u!==eO)){var d=t[e];if(!d)throw new Error(XO);if(d.min)return{type:u,doubleValue:60*d.min,operator:"GTE"};if(d.max)return{type:u,doubleValue:60*d.max,operator:"LTE"}}if("score"===e&&u===kO){var f=t.score;if(!f)throw new Error(XO);if(f.min&&f.max)return{type:kO,doubleValue:f.min,doubleValue2:f.max,operator:"BTW"};if(f.max)return{type:kO,doubleValue:f.max,operator:"LTE"};if(f.min)return{type:kO,doubleValue:f.min,operator:"GTE"}}if(xI(u)){var _=t[e];if(_&&"string"==typeof _)return{type:u,value:_}}throw new Error(XO)};function tT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nT=function(e){var t=function(e){var t=[],n=p[e];a[n].value.forEach((function(e){t.push({objectType:"ITEM",type:"CUSTOM_FIELD",propName:n,value:e}),t.push({objectType:"OPERAND",isAnd:!1})})),t.pop(),i.length>0&&i.push({objectType:"OPERAND",isAnd:!0}),i.push({objectType:"BLOCK",conditions:t})},n=function(e){var t=[],n=m[e];a[n].value.forEach((function(e){t.push({objectType:"ITEM",type:"CUSTOM_FIELD",propName:n,value:e}),t.push({objectType:"OPERAND",isAnd:!1})})),t.pop(),h.length>0&&h.push({objectType:"OPERAND",isAnd:!1}),h.push({objectType:"BLOCK",conditions:t})},r=e.filters,a=e.customFilters,o=e.order,i=[],s=[],c=[];o.and.filter(FI).forEach((function(e){var t=tT({},e,r[e]);if(t){var n=r[e];if(!(null==n?void 0:n.value)||n&&"emptyValue"in n&&n.emptyValue)return;s.push({name:e,filter:t})}})),o.or.filter(FI).forEach((function(e){var t=tT({},e,r[e]);if(t){var n=r[e];if(!(null==n?void 0:n.value)||n&&"emptyValue"in n&&n.emptyValue)return;c.push({name:e,filter:t})}}));for(var u=0;u<s.length;u++){var l=s[u],d=l.name,f=l.filter,_=rT(d,f);i.push({objectType:"BLOCK",conditions:_}),u!==s.length-1&&i.push({objectType:"OPERAND",isAnd:!0})}for(var p=o.and.filter((function(e){return e.startsWith(kI)})).map((function(e){return e.replace(kI,"")})),m=o.or.filter((function(e){return e.startsWith(kI)})).map((function(e){return e.replace(kI,"")})),g=0;g<p.length;g++)t(g);for(var h=[],y=0;y<c.length;y++){var v=c[y],b=v.name,C=v.filter,S=rT(b,C);h.push({objectType:"BLOCK",conditions:S}),y!==c.length-1&&h.push({objectType:"OPERAND",isAnd:!1})}for(var w=0;w<m.length;w++)n(w);return s.length>0&&c.length>0&&i.push({objectType:"OPERAND",isAnd:!0}),h.length>0&&i.push({objectType:"BLOCK",conditions:h}),i},rT=function(e,t){var n,r,a=[];if(!t[e]||!(null===(n=t[e])||void 0===n?void 0:n.value))throw new Error(XO);if("sentiment"===e){var o,i=null===(o=t[e])||void 0===o?void 0:o.value;if(!i)throw new Error(XO);var s=function(e){var t=[];return e.searchForNeutral&&e.searchForBad&&e.searchForGood?(t.push({objectType:"ITEM",type:NO,operator:"LTE",sentiment:.1}),t.push({objectType:"OPERAND",isAnd:!1}),t.push({objectType:"ITEM",type:NO,operator:"LTE",sentiment:.1}),t):(e.searchForBad&&t.push({objectType:"ITEM",type:NO,operator:"LTE",sentiment:e.searchForNeutral?.1:-.1}),e.searchForGood&&t.push({objectType:"ITEM",type:NO,operator:"GTE",sentiment:e.searchForNeutral?-.1:.1}),t)}(i);return s}if("kmTemplate"===e){var c,u=null===(c=t[e])||void 0===c?void 0:c.value;if(!u)throw new Error(XO);var l=function(e){var t=[];if(!e.kmTemplateUsed)return t.push({objectType:"ITEM",type:EO}),t;if(e.kmTemplateUsed){var n,r;if(!e.values||0===(null===(n=e.values)||void 0===n?void 0:n.length))return t.push({objectType:"ITEM",type:wO}),t;for(var a=0;a<((null===(r=e.values)||void 0===r?void 0:r.length)||0);a++){var o,i=e.values[a];t.push({objectType:"ITEM",type:jO,value:i}),a<(null===(o=e.values)||void 0===o?void 0:o.length)-1&&t.push({objectType:"OPERAND",isAnd:!1})}}return t}(u);return l}if(MI(e)){var d,f=null===(d=t[e])||void 0===d?void 0:d.value;if(!f)throw new Error(XO);for(var _=0;_<f.length;_++){var p=f[_],m=eT(e,tT({},e,p));a.push(Object.assign({},{objectType:"ITEM"},m)),_!==f.length-1&&a.push({objectType:"OPERAND",isAnd:!1})}return a}if(function(e,t){if(RI(e)){var n=t[e];return"CustomRange"===(null==n?void 0:n.value.type)}return jI(e)}(e,t)&&(NI(e)||RI(e))){var g,h=null===(g=t[e])||void 0===g?void 0:g.value;if(!h||!Da(h))throw new Error(XO);var y=[];RI(e)&&"type"in h&&"CustomRange"===h.type&&(h.from&&y.push(tT({},e,{type:"CustomRange",from:h.from})),h.to&&y.push(tT({},e,{type:"CustomRange",to:h.to}))),NI(e)&&("min"in h&&h.min&&y.push(tT({},e,{min:h.min})),"max"in h&&h.max&&y.push(tT({},e,{max:h.max})));for(var v=0;v<y.length;v++){var b=y[v],C=eT(e,b);a.push(Object.assign({},{objectType:"ITEM"},C)),v!==y.length-1&&a.push({objectType:"OPERAND",isAnd:!0})}return a}var S=eT(e,tT({},e,null===(r=t[e])||void 0===r?void 0:r.value));return a.push(Object.assign({},{objectType:"ITEM"},S)),a},aT=n(9644),oT=n.n(aT);const iT=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1};const sT=zr&&1/Yn(new zr([,-0]))[1]==1/0?function(e){return new zr(e)}:Kg;const cT=function(e,t,n){var r=-1,a=sh,o=e.length,i=!0,s=[],c=s;if(n)i=!1,a=iT;else if(o>=200){var u=t?null:sT(e);if(u)return Yn(u);i=!1,a=Hn,c=new Bn}else c=t?[]:s;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,i&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else a(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s};const uT=function(e){return e&&e.length?cT(e):[]};function lT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dT(e){switch(e){case UI:return"accountNumber";case qI:case zI:case YI:case VI:return"agent";case jO:case wO:case EO:return"kmTemplate";case BI:return"agentsRank";case GI:return"agentsSupervisor";case HI:return"agentsTrainingClass";case WI:return"agentNotesContains";case oO:return"bookmarked";case QI:return"caseID";case _O:return"commentContains";case JI:return"connectedTo";case XI:return"csat";case ZI:return"fcr";case mO:return"from";case gO:return"globalInteractionID";case rO:return"totalDuration";case cO:return"evalType";case nO:return"disposition";case CO:return"hangUpBy";case hO:return"hasCallProblem";case yO:return"hasRecording";case vO:return"hasScreenRecording";case bO:return"hasVoiceSignature";case SO:return"inEmailSubject";case IO:return"lastName";case OO:return"mediaType";case TO:return"monitoredBy";case eO:return"nps";case DO:return"quota";case AO:return"recordID";case PO:return"scheduledFor";case lO:return"evaluatedAgent";case kO:return"score";case uO:return"evaluated";case NO:return"sentiment";case MO:return"service";case xO:return"started";case LO:return"textSearch";case $O:return"threadID";case"TO":return"to";case FO:return"transferred";case KO:return"flagged";case aO:return"ended";case RO:return"selfEvaluated";case iO:return"evalFailed";case pO:return"firstName";case fO:return"evaluatedBy";case sO:return"evalStatus";case dO:return"evalCompleted";case UO:return"handleTime";case qO:return"talkTime";case BO:return"customerPhoneNumber";case tO:return"direction";default:throw new Error(JO)}}function fT(e){var t=dT(e.type);if(e.type===jO)return{kmTemplate:{kmTemplateUsed:!0,values:[e.value]}};if(e.type===EO)return{kmTemplate:{kmTemplateUsed:!1,values:[]}};if(e.type===wO)return{kmTemplate:{kmTemplateUsed:!0,values:[]}};if(e.type===YI)return{agent:{type:"Any Team I Supervise"}};if(e.type===VI)return{agent:{type:"Any Team I Evaluate"}};if(e.type===zI)return{agent:{type:"Team",teamId:e.value}};if(e.type===qI)return{agent:{type:"Agent",agentId:e.value}};if(e.type===NO){var n=e.sentiment;return"LT"===e.operator||"LTE"===e.operator?n<=-.1?{sentiment:{searchForBad:!0}}:n<.1?{sentiment:{searchForBad:!0,searchForNeutral:!0}}:{sentiment:{searchForBad:!0,searchForNeutral:!0,searchForGood:!0}}:"GT"===e.operator||"GTE"===e.operator?n>=.1?{sentiment:{searchForGood:!0}}:n>=-.1?{sentiment:{searchForGood:!0,searchForNeutral:!0}}:{sentiment:{searchForBad:!0,searchForNeutral:!0,searchForGood:!0}}:{sentiment:{}}}if(function(e){return xI(e.type)}(e))return lT({},t,e.value);if(e.type===DO)return{quota:{evaluationsCount:e.intValue||0,daysCount:e.intValue2}};if(function(e){return LI(e.type)}(e))return lT({},t,function(e){var t=e.dateType;if("LAST_7DAYS"===t)return{type:QO.LAST_NDAYS,daysAmount:7};if("LAST_NDAYS"===t)return{type:QO[t],daysAmount:e.intValue||0};if("BEFORE"===t||"AFTER"===t){var n={type:"CustomRange"};return"AFTER"===t&&(n.from=new Date(e.dateValue||"")),"BEFORE"===t&&(n.to=new Date(e.dateValue||"")),n}if(QO[e.dateType]){var r=QO[e.dateType];if("CustomRange"!==r&&"LastNDays"!==r)return{type:r}}return{type:"LastWeek"}}(e));if(function(e){return $I(e.type)}(e))return lT({},t,function(e){return e.type===OO?zO[e.mediaType]:e.type===CO?YO[e.hungUpDisposition]:e.type===tO?HO[e.direction]:e.type===cO?VO[e.evalType]:e.type===hO?GO[e.callProblemType]:e.type===sO?WO[e.evalStatus]:e.type===ZI?e.boolValue?"yes":"no":void 0}(e));if(function(e){return KI(e.type)}(e))return lT({},t,!0);if(e.type===XI||e.type===eO){if("LT"===e.operator||"LTE"===e.operator)return lT({},t,{max:Math.floor(e.doubleValue/60)});if("GT"===e.operator||"GTE"===e.operator)return lT({},t,{min:Math.floor(e.doubleValue/60)})}if(e.type===rO){if("LT"===e.operator||"LTE"===e.operator)return lT({},t,{max:Math.floor(e.duration/60)});if("GT"===e.operator||"GTE"===e.operator)return lT({},t,{min:Math.floor(e.duration/60)})}if("SCORE"===e.type){if("BTW"===e.operator)return lT({},t,{min:e.doubleValue,max:e.doubleValue2});if("LT"===e.operator||"LTE"===e.operator)return lT({},t,{max:e.doubleValue});if("GT"===e.operator||"GTE"===e.operator)return lT({},t,{min:e.doubleValue})}throw new Error(JO)}var _T=[aO,uO,xO,kO,eO,XI,rO,NO];function pT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mT(e,t,n[t])}))}return e}function hT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function yT(e){return function(e){if(Array.isArray(e))return pT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vT=function(e){var t={},n={},r=[],a=[],o=function(e){var t=OT(e);if("MIXED"===t)throw new Error(JO);for(var n=[],r=[],a=0;a<e.length;a++){var o=e[a];if("OPERAND"!==o.objectType)if("BLOCK"!==o.objectType)n.push(o);else{if(0===o.conditions.length)continue;var i=IT(o.conditions);r.push(i)}}if("OR"===t){if(!r.every((function(e){return"OR"===e.convertBlockType||"NO"===e.convertBlockType})))throw new Error(JO)}if("AND"===t){for(var s=0,c=0;c<r.length;c++)r[c].theSameParameter||s++;if(s>1)throw new Error(JO)}return{conditions:n,blocks:r,type:t}}(e),i="AND";"OR"===o.type&&(i="OR");for(var s=0;s<o.conditions.length;s++){var c=o.conditions[s],u="";"CUSTOM_FIELD"===c.type?(n=ST(n,c,i),u="".concat(kI).concat(c.propName)):(u=dT(c.type),t=wT(t,c,i)),"AND"===i?r.push(u):a.push(u)}for(var l=0;l<o.blocks.length;l++)for(var d=o.blocks[l],f=d.conditions,_=d.convertBlockType,p=d.theSameParameter,m="OR"!==_||p?"AND":"OR",g=0;g<f.length;g++){var h=f[g],y="";"CUSTOM_FIELD"===h.type?(n=ST(n,h,m),y="".concat(kI).concat(h.propName)):(y=dT(h.type),t=wT(t,h,m)),"AND"===m?r.push(y):a.push(y)}return{filters:t,order:{and:uT(r),or:uT(a)},customFilters:n}},bT=function(e,t,n){var r=e[t];r&&n&&r.value&&(r.value=yT(r.value).concat([n]))},CT=function(e,t,n){var r,a=e[t];if(a&&n){if(!(null===(r=a.value)||void 0===r?void 0:r.kmTemplateUsed)&&n.kmTemplateUsed)throw new Error(JO);a.value&&(a.value=hT(gT({},a.value),{kmTemplateUsed:!0,values:yT(a.value.values||[]).concat(yT(n.values||[]))}))}},ST=function(e,t,n){var r=t.value,a=t.propName;if(e[a]){if(e[a].filterType!==n)throw new Error(JO);e[a].value=yT(e[a].value).concat([r])}else e[a]={filterType:n,value:[r]};return e},wT=function(e,t,n){var r=dT(t.type),a=fT(t),o=jI(r);if(!a[r])throw new Error(JO);if(e[r]){var i;if(n!==(null===(i=e[r])||void 0===i?void 0:i.filterType))throw new Error(JO);if(MI(r)){if("agent"===r)return bT(e,r,a[r]),e;if("kmTemplate"===r)return CT(e,r,a[r]),e;var s=e[r],c=a[r];return s&&c?(s.value=yT(s.value).concat([c]),e):e}if(o){if(RI(r)&&a[r])return function(e,t,n){var r=e[t];if(r&&n){if("CustomRange"!==r.value.type)throw new Error(JO);r.value=gT({},r.value,n),e[t]=r}}(e,r,a[r]),e;if(NI(r)&&a[r])return function(e,t,n){var r=e[t];r&&r.value&&(r.value=gT({},r.value,n),e[t]=r)}(e,r,a[r]),e;if("sentiment"===r&&a[r])return function(e,t,n){var r=e[t];r&&r.value&&(r.value=gT({},r.value,n),e[t]=r)}(e,r,a[r]||{}),e}throw new Error(JO)}if(MI(r)){if("agent"===r)return e.agent={filterType:n,value:[]},bT(e,r,a[r]),e;var u;if("kmTemplate"===r)return e.kmTemplate={filterType:n,value:{values:[],kmTemplateUsed:(null===(u=a[r])||void 0===u?void 0:u.kmTemplateUsed)||!0}},CT(e,r,a[r]),e;var l=a[r];if(!l)return e;e[r]={filterType:n,value:[]};var d=e[r];return d&&l?(d.value=yT(d.value).concat([l]),e):e}var f={filterType:n,value:a[r]||""};return e=hT(gT({},e),mT({},r,f))};function IT(e){var t=OT(e);if("MIXED"===t)throw new Error(JO);if("NO"===t&&"BLOCK"===e[0].objectType)return IT(e[0].conditions);for(var n=[],r=0;r<e.length;r++){var a=e[r];if("OPERAND"!==a.objectType){if("BLOCK"===a.objectType){var o,i=IT(a.conditions);if(t!==i.convertBlockType&&![t,i.convertBlockType].includes("NO")){var s=!1;if("OR"===t&&"AND"===i.convertBlockType&&i.theSameParameter&&_T.includes(i.conditions[0].type)&&(s=!0),!s)throw new Error(JO)}(o=n).push.apply(o,yT(i.conditions))}"ITEM"===a.objectType&&n.push(a)}}if("NO"===t&&n.length>1)throw new Error(JO);var c=n[0].type,u=n.every((function(e){return e.type===c}));return{convertBlockType:t,conditions:n,theSameParameter:u}}function OT(e){for(var t,n=0;n<e.length;n++){var r=e[n];if("OPERAND"===r.objectType){var a=r.isAnd?"AND":"OR";if(t){if(t!==a){t="MIXED";break}}else t=a}}return t||"NO"}function TT(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function ET(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){TT(o,r,a,i,s,"next",e)}function s(e){TT(o,r,a,i,s,"throw",e)}i(void 0)}))}}function DT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){DT(e,t,n[t])}))}return e}function PT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function kT(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var RT=function(){var e=ET((function(e){return kT(this,(function(t){switch(t.label){case 0:return[4,oT().get("/admin/rest/evaluation/statistics",{params:{token:e}})];case 1:return[2,t.sent().data||[]]}}))}));return function(t){return e.apply(this,arguments)}}(),NT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().post("/admin/rest/evaluation/get-statistics-criterion",t,{params:{token:e}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),MT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().post("/admin/rest/evaluation/search-by-giid",[t],{params:{token:e}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),jT=function(){var e=ET((function(e,t,n,r,a){var o;return kT(this,(function(i){switch(i.label){case 0:return o={token:e,giid:t,ts:n,mediaType:r},a&&(o.cdrId=a),[4,oT().get("/admin/rest/evaluation/metadata",{params:o})];case 1:return[2,i.sent().data||[]]}}))}));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),xT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().post("/admin/rest/evaluation/save-result-definition",t,{params:{token:e}})];case 1:return[2,n.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),LT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().post("/admin/rest/evaluation/bookmark-result-definition",t,{params:{token:e}})];case 1:return[2,n.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),$T=function(){var e=ET((function(e,t,n,r,a,o,i){return kT(this,(function(s){switch(s.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-result-definition",{params:{token:e,giid:t,ts:n,mediaType:r,cdrId:o,agentLoginId:a,formId:i}})];case 1:return[2,s.sent().data]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),KT=(function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-result-definition-by-id",{params:{token:e,evalId:t}})];case 1:return[2,n.sent().data]}}))}))}(),function(){var e=ET((function(e,t,n,r,a,o){return kT(this,(function(i){switch(i.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-evaluation-forms",{params:{token:e,giid:t,ts:n,mediaType:r,agentLoginId:a,serviceName:o}})];case 1:return[2,i.sent().data||[]]}}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}()),FT=(function(){var e=ET((function(e,t,n){return kT(this,(function(r){switch(r.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-all-evals",{params:{token:e,giid:t,agentLoginId:n}})];case 1:return[2,r.sent().data||{}]}}))}))}(),function(){var e=ET((function(e,t,n,r,a){return kT(this,(function(o){switch(o.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-all-evals-info",{params:{token:e,giid:t,ts:n,mediaType:r,agentLoginId:a}})];case 1:return[2,o.sent().data||{}]}}))}));return function(t,n,r,a,o){return e.apply(this,arguments)}}()),UT=function(){var e=ET((function(e){return kT(this,(function(t){switch(t.label){case 0:return[4,oT().get("/admin/rest/evaluation/saved-searches",{params:{token:e}})];case 1:return[2,t.sent().data||[]]}}))}));return function(t){return e.apply(this,arguments)}}(),qT=function(){var e=ET((function(e,t,n,r){var a,o=arguments;return kT(this,(function(i){switch(i.label){case 0:return a=o.length>4&&void 0!==o[4]&&o[4],[4,oT().post("/admin/rest/evaluation/create-search",{cloned:a,editable:!0,name:t,parentId:n,privacy:r,randomizeSearch:!1,type:"QUERY"},{params:{token:e}})];case 1:return[2,i.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),BT=function(){var e=ET((function(e,t,n,r){return kT(this,(function(a){switch(a.label){case 0:return[4,oT().post("/admin/rest/evaluation/create-search",{count:0,editable:!0,name:t,parentId:n,privacy:r,randomizeSearch:!1,type:"FOLDER"},{params:{token:e}})];case 1:return[2,a.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),GT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().delete("/admin/rest/evaluation/remove-search/".concat(t),{params:{token:e}})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),HT=function(){var e=ET((function(e,t,n,r){return kT(this,(function(a){switch(a.label){case 0:return[4,oT().put("/admin/rest/evaluation/move-search/".concat(t),{parentId:n,privacy:r},{params:{token:e}})];case 1:return[2,a.sent()]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),zT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().post("/admin/rest/evaluation/assign-evaluation",t,{params:{token:e}})];case 1:return[2,n.sent().statusText]}}))}));return function(t,n){return e.apply(this,arguments)}}(),WT=function(){var e=ET((function(e,t){var n,r;return kT(this,(function(a){switch(a.label){case 0:return n=t.agentLogins.toString(),r=t.teams.join("@___SEPARATOR___@"),[4,oT().get("/admin/rest/evaluation/get-evaluators",{params:{token:e,agentLogins:n,teams:r}})];case 1:return[2,a.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),VT=function(){var e=ET((function(e,t,n,r,a,o){return kT(this,(function(i){switch(i.label){case 0:return[4,oT().post("/admin/rest/evaluation/save-evaluator-comment",o,{headers:{"Content-Type":"application/json"},params:{token:e,giid:t,mediaType:n,cdrId:r,agentLoginId:a}})];case 1:return[2,i.sent()]}}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),YT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().get("/admin/rest/evaluation/dispositions",{params:{token:e,serviceName:t}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),QT=function(){var e=ET((function(e,t,n,r){return kT(this,(function(a){switch(a.label){case 0:return[4,oT().post("/admin/rest/evaluation/update-disposition",{disposition:n,notes:r},{params:{token:e,agentLoginId:t}})];case 1:return[2,a.sent().data||{}]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),JT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().post("/admin/rest/evaluation/search",t,{params:{token:e}})];case 1:return[2,n.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}(),XT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,oT().get("/admin/rest/evaluation/get-search/".concat(t),{params:{token:e}})];case 1:return[2,n.sent().data];case 2:return n.sent(),[2,null];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ZT=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,JT(e,{objectType:"BLOCK",conditions:t.criteriaList,randomizeSearch:t.randomizeSearch})];case 1:return[2,n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),eE=function(){var e=ET((function(e,t){var n,r;return kT(this,(function(a){switch(a.label){case 0:return[4,XT(e,t)];case 1:if(n=a.sent())return r=n.criteriaList,[2,PT(AT({},vT(r)),{randomizeSearch:n.randomizeSearch,name:n.name,editable:n.editable})];throw new Error("something went wrong")}}))}));return function(t,n){return e.apply(this,arguments)}}(),tE=function(){var e=ET((function(e,t,n){var r,a,o,i,s,c,u,l;return kT(this,(function(d){switch(d.label){case 0:return r=n.randomizeSearch,a=n.name,o=nT(n),[4,oT().post("/admin/rest/evaluation/save-search",{id:t,name:a,objectType:"BLOCK",randomizeSearch:r,conditions:o},{params:{token:e}})];case 1:return i=d.sent(),s=vT(i.data.criteriaList),c=s.filters,u=s.order,l=s.customFilters,[2,{filters:c,order:u,customFilters:l,name:i.data.name,randomizeSearch:i.data.randomizeSearch,editable:i.data.editable}]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),nE=function(){var e=ET((function(e,t,n){var r,a,o,i,s,c,u,l;return kT(this,(function(d){switch(d.label){case 0:return r=n,n?[3,2]:[4,UT(e)];case 1:a=d.sent(),r=a.find((function(e){return e.id===t})),d.label=2;case 2:return r?[4,qT(e,r.name,r.parentId,r.privacy,!0)]:[2];case 3:return o=d.sent(),[4,oT().post("/admin/rest/evaluation/save-search",{id:o.id,cloned:!0,conditions:o.criteriaList,name:o.name,editable:!0,objectType:"BLOCK",qmLayout:null,randomizeSearch:o.randomizeSearch,type:"QUERY"},{params:{token:e}})];case 4:return i=d.sent(),s=vT(i.data.criteriaList),c=s.filters,u=s.order,l=s.customFilters,[2,{filters:c,order:u,customFilters:l,name:i.data.name,randomizeSearch:i.data.randomizeSearch,newId:o.id,editable:i.data.editable}]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),rE=function(){var e=ET((function(e,t){return kT(this,(function(n){switch(n.label){case 0:return[4,oT().get(e,{params:{token:t}})];case 1:return[2,n.sent().data||[]]}}))}));return function(t,n){return e.apply(this,arguments)}}(),aE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-agents",e)]}))}));return function(t){return e.apply(this,arguments)}}(),oE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-dispositions",e)]}))}));return function(t){return e.apply(this,arguments)}}(),iE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-services",e)]}))}));return function(t){return e.apply(this,arguments)}}(),sE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-templates",e)]}))}));return function(t){return e.apply(this,arguments)}}(),cE=function(){var e=ET((function(e){return kT(this,(function(t){switch(t.label){case 0:return[4,rE("/admin/rest/evaluation/get-teams",e)];case 1:return[2,t.sent().map((function(e){var t=e.name;return{name:t,id:t}}))]}}))}));return function(t){return e.apply(this,arguments)}}(),uE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-supervisors",e)]}))}));return function(t){return e.apply(this,arguments)}}(),lE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-users?withMe=true",e)]}))}));return function(t){return e.apply(this,arguments)}}(),dE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-custom-fields",e)]}))}));return function(t){return e.apply(this,arguments)}}(),fE=function(){var e=ET((function(e){return kT(this,(function(t){return[2,rE("/admin/rest/evaluation/get-training-classes",e)]}))}));return function(t){return e.apply(this,arguments)}}(),_E=function(){var e=ET((function(e){var t,n,r,a,o,i,s,c,u,l;return kT(this,(function(d){switch(d.label){case 0:return[4,Promise.allSettled([fE(e),aE(e),oE(e),iE(e),sE(e),lE(e),cE(e),uE(e),dE(e)])];case 1:return t=d.sent(),n="fulfilled"===t[0].status?t[0].value:[],r="fulfilled"===t[1].status?t[1].value:[],a="fulfilled"===t[2].status?t[2].value:[],o="fulfilled"===t[3].status?t[3].value:[],i="fulfilled"===t[4].status?t[4].value:[],s="fulfilled"===t[5].status?t[5].value:[],c="fulfilled"===t[6].status?t[6].value:[],u="fulfilled"===t[7].status?t[7].value:[],l="fulfilled"===t[8].status?t[8].value:[],[2,{trainingClassesList:n,agentsList:r,dispositionsList:a,servicesList:o,templatesList:i,usersList:s,teamsList:c,supervisorsList:u,customFiltersList:l}]}}))}));return function(t){return e.apply(this,arguments)}}(),pE=function(){var e=ET((function(e,t,n,r,a,o){return kT(this,(function(i){switch(i.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-voice-recording-path",{params:{token:e,giid:t,cpa:n,mediaType:r,download:a,cdrId:o}})];case 1:return[2,i.sent().data]}}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),mE=function(){var e=ET((function(e,t,n,r){return kT(this,(function(a){switch(a.label){case 0:return[4,oT().get("/admin/rest/evaluation/get-screen-recording-path",{params:{token:e,giid:t,mediaType:n,cdrId:r}})];case 1:return[2,a.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),gE=function(){var e=ET((function(e,t,n,r){return kT(this,(function(a){switch(a.label){case 0:return"/admin/rest/evaluation/get-screen-recording-status",[4,oT().get("/admin/rest/evaluation/get-screen-recording-status",{params:{token:e,giid:t,mediaType:n,cdrId:r}})];case 1:return[2,a.sent().data]}}))}));return function(t,n,r,a){return e.apply(this,arguments)}}(),hE=function(){var e=ET((function(e,t,n){var r,a,o;return kT(this,(function(i){switch(i.label){case 0:return[4,oT().head(e)];case 1:return r=i.sent(),(a=r.headers.contentLength)>2097152?(t(),[2]):[4,oT().get(e,{headers:{Range:"bytes=0-"+(a-1)}})];case 2:return o=i.sent(),n(o.data),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}();function yE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bE(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function CE(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bE(o,r,a,i,s,"next",e)}function s(e){bE(o,r,a,i,s,"throw",e)}i(void 0)}))}}function SE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OE(e,t,n){return OE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TE(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},OE(e,t,n||e)}function TE(e){return TE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},TE(e)}function EE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){IE(e,t,n[t])}))}return e}function DE(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function AE(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?vE(e):t;var n}function PE(e,t){return PE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},PE(e,t)}function kE(e){return function(e){if(Array.isArray(e))return yE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=TE(e);if(t){var a=TE(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return AE(this,n)}}function NE(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ME=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PE(e,t)}(o,e);var t,n,r,a=RE(o);function o(){var e;SE(this,o),IE(vE(e=a.apply(this,arguments)),"previousOpenedTab",void 0);var t=vE(e);IE(vE(e),"getDictionariesDisposition",function(){var e=CE((function(e){var n;return NE(this,(function(r){switch(r.label){case 0:return[4,oE(e)];case 1:return(n=r.sent()).pop(),n&&t.produceState((function(e){e.dictionaries.dispositionsList=n})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var n=vE(e);IE(vE(e),"getDictionariesService",function(){var e=CE((function(e){var t;return NE(this,(function(r){switch(r.label){case 0:return[4,iE(e)];case 1:return(t=r.sent())&&n.produceState((function(e){e.dictionaries.servicesList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var r=vE(e);IE(vE(e),"getDictionariesKmTemplate",function(){var e=CE((function(e){var t;return NE(this,(function(n){switch(n.label){case 0:return[4,sE(e)];case 1:return(t=n.sent())&&r.produceState((function(e){e.dictionaries.templatesList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var i=vE(e);IE(vE(e),"getDictionariesSupervisors",function(){var e=CE((function(e){var t;return NE(this,(function(n){switch(n.label){case 0:return[4,uE(e)];case 1:return(t=n.sent())&&i.produceState((function(e){e.dictionaries.supervisorsList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var s=vE(e);IE(vE(e),"getDictionariesUsers",function(){var e=CE((function(e){var t;return NE(this,(function(n){switch(n.label){case 0:return[4,lE(e)];case 1:return(t=n.sent())&&s.produceState((function(e){e.dictionaries.usersList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var c=vE(e);IE(vE(e),"getDictionariesTrainingClasses",function(){var e=CE((function(e){var t;return NE(this,(function(n){switch(n.label){case 0:return[4,fE(e)];case 1:return(t=n.sent())&&c.produceState((function(e){e.dictionaries.trainingClassesList=t})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),IE(vE(e),"getEvaluators",(function(t,n){WT(t,n).then((function(t){e.produceState((function(e){e.evaluators=t}))})).catch((function(){e.produceState((function(e){e.evaluators=[]}))}))})),IE(vE(e),"assignEvaluations",(function(t,n){e.produceState((function(e){e.isAssignEvaluationLoading=!0})),zT(t,n).then((function(){e.produceState((function(e){e.isAssignEvaluationLoading=!1,e.isAssignEvaluationError=!1}))})).catch((function(){e.produceState((function(e){e.isAssignEvaluationLoading=!1,e.isAssignEvaluationError=!0}))}))})),IE(vE(e),"setPermissions",(function(t){e.produceState((function(e){e.permissions=t}))})),IE(vE(e),"getEvalsStatistics",(function(t){RT(t).then(e.onEvalStatistics).catch(e.onEvalStatisticsError)})),IE(vE(e),"onEvalStatistics",(function(t){e.produceState((function(e){e.isEvalStatsLoading=!1,e.evalStats=t}))})),IE(vE(e),"onEvalStatisticsError",(function(){e.produceState((function(e){e.isEvalStatsLoading=!1,e.evalStats=[]}))})),IE(vE(e),"updatePrevEvalsStatistics",(function(t){e.produceState((function(e){e.prevEvalStats=t||e.evalStats}))})),IE(vE(e),"getSavedSearches",(function(t){e.produceState((function(e){e.isSavedSearchesLoading=!0})),UT(t).then(e.onSavedSearches).catch(e.onSavedSearchesError)})),IE(vE(e),"onSavedSearches",(function(t){e.produceState((function(e){e.isSavedSearchesLoading=!1,e.savedSearches=t}))})),IE(vE(e),"onSavedSearchesError",(function(){e.produceState((function(e){e.isSavedSearchesLoading=!1,e.savedSearches=[]}))})),IE(vE(e),"onLoadInteractionError",(function(t){e.produceState((function(e){var n=e.interactions[t];Ta(n),n.error=!0,n.loading=!1}))})),IE(vE(e),"getInteraction",(function(t,n,r){e.produceState((function(e){e.interactions[n]||(e.interactions[n]={error:!1,loading:!0})})),MT(t,n).then((function(a){var o=a.data[0];e.produceState((function(e){var t=e.interactions[n];Ta(t),t.interaction=o,t.segments={}}));var i=o.dateTime,s=o.mediaType;e.getInteractionSegments(t,n,i,s,r)})).catch((function(){e.onLoadInteractionError(n)}))})),IE(vE(e),"getInteractionSegments",(function(t,n,r,a,o){var i=function(s){jT(t,n,r,a,s).then((function(c){if(e.produceState((function(e){var t=e.interactions[n];Ta(t),Ta(t.segments),s||(t.startTime=c.startTime),(!o&&!s||o&&c.cdrId===o)&&(t.metadata=c),t.segments[c.cdrId]={metadata:c}})),c.selectedParty.hasVoiceRecording&&e.loadVoiceRecording(t,n,!1,a,!1,c.cdrId),c.nextSegmentId)i(c.nextSegmentId);else{var u;e.setInteractionSegmentsData(n);var l=null===(u=e.stateData.interactions[n])||void 0===u?void 0:u.metadata;Ta(l),l.systemInteraction?e.produceState((function(e){var t=e.interactions[n];Ta(t),t.loading=!1})):e.getInteractionEvalsInfo(c,t,n,r)}})).catch((function(){e.onLoadInteractionError(n)}))};i()})),IE(vE(e),"syncSegmentTranscripts",(function(e,t){return e.selectedParty.transcriptsBatch.transcripts.map((function(e){var n=e.time-t,r=n<0?0:n;return DE(EE({},e),{timeOffset:r})}))})),IE(vE(e),"getSegmentParticipants",(function(t,n,r){if(e.isServiceSegment(t))return[];var a=t.startTime-r,o=t.selectedParty,i=t.selectedParty.loginId?"agent":"client";return[{party:o,role:"agent",active:n,joinTime:a,segmentId:t.cdrId},{party:t.nonSelectedParty,role:n?"client":i,active:!1,joinTime:a,segmentId:t.cdrId}]})),IE(vE(e),"isServiceSegment",(function(e){return hI.includes(e.disposition)})),IE(vE(e),"getInteractionEvalsInfo",(function(t,n,r,a){var o=t.selectedParty.loginId;o&&FT(n,r,a,t.mediaType,o).then((function(i){e.produceState((function(e){var t=e.interactions[r];Ta(t),t.forms={items:[],loadedItems:{}},t.evalsInfo=i})),e.mustOpenAllEvals(i)?e.produceState((function(e){var t=e.interactions[r];Ta(t),t.loading=!1})):e.initEvaluationForms(t,n,r,a,o)})).catch((function(){e.onLoadInteractionError(r)}))})),IE(vE(e),"getEvaluationFormData",(function(t,n,r,a,o,i,s){e.produceState((function(e){var t=e.interactions[n];Ta(t),Ta(t.forms),t.forms.activeFormId=s})),$T(t,n,r,a,o,i,s).then((function(t){e.produceState((function(e){var r=e.interactions[n];Ta(r),Ta(r.forms),Ta(r.forms.loadedItems),r.forms.loadedItems[s]=t}))}))})),IE(vE(e),"setActiveEvalFormId",(function(t,n){e.produceState((function(e){var r=e.interactions[t];Ta(r),Ta(r.forms),r.forms.activeFormId=n}))})),IE(vE(e),"initEvaluationForms",(function(t,n,r,a,o){if(e.canEvaluateOrAssign(t)){var i=t.selectedParty.serviceName;KT(n,r,a,t.mediaType,o,i).then((function(i){if(0!==i.length){e.produceState((function(e){var t=e.interactions[r];Ta(t),t.forms={items:i,loadedItems:{}},t.loading=!1}));var s=i.find((function(e){return e.status===gI.SAVED}))||i[0];e.getEvaluationFormData(n,r,a,t.mediaType,o,t.cdrId,s.id)}else e.produceState((function(e){var t=e.interactions[r];Ta(t),t.forms={items:i,loadedItems:{},error:"forms"},t.loading=!1}))})).catch((function(){e.onLoadInteractionError(r)}))}else e.produceState((function(e){var t=e.interactions[r];Ta(t),t.forms={items:[],loadedItems:{},error:"permissions"},t.loading=!1}))})),IE(vE(e),"setInteractionRelatedSearch",(function(t,n){e.produceState((function(e){var r=e.interactions[t];r||(r={loading:!0,error:!1}),r.relatedSearch=n,e.interactions[t]=r}))})),IE(vE(e),"createNewSearch",(function(t,n,r){var a;e.produceState((function(e){e.isSavedSearchesLoading=!0}));var o=(null===(a=e.stateData.savedSearches.find((function(e){return e.id===r})))||void 0===a?void 0:a.privacy)||"PERSONAL";qT(t,n,r,o).then((function(){e.produceState((function(e){return e.isSavedSearchesLoading=!1,e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),IE(vE(e),"createNewFolder",(function(t,n,r){var a;e.produceState((function(e){e.isSavedSearchesLoading=!0}));var o=(null===(a=e.stateData.savedSearches.find((function(e){return e.id===r})))||void 0===a?void 0:a.privacy)||"PERSONAL";BT(t,n,r,o).then((function(t){e.produceState((function(e){return e.isSavedSearchesLoading=!1,e.savedSearches.push(t),e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),IE(vE(e),"removeSearchesElem",(function(t,n){e.produceState((function(e){e.isSavedSearchesLoading=!0})),GT(t,n).then((function(){e.produceState((function(e){return e.savedSearches=e.savedSearches.filter((function(e){return e.id!==n})),e.isSavedSearchesLoading=!1,e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),IE(vE(e),"moveSearchesElem",(function(t,n,r){var a;e.produceState((function(e){e.isSavedSearchesLoading=!0}));var o=(null===(a=e.stateData.savedSearches.find((function(e){return e.id===n})))||void 0===a?void 0:a.privacy)||"PERSONAL";HT(t,n,r,o).then((function(){e.produceState((function(e){return e.savedSearches=e.savedSearches.map((function(e){return e.id===n?DE(EE({},e),{parentId:r}):e})),e.isSavedSearchesLoading=!1,e}))})).catch((function(){e.produceState((function(e){e.isSavedSearchesLoading=!1}))}))})),IE(vE(e),"setSavedTabs",(function(t){e.produceState((function(e){e.tabs=t}))})),IE(vE(e),"addTab",(function(t){e.produceState((function(n){e.previousOpenedTab=n.activeTabId;var r=n.tabs.find((function(e){return e.tabId===t.tabId}));r?r.title!==t.title&&(r.title=t.title):n.tabs.push(t),n.activeTabId=t.tabId}))})),IE(vE(e),"removeTab",(function(t){e.produceState((function(n){n.tabs=n.tabs.filter((function(e){return e.tabId!==t}));var r=n.tabs.find((function(t){return t.tabId===e.previousOpenedTab}));n.activeTabId=(null==r?void 0:r.tabId)||fI.HOME}))})),IE(vE(e),"replaceTab",(function(t,n){e.produceState((function(e){var r=e.tabs.findIndex((function(e){return e.tabId===t}));e.tabs[r]=n,e.activeTabId=n.tabId}))})),IE(vE(e),"setActiveTabId",(function(t){e.produceState((function(n){e.previousOpenedTab=n.activeTabId,n.activeTabId=t}))}));var u=vE(e);IE(vE(e),"copyInteractionsQuery",function(){var e=CE((function(e,t){var n,r;return NE(this,(function(a){switch(a.label){case 0:return n=u.stateData.savedSearches.find((function(e){return e.id===t})),[4,nE(e,t,n)];case 1:return(r=a.sent())?(u.produceState((function(e){e.interactionsQueries[r.newId]=DE(EE({},r),{isError:!1,loading:!1})})),u.addTab({tabId:"".concat(fI.SEARCH,"-").concat(r.newId),page:fI.SEARCH,title:r.name,dataId:r.newId,searchType:_I.SEARCH_ID}),[2]):[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var l=vE(e);IE(vE(e),"getInteractionQuery",function(){var e=CE((function(e,t){var n;return NE(this,(function(r){switch(r.label){case 0:return!(n=l.stateData.interactionsQueries[t])||n.loading||n.isError?[4,XT(e,t)]:[2,{criteriaList:nT(n),name:n.name,randomizeSearch:n.randomizeSearch,editable:n.editable}];case 1:return[2,r.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}());var d=vE(e);IE(vE(e),"getInteractionsBySearchId",function(){var e=CE((function(e,t){var n;return NE(this,(function(r){switch(r.label){case 0:return[4,d.getInteractionQuery(e,t)];case 1:return(n=r.sent())?(ZT(e,n).then((function(e){var r=EE({id:t,title:n.name,type:_I.SEARCH_ID,editable:n.editable},e);d.produceState((function(e){e.searchResults[t]=r}))})).catch((function(){d.produceState((function(e){e.activeTabId=fI.HOME}))})),[2]):[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var f=vE(e);IE(vE(e),"getInteractionsByEvalStat",function(){var e=CE((function(e,t,n){var r;return NE(this,(function(a){switch(a.label){case 0:return[4,NT(e,n)];case 1:return(r=a.sent())?(ZT(e,r).then((function(e){var n=EE({id:t,title:r.name,type:_I.EVAL_STAT,editable:r.editable},e);f.produceState((function(e){e.searchResults[t]=n}))})).catch((function(){f.produceState((function(e){e.activeTabId=fI.HOME}))})),[2]):[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()),IE(vE(e),"getInteractionsQuery",(function(t,n){var r=e.stateData.interactionsQueries[n];(!r||r.loading||r.isError)&&(e.produceState((function(e){e.interactionsQueries[n]={loading:!0}})),eE(t,n).then((function(t){e.setInteractionsQuery(t,n)})).catch((function(){e.onInteractionQueryError(n)})))})),IE(vE(e),"onInteractionQueryError",(function(t){e.produceState((function(e){e.interactionsQueries[t]={loading:!1,isError:!0}}))}));var _=vE(e);IE(vE(e),"saveInteractionsQuery",function(){var e=CE((function(e,t,n){var r;return NE(this,(function(a){switch(a.label){case 0:return[4,tE(e,t,n)];case 1:return r=a.sent(),_.setInteractionsQuery(r,t),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()),IE(vE(e),"setInteractionsQuery",(function(t,n){e.produceState((function(e){e.interactionsQueries[n]=DE(EE({},t),{isError:!1,loading:!1})}))}));var p=vE(e);IE(vE(e),"getDictionaries",function(){var e=CE((function(e){var t;return NE(this,(function(n){switch(n.label){case 0:return p.stateData.dictionariesLoading?[4,_E(e)]:[3,2];case 1:t=n.sent(),p.produceState((function(e){e.dictionariesLoading=!1,e.dictionaries=EE({},e.dictionaries,t)})),n.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var m=vE(e);IE(vE(e),"getDispositions",function(){var e=CE((function(e,t){var n;return NE(this,(function(r){switch(r.label){case 0:return[4,YT(e,t)];case 1:return n=r.sent(),m.produceState((function(e){e.dispositionsLoading=!1,e.dispositions=n})),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var g=vE(e);IE(vE(e),"saveDisposition",function(){var e=CE((function(e,t,n,r,a){return NE(this,(function(o){return g.produceState((function(e){e.dispositionSaving=!0})),QT(e,n,r,a).then((function(){var n,r=null===(n=g.stateData.interactions[t])||void 0===n?void 0:n.metadata;Ta(r),jT(e,t,r.startTime,r.mediaType).then((function(e){g.produceState((function(n){n.dispositionSaving=!1;var r=n.interactions[t];Ta(r),r.metadata=e}))}))})),[2]}))}));return function(t,n,r,a,o){return e.apply(this,arguments)}}());var h=vE(e);return IE(vE(e),"saveEvaluatorComment",function(){var e=CE((function(e,t,n,r,a,o){return NE(this,(function(i){return h.produceState((function(e){e.evaluatorCommentSaving=!0})),VT(e,t,n,r,a,o).then((function(){var n,r=null===(n=h.stateData.interactions[t])||void 0===n?void 0:n.metadata;Ta(r),jT(e,t,r.startTime,r.mediaType).then((function(e){h.produceState((function(n){n.evaluatorCommentSaving=!1;var r=n.interactions[t];Ta(r),r.metadata=e}))}))})),[2]}))}));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}()),IE(vE(e),"setSelectedSearch",(function(t){e.produceState((function(e){e.selectedSearchId=t}))})),IE(vE(e),"saveResultDefinition",(function(e,t){return xT(e,t)})),IE(vE(e),"bookmarkResultDefinition",(function(t,n){LT(t,n).then((function(t){e.produceState((function(e){var r=e.interactions[n.giid];Ta(r),r.forms&&r.forms.loadedItems&&(r.forms.loadedItems[t.formId]=t)}))}))})),IE(vE(e),"checkScreenRecordingLoading",(function(t,n,r,a){gE(t,n,r,a).then((function(o){switch(o.status){case"READY":e.loadScreenRecording(t,n,r,a);break;case"IN_PROGRESS":e.onScreenRecordingProgress(n,Math.floor(100*o.progress)),setTimeout((function(){e.checkScreenRecordingLoading(t,n,r,a)}),1e3);break;case"CANCELED":e.onScreenRecordingError(n,"cancelled");break;case"ERROR":switch(console.error("Error while loading screen recording:",o.errorMessage),o.errorCode){case"ERR_MERGE_INTERRUPTED":e.onScreenRecordingError(n,"cancelled");break;case"ERR_FILE_NOT_FOUND":e.onScreenRecordingError(n,"not-found");break;default:e.onScreenRecordingError(n,"not-available")}}})).catch((function(){e.onScreenRecordingError(n,"server")}))})),IE(vE(e),"loadVoiceRecording",(function(t,n,r,a,o,i){var s,c,u;(null===(u=e.stateData.interactions[n])||void 0===u||null===(c=u.segments)||void 0===c||null===(s=c[i].voiceRecording)||void 0===s?void 0:s.loading)||(e.produceState((function(e){var t,r,a,o=null===(r=e.interactions[n])||void 0===r||null===(t=r.segments)||void 0===t?void 0:t[i];Ta(o),(null===(a=o.voiceRecording)||void 0===a?void 0:a.loading)||(o.voiceRecording={loading:!0})})),pE(t,n,r,a,o,i).then((function(t){e.produceState((function(e){var r,a,o=null===(a=e.interactions[n])||void 0===a||null===(r=a.segments)||void 0===r?void 0:r[i].voiceRecording;Ta(o),o.source=t,o.loading=!1}))})).catch((function(){e.onVoiceRecordingError(n,i)})))})),IE(vE(e),"onVoiceRecordingError",(function(t,n){e.produceState((function(e){var r,a,o=null===(a=e.interactions[t])||void 0===a||null===(r=a.segments)||void 0===r?void 0:r[n].voiceRecording;Ta(o),o.loading=!1,o.error=!0}))})),IE(vE(e),"loadScreenRecording",(function(t,n,r,a){var o,i;(null===(i=e.stateData.interactions[n])||void 0===i||null===(o=i.screenRecording)||void 0===o?void 0:o.source)||(e.produceState((function(e){var t,r=e.interactions[n];Ta(r),(null===(t=r.screenRecording)||void 0===t?void 0:t.loading)||(r.screenRecording={loading:!0,progress:0})})),mE(t,n,r,a).then((function(o){o?e.onScreenRecordingLoad(o,t,n,r,a):e.checkScreenRecordingLoading(t,n,r,a)})).catch((function(){e.onScreenRecordingError(n,"server")})))})),IE(vE(e),"onScreenRecordingLoad",(function(t,n,r,a,o){var i=function(){e.produceState((function(e){var n,a=null===(n=e.interactions[r])||void 0===n?void 0:n.screenRecording;Ta(a),a.loading=!1,a.source=t}))};hE(t,i,(function(t){var s=!1;try{JSON.parse(t).code&&(s=!0,e.loadScreenRecording(n,r,a,o))}catch(c){}s||i()}))})),IE(vE(e),"onScreenRecordingProgress",(function(t,n){e.produceState((function(e){var r,a=null===(r=e.interactions[t])||void 0===r?void 0:r.screenRecording;Ta(a),a.progress=n}))})),IE(vE(e),"onScreenRecordingError",(function(t,n){e.produceState((function(e){var r,a=null===(r=e.interactions[t])||void 0===r?void 0:r.screenRecording;Ta(a),a.loading=!1,a.error=n}))})),IE(vE(e),"setScreenRecordingExpanded",(function(t){e.produceState((function(e){e.screenRecordingExpanded=t}))})),IE(vE(e),"canEvaluateOrAssign",(function(e){return e.canMakeEvaluation||e.canAssignEvaluation})),IE(vE(e),"mustOpenAllEvals",(function(e){return e.evaluationsExist&&!e.currUserSavedEvaluationExist})),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({getEvalsStatistics:this.getEvalsStatistics,updatePrevEvalsStatistics:this.updatePrevEvalsStatistics,setPermissions:this.setPermissions,getInteraction:this.getInteraction,getInteractionSegments:this.getInteractionSegments,setInteractionRelatedSearch:this.setInteractionRelatedSearch,getSavedSearches:this.getSavedSearches,createNewSearch:this.createNewSearch,createNewFolder:this.createNewFolder,removeSearchesElem:this.removeSearchesElem,moveSearchesElem:this.moveSearchesElem,assignEvaluations:this.assignEvaluations,getEvaluators:this.getEvaluators,getDispositions:this.getDispositions,saveDisposition:this.saveDisposition,saveEvaluatorComment:this.saveEvaluatorComment,setSavedTabs:this.setSavedTabs,addTab:this.addTab,removeTab:this.removeTab,replaceTab:this.replaceTab,setActiveTabId:this.setActiveTabId,getInteractionsBySearchId:this.getInteractionsBySearchId,getInteractionsByEvalStat:this.getInteractionsByEvalStat,getInteractionsQuery:this.getInteractionsQuery,getEvaluationFormData:this.getEvaluationFormData,setActiveEvalFormId:this.setActiveEvalFormId,saveResultDefinition:this.saveResultDefinition,bookmarkResultDefinition:this.bookmarkResultDefinition,getDictionaries:this.getDictionaries,saveInteractionsQuery:this.saveInteractionsQuery,setInteractionsQuery:this.setInteractionsQuery,setSelectedSearch:this.setSelectedSearch,loadVoiceRecording:this.loadVoiceRecording,loadScreenRecording:this.loadScreenRecording,setScreenRecordingExpanded:this.setScreenRecordingExpanded,copyInteractionsQuery:this.copyInteractionsQuery,getDictionariesDisposition:this.getDictionariesDisposition,getDictionariesService:this.getDictionariesService,getDictionariesKmTemplate:this.getDictionariesKmTemplate,getDictionariesSupervisors:this.getDictionariesSupervisors,getDictionariesUsers:this.getDictionariesUsers,getDictionariesTrainingClasses:this.getDictionariesTrainingClasses}))}},{key:"setInteractionSegmentsData",value:function(e){var t=this;this.produceState((function(n){var r=n.interactions[e];Ta(r);var a=r.segments;Ta(a);var o=r.metadata;Ta(o);var i=r.startTime;Ta(i);var s=[],c=[];Object.values(a).map((function(e){return e.metadata})).sort((function(e,t){return e.startTime-t.startTime})).forEach((function(e){var n,r=t.syncSegmentTranscripts(e,i);(n=c).push.apply(n,kE(r)),t.getSegmentParticipants(e,o.cdrId===e.cdrId,i).forEach((function(e){var t;t=e.party,s.find((function(e){return e.party.loginId===t.loginId&&e.party.name===t.name}))||s.push(e)}))})),r.participants=s,r.transcripts=c}))}},{key:"cleanup",value:function(){OE(TE(o.prototype),"cleanup",this).call(this)}},{key:"resetState",value:function(){OE(TE(o.prototype),"resetState",this).call(this)}}],n&&wE(t.prototype,n),r&&wE(t,r),o}(Ts.createBaseStateClass({name:"evaluationState",controlEvents:vI,trackerEvents:yI,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{isEvalStatsLoading:!0,evalStats:[],prevEvalStats:[],interactions:{},searchResults:{},isSavedSearchesLoading:!0,savedSearches:[],evaluators:[],isAssignEvaluationLoading:!1,isAssignEvaluationError:!1,tabs:[],activeTabId:fI.HOME,interactionsQueries:{},dispositionsLoading:!0,dispositionSaving:!1,dispositions:[],evaluatorCommentSaving:!1,dictionariesLoading:!0,selectedSearchId:void 0,dictionaries:{agentsList:[],agentsListLoading:!1,dispositionsList:[],dispositionsListLoading:!1,servicesList:[],templatesList:[],teamsList:[],supervisorsList:[],usersList:[],trainingClassesList:[],customFiltersList:[],customFiltersListLoading:!1,servicesListLoading:!1,templatesListLoading:!1,teamsListLoading:!1,supervisorsListLoading:!1,usersListLoading:!1,trainingClassesListLoading:!1},screenRecordingExpanded:!1}},dependencies:[]})),jE=n(5368),xE=n.n(jE),LE={ALLOWED_TAGS:[]};function $E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE;return e&&xE().sanitize?xE().sanitize(e,t):e}function KE(e){return MC((function(e){return e&&e.replaceAll(/&nbsp;/g," ")}),(function(e){return e&&e.replaceAll(/<br>/g,"\n")}),(function(e){return e&&e.replaceAll(/<a.*href=["'](\S*)["'].*>(.*)<\/a>/g,"$2 &lt;$1&gt;")}),(function(e){return e&&e.replaceAll(/<p.*?>(.*?)<\/p>/g,"$1\n\n").replaceAll(/<h1.*?>(.*?)<\/h1>/g,"$1\n\n").replaceAll(/<h2.*?>(.*?)<\/h2>/g,"$1\n\n").replaceAll(/<h3.*?>(.*?)<\/h3>/g,"$1\n\n").replaceAll(/<h4.*?>(.*?)<\/h4>/g,"$1\n\n").replaceAll(/<h5.*?>(.*?)<\/h5>/g,"$1\n\n").replaceAll(/<h6.*?>(.*?)<\/h6>/g,"$1\n\n")}),(function(e){return e&&e.replaceAll(/<li.*?>(.*?)<\/li>/g,"* $1\n\n").replaceAll(/<ul.*?>(.*?)<\/ul>/g,"$1\n\n").replaceAll(/<ol.*?>(.*?)<\/ol>/g,"$1\n\n")}),$E,(function(e){return e&&e.replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">")}))(e)}var FE={onInitialState:{parameters:[]},onChange:{parameters:[]},onNewMessage:{parameters:[]},onDispatchNewMessageNotification:{parameters:[]},onCobrowsingStarted:{parameters:[]},onRtcCallMake:{parameters:[]},onRtcCallAnswer:{parameters:[]},onRtcIceCandidate:{parameters:[]},onRtcCallToggleDevice:{parameters:[]},onRtcCallDrop:{parameters:[]},onWebRtcError:{parameters:[]},onSwitchItemChannel:{parameters:[]},onContactsWithUnreadMessagesReceived:{parameters:[]}},UE={sendMessage:{parameters:[]},getExternalChatContent:{parameters:[]},disconnectChat:{parameters:[]},sendAgentIsTyping:{parameters:[]},sendAgentIsNotTyping:{parameters:[]},sendFileInit:{parameters:[]},sendFileProgress:{parameters:[]},sendFileError:{parameters:[]},sendFile:{parameters:[]},inviteToChat:{parameters:[]},removeInviteFromChat:{parameters:[]},removePartyFromChat:{parameters:[]},addMessageToPending:{parameters:[]},requestCobrowsing:{parameters:[]},createRtcCall:{parameters:[]},confirmRtcCall:{parameters:[]},cancelRtcCall:{parameters:[]},startRtcCall:{parameters:[]},onRtcCallIceCandidate:{parameters:[]},onRtcCallStream:{parameters:[]},stopRtcCall:{parameters:[]},toggleRtcCallDevice:{parameters:[]},markMessageAsRead:{parameters:[]},openChannel:{parameters:[]},createErrorMessage:{parameters:[]},getUnreadPersonalMessages:{parameters:[]},markPersonalMessageAsRead:{parameters:[]},maskMessage:{parameters:[]},toggleFileMask:{parameters:[]},sendMaskedMessages:{parameters:[]},pauseChatInactivityTimeout:{parameters:[]},resumeChatInactivityTimeout:{parameters:[]}};function qE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){BE(e,t,n[t])}))}return e}function HE(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function zE(e){return function(e){if(Array.isArray(e))return qE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){return yc(e).getFileInfo({fileId:t})}function VE(e,t,n,r){var a,o,i,s,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.chatData[t]&&!c?e:e=HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},t,{channel:n,parties:null!==(i=null===(a=e.chatData[t])||void 0===a?void 0:a.parties)&&void 0!==i?i:[],typingParties:{},masked:{messages:{},files:[]},messages:null!==(s=null===(o=e.chatData[t])||void 0===o?void 0:o.messages)&&void 0!==s?s:[],cobrowsingActive:!1,messengerUserId:null==r?void 0:r.messenger_user_id}))})}function YE(e,t){return t in e.chatData&&delete(e=HE(GE({},e),{chatData:GE({},e.chatData)})).chatData[t],e}function QE(e,t){return e&&e.parties&&e.parties.find((function(e){return t&&e.party_id===t}))}function JE(e){var t,n,r=e.state,a=e.itemId,o=e.partyId,i=e.msg,s=e.isTyping,c=r.chatData[a],u=(null==c?void 0:c.parties)||[],l=null!==(t=null==c?void 0:c.typingParties)&&void 0!==t?t:{};if(u.find((function(e){return e.party_id===o}))){var d=s?HE(GE({},l),BE({},o,{message:i})):(delete(n=GE({},l))[o],n);return HE(GE({},r),{chatData:HE(GE({},r.chatData),BE({},a,HE(GE({},c),{typingParties:d})))})}return r}function XE(e,t){var n=t.sentimentScore,r=t.itemId,a=t.messageId,o=Tv(n);return o?Ot(e,(function(e){var t=e.chatData[r];if(t){var n,i=t.messages,s=t.sentiment,c=(null!==(n=t.sentimentsAmount)&&void 0!==n?n:0)+1;e.chatData[r].messages=i.map((function(e){return e.msgId===a?HE(GE({},e),{sentiment:o}):e})),e.chatData[r].sentimentsAmount=c;var u=function(e){var t=e.newSentiment,n=e.oldSentiment,r=e.sentimentsAmount;if(!n)return t.score;return new(PC())(new(PC())(n.score).times(r-1).plus(t.score)).dividedBy(r).toNumber()}({oldSentiment:s,newSentiment:o,sentimentsAmount:c});e.chatData[r].sentiment=Tv(u)}})):e}function ZE(e,t,n,r){var a,o,i,s,c=t.item_id,u=t.msg_id,l=t.msg,d=e.chatData[c]||{},f=d.messages||[];f.filter((function(e){return!e.msgId&&e.msg!==l||e.msgId!==u})),i=(o=t).file_ids?__(o.file_ids,xo):[],s=Kh(WE,n.serverOrigin),a=i.map(s),Promise.all(a).then((function(e){e.forEach((function(e){var n=function(e,t){var n;return{file_id:t.id,file_name:t.name,file_type:Ov(t.type),party_id:e.party_id,item_id:e.item_id,timestamp:null!==(n=e.timestamp)&&void 0!==n?n:String((new Date).getTime()),userId:e.user_id}}(t,e);return r(n)}))}));var _=function(e,t,n){var r,a=uD(t,e,n),o=QE(t,e.party_id),i=e.type||e.msg_type,s=o?cD(o,n.displayNameFormat):"",c=Ty(o)?"scenario":i;return{msg:e.msg,timestamp:e.timestamp?Number(e.timestamp):Date.now(),displayName:s,type:i,itemId:e.item_id,partyId:e.party_id,userId:null!==(r=e.user_id)&&void 0!==r?r:null==o?void 0:o.user_id,msgId:e.msg_id,channel:e.channel,displayType:c,source:a,isSelf:"self"===a}}(t,d,n);return[HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},c,HE(GE({},d),{messages:zE(f).concat([_])})))}),_]}function eD(e,t){var n=t.item_id,r=t.page,a=e.chatData[n]||{},o=a.messages||[];o=o.filter((function(e){return e.page!==r}));var i={displayType:"navigation",timestamp:Date.now(),title:t.title,partyId:t.party_id,itemId:n,page:t.page};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},a),{messages:zE(o).concat([i])})))})}function tD(e,t){var n=t.item_id,r=e.chatData[n]||{},a=r.messages||[],o={displayType:"location",timestamp:Date.now(),title:t.address,partyId:t.party_id,itemId:n,page:t.map_url,longitude:t.longitude?Number(t.longitude):void 0,latitude:t.latitude?Number(t.latitude):void 0};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},r),{messages:zE(a).concat([o])})))})}function nD(e,t){var n=t.itemId,r=t.partyId,a=e.chatData[n]||{},o=a.messages||[],i=Date.now(),s={displayType:"invite",itemId:n,partyId:r,inviteId:String(i),timestamp:i,type:"message",displayName:""};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},a),{messages:zE(o).concat([s])})))})}function rD(e,t){var n=t.itemId,r=t.messageId,a=e.chatData[n]||{},o=a.messages&&a.messages.length&&a.messages.filter((function(e){return e.inviteId!==r}))||[];return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},a),{messages:o})))})}function aD(e,t,n,r){var a=t.item_id,o=t.file_id,i=t.file_type,s=t.file_name,c=t.party_id,u=t.channel,l=t.text,d=e.chatData[a]||{},f=d.messages||[];f=f.filter((function(e){return e.fileId?e.fileId!==o:e.fileName!==s}));var _=function(){var e=QE(d,c),r=e?cD(e,n.displayNameFormat):"",f=uD(d,t,n);return{itemId:a,displayType:"file",displayName:r,source:f,isSelf:"self"===f,partyId:e?e.party_id:"",fileId:o,fileType:i,fileName:s,channel:u,type:"message",timestamp:t.timestamp?Number(t.timestamp):Date.now(),msg:l,msgId:o}}(),p=HE(GE({},e),r?{chatData:HE(GE({},e.chatData),BE({},a,HE(GE({},d),{messages:f.reduce((function(e,t,n,r){return e.push(t),r[n]&&r[n+1]?r[n].timestamp<=_.timestamp&&r[n+1].timestamp>_.timestamp&&e.push(_):r[n]&&!r[n+1]&&r[n].timestamp<=_.timestamp&&e.push(_),e}),[])})))}:{chatData:HE(GE({},e.chatData),BE({},a,HE(GE({},d),{messages:zE(f).concat([_])})))});return[p,_]}function oD(e,t,n){var r=t.itemId,a=t.partyId,o=t.fileName,i=t.source,s=t.isSelf,c=e.chatData[r]||{},u=c.messages||[],l=QE(c,a),d={itemId:r,source:i,isSelf:s,displayType:"file",displayName:l?cD(l,n.displayNameFormat):"",partyId:l?l.party_id:"",fileName:o,timestamp:Date.now()};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},r,HE(GE({},c),{messages:zE(u).concat([d])})))})}function iD(e,t){var n=t.itemId,r=t.fileName,a=t.fileProgress,o=t.fileError,i=e.chatData[n]||{},s=i.messages||[];return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},i),{messages:s.map((function(e){return e.fileId||e.itemId!==n||e.fileName!==r?e:HE(GE({},e),{fileProgress:a,fileError:o})}))})))})}function sD(e,t,n){var r=e.chatData[t]||{};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},t,HE(GE({},r),{cobrowsingActive:n})))})}function cD(e,t){var n;return Ty(e)?null!==(n=e.entry_name)&&void 0!==n?n:"":Iv(t,e.first_name,e.last_name)}function uD(e,t,n){var r=n.userId,a=QE(e,t.party_id);return a?"external"===a.type?"customer":"internal"===a.type?a.user_id===r?"self":"agent":"system":"system"}function lD(e){return fD(HE(GE({},e),{displayType:"system"}))}function dD(e){return fD(HE(GE({},e),{displayType:"error"}))}function fD(e){var t=e.state,n=e.messageText,r=e.chatId,a=e.unlocalized,o=e.displayType,i=e.channel,s=e.partyName,c=e.partyId,u=e.qmMode,l=t.chatData[r]||{},d=l.messages||[],f=function(e){var t=e.messageText,n=e.chatId,r=e.unlocalized,a=e.partyName,o=e.partyId,i=e.channel,s=e.displayType,c=e.qmMode;return{msg:t,timestamp:Date.now(),type:"message",itemId:n,displayType:s,displayName:"",partyId:o||"",channel:i,partyName:a,needLocalization:r,qmMode:c}}({messageText:n,chatId:r,unlocalized:a,channel:i,partyName:s,displayType:o,partyId:c,qmMode:u});return HE(GE({},t),{chatData:HE(GE({},t.chatData),BE({},r,HE(GE({},l),{messages:zE(d).concat([f])})))})}function _D(e,t,n){var r=e.chatData[t]||{};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},t,HE(GE({},r),{call:GE({},r.call,n)})))})}function pD(e,t,n,r){return _D(e,t,{withVideo:n,withAudio:!0,isConfirmed:!!r})}function mD(e,t){return _D(e,t,{isConfirmed:!0})}function gD(e,t){var n=e.chatData[t];if(!n)return e;var r=GE({},n);return delete r.call,HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},t,r))})}function hD(e,t,n,r){return"audio"===n?_D(e,t,{withAudio:r}):"video"===n?_D(e,t,{withVideo:r}):e}function yD(e,t,n,r){return _D(e,t,BE({},r?"localStreamId":"remoteStreamId",n))}function vD(e){var t=we(e);return Array.from(t.children).forEach((function e(t){var n;(null===(n=t.classList)||void 0===n?void 0:n.contains("bp-masked"))?t.replaceWith(we(t.innerHTML).childNodes[0]):Array.from(t.children).forEach(e)})),t.innerHTML}function bD(e,t,n){return e.chatData[t]?Ot(e,(function(e){e.chatData[t].channel=n})):e}function CD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wD(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function ID(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wD(o,r,a,i,s,"next",e)}function s(e){wD(o,r,a,i,s,"throw",e)}i(void 0)}))}}function OD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ED(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DD(e,t,n){return DD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AD(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},DD(e,t,n||e)}function AD(e){return AD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},AD(e)}function PD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ED(e,t,n[t])}))}return e}function kD(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function RD(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ND(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?SD(e):t;var n}function MD(e,t){return MD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},MD(e,t)}function jD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||LD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xD(e){return function(e){if(Array.isArray(e))return CD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||LD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LD(e,t){if(e){if("string"==typeof e)return CD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CD(e,t):void 0}}function $D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=AD(e);if(t){var a=AD(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ND(this,n)}}function KD(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var FD={files:[],messages:{},history:{}},UD={LINE:"line",FACEBOOK:"facebook",NEXMO:"nexmo",TWITTER:"twitter",VIBER:"viber",WECHAT:"wechat",TELEGRAM:"telegram",WHATSAPP:"whatsapp"},qD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MD(e,t)}(o,e);var t,n,r,a=$D(o);function o(){var e;OD(this,o),ED(SD(e=a.apply(this,arguments)),"pendingMessages",{}),ED(SD(e),"readPersonalMessageTimeout",void 0),ED(SD(e),"pendingReadPersonalMessages",{}),ED(SD(e),"openChannel",(function(t){var n=t.interactionStepId,r=t.channel,a=t.serviceId,o=t.address;e.transport.dispatch.agent_external_chat_open_channel({item_id:n,channel:(null==r?void 0:r.startsWith("sms:"))?"sms":r,service_id:a,address:o})})),ED(SD(e),"onChannelOpened",(function(t){var n=t.item_id,r=t.channel;e.updateState((function(e){return bD(lD({state:e,messageText:"message_connection_accepted",chatId:n,channel:r,unlocalized:!0}),n,r)}))})),ED(SD(e),"onChatError",(function(t){var n=t.error_code,r=t.error_message,a=t.item_id,o=t.party_id,i="".concat(n,": ").concat(r);e.createErrorMessage({messageText:i,interactionStepId:a,partyId:o})})),ED(SD(e),"createErrorMessage",(function(t){var n=t.interactionStepId,r=RD(t,["interactionStepId"]);e.updateState((function(e){return dD(PD({state:e,chatId:n},r))}))})),ED(SD(e),"markMessageAsRead",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.interactionStepId,a=t.messageId;if(a){var o=e.getMessage(r,a);o&&!o.isRead&&(e.changeMessage(kD(PD({},o),{isRead:!0})),e.recalculateUnread(r),n&&e.sendMessageStatus("read",t))}})),ED(SD(e),"onAgentWelcome",(function(t){var n=t.items;Aa(Object.values(n)).forEach((function(t){e.onAgentItemCreated(t),"chat"===t.media_type&&e.getExternalChatContent(t.item_id)}))})),ED(SD(e),"getExternalChatContent",(function(t){e.transport.dispatch.agent_external_chat_get_content({item_id:t,start_time:String(Date.now())})})),ED(SD(e),"disconnectChat",(function(t){e.transport.dispatch.agent_external_chat_disconnect({item_id:t}),e.stopRtcCall({chatId:t})})),ED(SD(e),"onAgentItemCreated",(function(t){if("chat"===t.media_type&&t.channel){var n=VE(e.stateData,t.item_id,t.channel,t.external_chat_data,!0);t.external_chat_data&&t.external_chat_data.mobile_launch_point_id&&e.applyChatLaunchPoint(t.item_id,t.external_chat_data.mobile_launch_point_id),e.updateState(PD({},n))}})),ED(SD(e),"onPartyJoinedOrChanged",(function(t){var n=e.hasChatPartyStatusChanged(t);if(e.updateOrCreateParty(t),n)switch(t.status){case"connected":return e.onPartyConnected(t);case"notifying":return e.onPartyNotifying(t)}})),ED(SD(e),"onPartyNotifying",(function(t){e.isSelfParty(t)||!t.user_id||t.is_qm||(e.removeOutdatedInviteMessage(t),e.updateStateWithInviteMessage({itemId:t.item_id,partyId:t.user_id}))})),ED(SD(e),"updateStateWithInviteMessage",(function(t){e.updateState((function(e){return nD(e,t)}))})),ED(SD(e),"onPartyConnected",(function(t){e.isSelfParty(t)||(e.addPartyJoinedSystemMessage(t),e.removeOutdatedInviteMessage(t))})),ED(SD(e),"onPartyLeft",(function(t){var n=e.findParty(t.item_id,t.party_id);e.removeOutdatedInviteMessage(n),e.removePartyFromChatState(t),e.addPartyLeftSystemMessage(n)})),ED(SD(e),"onNewMessage",(function(t,n){var r;if(!e.messageAlreadyExists(t)){var a=e.sessionConnector.getStateData(),o=jD(ZE(e.stateData,t,a,e.saveMMSFileCallback),2),i=o[0],s=o[1];null===(r=e.toClientDispatch)||void 0===r||r.onNewMessage(t),e.notifyAboutNewMessage(t,!!n,i),"self"!==s.source&&e.recalculateUnread(t.item_id),n||e.sendMessageStatus("delivered",{messageId:t.msg_id,interactionStepId:t.item_id,timestamp:t.timestamp});var c=e.stateData.chatData[t.item_id];(null==c?void 0:c.parties.find((function(e){return e.contact_id})))&&t.channel&&t.channel!==c.channel&&e.toClientDispatch.onSwitchItemChannel({interactionStepId:t.item_id,channel:t.channel,_destination:"boss"})}})),ED(SD(e),"saveMMSFileCallback",(function(t){var n=e.sessionConnector.getStateData(),r=jD(aD(e.stateData,t,n,!0),1)[0];e.updateState(PD({},r))})),ED(SD(e),"onNewMessageAttributes",(function(t){if(!e.isInternalAgentSentiment(t)){var n=e.extractSentimentParamsFrom(t);e.addSentimentToMessage(n)}})),ED(SD(e),"onAgentItemMessageAttributes",(function(t){var n=e.extractSentimentParamsFrom(t);e.addSentimentToMessage(n)})),ED(SD(e),"onNewFile",(function(t){var n=e.sessionConnector.getStateData(),r=jD(aD(e.stateData,t,n),1)[0];e.updateState(PD({},r))})),ED(SD(e),"onExternalChatSignaling",(function(t){var n=t.item_id,r=t.data;if(e.stateData.chatData[n])switch(r.type){case"REQUEST_CALL":e.createRtcCall({chatId:n,withVideo:"true"===r.offerVideo});break;case"OFFER_CALL":break;case"ANSWER_CALL":e.toClientDispatch.onRtcCallAnswer({chatId:n,sdp:r.sdp});break;case"ICE_CANDIDATE":e.toClientDispatch.onRtcIceCandidate({candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:Number(r.sdpMLineIndex)||0});break;case"END_CALL":e.updateState((function(e){return gD(e,n)})),e.toClientDispatch.onRtcCallDrop();break;case"CALL_REJECTED":e.updateState((function(e){return gD(e,n)}))}})),ED(SD(e),"onExternalChatContent",(function(t){var n=t.content,r=t.item_id,a=e.findChat(r);Ta(a);var o=a.channel;e.updateState((function(e){return VE(e,r,o)}));var i=__(n),s={};i.forEach((function(e){if("party_message_delivered"===e.event)return s[e.ref_msg_id]=!0})),i.forEach((function(t){switch(t.event){case"party_joined":case"party_changed":var n=kD(PD({},t),{item_id:r});if("1"===n.is_qm&&"monitor"===n.qm_mode)return;if(e.selfPartyInitialized(n)&&(n.phone?e.optionallySendPendingMessage(n.item_id,n.phone):n.entry_name&&e.optionallySendPendingMessage(n.item_id,n.entry_name)),!e.partyAlreadyExistsInState(n))return e.onPartyJoinedOrChanged(n);break;case"party_left":return e.onPartyLeft(kD(PD({},t),{item_id:r}));case"party_message":return e.onNewMessage(kD(PD({},t),{item_id:r}),s[t.msg_id]);case"party_file":return e.onNewFile(kD(PD({},t),{item_id:r}));case"party_message_attributes":return e.onNewMessageAttributes(kD(PD({},t),{item_id:r}));case"party_navigation":return e.onExternalChatNavigation(kD(PD({},t),{item_id:r}));case"party_message_read":return e.markMessageAsRead({interactionStepId:r,messageId:t.ref_msg_id,timestamp:t.timestamp},!1);case"intent_result":var a=t;return e.interactionStateConnector.dispatch.saveSuggestion({item_id:r,party_id:"",suggestions:{0:a.suggestion},timestamp:a.timestamp});default:return null}}))})),ED(SD(e),"onExternalChatNavigation",(function(t){e.updateState((function(e){return eD(e,t)}))})),ED(SD(e),"onPartyTyping",(function(t){var n=t.item_id,r=t.party_id,a=t.msg;e.updateState((function(e){return JE({state:e,itemId:n,partyId:r,msg:a,isTyping:!0})}))})),ED(SD(e),"onPartyIsNotTyping",(function(t){var n=t.item_id,r=t.party_id;e.updateState((function(e){return JE({state:e,itemId:n,partyId:r,isTyping:!1})}))})),ED(SD(e),"getPendingMessageByAddress",(function(t){return t?e.pendingMessages[t]:null})),ED(SD(e),"optionallySendPendingMessage",(function(t,n){var r=e.getPendingMessageByAddress(n);if(!r)return null;e.sendMessage(kD(PD({},r),{itemId:t})),e.removeMessageFromQueue(n)})),ED(SD(e),"addMessageToPending",(function(t,n){e.queueMessage(t,n)})),ED(SD(e),"sendMessage",(function(t){var n=e.getSelfParty(t.itemId),r=e.findChat(t.itemId),a=e.sessionConnector.getStateData();if(r){var i,s,c={msg:null!==(i=t.content)&&void 0!==i?i:t.text,msg_text:null!==(s=t.text)&&void 0!==s?s:KE(t.content),msg_id:t.id?String(t.id):String(Date.now()),item_id:t.itemId,type:t.type,channel:o.isLegacyChannelFromMobile(t.channel)?r.channel:t.channel||r.channel,party_id:n&&n.party_id||"",user_id:a.userId},u=jD(ZE(e.stateData,c,a,e.saveMMSFileCallback),1)[0];e.notifyAboutNewMessage(c,!0,u),e.transport.dispatch.agent_external_chat_message(c)}})),ED(SD(e),"notifyAboutNewMessage",(function(t,n,r){e.updateState(PD({},r));var a=t.item_id,o=t.msg,i=e.findChat(a);Ta(i);var s=e.sessionConnector.getStateData(),c=s.userId,u=s.displayNameFormat,l=i.parties.find((function(e){return e.party_id===t.party_id}));if(l){var d={message:o,partyType:l.type,fromMe:l.user_id===c,alreadyDelivered:n,interactionStepId:a,name:Iv(u,l.first_name,l.last_name)};"mobile"!==e.platformSpecific.clientType()&&e.dispatchNewMessageNotification(d)}})),ED(SD(e),"dispatchNewMessageNotification",(function(t){e.dispatchAudioNotification(t),e.dispatchBrowserNotification(t)})),ED(SD(e),"dispatchAudioNotification",(function(t){t.fromMe||t.alreadyDelivered||"scenario"===t.partyType||e.toClientDispatch.onDispatchNewMessageNotification(t.interactionStepId)}));var t=SD(e);ED(SD(e),"dispatchBrowserNotification",function(){var e=ID((function(e){var n,r,a,o,i,s,c,u,l,d,f,_;return KD(this,(function(p){switch(p.label){case 0:return n=e.message,r=e.fromMe,a=e.alreadyDelivered,o=e.name,i=e.partyType,[4,t.localSettings.get("adNotifyByBrowser")];case 1:return s=p.sent(),c=t.tabsConnector.getStateData().tabs,u=Object.values(c),l=u.every((function(e){return!e.visible})),s&&l&&!r&&!a&&"scenario"!==i&&(d=t.localizationConnector.getStateData().t,f=o||d.EXTERNAL_CHAT.display_name_placeholder(),_={body:n,tag:(0,C.v4)()},jv.sendMessage({scope:"__worker__",event:"showNotification",payload:[f,_]})),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),ED(SD(e),"sendAgentIsTyping",(function(t){e.transport.dispatch.agent_external_chat_typing({item_id:t})})),ED(SD(e),"sendAgentIsNotTyping",(function(t){e.transport.dispatch.agent_external_chat_not_typing({item_id:t})})),ED(SD(e),"sendFileInit",(function(t){var n=t.fileData.name,r=t.itemId,a=e.getSelfParty(r),o={itemId:r,partyId:a&&a.party_id||"",source:"self",isSelf:!0,fileName:n},i=e.sessionConnector.getStateData();e.updateState((function(e){return oD(e,o,i)}))})),ED(SD(e),"sendFileProgress",(function(t){var n=t.fileData,r=n.name,a=n.progress,o={itemId:t.itemId,fileName:r,fileProgress:a};e.updateState((function(e){return iD(e,o)}))})),ED(SD(e),"sendFileError",(function(t){var n=t.fileData,r=n.name,a=n.error,o={itemId:t.itemId,fileName:r,fileError:a};e.updateState((function(e){return iD(e,o)}))})),ED(SD(e),"sendFile",(function(t){var n=t.fileData,r=t.itemId,a=t.channel,o={item_id:r,file_id:n.id,file_type:n.type,file_name:n.name,channel:a};e.transport.dispatch.agent_external_chat_file(o);var i=e.getSelfParty(r);e.onNewFile(kD(PD({},o),{party_id:i&&i.party_id||""}))})),ED(SD(e),"inviteToChat",(function(t){var n=t.itemId,r=t.partyId,a=t.createInviteMessage,o=void 0===a||a,i=e.findChat(n);if(i){var s={item_id:n,party_id:r,channel:i.channel};e.transport.dispatch.agent_external_chat_invite_other(s),o&&e.updateStateWithInviteMessage({itemId:n,partyId:r})}})),ED(SD(e),"removeInviteFromChat",(function(t){var n=t.itemId,r=t.partyId,a=t.messageId,o=e.findChat(n);if(o){var i=o.parties.find((function(e){return e.user_id===r})),s={item_id:n,party_id:i&&i.party_id||""};e.transport.dispatch.agent_external_chat_remove_other(s),e.updateState((function(e){return rD(e,{itemId:n,partyId:r,messageId:a})}))}})),ED(SD(e),"removePartyFromChat",(function(t){var n=t.itemId,r=t.partyId;if(e.findChat(n)){var a={item_id:n,party_id:r};e.transport.dispatch.agent_external_chat_remove_other(a)}})),ED(SD(e),"removeCompletedChat",(function(t){var n=t.interactionStepId;e.updateState((function(e){return YE(e,n)})),e.recalculateUnread(n)})),ED(SD(e),"onExternalChatPartyCobrowsingStarted",(function(t){e.toClientDispatch.onCobrowsingStarted({itemId:t.item_id,provider:t.provider_name,cobrowsingLink:t.cobrowsing_url}),e.updateState((function(e){return lD({state:e,messageText:"external_chat_cobrowsing_started",chatId:t.item_id,unlocalized:!0})}))})),ED(SD(e),"onExternalChatPartyCobrowsingRejected",(function(t){var n=t.item_id;e.updateState((function(e){return sD(lD({state:e,messageText:"external_chat_cobrowsing_rejected",chatId:n,unlocalized:!0}),n,!1)}))})),ED(SD(e),"onExternalChatPartyCobrowsingEnded",(function(t){var n=t.item_id;e.updateState((function(e){return sD(lD({state:e,messageText:"external_chat_cobrowsing_ended",chatId:n,unlocalized:!0}),n,!1)}))})),ED(SD(e),"onChatLocation",(function(t){e.updateState((function(e){return tD(e,t)}))})),ED(SD(e),"requestCobrowsing",(function(t){e.transport.dispatch.agent_external_chat_cobrowsing_requested({item_id:t}),e.updateState((function(e){return sD(lD({state:e,messageText:"external_chat_cobrowsing_requested",chatId:t,unlocalized:!0}),t,!0)}))})),ED(SD(e),"requestWebRtcConfig",(function(){var t=e.sessionConnector.getStateData().serverOrigin;yc(t).getRtcConfig().then((function(t){t&&e.updateState((function(e){return kD(PD({},e),{webRtcConfig:t})}))})).catch((function(){v.error("Can't get chat WebRTC config")}))})),ED(SD(e),"getRtcCallPartyId",(function(t){var n=e.stateData.chatData[t],r=null==n?void 0:n.parties.find((function(e){return"external"===e.type}));return null==r?void 0:r.party_id})),ED(SD(e),"itemHasRtcCall",(function(t){var n=e.stateData.chatData[t];return n&&!!n.call})),ED(SD(e),"createRtcCall",(function(t){var n=t.chatId,r=t.withVideo,a=void 0!==r&&r,o=t.isConfirmed,i=e.stateData.chatData;Object.keys(i).find((function(e){var t;return e===n&&(null===(t=i[e].call)||void 0===t?void 0:t.isConfirmed)}))?e.toClientDispatch.onWebRtcError("already_exists"):(e.updateState((function(e){return pD(e,n,a,o)})),o&&e.confirmRtcCall(n))})),ED(SD(e),"confirmRtcCall",(function(t){var n=e.stateData.chatData[t],r=e.stateData.webRtcConfig;if((null==n?void 0:n.call)&&r){var a=n.call.withVideo;e.updateState((function(e){return mD(e,t)})),e.toClientDispatch.onRtcCallMake({chatId:t,withVideo:a,rtcConfig:r})}})),ED(SD(e),"cancelRtcCall",(function(t){var n=e.getRtcCallPartyId(t);n&&(e.transport.dispatch.agent_external_chat_signaling({item_id:t,party_id:n,data:{type:"CALL_REJECTED",reasonCode:"0"}}),e.updateState((function(e){return gD(e,t)})))})),ED(SD(e),"startRtcCall",(function(t){var n=t.chatId,r=t.sdp,a=e.stateData.chatData[n],o=e.getRtcCallPartyId(n);if(a&&a.call&&o){var i=a.call.withVideo;r&&e.transport.dispatch.agent_external_chat_signaling({item_id:n,party_id:o,data:{type:"OFFER_CALL",sdp:r,offerVideo:i?"true":"false"}})}})),ED(SD(e),"onRtcCallIceCandidate",(function(t){var n=t.chatId,r=t.candidate,a=e.getRtcCallPartyId(n),o=[r.candidate,r.sdpMid,r.sdpMLineIndex].every((function(e){return void 0!==e}));a&&o&&e.transport.dispatch.agent_external_chat_signaling({item_id:n,party_id:a,data:{type:"ICE_CANDIDATE",candidate:r.candidate||"",sdpMid:r.sdpMid||"0",sdpMLineIndex:String(r.sdpMLineIndex||0)}})})),ED(SD(e),"onRtcCallStream",(function(t){var n=t.chatId,r=t.streamId,a=t.isLocal;e.updateState((function(e){return yD(e,n,r,a)}))})),ED(SD(e),"stopRtcCall",(function(t){var n=t.chatId,r=t.error,a=e.getRtcCallPartyId(n),o=e.itemHasRtcCall(n);a&&o&&(e.transport.dispatch.agent_external_chat_signaling({item_id:n,party_id:a,data:{type:"END_CALL"}}),e.updateState((function(e){return gD(e,n)})),e.toClientDispatch.onRtcCallDrop()),r&&e.toClientDispatch.onWebRtcError(r)})),ED(SD(e),"toggleRtcCallDevice",(function(t){var n=t.chatId,r=t.device,a=t.enabled;e.updateState((function(e){return hD(e,n,r,a)})),e.toClientDispatch.onRtcCallToggleDevice({device:r,enabled:a})})),ED(SD(e),"markPersonalMessageAsRead",(function(t){e.updateStateByReadPersonalMessage(t),e.batchMarkAsReadPersonalMessages(t)})),ED(SD(e),"updateStateByReadPersonalMessage",(function(t){var n=t.contactId,r=t.globalInteractionId,a=t.messageId;e.produceState((function(e){var t,o,i=PD({},e.unreadPersonalMessages),s=PD({},i),c=PD({},null!==(t=i[n])&&void 0!==t?t:{}),u=new Map(Object.entries(null!==(o=c[r])&&void 0!==o?o:{}));u.has(a)&&(u.delete(a),u.size?c[r]=Object.fromEntries(u):delete c[r],Object.keys(c).length?s[n]=c:delete s[n],e.unreadPersonalMessages=s,e.unreadPersonalMessagesAmount--,e.unreadPersonalMessagesAmountByContactId[n]--)}))})),ED(SD(e),"markPersonalMessagesAsRead",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;yc(n).markPersonalMessagesAsRead({requestBody:t})})),ED(SD(e),"getUnreadPersonalMessages",(function(t){var n=e.sessionConnector.getStateData().serverOrigin;yc(n).getUnreadPersonalMessagesForUser({requestBody:t}).then((function(t){var n=t.contactUnreadPersonalMessages,r=t.unreadRecentEntries,a=[],o=!0,i=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,d=l.dataId,f=l.itemId,_=l.phone,p=l.time,m=l.contactId,g=l.unreadPersonalChats;a.push({dataId:d,itemId:f,phone:_,time:p,contactId:m}),n.push({contactId:m,unreadPersonalChats:g})}}catch(wX){i=!0,s=wX}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}e.toClientDispatch.onContactsWithUnreadMessagesReceived(a),e.produceState((function(t){t.unreadPersonalMessages=PD({},t.unreadPersonalMessages,e.unreadPersonalChatsToUnreadPersonalMessages(n)),n.forEach((function(e){t.unreadPersonalMessagesAmountByContactId[e.contactId]=e.unreadPersonalChats.reduce((function(e,t){var n,r;return e+=null!==(r=null==t||null===(n=t.unreadMessageIds)||void 0===n?void 0:n.length)&&void 0!==r?r:0}),0)})),t.unreadPersonalMessagesAmount=Object.values(t.unreadPersonalMessagesAmountByContactId).reduce((function(e,t){return e+t}),0)}))}))})),ED(SD(e),"sendMaskedMessages",(function(t){var n,r,a,o=null===(n=e.stateData.chatData[t])||void 0===n?void 0:n.masked,i=Object.values(null!==(r=null==o?void 0:o.messages)&&void 0!==r?r:[]),s=null!==(a=null==o?void 0:o.files)&&void 0!==a?a:[];(i.length||s.length)&&e.transport.dispatch.agent_external_chat_session_mask({item_id:t,messages:i.map((function(t){var n=t.messageId,r=t.maskedText;return{msg_id:n,text:"mobile"===e.platformSpecific.clientType()?r:vD(r)}})),file_ids:s}),e.produceState((function(e){var n;(null===(n=e.chatData[t])||void 0===n?void 0:n.masked)&&(e.chatData[t].masked=FD)}))})),ED(SD(e),"toggleFileMask",(function(t){var n=t.fileId,r=t.itemId,a=t.forceShow;e.produceState((function(e){e.chatData[r].masked||(e.chatData[r].masked=FD);var t=e.chatData[r].masked.files.findIndex((function(e){return e===n}));(void 0===a?-1===t:a)?e.chatData[r].masked.files.push(n):e.chatData[r].masked.files.splice(t,1)}))})),ED(SD(e),"maskMessage",(function(t){var n=t.itemId,r=t.messageId,a=t.maskedText,o=t.textChunks;e.sessionConnector.getStateData().privileges.CAN_MASK_INTERACTION_CONTENT&&e.produceState((function(e){var t;e.chatData[n].masked||(e.chatData[n].masked=FD),a===(null===(t=e.chatData[n].masked.messages[r])||void 0===t?void 0:t.maskedText)?delete e.chatData[n].masked.messages[r]:e.chatData[n].masked.messages[r]={maskedText:a,messageId:r,textChunks:o}}))})),ED(SD(e),"pauseChatInactivityTimeout",(function(t){e.transport.dispatch.agent_external_chat_timeout_pause({item_id:t})})),ED(SD(e),"resumeChatInactivityTimeout",(function(t){e.transport.dispatch.agent_external_chat_timeout_resume({item_id:t})}));var n=SD(e);return ED(SD(e),"requestMessengersData",ID((function(){var e,t,r;return KD(this,(function(a){switch(a.label){case 0:return[4,n.transport.dispatch.messenger_data()];case 1:return e=a.sent(),t=e.result,(null==(r=e.error)?void 0:r.message)||!t?(v.error(null==r?void 0:r.message),[2]):(n.produceState((function(e){e.messengers=t.map((function(e){return{id:e.id,name:e.name,type:UD[e.type]}}))})),[2])}}))}))),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,agent_item_created:this.onAgentItemCreated,agent_external_chat_party_joined:this.onPartyJoinedOrChanged,agent_external_chat_party_changed:this.onPartyJoinedOrChanged,agent_external_chat_party_left:this.onPartyLeft,agent_external_chat_message:this.onNewMessage,agent_external_chat_message_attributes:this.onNewMessageAttributes,agent_item_message_attributes:this.onAgentItemMessageAttributes,agent_external_chat_content:this.onExternalChatContent,agent_external_chat_navigation:this.onExternalChatNavigation,agent_external_chat_file:this.onNewFile,agent_external_chat_typing:this.onPartyTyping,agent_external_chat_not_typing:this.onPartyIsNotTyping,agent_external_chat_signaling:this.onExternalChatSignaling,agent_external_chat_cobrowsing_started:this.onExternalChatPartyCobrowsingStarted,agent_external_chat_cobrowsing_rejected:this.onExternalChatPartyCobrowsingRejected,agent_external_chat_cobrowsing_ended:this.onExternalChatPartyCobrowsingEnded,agent_external_chat_channel_opened:this.onChannelOpened,agent_external_chat_error:this.onChatError,agent_external_chat_location:this.onChatLocation}),this.fromClientDispenser.subscribe({sendMessage:this.sendMessage,getExternalChatContent:this.getExternalChatContent,disconnectChat:this.disconnectChat,sendAgentIsTyping:this.sendAgentIsTyping,sendAgentIsNotTyping:this.sendAgentIsNotTyping,sendFileInit:this.sendFileInit,sendFileProgress:this.sendFileProgress,sendFileError:this.sendFileError,sendFile:this.sendFile,inviteToChat:this.inviteToChat,removeInviteFromChat:this.removeInviteFromChat,addMessageToPending:this.addMessageToPending,removePartyFromChat:this.removePartyFromChat,requestCobrowsing:this.requestCobrowsing,createRtcCall:this.createRtcCall,confirmRtcCall:this.confirmRtcCall,cancelRtcCall:this.cancelRtcCall,startRtcCall:this.startRtcCall,onRtcCallIceCandidate:this.onRtcCallIceCandidate,onRtcCallStream:this.onRtcCallStream,stopRtcCall:this.stopRtcCall,toggleRtcCallDevice:this.toggleRtcCallDevice,markMessageAsRead:this.markMessageAsRead,openChannel:this.openChannel,createErrorMessage:this.createErrorMessage,getUnreadPersonalMessages:this.getUnreadPersonalMessages,markPersonalMessageAsRead:this.markPersonalMessageAsRead,maskMessage:this.maskMessage,toggleFileMask:this.toggleFileMask,sendMaskedMessages:this.sendMaskedMessages,pauseChatInactivityTimeout:this.pauseChatInactivityTimeout,resumeChatInactivityTimeout:this.resumeChatInactivityTimeout}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&(e.requestWebRtcConfig(),e.requestMessengersData())},onLogin:function(){e.requestWebRtcConfig(),e.requestMessengersData()}}),this.interactionStateConnector.dispenser.subscribe({onNewItemDelivered:function(t){iy(t)&&e.getExternalChatContent(Qh(t))},onExternalChatDisconnected:function(t){e.disconnectChat(Qh(t))},onBeforeItemComplete:function(t){iy(t)&&e.sendMaskedMessages(Qh(t))},onItemCompleted:function(t){var n=t.item;if(iy(n)){var r,a=Qh(n);a&&queueMicrotask((function(){return e.removeCompletedChat({interactionStepId:a})})),(null===(r=n.scenarioData)||void 0===r?void 0:r.isDID)&&n.contactId&&e.getUnreadPersonalMessages([n.contactId])}},onAssociatedItemTransferred:function(t){var n=t.associatedInteractionStepId,r=t.transferToPartyId;e.inviteToChat({itemId:n,partyId:r})}}))}},{key:"getMessage",value:function(e,t){if(t){var n=this.findChat(e);if(!n)return;return n.messages.find((function(e){return e.msgId===t}))}}},{key:"getMessageIndex",value:function(e,t){if(t){var n=this.findChat(e);return Ta(n),n.messages.findIndex((function(e){return e.msgId===t}))}return-1}},{key:"recalculateUnread",value:function(e){this.produceState((function(t){var n,r;t.chatData[e]&&(t.chatData[e].unread=null===(r=t.chatData[e])||void 0===r||null===(n=r.messages)||void 0===n?void 0:n.filter((function(e){return"message"===e.displayType&&e.msgId&&("customer"===(null==e?void 0:e.source)||"agent"===(null==e?void 0:e.source))&&!e.isRead})).length),t.unread=Object.values(t.chatData).reduce((function(e,t){var n;return e+=null!==(n=t.unread)&&void 0!==n?n:0}),0)}))}},{key:"changeMessage",value:function(e){var t=this.getMessageIndex(e.itemId,e.msgId);-1!==t&&this.produceState((function(n){n.chatData[e.itemId].messages.splice(t,1,e)}))}},{key:"sendMessageStatus",value:function(e,t){var n=t.interactionStepId,r=t.messageId,a=t.timestamp,o=this.sessionConnector.getStateData().userId;if(o&&r){var i={item_id:n,party_id:o,timestamp:String(B(a||Date.now())),ref_msg_id:r};return"read"===e?this.transport.dispatch.agent_external_chat_message_read(i):this.transport.dispatch.agent_external_chat_message_delivered(i)}}},{key:"findChat",value:function(e){return this.stateData.chatData[e]||void 0}},{key:"applyChatLaunchPoint",value:function(e,t){var n=this;this.transport.dispatch.chat_launch_point_info({id:t}).then((function(t){var r=t.result,a=t.error;if(!(null==a?void 0:a.message)&&r){Ta(n.findChat(e));var o=r[0].cobrowsing_enabled,i=r[0].cobrowsing_widget_key;o&&i&&n.updateState((function(t){return function(e,t,n){var r=e.chatData[t]||{};return HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},t,HE(GE({},r),{cobrowsingWidgetKey:n})))})}(t,e,i)}))}else v.error(null==a?void 0:a.message)}))}},{key:"isSelfParty",value:function(e){var t=this.sessionConnector.getStateData().userId;return e.user_id===t}},{key:"removeOutdatedInviteMessage",value:function(e){if(e){var t=this.findChat(e.item_id),n=null==t?void 0:t.messages.find((function(t){return"invite"===t.displayType&&t.partyId===e.user_id}));(null==n?void 0:n.inviteId)&&this.updateState((function(e){return rD(e,{itemId:n.itemId,messageId:n.inviteId?n.inviteId:"",partyId:n.partyId})}))}}},{key:"addPartyJoinedSystemMessage",value:function(e){var t=this;e&&this.updateState((function(n){return lD({state:n,messageText:"external_chat_party_joined_new",chatId:e.item_id,unlocalized:!0,partyName:t.getPartyFullName(e),partyId:e.party_id,qmMode:e.qm_mode})}))}},{key:"getSelfParty",value:function(e){var t,n=this.findChat(e),r=null!==(t=null==n?void 0:n.parties)&&void 0!==t?t:[],a=this.sessionConnector.getStateData().userId;return r.find((function(e){return"internal"===e.type&&e.user_id===a}))}},{key:"selfPartyInitialized",value:function(e){var t=this.getSelfParty(e.item_id);return"connected"===(null==t?void 0:t.status)}},{key:"hasChatPartyStatusChanged",value:function(e){var t=this.findParty(e.item_id,e.party_id);return(null==t?void 0:t.status)!==e.status}},{key:"findParty",value:function(e,t){var n=this.stateData.chatData[e];return zh(null==n?void 0:n.parties,t)}},{key:"partyAlreadyExistsInState",value:function(e){var t=this.stateData.chatData[e.item_id];return!!zh(null==t?void 0:t.parties,e.party_id)}},{key:"updateOrCreateParty",value:function(e){this.updateState((function(t){return function(e,t){var n=t.item_id,r=t.party_id,a=e.chatData[n]||{},o=a.parties||[];return o=o.filter((function(e){return e.party_id!==r})),HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},a),{parties:zE(o).concat([t])})))})}(t,e)}))}},{key:"removePartyFromChatState",value:function(e){this.updateState((function(t){return function(e,t){var n=t.item_id,r=t.party_id,a=e.chatData[n]||{},o=a.parties||[];return o=o.filter((function(e){return e.party_id!==r})),HE(GE({},e),{chatData:HE(GE({},e.chatData),BE({},n,HE(GE({},a),{parties:o})))})}(t,e)}))}},{key:"addPartyLeftSystemMessage",value:function(e){var t=this;!e||this.isNotConnectedParty(e)||this.isSelfParty(e)||this.updateState((function(n){return lD({state:n,messageText:"external_chat_party_left_new",chatId:e.item_id,unlocalized:!0,partyName:t.getPartyFullName(e)})}))}},{key:"isNotConnectedParty",value:function(e){return"connected"!==e.status}},{key:"getPartyFullName",value:function(e){var t=this.sessionConnector.getStateData().displayNameFormat;return Iv(t,e.first_name,e.last_name)||wv(e.phone)}},{key:"messageAlreadyExists",value:function(e){var t,n,r;return(null!==(r=null===(n=this.stateData.chatData)||void 0===n||null===(t=n[e.item_id])||void 0===t?void 0:t.messages)&&void 0!==r?r:[]).filter((function(e){return e.msgId})).some((function(t){return t.msgId===e.msg_id}))}},{key:"isInternalAgentSentiment",value:function(e){var t=this.findParty(e.item_id,e.party_id);return!!(null==t?void 0:t.user_id)}},{key:"extractSentimentParamsFrom",value:function(e){var t,n="party_id"in e;return{itemId:e.item_id,partyId:n?e.party_id:e.ref_party_id,messageId:e.ref_msg_id,sentimentScore:Number(null===(t=e.sentiment)||void 0===t?void 0:t.score)}}},{key:"addSentimentToMessage",value:function(e){this.updateState((function(t){return XE(t,e)}))}},{key:"queueMessage",value:function(e,t){this.pendingMessages[t]=e}},{key:"removeMessageFromQueue",value:function(e){delete this.pendingMessages[e]}},{key:"batchMarkAsReadPersonalMessages",value:function(e){var t=this;clearTimeout(this.readPersonalMessageTimeout),this.addPersonalMessageToPendingReadPersonalMessages(e),this.readPersonalMessageTimeout=setTimeout((function(){var e;Object.keys(null!==(e=t.pendingReadPersonalMessages)&&void 0!==e?e:{}).forEach((function(e){var n;Object.keys(null!==(n=t.pendingReadPersonalMessages[e])&&void 0!==n?n:{}).forEach((function(n){var r=t.pendingReadPersonalMessages[e][n];t.markPersonalMessagesAsRead({messageIds:r,globalInteractionId:n})})),delete t.pendingReadPersonalMessages[e]}))}),1e3)}},{key:"addPersonalMessageToPendingReadPersonalMessages",value:function(e){var t,n,r,a=e.contactId,o=e.messageId,i=e.globalInteractionId;rv(this.pendingReadPersonalMessages,"".concat(a,".").concat(i),xD(null!==(r=null===(n=this.pendingReadPersonalMessages)||void 0===n||null===(t=n[a])||void 0===t?void 0:t[i])&&void 0!==r?r:[]).concat([o]))}},{key:"unreadPersonalChatsToUnreadPersonalMessages",value:function(e){return e.reduce((function(e,t){var n=!0,r=!1,a=void 0;try{for(var o,i=t.unreadPersonalChats[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value,c=!0,u=!1,l=void 0;try{for(var d,f=s.unreadMessageIds[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var _=d.value;e[t.contactId]||(e[t.contactId]={}),e[t.contactId][s.globalInteractionId]||(e[t.contactId][s.globalInteractionId]={}),e[t.contactId][s.globalInteractionId][_]=!0}}catch(wX){u=!0,l=wX}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(wX){r=!0,a=wX}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return e}),{})}},{key:"cleanup",value:function(){DD(AD(o.prototype),"cleanup",this).call(this),this.pendingMessages={},this.readPersonalMessageTimeout=void 0,this.pendingReadPersonalMessages={}}},{key:"resetState",value:function(){DD(AD(o.prototype),"resetState",this).call(this),this.pendingMessages={},this.readPersonalMessageTimeout=void 0,this.pendingReadPersonalMessages={}}}],r=[{key:"isLegacyChannelFromMobile",value:function(e){return"SMS"===e||"Chat"===e}}],n&&TD(t.prototype,n),r&&TD(t,r),o}(Ts.createBaseStateClass({name:"interactionChatState",controlEvents:UE,trackerEvents:FE,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{chatData:{},unread:0,unreadPersonalMessages:{},unreadPersonalMessagesAmount:0,unreadPersonalMessagesAmountByContactId:{},messengers:[]}},dependencies:["transport","localSettings","platformSpecific","sessionConnector","tabsConnector","interactionStateConnector","localizationConnector"]})),BD={onInitialState:{parameters:[]},onChange:{parameters:[]},onAgentChat:{parameters:[]},onMessageUnread:{parameters:[]}},GD={getChatHistory:{parameters:[]},sendMessage:{parameters:[]},convertMessagesToHistory:{parameters:[]},markMessageAsRead:{parameters:[]},getUnreadChatSessions:{parameters:[]},setUnread:{parameters:[]}};function HD(e){var t=e.send_time;return t=t?q(+t):Date.now(),{content:e.content,messageId:e.message_id,firstName:e.firstname,lastName:e.lastname,loginId:e.login_id,userId:e.user_id,sendTime:t,direction:e.direction,isDelivered:e.is_delivered&&Ie(e.is_delivered),isFavorite:e.is_favorite&&Ie(e.is_favorite),isRead:e.is_read&&Ie(e.is_read),isUrgent:e.is_urgent&&Ie(e.is_urgent),attachments:e.attachments&&__(e.attachments,xo)}}function zD(e){return{content:e.content,messageId:e.message_id,firstName:e.firstname,lastName:e.lastname,photoUrl:e.photo_url,loginId:e.login_id,userId:e.channel_id,sendTime:q(+e.send_time),direction:e.direction,isUrgent:Ie(e.is_urgent),attachments:__(e.attachments,xo)}}function WD(e){var t=Object.values(e.messages).reduce((function(e,t){return"in"===t.direction&&"0"===t.is_read&&(e[t.message_id]=!0),e}),{});return{requestId:e.request_id,messages:Object.values(e.messages).map((function(e){return HD(e)})).sort((function(e,t){return e.sendTime-t.sendTime})),unread:t}}function VD(e,t,n){return{id:e.userId,itemKind:"internalChat",userId:e.userId,direction:t,displayData:{displayName:Iv(n.displayNameFormat,e.firstName,e.lastName),number:e.number,emiUserType:e.emiUserType,emiPhotoUrl:e.emiPhotoUrl,emiOwnerId:Cw(n,e.emiUserType)},internalChatData:{userId:e.userId,firstName:e.firstName,lastName:e.lastName}}}function YD(e){return{id:e.sender_id,itemKind:"internalMessage",displayData:{displayName:e.sender_name},internalMessageData:{messages:[{timestamp:Date.now(),text:e.content}]}}}function QD(e,t){var n=HD(e);return VD({number:e.number,userId:n.userId,firstName:n.firstName,lastName:n.lastName},"inbound",t)}function JD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZD(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function eA(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ZD(o,r,a,i,s,"next",e)}function s(e){ZD(o,r,a,i,s,"throw",e)}i(void 0)}))}}function tA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aA(e,t,n){return aA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oA(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},aA(e,t,n||e)}function oA(e){return oA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oA(e)}function iA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rA(e,t,n[t])}))}return e}function sA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function cA(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?XD(e):t;var n}function uA(e,t){return uA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uA(e,t)}function lA(e){return function(e){if(Array.isArray(e))return JD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oA(e);if(t){var a=oA(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cA(this,n)}}function fA(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var _A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uA(e,t)}(o,e);var t,n,r,a=dA(o);function o(){var e;tA(this,o),rA(XD(e=a.apply(this,arguments)),"unreadTimeouts",{}),rA(XD(e),"onAgentWelcome",(function(){"mobile"!==e.platformSpecific.clientType()&&e.getUnreadChatSessions()})),rA(XD(e),"getUnreadChatSessions",(function(){e.transport.dispatch.agent_get_unread_chat_sessions()})),rA(XD(e),"onAgentUnreadChatSessions",(function(t){__(t.sessions,xo).forEach((function(t){var n=t.message_count,r=t.send_time,a=t.user_id;e.updateItem(a,(function(){return{unreadAmount:+n,latestUnreadSendTime:q(+r),lastAction:"unreadSessionRetrieved"}}))}))})),rA(XD(e),"onAgentChat",(function(t){var n,r=e.sessionConnector.getStateData().userId,a=HD(t),o=a.userId,i=a.content,s=e.stateData.items;r&&e.markMessageAsDelivered({senderId:o,receiverId:r,messageId:a.messageId}),(null===(n=s[o])||void 0===n?void 0:n.unread)||e.initializeUnread(o),e.updateItem(o,(function(e){var t,n;return{messages:lA(null!==(t=null==e?void 0:e.messages)&&void 0!==t?t:[]).concat([a]),unread:sA(iA({},e.unread),rA({},a.messageId,!0)),unreadAmount:(null!==(n=e.unreadAmount)&&void 0!==n?n:0)+1,lastAction:"messageReceived"}})),e.toClientDispatch.onAgentChat({userId:o,message:i}),e.setOnMessageUnreadTimeout(o,i)})),rA(XD(e),"markMessageAsRead",(function(t){var n=e.sessionConnector.getStateData().userId;n&&(e.sendMessageStatus("read",sA(iA({},t),{receiverId:n})),e.readMessage(t.senderId,t.messageId),e.recalculateUnread(t.senderId),e.clearOnMessageUnreadTimeout(t.senderId))})),rA(XD(e),"setUnread",(function(t,n){e.produceState((function(e){e.items[t]&&(e.items[t].unreadAmount=n)}))}));var t=XD(e);return rA(XD(e),"getChatHistory",function(){var e=eA((function(e,n){var r,a;return fA(this,(function(o){switch(o.label){case 0:return t.updateItem(e,(function(){return{isLoading:!0}})),[4,t.transport.dispatch.agent_get_chat_history({user_id:e,start_time:B(n)})];case 1:return r=o.sent(),a=WD(r),t.updateItem(e,(function(){return{messages:ko(a,"messages",[]),unread:ko(a,"unread",{}),unreadAmount:Object.values(ko(a,"unread",{})).length,isLoading:!1,lastAction:"activityHistoryReceived",startTime:Number(n)}})),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()),rA(XD(e),"sendMessage",(function(t){var n=t.receiverUserId,r=t.text,a=(0,C.v4)().toUpperCase(),o=e.sessionConnector.getStateData(),i=o.userId,s=o.firstName,c=o.lastName;if(i){var u={userId:i,firstName:s||"",lastName:c||"",messageId:a,content:r,sendTime:Date.now(),direction:"out"};e.stateData.items[i]||e.updateItem(i,(function(){return{messages:[],unread:{},unreadAmount:0,isLoading:!1,lastAction:"activityHistoryReceived",startTime:Date.now()}})),e.transport.dispatch.agent_chat({user_id:n,message_id:a,content:r,msg_text:KE(r),is_urgent:"0"}),e.updateItem(n,(function(e){return{messages:lA((null==e?void 0:e.messages)||[]).concat([u]),lastAction:"messageSent"}})),e.toClientDispatch.onAgentChat({userId:n,message:r})}})),rA(XD(e),"markMessageAsDelivered",e.sendMessageStatus.bind(XD(e),"delivered")),rA(XD(e),"onAgentEmiChannelMessageReceived",(function(t){var n,r=zD(t),a=r.userId,o=r.content;(null===(n=e.stateData.items[a])||void 0===n?void 0:n.unread)||e.initializeUnread(a),e.updateItem(a,(function(e){var t,n;return{messages:lA(null!==(t=null==e?void 0:e.messages)&&void 0!==t?t:[]).concat([r]),unread:sA(iA({},e.unread),rA({},r.messageId,!0)),unreadAmount:(null!==(n=e.unreadAmount)&&void 0!==n?n:0)+1,lastAction:"messageReceived"}})),e.toClientDispatch.onAgentChat({userId:a,message:o}),e.setOnMessageUnreadTimeout(a,o)})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_chat:this.onAgentChat,agent_welcome:this.onAgentWelcome,agent_unread_chat_sessions:this.onAgentUnreadChatSessions,agent_emi_channel_received:this.onAgentEmiChannelMessageReceived}),this.fromClientDispenser.subscribe({getChatHistory:this.getChatHistory,sendMessage:this.sendMessage,markMessageAsRead:this.markMessageAsRead,setUnread:this.setUnread}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:function(t){ry(t)&&t.userId&&e.setUnread(t.userId,0)}}))}},{key:"setOnMessageUnreadTimeout",value:function(e,t){var n=this;this.unreadTimeouts[e]=setTimeout((function(){n.toClientDispatch.onMessageUnread({userId:e,message:t})}),500)}},{key:"clearOnMessageUnreadTimeout",value:function(e){clearTimeout(this.unreadTimeouts[e]),delete this.unreadTimeouts[e]}},{key:"readMessage",value:function(e,t){this.produceState((function(n){var r,a,o,i,s,c;(null==n||null===(o=n.items)||void 0===o||null===(a=o[e])||void 0===a||null===(r=a.unread)||void 0===r?void 0:r[t])&&(null==n||null===(c=n.items)||void 0===c||null===(s=c[e])||void 0===s||null===(i=s.unread)||void 0===i||delete i[t])}))}},{key:"recalculateUnread",value:function(e){var t,n,r=this.stateData.items,a=Object.values(null!==(n=null===(t=r[e])||void 0===t?void 0:t.unread)&&void 0!==n?n:{}).length;this.setUnread(e,a)}},{key:"sendMessageStatus",value:function(e,t){var n=t.senderId,r=t.receiverId,a=t.messageId;"delivered"===e?this.transport.dispatch.agent_chat_delivered({sender_id:n,receiver_id:r,message_id:a}):this.transport.dispatch.agent_chat_read({sender_id:n,receiver_id:r,message_id:a})}},{key:"updateItem",value:function(e,t){this.produceState((function(n){var r=t(n.items[e]);for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n.items[e]||(n.items[e]={}),n.items[e][a]=r[a])}))}},{key:"initializeUnread",value:function(e){this.produceState((function(t){var n,r;t.items[e]||(t.items[e]={messages:[],unread:{},unreadAmount:0}),t.items[e].unread=(null!==(n=t.items[e].messages)&&void 0!==n?n:[]).reduce((function(e,t){return t.isRead||"in"!==t.direction||(e[t.messageId]=!0),e}),{}),t.items[e].unreadAmount=Object.values(null!==(r=t.items[e].unread)&&void 0!==r?r:{}).length}))}},{key:"cleanup",value:function(){aA(oA(o.prototype),"cleanup",this).call(this),this.unreadTimeouts={}}},{key:"resetState",value:function(){aA(oA(o.prototype),"resetState",this).call(this),this.unreadTimeouts={}}}])&&nA(t.prototype,n),r&&nA(t,r),o}(Ts.createBaseStateClass({name:"interactionInternalChatState",controlEvents:GD,trackerEvents:BD,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{items:{}}},dependencies:["transport","platformSpecific","sessionConnector","interactionStateConnector"]})),pA=Math.max,mA=Math.min;const gA=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return void 0!==n&&(a=jh(n),a=n<0?pA(r+a,0):mA(a,r-1)),rh(e,Fo(t,3),a,!0)};var hA={workitem:"Preview",voice:"Call",forum:"Forum message",chat:"Web Chat",email:"Email",agent_chat:"Unknown",unknown:"Unknown"},yA={1:1,2:2,a:2,b:2,c:2,3:3,d:3,e:3,f:3,4:4,g:4,h:4,i:4,5:5,j:5,k:5,l:5,6:6,m:6,n:6,o:6,7:7,p:7,q:7,r:7,s:7,8:8,t:8,u:8,v:8,9:9,w:9,x:9,y:9,z:9,0:0},vA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Array.from(e.toLowerCase()).map((function(e){return yA[e]||e})).filter((function(e){return e})).join("")},bA=Math.min;const CA=function(e,t,n){for(var r=n?iT:sh,a=e[0].length,o=e.length,i=o,s=Array(o),c=1/0,u=[];i--;){var l=e[i];i&&t&&(l=wo(l,Ir(t))),c=bA(l.length,c),s[i]=!n&&(t||a>=120&&l.length>=120)?new Bn(i&&l):void 0}l=e[0];var d=-1,f=s[0];e:for(;++d<a&&u.length<c;){var _=l[d],p=t?t(_):_;if(_=n||0!==_?_:0,!(f?Hn(f,p):r(u,p,n))){for(i=o;--i;){var m=s[i];if(!(m?Hn(m,p):r(e[i],p,n)))continue e}f&&f.push(p),u.push(_)}}return u};const SA=function(e){return Am(e)?e:[]};const wA=Mm((function(e){var t=Jd(e),n=wo(e,SA);return t===Jd(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?CA(n,Fo(t,2)):[]}));var IA=["email","agent_chat","chat","voice"],OA=IA[0];function TA(e){return e.reduce((function(e,t){var n,r=null!==(n=t.mediaType)&&void 0!==n?n:OA,a=IA.indexOf(r);return IA.indexOf(e)>a?e:r}),OA)}function EA(e,t){return!!function(e,t){if(!e)return[];var n,r=null!==(n=e.associatedItemIds)&&void 0!==n?n:[];return wA(t,r,(function(e){return function(e){return"string"!=typeof e}(e)?e.id:e}))}(e,t).length}var DA=n(3185),AA=n.n(DA);function PA(e){var t;return{itemKind:e.itemKind,interactionStepId:e.scenarioData&&e.scenarioData.interactionStepId,contactId:e.contactId,userId:e.userId,displayData:e.displayData,dispositionData:e.dispositionData,voiceCallAccepted:e.voiceCallAccepted,associatedObjects:e.associatedObjects,openedBotSuggestionsUrls:e.openedBotSuggestionsUrls,callData:e.callData,details:{formData:null===(t=e.details)||void 0===t?void 0:t.formData}}}function kA(e){return"suggestion_url"in e}function RA(e){return"STATIC"===e.type&&("SECTION"===e.staticType||"CONTAINER"===e.staticType)}function NA(e){var t,n;return(null==e||null===(n=e.layout)||void 0===n||null===(t=n.pages)||void 0===t?void 0:t.flatMap((function(e){return(null==e?void 0:e.fields)||[]})).flat())||[]}function MA(e){return"CUSTOM"===(null==e?void 0:e.field.type)&&(null==e?void 0:e.field.leadMappingString)?e.field.leadMappingString:"STATIC"===(null==e?void 0:e.field.type)&&"MESSENGER"===(null==e?void 0:e.field.staticType)&&(null==e?void 0:e.field.mapping)?e.field.mapping:""}function jA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function $A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KA(e,t){var n=NA(t).filter((function(e){return!RA(e.field)}));return Object.entries(e).reduce((function(e,t){var r=$A(t,2),a=r[0],o=r[1],i=n.find((function(e){var t;return(null===(t=e.field)||void 0===t?void 0:t.name)===a})),s=MA(i);return s?LA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xA(e,t,n[t])}))}return e}({},e),xA({},s,o)):e}),{})}function FA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("."),n=t[t.length-1];if(n.match(/^custom_/))return n}function UA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function GA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return UA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HA(e,t,n){var r=KA(t,e),a=Object.entries(r).reduce((function(e,t){var r=GA(t,2),a=r[0],o=r[1],i=FA(a),s=null==n?void 0:n.some((function(e){return e.name===i&&Ie(e.persistent)}));return i&&s?BA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qA(e,t,n[t])}))}return e}({},e),qA({},i,o)):e}),{});return a}function zA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function YA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QA(e,t){var n=NA(e),r=Object.entries(t).reduce((function(e,t){var r=YA(t,2),a=r[0],o=r[1],i=n.find((function(e){var t;return(null===(t=e.field)||void 0===t?void 0:t.name)===a}));return"CUSTOM"===(null==i?void 0:i.field.type)&&(null==i?void 0:i.field.customReporting)&&(null==i?void 0:i.field.customReportingField)?VA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){WA(e,t,n[t])}))}return e}({},e),WA({},null==i?void 0:i.field.customReportingField,o)):e}),{});return r}function JA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function eP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return JA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tP(e,t,n){var r=NA(e).filter((function(e){return!RA(e.field)})),a=Object.entries(t).reduce((function(e,t){var a,o,i=eP(t,2),s=i[0],c=i[1],u=r.find((function(e){var t;return(null===(t=e.field)||void 0===t?void 0:t.name)===s})),l=MA(u);if(!u||!l)return e;var d=FA(l),f=null==n?void 0:n.some((function(e){return e.name===d&&Ie(e.exportable)}));if(!d||!f)return e;var _={value:c,doubleValue:null,dateValue:null,timezoneId:null,listItemId:null};if("CUSTOM"===(null===(a=u.field)||void 0===a?void 0:a.type)&&"DATETIME"===(null===(o=u.field)||void 0===o?void 0:o.customType)){var p="string"==typeof c?new Date(c).getTime():null;_.dateValue=p}return ZA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){XA(e,t,n[t])}))}return e}({},e),XA({},d,_))}),{});return a}function nP(e){var t=e.conditions,n=e.values,r=void 0===n?{}:n,a=e.intents,o=void 0===a?[]:a;if(!(null==t?void 0:t.length))return!0;var i=t.reduce((function(e,t){switch(t.type){case"intent":Ta(t.intentId);var n=o.includes(t.intentId),a="AND"===t.ampersand?"&&":"OR"===t.ampersand?"||":"";return"".concat(e," ").concat(a," ").concat(n);case"variable":var i,s,c=(null!==(i=t.field)&&void 0!==i?i:"").replace(/\$\((.*)\)/,(function(e,t){return t})),u=null!==(s=t.value)&&void 0!==s?s:"",l="IS"===t.argumentType,d=null==r?void 0:r[c],f=!1;if("EMPTY"===t.argument&&(f=!d),"EQUAL"===t.argument&&(f=d===u),"GREATER"===t.argument){var _=+u;f=isNaN(+d)||isNaN(_)?d>u:+d>+u}if("LESS"===t.argument){var p=+u;f=isNaN(+d)||isNaN(p)?d<u:+d<+u}if("ONE_OF"===t.argument)f=u.split(",").includes(d);var m=l?f:!f,g="AND"===t.ampersand?"&&":"OR"===t.ampersand?"||":"";return"".concat(e," ").concat(g," ").concat(m)}return""}),"");return new Function("return ".concat(i))()}function rP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rP(e,t,n[t])}))}return e}function oP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function iP(e,t){return NA(e).filter((function(e){return!RA(e.field)})).reduce((function(e,n){var r,a=function(r){var a;Ta(null==n||null===(a=n.field)||void 0===a?void 0:a.name);var o=t[r];if(void 0===o)return e;var i=function(){try{return"string"==typeof o?JSON.parse(o):o}catch(e){return o}}();return oP(aP({},e),rP({},n.field.name,i))};if(!(null===(r=n.field)||void 0===r?void 0:r.name))return e;var o=n.field.initialValue;if(o){var i=function(e,t){var n=Array.from(e.matchAll(/\$\((.*?)\)/g)).map((function(e){return e[1]}));return n.reduce((function(e,n){var r=t[n],a=r&&"string"!==r?r:"";return e.replace("$(".concat(n,")"),a)}),e)}(o,t);return oP(aP({},e),rP({},n.field.name,i))}return"CUSTOM"===n.field.type&&n.field.leadMappingString?a(n.field.leadMappingString):"STATIC"===(null==n?void 0:n.field.type)&&"MESSENGER"===(null==n?void 0:n.field.staticType)&&(null==n?void 0:n.field.mapping)?a(n.field.mapping):e}),{})}var sP=["dynamicscrm","salesforce","servicenow","rightnow","zendesk"];function cP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lP={type:"type",action:"action",URL:"url",content:"content",label:"label",popUponAnswer:["popUponAnswer",Ie],keepPopupOpenAfterFinish:["keepPopupOpenAfterFinish",Ie],popup:["popup",Ie],secondaryUrls:"secondaryUrls"},dP={type:"type",action:"action",object_id:"objectId",object_type:"objectType",statement:"statement",popUponAnswer:["popUponAnswer",Ie],newTab:["newTab",Ie],fields:"fields",filters:"filters"},fP={type:"type",action:"action",pin:"pin",baseUrl:"baseUrl",session_id:"sessionId",popUponAnswer:["popUponAnswer",Ie]};function _P(e){return e?Te(e,lP):e}var pP={type:"type",action:"action",url:"URL",content:"content",label:"label",popUponAnswer:["popUponAnswer",Oe],keepPopupOpenAfterFinish:["keepPopupOpenAfterFinish",Oe],popup:["popup",Oe],secondaryUrls:"secondaryUrls"},mP={type:"type",action:"action",objectId:"object_id",objectType:"object_type",statement:"statement",popUponAnswer:["popUponAnswer",Oe],newTab:["newTab",Oe],fields:"fields",filters:"filters"},gP={type:"type",action:"action",pin:"pin",baseUrl:"baseUrl",sessionId:"session_id",popUponAnswer:["popUponAnswer",Oe]};function hP(e,t,n){var r={};Object.keys(e).forEach((function(t){var n=t;"web"===n?r[n]=Te(e[n],pP):sP.includes(n)?r[n]=Te(e[n],mP):r[n]="nativeremoteassist"===n?Te(e[n],gP):e[n]})),t&&t.list.length&&(r.associatedObjects={list:t.list.reduce((function(e,t,n){return e[n]=t,e}),{}),selected:t.selected.reduce((function(e,t,n){return e[n]=t,e}),{}),primary:t.primary.reduce((function(e,t,n){return e[n]=t,e}),{})});var a=n||e.screenData;a&&(r.screenData=a,Object.keys(a).forEach((function(e){-1!==sP.indexOf(e)&&a[e].recordId&&a[e].recordType&&(r[e]={type:e,action:"SHOW_OBJECT",object_id:a[e].recordId,object_type:a[e].recordType,popUponAnswer:"0",statement:""})})));return r}function yP(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]={value:"string"==typeof r?r:JSON.stringify(r)},t}),{}):{}}function vP(e){if(e)return Object.entries(e||{}).reduce((function(e,t){var n=uP(t,2),r=n[0],a=n[1],o=r,i=function(){try{return JSON.parse(a.value)}catch(e){return a.value}}();return e[o]=i,e}),{})}function bP(e){if(a=e.source,sP.includes(a))return t={},n=e.source,r={type:e.source,action:"SHOW_OBJECT",object_type:e.type,object_id:e.id,statement:"",popUponAnswer:!1},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r,a}function CP(e,t){var n,r=Date.now(),a=Number(null!==(n=e.delivered_duration)&&void 0!==n?n:0),o=(null==t?void 0:t.displayData.itemStartTime)||r-q(a),i=function(){var n=null==t?void 0:t.displayData.pendingStartTime;return n||("delivery_pending"===e.state?r:void 0)}(),s=function(){var n=null==t?void 0:t.displayData.deliveredStartTime;return n||("delivered"===e.state?r-q(a):void 0)}(),c=function(){var n=null==t?void 0:t.displayData.acwStartTime;return n||("wrap_up"===e.state?r:void 0)}(),u=function(){var n,a=null==t?void 0:t.displayData.holdStartTime;if("hold"!==e.state&&"hold"===(null==t||null===(n=t.scenarioData)||void 0===n?void 0:n.state))return;return a||("hold"===e.state?r:void 0)}(),l=function(){var n;if(e.state===(null==t?void 0:t.state))return null!==(n=null==t?void 0:t.displayData.stateStartTime)&&void 0!==n?n:o;if("delivered"===e.state)return r-q(a);return r}(),d=function(){var t=e.total_queue_time;if(t&&"0"!==t)return r-Number(t)}();return{itemStartTime:o,stateStartTime:l,pendingStartTime:i,deliveredStartTime:s,queueStartTime:d,acwStartTime:c,holdStartTime:u,deliveredDuration:a}}function SP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){SP(e,t,n[t])}))}return e}function IP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var OP={first_name:"firstName",last_name:"lastName",email:"email",channel:"channel",contact_id:"contactId",mobile_launch_point_id:"mobileLaunchPointId",requires_call_to_number:"requiresCallToNumber",messenger_user_id:"messengerUserId",subject:"subject",message:["messageId",function(e){return null==e?void 0:e.msg_id}],directChat:"directChat"},TP={active_drafts:["activeDrafts",function(e){return void 0===e?void 0:__(e,(function(e){return Te(e,EP)}))}],case_id:"caseId",case_number:["caseNumber",Number],case_title:"caseTitle",from_address:"fromAddress",from_name:"fromName",queue_item_id:"queueItemId",queue_type:"queueType",reporter_first_name:"reporterFirstName",reporter_last_name:"reporterLastName",reporter_id:"reporterId",salesforce_case_id:"salesforceCaseId",to_address:"toAddress"},EP={email_id:"emailId",referenced_email_id:"referencedEmailId",service_id:"serviceId",thread_id:"threadId"},DP={item_id:"interactionStepId",global_interaction_id:"globalInteractionId",workitem_id:"workitemId",call_id:"callId",contact_id:"contactId",state:"state",interaction_type:"interactionType",bpo_client_id:"bpoClientId",media_type:"mediaType",direction:"direction",service_id:"serviceId",service_name:"serviceName",total_queue_time:"totalQueueTime",is_did:["isDID",Ie],is_flagged:["isFlagged",Ie],is_qm:["isQm",Ie],qm_monitor_mode:"qmMonitorMode",qm_monitored_item_id:"qmMonitoredItemId",screenpop_form_enabled:["screenpopFormEnabled",Ie],voice_signature_enabled:["voiceSignatureEnabled",Ie],channel:"channel",proposed_contacts:["proposedContacts",function(e){return void 0===e?void 0:__(e,(function(e){return Te(e,kP)}))}],previous_item_id:"previousItemId",attached_data:"attachedData"},AP={caller_contact_id:"contactId",caller_first_name:"firstName",caller_last_name:"lastName",caller_name:"name",caller_number:"phoneNumber",caller_user_id:"userId"},PP={id:"id",type:"type",phone:"phone"},kP={"Contact.id":"id","Contact.type":"type","Contact.first_name":"firstName","Contact.last_name":"lastName","Contact.phones":["phones",function(e){return void 0===e?void 0:__(e,(function(e){return Te(e,PP)}))}]};function RP(e,t,n){var r,a,o,i,s,c,u,l,d,f,_,p,m=(null==t?void 0:t.id)||(0,C.v4)(),g=function(e,t){return(null==t?void 0:t.callData)?t.callData.callId||!e.call_id?t.callData:IP(wP({},t.callData),{callId:e.call_id}):"voice"===e.media_type?{callId:e.call_id}:void 0}(e,t),h=Te(e,DP),y=(null==t?void 0:t.dispositionData)||{disposition:{id:"",name:"Not Selected"}},v=e.external_chat_data?Te(e.external_chat_data,OP):void 0,b=e.application_data.email_data?Te(e.application_data.email_data,TP):void 0,S=function(e,t){if("chat"===e.media_type){var n=e.external_chat_data||{},r=e.application_data.email_data,a=null!=r?r:{},o=a.reporter_first_name,i=a.reporter_last_name,s=a.from_address,c=n.channel,u=n.first_name||o,l=n.last_name||i,d=n.email||s,f="sms"===c?n.phone:"web"===c?n.phone_number:void 0;return{firstName:u,lastName:l,displayName:NP({firstName:u,lastName:l,displayNameFormat:t}),email:d,number:f}}return{displayName:""}}(e,n),w=(null==t||null===(r=t.displayData)||void 0===r?void 0:r.displayName)||S.displayName||"",I=(null==t||null===(a=t.displayData)||void 0===a?void 0:a.email)||S.email,O=(null==t?void 0:t.displayData.number)||S.number,T=(null==t?void 0:t.displayData.firstName)||S.firstName,E=(null==t?void 0:t.displayData.lastName)||S.lastName,D=CP(e,t),A=function(e){var t={};return e.screenpop_data&&Object.keys(e.screenpop_data).forEach((function(n){var r=n;"web"===r?t[r]=_P(e.screenpop_data[r]):-1!==sP.indexOf(r)?t[r]=Te(e.screenpop_data[r],dP):t[r]="nativeremoteassist"===r?Te(e.screenpop_data[r],fP):e.screenpop_data[r]})),t}(e),P=Ie(e.qm_is_recording),k=!!e.qm_is_recording_muted&&Boolean(Number(e.qm_is_recording_muted)),R=Ie(e.is_flagged),N=(null==t?void 0:t.allParties)||[],M=(null==t?void 0:t.allChatParties)||[],j=(null==t?void 0:t.chatParties)||[],x=null==t?void 0:t.isOrWasConference,L=e.qm_recording_playback_url,$=(null==t?void 0:t.associatedObjects)||function(e){return e?{list:__(e.list,(function(e){return e})),selected:__(null!==(t=e.selected)&&void 0!==t?t:{},(function(e){return e})),primary:__(null!==(n=e.primary)&&void 0!==n?n:{},(function(e){return e})),touched:!0}:{list:[],selected:[],touched:!1,primary:[]};var t,n}(null===(o=e.screenpop_data)||void 0===o?void 0:o.associatedObjects),K=null==t?void 0:t.activeCrmScreen,F=(null==t?void 0:t.displayData.holdChanging)&&(null==t?void 0:t.displayData.holdStartTime)!==D.holdStartTime,U=(null==t?void 0:t.displayData.recordingChanging)&&(null==t?void 0:t.displayData.isRecording)!==P,q=(null==t?void 0:t.displayData.mutedChanging)&&(null==t||null===(i=t.callData)||void 0===i?void 0:i.muted)!==(null==g?void 0:g.muted),B=IP(wP(IP(wP({},(null==t?void 0:t.displayData)||{}),{firstName:T,lastName:E,displayName:w,number:O,email:I}),D),{isRecording:P,isRecordingMuted:k,isFlagged:R,holdChanging:F,recordingChanging:U,mutedChanging:q}),G=e.auto_answer_timeout,H=e.hunt_group_id,z=e.hunt_group_name,W=null==t?void 0:t.notificationData,V=null==t?void 0:t.userId,Y=(null==t?void 0:t.contactId)||(null==v?void 0:v.contactId)||(null==b?void 0:b.reporterId);e.mobile_notification_data&&!W&&(W=Te(e.mobile_notification_data,AP),"voice"===h.mediaType&&W&&(V=W.userId,Y=W.contactId,B.displayName=W.name,B.callerName=W.name,B.number=W.phoneNumber,B.firstName=W.firstName,B.lastName=W.lastName),"chat"===h.mediaType&&(B.displayName=null==W?void 0:W.name,(null==W?void 0:W.phoneNumber)&&"Anonymous"!==W.phoneNumber&&(B.number=W.phoneNumber)));var Q={formData:(null==t||null===(s=t.details)||void 0===s?void 0:s.formData)||{values:vP(null===(u=e.screenpop_data)||void 0===u||null===(c=u.msg)||void 0===c?void 0:c.values),variables:(null===(d=e.screenpop_data)||void 0===d||null===(l=d.msg)||void 0===l?void 0:l.variables)||{},shownPageIndex:(null===(_=e.screenpop_data)||void 0===_||null===(f=_.msg)||void 0===f?void 0:f.shownPageIndex)||0},formDefinitions:null==t||null===(p=t.details)||void 0===p?void 0:p.formDefinitions};return{id:m,itemKind:"scenario",mediaType:h.mediaType,state:h.state,direction:h.direction,userId:V,contactId:Y,displayData:B,notificationData:W,scenarioData:h,callData:g,externalChatData:v,emailData:b,dispositionData:y,screenPopData:A,autoAnswerTimeout:G?+G:null==t?void 0:t.autoAnswerTimeout,allParties:N,chatParties:j,allChatParties:M,isOrWasConference:x,playbackUrl:L,associatedObjects:$,activeCrmScreen:K,workitemId:null==e?void 0:e.workitem_id,huntGroupId:H,huntGroupName:z,openedBotSuggestionsUrls:null==t?void 0:t.openedBotSuggestionsUrls,workitemData:null==t?void 0:t.workitemData,details:Q}}function NP(e){var t=e.firstName,n=e.lastName,r=e.displayNameFormat;return t&&n?Iv(r,t,n):t||n||""}var MP={request_id:"requestId",reply_to:"replyTo",leg_id:"legId",group_name:"groupName",dest_phone:"destPhone",dest_firstname:"destFirstname",dest_lastname:"destLastname",service_name:"serviceName",play_alert_sound:["playAlertSound",Ie],show_original_recipient:["showOriginalRecipient",Ie],is_conference:["isConference",Ie],caller_number:"callerNumber",caller_name:"callerName",caller_firstname:"callerFirstname",caller_lastname:"callerLastname",caller_contact_id:"callerContactId",caller_user_id:"callerUserId"};function jP(e){return Te(e,MP)}function xP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xP(e,t,n[t])}))}return e}function $P(e){return e}function KP(e){return{date:e.date,disposition:e.disposition,dispositionName:e.disposition_name,notes:e.notes,phone:e.phone,userId:e.user_id,userName:e.user_name}}function FP(e){return Object.keys(e).map((function(t){return{name:t,value:e[t]}}))}function UP(e){var t=e.workitem_data;return{id:e.workitem_id,scenario_engine_id:e.scenario_engine_id,data:{aniData:{proposedAni:t.ani_data.proposed_ani,state:t.ani_data.state},contactInfo:{firstName:t.contact_info.first_name,lastName:t.contact_info.last_name,addresses:__(t.contact_info.addresses).map($P),fullInfo:FP(t.contact_info.full_info),otherInfo:FP(t.contact_info.other_info)},history:__(t.history).map(KP),listId:t.list_id,listLinkId:t.list_link_id,listName:t.list_name,listRecordId:t.list_record_id,outAutoDial:Ie(t.out_auto_dial),outAutoDialDelay:Number(t.out_auto_dial_delay),suggestedPhone:t.suggested_phone,suggestedTz:t.suggested_tz}}}function qP(e){var t,n,r,a=e.incomingItem,o=e.workitem,i=e.oldItem,s=e.displayNameFormat,c=void 0===s?"0":s;return{id:a.item_id,contactId:a.contact_id,itemKind:"scenario",state:a.state,mediaType:a.media_type,screenPopData:{web:_P(null===(t=a.screenpop_data)||void 0===t?void 0:t.web)},dispositionData:null==i?void 0:i.dispositionData,displayData:LP({isFlagged:Ie(a.is_flagged),firstName:o?o.data.contactInfo.firstName:null==i?void 0:i.displayData.firstName,lastName:o?o.data.contactInfo.lastName:null==i?void 0:i.displayData.lastName,displayName:(null==o?void 0:o.data.contactInfo)?Iv(c,null==o?void 0:o.data.contactInfo.firstName,null==o?void 0:o.data.contactInfo.lastName):null!==(n=null==i?void 0:i.displayData.displayName)&&void 0!==n?n:""},CP(a,i)),workitemData:o?LP({id:a.workitem_id||o.id,scenario_engine_id:o.scenario_engine_id,serviceId:a.service_id,serviceName:a.service_name,globalInteractionId:a.global_interaction_id,screenpopFormEnabled:Ie(a.screenpop_form_enabled),totalQueueTime:null!==(r=a.total_queue_time)&&void 0!==r?r:"0",attachedData:a.attached_data},o.data):null==i?void 0:i.workitemData}}var BP={onInteractionItemsRestored:{parameters:[]},onAssociatedItemTransferred:{parameters:[]},onAutoRejectIncomingEmail:{parameters:[]},onBeforeItemComplete:{parameters:[]},onCallDisconnected:{parameters:[]},onCallHeld:{parameters:[]},onCallMissed:{parameters:[]},onCallMuted:{parameters:[]},onCallRecordingStarted:{parameters:[]},onCallRecordingStopped:{parameters:[]},onCallResumed:{parameters:[]},onCallUnMuted:{parameters:[]},onChange:{parameters:[]},onChatPartyConnected:{parameters:[]},onDelegatedRASessionStart:{parameters:[]},onDidActivateAudioSessioniOS:{parameters:[]},onDidDeactivateAudioSessioniOS:{parameters:[]},onDispositionRescheduleUpdated:{parameters:[]},onExternalChatDisconnected:{parameters:[]},onInitialState:{parameters:[]},onItemAccepted:{parameters:[]},onActivateItemAttempt:{parameters:[]},onActiveItemChanged:{parameters:[]},onItemChanged:{parameters:[]},onItemCompleted:{parameters:[]},onItemDelivered:{parameters:[]},onItemFlagged:{parameters:[]},onItemRemoved:{parameters:[]},onItemUnflagged:{parameters:[]},onItemWrapUpStateEntered:{parameters:[]},onNewItem:{parameters:[]},onNewItemDelivered:{parameters:[]},onNoteUpdated:{parameters:[]},onPasteFromKB:{parameters:[]},onRtcCallDrop:{parameters:[]},onRtcCallMake:{parameters:[]},onShouldResetRtc:{parameters:[]},onTriggerScreenPop:{parameters:[]},onWorkitemLinkedWithContact:{parameters:[]}},GP={acceptCallPickup:{parameters:[]},acceptItem:{parameters:[]},postponeEmail:{parameters:[]},replyToEmail:{parameters:[]},activateItem:{parameters:[]},addAssociatedObject:{parameters:[]},addNote:{parameters:[]},agentChatClose:{parameters:[]},agentChatOpen:{parameters:[]},blindTransfer:{parameters:[]},cancelCallReservation:{parameters:[]},clearRemovedAssociatedItem:{parameters:[]},closeInternalChat:{parameters:[]},completeCallConference:{parameters:[]},completeEmiInteractions:{parameters:[]},completeItem:{parameters:[]},completeTransfer:{parameters:[]},completeTransferExplicit:{parameters:[]},createPotentialItem:{async:!0,parameters:[],result:void 0},createRtcCall:{parameters:[]},delegateRASessionStart:{parameters:[]},destroyCallConference:{parameters:[]},dialWorkitem:{async:!0,parameters:[],result:void 0},didActivateAudioSessioniOS:{parameters:[]},didDeactivateAudioSessioniOS:{parameters:[]},disconnectItem:{parameters:[]},dispatchDispositionData:{parameters:[]},fetchFormDefinition:{async:!0,parameters:[],result:void 0},flagItem:{parameters:[]},getScenarioVariables:{async:!0,parameters:[],result:void 0},holdItem:{parameters:[]},initiateCall:{async:!0,parameters:[],result:void 0},initiateChat:{async:!0,parameters:[],result:void 0},mergeAllCallsIntoConference:{parameters:[]},muteCallRecording:{parameters:[]},muteItem:{parameters:[]},onAgentCallPickupCancel:{parameters:[]},onAgentCallPickupNotify:{parameters:[]},onNotificationData:{parameters:[]},openInternalChat:{async:!0,parameters:[],result:void 0},pasteFromKB:{parameters:[]},qmStartCall:{parameters:[]},recordCall:{parameters:[]},rejectCallPickup:{parameters:[]},rejectItem:{parameters:[]},removeCallParty:{parameters:[]},replaceNote:{parameters:[]},reportProblemItem:{parameters:[]},reserveCall:{async:!0,parameters:[],result:void 0},resetMissedCalls:{parameters:[]},resumeItem:{parameters:[]},changeEmailService:{parameters:[]},sendEmailDraft:{parameters:[]},saveEmailDraft:{parameters:[]},saveOpenedSuggestionUrl:{parameters:[]},saveSuggestion:{parameters:[]},selectAssociatedObject:{parameters:[]},sendAgentNotificationResult:{parameters:[]},sendCustomFields:{parameters:[]},sendDtmf:{parameters:[]},sendRtcCallReset:{parameters:[]},sendScreenPopData:{parameters:[]},setActiveCrmScreen:{parameters:[]},setDisposition:{parameters:[]},setDispositionReschedule:{parameters:[]},setDispositionScheduledEvent:{parameters:[]},setFormPageId:{parameters:[]},setFormValues:{parameters:[]},setGroupChat:{parameters:[]},setNotes:{parameters:[]},setScenarioVariables:{parameters:[]},setScenarioVariablesBeforeComplete:{parameters:[]},singleStepConference:{async:!0,parameters:[],result:void 0},stopRecordingCall:{parameters:[]},toggleAssociatedActivityRecord:{parameters:[]},unmuteCallRecording:{parameters:[]},unmuteItem:{parameters:[]},updateNote:{parameters:[]},updateScreenPopData:{parameters:[]},useContact:{parameters:[]}};function HP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){HP(e,t,n[t])}))}return e}function WP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function VP(e){var t,n,r=e.item,a=e.party,o=e.sessionData,i=e.onContactFetched,s=e.onContactFetchError,c=Kh(Iv,o.displayNameFormat),u=Cy(a)?a.contactId:a.contact_id,l=Cy(a)?a.userId:a.user_id,d=Cy(a)?a.name:"",f=Cy(a)?a.firstName:a.first_name,_=Cy(a)?a.lastName:a.last_name,p=zP({},r);return l?(t=a,(n=zP({},p)).userId=l,n.contactId=void 0,n.displayData=WP(zP({},n.displayData),{firstName:f,lastName:_,callerName:c(f,_),displayName:c(f,_),number:t.phone}),p=n):u?p=function(e,t){p.contactId=u,p.userId=void 0;var n=c(f,_);p.displayData=WP(zP({},p.displayData),{firstName:f||p.displayData.firstName,lastName:_||p.displayData.lastName,callerName:d||p.displayData.callerName,number:t.phone?t.phone:p.displayData.number,displayName:n||p.displayData.displayName}),!ty(e,u)&&i&&YP({itemId:e.id,contactId:u,sessionData:o,onContactFetched:i,onContactFetchError:s});return p}(p,a):l||u||(p=function(e,t){var n=zP({},e);n.contactId=void 0,n.userId=void 0,Cy(t)?n.displayData=WP(zP({},n.displayData),{firstName:f||p.displayData.firstName,lastName:_||p.displayData.lastName,displayName:d||p.displayData.displayName,callerName:d||p.displayData.callerName,number:t.phone||p.displayData.number}):n.displayData=WP(zP({},n.displayData),{firstName:n.displayData.firstName||void 0,lastName:n.displayData.lastName||void 0,displayName:n.displayData.displayName||d,callerName:n.displayData.callerName||d,number:n.displayData.number||t.phone});return n}(p,a)),Cy(a)||(p=function(e,t){var n=zP({},e);if("auto_answer_timeout"in t){var r=t.auto_answer_timeout?+t.auto_answer_timeout:void 0;n=WP(zP({},n),{autoAnswerTimeout:r})}return n}(p,a)),p}function YP(e){var t=e.itemId,n=e.contactId,r=e.sessionData,a=e.onContactFetched,o=e.onContactFetchError;zC({id:n},r.serverOrigin).then((function(e){a({itemId:t,contactId:n,data:e[0]})})).catch((function(e){null==o||o({itemId:t,contactId:n}),v.error(z(e))}))}function QP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){QP(e,t,n[t])}))}return e}function XP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ZP(e){var t=e.displayData&&JP({},e.displayData);if(t)for(var n=0,r=["itemStartTime","stateStartTime","pendingStartTime","deliveredStartTime","acwStartTime"];n<r.length;n++){var a=r[n],o=t[a];o&&(t[a]=o)}return XP(JP({},e),{displayData:t})}function ek(e,t){var n=t.filter((function(e){return!sy(e)&&(!ay(e)&&(!e.voiceCallAccepted&&(!(!ly(e)||"delivery_pending"!==e.state)||(!(!_y(e)||!r(e))||(!(!iy(e)||!r(e))||(!(!dy(e)||!r(e))||void 0))))))})).map((function(e){return e.id}));return n.join(",")===e.join(",")?e:n;function r(e){return e.scenarioData&&"inbound"===e.scenarioData.direction&&"delivery_pending"===e.scenarioData.state}}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ak(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ok(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ik(e){return ik=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ik(e)}function sk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ok(e,t,n[t])}))}return e}function ck(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function uk(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?nk(e):t;var n}function lk(e,t){return lk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lk(e,t)}function dk(e){return function(e){if(Array.isArray(e))return tk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ik(e);if(t){var a=ik(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uk(this,n)}}var _k=v.withPrefix("@IS"),pk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lk(e,t)}(o,e);var t,n,r,a=fk(o);function o(){var e;return rk(this,o),ok(nk(e=a.apply(this,arguments)),"pendingConferenceItemIds",[]),ok(nk(e),"initiatedItems",{}),ok(nk(e),"pendingAssociatedTransfers",new Map),ok(nk(e),"pendingUsedContacts",new Set),ok(nk(e),"addAssociatedItemIds",(function(t){if(!gy(t)){var n=function(t,n){var r=sk({},t),a=(null==r?void 0:r.associatedItemIds)||[];a.includes(n)||(r.associatedItemIds=dk(a).concat([n]),e.updateItem(r))};e.stateData.items.forEach((function(e){var r=e.id!==t.id,a=function(e,n){var r,a,o;if((null===(r=e.workitemData)||void 0===r?void 0:r.id)&&(null===(a=e.workitemData)||void 0===a?void 0:a.id)===(null===(o=n.workitemData)||void 0===o?void 0:o.id))return!0;var i=t.contactId?"contactId":t.userId?"userId":void 0;return!!i&&e[i]===n[i]}(e,t),o=gy(e);r&&a&&!o&&(n(e,t.id),n(t,e.id))}))}})),ok(nk(e),"removeAssociatedIdFromItems",(function(t){e.stateData.items.forEach((function(n){var r;if(null===(r=n.associatedItemIds)||void 0===r?void 0:r.includes(t)){var a,o=sk({},n);o.associatedItemIds=null===(a=o.associatedItemIds)||void 0===a?void 0:a.filter((function(e){return e!==t})),e.updateItem(o)}}))})),ok(nk(e),"cleanAssociatedItems",(function(t){var n,r=null!==(n=null==t?void 0:t.associatedItemIds)&&void 0!==n?n:[];if(r.length){var a=function(t){var n=sk({},t);n.associatedItemIds=void 0,e.updateItem(n)};r.forEach((function(t){var n=e.findItem(t);n&&a(n)})),a(t)}})),ok(nk(e),"doAssociatedItemTransfer",(function(t){e.toClientDispatch.onAssociatedItemTransferred(t),queueMicrotask((function(){t.isConference||e.disconnectItem(t.associatedItemId)}))})),ok(nk(e),"createNewItem",(function(t){var n=t.itemKind,r=t.mediaType,a=t.init,o=t.activateItem,i=void 0===o||o,s=new Date,c={id:(0,C.v4)(),itemKind:n,state:"unknown",mediaType:r,displayData:{displayName:"",number:"",itemStartTime:s.getTime(),stateStartTime:s.getTime()},dispositionData:{disposition:{id:"",name:"Not Selected"}}},u=a(c);return e.addNewInteractionItem(c),e.addAssociatedItemIds(c),i&&(e.toClientDispatch.onActivateItemAttempt(c),e.produceState((function(e){e.activeItemId=c.id})),e.toClientDispatch.onActiveItemChanged(c)),u})),ok(nk(e),"createCallItem",(function(t,n,r){return e.createNewItem({itemKind:"preScenarioCall",mediaType:"voice",init:function(e){return e.callData={callId:t},e.userId=r,n&&(e.scenarioData={interactionStepId:n,mediaType:e.mediaType}),e}})})),ok(nk(e),"createInitiatedItem",(function(t,n){var r=t.itemKind,a=t.mediaType,o=t.phone,i=t.requestId,s=t.callData,c=t.userId,u=t.displayData,l=void 0===u?{}:u,d=t.contactId,f=t.origination,_=t.accessNumberId,p=t.workitemId,m=t.workItemData,g=t.notes,h=t.activateItem,y=void 0===h||h,v=t.formDefinitions,b=t.formData;return e.createNewItem({itemKind:r,activateItem:y,mediaType:a,init:function(t){_k.info("Create initiated item"),t.direction="outbound",t.displayData=ck(sk({},l),{displayName:l.displayName||Iv(n.displayNameFormat,l.firstName,l.lastName)}),t.displayData.number=o,t.userId=c,t.contactId=d,t.origination=f,t.accessNumberId=_,t.workitemId=p,t.workitemData=m,t.details={formDefinitions:v,formData:b},g&&t.dispositionData&&(t.dispositionData.notes=g),s&&(t.callData=s);var r={id:t.id},a=new Promise((function(n){r.failTimeout=setTimeout((function(){e.onNewItemRequestFailed(i,"new interaction request timeout expired")}),12e3),r.warnTimeout=setTimeout((function(){var t=e.findRequestItem(i);t&&e.updateItem(ck(sk({},t),{displayData:ck(sk({},t.displayData),{prolongedConnection:!0})}))}),4e3),r.resolve=function(){var a,o;clearTimeout(r.warnTimeout),clearTimeout(r.failTimeout),delete e.initiatedItems[i];var s=e.findRequestItem(i);((null==s||null===(a=s.displayData)||void 0===a?void 0:a.failed)||(null==s||null===(o=s.displayData)||void 0===o?void 0:o.prolongedConnection))&&e.updateItem(ck(sk({},s),{displayData:ck(sk({},s.displayData),{prolongedConnection:!1,failed:!1})})),n({id:t.id})},r.resolveFailed=function(a){clearTimeout(r.warnTimeout),clearTimeout(r.failTimeout),delete e.initiatedItems[i],n({id:t.id,error:a})}}));return e.initiatedItems[i]=r,a}})})),ok(nk(e),"onNewItemRequestFailed",(function(t,n){var r=e.findRequestItem(t);if(r){var a=ck(sk({},r.displayData||{}),{failed:!0}),o=r.callData?ck(sk({},r.callData),{callState:"failed",errorMessage:n}):void 0,i=ck(sk({},r),{itemKind:"failed",displayData:a,callData:o});e.updateItem(i)}var s=e.initiatedItems[t];s&&s.resolveFailed(new Error(n))})),e}return t=o,n=[{key:"isPhoneParty",value:function(e){return"phone"===e.role}},{key:"getPhoneParties",value:function(e){return e&&e.filter(this.isPhoneParty)}},{key:"isCallConference",value:function(e){return!!e&&(this.getPhoneParties(e)||[]).length>1}},{key:"getActiveItem",value:function(){var e=this.stateData.activeItemId;return e?this.findItem(e):void 0}},{key:"updateAllParties",value:function(e,t){var n=dk(this.getPhoneParties(e)||[]),r=n.findIndex((function(e){return e.id===t.id||e.userId&&e.userId===t.userId||e.contactId&&e.contactId===t.contactId||e.phone&&e.phone===t.phone}));return-1===r?n.push(t):n=dk(n.slice(0,r)).concat([t],dk(n.slice(r+1))),n}},{key:"onAddOrChangeParty",value:function(e){var t=this,n=this.findCallItem(e.callId),r=this.sessionConnector.getStateData();if(n&&this.isPhoneParty(e)){var a=dk(this.getPhoneParties(n.parties)||[]),o=a.length,i=a.findIndex((function(t){return t.id===e.id})),s=-1===i,c=!s&&1===a.length;s?a.push(e):a=dk(a.slice(0,i)).concat([e],dk(a.slice(i+1)));var u=this.updateAllParties(n.allParties,e),l=sk({},n);if(!o||c||e.contactId&&this.pendingUsedContacts.has(e.contactId))e.contactId&&(this.initializeFetchedContact(n,e.contactId),this.pendingUsedContacts.delete(e.contactId)),l=VP({item:l,sessionData:r,party:e,onContactFetched:function(n){var a=n.itemId,o=n.contactId,i=n.data,s=t.findItem(a);s&&s.contactId===o&&t.updateItemContactData(s,i,e,r.displayNameFormat)},onContactFetchError:function(e){var n=e.itemId,r=e.contactId,a=t.findItem(n);a&&a.contactId===r&&t.updateItemContactFetchFailed(a)}});else if(e.contactId){if(ty(n,e.contactId))return;this.initializeFetchedContact(n,e.contactId),YP({itemId:n.id,contactId:e.contactId,sessionData:r,onContactFetched:function(e){var n,a=e.itemId,o=e.contactId,i=e.data,s=t.findItem(a),c=null==s||null===(n=s.parties)||void 0===n?void 0:n.find((function(e){return e.contactId===o}));if(s&&c){var u=t.updatePartyContactData(s,i,c,r.displayNameFormat),l=t.addFetchedContactToItem(u,o,i);t.updateItem(l)}}})}a.length>1&&(l.isOrWasConference=!0),l=ck(sk({},l),{parties:a,allParties:u});var d=this.isCallConference(a);!this.isCallConference(n.parties)&&d&&(l.conferenceHostWasRemoved=!1);var f=a.find((function(e){return!!e.conferenceHostId})),_=f&&a.find((function(e){return e.id===f.conferenceHostId}));l.isConferenceHost=d&&!l.conferenceHostWasRemoved&&!_,this.updateItem(l),s&&!d&&this.addAssociatedItemIds(l)}}},{key:"onRemoveParty",value:function(e,t){var n=this.findCallItem(t);if(n&&n.parties){var r=n.parties.find((function(t){return t.id===e})),a=(null==r?void 0:r.conferenceHostId)===e,o=n.parties.filter((function(t){return t.id!==e})),i=this.getPhoneParties(o);if(i&&1===i.length)this.updateItemByLastConferenceParty({party:i[0],item:n,parties:o,conferenceHostRemoved:a});else{var s=ck(sk({},n),{parties:o});a&&(s.conferenceHostWasRemoved=!0),this.updateItem(s)}}}},{key:"updateItemByLastConferenceParty",value:function(e){var t=e.item,n=e.party,r=e.parties,a=e.conferenceHostRemoved,o=sk({},t);o.parties=r,o.userId=n.userId,o.contactId=n.contactId,o.callData=ck(sk({},o.callData),{callId:n.callId}),a&&(o.conferenceHostWasRemoved=a),o.displayData=ck(sk({},o.displayData),{displayName:n.name,number:n.phone,isConsultCall:void 0,hasConsultCalls:void 0}),this.updateItem(o),this.addAssociatedItemIds(o)}},{key:"dispatchAssociatedConference",value:function(e,t){var n=this.getAssociatedChatInteraction(t),r=Qh(n);e&&n&&r&&this.doAssociatedItemTransfer({transferToPartyId:e,associatedItemId:n.id,associatedInteractionStepId:r,isConference:!0})}},{key:"optionallyTransferAssociatedConference",value:function(e){var t=this,n=Yh(e),r=function(e){return null==e?void 0:e.displayData.hasConsultCalls}(e);if(n){var a=this.findItem(n);this.dispatchAssociatedConference(null==e?void 0:e.userId,a)}else r&&r.forEach((function(n){var r=t.findItem(n);t.dispatchAssociatedConference(null==r?void 0:r.userId,e)}))}},{key:"getAssociatedChatInteraction",value:function(e){var t,n=this;ko(e,"associatedItemIds",[]).forEach((function(e){if(iy(t=n.findItem(e)))return t}))}},{key:"updateIsConsultCallLink",value:function(e){this.updateItem(ck(sk({},e),{displayData:ck(sk({},e.displayData),{isConsultCall:e.displayData.potentialIsConsultCall,potentialIsConsultCall:void 0})}))}},{key:"updateHasConsultCallLinks",value:function(e){var t=this.findItem(e),n=this.getHasConsultCallIds(t),r=null==t?void 0:t.displayData.isConsultCall,a=r&&this.findItem(r);if(a){var o=Ot(a,(function(e){n.forEach((function(t){e.displayData.hasConsultCalls?e.displayData.hasConsultCalls.push(t):e.displayData.hasConsultCalls=[t],e.displayData.potentialIsConsultCall=void 0}))}));this.updateItem(o)}}},{key:"updateItemWithConsultCallLinks",value:function(e){var t=this;if(!e.displayData.potentialIsConsultCall)return this.updateItem(e);this.updateIsConsultCallLink(e),setTimeout((function(){t.updateHasConsultCallLinks(e.id)}),0)}},{key:"performQueuedAssociatedTransfer",value:function(e){if(e){var t,n=null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId;if(n&&this.pendingAssociatedTransfers.has(n)){var r=this.pendingAssociatedTransfers.get(n);r&&(this.pendingAssociatedTransfers.delete(n),this.doAssociatedItemTransfer(r))}}}},{key:"queueAssociatedExternalChatTransfer",value:function(e){var t=e.associatedChatItem,n=e.key,r=e.transferToPhone,a=e.transferToPartyId;if((r||a)&&t){if(!a&&r){var o=this.directoryConnector.getStateData().users.find((function(e){return e.extension===r}));a=null==o?void 0:o.userId}n&&a&&this.pendingAssociatedTransfers.set(n,{associatedInteractionStepId:Qh(t),associatedItemId:t.id,transferToPartyId:a})}}},{key:"findCallIdById",value:function(e){if(!e)return"";var t=this.findItem(e);return ko(t,"callData.callId","")}},{key:"findItem",value:function(e){return this.stateData.items.find((function(t){return t.id===e}))}},{key:"findWorkitem",value:function(e){return this.stateData.items.find((function(t){var n;return(null===(n=t.workitemData)||void 0===n?void 0:n.id)===e}))}},{key:"findItemByCallId",value:function(e){return this.stateData.items.find((function(t){var n;return(null===(n=t.callData)||void 0===n?void 0:n.callId)===e}))}},{key:"findItemsByContactId",value:function(e){return e?this.stateData.items.filter((function(t){return t.contactId===e})):[]}},{key:"findScenarioItem",value:function(e){return this.stateData.items.find((function(t){return t.scenarioData&&t.scenarioData.interactionStepId===e}))}},{key:"findItemByPrevStepId",value:function(e){return this.stateData.items.find((function(t){return t.scenarioData&&t.scenarioData.previousItemId===e}))}},{key:"findNewScenarioItem",value:function(e){var t=this.findScenarioItem(e.item_id);if(!t&&e.client_request_id&&(t=this.findRequestItem(e.client_request_id)),!t&&e.chat_request_id){var n=this.initiatedItems[e.chat_request_id];n&&(t=this.findItem(n.id),n.resolve())}return!t&&e.call_id&&(t=this.findCallItem(e.call_id)),t}},{key:"findRequestItem",value:function(e){return this.stateData.items.find((function(t){return t.callData&&t.callData.requestId===e}))}},{key:"findCallItem",value:function(e){return this.stateData.items.find((function(t){return t.callData&&t.callData.callId&&t.callData.callId===e}))}},{key:"searchItem",value:function(e){var t=void 0;return"itemId"in e?t=this.findItem(e.itemId):"callId"in e?t=this.findCallItem(e.callId):"scenarioItemId"in e&&(t=this.findScenarioItem(e.scenarioItemId)),t}},{key:"findOrCreateCallItem",value:function(e,t,n){var r;if(t&&t.offeredFor&&(r=this.findScenarioItem(t.offeredFor)),r){if(r.callData&&r.callData.callId===e)return r;var a=ck(sk({},r),{callData:ck(sk({},r.callData),{callId:e})});return this.updateItem(a),a}if(r=this.findCallItem(e))return r;if(t){var o=t.establishedFor||t.offeredFor;if(o){if((r=this.findScenarioItem(o))||(r=this.findItemByPrevStepId(o)),r){var i=r;return i.callData&&i.callData.callId||(i=ck(sk({},r),{callData:ck(sk({},r.callData),{callId:e})}),this.updateItem(i)),i}this.createCallItem(e,o,n)}}}},{key:"updateItem",value:function(e){var t=this;this.toClientDispatch.onItemChanged(e),this.produceState((function(n){var r=n.items.findIndex((function(t){return t.id===e.id}));if(-1!==r){!function(e){var t=e.localSettings,n=e.oldItem,r=e.newItem,a=PA(n),o=PA(r);AA()(a,o)||t.get("savedInteractionItems").then((function(e){var n=e||{};n[r.id]=o,t.set("savedInteractionItems",n)}))}({localSettings:t.localSettings,oldItem:n.items[r],newItem:e});var a=sk({},n.items[r],e),o=dk(n.items.slice(0,r)).concat([a],dk(n.items.slice(r+1)));n.items=o,n.modalItemIds=ek(n.modalItemIds,o)}}))}},{key:"produceItem",value:function(e,t){var n=this.findItem(e);n&&this.updateItem(Ot(n,t))}},{key:"updateItemDisplayData",value:function(e,t){var n=this.searchItem(e);n&&this.updateItem(ck(sk({},n),{displayData:sk({},n.displayData,t)}))}},{key:"initializeFetchedContact",value:function(e,t){var n;this.updateItem(ck(sk({},e),{fetchedContacts:ck(sk({},null!==(n=e.fetchedContacts)&&void 0!==n?n:{}),ok({},t,void 0))}))}},{key:"removePostfix",value:function(e){var t=this.findCallItem(e);(null==t?void 0:t.toPostfix)&&(t.toPostfix=void 0,this.updateItem(t))}},{key:"updatePostfix",value:function(e,t){var n=this.findCallItem(e);n&&(n.toPostfix=t,this.updateItem(n))}},{key:"updateCallData",value:function(e,t,n){var r=this.findOrCreateCallItem(e,n);if(r){var a=ck(sk({},r),{callData:sk({},r.callData,t)});this.updateItem(a)}}},{key:"updateCallState",value:function(e,t,n){this.updateCallData(e,{callState:t},n)}},{key:"getNotesAsString",value:function(e){return ey(e).join(";")}},{key:"getConsultArray",value:function(e){var t=ko(e,"displayData.hasConsultCalls",[]),n=ko(e,"displayData.isConsultCall");return n&&(t=dk(t).concat([n])),t}},{key:"resetConsultCallReferences",value:function(e){var t=this;this.getConsultArray(e).forEach((function(e){var n=t.findItem(e);n&&t.updateItem(ck(sk({},n),{displayData:ck(sk({},n.displayData),{hasConsultCalls:void 0,isConsultCall:void 0,potentialIsConsultCall:void 0})}))}))}},{key:"getHasConsultCallIds",value:function(e){var t=Yh(e);return this.stateData.items.map((function(e){var n=e.displayData.isConsultCall;if(n&&n===t)return e.id})).filter(xo)}},{key:"addPendingConferenceItemId",value:function(e){this.pendingConferenceItemIds=dk(this.pendingConferenceItemIds).concat([e])}},{key:"removePendingConferenceItemId",value:function(e){this.pendingConferenceItemIds=this.pendingConferenceItemIds.filter((function(t){return t!==e}))}},{key:"setCallStartTimeAndState",value:function(e,t,n){var r=this.findItemByCallId(e);if(r){var a=ck(sk({},r),{displayData:ck(sk({},r.displayData),{stateStartTime:t}),callData:ck(sk({},r.callData),{callState:n})});this.updateItem(a)}}},{key:"addNewInteractionItem",value:function(e){var t=this;this.toClientDispatch.onNewItem(e),this.produceState((function(n){if(!n.items.find((function(t){return t.id===e.id}))){var r,a,o;r=t.localSettings,o=PA(a=e),r.get("savedInteractionItems").then((function(e){var t=e||{};t[a.id]=o,r.set("savedInteractionItems",t)}));var i=dk(n.items).concat([e]);n.items=i,n.modalItemIds=ek(n.modalItemIds,i)}}))}},{key:"updateItemUserData",value:function(e,t){var n=sk({},e.displayData),r=this.sessionConnector.getStateData();"extension"in t&&(n.number=t.extension),wb(t)&&(n.emiUserType=t.user_type,n.emiPhotoUrl=t.photo_url,n.emiOwnerId=Cw(r,t.user_type),n.email=t.email);var a=ck(sk({},e),{displayData:n});this.updateItem(a)}},{key:"addFetchedContactToItem",value:function(e,t,n){return t?ck(sk({},e),{fetchedContacts:ck(sk({},e.fetchedContacts),ok({},t,n))}):e}},{key:"updatePartyContactData",value:function(e,t,n,r){var a,o,i=sk({},e);return Cy(n)?i.parties=null==e||null===(a=e.parties)||void 0===a?void 0:a.map((function(e){return e.id===n.id?ck(sk({},e),{firstName:t.firstName,lastName:t.lastName,name:Iv(r,t.firstName,t.lastName)}):e})):i.chatParties=null==e||null===(o=e.chatParties)||void 0===o?void 0:o.map((function(e){return e.party_id===n.party_id?ck(sk({},e),{first_name:t.firstName,last_name:t.lastName}):e})),i}},{key:"updateWorkItemContactData",value:function(e,t,n){var r=ck(sk({},e.displayData),{contactName:Iv(n,t.firstName,t.lastName),email:ko(t,"primaryEmail.emailAddress"),title:t.title,companyName:t.companyName,phones:ko(t,"phones")});r.number||(r.number=ko(t,"primaryPhone.phone"),r.numberType=ko(t,"primaryPhone.type"));var a=ck(sk({},e),{displayData:r}),o=this.addFetchedContactToItem(a,e.contactId,t);this.updateItem(o)}},{key:"updateItemContactFetchFailed",value:function(e){var t=ck(sk({},e),{contactFetchDidFail:!0});this.updateItem(t)}},{key:"updateItemContactData",value:function(e,t,n,r){var a;_k.info("Update item contact data");var o,i,s=t.firstName||e.displayData.firstName,c=t.lastName||e.displayData.lastName,u=ck(sk({},e.displayData),{firstName:s,lastName:c,displayName:Iv(r,s,c),email:null===(a=t.primaryEmail)||void 0===a?void 0:a.emailAddress,emails:t.emails,title:t.title,companyName:t.companyName,phones:t.phones});u.number||(u.number=null===(o=t.primaryPhone)||void 0===o?void 0:o.phone,u.numberType=null===(i=t.primaryPhone)||void 0===i?void 0:i.type);var l=ck(sk({},e),{contactFetchDidFail:!1,displayData:u}),d=n?this.updatePartyContactData(l,t,n,r):l,f=n&&Cy(n)?n.contactId:null==n?void 0:n.contact_id,_=this.addFetchedContactToItem(d,f,t);this.updateItem(_)}},{key:"setHoldStartTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();this.updateItem(ck(sk({},e),{displayData:ck(sk({},e.displayData),{holdStartTime:t})}))}},{key:"resetHoldStartTime",value:function(e){this.updateItem(ck(sk({},e),{displayData:ck(sk({},e.displayData),{holdStartTime:void 0})}))}},{key:"setItemCrmScreen",value:function(e,t,n){this.updateItem(Ot(e,(function(e){e.activeCrmScreen||(e.activeCrmScreen={}),e.activeCrmScreen[t]=n})))}}],n&&ak(t.prototype,n),r&&ak(t,r),o}(Ts.createBaseStateClass({name:"interactionState",controlEvents:GP,trackerEvents:BP,options:{synchronized:!0,authorized:!0},getInitialState:Ev,dependencies:["transport","localSettings","platformSpecific","currentTabDataProvider","sessionConnector","tabsConnector","timersConnector","directoryConnector","servicesDispositionsConnector","prerecordedMessagesConnector"]}));function mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hk(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function yk(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hk(o,r,a,i,s,"next",e)}function s(e){hk(o,r,a,i,s,"throw",e)}i(void 0)}))}}function vk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ck(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e,t,n){return Sk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wk(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Sk(e,t,n||e)}function wk(e){return wk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wk(e)}function Ik(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ck(e,t,n[t])}))}return e}function Ok(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Tk(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?gk(e):t;var n}function Ek(e,t){return Ek=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ek(e,t)}function Dk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Pk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ak(e){return function(e){if(Array.isArray(e))return mk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pk(e,t){if(e){if("string"==typeof e)return mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mk(e,t):void 0}}function kk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wk(e);if(t){var a=wk(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tk(this,n)}}function Rk(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Nk="production"==={FAST_REFRESH:!0,NODE_ENV:"production",USE_WS_PROXY:void 0,PUBLIC_URL:"https://localhost:3000/agent/communicator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,PRODUCT_BUILD:"",RELEASE_COMMENT:void 0,REACT_APP_ENABLE_CLIENT_BASED_SSO:!0,REACT_APP_SERVICE_WORKER_SCOPE:"/agent/communicator",REACT_APP_DISABLE_WEBSOCKET_MESSAGE_LOGGING:!1,REACT_APP_CURRENT_SERVER_ORIGIN:!1}.NEDE_ENV?5e3:5e4,Mk=v.withPrefix("@IS"),jk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ek(e,t)}(o,e);var t,n,r,a=kk(o);function o(){var e;vk(this,o),Ck(gk(e=a.apply(this,arguments)),"tenantId",void 0),Ck(gk(e),"dispositionSent",{}),Ck(gk(e),"waitingForServiceRAItems",{}),Ck(gk(e),"holdBeforeDialRequestTracker",Ya({timeoutMilliseconds:Nk})),Ck(gk(e),"workitemDataRequestTracker",Ya({timeoutMilliseconds:3e3})),Ck(gk(e),"globalCrmScreen",null),Ck(gk(e),"qualityTimeout",void 0),Ck(gk(e),"defaultDIDChatServiceId",void 0),Ck(gk(e),"defaultDIDCallServiceId",void 0),Ck(gk(e),"findAssociatedPotentialInteraction",(function(t){return e.stateData.items.find((function(e){return ny(e)&&e.contactId===t}))})),Ck(gk(e),"activateItem",(function(t){var n=e.findItem(t);n?(e.toClientDispatch.onActivateItemAttempt(n),n.id!==e.stateData.activeItemId?(n.scenarioData?e.transport.dispatch.agent_activate_item({item_id:n.scenarioData.interactionStepId}):n.internalChatData?e.transport.dispatch.agent_activate_item({item_id:n.internalChatData.userId}):"workitem"===n.mediaType&&e.transport.dispatch.agent_activate_item({item_id:n.id}),e.produceState((function(e){e.activeItemId=n.id})),e.toClientDispatch.onActiveItemChanged(n)):Mk.info("activateItem: item is already active: itemId ".concat(t))):Mk.error("activateItem: could not find item in state: itemId ".concat(t))})),Ck(gk(e),"onAgentUnreadChatSessions",(function(t){__(t.sessions,xo).forEach((function(t){var n=t.user_id,r=t.firstname,a=t.lastname;e.agentChatOpen({userId:n,firstName:r,lastName:a},{activateItem:!1})}))})),Ck(gk(e),"onAgentMessage",(function(t){var n=t.message;if(mu(n)&&n.chat_item_id&&e.transport.dispatch.agent_external_chat_pickup_item({item_id:n.chat_item_id}),_u(n)){var r,a,o=n.item_id,i=e.findScenarioItem(o),s=Xh(i);if(!i||!s)return;var c=null!==(a=null===(r=i.details)||void 0===r?void 0:r.formData)&&void 0!==a?a:{},u=c.values,l=void 0===u?{}:u,d=c.variables,f=void 0===d?{}:d,_=c.shownPageIndex,p=void 0===_?0:_;e.transport.dispatch.agent_message({user_id:n.user_id,message:Ok(Ik({message_type:"send_screenpop"},i.scenarioData),{serviceId:s,msg:{values:yP(l),variables:f},activePage:"".concat(p+1)})})}pu(n)}));var t=gk(e);Ck(gk(e),"initiateCall",function(){var e=yk((function(e){var n,r,a,o,i,s,c,u,l,d,f,_,p,m,g,h,y,v,b,C,S,w,I;return Rk(this,(function(O){switch(O.label){case 0:return n=e.phone,r=e.serviceId,a=e.contactId,o=e.userId,i=e.firstName,s=e.lastName,c=e.associatedRecords,u=void 0===c?[]:c,l=e.accessNumberId,d=e.withGlobalInteractionId,f=e.origination,_=t.sessionConnector.getStateData(),t.tenantId&&_.phoneNumber?(p=t.getActiveItem(),m="none"===d?void 0:Vh(d||p),g=vA(n),t.localSettings.set("adLastCalledNumber",g),[4,t.waitForDeliveredCallPutOnHold()]):[2,Promise.reject("initiateCall: no tenantId or no agent phone")];case 1:return O.sent(),h=t.transport.getNextRequestId(),y={callState:"requesting",requestId:h,destination:g},v=t.createInitiatedItem({origination:f,itemKind:"preScenarioCall",mediaType:"voice",phone:g,requestId:h,callData:y,userId:o,displayData:{firstName:i,lastName:s},contactId:a,accessNumberId:l},_),b=l&&!r?t.defaultDIDCallServiceId:r,t.transport.dispatch.e3pcc_dial(ka({request_id:h,tenant_id:t.tenantId,dn:_.phoneNumber,destination:g,contact_id:a,global_interaction_id:m,desktop_data:ka({associated_records:u.length?JSON.stringify(u):void 0}),access_number_id:l,service_id:b,first_name:i,last_name:s})),(C=Wh(t.stateData.items))?[4,v]:[3,3];case 2:S=O.sent(),w=S.id,S.error||(I=t.findItem(w))&&t.produceItem(I.id,(function(e){e.displayData.potentialIsConsultCall=C})),O.label=3;case 3:return[2,v]}}))}));return function(t){return e.apply(this,arguments)}}()),Ck(gk(e),"waitForDeliveredCallPutOnHold",(function(){var t=e.stateData.items.find((function(e){return _y(e)&&by(e)}));if(t&&t.callData){var n=e.holdBeforeDialRequestTracker.addRequest({requestId:t.callData.callId}).promise;return e.holdItem(t.id),n.catch((function(){}))}return Promise.resolve()})),Ck(gk(e),"initiateChat",(function(t){var n=t.serviceId,r=t.channel,a=t.address,o=t.contactId,i=t.accessNumberId,s=t.origination,c=t.displayData;if(e.tenantId){var u=e.sessionConnector.getStateData(),l="sms"===r?vA(a):void 0,d="sms"===r?l:a,f=e.transport.getNextRequestId(),_=e.findItemsByContactId(o).some((function(e){return _y(e)})),p=e.createInitiatedItem({itemKind:"preScenarioChat",mediaType:"chat",activateItem:!_,phone:l,origination:s,contactId:o,requestId:f,displayData:c,accessNumberId:i},u),m={request_id:f,channel:r,address:d};return(null==c?void 0:c.firstName)&&(m.first_name=null==c?void 0:c.firstName),(null==c?void 0:c.firstName)&&(m.last_name=null==c?void 0:c.lastName),n?m.service_id=n:(m.access_number_id=i,m.service_id=e.defaultDIDChatServiceId),o&&(m.contact_id=o),m.service_id||m.access_number_id?(e.transport.dispatch.agent_external_chat_session_init(m),p.then((function(t){var n=e.findAssociatedPotentialInteraction(o);return n&&e.removeItem(n),t}))):Promise.reject("initiateChat: no service_id nor access_number_id is provided")}return Promise.reject("initiateChat: no tenantId")}));var n=gk(e);Ck(gk(e),"reserveCall",function(){var e=yk((function(e){var t,r,a,o,i,s,c,u,l,d,f,_,p,m,g,h;return Rk(this,(function(y){return t=e.phone,r=e.serviceId,a=e.accessNumberId,o=e.contactId,i=e.associatedRecords,s=void 0===i?[]:i,c=e.withGlobalInteractionId,u=e.firstName,l=e.lastName,d=n.sessionConnector.getStateData(),f=function(e){return{status:"error",error:e}},n.tenantId?d.phoneNumber?(_=n.getActiveItem(),p="none"===c?void 0:Vh(c||_),m=a&&!r?n.defaultDIDCallServiceId:r,g=new Promise((function(e){return setTimeout((function(){e(f("9 - call reservation timeout expired"))}),5e3)})),h=n.transport.dispatch.e3pcc_reserve_call(ka({tenant_id:n.tenantId,contact_id:o,global_interaction_id:p,desktop_data:ka({associated_records:s.length?JSON.stringify(s):void 0}),access_number_id:a,service_id:m,destination:t,dn:d.phoneNumber,first_name:u,last_name:l})).then((function(e){return"0"===e.succeeded?f(e.reason):{status:"success",destination:e.destination,dtmf:e.dtmf,cancellationId:e.request_id}})),[2,Promise.race([g,h])]):[2,f("81 - no phoneNumber in session state")]:[2,f("81 - no tenantId in session state")]}))}));return function(t){return e.apply(this,arguments)}}()),Ck(gk(e),"cancelCallReservation",(function(t){var n=t.cancellationId;e.transport.dispatch.e3pcc_release_call({request_id:n})})),Ck(gk(e),"setDisposition",(function(t){var n=t.itemId,r=t.disposition,a=e.findItem(n);if(a){var o=Ok(Ik({},a),{dispositionData:a.dispositionData?Ok(Ik({},a.dispositionData),{disposition:r}):{disposition:r}});e.updateItem(o)}})),Ck(gk(e),"useContact",(function(t){var n=t.itemId,r=t.partyId,a=t.contactId,o=t.firstName,i=t.lastName,s=t.email,c=t.phone;e.pendingUsedContacts.add(a),e.transport.dispatch.agent_item_use_contact({item_id:n,party_id:r,contact_id:a,first_name:o,last_name:i});var u=e.findItem(n);u&&ly(u)&&(Ta(u.workitemData),e.produceItem(n,(function(e){e.contactId=a})),e.toClientDispatch.onWorkitemLinkedWithContact({workitemId:u.workitemData.id,contactId:a}));var l=Qh(e.getActiveItem());l&&s&&c&&e.updateReporter({interactionStepId:l,id:a,firstName:o,email:s,lastName:i,phone:c})})),Ck(gk(e),"addNote",(function(t){var n=t.itemId,r=t.note,a=e.findItem(n);if(a){var o,i=null!==(o=ey(a))&&void 0!==o?o:[],s=a.dispositionData?Ok(Ik({},a.dispositionData),{notes:Ak(i).concat([r])}):{notes:[r]},c=Ok(Ik({},a),{dispositionData:s});e.updateItem(c)}})),Ck(gk(e),"updateNote",(function(t){var n=t.itemId,r=t.note,a=e.findItem(n);if(a){var o=ey(a),i=a.dispositionData?Ok(Ik({},a.dispositionData),{notes:o?Ak(o.slice(0,-1)).concat([r]):[r]}):{notes:[r]},s=Ok(Ik({},a),{dispositionData:i});e.updateItem(s),e.toClientDispatch.onNoteUpdated(n,r)}})),Ck(gk(e),"replaceNote",(function(t){var n=t.itemId,r=t.note,a=e.findItem(n);if(a){var o=a.dispositionData?Ok(Ik({},a.dispositionData),{notes:[r]}):{notes:[r]},i=Ok(Ik({},a),{dispositionData:o});e.updateItem(i)}})),Ck(gk(e),"setNotes",(function(t){var n=t.itemId,r=t.notes,a=e.findItem(n);a&&e.updateItem(Ok(Ik({},a),{dispositionData:Ok(Ik({},a.dispositionData),{notes:r})}))})),Ck(gk(e),"onAgentWelcome",(function(t){var n=t.tenant_id,r=t.items;e.tenantId=n;var a=__(r,(function(e){return e}));e.restoreInteractionItems(a),e.retrieveAppConfig()})),Ck(gk(e),"retrieveAppConfig",(function(){e.transport.dispatch.application_config().then((function(t){var n=t.result,r=t.error;!(null==r?void 0:r.message)&&n?(e.defaultDIDCallServiceId=n[0].def_out_did_voice_service_id||void 0,e.defaultDIDChatServiceId=n[0].def_out_did_chat_service_id||void 0):Mk.error(null==r?void 0:r.message)}))})),Ck(gk(e),"sendAgentNotificationResult",(function(t){e.transport.dispatch.agent_notification_result({rc:t.callAccepted?0:1,item_id:t.id})})),Ck(gk(e),"onNotificationData",(function(t){var n=e.findScenarioItem(t.id),r=n&&Ok(Ik({},n),{displayData:Ok(Ik({},n.displayData),{displayName:t.name,callerName:t.name,number:t.phoneNumber,firstName:t.firstName,lastName:t.lastName}),userId:t.userId,contactId:t.contactId});r&&e.updateItem(r)}));var r=gk(e);Ck(gk(e),"onAgentItemCreated",function(){var e=yk((function(e){var t,n;return Rk(this,(function(a){switch(a.label){case 0:return"feature_record_voice"===e.interaction_type||r.tryToAutoRejectIncomingEmail(e).autoRejected?[2]:"workitem"!==e.media_type?[3,2]:[4,r.updateOrCreateWorkitem(e)];case 1:return n=a.sent(),[3,4];case 2:return[4,r.updateOrCreateScenarioItem(e)];case 3:n=a.sent(),a.label=4;case 4:return(t=n)?(r.getActiveItem()&&iy(t)&&t.externalChatData&&t.externalChatData.mobileLaunchPointId&&r.applyChatLaunchPoint(t.id,t.externalChatData.mobileLaunchPointId),[2]):[2]}}))}));return function(t){return e.apply(this,arguments)}}());var i=gk(e);Ck(gk(e),"onAgentNewItem",function(){var e=yk((function(e){var t,n;return Rk(this,(function(r){switch(r.label){case 0:return"feature_record_voice"===e.interaction_type||i.tryToAutoRejectIncomingEmail(e).autoRejected?[2]:"workitem"!==e.media_type?[3,2]:[4,i.updateOrCreateWorkitem(e)];case 1:return n=r.sent(),[3,4];case 2:return[4,i.updateOrCreateScenarioItem(e)];case 3:n=r.sent(),r.label=4;case 4:return(t=n)?(i.getActiveItem()||i.activateItem(t.id),[2]):[2]}}))}));return function(t){return e.apply(this,arguments)}}()),Ck(gk(e),"delegateRASessionStart",(function(t,n){e.toClientDispatch.onDelegatedRASessionStart({itemId:t,pin:n,_destination:"boss"})})),Ck(gk(e),"onAgentAutoComplete",(function(t){var n=t.item_id,r=e.findScenarioItem(n);r&&e.sendNotesDisposition(r)})),Ck(gk(e),"onAgentItemChanged",(function(t){var n,r,a;if("feature_record_voice"!==t.interaction_type&&!e.tryToAutoRejectIncomingEmail(t).autoRejected){if("completed"===t.state){var o="workitem"===t.media_type;e.updateLastItemWasWorkItem(o)}if("workitem"!==t.media_type){var i=e.sessionConnector.getStateData(),s=e.findScenarioItem(t.item_id);if(s){var c,u,l=RP(t,s,i.displayNameFormat),d=s.displayData.isRecording,f=l.displayData.isRecording;if(l.displayData.recordingChanging&&f!==d&&(l.displayData.recordingChanging=!1),!d&&f&&(null===(n=l.callData)||void 0===n?void 0:n.callId))e.toClientDispatch.onCallRecordingStarted(null===(c=l.callData)||void 0===c?void 0:c.callId);if(d&&!f&&(null===(r=l.callData)||void 0===r?void 0:r.callId))e.toClientDispatch.onCallRecordingStopped(null===(u=l.callData)||void 0===u?void 0:u.callId);var _=s.displayData.isFlagged,p=l.displayData.isFlagged;!_&&p&&e.toClientDispatch.onItemFlagged(l),_&&!p&&e.toClientDispatch.onItemUnflagged(l);var m="wrap_up_hold"===s.state||"wrap_up"===s.state,g="wrap_up_hold"===l.state||"wrap_up"===l.state;!m&&g&&(e.toClientDispatch.onItemWrapUpStateEntered(l),e.removeAssociatedIdFromItems(l.id)),!Py(s)&&Py(l)&&(null===(a=l.scenarioData)||void 0===a?void 0:a.serviceId)&&e.delegateIfRAEnabled(l.id,l.scenarioData.serviceId),Py(l)||e.startAutoAnswerTimer(l.id,l.autoAnswerTimeout);var h=Xh(l);"mobile"!==e.platformSpecific.clientType()&&_y(l)&&"delivered"===l.state&&h&&e.prerecordedMessagesConnector.dispatch.getServiceMessages(h);var y=l.scenarioData;y&&("delivery_pending"===y.state&&s&&s.scenarioData&&s.scenarioData.state!==y.state&&s.voiceCallAccepted&&e.transport.dispatch.agent_accept_item({item_id:y.interactionStepId}),"delivered"===y.state&&"outbound"===y.direction&&"chat"===y.mediaType&&s&&s.scenarioData&&s.scenarioData.state!==y.state&&"hold"!==s.scenarioData.state&&e.transport.dispatch.agent_accept_item({item_id:y.interactionStepId}),"delivered"===y.state&&sy(l)&&(e.transport.dispatch.agent_accept_item({item_id:y.interactionStepId}),e.sendItemThreePccRequest(l,"e3pcc_answer"),e.toClientDispatch.onItemAccepted(l))),e.copyClientOnlyDataToNewItem(s,l),y&&"completed"===y.state?e.completeAgentItem(l,s.state):"delivery_pending"===s.state&&"delivered"===l.state?(e.updateItemWithConsultCallLinks(l),e.optionallyCompletePendingConference(l),e.toClientDispatch.onItemDelivered(l),e.transport.dispatch.agent_item_intents_subscribe({item_id:t.item_id})):e.updateItem(l)}}else e.handleWorkItemChanged(t)}})),Ck(gk(e),"incrementMissedCallsAmount",(function(){e.produceState((function(e){e.missedCallsAmount++}))}));var s=gk(e);Ck(gk(e),"sendActivityFormValues",function(){var e=yk((function(e){var t,n,r,a,o,i,c,u,l,d,f,_;return Rk(this,(function(p){switch(p.label){case 0:return c=Qh(e),u=null===(n=e.details)||void 0===n||null===(t=n.formDefinitions)||void 0===t?void 0:t.find((function(e){return"SCREENPOP"===e.type})),u?[4,s.transport.dispatch.custom_activity_history_fields()]:[2];case 1:return l=p.sent(),Ta(d=l.result),f=HA(u,(null===(a=e.details)||void 0===a||null===(r=a.formData)||void 0===r?void 0:r.values)||{},d),_=QA(u,(null===(i=e.details)||void 0===i||null===(o=i.formData)||void 0===o?void 0:o.values)||{}),s.sendCustomFields(c,f,_),s.sendCustomFieldsToCampaignResults(e,d),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var c=gk(e);Ck(gk(e),"sendCustomFieldsToCampaignResults",function(){var e=yk((function(e,t){var n,r,a,o,i,s,u,l,d,f,_,p,m,g;return Rk(this,(function(h){return Ta(i=Xh(e)),s=c.sessionConnector.getStateData(),u=s.serverOrigin,l=s.loginId,d=e.workitemData||{},f=d.listLinkId,_=d.listRecordId,p=d.id,m=null===(r=e.details)||void 0===r||null===(n=r.formDefinitions)||void 0===n?void 0:n.find((function(e){return"SCREENPOP"===e.type})),f&&_&&p&&l&&m?(g=tP(m,(null===(o=e.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.values)||{},t),0===Object.keys(g).length||yc(u).sendActivityFormValues({requestBody:{serviceId:i,listLinkId:f,listRecordId:_,loginId:l,workitemId:p,values:g}}),[2]):(Mk.error("send form to campaign results: missing data for item ".concat(e.id)),[2])}))}));return function(t,n){return e.apply(this,arguments)}}()),Ck(gk(e),"getNotReceivedIntents",(function(e){var t,n,r=null===(n=e.details)||void 0===n||null===(t=n.formDefinitions)||void 0===t?void 0:t.find((function(e){return"SCREENPOP"===e.type}));if(!r)return[];var a=NA(r).reduce((function(t,n){var a,o,i,s,c,u=n.field;if("CUSTOM"!==u.type||"CHECKBOX"!==u.customType)return t;if(!nP({conditions:u.conditions,values:Ik({},null==e||null===(o=e.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.variables,KA((null==e||null===(s=e.details)||void 0===s||null===(i=s.formData)||void 0===i?void 0:i.values)||{},r)),intents:e.receivedIntentsIds}))return t;var l=u.autocheckIntentId;return l?((null===(c=e.receivedIntentsIds)||void 0===c?void 0:c.includes(l))||t.push(l),t):t}),[]);return a})),Ck(gk(e),"acceptItem",(function(t){var n,r=e.findItem(t),a=e.sessionConnector.getStateData();if(r)if(e.toClientDispatch.onItemAccepted(r),e.timersConnector.dispatch.stopTimer("autoAnswer/".concat(r.id)),(null===(n=r.workitemData)||void 0===n?void 0:n.outAutoDial)&&r.workitemData.outAutoDialDelay&&r.workitemData.suggestedPhone&&"mobile"!==e.platformSpecific.clientType()&&e.timersConnector.dispatch.startTimer({id:"workitemAutoDial/".concat(r.id),type:"workitemAutoDial",interactionId:r.id,timeoutInSeconds:r.workitemData.outAutoDialDelay}),_y(r)){e.updateItem(Ok(Ik({},r),{voiceCallAccepted:!0})),r.scenarioData&&"delivery_pending"===r.state&&e.transport.dispatch.agent_accept_item({item_id:Qh(r)}),e.disconnectOtherPendingOutboundCalls(r.id);var o=a.phoneDeviceCapabilities.canAnswer||"mobile"===e.platformSpecific.clientType()&&"phone_type_external"===a.phoneType;r.callData&&("offered"===r.callData.callState||"ringing"===r.callData.callState)&&o&&e.sendItemThreePccRequest(r,"e3pcc_answer")}else iy(r)?r.scenarioData&&e.transport.dispatch.agent_accept_item({item_id:Qh(r)}):ly(r)&&e.transport.dispatch.agent_accept_item({item_id:r.id})})),Ck(gk(e),"rejectItem",(function(t){e.disconnectItem(t)})),Ck(gk(e),"disconnectItem",(function(t){var n=e.findItem(t);if(n){if(ry(n)||oy(n))return e.agentChatClose(n.id);if(ay(n))return e.closeInternalChat(n.id);if(_y(n))return e.sendItemThreePccRequest(n,"e3pcc_disconnect");if(hy(n)&&n.isConferenceHost)return e.destroyCallConference(n.id);if(!iy(n))return ly(n)?e.stopItem(n.id):dy(n)?e.saveEmailDraft({itemId:n.id}):void 0;Qh(n)&&e.toClientDispatch.onExternalChatDisconnected(n)}})),Ck(gk(e),"holdItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{holdChanging:!0}),e.sendItemThreePccRequest(n,"e3pcc_hold"))})),Ck(gk(e),"resumeItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{holdChanging:!0}),e.disconnectOtherPendingOutboundCalls(n.id),e.sendItemThreePccRequest(n,"e3pcc_resume"))})),Ck(gk(e),"muteItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{mutedChanging:!0}),e.sendItemThreePccRequest(n,"e3pcc_mute"))})),Ck(gk(e),"unmuteItem",(function(t){var n=e.findItem(t);n&&(e.updateItemDisplayData({itemId:t},{mutedChanging:!0}),e.sendItemThreePccRequest(n,"e3pcc_unmute"))})),Ck(gk(e),"sendItemThreePccRequest",(function(t,n){var r,a=null===(r=t.callData)||void 0===r?void 0:r.callId;_y(t)&&a&&(Ta(e.tenantId),e.transport.dispatch[n]({call_id:a,tenant_id:e.tenantId}))})),Ck(gk(e),"handlePauseSymbols",(function(t,n){for(var r=t.split(",").filter((function(e){return""!==e})),a=[],o=0,i=0;i<t.split("").length;i++)","===t.split("")[i]?o++:","===t.split("")[i-1]&&(a.push(o),o=0);var s=a.map((function(e,t){return{pause:e,addedNumber:r[t]}}));s.length&&(s.forEach((function(t){e.sendPostfix(t.pause,t.addedNumber,n)})),e.removePostfix(n))})),Ck(gk(e),"sendPostfix",(function(t,n,r){setTimeout((function(){e.sendDtmf({dtmf:n,callId:r})}),1e3*t)})),Ck(gk(e),"saveEmailDraft",(function(t){var n,r,a=t.itemId,o=t.emailId,i=e.findItem(a),s=Qh(i);dy(i)&&(e.sendNotesDisposition(i),o?e.transport.dispatch.agent_item_save_draft({item_id:s,email_id:o}):null===(r=i.emailData)||void 0===r||null===(n=r.activeDrafts)||void 0===n||n.forEach((function(t){e.transport.dispatch.agent_item_save_draft({item_id:s,email_id:t.emailId})})))})),Ck(gk(e),"changeEmailService",(function(t){var n=t.itemId,r=t.emailId,a=t.serviceId,o=e.findItem(n);dy(o)?e.transport.dispatch.agent_edit_email({email_id:r,item_id:Qh(o),service_id:a}):v.error("changeEmailService: item by id ".concat(n," is not an email"))})),Ck(gk(e),"sendEmailDraft",(function(t){var n=t.itemId,r=t.emailId,a=e.findItem(n);dy(a)?e.transport.dispatch.agent_item_send_draft({item_id:Qh(a),email_id:r}):v.error("sendEmailDraft: item by id ".concat(n," is not an email"))}));var u=gk(e);Ck(gk(e),"completeItem",function(){var e=yk((function(e){var t,n;return Rk(this,(function(r){return(t=u.findItem(e))?(u.toClientDispatch.onBeforeItemComplete(t),u.setScenarioVariablesBeforeComplete(t),"failed"===t.itemKind||"potential"===t.itemKind||"preScenarioCall"===t.itemKind||"preScenarioChat"===t.itemKind?(u.removeItem(t),[2]):(u.sendNotesDisposition(t),u.sendActivityFormValues(t),t.scenarioData&&(n=u.findAssociatedPotentialInteraction(t.contactId))&&u.markItemThatAssociatedItemWasRemoved(n,t.id),u.transport.dispatch.agent_complete_item({item_id:Qh(t)}),[2])):[2]}))}));return function(t){return e.apply(this,arguments)}}()),Ck(gk(e),"disconnectOtherPendingOutboundCalls",(function(t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e.stateData.items[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;c.id!=t&&"outbound"===c.direction&&"delivery_pending"===c.state&&n.push(c.id)}}catch(wX){a=!0,o=wX}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}n.forEach((function(t){return e.disconnectItem(t)}))})),Ck(gk(e),"onThreePccRtcCallMake",(function(t){var n=t.request_id,r=t.sdp,a=t.number;e.toClientDispatch.onRtcCallMake({number:a,sdp:r,request_id:n,_destination:"boss"})})),Ck(gk(e),"onThreePccRtcCallDrop",(function(t){var n=t.request_id,r=t.number;e.toClientDispatch.onRtcCallDrop({number:r,request_id:n,_destination:"boss"})})),Ck(gk(e),"onThreePccOffered",(function(t){var n=t.call_id,r=t.fromName,a=t.fromNumber,o=t.user_data,i=t.auto_answer,s=e.findOrCreateCallItem(n,o&&o.item_id?{offeredFor:o.item_id}:void 0,o.calling_user_id);if(s){var c=Ik({},s.displayData,ka({displayName:r,callerName:r,number:a})),u=P(i);e.startAutoAnswerTimer(s.id,u),e.updateItem(Ok(Ik({},s),{displayData:c,autoAnswerTimeout:u,userId:o.calling_user_id,callData:Ok(Ik({},s.callData),{callState:"offered",fromNumber:a,incoming:!0})}));var l=e.sessionConnector.getStateData().phoneDeviceCapabilities.canAnswer;s.voiceCallAccepted&&l&&e.sendItemThreePccRequest(s,"e3pcc_answer")}})),Ck(gk(e),"onThreePccCallSetup",(function(t){var n=t.request_id,r=t.call_id,a=e.findRequestItem(n);a&&e.updateItem(Ok(Ik({},a),{callData:Ok(Ik({},a.callData),{callId:r})}));var o=e.initiatedItems[n];null==o||o.resolve()})),Ck(gk(e),"onThreePccDialing",(function(t){var n=t.call_id,r=t.toPostfix;e.updateCallData(n,{callState:"dialing",incoming:!1}),r&&e.updatePostfix(n,r)})),Ck(gk(e),"onThreePccRinging",(function(t){var n=t.call_id;e.updateCallState(n,"ringing")})),Ck(gk(e),"onThreePccEstablished",(function(t){var n=t.call_id,r=t.user_data;if(e.updateCallState(n,"established",r&&r.item_id?{establishedFor:r.item_id}:void 0),"desktop"===e.platformSpecific.clientType()){var a,o=e.findCallItem(n);(null==o||null===(a=o.callData)||void 0===a?void 0:a.callId)&&void 0!==o.toPostfix&&e.handlePauseSymbols(o.toPostfix,o.callData.callId)}if("mobile"===e.platformSpecific.clientType()){var i=e.stateData.items.filter((function(e){return"voice"===e.mediaType})),s=e.stateData.items.filter((function(e){return"inbound"===e.direction&&"voice"===e.mediaType})),c=e.stateData.items.find((function(e){var t;return"outbound"===e.direction&&"voice"===e.mediaType&&(null===(t=e.callData)||void 0===t?void 0:t.callId)===n}));i.length>1&&s.length&&!c&&e.toClientDispatch.onShouldResetRtc()}})),Ck(gk(e),"onThreePccDisconnected",(function(t){var n=t.call_id;if(e.updateCallState(n,"disconnected"),e.toClientDispatch.onCallDisconnected(n),"mobile"===e.platformSpecific.clientType()){var r=e.stateData.items.find((function(e){var t;return"voice"===e.mediaType&&(null===(t=e.callData)||void 0===t?void 0:t.callId)!==n})),a=e.stateData.items.filter((function(e){return"inbound"===e.direction&&"voice"===e.mediaType}));r&&a&&e.toClientDispatch.onShouldResetRtc()}})),Ck(gk(e),"onThreePccMuted",(function(t){var n=t.call_id;e.updateItemDisplayData({callId:n},{mutedChanging:!1}),e.updateCallData(n,{muted:!0}),e.toClientDispatch.onCallMuted(n)})),Ck(gk(e),"onThreePccUnMuted",(function(t){var n=t.call_id;e.updateItemDisplayData({callId:n},{mutedChanging:!1}),e.updateCallData(n,{muted:!1}),e.toClientDispatch.onCallUnMuted(n)})),Ck(gk(e),"onThreePccLocalHeld",(function(t){var n=t.call_id;e.updateCallState(n,"held"),e.holdBeforeDialRequestTracker.onResponse(n),e.toClientDispatch.onCallHeld(n);var r=e.findCallItem(n);r&&e.setHoldStartTime(r),e.updateItemDisplayData({callId:n},{holdChanging:!1})})),Ck(gk(e),"onThreePccLocalResumed",(function(t){var n=t.call_id;e.updateCallState(n,"established"),e.toClientDispatch.onCallResumed(n),e.updateItemDisplayData({callId:n},{holdChanging:!1})})),Ck(gk(e),"onThreePccPartyAddedOrChanged",(function(t){var n=e.formatCallParty(t);e.onAddOrChangeParty(n)})),Ck(gk(e),"onThreePccPartyRemoved",(function(t){var n=t.call_id,r=t.party_id;e.onRemoveParty(r,n)})),Ck(gk(e),"onThreePccDeviceSnapshot",(function(t){var n=t.calls;n&&Object.entries(n).forEach((function(t){var n=Dk(t,2),r=n[0],a=n[1],o=Date.now()-1e3*Number(a.duration);if(e.setCallStartTimeAndState(r,o,a.state),"ringing"===a.state||"offered"===a.state){var i=e.findCallItem(r),s=e.sessionConnector.getStateData().phoneDeviceCapabilities.canAnswer;(null==i?void 0:i.voiceCallAccepted)&&s&&(i.toPostfix&&"offered"===a.state&&e.handlePauseSymbols(i.toPostfix,i.id),e.sendItemThreePccRequest(i,"e3pcc_answer"))}if("held"===a.state){var c=e.findCallItem(r);c&&e.setHoldStartTime(c)}Object.values(a.parties).forEach((function(t){t.call_id=r,e.onThreePccPartyAddedOrChanged(t)}))}))})),Ck(gk(e),"onThreePccFailed",(function(t){var n=t.msg,r=t.request_id;e.onNewItemRequestFailed(r,n)})),Ck(gk(e),"onThreePccAudioQualityAlert",(function(t){var n=t.call_id,r=t.status,a=function(t){return e.findCallItem(t)||e.findCallItem(function(e){var t=e.split("/");return t[0]+"/"+(+t[1]+1)}(t))},o=a(n);if(o){var i=Boolean(r);e.updateItem(Ok(Ik({},o),{badQuality:i})),i&&(clearTimeout(e.qualityTimeout),e.qualityTimeout=setTimeout((function(){var t=a(n);t&&e.updateItem(Ok(Ik({},t),{badQuality:!1}))}),5e3))}})),Ck(gk(e),"createRtcCall",(function(t){return Ta(e.tenantId),e.transport.dispatch.e3pcc_rtc_call_made({number:t.number,sdp:t.sdp,status:t.status,request_id:t.requestId,tenant_id:e.tenantId})})),Ck(gk(e),"sendRtcCallReset",(function(t){return Ta(e.tenantId),e.transport.dispatch.e3pcc_rtc_call_reset({number:t.number,tenant_id:e.tenantId})})),Ck(gk(e),"sendDtmf",(function(t){var n=t.dtmf,r=t.callId;return Ta(e.tenantId),e.transport.dispatch.e3pcc_send_dtmf({dtmf:n,call_id:r,tenant_id:e.tenantId})})),Ck(gk(e),"onAgentChat",(function(t){var n=QD(t,e.sessionConnector.getStateData());e.findItem(n.id)||(e.addNewInteractionItem(n),1===e.stateData.items.length&&e.activateItem(n.id),e.getUserDetails(n.id,["extension"],(function(t){if(Ib(t)){var r=e.findItem(n.id);r&&r.userId===n.userId&&e.updateItemUserData(r,t)}}))),e.addAssociatedItemIds(n)})),Ck(gk(e),"onInternalMessage",(function(t){var n=YD(t);e.findItem(n.id)?e.updateState((function(e){return Ok(Ik({},e),{items:e.items.map((function(e){var t,r;return e.id===n.id?Ok(Ik({},e),{internalMessageData:Ok(Ik({},e.internalMessageData),{messages:Ak((null===(t=e.internalMessageData)||void 0===t?void 0:t.messages)||[]).concat(Ak((null===(r=n.internalMessageData)||void 0===r?void 0:r.messages)||[]))})}):e}))})})):e.addNewInteractionItem(n)})),Ck(gk(e),"createPotentialItem",(function(t){var n=t.contactId,r=t.displayName,a=t.firstName,o=t.groupChatId,i=t.groupChatMembers,s=t.lastName,c=t.phone,u=t.previousActivity,l=t.userId,d=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{activateItem:!0}).activateItem,f=e.stateData.items.find((function(e){return n&&e.contactId===n})),_=e.sessionConnector.getStateData(),p=_.displayNameFormat,m=_.serverOrigin;return f||(f=e.createNewItem({itemKind:"potential",mediaType:"unknown",init:function(t){return Mk.info("Create potential item"),t.contactId=n,t.userId=l,t.groupChatId=o,t.groupChatMembers=i,t.displayData.number=c,t.displayData.firstName=a,t.displayData.lastName=s,t.displayData.displayName=r||Iv(p,a,s),t.previousActivity=u?Ik({},u):void 0,n&&zC({id:n},m).then((function(r){if(!r)throw new Error("Failed to fetch a contact with id: "+n);var a=e.findItem(t.id);"potential"===(null==a?void 0:a.itemKind)&&(null==a?void 0:a.contactId)===n&&e.updateItemContactData(a,r[0],void 0,p)})).catch((function(e){return Mk.error(z(e))})),t}})),d&&e.activateItem(f.id),f})),Ck(gk(e),"openInternalChat",(function(t){var n=(new Date).getTime(),r={id:(0,C.v4)(),groupChatId:t.groupChatId,userId:t.userId,itemKind:"internalChat",mediaType:"agent_chat",direction:t.direction,displayData:{displayName:t.displayName,itemStartTime:n,stateStartTime:n}};return e.addNewInteractionItem(r),e.addAssociatedItemIds(r),r.id})),Ck(gk(e),"closeInternalChat",(function(t){var n=e.findItem(t);n&&(e.toClientDispatch.onItemCompleted({item:n}),e.removeItem(n))})),Ck(gk(e),"agentChatOpen",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{activateItem:!0,getUserDetails:!0},r=n.activateItem,a=void 0===r||r,o=n.getUserDetails,i=void 0===o||o,s=e.findItem(t.userId),c=e.sessionConnector.getStateData();if(s&&a)e.activateItem(s.id);else if(!s){var u=VD(t,"outbound",c);e.addNewInteractionItem(u),e.addAssociatedItemIds(u);var l=e.getActiveItem();a&&t.userId!==(null==l?void 0:l.userId)&&e.activateItem(u.id),i&&!t.number&&e.getUserDetails(t.userId,["extension"],(function(t){var n=e.findItem(u.id);n&&n.userId===u.userId&&e.updateItemUserData(n,t)}))}})),Ck(gk(e),"agentChatClose",(function(t){var n=e.findItem(t),r=e.sessionConnector.getStateData().userId;if(n){if(e.removeItem(n),oy(n))return;e.toClientDispatch.onItemCompleted({item:n}),n.internalChatData&&r&&e.transport.dispatch.agent_message({user_id:r,message:{session_id:n.internalChatData.userId,message_type:"close_chat"}})}}));var l=gk(e);Ck(gk(e),"getWorkitemInfo",function(){var e=yk((function(e){return Rk(this,(function(t){switch(t.label){case 0:return[4,l.transport.dispatch.agent_get_workitem_data({workitem_id:e})];case 1:return[2,UP(t.sent())]}}))}));return function(t){return e.apply(this,arguments)}}());var d=gk(e);Ck(gk(e),"fetchFormAndFormDataForWorkitem",function(){var e=yk((function(e){var t,n,r,a,o,i,s,c,u,l,f,_,p,m,g;return Rk(this,(function(h){switch(h.label){case 0:return c=d.sessionConnector.getStateData().serverOrigin,(null===(t=e.workitemData)||void 0===t?void 0:t.serviceId)?[4,yc(c).getFormDefinition({service:null===(n=e.workitemData)||void 0===n?void 0:n.serviceId})]:[2];case 1:return u=h.sent(),[4,yc(c).getActivityFormValues({record:null===(r=e.workitemData)||void 0===r?void 0:r.listRecordId,serviceId:null===(a=e.workitemData)||void 0===a?void 0:a.serviceId,link:null===(o=e.workitemData)||void 0===o?void 0:o.listLinkId})];case 2:return l=h.sent().variables,f=u.find((function(e){return"SCREENPOP"===e.type})),f?[4,d.fetchActivityFormRuntimeVariables(e,f)]:[2];case 3:return _=h.sent(),p=Ik({},l,_),m=(null===(s=e.details)||void 0===s||null===(i=s.formData)||void 0===i?void 0:i.values)||iP(f,p),d.produceItem(e.id,(function(t){var n;t.details={formDefinitions:u,formData:Ok(Ik({},(null===(n=e.details)||void 0===n?void 0:n.formData)||{}),{values:m,variables:l})}})),g=d.stateData.items.find((function(t){var n,r;return(null===(n=t.workitemData)||void 0===n?void 0:n.id)===(null===(r=e.workitemData)||void 0===r?void 0:r.id)&&t.id!==e.id})),g&&d.produceItem(g.id,(function(t){var n;t.details={formDefinitions:u,formData:Ok(Ik({},(null===(n=e.details)||void 0===n?void 0:n.formData)||{}),{values:m,variables:l})}})),[2,u]}}))}));return function(t){return e.apply(this,arguments)}}());var f=gk(e);Ck(gk(e),"fetchActivityFormRuntimeVariables",function(){var e=yk((function(e,t){var n,r,a,o;return Rk(this,(function(i){switch(i.label){case 0:return r=["Contact","Company","Case","ActivityHistory"],(a=((null===(n=t.layout)||void 0===n?void 0:n.pages)||[]).flatMap((function(e){return e.fields||[]})).flatMap((function(e){var t=e.field;return(null==t?void 0:t.variableNames)||[]})).filter((function(e){return!r.some((function(t){return e.startsWith(t)}))}))).length?(o=Qh(e),[4,f.getScenarioVariables({interactionStepId:o,variableNames:a})]):[2];case 1:return[2,i.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}());var _=gk(e);Ck(gk(e),"updateOrCreateWorkitem",function(){var e=yk((function(e){var t,n,r,a,o,i;return Rk(this,(function(s){switch(s.label){case 0:return(t=e.workitem_id)?_.workitemDataRequestTracker.hasRequest(t)?[4,null===(n=_.workitemDataRequestTracker.getRequest(t))||void 0===n?void 0:n.promise]:[3,2]:[2];case 1:s.sent(),s.label=2;case 2:return(r=_.findWorkitem(t))?(_.updateItem(r),[2,r]):(_.workitemDataRequestTracker.addRequest({requestId:t}),[4,_.getWorkitemInfo(t)]);case 3:return a=s.sent(),o=_.sessionConnector.getStateData().displayNameFormat,i=qP({incomingItem:e,workitem:a,displayNameFormat:o}),_.addNewInteractionItem(i),_.updateWorkItemByContact(i),queueMicrotask((function(){_.workitemDataRequestTracker.onResponse(t)})),[2,i]}}))}));return function(t){return e.apply(this,arguments)}}()),Ck(gk(e),"updateLastItemWasWorkItem",(function(t){e.produceState((function(e){e.lastItemWasWorkItem=t}))})),Ck(gk(e),"updateLastWorkItem",(function(t){e.produceState((function(e){e.lastWorkItem=t}))})),Ck(gk(e),"singleStepConference",(function(t){return e.initiateCall({phone:vA(t.phone),contactId:t.contactId,accessNumberId:t.accessNumberId,associatedRecords:t.associatedRecords,serviceId:t.serviceId,origination:"conference",firstName:t.firstName,lastName:t.lastName,userId:t.userId}).then((function(t){var n,r=e.findItem(t.id);return(null==r||null===(n=r.callData)||void 0===n?void 0:n.callId)&&e.addPendingConferenceItemId(t.id),t}))})),Ck(gk(e),"blindTransfer",(function(t){var n,r=t.item,a=t.phone,o=Vh(e.getActiveItem()),i=e.getNotesAsString(r),s=e.getAssociateChatItemId(r);if(e.tenantId&&(null===(n=r.callData)||void 0===n?void 0:n.callId)&&o){var c=vA(a);e.transport.dispatch.e3pcc_single_step_transfer({tenant_id:e.tenantId,call_id:r.callData.callId,destination:c,global_interaction_id:o,user_data:ka({dd:{notes:i,voice_signature:"0"},msg:{values:{},variables:{}},message_type:"transfer_data",chat_item_id:s})})}})),Ck(gk(e),"completeTransfer",(function(){var t=e.getActiveItem(),n=ko(t,"displayData.isConsultCall",""),r=e.findItem(n);r&&t&&e.completeTransferExplicit({mainCallItem:r,consultCallItem:t})})),Ck(gk(e),"completeTransferExplicit",(function(t){var n,r,a=t.mainCallItem,o=t.consultCallItem,i=null!==(r=null===(n=o.callData)||void 0===n?void 0:n.callId)&&void 0!==r?r:"";if(e.tenantId&&i){var s,c,u=e.getNotesAsString(a),l=null!==(c=null===(s=a.callData)||void 0===s?void 0:s.callId)&&void 0!==c?c:"",d=e.getAssociateChatItemId(a);e.transport.dispatch.e3pcc_complete_transfer({consult_call_id:i,call_id:l,tenant_id:e.tenantId,user_data:ka({dd:{notes:u,voice_signature:"0"},msg:{values:{},variables:{}},message_type:"transfer_data",chat_item_id:d})})}e.cleanAssociatedItems(o)})),Ck(gk(e),"completeCallConference",(function(){var t,n,r;n=e.stateData.items.find((function(e){var t;return null===(t=e.displayData.hasConsultCalls)||void 0===t?void 0:t.length}));var a=e.stateData.items.find((function(e){return!!e.displayData.isConsultCall}));n?r=n.displayData.hasConsultCalls:a?(n=e.stateData.items.find((function(e){return e.id===a.displayData.isConsultCall})),r=[a.id]):(n=e.getActiveItem())&&(r=e.getConsultArray(n));var o="wrap_up"!==(null==n?void 0:n.state),i=null==n||null===(t=n.callData)||void 0===t?void 0:t.callId;if(n&&r){var s=r.map((function(t){return{call_id:e.findCallIdById(t)}}));e.tenantId&&i&&s.length&&o&&(e.transport.dispatch.e3pcc_complete_conference({consult_calls:s,call_id:i,tenant_id:e.tenantId}),e.optionallyTransferAssociatedConference(n))}})),Ck(gk(e),"mergeAllCallsIntoConference",(function(){var t=e.stateData.items.filter((function(e){var t;return"voice"===e.mediaType&&(null===(t=e.callData)||void 0===t?void 0:t.callId)&&"wrap_up"!==e.state})).map((function(e){var t;return{call_id:null===(t=e.callData)||void 0===t?void 0:t.callId}}));if(t.length){var n=t[0];t.shift();var r=t.filter((function(e){return!!e}));e.tenantId&&(null==n?void 0:n.call_id)&&e.transport.dispatch.e3pcc_complete_conference({consult_calls:r,call_id:n.call_id,tenant_id:e.tenantId})}})),Ck(gk(e),"destroyCallConference",(function(t){var n=e.findCallIdById(t);e.tenantId&&n&&e.transport.dispatch.e3pcc_destroy_conference({call_id:n,tenant_id:e.tenantId})})),Ck(gk(e),"onExternalChatContent",(function(t){var n=t.content,r=t.item_id;Object.keys(n).sort((function(e,t){return Number(e)-Number(t)})).forEach((function(t){var a=n[t];switch(a.event){case"party_joined":case"party_changed":return e.onExternalChatPartyJoinedOrChanged(Ok(Ik({},a),{item_id:r}));case"party_left":return e.onExternalChatPartyLeft(Ok(Ik({},a),{item_id:r}));default:return null}}))})),Ck(gk(e),"onChannelOpened",(function(t){var n=t.item_id,r=t.channel,a=e.findScenarioItem(n);(null==a?void 0:a.scenarioData)&&e.updateItem(Ok(Ik({},a),{scenarioData:Ok(Ik({},a.scenarioData),{channel:r})}))})),Ck(gk(e),"onExternalChatPartyLeft",(function(t){e.removeChatParty(t)})),Ck(gk(e),"onExternalChatPartyJoinedOrChanged",(function(t){var n=e.hasChatPartyStatusChanged(t);e.addOrUpdateChatParty(t),n&&"connected"===t.status&&e.toClientDispatch.onChatPartyConnected(t),"external"===t.type&&e.updateItemByExternalChatParty(t)})),Ck(gk(e),"removeCallParty",(function(t){e.tenantId&&t&&e.transport.dispatch.e3pcc_remove_party({party_id:t.id,call_id:t.callId,tenant_id:e.tenantId})})),Ck(gk(e),"onAgentItemSentimentData",(function(t){var n,r=t.item_id,a=t.party_id,o=t.sentiment,i=e.findScenarioItem(r);if(null==i||null===(n=i.voiceTranscript)||void 0===n?void 0:n.length){for(var s=i.voiceTranscript,c=Ak(s),u=s.length-1;u>=0;u--){var l=s[u];if(l.partyId===a&&"voiceTranscriptMessage"===l.type){if(l.sentiment)break;c[u].sentiment={score:+o.score,label:o.label}}}e.updateItem(Ok(Ik({},i),{voiceTranscript:c}))}})),Ck(gk(e),"onAgentItemMessageAttributes",(function(t){var n,r,a=t.item_id,o=t.ref_msg_id,i=t.ref_party_id,s=t.sentiment,c=e.findScenarioItem(a),u=null==c||null===(n=c.voiceTranscript)||void 0===n?void 0:n.findIndex((function(e){return e.msgId===o&&e.partyId===i}));if((null==c||null===(r=c.voiceTranscript)||void 0===r?void 0:r.length)&&void 0!==u&&-1!==u){var l=Ak(c.voiceTranscript);l[u]=Ok(Ik({},l[u]),{sentiment:Tv(Number(s.score))}),e.updateItem(Ok(Ik({},c),{voiceTranscript:l}))}})),Ck(gk(e),"saveSuggestion",(function(t){var n,r,a,o,i,s,c=t.item_id,u=e.findScenarioItem(c);u?e.updateItem(Ok(Ik({},u),{botSuggestions:Ak(null!==(n=u.botSuggestions)&&void 0!==n?n:[]).concat(Ak((r=t,a=r.suggestions,o=r.party_id,i=r.timestamp,s=i?Number(i):Date.now(),__(a).map((function(e){var t,n={text:e.content,startTime:s,endTime:s,timestamp:s,msgId:"suggestion-".concat(s),type:"suggestion",format:e.format,partyId:o};return kA(e)&&(n.suggestionURLs=__(e.suggestion_urls),n.autoOpenURL=Ie(e.auto_open_url),n.openURLIn=null!==(t=e.open_url_in)&&void 0!==t?t:"AGENT_DESKTOP"),n})))))})):Mk.error("onAgentItemSuggestion: item not found by id: ".concat(c))})),Ck(gk(e),"onAgentItemSuggestion",(function(t){e.saveSuggestion(t)})),Ck(gk(e),"saveOpenedSuggestionUrl",(function(t,n){var r=e.findItem(t);if(r){var a=Ok(Ik({},r.openedBotSuggestionsUrls),Ck({},n,!0));e.updateItem(Ok(Ik({},r),{openedBotSuggestionsUrls:a}))}else Mk.error("saveOpenedSuggestionUrl: item not found by id: ".concat(t))})),Ck(gk(e),"onAgentVoiceTranscript",(function(t){var n=t.item_id,r=t.party_id,a=t.party_user_id,o=t.msg_id,i=t.transcript_data,s=e.findScenarioItem(n);if(s){var c=e.normalizeVoiceTranscriptText(i.t);if(c){var u,l=a===e.sessionConnector.getStateData().userId;e.updateItem(Ok(Ik({},s),{voiceTranscript:Ak(null!==(u=s.voiceTranscript)&&void 0!==u?u:[]).concat([{text:c,partyId:r,confidence:+i.c,startTime:+i.s,endTime:+i.e,msgId:o,type:"voiceTranscriptMessage",isSelf:l,format:"TEXT"}])}))}}})),Ck(gk(e),"onAgentItemIntent",(function(t){e.saveIntent(t),e.performIntentAutocheck(t)})),Ck(gk(e),"saveIntent",(function(t){var n,r=e.findScenarioItem(t.item_id);r&&e.updateItem(Ok(Ik({},r),{receivedIntentsIds:Ak(null!==(n=r.receivedIntentsIds)&&void 0!==n?n:[]).concat([t.intent_id])}))})),Ck(gk(e),"performIntentAutocheck",(function(t){var n=e.findScenarioItem(t.item_id);n&&e.updateItem(Ot(n,(function(e){var n,r,a,o,i=null===(r=e.details)||void 0===r||null===(n=r.formDefinitions)||void 0===n?void 0:n.find((function(e){return"SCREENPOP"===e.type})),s=null==i||null===(o=i.layout)||void 0===o||null===(a=o.pages)||void 0===a?void 0:a.flatMap((function(e){return e.fields})).filter((function(e){var n=e.field;return"CUSTOM"===(null==n?void 0:n.type)&&"CHECKBOX"===n.customType&&n.autocheckIntentId===t.intent_id}));null==s||s.forEach((function(t){e.details.formData.values[t.field.name]=!0}))})))})),Ck(gk(e),"onAgentCallWaitingNotifyAudio",(function(t){var n=t.notify_state;e.produceState((function(e){e.callsWaitingInQueue=Ie(n)}))})),Ck(gk(e),"pasteFromKB",(function(t,n){dy(e.findItem(t))||e.activateItem(t),e.toClientDispatch.onPasteFromKB(t,n)})),Ck(gk(e),"recordCall",(function(t){var n=e.sessionConnector.getStateData().userId;if(n&&t){e.updateItemDisplayData({scenarioItemId:t},{recordingChanging:!0});var r={user_id:n,item_id:t};e.transport.dispatch.agent_qm_record_start(r)}})),Ck(gk(e),"stopRecordingCall",(function(t){if(t){e.updateItemDisplayData({scenarioItemId:t},{recordingChanging:!0});var n={item_id:t};e.transport.dispatch.agent_qm_record_stop(n)}})),Ck(gk(e),"qmStartCall",(function(t){e.transport.dispatch.agent_qm_call_start({item_id:t.itemId,mode:t.mode,extension:t.extension})})),Ck(gk(e),"muteCallRecording",(function(t){t&&e.transport.dispatch.agent_qm_record_mute({item_id:t})})),Ck(gk(e),"unmuteCallRecording",(function(t){t&&e.transport.dispatch.agent_qm_record_unmute({item_id:t})})),Ck(gk(e),"reportProblemItem",(function(t,n){t&&n&&e.transport.dispatch.agent_mark_problem_item({reported_problem:t,item_id:n})})),Ck(gk(e),"flagItem",(function(t,n){t&&e.transport.dispatch.agent_flag_item({item_id:t,mode:n})})),Ck(gk(e),"updateScreenPopData",(function(t){var n,r,a,o,i,s,c=t.itemId,u=t.customData,l=t.raSessionPin,d=t.raSessionId,f=e.findItem(c),_=Ey(e.stateData.items,f);if(_){var p,m,g=Qh(f),h=Ok(Ik({},_.screenPopData),{serviceId:Xh(_),msg:{values:yP(null==f||null===(r=f.details)||void 0===r||null===(n=r.formData)||void 0===n?void 0:n.values),variables:null!==(p=null==f||null===(o=f.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.variables)&&void 0!==p?p:{},shownPageIndex:null!==(m=null==f||null===(s=f.details)||void 0===s||null===(i=s.formData)||void 0===i?void 0:i.shownPageIndex)&&void 0!==m?m:0}});if(u&&(h.transferData=u),l&&d){var y=e.sessionConnector.getStateData().serverOrigin;h.nativeremoteassist={type:"nativeremoteassist",pin:l,action:"JOIN",baseUrl:"".concat(y,"/ra/viewer"),sessionId:d,popUponAnswer:!0}}e.transport.dispatch.agent_update_screenpop({item_id:g,screenpop_data:hP(h,_.associatedObjects,_.activeCrmScreen)})}})),Ck(gk(e),"sendScreenPopData",(function(t){var n=e.findItem(t.targetItemId),r=Ey(e.stateData.items,n),a=Ok(Ik({},null==r?void 0:r.screenPopData),{serviceId:Xh(r),msg:{values:{},variables:{}}});if(t.customData&&(a.transferData=t.customData),t.raSessionPin&&t.raSessionId){var o=e.sessionConnector.getStateData().serverOrigin;a.nativeremoteassist={type:"nativeremoteassist",pin:t.raSessionPin,action:"JOIN",baseUrl:"".concat(o,"/ra/viewer"),sessionId:t.raSessionId,popUponAnswer:!0}}e.transport.dispatch.agent_send_screenpop({item_id:t.userItemId,user_id:t.userId,screenpop_data:hP(a,void 0,null==r?void 0:r.activeCrmScreen)})})),Ck(gk(e),"setScenarioVariables",(function(t,n){if(!n){var r=e.getActiveItem();n=null==r?void 0:r.id}n&&e.transport.dispatch.agent_set_scenario_variables({item_id:n,values:t})})),Ck(gk(e),"getScenarioVariables",(function(t){var n=t.itemId,r=t.interactionStepId,a=t.variableNames,o=r||(n?Qh(e.findItem(n)):void 0);return o?e.transport.dispatch.agent_get_scenario_variables({item_id:o,names:a.join(",")}).then((function(e){return e.values})):Promise.reject("Can't resolve interactionStepId")})),Ck(gk(e),"setScenarioVariablesBeforeComplete",(function(t){var n=e.createCompletionScenarioVariables(t);e.setScenarioVariables(n,Qh(t))})),Ck(gk(e),"setDispositionReschedule",(function(t,n){var r=e.findItem(t),a=ko(r,"dispositionData.disposition",{id:"",name:""});if(r){var o=Ok(Ik({},r),{dispositionData:Ok(Ik({},r.dispositionData),{disposition:Ik({},a,n)})});e.updateItem(o),e.toClientDispatch.onDispositionRescheduleUpdated(t,n)}})),Ck(gk(e),"setDispositionScheduledEvent",(function(t){e.produceItem(t,(function(e){e.dispositionData||(e.dispositionData={}),e.dispositionData.disposition||(e.dispositionData.disposition={id:"",name:""}),e.dispositionData.disposition.calendarEntryExists=!0}))})),Ck(gk(e),"addAssociatedObject",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1,primary:!1},a=e.findItem(t);if(a){var o=e.addAssociatedRecordToItem(a,n,r);e.updateItem(o)}})),Ck(gk(e),"toggleAssociatedActivityRecord",(function(t,n){var r=e.findItem(t);r&&e.updateItem(Ot(r,(function(e){Ta(e.associatedObjects);var t=e.associatedObjects.selected.indexOf(n);-1===t?e.associatedObjects.selected.push(n):e.associatedObjects.selected.splice(t,1),e.associatedObjects.touched=!0})))})),Ck(gk(e),"setActiveCrmScreen",(function(t,n,r){var a=e.findItem(t);if(a)if(fy(a))if(vy(a)){var o=e.findItem(ko(a,"displayData.isConsultCall",""));o&&e.setItemCrmScreen(o,n,r)}else e.setItemCrmScreen(a,n,r);else ly(a)?e.globalCrmScreen=Ck({},n,r):e.setItemCrmScreen(a,n,r)}));var p=gk(e);Ck(gk(e),"fetchFormDefinition",function(){var e=yk((function(e){return Rk(this,(function(t){return ly(e)?[2,p.fetchFormAndFormDataForWorkitem(e)]:[2,p.fetchFormDefinitionForScenarioItem(e)]}))}));return function(t){return e.apply(this,arguments)}}());var m=gk(e);return Ck(gk(e),"fetchFormDefinitionForScenarioItem",function(){var e=yk((function(e){var t,n,r,a,o,i,s,c,u,l,d,f;return Rk(this,(function(_){switch(_.label){case 0:return(null===(t=e.scenarioData)||void 0===t?void 0:t.serviceId)?(i=m.sessionConnector.getStateData().serverOrigin,[4,yc(i).getFormDefinition({service:null===(n=e.scenarioData)||void 0===n?void 0:n.serviceId})]):[2];case 1:return s=_.sent(),[4,yc(i).getActivityFormValues({serviceId:null===(r=e.scenarioData)||void 0===r?void 0:r.serviceId,contactId:e.contactId||""})];case 2:return c=_.sent().variables,u=s.find((function(e){return"SCREENPOP"===e.type})),u?[4,m.fetchActivityFormRuntimeVariables(e,u)]:[2];case 3:return l=_.sent(),d=Ik({},c,l),f=(null===(o=e.details)||void 0===o||null===(a=o.formData)||void 0===a?void 0:a.values)||iP(u,d),m.produceItem(e.id,(function(t){var n;t.details={formDefinitions:s,formData:Ok(Ik({},(null===(n=e.details)||void 0===n?void 0:n.formData)||{}),{values:f,variables:c})}})),[2,s]}}))}));return function(t){return e.apply(this,arguments)}}()),Ck(gk(e),"setGroupChat",(function(t,n){var r=n.groupChatId,a=n.groupChatMembers,o=e.findItem(t);o&&e.updateItem(Ok(Ik({},o),{groupChatId:r,groupChatMembers:a}))})),Ck(gk(e),"setFormValues",(function(t,n){e.produceItem(t,(function(e){var t,r,a;e.details=Ok(Ik({},e.details),{formData:Ok(Ik({},null===(t=e.details)||void 0===t?void 0:t.formData),{values:Ik({},null===(a=e.details)||void 0===a||null===(r=a.formData)||void 0===r?void 0:r.values,n)})})}))})),Ck(gk(e),"setFormPageId",(function(t,n){var r,a,o,i,s,c=e.findItem(t);if(c){var u=null===(a=c.details)||void 0===a||null===(r=a.formDefinitions)||void 0===r?void 0:r.find((function(e){return"SCREENPOP"===e.type})),l=null==u||null===(i=u.layout)||void 0===i||null===(o=i.pages)||void 0===o?void 0:o.findIndex((function(e){return e.id===n}));e.updateItem(Ok(Ik({},c),{details:Ok(Ik({},c.details),{formData:Ok(Ik({},null===(s=c.details)||void 0===s?void 0:s.formData),{shownPageIndex:l})})}))}})),Ck(gk(e),"completeEmiInteractions",(function(t){var n=t.emiType,r=t.newAccountId;e.stateData.items.filter((function(e){var t,a,o=null==e||null===(t=e.displayData)||void 0===t?void 0:t.emiUserType,i=null==e||null===(a=e.displayData)||void 0===a?void 0:a.emiOwnerId;return o&&-1!==Sw(n).indexOf(o)&&i!==r})).forEach((function(t){return e.agentChatClose(t.id)}))})),Ck(gk(e),"dialWorkitem",(function(t){var n,r,a,o,i,s,c,u,l,d,f,_,p=t.workitemItemId,m=t.phoneNumber,g=e.sessionConnector.getStateData();if(!e.tenantId)return Promise.resolve({id:p,error:new Error("not authorized")});if(!g.phoneNumber)return Promise.resolve({id:p,error:new Error("your user has no phone")});var h=e.findItem(p);if(!h)return Promise.resolve({id:p,error:new Error("item not found")});if(!ly(h)&&!h.workitemData)return Promise.resolve({id:p,error:new Error("item is not workitem")});Ta(h.workitemData);var y=Vh(h);if(!y)return Promise.resolve({id:p,error:new Error("global interaction id not found")});var v=m||h.workitemData.suggestedPhone;if(!v)return Promise.resolve({id:p,error:new Error("workitem without phone number")});var b=vA(v),C=e.transport.getNextRequestId(),S={callState:"requesting",requestId:C,destination:b},w=e.createInitiatedItem({itemKind:"preScenarioCall",mediaType:"voice",phone:b,requestId:C,callData:S,displayData:{lastName:(null===(n=h.displayData)||void 0===n?void 0:n.lastName)||(null===(r=h.displayData)||void 0===r?void 0:r.displayName),firstName:null===(a=h.displayData)||void 0===a?void 0:a.firstName,displayName:null===(o=h.displayData)||void 0===o?void 0:o.displayName},contactId:h.contactId,workitemId:null===(i=h.workitemData)||void 0===i?void 0:i.id,notes:null===(s=h.dispositionData)||void 0===s?void 0:s.notes,workItemData:h.workitemData,formDefinitions:null===(c=h.details)||void 0===c?void 0:c.formDefinitions,formData:null===(u=h.details)||void 0===u?void 0:u.formData,origination:"workitem"},g);return e.transport.dispatch.e3pcc_dial({request_id:C,tenant_id:e.tenantId,global_interaction_id:y,service_id:null===(l=h.workitemData)||void 0===l?void 0:l.serviceId,workitem_id:null===(d=h.workitemData)||void 0===d?void 0:d.id,scenario_engine_id:null===(f=h.workitemData)||void 0===f?void 0:f.scenario_engine_id,contact_id:h.contactId,dn:g.phoneNumber,destination:b,disregard_calling_hours:"0",ani_data:(null===(_=h.workitemData)||void 0===_?void 0:_.aniData)?{proposed_ani:h.workitemData.aniData.proposedAni,state:h.workitemData.aniData.state}:void 0}),e.timersConnector.dispatch.stopTimer("workitemAutoDial".concat(h.id)),w})),Ck(gk(e),"dispatchDispositionData",(function(t){var n=e.findItem(t);n&&e.sendNotesDisposition(n)})),Ck(gk(e),"didActivateAudioSessioniOS",(function(){e.toClientDispatch.onDidActivateAudioSessioniOS()})),Ck(gk(e),"didDeactivateAudioSessioniOS",(function(){e.toClientDispatch.onDidDeactivateAudioSessioniOS()})),Ck(gk(e),"sendCustomFields",(function(t,n,r){Object.keys(r).length&&e.transport.dispatch.agent_item_custom_fields({item_id:t,type:"report",values:r}),Object.keys(n).length&&e.transport.dispatch.agent_item_custom_fields({item_id:t,type:"activity",values:n})})),Ck(gk(e),"postponeEmail",(function(t){var n=e.findItem(t);if(!n)return Mk.error("postponeEmail - item not found by id: ",t);e.stopItem(Qh(n))})),Ck(gk(e),"replyToEmail",(function(t){var n=e.findItem(t);if(!n)return Mk.error("replyToEmail - item not found by id: ",t);e.transport.dispatch.agent_accept_item({item_id:Qh(n)})})),Ck(gk(e),"clearRemovedAssociatedItem",(function(t){var n=e.findItem(t);n&&e.produceState((function(e){var t=e.items.findIndex((function(e){return e.id===n.id}));delete e.items[t].removedAssociatedItemId}))})),Ck(gk(e),"onAgentCallPickupNotify",(function(t){e.produceState((function(e){e.callPickupNotifications.push(jP(t))}))})),Ck(gk(e),"onAgentCallPickupCancel",(function(t){var n=t.request_id;e.produceState((function(e){var t=e.callPickupNotifications.findIndex((function(e){return e.requestId===n}));-1!==t&&e.callPickupNotifications.splice(t,1)}))})),Ck(gk(e),"acceptCallPickup",(function(t){var n=t.requestId,r=t.legId,a=t.replyTo,o=e.stateData.callPickupNotifications.find((function(e){return e.requestId===n})),i=r||(null==o?void 0:o.legId),s=a||(null==o?void 0:o.replyTo);o||i&&s?(e.transport.dispatch.agent_call_pickup_accept({request_id:n,leg_id:i,reply_to:s}),e.produceState((function(e){e.callPickupNotifications=[]}))):console.warn("acceptCallPickup - no call pickup with id ".concat(n))})),Ck(gk(e),"rejectCallPickup",(function(t){var n=t.requestId,r=t.legId,a=t.replyTo,o=e.stateData.callPickupNotifications.find((function(e){return e.requestId===n})),i=r||(null==o?void 0:o.legId),s=a||(null==o?void 0:o.replyTo);o||i&&s?(e.transport.dispatch.agent_call_pickup_reject({request_id:n,leg_id:i,reply_to:s}),e.produceState((function(e){var t=e.callPickupNotifications.findIndex((function(e){return e.requestId===n}));-1!==t&&e.callPickupNotifications.splice(t,1)}))):console.warn("rejectCallPickup - no call pickup with id ".concat(n))})),Ck(gk(e),"resetMissedCalls",(function(){e.produceState((function(e){e.missedCallsAmount=0}))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,e3pcc_rtc_call_make:this.onThreePccRtcCallMake,e3pcc_rtc_call_drop:this.onThreePccRtcCallDrop,e3pcc_offered:this.onThreePccOffered,e3pcc_call_setup:this.onThreePccCallSetup,e3pcc_dialing:this.onThreePccDialing,e3pcc_ringing:this.onThreePccRinging,e3pcc_established:this.onThreePccEstablished,e3pcc_disconnected:this.onThreePccDisconnected,e3pcc_muted:this.onThreePccMuted,e3pcc_unmuted:this.onThreePccUnMuted,e3pcc_local_held:this.onThreePccLocalHeld,e3pcc_local_resumed:this.onThreePccLocalResumed,e3pcc_party_added:this.onThreePccPartyAddedOrChanged,e3pcc_party_changed:this.onThreePccPartyAddedOrChanged,e3pcc_party_removed:this.onThreePccPartyRemoved,e3pcc_device_snapshot:this.onThreePccDeviceSnapshot,e3pcc_failed:this.onThreePccFailed,e3pcc_audio_quality_alert:this.onThreePccAudioQualityAlert,agent_message:this.onAgentMessage,agent_unread_chat_sessions:this.onAgentUnreadChatSessions,agent_item_created:this.onAgentItemCreated,agent_new_item:this.onAgentNewItem,agent_item_changed:this.onAgentItemChanged,agent_item_intent:this.onAgentItemIntent,agent_item_pre_complete:this.onAgentAutoComplete,agent_chat:this.onAgentChat,agent_internal_message:this.onInternalMessage,agent_external_chat_party_left:this.onExternalChatPartyLeft,agent_external_chat_content:this.onExternalChatContent,agent_external_chat_party_joined:this.onExternalChatPartyJoinedOrChanged,agent_external_chat_party_changed:this.onExternalChatPartyJoinedOrChanged,agent_external_chat_channel_opened:this.onChannelOpened,agent_call_waiting_notify_audio:this.onAgentCallWaitingNotifyAudio,agent_item_voice_transcript_data:this.onAgentVoiceTranscript,agent_item_suggestion_data:this.onAgentItemSuggestion,agent_item_sentiment_data:this.onAgentItemSentimentData,agent_item_message_attributes:this.onAgentItemMessageAttributes,agent_call_pickup_notify:this.onAgentCallPickupNotify,agent_call_pickup_cancel:this.onAgentCallPickupCancel}),this.fromClientDispenser.subscribe({acceptCallPickup:this.acceptCallPickup,acceptItem:this.acceptItem,replyToEmail:this.replyToEmail,postponeEmail:this.postponeEmail,activateItem:this.activateItem,addAssociatedObject:this.addAssociatedObject,addNote:this.addNote,agentChatClose:this.agentChatClose,agentChatOpen:this.agentChatOpen,blindTransfer:this.blindTransfer,cancelCallReservation:this.cancelCallReservation,clearRemovedAssociatedItem:this.clearRemovedAssociatedItem,closeInternalChat:this.closeInternalChat,completeCallConference:this.completeCallConference,completeEmiInteractions:this.completeEmiInteractions,completeItem:this.completeItem,completeTransfer:this.completeTransfer,completeTransferExplicit:this.completeTransferExplicit,createPotentialItem:this.createPotentialItem,createRtcCall:this.createRtcCall,delegateRASessionStart:this.delegateRASessionStart,destroyCallConference:this.destroyCallConference,dialWorkitem:this.dialWorkitem,didActivateAudioSessioniOS:this.didActivateAudioSessioniOS,didDeactivateAudioSessioniOS:this.didDeactivateAudioSessioniOS,disconnectItem:this.disconnectItem,dispatchDispositionData:this.dispatchDispositionData,fetchFormDefinition:this.fetchFormDefinition,flagItem:this.flagItem,getScenarioVariables:this.getScenarioVariables,holdItem:this.holdItem,initiateCall:this.initiateCall,initiateChat:this.initiateChat,mergeAllCallsIntoConference:this.mergeAllCallsIntoConference,muteCallRecording:this.muteCallRecording,muteItem:this.muteItem,onAgentCallPickupCancel:this.onAgentCallPickupCancel,onAgentCallPickupNotify:this.onAgentCallPickupNotify,onNotificationData:this.onNotificationData,openInternalChat:this.openInternalChat,pasteFromKB:this.pasteFromKB,qmStartCall:this.qmStartCall,recordCall:this.recordCall,rejectCallPickup:this.rejectCallPickup,rejectItem:this.rejectItem,removeCallParty:this.removeCallParty,replaceNote:this.replaceNote,reportProblemItem:this.reportProblemItem,reserveCall:this.reserveCall,resetMissedCalls:this.resetMissedCalls,resumeItem:this.resumeItem,saveEmailDraft:this.saveEmailDraft,sendEmailDraft:this.sendEmailDraft,changeEmailService:this.changeEmailService,saveOpenedSuggestionUrl:this.saveOpenedSuggestionUrl,saveSuggestion:this.saveSuggestion,sendAgentNotificationResult:this.sendAgentNotificationResult,sendCustomFields:this.sendCustomFields,sendDtmf:this.sendDtmf,sendRtcCallReset:this.sendRtcCallReset,sendScreenPopData:this.sendScreenPopData,setActiveCrmScreen:this.setActiveCrmScreen,setDisposition:this.setDisposition,setDispositionReschedule:this.setDispositionReschedule,setDispositionScheduledEvent:this.setDispositionScheduledEvent,setFormPageId:this.setFormPageId,setFormValues:this.setFormValues,setGroupChat:this.setGroupChat,setNotes:this.setNotes,setScenarioVariables:this.setScenarioVariables,setScenarioVariablesBeforeComplete:this.setScenarioVariablesBeforeComplete,singleStepConference:this.singleStepConference,stopRecordingCall:this.stopRecordingCall,toggleAssociatedActivityRecord:this.toggleAssociatedActivityRecord,unmuteCallRecording:this.unmuteCallRecording,unmuteItem:this.unmuteItem,updateNote:this.updateNote,updateScreenPopData:this.updateScreenPopData,useContact:this.useContact}),this.sessionConnector.dispenser.subscribe({onEmiAccountChanged:function(t){var n=t.emiType,r=t.newAccount;e.completeEmiInteractions({emiType:n,newAccountId:r})}}),this.timersConnector.dispenser.subscribe({onAutoAnswerTimerCompleted:function(t){e.acceptItem(t.interactionId)},onWorkItemAutoDialTimerCompleted:function(t){e.dialWorkitem({workitemItemId:t.interactionId})}}),this.prerecordedMessagesConnector.dispenser.subscribe({onPlayingPromptCompleted:function(t){t&&e.unmuteItem(t)}}))}},{key:"removeItem",value:function(e){var t=this;this.toClientDispatch.onItemRemoved(e),this.produceState((function(n){var r,a,o=n.items.findIndex((function(t){return t.id===e.id}));-1!==o&&(r=t.localSettings,a=e.id,r.get("savedInteractionItems").then((function(e){e&&(delete e[a],r.set("savedInteractionItems",e))})),n.items.splice(o,1),n.modalItemIds=ek(n.modalItemIds,n.items),n.activeItemId===e.id&&(n.activeItemId=void 0))})),this.timersConnector.dispatch.stopTimer("autoAnswer/".concat(e.id)),this.timersConnector.dispatch.stopTimer("workitemAutoDial".concat(e.id)),e.id in this.dispositionSent&&delete this.dispositionSent[e.id],delete this.waitingForServiceRAItems[e.id],this.activateLastItemIfNoActive(),this.removeAssociatedIdFromItems(e.id)}},{key:"activateLastItemIfNoActive",value:function(){if(!this.getActiveItem()&&this.stateData.items.length){var e=this.stateData.items[this.stateData.items.length-1],t=function(e,t){if(EA(e,t)){var n=TA(t);return t.find((function(t){var r;return t.mediaType===n&&(null===(r=e.associatedItemIds)||void 0===r?void 0:r.some((function(e){return e===t.id})))}))}}(e,this.stateData.items);t?this.activateItem(t.id):this.activateItem(e.id)}}},{key:"updateReporter",value:function(e){var t=e.interactionStepId,n=e.firstName,r=e.lastName,a=e.phone,o=e.email,i=e.id,s=this.findScenarioItem(t);dy(s)&&this.updateItem(Ok(Ik({},s),{contactId:i,displayData:Ok(Ik({},s.displayData),{number:a||s.displayData.number,email:o||s.displayData.email}),emailData:Ok(Ik({},s.emailData),{reporterId:i,reporterFirstName:n||s.emailData.reporterFirstName,reporterLastName:r||s.emailData.reporterLastName})}))}},{key:"handleWorkItemChanged",value:function(e){var t=this;return yk((function(){var n,r,a,o;return Rk(this,(function(i){switch(i.label){case 0:return e.workitem_id?(n=t.sessionConnector.getStateData().displayNameFormat,(null==(r=t.findWorkitem(e.workitem_id))?void 0:r.workitemData)?[3,2]:[4,t.getWorkitemInfo(e.workitem_id)]):[2];case 1:a=i.sent(),i.label=2;case 2:return"completed"===(o=qP({incomingItem:e,workitem:a,oldItem:r,displayNameFormat:n})).state?t.completeAgentItem(o):r?t.updateItem(o):t.addNewInteractionItem(o),[2]}}))}))()}},{key:"startAutoAnswerTimer",value:function(e,t){void 0===t||this.timersConnector.getStateData().timers[e]||"mobile"===this.platformSpecific.clientType()||this.timersConnector.dispatch.startTimer({id:"autoAnswer/".concat(e),type:"autoAnswer",interactionId:e,timeoutInSeconds:t})}},{key:"delegateIfRAEnabled",value:function(e,t){var n=this;return yk((function(){var r;return Rk(this,(function(a){switch(a.label){case 0:return[4,n.servicesDispositionsConnector.dispatch.getService(t)];case 1:return(null==(r=a.sent())?void 0:r.remoteAssistPopEnabled)&&n.delegateRASessionStart(e),[2]}}))}))()}},{key:"copyClientOnlyDataToNewItem",value:function(e,t){e.associatedObjects&&(t.associatedObjects=e.associatedObjects),void 0!==e.activeCrmScreen&&(t.activeCrmScreen=e.activeCrmScreen),e.origination&&(t.origination=e.origination),e.parties&&(t.parties=e.parties)}},{key:"completeAgentItem",value:function(e,t){this.dispositionSent[e.id]||this.sendNotesDisposition(e),this.toClientDispatch.onItemCompleted({item:e,previousState:t}),_y(e)&&Oy(e)&&!e.displayData.deliveredStartTime&&(this.incrementMissedCallsAmount(),this.toClientDispatch.onCallMissed(e)),this.performQueuedAssociatedTransfer(e),this.resetConsultCallReferences(e),this.removeItem(e)}},{key:"sendNotesDisposition",value:function(e){var t,n,r,a,o,i,s,c,u,l,d,f,_,p,m=Qh(e);if(m){var g,h,y=null!==(g=null===(n=e.dispositionData)||void 0===n||null===(t=n.disposition)||void 0===t?void 0:t.name)&&void 0!==g?g:"";e.scenarioData&&y&&"chat"===e.mediaType&&this.transport.dispatch.agent_external_chat_message({msg:"Disposition: ".concat(y),msg_id:String(Date.now()),msg_text:"Disposition: ".concat(y),item_id:m,channel:e.scenarioData.channel,type:"disposition"}),this.transport.dispatch.agent_item_disposition({item_id:m,notes:this.getNotesAsString(e),disposition_id:null===(a=e.dispositionData)||void 0===a||null===(r=a.disposition)||void 0===r?void 0:r.id,resch_from:null===(i=e.dispositionData)||void 0===i||null===(o=i.disposition)||void 0===o?void 0:o.rescheduleFrom,resch_to:null===(c=e.dispositionData)||void 0===c||null===(s=c.disposition)||void 0===s?void 0:s.rescheduleTo,resch_phone:null===(l=e.dispositionData)||void 0===l||null===(u=l.disposition)||void 0===u?void 0:u.reschedulePhone,resch_timezone:null===(f=e.dispositionData)||void 0===f||null===(d=f.disposition)||void 0===d?void 0:d.rescheduleTimezone,is_voice_signature:"0",calendar_entry_exists:Oe(null!==(h=null===(p=e.dispositionData)||void 0===p||null===(_=p.disposition)||void 0===_?void 0:_.calendarEntryExists)&&void 0!==h&&h),negative_intents:p_(this.getNotReceivedIntents(e))}),this.dispositionSent[e.id]=!0}}},{key:"formatCallParty",value:function(e){var t={id:e.party_id,callId:e.call_id,userId:e.user_id,contactId:e.contact_id,phone:e.phone,destination:e.dn,name:e.name,role:e.role,theirItemId:e.item_id,conferenceHostId:e.conference_host_id};if(t.userId&&(t.firstName=e.user_firstname,t.lastName=e.user_lastname),t.contactId&&(t.firstName=e.contact_first_name,t.lastName=e.contact_last_name),(t.userId||t.contactId)&&(t.firstName||t.lastName)){var n=this.sessionConnector.getStateData().displayNameFormat;t.name=Iv(n,t.firstName,t.lastName)}return t}},{key:"updateWorkItemByContact",value:function(e){var t=this,n=this.sessionConnector.getStateData();e.contactId&&!ty(e,e.contactId)&&(this.initializeFetchedContact(e,e.contactId),YP({contactId:e.contactId,itemId:e.id,sessionData:n,onContactFetched:function(e){var r=e.itemId,a=e.contactId,o=e.data,i=t.findItem(r);(null==i?void 0:i.contactId)===a&&t.updateWorkItemContactData(i,o,n.displayNameFormat)}}))}},{key:"optionallyCompletePendingConference",value:function(e){e&&this.pendingConferenceItemIds.includes(e.id)&&(this.removePendingConferenceItemId(e.id),this.completeCallConference())}},{key:"getAssociateChatItemId",value:function(e){return function(e){if(e&&!yy(e))return Qh(e)}(function(e,t){var n;return null===(n=e.associatedItemIds)||void 0===n?void 0:n.reduce((function(e,n){var r=t.findItem(n);return iy(r)?r:e}),void 0)}(e,this))}},{key:"removeChatParty",value:function(e){var t=this.findScenarioItem(e.item_id);if(t){var n=ko(t,"chatParties",[]).filter((function(t){return t.party_id!==e.party_id}));this.updateItem(Ok(Ik({},t),{chatParties:n}))}}},{key:"addOrUpdateChatParty",value:function(e){var t=this.findScenarioItem(e.item_id);if(t){var n,r,a,o,i=null!==(r=null==t?void 0:t.chatParties)&&void 0!==r?r:[],s=null!==(a=null==t?void 0:t.allChatParties)&&void 0!==a?a:[],c=d(i,e),u=d(s,e),l=Ok(Ik({},t),{chatParties:c,allChatParties:u});(null!==(o=null===(n=Gh(c))||void 0===n?void 0:n.length)&&void 0!==o?o:0)>1&&(l.isOrWasConference=!0),this.updateItem(l)}function d(e,t){return e.length?e.reduce(function(e){var t;return function(n,r,a,o){return e.party_id===r.party_id?(n.push(e),t=!0):n.push(r),a!==o.length-1||t||n.push(e),n}}(t),[]):[t]}}},{key:"hasChatPartyStatusChanged",value:function(e){var t=this.findScenarioItem(e.item_id),n=zh(null==t?void 0:t.chatParties,e.party_id);return(null==n?void 0:n.status)!==e.status}},{key:"updateItemByExternalChatParty",value:function(e){var t=this,n=this.findScenarioItem(e.item_id),r=this.sessionConnector.getStateData();if(n){e.contact_id&&this.initializeFetchedContact(n,e.contact_id);var a=VP({item:n,party:e,sessionData:r,onContactFetched:function(n){var a=n.itemId,o=n.contactId,i=n.data,s=t.findItem(a);(null==s?void 0:s.contactId)===o&&t.updateItemContactData(s,i,e,r.displayNameFormat)}});this.updateItem(a);var o=this.findAssociatedPotentialInteraction(a.contactId);o?this.removeItem(o):this.addAssociatedItemIds(a)}}},{key:"normalizeVoiceTranscriptText",value:function(e){return e.replaceAll("%HESITATION","").trim()}},{key:"createCompletionScenarioVariables",value:function(e){var t,n,r,a,o,i,s,c=new Map,u=Dk(null!==(s=ey(e))&&void 0!==s?s:[],1)[0];c.set("sf:description",u);var l,d,f,_=null===(n=e.screenPopData)||void 0===n||null===(t=n.salesforce)||void 0===t?void 0:t.objectId,p=null===(a=e.screenPopData)||void 0===a||null===(r=a.salesforce)||void 0===r?void 0:r.objectType;if(_&&c.set("sf:objectId",_),_&&c.set("sf:objectType",p),e.displayData.deliveredStartTime&&e.displayData.acwStartTime){var m=(l=e.displayData.deliveredStartTime,d=e.displayData.acwStartTime,f="seconds",A()(d).diff(A()(l),f));c.set("sf:duration",m),c.set("duration",m),c.set("startTime",e.displayData.deliveredStartTime),c.set("endTime",e.displayData.acwStartTime)}var g=this.sessionConnector.getStateData().serverOrigin,h=Cc(g,function(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""}(e));c.set("sf:recordingUrl",h);var y,v,b=function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",o=ly(e)?null==e||null===(n=e.workitemData)||void 0===n?void 0:n.serviceName:null==e||null===(r=e.scenarioData)||void 0===r?void 0:r.serviceName;return t?"".concat(t).concat(a).concat(o):o}(e,e.mediaType&&hA[e.mediaType]);c.set("sf:serviceName",b),c.set("sf:direction",(v="Internal",my(y=e)&&(v="inbound"===y.direction?"Inbound":"Outbound"),v));var C=e.playbackUrl?Sc(g,e.playbackUrl):void 0;c.set("recordingUrl",h),b&&c.set("serviceName",b),e.direction&&c.set("direction",e.direction),C&&c.set("playbackUrl",C);var S=null===(o=e.associatedObjects)||void 0===o?void 0:o.selected.length;S&&c.set("numberOfAssociatedRecords",S);var w=null===(i=e.associatedObjects)||void 0===i?void 0:i.list.filter((function(t){var n;return null===(n=e.associatedObjects)||void 0===n?void 0:n.selected.includes(t.id)})).map((function(e){return{objectId:e.id,objectType:e.type}}));return(null==w?void 0:w.length)&&c.set("associatedRecords",w),Object.fromEntries(c)}},{key:"addAssociatedRecordToItem",value:function(e,t,n){return"unknown"!==e.state||n.force?Ot(e,(function(e){e.associatedObjects||(e.associatedObjects={list:[],selected:[],touched:!1,primary:[]});var r=e.associatedObjects,a=r.list.findIndex((function(e){return e.id===t.id}));if(-1!==a&&r.list.splice(a,1),r.list.unshift(t),n.primary&&r.primary.push(t.id),r.list.length>50){var o=gA(r.list,(function(e){return!r.selected.includes(e.id)&&!r.primary.includes(e.id)}));-1===o&&(o=gA(r.list,(function(e){return!r.selected.includes(e.id)}))),-1===o&&(o=0),r.list.splice(o,1)}r.touched||(r.selected=[t.id])})):e}},{key:"stopItem",value:function(e){this.transport.dispatch.agent_stop_item({item_id:e})}},{key:"getUserDetails",value:function(e,t,n){var r=this;return yk((function(){var a,o;return Rk(this,(function(i){switch(i.label){case 0:return[4,r.transport.dispatch.agent_get_users_details({type:"CHAT_CENTER",users:p_([e]),user_fields:Object.assign({},t)})];case 1:return a=i.sent(),(o=a.users[0])&&n(o),[2]}}))}))()}},{key:"updateOrCreateScenarioItem",value:function(e){var t=this;return yk((function(){var n,r,a,o,i;return Rk(this,(function(s){if(n=t.findNewScenarioItem(e),r=t.sessionConnector.getStateData().displayNameFormat,a=RP(e,n,r),e.desktop_data&&e.desktop_data.associated_records)try{(o=JSON.parse(e.desktop_data.associated_records)).forEach((function(e){a=t.addAssociatedRecordToItem(a,e,{force:!0,primary:!1})})),o.length&&(i=bP(o[0]))&&t.transport.dispatch.agent_update_screenpop({item_id:Qh(a),screenpop_data:i})}catch(c){}return n?(t.updateItem(a),t.toClientDispatch.onNewItemDelivered(a)):(!iy(a)&&!my(a)||a.activeCrmScreen||(a.activeCrmScreen=t.globalCrmScreen||void 0,t.globalCrmScreen=null),t.addNewInteractionItem(a)),[2,a]}))}))()}},{key:"restoreInteractionItems",value:function(e){var t=this;return yk((function(){var n,r,a,o,i,s,c,u,l,d,f,_,p,m,g,h;return Rk(this,(function(y){switch(y.label){case 0:return t.produceState((function(e){e.isLoaded=!1})),[4,t.localSettings.get("savedInteractionItems")];case 1:n=y.sent(),r={},a={},o=!0,i=!1,s=void 0,y.label=2;case 2:y.trys.push([2,9,10,11]),c=e[Symbol.iterator](),y.label=3;case 3:return(o=(u=c.next()).done)?[3,8]:(l=u.value,d=function(e,t){var n=void 0;if(e){var r=!0,a=!1,o=void 0;try{for(var i,s=Object.keys(e)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;e[c].interactionStepId===t&&(n=c)}}catch(g){a=!0,o=g}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}return e&&n?{savedItemId:n,savedItem:ZP(e[n])}:{}}(n,l.item_id),f=d.savedItemId,_=d.savedItem,f&&_&&(r[f]=_),"workitem"!==l.media_type?[3,5]:[4,t.restoreInteractionWorkItem(l)]);case 4:return m=y.sent(),[3,6];case 5:m=t.restoreInteractionItem(l,f,_),y.label=6;case 6:(p=m)&&(a[p]=!0),y.label=7;case 7:return o=!0,[3,3];case 8:return[3,11];case 9:return g=y.sent(),i=!0,s=g,[3,11];case 10:try{o||null==c.return||c.return()}finally{if(i)throw s}return[7];case 11:return h=t.stateData.items.filter((function(e){return!a[e.id]})),h.forEach((function(e){t.removeItem(e)})),t.localSettings.set("savedInteractionItems",r),t.stateData=Ok(Ik({},t.stateData),{isLoaded:!0,agentWelcomeReceived:!0}),t.stateData.items.forEach((function(e){t.addAssociatedItemIds(e)})),t.toClientDispatch.onChange(t.stateData),t.activateLastItemIfNoActive(),t.toClientDispatch.onInteractionItemsRestored(t.stateData.items),[2]}}))}))()}},{key:"restoreInteractionWorkItem",value:function(e){var t=this;return yk((function(){var n,r,a,o;return Rk(this,(function(i){switch(i.label){case 0:return n=t.findNewScenarioItem(e),e.workitem_id?[4,t.getWorkitemInfo(e.workitem_id)]:[2,void 0];case 1:return r=i.sent(),a=t.sessionConnector.getStateData().displayNameFormat,"completed"===(o=qP({incomingItem:e,workitem:r,displayNameFormat:a})).state?t.completeAgentItem(o):n?t.updateItem(o):t.addNewInteractionItem(o),[2,e.item_id]}}))}))()}},{key:"restoreInteractionItem",value:function(e,t,n){var r=this,a=this.findNewScenarioItem(e),o=a;!o&&t&&n&&(o=Ok(Ik({},n),{id:t,scenarioData:{interactionStepId:n.interactionStepId}}));var i=this.sessionConnector.getStateData(),s=i.displayNameFormat,c=i.serverOrigin,u=RP(e,o,s);if(dy(u)){var l,d=(null!==(l=u.emailData)&&void 0!==l?l:{}).caseId;d&&yc(c).getCaseReporter({caseId:d}).then((function(e){r.updateReporter({interactionStepId:Qh(u),firstName:null==e?void 0:e.first_name,lastName:null==e?void 0:e.last_name,id:null==e?void 0:e._id.oid})}))}return a?this.updateItem(u):this.addNewInteractionItem(u),u.id}},{key:"applyChatLaunchPoint",value:function(e,t){var n=this;this.transport.dispatch.chat_launch_point_info({id:t}).then((function(t){var r=t.result,a=t.error;if(!(null==a?void 0:a.message)&&r){if(1===r.length){var o="1"===r[0].dial,i=Number(r[0].timeout);o&&!Number.isNaN(i)&&i>=0&&setTimeout((function(){var t=n.findItem(e);t&&"completed"!==t.state&&t.externalChatData&&t.externalChatData.requiresCallToNumber&&n.initiateCall({phone:t.externalChatData.requiresCallToNumber,origination:"auto"})}),i)}}else Mk.error(null==a?void 0:a.message)}))}},{key:"tryToAutoRejectIncomingEmail",value:function(e){return Object.values(this.tabsConnector.getStateData().tabs).some((function(e){return"ad"===e.app}))||"email"!==e.media_type||"inbound"!==e.direction||"delivery_pending"!==e.state?{autoRejected:!1}:(this.stopItem(e.item_id),this.toClientDispatch.onAutoRejectIncomingEmail(),{autoRejected:!0})}},{key:"markItemThatAssociatedItemWasRemoved",value:function(e,t){"potential"===e.itemKind&&this.produceState((function(n){var r=n.items.findIndex((function(t){return t.id===e.id}));n.items[r].removedAssociatedItemId=t}))}},{key:"cleanup",value:function(){Sk(wk(o.prototype),"cleanup",this).call(this),this.dispositionSent={},this.waitingForServiceRAItems={},this.globalCrmScreen=null,this.defaultDIDChatServiceId=void 0,this.defaultDIDCallServiceId=void 0}},{key:"resetState",value:function(){Sk(wk(o.prototype),"resetState",this).call(this),this.dispositionSent={},this.waitingForServiceRAItems={},this.globalCrmScreen=null,this.defaultDIDChatServiceId=void 0,this.defaultDIDCallServiceId=void 0}}],n&&bk(t.prototype,n),r&&bk(t,r),o}(pk),xk={onInitialState:{parameters:[]},onChange:{parameters:[]}};function Lk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uk(e,t,n){return Uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qk(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},Uk(e,t,n||e)}function qk(e){return qk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qk(e)}function Bk(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Lk(e):t;var n}function Gk(e,t){return Gk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gk(e,t)}function Hk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qk(e);if(t){var a=qk(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Bk(this,n)}}var zk,Wk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gk(e,t)}(o,e);var t,n,r,a=Hk(o);function o(){var e;return $k(this,o),Fk(Lk(e=a.apply(this,arguments)),"activeInteractionId",void 0),Fk(Lk(e),"onVisibilityChange",(function(){"visible"===document.visibilityState?(e.activeInteractionId&&e.activeInteractionId!==e.interactionStateConnector.getStateData().activeItemId&&e.interactionStateConnector.dispatch.activateItem(e.activeInteractionId),e.produceState((function(e){e.isActiveInteractionFrozen=!1}))):e.activeInteractionId&&e.produceState((function(e){e.isActiveInteractionFrozen=!0}))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.interactionStateConnector.dispenser.subscribe({onInitialState:function(t){e.activeInteractionId=t.activeItemId},onItemRemoved:function(t){t.id===e.activeInteractionId&&(e.activeInteractionId=void 0,e.produceState((function(e){e.isActiveInteractionFrozen=!1})))},onActiveItemChanged:function(t){e.stateData.isActiveInteractionFrozen||(e.activeInteractionId=t.id)}}),this.userProfileStateConnector.dispenser.subscribe({onInitialState:function(t){"userLanguage"in t&&e.localizationConnector.dispatch.setLanguage(t.userLanguage)},onChange:function(t){"userLanguage"in t&&e.localizationConnector.dispatch.setLanguage(t.userLanguage)}}),this.localizationConnector.dispenser.subscribe({onInitialState:function(e){Se(e.language)},onChange:function(e){e.language&&Se(e.language)}})),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("visibilitychange",this.onVisibilityChange,!0)}},{key:"cleanup",value:function(){Uk(qk(o.prototype),"cleanup",this).call(this),"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener("visibilitychange",this.onVisibilityChange,!0)}}])&&Kk(t.prototype,n),r&&Kk(t,r),o}(Ts.createBaseStateClass({name:"interstateLogicState",controlEvents:{},trackerEvents:xk,options:{authorized:!0},getInitialState:function(){return{isActiveInteractionFrozen:!1}},dependencies:["interactionStateConnector","userProfileStateConnector","localizationConnector"]}));!function(e){e.FOLDER="0",e.REGULAR="1",e.GREETINGS="2"}(zk||(zk={}));var Vk={onInitialState:{parameters:[]},onChange:{parameters:[]}},Yk={createMessage:{parameters:[]},getGreeting:{parameters:[]},getMessages:{parameters:[]},removeMessage:{parameters:[]},resetGreeting:{parameters:[]},updateMessage:{parameters:[]}};function Qk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jk(e,t,n){return Jk=rR()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&tR(a,n.prototype),a},Jk.apply(null,arguments)}function Xk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zk(e){return Zk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zk(e)}function eR(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Qk(e):t;var n}function tR(e,t){return tR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tR(e,t)}function nR(e){var t="function"==typeof Map?new Map:void 0;return nR=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Jk(e,arguments,Zk(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tR(n,e)},nR(e)}function rR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var aR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tR(e,t)}(a,e);var t,n,r=(t=a,n=rR(),function(){var e,r=Zk(t);if(n){var a=Zk(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return eR(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Xk(Qk(o=r.call(this,n)),"url",void 0),Xk(Qk(o),"status",void 0),Xk(Qk(o),"statusText",void 0),Xk(Qk(o),"body",void 0),Xk(Qk(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(nR(Error));function oR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iR(e,t,n){return iR=pR()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&fR(a,n.prototype),a},iR.apply(null,arguments)}function sR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cR(e,t,n){return t&&sR(e.prototype,t),n&&sR(e,n),e}function uR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lR(e){return lR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lR(e)}function dR(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function fR(e,t){return fR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fR(e,t)}function _R(e){var t="function"==typeof Map?new Map:void 0;return _R=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return iR(e,arguments,lR(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fR(n,e)},_R(e)}function pR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var mR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fR(e,t)}(a,e);var t,n,r=(t=a,n=pR(),function(){var e,r=lR(t);if(n){var a=lR(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return dR(this,e)});function a(e){var t;return oR(this,a),(t=r.call(this,e)).name="CancelError",t}return cR(a,[{key:"isCancelled",get:function(){return!0}}]),a}(_R(Error)),gR=Symbol.toStringTag,hR=function(){function e(t){var n=this;oR(this,e),uR(this,gR,void 0),uR(this,"_isResolved",void 0),uR(this,"_isRejected",void 0),uR(this,"_isCancelled",void 0),uR(this,"_cancelHandlers",void 0),uR(this,"_promise",void 0),uR(this,"_resolve",void 0),uR(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return cR(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(i){return void console.warn("Cancellation threw an error",i)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new mR("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),yR={BASE:"/swagger-crm",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function vR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bR(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function CR(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bR(o,r,a,i,s,"next",e)}function s(e){bR(o,r,a,i,s,"throw",e)}i(void 0)}))}}function SR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){SR(e,t,n[t])}))}return e}function IR(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function OR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TR(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ER=function(e){return null!=e},DR=function(e){return"string"==typeof e},AR=function(e){return DR(e)&&""!==e},PR=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},kR=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},RR=function(e){var t=[],n=function(e,r){ER(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=OR(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=OR(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},NR=function(){var e=CR((function(e,t){return TR(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))}));return function(t,n){return e.apply(this,arguments)}}(),MR=function(){var e=CR((function(e,t){var n,r,a,o,i,s;return TR(this,(function(c){switch(c.label){case 0:return[4,NR(t,e.TOKEN)];case 1:return n=c.sent(),[4,NR(t,e.USERNAME)];case 2:return r=c.sent(),[4,NR(t,e.PASSWORD)];case 3:return a=c.sent(),[4,NR(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(wR({Accept:"application/json"},o,t.headers)).filter((function(e){var t=OR(e,2),n=(t[0],t[1]);return ER(n)})).reduce((function(e,t){var n=OR(t,2),r=n[0],a=n[1];return IR(wR({},e),SR({},r,String(a)))}),{}),AR(n)&&(i.Authorization="Bearer ".concat(n)),AR(r)&&AR(a)&&(s=function(e){try{return btoa(e)}catch(wX){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:PR(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":DR(t.body)?i["Content-Type"]="text/plain":kR(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),jR=function(){var e=CR((function(e,t,n,r,a,o,i){var s,c;return TR(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),xR=function(){var e=CR((function(e){var t,n;return TR(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),LR=function(e,t){return new hR(function(){var n=CR((function(n,r,a){var o,i,s,c,u,l,d,f,_;return TR(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(RR(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){DR(n)||PR(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=OR(e,2),n=(t[0],t[1]);return ER(n)})).forEach((function(e){var t=OR(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):DR(e.body)||PR(e.body)||kR(e.body)?e.body:JSON.stringify(e.body)}(t),[4,MR(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,jR(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,xR(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(DR(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=wR({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new aR(e,t,n);if(!t.ok)throw new aR(e,t,"Generic Error")}(t,f),n(f.body),p.label=4;case 4:return[3,6];case 5:return _=p.sent(),r(_),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function $R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var KR,FR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getContactByEmailOrPhone",value:function(e){var t=e.query;return LR(yR,{method:"GET",url:"/v1/crm/brief/contact",query:{query:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getContactListByQuery",value:function(e){var t=e.query,n=e.lang,r=e.limit;return LR(yR,{method:"GET",url:"/v1/crm/contact",query:{query:t,lang:n,limit:r},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateContact",value:function(e){var t=e.body;return LR(yR,{method:"PUT",url:"/v1/crm/contact",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateContact1",value:function(e){var t=e.body;return LR(yR,{method:"POST",url:"/v1/crm/contact",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getContactActivityHistory",value:function(e){var t=e.body;return LR(yR,{method:"POST",url:"/v1/crm/contact/getActivityHistory",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getContactsByPhone",value:function(e){var t=e.body;return LR(yR,{method:"POST",url:"/v1/crm/contact/identifyContactByPhone",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getContact",value:function(e){var t=e.contactId;return LR(yR,{method:"GET",url:"/v1/crm/contact/{contactId}",path:{contactId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateContact2",value:function(e){var t=e.body;return LR(yR,{method:"PUT",url:"/v1/crm/contact/{contactId}",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getContactActivity",value:function(e){var t=e.contactId;return LR(yR,{method:"GET",url:"/v1/crm/contact/{contactId}/activity",path:{contactId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"addEmailToContact",value:function(e){var t=e.contactId,n=e.body;return LR(yR,{method:"POST",url:"/v1/crm/contact/{contactId}/email",path:{contactId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"addPhoneToContact",value:function(e){var t=e.body;return LR(yR,{method:"POST",url:"/v1/crm/contact/{contactId}/phone",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getUserPhoto",value:function(e){var t=e.contactId,n=e.occurrence;return LR(yR,{method:"GET",url:"/v1/crm/contact/{contactId}/{occurrence}",path:{contactId:t,occurrence:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"uploadContactPhoto",value:function(e){var t=e.contactId,n=e.file;return LR(yR,{method:"POST",url:"/v1/crm/contactPhotoUpload",formData:{contactId:t,file:n},errors:{400:"Bad Request",401:"Unauthorized",403:"Access denied",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getGreeting",value:function(e){var t=e.customerQuestion,n=e.contact;return LR(yR,{method:"GET",url:"/v1/crm/cr/greeting",query:{customerQuestion:t,contact:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getCannedResponses",value:function(){return LR(yR,{method:"GET",url:"/v1/crm/cr/response",errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createUpdateCannedResponse",value:function(e){var t=e.body;return LR(yR,{method:"PUT",url:"/v1/crm/cr/response",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"createUpdateCannedResponse1",value:function(e){var t=e.body;return LR(yR,{method:"POST",url:"/v1/crm/cr/response",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"createUpdateCannedResponse2",value:function(e){var t=e.body;return LR(yR,{method:"PUT",url:"/v1/crm/cr/response/{cannedResponseId}",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"deleteCannedResponse",value:function(e){var t=e.messageId;return LR(yR,{method:"DELETE",url:"/v1/crm/cr/response/{messageId}",path:{messageId:t},errors:{400:"Bad Request",401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}},{key:"getContacts",value:function(e){var t=e.ids;return LR(yR,{method:"GET",url:"/v1/crm/find/contact",query:{ids:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getRtcConfig",value:function(){return LR(yR,{method:"GET",url:"/v1/crm/getWebRtcConfig",errors:{401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}},{key:"getActivityById",value:function(e){var t=e.activityId,n=e.transcriptType;return LR(yR,{method:"GET",url:"/v1/crm/{transcriptType}/{activityId}",path:{activityId:t,transcriptType:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error",502:"Bad Gateway"}})}}],(n=null)&&$R(t.prototype,n),r&&$R(t,r),e}();function UR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function GR(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){BR(o,r,a,i,s,"next",e)}function s(e){BR(o,r,a,i,s,"throw",e)}i(void 0)}))}}function HR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VR(e){return VR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VR(e)}function YR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){WR(e,t,n[t])}))}return e}function QR(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function JR(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?qR(e):t;var n}function XR(e,t){return XR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XR(e,t)}function ZR(e){return function(e){if(Array.isArray(e))return UR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return UR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VR(e);if(t){var a=VR(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return JR(this,n)}}function tN(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}yR.BASE="/newadws/api";var nN=(WR(KR={},zk.REGULAR,0),WR(KR,zk.FOLDER,1),WR(KR,zk.GREETINGS,2),KR),rN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XR(e,t)}(o,e);var t,n,r,a=eN(o);function o(){var e;HR(this,o),WR(qR(e=a.apply(this,arguments)),"createMessage",(function(t,n){e.createMessageOrGroup(YR({text:t},n))}));var t=qR(e);WR(qR(e),"getGreeting",function(){var e=GR((function(e,n,r){var a,o;return tN(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,FR.getGreeting({customerQuestion:n,contact:r})];case 1:return a=i.sent(),t.produceState((function(t){t.greetings[e]=a})),[3,3];case 2:return o=i.sent(),v.error(z(o)),[3,3];case 3:return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}());var n=qR(e);return WR(qR(e),"getMessages",GR((function(){var e;return tN(this,(function(t){switch(t.label){case 0:n.startLoading(),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,FR.getCannedResponses()];case 2:return e=t.sent(),n.produceState((function(t){t.messages=e})),[3,4];case 3:return n.stopLoading(),[7];case 4:return[2]}}))}))),WR(qR(e),"removeMessage",(function(t){e.startLoading();var n=e.getMessageIndexById(t);-1!==n&&FR.deleteCannedResponse({messageId:t}).then((function(){var t=[];!function n(r){var a=function(n){var r=e.getMessageIndexById(n);if(-1!==r)return t.push(r),e.stateData.messages.filter((function(t){return t.parentFolderId===e.stateData.messages[r]._id}))}(r._id||"");a&&a.length&&a.forEach(n)}(e.stateData.messages[n]),e.produceState((function(n){n.messages=e.stateData.messages.filter((function(e,n){return!t.includes(n)}))}))})).finally((function(){e.stopLoading()}))})),WR(qR(e),"resetGreeting",(function(t){e.produceState((function(e){delete e.greetings[t]}))})),WR(qR(e),"updateMessage",(function(t,n,r){var a=r.isPublic,o=void 0!==a&&a,i=r.requiresInitialQuestion,s=void 0!==i&&i;e.startLoading();var c=e.getMessageIndexById(t);if(-1!==c){var u=QR(YR({},e.stateData.messages[c]),{text:n,isPublic:o,public:o,requiresInitialQuestion:s,requiresNoInitialQuestion:!s,substitutedText:e.stateData.messages[c].text});"content"in u&&delete u.content,FR.createUpdateCannedResponse({body:u}).then((function(t){var n=t;e.produceState((function(e){e.messages[c]=n}))})).finally((function(){e.stopLoading()}))}})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({createMessage:this.createMessage,getGreeting:this.getGreeting,getMessages:this.getMessages,removeMessage:this.removeMessage,resetGreeting:this.resetGreeting,updateMessage:this.updateMessage}),this.interactionStateConnector.dispenser.subscribe({onItemAccepted:function(t){var n;iy(t)&&e.getGreeting(t.id,!!(null===(n=t.externalChatData)||void 0===n?void 0:n.messageId),t.contactId)},onItemRemoved:function(t){iy(t)&&Oy(t)&&e.resetGreeting(t.id)}}))}},{key:"startLoading",value:function(){this.produceState((function(e){e.isLoading=!0}))}},{key:"stopLoading",value:function(){this.produceState((function(e){e.isLoading=!1}))}},{key:"getMessageIndexById",value:function(e){return this.stateData.messages.findIndex((function(t){return t._id===e}))}},{key:"createMessageOrGroup",value:function(e){var t=this,n=e.text,r=e.parentFolderId,a=e.type,o=e.requiresInitialQuestion,i=void 0!==o&&o,s=e.isPublic,c=void 0!==s&&s;this.startLoading();var u={parentFolderId:r,type:a,text:n,isPublic:c,requiresInitialQuestion:i,requiresNoInitialQuestion:!i};FR.createUpdateCannedResponse({body:u}).then((function(e){var n=e,r=!1,a=ZR(t.stateData.messages).reduce((function(e,t){var a;return!r&&t.type===n.type&&(null!==(a=t.text)&&void 0!==a?a:"")>n.text&&(r=!0,e.push(n)),!r&&nN[n.type]>nN[t.type]&&(r=!0,e.push(n)),e.push(t),e}),[]);r||a.push(n),t.produceState((function(e){e.messages=a}))})).finally((function(){t.stopLoading()}))}}],n&&zR(t.prototype,n),r&&zR(t,r),o}(Ts.createBaseStateClass({name:"predefinedChatMessageState",controlEvents:Yk,trackerEvents:Vk,options:{authorized:!0},dependencies:["sessionConnector","interactionStateConnector"],getInitialState:function(){return{messages:[],greetings:{},isLoading:!1}}})),aN={onInitialState:{parameters:[]},onChange:{parameters:[]},onPlayingPromptCompleted:{parameters:[]}},oN={getData:{parameters:[]},saveData:{parameters:[]},resetSave:{parameters:[]},resetData:{parameters:[]},stopAndPlayPrompt:{parameters:[]},playPrompt:{parameters:[]},stopPlayingPrompt:{parameters:[]},getServiceMessages:{parameters:[]}};function iN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dN(e){return dN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dN(e)}function fN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lN(e,t,n[t])}))}return e}function _N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function pN(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?sN(e):t;var n}function mN(e,t){return mN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mN(e,t)}function gN(e){return function(e){if(Array.isArray(e))return iN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dN(e);if(t){var a=dN(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pN(this,n)}}var yN=function(){return(0,C.v4)().toUpperCase()},vN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mN(e,t)}(o,e);var t,n,r,a=hN(o);function o(){var e;return cN(this,o),lN(sN(e=a.apply(this,arguments)),"resetSave",(function(){e.produceState((function(e){e.isSaved=!1}))})),lN(sN(e),"resetData",(function(){e.produceState((function(e){e.list=[]}))})),lN(sN(e),"getServiceMessages",(function(t){if(t in e.stateData.serviceMessages)return e.stateData.serviceMessages[t];e.transport.dispatch.service_voice_prompts({service_id:t}).then((function(n){var r=n.result,a=n.error;!(null==a?void 0:a.message)&&r?e.updateServiceMessages(t,r):v.error(null==a?void 0:a.message)}))})),lN(sN(e),"getData",(function(){e.stateData.isLoading||(e.transport.dispatch.voice_prompt_read().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){var a=Object.values(n).map((function(e){return bN(e)}));e.produceState((function(e){e.isLoading=!1,e.list=a}))}else v.error(null==r?void 0:r.message)})).catch((function(){e.produceState((function(e){e.isLoading=!1}))})),e.produceState((function(e){e.isLoading=!0})))})),lN(sN(e),"saveAutoPlayId",(function(t){e.produceState((function(e){e.autoPlayId=t}))})),lN(sN(e),"updateAutoPlayId",(function(t){t!==e.stateData.autoPlayId&&(e.saveAutoPlayId(t),e.sessionConnector.dispatch.updateBaseConfig({autoPlayVoicePromptId:t}))})),lN(sN(e),"saveData",(function(t,n,r){var a=e.stateData.list,o=[],i=[],s=[],c=r,u=n.map((function(e){var t=yN();return e.id===c&&(c=t),_N(fN({},e),{id:t})}));a.forEach((function(e){var n=t.find((function(t){return t.id===e.id}));n?n.voiceFileId!==e.voiceFileId?s.push(fN({},e,n)):n.name!==e.name&&i.push(fN({},e,n)):(e.id===c&&(c=void 0),o.push(e))})),u.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_insert",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),o.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_delete",params:{id:t.id}})})),i.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_update_name",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),s.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_prompt_update",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),e.produceState((function(e){e.list=gN(t).concat(gN(n)),e.isSaved=!0})),e.updateAutoPlayId(r)})),lN(sN(e),"stopAndPlayPrompt",(function(t){var n=t.interactionStepId;e.stopPlayingPrompt(n,!1),e.playPrompt(t)})),lN(sN(e),"playPrompt",(function(t){var n=t.interactionStepId,r=t.promptId,a=t.itemId,o=(0,C.v4)();e.transport.dispatch.agent_play_user_voice_prompt({item_id:n,prompt_id:r,request_id:o}),e.produceState((function(e){rv(e.playingPrompts,n,{promptId:r,itemId:a,interactionStepId:n,playingPromptId:o})}))})),lN(sN(e),"stopPlayingPrompt",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.stateData.playingPrompts,a=r[t],o=a.playingPromptId,i=void 0===o?"":o,s=a.itemId,c=void 0===s?"":s;e.transport.dispatch.agent_stop_user_voice_prompt({item_id:t,request_id:i}),n&&(e.produceState((function(e){delete e.playingPrompts[t]})),e.toClientDispatch.onPlayingPromptCompleted(c))})),lN(sN(e),"onAgentWelcome",(function(){e.getData()})),lN(sN(e),"onPlayingPromptCompleted",(function(t){var n=t.request_id,r=e.stateData.playingPrompts,a=Object.values(r).find((function(e){return e.playingPromptId===n}));a&&(e.produceState((function(e){delete e.playingPrompts[a.interactionStepId]})),e.toClientDispatch.onPlayingPromptCompleted(a.itemId))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome,agent_user_voice_prompt_completed:this.onPlayingPromptCompleted}),this.fromClientDispenser.subscribe({getData:this.getData,getServiceMessages:this.getServiceMessages,saveData:this.saveData,resetSave:this.resetSave,resetData:this.resetData,playPrompt:this.playPrompt,stopPlayingPrompt:this.stopPlayingPrompt,stopAndPlayPrompt:this.stopAndPlayPrompt}),this.sessionConnector.dispenser.subscribe({onBaseConfigReceived:function(t){t.autoPlayVoicePromptId&&e.saveAutoPlayId(t.autoPlayVoicePromptId)}}))}},{key:"updateServiceMessages",value:function(e,t){var n=this;this.produceState((function(r){r.serviceMessages[e]=n.convertIncomingServiceMessagesToServiceMessages(t)}))}},{key:"convertIncomingServiceMessagesToServiceMessages",value:function(e){return e.map((function(e){return{id:e.id,name:e.content,voiceFileId:e.file_id,language:W(e.code,e.region)}}))}}])&&uN(t.prototype,n),r&&uN(t,r),o}(Ts.createBaseStateClass({name:"prerecordedMessagesState",controlEvents:oN,trackerEvents:aN,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{list:[],serviceMessages:{},isLoading:!1,isSaved:!1,playingPrompts:{},autoPlayId:void 0}},dependencies:["transport","sessionConnector"]})),bN=function(e){return{id:e.id,name:e.name,voiceFileId:e.voice_file_id}},CN={onInitialState:{parameters:[]},onChange:{parameters:[]}},SN={recordingStart:{parameters:[]},recordingStop:{parameters:[]},recordingReset:{parameters:[]}};function wN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EN(e,t,n){return EN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DN(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},EN(e,t,n||e)}function DN(e){return DN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},DN(e)}function AN(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?wN(e):t;var n}function PN(e,t){return PN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},PN(e,t)}function kN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DN(e);if(t){var a=DN(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return AN(this,n)}}var RN=function(){return(0,C.v4)().toUpperCase()},NN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PN(e,t)}(o,e);var t,n,r,a=kN(o);function o(){var e;return IN(this,o),TN(wN(e=a.apply(this,arguments)),"activeRecordings",{}),TN(wN(e),"recordingStart",(function(){if(!Object.keys(e.activeRecordings).length){var t=e.sessionConnector.getStateData(),n=t.tenantId,r=t.phoneNumber;r&&n&&e.transport.dispatch.e3pcc_dial({dn:r,tenant_id:n,destination:"scenario_engine",disregard_calling_hours:"0",desktop_data:{feature_name:"record_voice"}}),e.produceState((function(e){e.status="establish_recording"}))}})),TN(wN(e),"onAgentItemChanged",(function(t){var n=t.item_id,r=t.interaction_type,a=t.call_id,o=t.state;"feature_record_voice"===r&&"delivered"===o&&(e.transport.dispatch.agent_control_feature_item({item_id:n,data:{command:"record_start"}}),e.activeRecordings[n]={callId:a},e.produceState((function(e){e.status="recording"})))})),TN(wN(e),"recordingStop",(function(){var t=Object.keys(e.activeRecordings);if(t.length){var n=t[0];e.transport.dispatch.agent_control_feature_item({item_id:n,data:{command:"record_stop"}}),e.produceState((function(e){e.status="recording_complete"}))}})),TN(wN(e),"recordingReset",(function(){e.produceState((function(e){e.status="not_recording",e.id=void 0}))})),TN(wN(e),"onAgentMessage",(function(t){var n=t.item_id,r=t.message,a=e.sessionConnector.getStateData().tenantId;if(gu(r))switch(r.action){case"record_completed":if(n in e.activeRecordings){var o=RN();e.transport.dispatch.agent_control_feature_item({item_id:n,data:{command:"record_save",voice_file_id:o}})}break;case"record_uploaded":var i=r.record_id;if(n in e.activeRecordings){var s=e.activeRecordings[n].callId;delete e.activeRecordings[n],s&&a&&e.transport.dispatch.e3pcc_disconnect({call_id:s,tenant_id:a}),e.produceState((function(e){e.status="recording_complete",e.id=i}))}}})),TN(wN(e),"onThreePccFailed",(function(){e.produceState((function(e){"establish_recording"===e.status&&(e.status="not_recording")}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_item_changed:this.onAgentItemChanged,agent_message:this.onAgentMessage,e3pcc_failed:this.onThreePccFailed}),this.fromClientDispenser.subscribe({recordingStart:this.recordingStart,recordingStop:this.recordingStop,recordingReset:this.recordingReset}))}},{key:"cleanup",value:function(){EN(DN(o.prototype),"cleanup",this).call(this),this.activeRecordings={}}},{key:"resetState",value:function(){EN(DN(o.prototype),"resetState",this).call(this),this.activeRecordings={}}}])&&ON(t.prototype,n),r&&ON(t,r),o}(Ts.createBaseStateClass({name:"recordingState",controlEvents:SN,trackerEvents:CN,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{status:"not_recording",id:void 0}},dependencies:["transport","sessionConnector"]})),MN={onInitialState:{parameters:[]},onChange:{parameters:[]},onSessionStarted:{parameters:[]}},jN={createRASessionData:{parameters:[]},updateRASessionData:{parameters:[]},removeRASessionData:{parameters:[]}},xN={onInitialState:{parameters:[]},onChange:{parameters:[]},onSessionStarted:{parameters:[]}},LN={openRemoteAssist:{parameters:[]}},$N=function(){return{items:{}}};function KN(e){if(void 0===e.isLoggedIn||void 0===e.loginId||void 0===e.userId||void 0===e.sessionId||void 0===e.teamId||void 0===e.firstName||void 0===e.lastName||void 0===e.displayNameFormat||void 0===e.licensedTo||void 0===e.serverVersion||void 0===e.serverComments||void 0===e.privileges||void 0===e.isAgent||void 0===e.isSupervisor||void 0===e.sipDomain||void 0===e.softphonePassword||void 0===e.reconnectTimeout||void 0===e.screenSharingEnabled||void 0===e.screenRecordingEnabled||void 0===e.myRemoteIpAddress||void 0===e.screenRecordingBitrate||void 0===e.screenRecordingGrayscale||void 0===e.screenRecordingMultiMonitors||void 0===e.country)throw Error("SessionData is not AuthorizedSessionData")}function FN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GN(e,t,n){return GN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HN(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},GN(e,t,n||e)}function HN(e){return HN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},HN(e)}function zN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){BN(e,t,n[t])}))}return e}function WN(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function VN(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?FN(e):t;var n}function YN(e,t){return YN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},YN(e,t)}function QN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HN(e);if(t){var a=HN(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return VN(this,n)}}var JN=["completed","wrap_up","wrap_up_hold"],XN=v.withPrefix("@RA"),ZN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YN(e,t)}(o,e);var t,n,r,a=QN(o);function o(){var e;return UN(this,o),BN(FN(e=a.apply(this,arguments)),"interactionStateData",{items:[],modalItemIds:[],callPickupNotifications:[],missedCallsAmount:0,isLoaded:!1,agentWelcomeReceived:!1,activeItemId:void 0}),BN(FN(e),"raWindowHandles",{}),BN(FN(e),"openRemoteAssist",(function(t,n){var r=e.sessionConnector.getStateData();KN(r);var a=r.tenantId,o=r.sessionId,i=r.serverOrigin,s=new URLSearchParams(n);s.set("tenantId",null!=a?a:""),s.set("authToken",o),s.set("embedded","true"),t.popup&&s.set("alreadyPopup","true");var c="".concat(i,"/ra/viewer?").concat(s);if(t.popup){var u=window.open(c,"ra_viewer_".concat(t.globalInteractionId),"width=".concat(window.outerWidth,",height=").concat(window.outerHeight,",top=0,left=0"));if(console.info("@RA open RA window:",c),u){try{u.addEventListener("load",(function(){console.info("@RA on RA window load"),u.addEventListener("beforeunload",(function(){console.info("@RA on RA window beforeunload"),e.removeRemoteAssistSession(t.globalInteractionId)}))}))}catch(wX){XN.error("Cannot assign event listener to RA window:",z(wX))}e.raWindowHandles[t.globalInteractionId]=u}else XN.error("Cannot open child window ",c)}else{var l=document.createElement("iframe");l.src=c,l.addEventListener("load",(function(){(null==l?void 0:l.contentWindow)&&(e.raWindowHandles[t.globalInteractionId]=l.contentWindow)})),e.updateState((function(e){return WN(zN({},e),{localItems:WN(zN({},e.localItems),BN({},t.globalInteractionId,{iframe:l}))})}))}var d=e.currentTabDataProvider.get();e.remoteAssistStateConnector.dispatch.createRASessionData(t.globalInteractionId,{hostTabId:d.id,contactId:n.contactId,clientFirstName:n.clientFirstName,clientLastName:n.clientLastName,caseId:n.caseId})})),BN(FN(e),"onMessage",(function(t){var n=t.data,r=e.remoteAssistStateConnector.dispatch;try{if("string"!=typeof n)return;0;var a,o=JSON.parse(n);if(!o.command)return;var i=null!==(a=o.data.giid)&&void 0!==a?a:"";switch(o.command){case"ra_session_created":r.updateRASessionData(i,{sessionId:o.data.sessionId,pin:o.data.pin,clientUrl:o.data.clientUrl});break;case"ra_session_joined":r.updateRASessionData(i,{viewerState:"joined"});break;case"ra_session_left":r.updateRASessionData(i,{viewerState:"left"});break;case"ra_session_client_joined":var s,c,u=e.interactionStateData.items.find((function(e){var t;return(null===(t=e.scenarioData)||void 0===t?void 0:t.globalInteractionId)===i})),l=null==u||null===(s=u.scenarioData)||void 0===s?void 0:s.interactionStepId;l&&e.interactionChatStateConnector.dispatch.pauseChatInactivityTimeout(l);var d=null!==(c=e.stateData.items[i])&&void 0!==c?c:{},f=d.contactId,_=d.clientFirstName,p=d.clientLastName,m=d.caseId;f&&e.setContact(i,f,_,p),m&&e.setCase(i,m),r.updateRASessionData(i,{clientState:"joined"});break;case"ra_session_client_left":var g,h=e.interactionStateData.items.find((function(e){var t;return(null===(t=e.scenarioData)||void 0===t?void 0:t.globalInteractionId)===i})),y=null==h||null===(g=h.scenarioData)||void 0===g?void 0:g.interactionStepId;y&&e.interactionChatStateConnector.dispatch.resumeChatInactivityTimeout(y),r.updateRASessionData(i,{clientState:"left"});break;case"ra_session_chat_open":e.openRemoteAssistChat(i)}}catch(wX){XN.error(z(wX))}})),BN(FN(e),"activateRA",(function(t){var n;null===(n=e.raWindowHandles[t])||void 0===n||n.postMessage(JSON.stringify({event:"selected"}),"*")})),BN(FN(e),"setContact",(function(t,n,r,a){var o;null===(o=e.raWindowHandles[t])||void 0===o||o.postMessage(JSON.stringify({event:"set_contact",contact_id:n,first_name:r,last_name:a}),"*")})),BN(FN(e),"setCase",(function(t,n){var r;null===(r=e.raWindowHandles[t])||void 0===r||r.postMessage(JSON.stringify({event:"set_case",case_id:n}),"*")})),BN(FN(e),"removeRemoteAssistSession",(function(t){var n;try{var r;null===(r=e.raWindowHandles[t])||void 0===r||r.close()}catch(o){}delete e.raWindowHandles[t];var a=e.stateData.localItems[t];(null==a||null===(n=a.iframe)||void 0===n?void 0:n.parentElement)&&a.iframe.parentElement.removeChild(a.iframe),e.produceState((function(e){delete e.localItems[t]})),e.remoteAssistStateConnector.dispatch.removeRASessionData(t)})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("message",this.onMessage),this.subscriptions.push(this.fromClientDispenser.subscribe({openRemoteAssist:this.openRemoteAssist}),this.remoteAssistStateConnector.dispenser.subscribe({onInitialState:function(t){e.updateState(t)},onChange:function(t){e.updateState(t)},onSessionStarted:function(t){e.toClientDispatch.onSessionStarted(t)}}),this.interactionStateConnector.dispenser.subscribe({onInitialState:function(t){e.onInteractionStateChange(e.interactionStateData,t),e.interactionStateData=zN({},t)},onChange:function(t){var n=zN({},e.interactionStateData,t);e.onInteractionStateChange(e.interactionStateData,n),e.interactionStateData=n},onActiveItemChanged:function(t){var n=Vh(t),r=n&&!!e.raWindowHandles[n];n&&r&&e.activateRA(n)},onDelegatedRASessionStart:function(t){var n,r=t.itemId,a=t.pin,o=e.interactionStateData.items.find((function(e){return e.id===r})),i=Vh(o);if(o&&i){var s="ad"===e.currentTabDataProvider.get().app;e.openRemoteAssist({globalInteractionId:i,popup:!s},WN(zN({giid:i,mediaType:o.mediaType||"unknown",action:a?"join":"create"},a?{pin:a}:void 0),{caseId:null===(n=o.emailData)||void 0===n?void 0:n.caseId,contactId:o.contactId,clientFirstName:o.displayData.firstName,clientLastName:o.displayData.lastName,clientDisplayName:o.displayData.displayName}))}}}),{unsubscribe:function(){"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener("message",e.onMessage)}})}},{key:"onInteractionStateChange",value:function(e,t){var n=this;Object.keys(this.raWindowHandles).forEach((function(r){var a,o,i,s,c=e.items.find((function(e){return Vh(e)===r})),u=t.items.find((function(e){return Vh(e)===r}));!(null==c?void 0:c.contactId)&&(null==u?void 0:u.contactId)&&(n.remoteAssistStateConnector.dispatch.updateRASessionData(r,{contactId:u.contactId,clientFirstName:u.displayData.firstName,clientLastName:u.displayData.lastName}),n.setContact(r,u.contactId,u.displayData.firstName,u.displayData.lastName)),!(null==c||null===(a=c.emailData)||void 0===a?void 0:a.caseId)&&(null==u||null===(o=u.emailData)||void 0===o?void 0:o.caseId)&&(n.remoteAssistStateConnector.dispatch.updateRASessionData(r,{caseId:u.emailData.caseId}),n.setCase(r,u.emailData.caseId)),-1===JN.indexOf(null!==(i=null==c?void 0:c.state)&&void 0!==i?i:"unknown")&&-1!==JN.indexOf(null!==(s=null==u?void 0:u.state)&&void 0!==s?s:"unknown")&&n.removeRemoteAssistSession(r)}))}},{key:"openRemoteAssistChat",value:function(e){var t,n=this.stateData.items[e],r=this.interactionStateData.items.find((function(t){var n;return(null===(n=t.scenarioData)||void 0===n?void 0:n.globalInteractionId)===e}));"chat"===(null==r?void 0:r.mediaType)&&(null===(t=r.scenarioData)||void 0===t?void 0:t.serviceId)&&n.sessionId&&"joined"===n.clientState&&this.interactionChatStateConnector.dispatch.openChannel({channel:"remoteassist",address:n.sessionId,serviceId:r.scenarioData.serviceId,interactionStepId:r.scenarioData.interactionStepId})}},{key:"cleanup",value:function(){GN(HN(o.prototype),"cleanup",this).call(this),Object.keys(this.raWindowHandles).forEach(this.removeRemoteAssistSession),this.raWindowHandles={}}},{key:"resetState",value:function(){GN(HN(o.prototype),"resetState",this).call(this),Object.keys(this.raWindowHandles).forEach(this.removeRemoteAssistSession),this.raWindowHandles={}}}])&&qN(t.prototype,n),r&&qN(t,r),o}(Ts.createBaseStateClass({name:"remoteAssistLocalState",controlEvents:LN,trackerEvents:xN,getInitialState:function(){return{items:{},localItems:{}}},options:{authorized:!0},dependencies:["currentTabDataProvider","sessionConnector","interactionStateConnector","interactionChatStateConnector","remoteAssistStateConnector"]}));function eM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aM(e){return aM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},aM(e)}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rM(e,t,n[t])}))}return e}function iM(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?eM(e):t;var n}function sM(e,t){return sM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sM(e,t)}function cM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aM(e);if(t){var a=aM(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return iM(this,n)}}var uM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sM(e,t)}(o,e);var t,n,r,a=cM(o);function o(){var e;return tM(this,o),rM(eM(e=a.apply(this,arguments)),"createRASessionData",(function(t,n){e.stateData=Ot(e.stateData,(function(e){e.items[t]=oM({globalInteractionId:t,viewerState:"no",clientState:"no"},n)})),e.toClientDispatch.onChange(e.stateData)})),rM(eM(e),"updateRASessionData",(function(t,n){var r=e.stateData.items[t];if(r){e.stateData=Ot(e.stateData,(function(e){e.items[t]=oM({},e.items[t],n)}));var a=e.stateData.items[t];(null==r?void 0:r.clientUrl)!==a.clientUrl&&a.clientUrl&&e.toClientDispatch.onSessionStarted(a),e.toClientDispatch.onChange(e.stateData)}})),rM(eM(e),"removeRASessionData",(function(t){e.stateData=Ot(e.stateData,(function(e){delete e.items[t]})),e.toClientDispatch.onChange(e.stateData)})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({createRASessionData:this.createRASessionData,updateRASessionData:this.updateRASessionData,removeRASessionData:this.removeRASessionData}))}}])&&nM(t.prototype,n),r&&nM(t,r),o}(Ts.createBaseStateClass({name:"remoteAssistState",controlEvents:jN,trackerEvents:MN,getInitialState:$N,options:{synchronized:!0,authorized:!0},dependencies:[]})),lM={onInitialState:{parameters:[]},onChange:{parameters:[]}},dM={getUserNodeId:{parameters:[]},requestPinCode:{parameters:[]}};function fM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gM(e){return gM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gM(e)}function hM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mM(e,t,n[t])}))}return e}function yM(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function vM(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?fM(e):t;var n}function bM(e,t){return bM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bM(e,t)}function CM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gM(e);if(t){var a=gM(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vM(this,n)}}var SM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bM(e,t)}(o,e);var t,n,r,a=CM(o);function o(){var e;return _M(this,o),mM(fM(e=a.apply(this,arguments)),"onAgentWelcome",(function(){return e.checkIfEnabled()})),mM(fM(e),"checkIfEnabled",(function(){var t=e.sessionConnector.getStateData().serverOrigin;if(!e.stateData.isEnabled)return yc(t).checkIfRescueIsEnabled().then((function(t){e.updateState((function(e){return yM(hM({},e),{isEnabled:t})}))}))})),mM(fM(e),"getUserNodeId",(function(){var t=e.sessionConnector.getStateData().serverOrigin;return yc(t).getRescueNodeId().then((function(t){t&&t.nodeId?e.updateState((function(e){return yM(hM({},e),{userNodeId:t.nodeId})})):e.updateState((function(e){return yM(hM({},e),{isEnabled:!1})}))})).catch((function(){return e.updateState((function(e){return yM(hM({},e),{isEnabled:!1})}))}))})),mM(fM(e),"requestPinCode",(function(){var t=e.stateData,n=t.isEnabled,r=t.userNodeId;if(n){var a=function(){var t=e.sessionConnector.getStateData().serverOrigin,n=e.stateData.userNodeId;e.updateState((function(e){return yM(hM({},e),{pinCode:void 0,errorCode:void 0})})),n&&yc(t).getRescuePinCode({nodeId:n}).then((function(t){if(t){var n=t.pinCode;n?e.updateState((function(e){return yM(hM({},e),{pinCode:n})})):e.updateState((function(e){return yM(hM({},e),{errorCode:"400"})}))}})).catch((function(){return e.updateState((function(e){return yM(hM({},e),{isEnabled:!1})}))}))};r?a():e.getUserNodeId().then(a)}})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({getUserNodeId:this.getUserNodeId,requestPinCode:this.requestPinCode}))}}])&&pM(t.prototype,n),r&&pM(t,r),o}(Ts.createBaseStateClass({name:"rescueState",controlEvents:dM,trackerEvents:lM,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{isEnabled:!1}},dependencies:["transport","sessionConnector"]})),wM={onInitialState:{parameters:[]},onChange:{parameters:[]}},IM={showAllScreenPops:{parameters:[]},addTabs:{parameters:[]},removeTab:{parameters:[]}};function OM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AM(e){var t={resizable:"yes",scrollbars:"yes",width:window&&Math.trunc(.75*window.outerWidth),height:window&&Math.trunc(.75*window.outerHeight)},n=Object.entries(t).filter((function(e){return DM(e,2)[1]})).map((function(e){var t=DM(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join(",");return window.open(e,"_blank",n)}function PM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function NM(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){RM(o,r,a,i,s,"next",e)}function s(e){RM(o,r,a,i,s,"throw",e)}i(void 0)}))}}function MM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(e,t,n){return LM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$M(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},LM(e,t,n||e)}function $M(e){return $M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$M(e)}function KM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xM(e,t,n[t])}))}return e}function FM(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function UM(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?kM(e):t;var n}function qM(e,t){return qM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qM(e,t)}function BM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||HM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GM(e){return function(e){if(Array.isArray(e))return PM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||HM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HM(e,t){if(e){if("string"==typeof e)return PM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PM(e,t):void 0}}function zM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$M(e);if(t){var a=$M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UM(this,n)}}function WM(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var VM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qM(e,t)}(o,e);var t,n,r,a=zM(o);function o(){var e;MM(this,o),xM(kM(e=a.apply(this,arguments)),"windowsToClose",{}),xM(kM(e),"handleScreenPops",(function(t,n){var r;e.isDialedWorkitem(t)?e.copyTabsToDialedWorkitem(t):(e.createProfileTab(t),e.createCaseTab(t),e.createActivityFormTab(t),t.screenPopData&&(t.screenPopData.web&&e.handleWebScreenPop(t,n),t.screenPopData.transferData&&e.handleTransferData(t),t.screenPopData.screenData&&e.handleScreenData(t),t.screenPopData.nativeremoteassist&&e.handleRemoteAssist(t,n),e.getCurrentIntegrationKey()&&e.handleCrmScreenPop(t,n),(null===(r=t.externalChatData)||void 0===r?void 0:r.directChat)&&e.handleDirectChatScreenPop(t)))})),xM(kM(e),"copyTabsToDialedWorkitem",(function(t){if(e.isDialedWorkitem(t)){var n=e.interactionStateConnector.getStateData().items.find((function(e){var n,r;return(null===(n=e.workitemData)||void 0===n?void 0:n.id)===(null===(r=t.workitemData)||void 0===r?void 0:r.id)}));if(n){var r=e.stateData.openedScreenPopTabs[n.id];e.updateTabs(t.id,r)}}})),xM(kM(e),"handleWebScreenPop",(function(t,n){var r;if(!e.checkIfInteractionScreenPopCompleted(t.id,"web")){var a=null===(r=t.screenPopData)||void 0===r?void 0:r.web;Ta(a),e.runCRMCommand(t.id,a.url)||a.popUponAnswer&&"delivered"!==t.state&&!(null==n?void 0:n.ignorePopUponAnswer)||(e.hasTabWithActiveIntegrationApi()?e.tryOpenCustomWebScreenPop(t.id,a):e.defaultWebScreenPopHandler(t.id,a))}})),xM(kM(e),"tryOpenCustomWebScreenPop",(function(t,n){e.integrationApiConnector.dispatch.webScreenPopCustom(t,n).then((function(r){r||e.defaultWebScreenPopHandler(t,n)})).catch((function(){e.defaultWebScreenPopHandler(t,n)}))})),xM(kM(e),"defaultWebScreenPopHandler",(function(t,n){!n.popup&&e.hasOpenedADTab()?e.openWebScreenPopTabs(t,n):e.openWebScreenPopWindows(t,n),e.markInteractionScreenPopAsCompleted(t,"web")})),xM(kM(e),"openWebScreenPopWindows",(function(t,n){var r=[];"OPEN_WEB_PAGE"===n.action&&n.url&&r.push(n.url),n.secondaryUrls&&Object.values(n.secondaryUrls).forEach((function(e){e.url&&r.push(e.url)}));var a=r.reduce((function(e,t){var n=AM(t);return n&&e.push(n),e}),[]);if("DISPLAY_TEXT"===n.action&&n.content){var o=AM("".concat(location.origin,"/agent/screenpop.html"));o&&(o.onload=function(){return o.window.document.body.innerHTML=n.content},a.push(o))}n.keepPopupOpenAfterFinish||(e.windowsToClose[t]=a)})),xM(kM(e),"openWebScreenPopTabs",(function(t,n){var r=function(e){return"iframe".concat(e,"+").concat(t)},a={id:r(0),type:"OPEN_WEB_PAGE"===n.action?"iframe":"iframe-html",title:n.label||"URL",url:n.url,content:n.content},o=Object.values(n.secondaryUrls||[]).map((function(e,t){return{id:r(t+1),type:"iframe",title:e.label||"URL",url:e.url}})),i=[a].concat(GM(o));e.updateTabs(t,i)})),xM(kM(e),"screenPopCrmRecord",(function(t){var n=t.itemId,r=t.recordId,a=t.recordType,o=t.crmSource,i=t.inNewTab,s=e.localizationConnector.getStateData().t.INTEGRATIONS,c={source:o,id:r,type:null!=a?a:"",displayName:a?s.associated_object_from_screen_pop_type_only(a):s.associated_object_from_screen_pop_empty_name(),displayType:null!=a?a:"",customFields:{}};e.integrationApiConnector.dispatch.requestRecordInfo({id:r,type:null!=a?a:""}).then((function(e){e?c=e:console.warn('@Integration API method "requestRecordInfo" returns no data for screen pop object:',r,a)})).catch((function(e){(null==e?void 0:e.message)===Fp&&console.warn('@Integration API "requestRecordInfo" has no handlers')})).finally((function(){e.interactionStateConnector.dispatch.addAssociatedObject(n,c,{force:!0,primary:!0}),e.integrationApiConnector.dispatch.openRecord(c,n,{inNewTab:i,source:"scenario"})}))})),xM(kM(e),"handleTransferData",(function(t){var n;if(!e.checkIfInteractionScreenPopCompleted(t.id,"transferData")){var r=null===(n=t.screenPopData)||void 0===n?void 0:n.transferData;Ta(r),e.integrationApiConnector.dispatch.loadTransferData(t.id,r),e.markInteractionScreenPopAsCompleted(t.id,"transferData")}})),xM(kM(e),"handleScreenData",(function(t){var n;if(!e.checkIfInteractionScreenPopCompleted(t.id,"screenData")){var r=null===(n=t.screenPopData)||void 0===n?void 0:n.screenData;Ta(r);var a=e.getCurrentIntegrationKey();a&&(e.integrationApiConnector.dispatch.showScreen(r[a],t.id),e.markInteractionScreenPopAsCompleted(t.id,"screenData"))}})),xM(kM(e),"handleCrmScreenPop",(function(t,n){var r,a=e.getCurrentIntegrationKey();if(a){var o=null===(r=t.screenPopData)||void 0===r?void 0:r[a];!o||o.popUponAnswer&&"delivered"!==t.state&&!(null==n?void 0:n.ignorePopUponAnswer)||("SHOW_OBJECT"===o.action?e.screenPopCrmRecord({itemId:t.id,recordId:o.objectId,recordType:o.objectType,crmSource:o.type,inNewTab:o.newTab}):"SHOW_QUERY_RESULTS"===o.action&&e.integrationApiConnector.dispatch.searchRecords({text:o.statement,types:[o.objectType]},t.id,o.newTab),e.markInteractionScreenPopAsCompleted(t.id,o.type))}})),xM(kM(e),"handleRemoteAssist",(function(t,n){var r;if(!e.checkIfInteractionScreenPopCompleted(t.id,"nativeremoteassist")){var a=null===(r=t.screenPopData)||void 0===r?void 0:r.nativeremoteassist;Ta(a),!a.pin||a.popUponAnswer&&"delivered"!==t.state&&!(null==n?void 0:n.ignorePopUponAnswer)||(e.interactionStateConnector.dispatch.delegateRASessionStart(t.id,a.pin),e.markInteractionScreenPopAsCompleted(t.id,"nativeremoteassist"))}})),xM(kM(e),"handleDirectChatScreenPop",(function(t){var n,r,a,o,i=null===(n=t.externalChatData)||void 0===n?void 0:n.directChat;if(i){var s,c=e.getCurrentIntegrationKey();if((null===(r=i.params)||void 0===r?void 0:r.crmType)===c&&(null===(a=i.params)||void 0===a?void 0:a.crmObjectId))e.screenPopCrmRecord({itemId:t.id,recordId:i.params.crmObjectId,recordType:null!==(s=i.params.crmObjectType)&&void 0!==s?s:"",crmSource:i.params.crmType,inNewTab:!1});null===(o=i.params)||void 0===o||o.crmType,e.markInteractionScreenPopAsCompleted(t.id,"directChat")}}));var t=kM(e);xM(kM(e),"createProfileTab",function(){var e=NM((function(e){var n,r,a,o,i,s;return WM(this,(function(c){switch(c.label){case 0:return t.checkIfInteractionScreenPopCompleted(e.id,"profile")?[2]:e.contactId?(n=t.sessionConnector.getStateData(),r=n.serverOrigin,a=n.displayNameFormat,[4,zC({id:e.contactId},r)]):[2];case 1:return o=BM.apply(void 0,[c.sent(),1]),i=o[0],s={id:e.contactId,title:Iv(a,i.firstName,i.lastName),type:"profile",contactId:e.contactId},t.updateTabs(e.id,[s]),t.markInteractionScreenPopAsCompleted(e.id,"profile"),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),xM(kM(e),"createCaseTab",(function(t){var n,r,a;if(!e.checkIfInteractionScreenPopCompleted(t.id,"case")&&(null===(n=t.emailData)||void 0===n?void 0:n.caseId)&&(null===(r=t.emailData)||void 0===r?void 0:r.caseNumber)){var o={id:t.emailData.caseId,type:"case",title:String(null==t||null===(a=t.emailData)||void 0===a?void 0:a.caseNumber),caseId:t.emailData.caseId,caseNumber:t.emailData.caseNumber};e.updateTabs(t.id,[o]),e.markInteractionScreenPopAsCompleted(t.id,"case")}}));var n=kM(e);return xM(kM(e),"createActivityFormTab",function(){var e=NM((function(e){var t,r,a,o,i,s,c,u,l;return WM(this,(function(d){switch(d.label){case 0:return n.checkIfInteractionScreenPopCompleted(e.id,"activityForm")?[2]:[4,n.interactionStateConnector.dispatch.fetchFormDefinition(e)];case 1:return a=d.sent(),o=null==a?void 0:a.find((function(e){return"SCREENPOP"===e.type})),i=(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.screenpopFormEnabled)||(null==e||null===(r=e.workitemData)||void 0===r?void 0:r.screenpopFormEnabled),o&&i?(s={id:"".concat(e.id,"_activityForm"),type:"activityForm",title:o.name||""},c=n.interactionStateConnector.getStateData().items,u=c.find((function(t){var n,r;return(null===(n=t.workitemData)||void 0===n?void 0:n.id)===(null===(r=e.workitemData)||void 0===r?void 0:r.id)&&t.id!==e.id})),u&&n.updateTabs(u.id,[s]),l=!!c.find((function(t){return t.id===e.id})),l?(n.updateTabs(e.id,[s]),n.markInteractionScreenPopAsCompleted(e.id,"activityForm"),[2]):[2]):[2]}}))}));return function(t){return e.apply(this,arguments)}}()),xM(kM(e),"removeInteractionScreenPops",(function(t){var n;null===(n=e.windowsToClose[t.id])||void 0===n||n.forEach((function(e){return e.close()})),delete e.windowsToClose[t.id],e.produceState((function(e){delete e.openedScreenPopTabs[t.id]}))})),xM(kM(e),"updateTabs",(function(t,n){e.produceState((function(e){var r=GM(e.openedScreenPopTabs[t]||[]);n.forEach((function(e){var t=r.findIndex((function(t){return t.id===e.id}));-1!==t?r[t]=e:r.push(e)})),e.openedScreenPopTabs[t]=r}))})),xM(kM(e),"removeTab",(function(t,n){e.produceState((function(e){var r=(e.openedScreenPopTabs[t]||[]).filter((function(e){return e.id!==n}));e.openedScreenPopTabs[t]=r}))})),xM(kM(e),"checkIfInteractionScreenPopCompleted",(function(t,n){var r;return!!(null===(r=e.stateData.completedScreenPopsMap[t])||void 0===r?void 0:r[n])})),xM(kM(e),"markInteractionScreenPopAsCompleted",(function(t,n){e.produceState((function(e){e.completedScreenPopsMap[t]=FM(KM({},e.completedScreenPopsMap[t]||{}),xM({},n,!0))}))})),xM(kM(e),"getCurrentIntegrationKey",(function(){return e.integrationApiConnector.getStateData().integrationKey})),xM(kM(e),"hasOpenedADTab",(function(){var t=e.tabsConnector.getStateData().tabs;return!!Object.values(t).find((function(e){return"ad"===e.app}))})),xM(kM(e),"hasTabWithActiveIntegrationApi",(function(){var t=e.tabsConnector.getStateData().tabs;return!!Object.values(t).find((function(e){return e.activeApi}))})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.interactionStateConnector.dispenser.subscribe({onNewItem:this.handleScreenPops,onItemDelivered:this.handleScreenPops,onNewItemDelivered:this.handleScreenPops,onItemRemoved:this.removeInteractionScreenPops}),this.bpClientStateConnector.dispenser.subscribe({onTriggerScreenPop:this.handleScreenPops}),this.fromClientDispenser.subscribe({showAllScreenPops:function(t){return e.handleScreenPops(t,{ignorePopUponAnswer:!0})},addTabs:this.updateTabs,removeTab:this.removeTab}))}},{key:"isDialedWorkitem",value:function(e){return"voice"===e.mediaType&&e.workitemData}},{key:"runCRMCommand",value:function(e,t){var n,r=this.getCurrentIntegrationKey(),a={id:(n=t.match(/^SHOW_OBJECT:([0-9a-fA-F-]+)(:([a-zA-Z]+))?$/)||[])[1],type:n[3]},o=a.id,i=a.type;if(o)return this.screenPopCrmRecord({itemId:e,recordId:o,recordType:i,crmSource:r,inNewTab:!1}),!0;var s=function(e){var t=TM(e.match(/^SHOW_QUERY_RESULTS:([a-zA-Z0-9 '-]+)$/)||[],2);return t[0],t[1]}(t);return!!s&&(this.integrationApiConnector.dispatch.searchRecords({text:s,types:[]},e,!1),!0)}},{key:"cleanup",value:function(){LM($M(o.prototype),"cleanup",this).call(this),this.windowsToClose={}}},{key:"resetState",value:function(){LM($M(o.prototype),"resetState",this).call(this),this.windowsToClose={}}}],n&&jM(t.prototype,n),r&&jM(t,r),o}(Ts.createBaseStateClass({name:"screenPopState",controlEvents:IM,trackerEvents:wM,options:{synchronized:!0,authorized:!0},dependencies:["interactionStateConnector","bpClientStateConnector","tabsConnector","currentTabDataProvider","integrationApiConnector","sessionConnector","localizationConnector"],getInitialState:function(){return{openedScreenPopTabs:{},waitingInteractionScreenPopCounts:{},completedScreenPopsMap:{}}}}));const YM=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Xd(e,t,n)};var QM=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const JM=function(e){return QM.test(e)};const XM=function(e){return e.split("")};var ZM="[\\ud800-\\udfff]",ej="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tj="\\ud83c[\\udffb-\\udfff]",nj="[^\\ud800-\\udfff]",rj="(?:\\ud83c[\\udde6-\\uddff]){2}",aj="[\\ud800-\\udbff][\\udc00-\\udfff]",oj="(?:"+ej+"|"+tj+")"+"?",ij="[\\ufe0e\\ufe0f]?",sj=ij+oj+("(?:\\u200d(?:"+[nj,rj,aj].join("|")+")"+ij+oj+")*"),cj="(?:"+[nj+ej+"?",ej,rj,aj,ZM].join("|")+")",uj=RegExp(tj+"(?="+tj+")|"+cj+sj,"g");const lj=function(e){return e.match(uj)||[]};const dj=function(e){return JM(e)?lj(e):XM(e)};const fj=function(e){return function(t){t=Eo(t);var n=JM(t)?dj(t):void 0,r=n?n[0]:t.charAt(0),a=n?YM(n,1).join(""):t.slice(1);return r[e]()+a}}("toUpperCase");const _j=function(e){return fj(Eo(e).toLowerCase())};const pj=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n};const mj=function(e){return function(t){return null==e?void 0:e[t]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var gj=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hj=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const yj=function(e){return(e=Eo(e))&&e.replace(gj,mj).replace(hj,"")};var vj=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const bj=function(e){return e.match(vj)||[]};var Cj=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const Sj=function(e){return Cj.test(e)};var wj="\\u2700-\\u27bf",Ij="a-z\\xdf-\\xf6\\xf8-\\xff",Oj="A-Z\\xc0-\\xd6\\xd8-\\xde",Tj="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ej="["+Tj+"]",Dj="\\d+",Aj="[\\u2700-\\u27bf]",Pj="["+Ij+"]",kj="[^\\ud800-\\udfff"+Tj+Dj+wj+Ij+Oj+"]",Rj="(?:\\ud83c[\\udde6-\\uddff]){2}",Nj="[\\ud800-\\udbff][\\udc00-\\udfff]",Mj="["+Oj+"]",jj="(?:"+Pj+"|"+kj+")",xj="(?:"+Mj+"|"+kj+")",Lj="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$j="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Kj="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Fj="[\\ufe0e\\ufe0f]?",Uj=Fj+Kj+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Rj,Nj].join("|")+")"+Fj+Kj+")*"),qj="(?:"+[Aj,Rj,Nj].join("|")+")"+Uj,Bj=RegExp([Mj+"?"+Pj+"+"+Lj+"(?="+[Ej,Mj,"$"].join("|")+")",xj+"+"+$j+"(?="+[Ej,Mj+jj,"$"].join("|")+")",Mj+"?"+jj+"+"+Lj,Mj+"+"+$j,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dj,qj].join("|"),"g");const Gj=function(e){return e.match(Bj)||[]};const Hj=function(e,t,n){return e=Eo(e),void 0===(t=n?void 0:t)?Sj(e)?Gj(e):bj(e):e.match(t)||[]};var zj=RegExp("['\u2019]","g");var Wj=function(e){return function(t){return pj(Hj(yj(t).replace(zj,"")),e,"")}}((function(e,t,n){return t=t.toLowerCase(),e+(n?_j(t):t)}));const Vj=Wj;var Yj={onInitialState:{parameters:[]},onChange:{parameters:[]}},Qj={subscribeForServiceDetails:{parameters:[]},unsubscribeFromServiceDetails:{parameters:[]},subscribeForServiceListDetails:{parameters:[]},unsubscribeFromServiceListDetails:{parameters:[]},subscribeForHuntGroupsDetails:{parameters:[]},unsubscribeFromHuntGroupsDetails:{parameters:[]}};function Jj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tx(e,t,n){return tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nx(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},tx(e,t,n||e)}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nx(e)}function rx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ex(e,t,n[t])}))}return e}function ax(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ox(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Jj(e):t;var n}function ix(e,t){return ix=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ix(e,t)}function sx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nx(e);if(t){var a=nx(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ox(this,n)}}var cx=3e4,ux=5e3,lx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ix(e,t)}(o,e);var t,n,r,a=sx(o);function o(){var e;return Xj(this,o),ex(Jj(e=a.apply(this,arguments)),"serviceIdList",{}),ex(Jj(e),"isSubscribed",!1),ex(Jj(e),"subscribeRequestTimeout",null),ex(Jj(e),"subscribeResponseTimeout",null),ex(Jj(e),"huntGroupSubscriptions",[]),ex(Jj(e),"huntGroupSubscribeRequestTimeout",null),ex(Jj(e),"huntGroupSubscribeResponseTimeout",null),ex(Jj(e),"subscribe",(function(){if(e.subscribeRequestTimeout&&clearTimeout(e.subscribeRequestTimeout),e.subscribeResponseTimeout&&clearTimeout(e.subscribeResponseTimeout),Object.keys(e.serviceIdList).length){var t=e.appConfigConnector.getStateData(),n=t.primaryMetric,r=t.secondaryMetric,a={},o=["agents_ready","agents_logged"];n&&o.push(n),r&&o.push(r),Array.from(new Set(o)).forEach((function(e,t){return a[t]=e})),e.subscribeRequestTimeout=setTimeout((function(){e.transport.dispatch.agent_get_services_details({services:Object.assign({},Object.keys(e.serviceIdList)),service_fields:a}).then(e.onServiceDetails),e.isSubscribed=!0,e.subscribeResponseTimeout=setTimeout((function(){e.subscribe()}),cx)}),500)}})),ex(Jj(e),"unsubscribe",(function(){e.subscribeRequestTimeout&&clearTimeout(e.subscribeRequestTimeout),e.subscribeResponseTimeout&&clearTimeout(e.subscribeResponseTimeout),e.isSubscribed=!1})),ex(Jj(e),"subscribeForServiceDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.unsubscribe(),e.serviceIdList[t]?e.serviceIdList[t]++:e.serviceIdList[t]=1,e.subscribe())})),ex(Jj(e),"unsubscribeFromServiceDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.unsubscribe(),e.serviceIdList[t]>1?e.serviceIdList[t]--:delete e.serviceIdList[t],e.subscribe())})),ex(Jj(e),"subscribeForServiceListDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.unsubscribe(),e.serviceIdList={},t.forEach((function(t){e.serviceIdList[t]=1})),e.subscribe())})),ex(Jj(e),"unsubscribeFromServiceListDetails",(function(){var t;(null===(t=e.sessionConnector.getStateData().tenantFeatures)||void 0===t?void 0:t.rtDataEnabled)&&(e.serviceIdList={},e.unsubscribe())})),ex(Jj(e),"onServiceDetails",(function(t){e.subscribeResponseTimeout&&clearTimeout(e.subscribeResponseTimeout);var n={};Object.values(t.services).forEach((function(e){var t=dx(e);n[t.serviceId]=t})),e.updateState((function(e){return ax(rx({},e),{serviceDetails:rx({},n)})})),e.subscribeRequestTimeout=setTimeout((function(){e.subscribe()}),ux)})),ex(Jj(e),"subscribeForHuntGroupsDetails",(function(t){var n,r=e.sessionConnector.getStateData();if(t.length&&(null===(n=r.tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)){e.huntGroupSubscribeRequestTimeout&&(clearTimeout(e.huntGroupSubscribeRequestTimeout),e.huntGroupSubscribeRequestTimeout=null),e.huntGroupSubscribeResponseTimeout&&(clearTimeout(e.huntGroupSubscribeResponseTimeout),e.huntGroupSubscribeResponseTimeout=null),t.forEach((function(t){-1===e.huntGroupSubscriptions.indexOf(t)&&e.huntGroupSubscriptions.push(t)}));var a={0:"agents_logged",1:"phones_registered"};e.huntGroupSubscribeRequestTimeout=setTimeout((function(){e.transport.dispatch.agent_get_hunt_groups_details({hunt_groups:e.huntGroupSubscriptions,hunt_groups_fields:a}).then(e.onHuntGroupsDetails),e.huntGroupSubscribeResponseTimeout=setTimeout((function(){e.subscribeForHuntGroupsDetails(e.huntGroupSubscriptions)}),cx)}),500)}})),ex(Jj(e),"unsubscribeFromHuntGroupsDetails",(function(t){var n;(null===(n=e.sessionConnector.getStateData().tenantFeatures)||void 0===n?void 0:n.rtDataEnabled)&&(e.huntGroupSubscriptions=e.huntGroupSubscriptions.filter((function(e){return-1===(null==t?void 0:t.indexOf(e))})),e.huntGroupSubscriptions.length||(e.huntGroupSubscribeRequestTimeout&&(clearTimeout(e.huntGroupSubscribeRequestTimeout),e.huntGroupSubscribeRequestTimeout=null),e.huntGroupSubscribeResponseTimeout&&(clearTimeout(e.huntGroupSubscribeResponseTimeout),e.huntGroupSubscribeResponseTimeout=null)))})),ex(Jj(e),"onHuntGroupsDetails",(function(t){e.huntGroupSubscribeResponseTimeout&&(clearTimeout(e.huntGroupSubscribeResponseTimeout),e.huntGroupSubscribeResponseTimeout=null);var n={};Object.values(t.hunt_groups).forEach((function(e){var t=_x(e);n[t.huntGroupId]=t})),e.produceState((function(e){e.huntGroupsDetails=n})),e.huntGroupSubscribeRequestTimeout=setTimeout((function(){e.subscribeForHuntGroupsDetails(e.huntGroupSubscriptions)}),ux)})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({subscribeForServiceDetails:this.subscribeForServiceDetails,unsubscribeFromServiceDetails:this.unsubscribeFromServiceDetails,subscribeForServiceListDetails:this.subscribeForServiceListDetails,unsubscribeFromServiceListDetails:this.unsubscribeFromServiceListDetails,subscribeForHuntGroupsDetails:this.subscribeForHuntGroupsDetails,unsubscribeFromHuntGroupsDetails:this.unsubscribeFromHuntGroupsDetails}))}},{key:"cleanup",value:function(){tx(nx(o.prototype),"cleanup",this).call(this),this.serviceIdList={},this.isSubscribed=!1,this.subscribeRequestTimeout=null,this.subscribeResponseTimeout=null,this.huntGroupSubscriptions=[],this.huntGroupSubscribeRequestTimeout=null,this.huntGroupSubscribeResponseTimeout=null}},{key:"resetState",value:function(){tx(nx(o.prototype),"resetState",this).call(this),this.serviceIdList={},this.isSubscribed=!1,this.subscribeRequestTimeout=null,this.subscribeResponseTimeout=null,this.huntGroupSubscriptions=[],this.huntGroupSubscribeRequestTimeout=null,this.huntGroupSubscribeResponseTimeout=null}}])&&Zj(t.prototype,n),r&&Zj(t,r),o}(Ts.createBaseStateClass({name:"serviceDetailsState",controlEvents:Qj,trackerEvents:Yj,options:{synchronized:!0,authorized:!0},dependencies:["transport","appConfigConnector","sessionConnector"],getInitialState:function(){return{serviceDetails:{},huntGroupsDetails:{}}}}));function dx(e){var t={serviceId:e.service_id};return Object.keys(e).forEach((function(n){var r=Vj(n);"serviceId"!==r&&(t[r]=e[n])})),t}function fx(e){return"string"==typeof e&&""!==e}function _x(e){return{huntGroupId:e.hunt_group_id,agentsLogged:fx(e.agents_logged)?Number(e.agents_logged):void 0,phonesRegistered:fx(e.phones_registered)?Number(e.phones_registered):void 0}}var px={onInitialState:{parameters:[]},onChange:{parameters:[]}},mx={requestServices:{async:!0,parameters:[],result:void 0},requestServiceDispositions:{async:!0,parameters:[],result:void 0},requestServiceRequiredOutboundCall:{parameters:[]},requestOutboundChatChannels:{parameters:[]},getService:{async:!0,parameters:[],result:void 0}},gx=function(){return{dispositions:{},services:{},notAssignedServices:{},serviceRequiredForOutboundCall:!1,resetServiceOnOutboundCall:!1,outboundChatChannels:{},allOutboundChatChannels:[],serviceMessengers:{}}},hx={id:"id",name:"name",code:"code",group:"group",icon:"icon",type:"type",s_type:["systemType",function(e){return e||void 0}],visible:["isVisible",Ie],visible_in_toolbar:["isVisibleInToolbar",Ie],is_retry:["isRetry",Ie],is_i:["isInbound",Ie],is_o:["isOutbound",Ie],is_p:["isPreview",Ie]};function yx(e){return Te(e,hx)}var vx={id:"id",type:"type",name:"name",short_name:"shortName",article_id:"kbArticleId",chat_service_id:"chatServiceId",mark_email_account:"marketingEmailAccount",email_type:"emailDistributionType",exclude_from_dashboard:["excludeFromDashboard",Ie],list_lookup:["doListLookup",Ie],kb_visible:["isKbVisible",Ie],use_dispositions:["useDispositions",Ie],require_dispositions:["requireDispositions",Ie],screenpop_form_enabled:["isScreenpopFormEnabled",Ie],voice_signature_enabled:["isVoiceSignatureEnabled",Ie],order:"formDisplayOrder",not_user_selectable:["notUserSelectable",Ie],native_remote_assist_pop_enabled:["remoteAssistPopEnabled",Ie]};function bx(e){return Te(e,vx)}function Cx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sx(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function wx(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Sx(o,r,a,i,s,"next",e)}function s(e){Sx(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Ix(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ox(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ex(e)}function Dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tx(e,t,n[t])}))}return e}function Ax(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Px(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Cx(e):t;var n}function kx(e,t){return kx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kx(e,t)}function Rx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ex(e);if(t){var a=Ex(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Px(this,n)}}function Nx(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Mx="services",jx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kx(e,t)}(o,e);var t,n,r,a=Rx(o);function o(){var e;Ix(this,o),Tx(Cx(e=a.apply(this,arguments)),"servicesRequestTracker",Ya({timeoutMilliseconds:5e3}));var t=Cx(e);return Tx(Cx(e),"getService",function(){var e=wx((function(e){var n;return Nx(this,(function(r){return t.stateData.services[e]?[2,Promise.resolve(t.stateData.services[e])]:t.servicesRequestTracker.hasRequest(Mx)?[2,null===(n=t.servicesRequestTracker.getRequest(Mx))||void 0===n?void 0:n.promise.then((function(t){return t[e]}))]:[2,Promise.reject()]}))}));return function(t){return e.apply(this,arguments)}}()),Tx(Cx(e),"requestServiceDispositions",(function(t){return e.transport.dispatch.service_dispositions({service_id:t}).then((function(n){var r=n.result,a=n.error;if(!(null==a?void 0:a.message)&&r){var o={},i=!0,s=!1,c=void 0;try{for(var u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d=u.value;o[d.id]=yx(d)}}catch(wX){s=!0,c=wX}finally{try{i||null==l.return||l.return()}finally{if(s)throw c}}return e.produceState((function(e){e.dispositions[t]=o})),Object.values(o)}v.error(null==a?void 0:a.message)})).catch((function(e){return v.error(z(e))}))})),Tx(Cx(e),"requestServiceRequiredOutboundCall",(function(){e.transport.dispatch.application_config().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){var a="1"===n[0].outbound_call_service_required,o="1"===n[0].reset_service_for_outbound_calls;e.updateState((function(e){return Ax(Dx({},e),{serviceRequiredForOutboundCall:a,resetServiceOnOutboundCall:o})}))}else v.error(null==r?void 0:r.message)}))})),Tx(Cx(e),"requestOutboundChatChannels",(function(t){var n=t.map((function(t){return e.transport.dispatch.agent_outbound_chat_channels2({service_id:t})}));Promise.all(n).then((function(n){var r=n.reduce((function(e,n,r){var a=n.result,o=n.error;if((null==o?void 0:o.message)||!a)v.error(null==o?void 0:o.message);else{var i=xx(a);e.push({serviceId:t[r],channels:i})}return e}),[]);e.produceState((function(e){r.forEach((function(t){e.outboundChatChannels[t.serviceId]=t.channels}))}))}))})),Tx(Cx(e),"requestServices",(function(){return e.servicesRequestTracker.addRequest({requestId:Mx}),e.transport.dispatch.agent_service_info().then((function(t){var n=t.result,r=t.error;if((null==r?void 0:r.message)||!n)return v.error(null==r?void 0:r.message),[];var a=n.reduce((function(e,t){return e[t.id]=bx(t),e}),{});return e.servicesRequestTracker.onResponse(Mx,a),e.produceState((function(e){e.services=a})),Object.values(a)}))})),Tx(Cx(e),"requestServiceMessengers",(function(t){e.transport.dispatch.service_messenger_data({service_id:t}).then((function(n){var r=n.result,a=n.error;if(!(null==a?void 0:a.message)&&r){var o=r.reduce((function(e,t){return e[t.id]=t,e}),{});e.produceState((function(e){e.serviceMessengers[t]=o}))}else v.error(null==a?void 0:a.message)}))})),Tx(Cx(e),"onInitialStateData",(function(t){__(t.items,(function(e){return e})).forEach((function(t){return e.onItem(t)})),e.requestServiceRequiredOutboundCall(),e.requestAllOutboundChatChannels()})),Tx(Cx(e),"onItem",(function(t){var n=t.service_id;!n||e.stateData.services[n]||e.stateData.notAssignedServices[n]||e.transport.dispatch.service_info({service_id:n}).then((function(t){var n=t.result,r=t.error;!(null==r?void 0:r.message)&&n?e.produceState((function(e){n.forEach((function(t){e.notAssignedServices[t.id]=bx(t)}))})):v.error(null==r?void 0:r.message)})),n&&!e.stateData.dispositions[n]&&e.transport.dispatch.service_dispositions({service_id:n}).then((function(t){var r=t.result,a=t.error;!(null==a?void 0:a.message)&&r?e.produceState((function(e){e.dispositions[n]=r.reduce((function(e,t){return e[t.id]=yx(t),e}),{})})):v.error(null==a?void 0:a.message)})),"chat"===t.media_type&&n&&!e.stateData.serviceMessengers[n]&&e.requestServiceMessengers(n)})),e}return t=o,n=[{key:"initialize",value:function(){var e=this,t=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onInitialStateData,agent_item_created:this.onItem,agent_item_changed:this.onItem}),this.fromClientDispenser.subscribe({requestServiceDispositions:this.requestServiceDispositions,requestServiceRequiredOutboundCall:this.requestServiceRequiredOutboundCall,requestServices:this.requestServices,requestOutboundChatChannels:this.requestOutboundChatChannels,getService:this.getService}),this.sessionConnector.dispenser.subscribe({onInitialState:function(){var t=wx((function(t){return Nx(this,(function(n){switch(n.label){case 0:return t.isLoggedIn?[4,e.requestServices()]:[3,2];case 1:n.sent().filter((function(e){return e.useDispositions})).forEach((function(t){e.requestServiceDispositions(t.id)})),n.label=2;case 2:return[2]}}))}));return function(e){return t.apply(this,arguments)}}(),onLogin:wx((function(){return Nx(this,(function(e){switch(e.label){case 0:return[4,t.requestServices()];case 1:return e.sent().filter((function(e){return e.useDispositions})).forEach((function(e){t.requestServiceDispositions(e.id)})),[2]}}))}))}))}},{key:"requestAllOutboundChatChannels",value:function(){var e=this;this.transport.dispatch.agent_outbound_chat_channels().then((function(t){var n=t.result,r=t.error;!(null==r?void 0:r.message)&&n?e.updateState((function(e){return Ax(Dx({},e),{allOutboundChatChannels:xx(n)})})):v.error(null==r?void 0:r.message)}))}}],n&&Ox(t.prototype,n),r&&Ox(t,r),o}(Ts.createBaseStateClass({name:"servicesDispositionsState",controlEvents:mx,trackerEvents:px,options:{synchronized:!0,authorized:!0},getInitialState:gx,dependencies:["transport","sessionConnector"]}));function xx(e){return e.reduce((function(e,t){var n=t.channel;return n&&e.push(n),e}),[])}var Lx={onInitialState:{parameters:[]},onChange:{parameters:[]}},$x={getDashboardConfig:{parameters:[]},getMonitoringConfig:{parameters:[]},subscribeForTeamsStats:{parameters:[]},unsubscribeFromTeamsStats:{parameters:[]},setSelectedTeamId:{parameters:[]},setIncludeLoggedOut:{parameters:[]},setShowSubTeamOnly:{parameters:[]},updateSelectedSubTeamUserIds:{parameters:[]},subscribeToUserDetails:{parameters:[]},unsubscribeFromUserDetails:{parameters:[]},addKeepMonitoringUser:{parameters:[]},removeKeepMonitoringUser:{parameters:[]},resetMonitoringColumns:{parameters:[]},resizeMonitoringColumns:{parameters:[]},changeMonitoringServices:{parameters:[]},saveMonitoringConfigAsSystem:{parameters:[]},updateMetrics:{parameters:[]},updateScrollingState:{parameters:[]},saveTableConfig:{parameters:[]},deleteTableConfig:{parameters:[]},saveThresholdsConfig:{parameters:[]},setDefaultSystemThresholds:{parameters:[]},setAlertIntents:{parameters:[]},setAgentState:{parameters:[]},logoutAgent:{parameters:[]},seeAgentScreen:{parameters:[]},pullAgentScreen:{parameters:[]},subscribeToItemPeek:{parameters:[]},unsubscribeFromItemPeek:{parameters:[]},closeIntentAlert:{parameters:[]}};var Kx={in_max_wait_time:{value:"180",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},service_level:{value:"70",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"AUTO"},agents_logged:{value:"1",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},out_calls_unattended_ratio_per_day:{value:"2",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},records_dialable:{value:"1000",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},agents_ready:{value:"3",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},active_item_talk_duration:{value:"900",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},active_item_sentiment:{value:"0",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},wrap_up_time:{value:"180",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},active_item_hold_duration:{value:"120",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},agent_occupancy:{value:"70",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"LESS_THAN"},ready_state:{value:"900",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"}},Fx={value:"900",textColor:"red",backgroundColor:"transparent",disabled:!1,condition:"GREAT_THAN"},Ux={messages:[],parties:{},isLoading:!0,isUnsubscribed:!1,intents:[]};const qx=function(e,t){return function(n,r){if(null==n)return n;if(!Kr(n))return e(n,r);for(var a=n.length,o=t?a:-1,i=Object(n);(t?o--:++o<a)&&!1!==r(i[o],o,i););return n}}(oo);const Bx=function(e,t){var n=-1,r=Kr(e)?Array(e.length):[];return qx(e,(function(e,a,o){r[++n]=t(e,a,o)})),r};const Gx=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};const Hx=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e==e,o=fo(e),i=void 0!==t,s=null===t,c=t==t,u=fo(t);if(!s&&!u&&!o&&e>t||o&&i&&c&&!s&&!u||r&&i&&c||!n&&c||!a)return 1;if(!r&&!o&&!u&&e<t||u&&n&&a&&!r&&!o||s&&n&&a||!i&&a||!c)return-1}return 0};const zx=function(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,i=a.length,s=n.length;++r<i;){var c=Hx(a[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};const Wx=function(e,t,n){t=t.length?wo(t,(function(e){return er(e)?function(t){return Po(t,1===e.length?e[0]:e)}:e})):[xo];var r=-1;t=wo(t,Ir(Fo));var a=Bx(e,(function(e,n,a){return{criteria:wo(t,(function(t){return t(e)})),index:++r,value:e}}));return Gx(a,(function(e,t){return zx(e,t,n)}))};const Vx=function(e,t,n,r){return null==e?[]:(er(t)||(t=null==t?[]:[t]),er(n=r?void 0:n)||(n=null==n?[]:[n]),Wx(e,t,n))};function Yx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qx(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Jx(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Qx(o,r,a,i,s,"next",e)}function s(e){Qx(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eL(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var tL="INTENTS_TEAM_STATS",nL=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"getAllIntents",value:function(){var e=this;return Jx((function(){var t,n,r;return eL(this,(function(a){switch(a.label){case 0:return[4,e.transport.dispatch.ia_intents()];case 1:return t=a.sent(),n=t.result,(null==(r=t.error)?void 0:r.message)||!n?(v.error(null==r?void 0:r.message),[2]):(e.produceState((function(e){e.intents.all=n||[]})),[2])}}))}))()}},{key:"getAlertIntents",value:function(){var e=this;return Jx((function(){var t,n,r,a;return eL(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.transport.dispatch.agent_get_user_data({types:Sb.INTENT_ALERTS_CFG})];case 1:return n=o.sent(),r=JSON.parse((null===(t=n.data[0])||void 0===t?void 0:t.value)||"[]"),n.data[0]&&(Array.isArray(r)||function(e,t){return e.every(t)}(r,(function(e){return"string"==typeof e})))?(e.produceState((function(e){e.intents.alerts=r,e.intents.dataId=n.data[0].data_id})),[3,3]):(e.produceState((function(e){e.intents.alerts=[],e.intents.dataId=void 0})),[2]);case 2:return a=o.sent(),v.error(a),[3,3];case 3:return[2]}}))}))()}},{key:"setAlertIntents",value:function(e){try{var t=this.stateData.intents.dataId,n=JSON.stringify(e);t?this.transport.dispatch.agent_update_user_data({value:n,data_id:t,is_system:"0"}):this.transport.dispatch.agent_add_user_data({value:n,data_id:t||(0,C.v4)(),type:Sb.INTENT_ALERTS_CFG,is_system:"0"}),this.produceState((function(t){t.intents.alerts=e}))}catch(r){v.error(r)}}},{key:"closeIntentAlert",value:function(e){this.produceState((function(t){var n=t.intentAlerts.find((function(t){return t.id===e}));n&&(n.closed=!0)}))}},{key:"subscribeForIntentsTeamsStats",value:function(){this.transport.dispatch.agent_subscribe_team_stats({type:tL,team_id:"",include_logged_out:Oe(!1),team_fields:{},service_fields:{},exclude_services:{},user_fields:p_(["user_id","firstname","lastname","items"]),item_fields:p_(["item_id","intents","party_name","media_type"])})}},{key:"unsubscribeFromIntentsTeamsStats",value:function(){this.transport.dispatch.agent_unsubscribe_team_stats({type:tL})}},{key:"onIncomingIntentTeamStats",value:function(e){var t=this;if(e.type===tL){var n=this.sessionConnector.getStateData().displayNameFormat,r=__(e.user_stats).reduce((function(e,r){return __(r.items||{}).forEach((function(a){Object.entries(a.intents||{}).forEach((function(o){var i=Zx(o,2),s=i[0],c=i[1];if(t.stateData.intents.alerts.includes(s)){var u=t.stateData.intents.all.find((function(e){return e.id===s})),l=t.stateData.intentAlerts.find((function(e){var t=e.intentId,n=e.itemId,o=e.userId;return t===s&&o===r.user_id&&n===a.item_id}));e.push({id:(null==l?void 0:l.id)||(0,C.v4)(),intentId:s,userId:r.user_id,itemId:a.item_id,timestamp:Number(c),closed:(null==l?void 0:l.closed)||!1,intentMessage:(null==u?void 0:u.name)||"",agentName:Iv(n,r.firstname,r.lastname),customerName:a.party_name||"",mediaType:a.media_type})}}))})),e}),[]);this.produceState((function(e){e.intentAlerts=Vx(r,"timestamp","desc")}))}}}],n&&Xx(t.prototype,n),r&&Xx(t,r),e}();function rL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){aL(e,t,n[t])}))}return e}function iL(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var sL=["name","display_name"];(function(e){return function(e){if(Array.isArray(e))return rL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(sL).concat(["agent_preview_duration","login_time","active_item_talk_duration","active_item_hold_duration","state_duration","agent_average_idle_time","agent_average_preview_time","agent_idle_time","agent_total_acw_time","agent_total_break_time","agent_total_busy_time","agent_total_ready_time","calls_average_acw_time_per_day","calls_average_handling_time_per_day","in_calls_duration_average_per_day","in_calls_duration_total_per_day","in_ewt","in_max_wait_time","out_calls_duration_average_per_day","out_calls_duration_total_per_day","active_item_qm_is_recording","active_item_sentiment","state_text","custom:checkbox","custom:status","custom:interactions"]);var cL=function(e){var t=100/(e.filter((function(e){return e.v})).length+1),n=0;return e.map((function(e){return iL(oL({},e),{idx:e.v||e.isSystem?n++:-1,v:!!e.v,w:sL.includes(String(e.id))?"".concat(2*t,"%"):"".concat(t,"%"),sW:sL.includes(String(e.id))?"200px":"100px",asc:!!e.asc})}))},uL=cL([{id:"name",v:!0},{id:"agents_busy",v:!0},{id:"agents_not_ready",v:!0},{id:"agents_ready",v:!0},{id:"agents_logged",v:!0},{id:"agent_occupancy",v:!0},{id:"in_calls_handled_per_day",v:!0},{id:"calls_average_handling_time_per_day",v:!0},{id:"calls_average_acw_time_per_day",v:!1},{id:"in_calls_first_time_handled_per_day",v:!1},{id:"agents_in_wrap_up",v:!1}]),lL=cL([{id:"name",v:!0},{id:"service_level",v:!0},{id:"in_calls_waiting",v:!0},{id:"in_callbacks_waiting",v:!0},{id:"in_max_wait_time",v:!0},{id:"in_calls_in_ivr",v:!0},{id:"in_calls_queued_per_day",v:!0},{id:"in_calls_handled_per_day",v:!0},{id:"in_calls_active_on_agents",v:!0},{id:"in_calls_short_abandoned_in_queue_per_day",v:!0},{id:"agents_logged",v:!0},{id:"agents_busy",v:!0},{id:"agents_ready",v:!1},{id:"agents_not_ready",v:!1},{id:"agents_in_wrap_up",v:!1},{id:"agent_occupancy",v:!1},{id:"agents_busy_on_service",v:!1},{id:"in_calls_received_per_day",v:!1},{id:"in_calls_rejected_per_day",v:!1},{id:"in_calls_abandoned_total_per_day",v:!1},{id:"in_calls_abandoned_percent_per_day",v:!1},{id:"in_calls_handled_percent_per_day",v:!1},{id:"in_calls_duration_average_per_day",v:!1},{id:"in_calls_duration_total_per_day",v:!1},{id:"in_transfers_received_per_day",v:!1},{id:"in_calls_self_serviced_per_day",v:!1},{id:"in_calls_abandoned_in_ivr_per_day",v:!1},{id:"in_calls_dropped_in_ivr_per_day",v:!1},{id:"in_calls_abandoned_in_queue_per_day",v:!1},{id:"in_calls_abandoned_in_queue_ratio_per_day",v:!1},{id:"in_calls_short_abandoned_in_queue_ratio_per_day",v:!1},{id:"in_calls_dropped_in_queue_per_day",v:!1},{id:"in_calls_routed_per_day",v:!1},{id:"in_calls_ringing",v:!1},{id:"in_calls_abandoned_ringing_per_day",v:!1},{id:"in_calls_dropped_ringing_per_day",v:!1},{id:"in_calls_disconnected_talking_per_day",v:!1},{id:"in_calls_dropped_talking_per_day",v:!1},{id:"in_calls_transferred_per_day",v:!1},{id:"in_calls_first_time_handled_per_day",v:!1},{id:"in_calls_first_time_queued_per_day",v:!1},{id:"in_calls_in_progress",v:!1},{id:"in_calls_put_on_hold_per_day",v:!1},{id:"in_calls_first_time_put_on_hold_per_day",v:!1},{id:"in_average_speed_of_answer",v:!1},{id:"in_ewt",v:!1},{id:"in_callbacks_requested_per_day",v:!1},{id:"out_calls_placed_per_day",v:!1},{id:"out_calls_in_progress",v:!1},{id:"out_calls_answered_per_day",v:!1},{id:"out_calls_abandoned_per_day",v:!1},{id:"out_calls_abandoned_in_ivr_per_day",v:!1},{id:"out_calls_dropped_in_ivr_per_day",v:!1},{id:"out_calls_abandoned_in_queue_per_day",v:!1},{id:"out_calls_dropped_in_queue_per_day",v:!1},{id:"out_calls_answered_ratio_per_day",v:!1},{id:"out_calls_dropped_ringing_per_day",v:!1},{id:"out_calls_routed_per_day",v:!1},{id:"out_calls_ringing",v:!1},{id:"out_calls_abandoned_ringing_per_day",v:!1},{id:"out_calls_rejected_per_day",v:!1},{id:"out_calls_handled_per_day",v:!1},{id:"out_calls_active_on_agents",v:!1},{id:"out_calls_disconnected_talking_per_day",v:!1},{id:"out_calls_dropped_talking_per_day",v:!1},{id:"out_calls_transferred_per_day",v:!1},{id:"out_calls_unattended_per_day",v:!1},{id:"out_calls_unattended_ratio_per_day",v:!1},{id:"out_calls_duration_average_per_day",v:!1},{id:"out_calls_duration_total_per_day",v:!1},{id:"calls_average_handling_time_per_day",v:!1},{id:"out_calls_abandoned_ratio_per_day",v:!1},{id:"out_calls_abandoned_in_ivr_ratio_per_day",v:!1},{id:"out_calls_abandoned_in_queue_ratio_per_day",v:!1},{id:"in_service_changed_per_day",v:!1},{id:"in_service_change_received_per_day",v:!1},{id:"in_email_carried_over",v:!1},{id:"in_email_carried_over_new",v:!1},{id:"in_email_processed_replied_per_day",v:!1},{id:"in_email_processed_noreply_per_day",v:!1},{id:"in_email_received_new_per_day",v:!1},{id:"in_email_waiting_in_pq_breached_sla",v:!1},{id:"in_email_waiting_in_personal_queues",v:!1},{id:"in_email_handled_new_per_day",v:!1},{id:"in_email_rejected_per_day",v:!1},{id:"in_email_spam",v:!1},{id:"in_email_trash",v:!1},{id:"in_emails_joined_existing_cases",v:!1},{id:"service_level_per_day",v:!1}]),dL=cL([{id:"display_name",v:!0},{id:"state_duration",v:!0},{id:"active_item_sentiment",v:!0},{id:"active_item_talk_duration",v:!0},{id:"_group_state_index",v:!1,parentId:"_group_state",isSystem:!0},{id:"active_item_party_name",v:!0,parentId:"_group_state"},{id:"active_item_service_name",v:!0,parentId:"_group_state"},{id:"active_item_hold_duration",v:!0,parentId:"_group_state"},{id:"login_time",v:!0,parentId:"_group_state"},{id:"agent_idle_time",v:!0,parentId:"_group_state"},{id:"agent_preview_duration",v:!0,parentId:"_group_state"},{id:"_group_states_daily_index",v:!1,parentId:"_group_states_daily",isSystem:!0},{id:"agent_total_ready_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_not_ready_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_break_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_busy_time",v:!0,parentId:"_group_states_daily"},{id:"agent_total_acw_time",v:!0,parentId:"_group_states_daily"},{id:"agent_occupancy",v:!0,parentId:"_group_states_daily"},{id:"agent_average_idle_time",v:!0,parentId:"_group_states_daily"},{id:"agent_average_preview_time",v:!0,parentId:"_group_states_daily"},{id:"calls_average_acw_time_per_day",v:!0,parentId:"_group_states_daily"},{id:"_group_out_daily_index",v:!1,parentId:"_group_out_daily",isSystem:!0},{id:"out_calls_rejected_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_handled_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_transferred_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_dropped_talking_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_disconnected_talking_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_duration_average_per_day",v:!0,parentId:"_group_out_daily"},{id:"out_calls_duration_total_per_day",v:!0,parentId:"_group_out_daily"},{id:"_group_in_daily_index",v:!1,parentId:"_group_in_daily",isSystem:!0},{id:"in_transfers_received_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_rejected_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_handled_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_first_time_handled_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_transferred_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_put_on_hold_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_first_time_put_on_hold_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_dropped_talking_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_disconnected_talking_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_duration_average_per_day",v:!0,parentId:"_group_in_daily"},{id:"in_calls_duration_total_per_day",v:!0,parentId:"_group_in_daily"},{id:"calls_average_handling_time_per_day",v:!0,parentId:"_group_in_daily"},{id:"_group_in_email_daily_index",v:!1,parentId:"_group_in_email_daily",isSystem:!0},{id:"in_emails_joined_existing_cases",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_carried_over",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_carried_over_new",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_offered_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_pulled_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_rejected_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_handled_new_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"in_email_processed_replied_per_day",v:!0,parentId:"_group_in_email_daily"},{id:"_group_surveys_daily_index",v:!1,parentId:"_group_surveys_daily",isSystem:!0},{id:"agent_success_ratio_per_day",v:!0,parentId:"_group_surveys_daily"},{id:"agent_fcr",v:!0,parentId:"_group_surveys_daily"},{id:"agent_nps",v:!0,parentId:"_group_surveys_daily"},{id:"agent_csat",v:!0,parentId:"_group_surveys_daily"},{id:"agent_cm1",v:!0,parentId:"_group_surveys_daily"},{id:"agent_cm2",v:!0,parentId:"_group_surveys_daily"},{id:"_group_records_daily_index",v:!1,parentId:"_group_records_daily",isSystem:!0},{id:"records_accepted_per_day",v:!0,parentId:"_group_records_daily"},{id:"records_skipped_per_day",v:!0,parentId:"_group_records_daily"},{id:"records_skipped_ratio_per_day",v:!0,parentId:"_group_records_daily"},{id:"records_with_assigned_agents_completed",v:!0,parentId:"_group_records_daily"},{id:"records_with_assigned_agents_remaining",v:!0,parentId:"_group_records_daily"},{id:"_group_remainders_index",v:!1,parentId:"_group_remainders",isSystem:!0},{id:"agent_calendar_overdue",v:!0,parentId:"_group_remainders"},{id:"agent_calendar_pending",v:!0,parentId:"_group_remainders"},{id:"agent_current_number_interactions",v:!1},{id:"active_item_qm_is_recording",v:!1},{id:"state_text",v:!1},{id:"in_email_processed_noreply_per_day",v:!1},{id:"in_email_waiting_in_personal_queues",v:!1},{id:"in_email_waiting_in_pq_breached_sla",v:!1},{id:"out_email_waiting_in_personal_queues",v:!1},{id:"in_service_changed_per_day",v:!1},{id:"in_calls_active_on_agents",v:!1},{id:"last_alert",v:!1}]),fL=function(e){var t=0;return e.map((function(e){return iL(oL({},e),{isGroup:!0,idx:t++})}))}([{id:"_group_state"},{id:"_group_states_daily"},{id:"_group_out_daily"},{id:"_group_in_daily"},{id:"_group_in_email_daily"},{id:"_group_surveys_daily"},{id:"_group_records_daily"},{id:"_group_remainders"}]),_L={TEAMS_COLUMN_CONFIGS:uL,SERVICES_COLUMN_CONFIGS:lL,USERS_COLUMN_CONFIGS:dL,SERVICES_CONFIGS:{}},pL={groups:{TEAMS_COLUMN_CONFIGS:[],USERS_COLUMN_CONFIGS:fL,SERVICES_COLUMN_CONFIGS:[],SERVICES_CONFIGS:[]}},mL=[{key:"agents_logged",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_busy",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_in_wrap_up",group:"status",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_busy_on_service",group:"agents",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_ready",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agents_not_ready",group:"agents",applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"agent_occupancy",group:"states_daily",applicable:["user","team","service","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_average_idle_time",group:"states_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_idle_time",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_preview_duration",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_average_preview_time",group:"states_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_success_ratio_per_day",group:"surveys_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_total_not_ready_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_total_break_time",group:"states_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"agent_total_busy_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_total_acw_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_total_ready_time",group:"states_daily",applicable:["user","team_stats_user"]},{key:"agent_fcr",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_nps",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_csat",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_cm1",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_cm2",group:"surveys_daily",applicable:["user","team","service","team_stats_user","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_current_number_interactions",group:void 0,applicable:["user","team_stats_user"]},{key:"top_dispositions_per_day",group:void 0,applicable:["user"]},{key:"team_success_ratio_per_day",group:void 0,applicable:["team"]},{key:"agent_calendar_pending",group:"reminders",applicable:["user","team","team_stats_user","supervisor_stats_agent"]},{key:"agent_calendar_overdue",group:"reminders",applicable:["user","team","team_stats_user","supervisor_stats_agent"]},{key:"in_calls_received_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_transfers_received_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_transfers_received_per_day",group:"outbound_daily",applicable:["user","service"]},{key:"in_calls_in_ivr",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_self_serviced_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_in_ivr_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_total_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_percent_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_in_ivr_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_queued_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_first_time_queued_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_waiting",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_in_progress",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_in_queue_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_abandoned_in_queue_ratio_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_short_abandoned_in_queue_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_short_abandoned_in_queue_ratio_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_in_queue_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level_target",group:void 0,applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"service_level_threshold_time",group:void 0,applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_max_wait_time",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_ewt",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_routed_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_ringing",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_handled_per_day",group:"inbound_daily",applicable:["service","user","team","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_handled_percent_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_first_time_handled_per_day",group:"inbound_daily",applicable:["user","team","service","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_put_on_hold_per_day",group:"inbound_daily",applicable:["user","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_first_time_put_on_hold_per_day",group:"inbound_daily",applicable:["user","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_rejected_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_abandoned_ringing_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_ringing_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_active_on_agents",group:"inbound_now",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_disconnected_talking_per_day",group:"inbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_calls_dropped_talking_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_duration_average_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_duration_total_per_day",group:"inbound_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_calls_transferred_per_day",group:"inbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_average_speed_of_answer",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"calls_average_handling_time_per_day",group:"states_daily",applicable:["user","team","service","teams_stats","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"calls_average_acw_time_per_day",group:"states_daily",applicable:["user","team","service","teams_stats","team_stats_user","supervisor_stats_agent","supervisor_stats_service"]},{key:"agent_call_handling_rate",group:void 0,applicable:["team"]},{key:"in_callbacks_requested_per_day",group:"inbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_callbacks_waiting",group:"inbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"records_total",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_completed",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_with_assigned_agents_completed",group:"active_lists_records",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"records_remaining",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_quota",group:void 0,applicable:[]},{key:"records_successes",group:void 0,applicable:["service"]},{key:"records_out_of_quota",group:void 0,applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_with_assigned_agents_remaining",group:"active_lists_records",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"records_in_dnc",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_attempted_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_attempted_ratio_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_accepted_per_day",group:"records_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"records_skipped_per_day",group:"records_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"records_skipped_ratio_per_day",group:"records_daily",applicable:["user","service","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"records_completed_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_completed_ratio_per_day",group:"records_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_completed_ratio",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_progress",group:void 0,applicable:["service"]},{key:"records_dialable",group:"active_lists_records",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"records_expired",group:"active_lists_records",applicable:["service"]},{key:"list_last_updated",group:"active_lists_records",applicable:[]},{key:"out_campaign_mode",group:"campaign",applicable:[]},{key:"out_campaign_duration_forecast",group:"campaign",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_average_success_rate",group:"outbound_now",applicable:[]},{key:"calls_dispositions_per_day",group:void 0,applicable:["user","service","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"calls_dispositions_ratio_per_day",group:void 0,applicable:["service","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_current_call_rate",group:"outbound_now",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_placed_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_in_progress",group:"outbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_failed_per_day",group:"outbound_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_answered_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_answered_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_in_ivr",group:"outbound_now",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_self_serviced_per_day",group:"outbound_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_ivr_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_ivr_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_in_ivr_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_queued_per_day",group:"outbound_daily",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_waiting",group:"outbound_now",applicable:["service","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_queue_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_in_queue_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_in_queue_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_unattended_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_unattended_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_routed_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_ringing",group:"outbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_ringing_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_ringing_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_duration_average_per_day",group:"outbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_duration_total_per_day",group:"outbound_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_rejected_per_day",group:"outbound_daily",applicable:["user","team","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_handled_per_day",group:"outbound_daily",applicable:["user","team","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"out_calls_active_on_agents",group:"outbound_now",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_disconnected_talking_per_day",group:"outbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_dropped_talking_per_day",group:"outbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_transferred_per_day",group:"outbound_daily",applicable:["service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"out_calls_abandoned_ratio_per_day",group:"outbound_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_emails_joined_existing_cases",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_email_received_new_per_day",group:"inbound_at_specific_daily",applicable:["service","team_stats_team","supervisor_stats_total","supervisor_stats_service"]},{key:"in_email_carried_over",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_service"]},{key:"in_email_carried_over_new",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_service"]},{key:"in_email_offered_per_day",group:"inbound_at_specific_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"in_email_rejected_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_pulled_per_day",group:"inbound_at_specific_daily",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"in_email_processed_replied_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_processed_noreply_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_handled_new_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_waiting_in_personal_queues",group:"at_personal_queues",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_email_waiting_in_pq_breached_sla",group:"at_personal_queues",applicable:["user","service","team_stats_team","team_stats_user"]},{key:"out_email_waiting_in_personal_queues",group:"at_personal_queues",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"in_service_changed_per_day",group:"inbound_at_specific_daily",applicable:["user","service","team_stats_team","team_stats_user","supervisor_stats_total","supervisor_stats_agent","supervisor_stats_service"]},{key:"in_service_change_received_per_day",group:"inbound_at_specific_daily",applicable:["service","team_stats_team","supervisor_stats_total"]},{key:"in_email_spam",group:"inbound_at_specific_daily",applicable:["service","team_stats_team"]},{key:"in_email_trash",group:"inbound_at_specific_daily",applicable:["service","team_stats_team"]},{key:"item_id",group:void 0,applicable:["item","team_stats_item"]},{key:"user_id",group:void 0,applicable:["user","team_stats_user"]},{key:"team_id",group:void 0,applicable:["user","team","teams_stats"]},{key:"service_id",group:void 0,applicable:["item","service","team_stats_team"]},{key:"list_id",group:void 0,applicable:[]},{key:"name",group:void 0,applicable:["team","service","teams_stats","team_stats_team","supervisor_stats_service"]},{key:"firstname",group:void 0,applicable:["user","team_stats_user"]},{key:"lastname",group:void 0,applicable:["user","team_stats_user"]},{key:"login_id",group:void 0,applicable:["user","team_stats_user"]},{key:"extension",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"team_name",group:void 0,applicable:["user","supervisor_stats_agent"]},{key:"is_agent",group:void 0,applicable:["user","team_stats_user"]},{key:"is_super",group:void 0,applicable:["user"]},{key:"is_mobile",group:void 0,applicable:["user","team_stats_user"]},{key:"is_logged",group:void 0,applicable:["user","team_stats_user"]},{key:"login_time",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"acd_state",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"state_duration",group:"status",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"reason",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"acd_next_state",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"next_reason",group:void 0,applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_id",group:void 0,applicable:["user","team_stats_user"]},{key:"active_item_service_id",group:void 0,applicable:["user"]},{key:"active_item_service_name",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_media_type",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_state",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_direction",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_party_phone",group:void 0,applicable:["user"]},{key:"active_item_party_name",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_party_firstname",group:void 0,applicable:["user"]},{key:"active_item_party_lastname",group:void 0,applicable:["user"]},{key:"active_item_is_flagged",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_qm_monitor_user",group:void 0,applicable:["user"]},{key:"active_item_qm_monitor_mode",group:"active_item",applicable:["user","supervisor_stats_agent"]},{key:"active_item_qm_monitor_item_id",group:void 0,applicable:["user"]},{key:"active_item_qm_monitored_item_id",group:void 0,applicable:["user"]},{key:"active_item_talk_duration",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_hold_duration",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_current_hold_duration",group:void 0,applicable:["user"]},{key:"active_item_sentiment",group:"active_item",applicable:["user","team_stats_user","supervisor_stats_agent"]},{key:"active_item_qm_is_recording",group:"active_item",applicable:["user","team_stats_user"]},{key:"items",group:void 0,applicable:["user","team_stats_user"]},{key:"media_type",group:void 0,applicable:["item","team_stats_item"]},{key:"state",group:void 0,applicable:["item","service","team_stats_item"]},{key:"direction",group:void 0,applicable:["item","team_stats_item"]},{key:"service_name",group:void 0,applicable:["item","team_stats_item"]},{key:"party_name",group:void 0,applicable:["item","team_stats_item"]},{key:"party_firstname",group:void 0,applicable:["item"]},{key:"party_lastname",group:void 0,applicable:["item"]},{key:"is_flagged",group:void 0,applicable:["item","team_stats_item"]},{key:"qm_is_recording",group:void 0,applicable:["item","team_stats_item"]},{key:"qm_monitor_user",group:void 0,applicable:["item"]},{key:"qm_monitor_mode",group:void 0,applicable:["item","team_stats_item"]},{key:"qm_monitor_item_id",group:void 0,applicable:["item"]},{key:"qm_monitored_item_id",group:void 0,applicable:["item","team_stats_item"]},{key:"intents",group:void 0,applicable:["item","team_stats_item"]},{key:"last_alert",group:void 0,applicable:["item","team_stats_item"]},{key:"talk_duration",group:"status",applicable:["item","team_stats_item"]},{key:"hold_duration",group:"status",applicable:["item","team_stats_item"]},{key:"current_hold_duration",group:"status",applicable:["item"]},{key:"sentiment",group:void 0,applicable:["item","team_stats_item"]},{key:"priority",group:"list",applicable:[]},{key:"state_reason",group:void 0,applicable:["service"]},{key:"is_enabled",group:"list",applicable:["team"]},{key:"ratio",group:"list",applicable:[]},{key:"outbound_campaign_link_group",group:"campaign",applicable:["service"]},{key:"client_type",group:void 0,applicable:["team_stats_user"]},{key:"phone_exists",group:void 0,applicable:["team_stats_user"]},{key:"presence_state",group:void 0,applicable:["team_stats_user"]},{key:"state_text",group:void 0,applicable:["team_stats_user"]},{key:"first_last_name",group:void 0,applicable:["supervisor_stats_agent"]},{key:"last_first_name",group:void 0,applicable:["supervisor_stats_agent"]}];function gL(e){return mL.filter((function(t){return t.applicable.some((function(t){return e.includes(t)}))})).map((function(e){return e.key}))}var hL=gL(["team_stats_team"]),yL=gL(["team_stats_user"]),vL=gL(["team_stats_item"]);function bL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){CL(e,t,n[t])}))}return e}function wL(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function IL(e){return function(e){if(Array.isArray(e))return bL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var OL=function(){return(0,C.v4)().toUpperCase()},TL=function(e){var t={services:{},serviceSummary:{},users:{}};return Object.values(e.service_stats).forEach((function(e){var n=e.service_id;n&&(t.services[n]=SL({},e))})),t.serviceSummary=SL({},e.service_total_stats),t.users={},Object.values(e.user_stats).forEach((function(e){var n=e.user_id;if(n){t.users[n]=SL({},e);var r,a=(r=function(e){var t=e.active_item_id;return e.items&&__(e.items).find((function(e){return e.item_id===t}))}(e),null==r?void 0:r.sentiment);a&&(t.users[n].active_item_sentiment=a)}})),t};function EL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){if(!AL(n))return e;var r={id:n.party_id,type:n.type,firstName:void 0,lastName:void 0,userId:void 0,contactId:void 0,isQm:Ie(n.is_qm),qmMode:n.qm_mode};switch(n.type){case"scenario":r.lastName=n.entry_name;break;case"internal":r.firstName=n.first_name,r.lastName=n.last_name,r.userId=n.user_id;break;case"external":if(n.contact_id){var a=t.find((function(e){return e.Id.oid===n.contact_id}));r.contactId=n.contact_id,r.firstName=null==a?void 0:a.firstName,r.lastName=null==a?void 0:a.lastName}else r.firstName=n.first_name,r.lastName=n.last_name}return e[r.id]=SL({},e[r.id]||{},r),e}),{})}function DL(e){return IL(e).sort((function(e,t){return e.timestamp-t.timestamp}))}function AL(e){return"party_joined"===e.event||"party_changed"===e.event}function PL(e){return e?"scenario"===e.type?"scenario":"regular":"unknown"}function kL(e){return wL(SL({},e),{systemType:"party_connected",type:"system"})}function RL(e){return wL(SL({},e),{systemType:"party_left",type:"system"})}function NL(e){return!(Ie(e.is_qm)||e.qm_mode&&"participate"!==e.qm_mode)}function ML(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jL(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function xL(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jL(o,r,a,i,s,"next",e)}function s(e){jL(o,r,a,i,s,"throw",e)}i(void 0)}))}}function LL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$L(e,t,n[t])}))}return e}function FL(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function UL(e){return function(e){if(Array.isArray(e))return ML(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ML(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ML(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qL(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BL="adSupervisionShowLoggedOut",GL="adSupervisionShowSubTeamOnly",HL="MONITORING_TEAMS_STATS",zL="MONITORING_TEAM_STATS",WL=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"onIncomingMonitoringAgentStats",value:function(e){var t=e.stats;this.produceState((function(e){e.agentStats=KL({},e.agentStats,function(e){var t={};return Object.values(e).forEach((function(e){var n=e.service_id;t[n]=Object.values(e.stats).map((function(e){return SL({},e)}))})),t}(t))}))}},{key:"onIncomingMonitoringTeamsStats",value:function(e){e.type===HL&&this.produceState((function(t){t.monitoringTeamsStats=function(e){var t={};return Object.values(e.stats).forEach((function(e){var n=e.team_id;n&&(t[n]=SL({},e))})),t}(e)}))}},{key:"onIncomingMonitoringTeamStats",value:function(e){e.type===zL&&this.produceState((function(t){t.monitoringTeamStats=TL(e)}))}},{key:"subscribeForMonitoringTeamsStats",value:function(){this.updateTeamsStatsSubscription("teams"),this.updateTeamsStatsSubscription("team")}},{key:"unsubscribeMonitoringFromTeamsStats",value:function(){this.transport.dispatch.agent_unsubscribe_teams_stats({type:HL}),this.transport.dispatch.agent_unsubscribe_team_stats({type:zL})}},{key:"getDashboardConfig",value:function(){var e=this;this.transport.dispatch.agent_dashboard_config().then((function(t){var n=t.result,r=t.error;if(!(null==r?void 0:r.message)&&n){var a=function(e){var t=e[0];if(!t)throw Error("No config returned from agent_query.agent_dashboard_config()");return{enabled:"1"===t.enabled,rotatePeriod:Number(t.rotate_period)}}(n);a&&e.produceState((function(e){e.dashboardConfig=a}))}else v.error(null==r?void 0:r.message)}))}},{key:"getMonitoringConfig",value:function(){this.transport.dispatch.agent_get_user_data({types:"MONITORING_CFG_NEW_AD",is_system:Oe(!0)}).then(this.onMonitoringConfig),this.transport.dispatch.agent_get_user_data({types:"MONITORING_CFG_NEW_AD",is_system:Oe(!1)}).then(this.onMonitoringConfig)}},{key:"updateSelectedSubTeamUserIds",value:function(e){this.produceState((function(t){Ta(t.monitoringConfig),t.monitoringConfig.additionalData.selectedSubTeamUserIds=e})),this.updateCurrentMonitoringConfig({additionalData:{selectedSubTeamUserIds:e}})}},{key:"saveMonitoringConfigAsSystem",value:function(e){var t=(this.stateData.systemMonitoringConfig||{}).id,n=this.stateData.monitoringConfig||{},r=n.configs,a=n.additionalData,o=void 0===a?{}:a,i=(this.stateData.systemMonitoringConfig||{}).configs,s=t||OL(),c=this.getConfigName(e);Ta(r),Ta(i),this.produceState((function(e){var t,n;Ta(null===(n=e.systemMonitoringConfig)||void 0===n||null===(t=n.configs)||void 0===t?void 0:t[c]),Ta(r[c]),e.systemMonitoringConfig.id=s,e.systemMonitoringConfig.configs=FL(KL({},e.systemMonitoringConfig.configs),$L({},c,r[c]))})),this.saveMonitoringConfig({id:s,configs:FL(KL({},i),$L({},c,r[c])),createNew:!t,isSystem:!0,additionalData:o})}},{key:"setSelectedTeamId",value:function(e){this.produceState((function(t){Ta(t.monitoringConfig),t.monitoringConfig.localData.selectedTeamId=e})),this.updateTeamsStatsSubscription("team"),this.getAvailableTeams()}},{key:"setIncludeLoggedOut",value:function(e){this.produceState((function(t){Ta(t.monitoringConfig),t.monitoringConfig.localData.includeLoggedOut=e})),this.updateTeamsStatsSubscription("team"),this.localSettings.set(BL,e)}},{key:"setShowSubTeamOnly",value:function(e){this.produceState((function(t){Ta(t.monitoringConfig),t.monitoringConfig.localData.showSubTeamOnly=e})),this.localSettings.set(GL,e)}},{key:"changeMonitoringServices",value:function(e){var t=(this.stateData.monitoringConfig||{}).configs,n=KL({},e.services);if(t&&Object.keys(n).length){var r=(t.SERVICES_CONFIGS[e.teamId]||[]).map((function(e){if(n[e.id]){var t=n[e.id].visibility;if(delete n[e.id],"boolean"==typeof t)return FL(KL({},e),{v:t})}return e}));Object.keys(n).forEach((function(e){r.push({id:e,idx:r.length,v:n[e].visibility||!1})}));var a=FL(KL({},t),{SERVICES_CONFIGS:FL(KL({},t.SERVICES_CONFIGS),$L({},e.teamId,r))});0===r.length&&delete a.SERVICES_CONFIGS[e.teamId],this.produceState((function(e){Ta(e.monitoringConfig),e.monitoringConfig.configs=a})),this.updateCurrentMonitoringConfig({configs:a}),this.updateTeamsStatsSubscription("team")}}},{key:"updateMetrics",value:function(e){var t=this.stateData.monitoringConfig||{},n=t.id,r=t.configs,a=t.additionalData,o=n||OL();if(r){var i=this.getConfigName(e.table),s=FL(KL({},r),$L({},i,e.metrics)),c=FL(KL({},null==a?void 0:a.groups),$L({},i,e.groups));this.produceState((function(t){var n,r;Ta(null===(r=t.monitoringConfig)||void 0===r||null===(n=r.configs)||void 0===n?void 0:n[i]),t.monitoringConfig.id=o,t.monitoringConfig.configs=s,t.monitoringConfig.additionalData.groups=c,t.monitoringConfig.additionalData.savedConfigOriginId=e.savedConfigOriginId})),this.saveMonitoringConfig({id:o,additionalData:{savedConfigOriginId:e.savedConfigOriginId,groups:c},configs:s,createNew:!n}),"teams"===e.table?this.updateTeamsStatsSubscription("teams"):this.updateTeamsStatsSubscription("team")}}},{key:"saveTableConfig",value:function(e){var t,n,r,a,o=e.name,i=e.table,s=this.stateData.monitoringConfig,c=null!==(a=this.stateData.customConfigs)&&void 0!==a?a:{};Ta(s);var u=this.getConfigName(i),l=null===(t=s.configs)||void 0===t?void 0:t[u],d=null===(r=s.additionalData)||void 0===r||null===(n=r.groups)||void 0===n?void 0:n[u];Ta(l);var f,_=(0,C.v4)(),p={id:_,name:o,configType:u,type:"custom_config",groups:d,metrics:l},m=FL(KL({},c),$L({},u,UL(null!==(f=c[u])&&void 0!==f?f:[]).concat([p])));this.produceState((function(e){e.customConfigs=m})),this.transport.dispatch.agent_add_user_data({data_id:_,type:"MONITORING_CFG_NEW_AD",value:JSON.stringify(p),is_system:Oe(!1)})}},{key:"deleteTableConfig",value:function(e,t){this.produceState((function(n){var r,a,o,i,s=null===(a=n.customConfigs)||void 0===a||null===(r=a[e])||void 0===r?void 0:r.findIndex((function(e){return e.id===t}));void 0!==s&&-1!==s&&(null===(i=n.customConfigs)||void 0===i||null===(o=i[e])||void 0===o||o.splice(s,1))})),this.transport.dispatch.agent_delete_user_data({data_id:t,is_system:Oe(!1)})}},{key:"resetMonitoringColumns",value:function(e){var t,n,r,a=null===(t=this.stateData.systemMonitoringConfig)||void 0===t?void 0:t.configs,o=null===(n=this.stateData.systemMonitoringConfig)||void 0===n?void 0:n.additionalData.groups;if((null===(r=this.stateData.monitoringConfig)||void 0===r?void 0:r.configs)&&a&&o){var i=this.stateData.monitoringConfig.id,s=KL({},this.stateData.monitoringConfig.configs),c=KL({},this.stateData.monitoringConfig.additionalData),u=i||OL();switch(e){case"teams":s.TEAMS_COLUMN_CONFIGS=a.TEAMS_COLUMN_CONFIGS,c.groups=FL(KL({},(null==c?void 0:c.groups)||{}),{TEAMS_COLUMN_CONFIGS:o.TEAMS_COLUMN_CONFIGS});break;case"services":s.SERVICES_COLUMN_CONFIGS=a.SERVICES_COLUMN_CONFIGS,c.groups=FL(KL({},(null==c?void 0:c.groups)||{}),{SERVICES_COLUMN_CONFIGS:o.SERVICES_COLUMN_CONFIGS});break;case"users":s.USERS_COLUMN_CONFIGS=a.USERS_COLUMN_CONFIGS,c.groups=FL(KL({},(null==c?void 0:c.groups)||{}),{USERS_COLUMN_CONFIGS:o.USERS_COLUMN_CONFIGS})}this.produceState((function(e){Ta(e.monitoringConfig),e.monitoringConfig.configs=s,e.monitoringConfig.additionalData=c})),this.saveMonitoringConfig({id:u,configs:s,additionalData:c,createNew:!i}),"teams"===e?this.updateTeamsStatsSubscription("teams"):this.updateTeamsStatsSubscription("team")}}},{key:"resizeMonitoringColumns",value:function(e){var t=(this.stateData.monitoringConfig||{}).configs;if(t){var n={teams:"TEAMS_COLUMN_CONFIGS",services:"SERVICES_COLUMN_CONFIGS",users:"USERS_COLUMN_CONFIGS"}[e.table],r=t[n];r=r.map((function(t){if(t.id in e.columns){var n=e.columns[t.id];return FL(KL({},t),$L({},e.scrollEnabled?"sW":"w",n))}return t}));var a=FL(KL({},t),$L({},n,r));this.produceState((function(e){Ta(e.monitoringConfig),e.monitoringConfig.configs=a})),this.updateCurrentMonitoringConfig({configs:a})}}},{key:"updateScrollingState",value:function(e){var t,n;(null===(t=this.stateData.monitoringConfig)||void 0===t?void 0:t.configs)&&(this.produceState((function(t){Ta(t.monitoringConfig),t.monitoringConfig.additionalData.scrolling||(t.monitoringConfig.additionalData.scrolling={}),t.monitoringConfig.additionalData.scrolling[e.table]=e.scrollingEnabled})),this.updateCurrentMonitoringConfig({additionalData:{scrolling:FL(KL({},null===(n=this.stateData.monitoringConfig)||void 0===n?void 0:n.additionalData.scrolling),$L({},e.table,e.scrollingEnabled))}}))}},{key:"getConfigName",value:function(e){return{teams:"TEAMS_COLUMN_CONFIGS",services:"SERVICES_COLUMN_CONFIGS",users:"USERS_COLUMN_CONFIGS"}[e]}},{key:"onMonitoringConfig",value:function(e){var t=this;return xL((function(){var n,r,a,o,i,s,c;return qL(this,(function(u){switch(u.label){case 0:return n=null,r=Ie(e.is_system),[4,t.getStateFromStorage()];case 1:return o=null!==(a=u.sent())&&void 0!==a?a:{},i=Object.values(e.data).map((function(e){var t=e.data_id,n=e.type,r=e.value;return{id:t,type:n,value:JSON.parse(r)}})),s=i.reduce((function(e,t){var n=t.type,r=t.value;if("MONITORING_CFG_NEW_AD"!==n||"custom_config"!==r.type)return e;var a=r,o=a.configType;return e[o]=UL(e[o]||[]).concat([a]),e}),{}),i.forEach((function(e){var a=e.id,i=e.type,c=e.value;if("MONITORING_CFG_NEW_AD"===i&&c&&"custom_config"!==c.type){var u,l=null!==(u=c.additionalData)&&void 0!==u?u:{};delete c.additionalData,n=!0,t.setMonitoringConfig({config:{id:a,configs:c,additionalData:l,localData:o},customConfigs:s,isSystem:r})}})),n||(!r&&t.stateData.systemMonitoringConfig?t.setMonitoringConfig({config:FL(KL({id:null},structuredClone(t.stateData.systemMonitoringConfig)),{localData:o}),customConfigs:s,isSystem:r}):(c={id:null,configs:_L,additionalData:pL,localData:o},t.setMonitoringConfig({config:c,customConfigs:s,isSystem:r}))),t.isTeamStatsSubscribed&&t.subscribeForMonitoringTeamsStats(),[2]}}))}))()}},{key:"setMonitoringConfig",value:function(e){var t=e.config,n=e.customConfigs,r=e.isSystem;(null==t?void 0:t.configs)&&(t.configs=this.normalizeMonitoringConfigs(structuredClone(t.configs))),this.produceState((function(e){r?e.systemMonitoringConfig=t:e.monitoringConfig=t,e.customConfigs=n}))}},{key:"saveMonitoringConfig",value:function(e){var t=e.id,n=e.configs,r=e.createNew,a=e.additionalData,o=e.isSystem,i=void 0!==o&&o;r?this.transport.dispatch.agent_add_user_data({data_id:t,type:"MONITORING_CFG_NEW_AD",value:JSON.stringify(FL(KL({},n),{additionalData:a})),is_system:Oe(i)}):this.transport.dispatch.agent_update_user_data({data_id:t,value:JSON.stringify(FL(KL({},n),{additionalData:a})),is_system:Oe(i)})}},{key:"updateTeamsStatsSubscription",value:function(e){var t,n=this.stateData.monitoringConfig||{},r=n.configs,a=n.localData,o=null!==(t=null==a?void 0:a.selectedTeamId)&&void 0!==t?t:"",i=null==a?void 0:a.includeLoggedOut;if(r&&this.isTeamStatsSubscribed){if("teams"===e){var s=r.TEAMS_COLUMN_CONFIGS.filter((function(e){return e.v})).map((function(e){return e.id}));s.push("team_id"),this.transport.dispatch.agent_subscribe_teams_stats({type:HL,team_fields:p_(s)})}if("team"===e){var c={services:{},users:{}};if(r.SERVICES_COLUMN_CONFIGS.forEach((function(e){c.services[e.id]=e.v})),r.USERS_COLUMN_CONFIGS.forEach((function(e){c.users[e.id]=e.v})),void 0!==o){var u=hL.filter((function(e){var t=function(e){return c.services[e]};switch(e){case"service_id":return!0;case"service_level_target":case"service_level_threshold_time":return t("service_level");default:return t(e)}})),l=u.slice(0),d=yL.filter((function(e){var t=function(e){return c.users[e]};switch(e){case"active_item_sentiment":case"acd_state":case"acd_next_state":case"active_item_id":case"client_type":case"extension":case"is_agent":case"is_logged":case"is_mobile":case"items":case"login_id":case"phone_exists":case"presence_state":case"reason":case"next_reason":case"user_id":return!0;case"firstname":case"lastname":return t("display_name");default:return t(e)}})),f=vL.slice(0),_=(r.SERVICES_CONFIGS[o]||[]).filter((function(e){return!e.v})).map((function(e){return e.id}));this.transport.dispatch.agent_subscribe_team_stats({type:zL,team_id:o,team_fields:p_(u),service_fields:p_(l),user_fields:p_(d),item_fields:p_(f),exclude_services:p_(_),include_logged_out:Oe(i||!1)})}}}}},{key:"updateCurrentMonitoringConfig",value:function(e){var t=e.configs,n=e.additionalData,r=this.stateData.monitoringConfig;Ta(r);var a=r.id,o=a||OL();a||this.produceState((function(e){Ta(e.monitoringConfig),e.monitoringConfig.id=o})),this.saveMonitoringConfig({id:o,configs:KL({},r.configs,t),additionalData:KL({},r.additionalData,n),createNew:!a})}},$L({key:"getStateFromStorage"},"value",(function(){var e=this;return xL((function(){var t,n,r;return qL(this,(function(a){switch(a.label){case 0:return[4,e.localSettings.getSettings(BL,GL)];case 1:return t=a.sent(),n=t.adSupervisionShowLoggedOut,r=t.adSupervisionShowSubTeamOnly,[2,{includeLoggedOut:"boolean"==typeof n&&n,showSubTeamOnly:"boolean"==typeof r&&r}]}}))}))()})),{key:"normalizeMonitoringConfigs",value:function(e){return _L.USERS_COLUMN_CONFIGS.forEach((function(t){e.USERS_COLUMN_CONFIGS.some((function(e){return e.id===t.id}))||e.USERS_COLUMN_CONFIGS.push(t)})),_L.TEAMS_COLUMN_CONFIGS.forEach((function(t){e.TEAMS_COLUMN_CONFIGS.some((function(e){return e.id===t.id}))||e.TEAMS_COLUMN_CONFIGS.push(t)})),_L.SERVICES_COLUMN_CONFIGS.forEach((function(t){e.SERVICES_COLUMN_CONFIGS.some((function(e){return e.id===t.id}))||e.SERVICES_COLUMN_CONFIGS.push(t)})),e.USERS_COLUMN_CONFIGS=e.USERS_COLUMN_CONFIGS.filter((function(e){return e.isSystem||_L.USERS_COLUMN_CONFIGS.some((function(t){return t.id===e.id}))})),e.TEAMS_COLUMN_CONFIGS=e.TEAMS_COLUMN_CONFIGS.filter((function(e){return e.isSystem||_L.TEAMS_COLUMN_CONFIGS.some((function(t){return t.id===e.id}))})),e.SERVICES_COLUMN_CONFIGS=e.SERVICES_COLUMN_CONFIGS.filter((function(e){return e.isSystem||_L.SERVICES_COLUMN_CONFIGS.some((function(t){return t.id===e.id}))})),e}},{key:"getAvailableTeams",value:function(){var e=this;return xL((function(){var t,n,r;return qL(this,(function(a){switch(a.label){case 0:return e.produceState((function(e){e.teamServicesInfo=[]})),[4,e.transport.dispatch.team_service_info({team_id:(null===(t=e.stateData.monitoringConfig)||void 0===t?void 0:t.localData.selectedTeamId)||void 0})];case 1:return n=a.sent(),r=n.result,e.produceState((function(e){e.teamServicesInfo=r||[]})),[2]}}))}))()}}],n&&LL(t.prototype,n),r&&LL(t,r),e}(),VL=["acd_state","active_item_id","capacity","extension","firstname","is_logged","is_super","items","lastname","photo_id","presence_state","reason","user_id"],YL=["direction","hold_duration","item_id","media_type","party_name","qm_is_recording","qm_monitor_mode","qm_monitored_item_id","sentiment","service_name","state","talk_duration"];function QL(e){var t;return Ib(e)?(e.capacity&&(t={},Object.keys(e.capacity).map((function(n){var r=n,a=e.capacity[r];t[r]={active:"1"===a.active,usedSlots:Number(a.used_slots)||0}}))),{userId:e.user_id,activeItemId:e.active_item_id,firstName:e.firstname,lastName:e.lastname,isLogged:Ie(e.is_logged),isSuper:Ie(e.is_super),isAgent:Ie(e.is_agent),loginId:e.login_id,photoId:e.photo_id,teamId:e.team_id,items:Object.values(e.items||{}).map((function(e){return{mediaType:e.media_type,direction:e.direction,talkDuration:Number(e.talk_duration),holdDuration:Number(e.hold_duration),id:e.item_id,fromFirstname:e.from_firstname,fromLastname:e.from_lastname,fromName:e.from_name,isFlagged:Ie(e.is_flagged),qmIsRecording:Ie(e.qm_is_recording),qmMonitorItemId:e.qm_monitor_item_id,qmMonitorMode:e.qm_monitor_mode,qmMonitorUser:e.qm_monitor_user,qmMonitoredItemId:e.qm_monitored_item_id,serviceName:e.service_name,state:e.state,userId:e.user_id,serviceId:e.service_id,sentiment:Number(e.sentiment),partyName:e.party_name}})),reason:e.reason,nextReason:e.next_reason,capacity:t,extension:e.extension,acdState:e.acd_state,acdNextState:e.acd_next_state,presenceState:e.presence_state,stateDuration:e.state_duration}):{userId:e.user_id,loginId:e.login_id,photoId:e.photo_url,presenceState:bw(e.availability),hasChat:Ie(e.has_chat),msTeamsPhones:e.phones,firstName:e.firstname,lastName:e.lastname,userType:"msteams",teamId:US,isLogged:"Offline"!==e.availability&&"PresenceUnknown"!==e.availability,isSuper:!1,email:e.email}}function JL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XL(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function ZL(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){XL(o,r,a,i,s,"next",e)}function s(e){XL(o,r,a,i,s,"throw",e)}i(void 0)}))}}function e$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n$(e){return function(e){if(Array.isArray(e))return JL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r$(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a$="EXTENDED_MONITORING",o$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"subscribeToUserDetails",value:function(e){this.produceState((function(t){e.forEach((function(e){var n=t.userDetails[e];t.userDetails[e]=n}))})),this.updateSubscribedUserDetails()}},{key:"unsubscribeFromUserDetails",value:function(e){var t=e||Object.keys(this.stateData.userDetails);this.produceState((function(e){t.forEach((function(t){delete e.userDetails[t]}))})),this.updateSubscribedUserDetails(!0)}},{key:"clearUserDetailsSubscription",value:function(){var e=n$(Object.keys(this.stateData.userDetails)).concat(n$(this.stateData.keepMonitoredUsers));this.produceState((function(t){e.forEach((function(e){delete t.userDetails[e]})),t.keepMonitoredUsers=[]})),this.transport.dispatch.agent_unsubscribe_users_details({type:a$})}},{key:"onIncomingAgentUsersDetails",value:function(e){e.type===a$&&(this.produceState((function(t){Object.values(e.users).map(QL).forEach((function(e){t.userDetails[e.userId]=e}))})),this.updateKeepMonitoringInteractions())}},{key:"addKeepMonitoringUser",value:function(e){this.produceState((function(t){t.keepMonitoredUsers.push(e)})),this.updateSubscribedUserDetails()}},{key:"removeKeepMonitoringUser",value:function(e){this.produceState((function(t){t.keepMonitoredUsers.filter((function(t){return t!==e}))})),this.updateSubscribedUserDetails(!0)}},{key:"setAgentState",value:function(e,t){this.transport.dispatch.agent_change_state({acd_state:t,user_id:e})}},{key:"logoutAgent",value:function(e){this.transport.dispatch.agent_force_logout({agent_id:e})}},{key:"pullAgentScreen",value:function(e){var t=e.userId,n=e.interactionId,r=this.sessionConnector.getStateData().userId;Ta(r),this.transport.dispatch.agent_message({user_id:t,message:{message_type:"take_screenpop",item_id:n,user_id:r}})}},{key:"seeAgentScreen",value:function(e){var t=this;return ZL((function(){var n;return r$(this,(function(r){switch(r.label){case 0:return[4,t.transport.dispatch.agent_get_screen_recorder()];case 1:return n=r.sent(),t.bpClientStateConnector.dispatch.viewUserScreen(e,n.sr_host,Number(n.sr_port)),[2]}}))}))()}},{key:"subscribeToItemPeek",value:function(e){if(this.stateData.peekItems[e]&&this.stateData.peekItems[e].isLoading)this.produceState((function(t){t.peekItems[e].isUnsubscribed=!1}));else{this.produceState((function(t){t.peekItems[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){t$(e,t,n[t])}))}return e}({},Ux)}));var t=this;this.transport.dispatch.agent_item_peek_subscribe({item_id:e}).then(function(){var n=ZL((function(n){var r,a,o,i,s;return r$(this,(function(c){switch(c.label){case 0:return(null===(r=t.stateData.peekItems[e])||void 0===r?void 0:r.isUnsubscribed)?(t.produceState((function(t){t.peekItems[e].isLoading=!1})),t.unsubscribeFromItemPeek(e),[2]):"error_code"in n?(n.error_code===hu.duplicate_subscription&&(t.produceState((function(t){t.peekItems[e].isLoading=!1})),t.unsubscribeFromItemPeek(e),t.subscribeToItemPeek(e)),[2]):(a=__(n.transcript,(function(e){return e})),[4,t.getItemPeekInitialParties(a)]);case 1:return o=c.sent(),i=function(e,t){var n=e.reduce((function(n,r){if("intent_result"===r.event)return n;var a=t[r.party_id];switch(r.event){case"party_joined":case"party_changed":if("connected"!==r.status||!NL(r))break;var o=kL({id:(0,C.v4)(),partyId:r.party_id,timestamp:parseInt(r.timestamp)});n.push(o);break;case"party_message":var i={id:r.msg_id||(0,C.v4)(),partyId:r.party_id,timestamp:parseInt(r.timestamp),text:r.msg,type:PL(a)};n.push(i);break;case"party_left":if("scenario"===a.type)break;var s=e.find((function(e){return"party_joined"===e.event&&e.party_id===a.id}));if(s&&AL(s)&&!NL(s))break;var c=RL({id:(0,C.v4)(),partyId:r.party_id,timestamp:parseInt(r.timestamp)});n.push(c)}return n}),[]);return DL(n)}(a,o),s=function(e){var t=e.reduce((function(t,n){if("intent_result"!==n.event)return t;var r=n.locations[0],a=e.find((function(e){return"msg_id"in e&&e.msg_id===(null==r?void 0:r.msg_id)})),o=a&&"msg"in a?a.msg.substring(parseInt((null==r?void 0:r.start_pos)||"0"),parseInt((null==r?void 0:r.end_pos)||"0")):"";return t.push({id:n.intent_id,name:n.intent_name,msgId:(null==r?void 0:r.msg_id)||"",text:o}),t}),[]);return t}(a),t.produceState((function(t){t.peekItems[e]={isLoading:!1,isUnsubscribed:!1,parties:o,messages:i,intents:s}})),[2]}}))}));return function(e){return n.apply(this,arguments)}}())}}},{key:"unsubscribeFromItemPeek",value:function(e){this.stateData.peekItems[e]&&this.stateData.peekItems[e].isLoading?this.produceState((function(t){t.peekItems[e].isUnsubscribed=!0})):(this.transport.dispatch.agent_item_peek_unsubscribe({item_id:e}),this.produceState((function(t){delete t.peekItems[e]})))}},{key:"onAgentItemPeekVoiceTranscriptData",value:function(e){if(this.stateData.peekItems[e.item_id]){var t=this.getParty(e.item_id,e.party_id),n={id:e.msg_id,text:e.transcript_data.t,timestamp:parseInt(e.transcript_data.e),partyId:e.party_id,type:PL(t)};this.addMessage(e.item_id,n)}}},{key:"onAgentItemPeekChatTranscriptData",value:function(e){if(this.stateData.peekItems[e.item_id]){var t=e.timestamp?parseInt(e.timestamp):(new Date).getTime();switch(e.external_chat_action){case"agent_external_chat_party_joined":case"agent_external_chat_party_changed":var n=e.type;if("conference_peer"===n||"conference_link"===n)return;var r={id:e.party_id,type:n,firstName:e.first_name,lastName:e.last_name,userId:e.user_id,contactId:e.contact_id,isQm:Ie(e.is_qm),qmMode:e.qm_mode};switch(this.produceState((function(t){t.peekItems[e.item_id].parties[e.party_id]=r})),e.status){case"notifying":if(!NL(e))break;var a=function(e){return wL(SL({},e),{systemType:"party_inviting",type:"system"})}({id:e.item_id,partyId:e.party_id,timestamp:t});this.addMessage(e.item_id,a);break;case"connected":if(!NL(e))break;var o=kL({id:e.item_id,partyId:e.party_id,timestamp:t});this.addMessage(e.item_id,o)}break;case"agent_external_chat_party_message":var i=this.getParty(e.item_id,e.party_id),s={id:e.msg_id,text:e.msg,timestamp:t,partyId:e.party_id,type:PL(i)};this.addMessage(e.item_id,s);break;case"agent_external_chat_party_left":var c=this.stateData.peekItems[e.item_id].parties[e.party_id];if(c&&c.isQm&&"participate"!==c.qmMode)break;var u=RL({id:e.item_id,partyId:e.party_id,timestamp:t});this.addMessage(e.item_id,u)}}}},{key:"onAgentItemPeekIntentResult",value:function(e){this.stateData.peekItems[e.item_id]&&this.produceState((function(t){var n=t.peekItems[e.item_id],r=n.intents,a=e.locations[0],o=n.messages.find((function(e){return e.id===(null==a?void 0:a.msg_id)})),i=o&&"text"in o?o.text.substring(parseInt((null==a?void 0:a.start_pos)||"0"),parseInt((null==a?void 0:a.end_pos)||"0")):"";r.push({id:e.intent_id,name:e.intent_name,msgId:(null==a?void 0:a.msg_id)||"",text:i})}))}},{key:"updateSubscribedUserDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.transport.dispatch.agent_unsubscribe_users_details({type:a$});var t=n$(Object.keys(this.stateData.userDetails)).concat(n$(this.stateData.keepMonitoredUsers));t.length&&this.transport.dispatch.agent_subscribe_users_details({users:p_(t),type:a$,user_fields:p_(VL),item_fields:p_(YL)})}},{key:"updateKeepMonitoringInteractions",value:function(){var e=this,t=this.sessionConnector.getStateData().phoneNumber,n=void 0===t?"":t,r=this.interactionStateConnector.getStateData().items,a=Object.values(this.stateData.userDetails).filter((function(t){var n;return t&&e.stateData.keepMonitoredUsers.includes(t.userId)&&(null===(n=t.items)||void 0===n?void 0:n.length)})).reduce((function(e,t){return(null==t?void 0:t.items)?(null==t||t.items.forEach((function(t){if(!("state"in t)||"delivered"===t.state){var n=r.some((function(e){var n;return(null===(n=e.scenarioData)||void 0===n?void 0:n.qmMonitoredItemId)===t.id}));n||e.push(t.id)}})),e):e}),[]);a.forEach((function(t){e.interactionStateConnector.dispatch.qmStartCall({mode:"monitor",itemId:t,extension:n})}))}},{key:"getItemPeekInitialParties",value:function(e){var t=this;return ZL((function(){var n,r;return r$(this,(function(a){switch(a.label){case 0:return n=e.reduce((function(e,t){return AL(t)&&"external"===t.type&&t.contact_id?(e.includes(t.contact_id)||e.push(t.contact_id),e):e}),[]),[4,t.contactsStateConnector.dispatch.getContacts(n)];case 1:return r=a.sent(),[2,EL(e,r)]}}))}))()}},{key:"getParty",value:function(e,t){var n;return null===(n=this.stateData.peekItems[e])||void 0===n?void 0:n.parties[t]}},{key:"addMessage",value:function(e,t){this.produceState((function(n){var r=n.peekItems[e],a=r.messages;"system"===t.type&&"party_connected"===t.systemType&&(a=a.filter((function(e){return!("system"===e.type&&"party_inviting"===e.systemType&&e.partyId===t.partyId)}))),a.push(t),r.messages=DL(a)}))}}],n&&e$(t.prototype,n),r&&e$(t,r),e}();function i$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c$(e,t,n[t])}))}return e}function l$(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function d$(e){return function(e){if(Array.isArray(e))return i$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"saveDefaultNotReadyThresholds",value:function(e){var t=e.system_reasons,n=e.reasons,r=d$(__(t,(function(e){return e.name}))).concat(d$(__(n,(function(e){return e.name}))));this.produceState((function(e){r.forEach((function(t){e.systemThresholds.config[function(e){return"__not_ready_reason_".concat(e)}(t)]=Fx}))}))}},{key:"getThresholds",value:function(){this.transport.dispatch.agent_get_user_data({request_id:"THRESHOLDS:0",types:"THRESHOLD",is_system:"0"}).then(this.onThresholds).catch((function(e){return console.error(e)})),this.transport.dispatch.agent_get_user_data({request_id:"THRESHOLDS:1",types:"THRESHOLD",is_system:"1"}).then(this.onThresholds)}},{key:"onThresholds",value:function(e){var t=this;Object.values(e.data).forEach((function(n){if("THRESHOLD"===n.type)try{var r,a=n.value?JSON.parse(n.value):{},o=Ie(e.is_system),i=null!==(r=n.data_id)&&void 0!==r?r:(0,C.v4)();o?t.produceState((function(e){e.systemThresholds={id:i,config:u$({},e.systemThresholds,a)}})):t.produceState((function(e){e.thresholds={id:i,config:a}}))}catch(wX){v.error("onThresholds",wX)}}))}},{key:"saveThresholdsConfig",value:function(e){var t,n=e.thresholds,r=null!==(t=this.stateData.thresholds.id)&&void 0!==t?t:(0,C.v4)();this.produceState((function(e){e.thresholds.config=n})),this.transport.dispatch.agent_update_user_data({data_id:r,value:JSON.stringify(n),is_system:Oe(!1)})}},{key:"setDefaultSystemThresholds",value:function(e){var t,n=e.thresholds,r=null!==(t=this.stateData.systemThresholds.id)&&void 0!==t?t:(0,C.v4)();this.produceState((function(e){Oa(n).forEach((function(t){var r=n[t];r&&(e.systemThresholds.config[t]=r),delete e.thresholds.config[t]}))})),this.transport.dispatch.agent_update_user_data({data_id:r,value:JSON.stringify(l$(u$({},this.stateData.systemThresholds.config),{thresholds:n})),is_system:Oe(!0)})}}],n&&s$(t.prototype,n),r&&s$(t,r),e}();function _$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h$(e,t,n){return h$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y$(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},h$(e,t,n||e)}function y$(e){return y$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y$(e)}function v$(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?_$(e):t;var n}function b$(e,t){return b$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b$(e,t)}function C$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y$(e);if(t){var a=y$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v$(this,n)}}var S$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b$(e,t)}(o,e);var t,n,r,a=C$(o);function o(){var e;return p$(this,o),g$(_$(e=a.apply(this,arguments)),"isTeamStatsSubscribed",!1),g$(_$(e),"monitoringNS",O(_$(e),new WL)),g$(_$(e),"thresholdsNS",O(_$(e),new f$)),g$(_$(e),"intentsNS",O(_$(e),new nL)),g$(_$(e),"qualityManagementNS",O(_$(e),new o$)),g$(_$(e),"onAgentWelcome",(function(t){e.thresholdsNS.saveDefaultNotReadyThresholds(t)})),g$(_$(e),"onAgentWelcomeReceived",(function(){var t=e.sessionConnector.getStateData().privileges;(t.SYS_VIEW_LIST_OF_AGENTS||t.SYS_VIEW_QUEUE_STATUS)&&(e.isTeamStatsSubscribed=!0,e.monitoringNS.getMonitoringConfig(),e.monitoringNS.subscribeForMonitoringTeamsStats(),e.thresholdsNS.getThresholds(),e.intentsNS.subscribeForIntentsTeamsStats(),e.intentsNS.getAllIntents(),e.intentsNS.getAlertIntents())})),g$(_$(e),"subscribeForTeamsStats",(function(){e.isTeamStatsSubscribed=!0,e.monitoringNS.subscribeForMonitoringTeamsStats(),e.intentsNS.subscribeForIntentsTeamsStats()})),g$(_$(e),"unsubscribeFromTeamsStats",(function(){e.isTeamStatsSubscribed&&(e.monitoringNS.unsubscribeMonitoringFromTeamsStats(),e.intentsNS.unsubscribeFromIntentsTeamsStats())})),g$(_$(e),"onIncomingTeamsStats",(function(t){e.monitoringNS.onIncomingMonitoringTeamsStats(t)})),g$(_$(e),"onIncomingTeamStats",(function(t){e.monitoringNS.onIncomingMonitoringTeamStats(t),e.intentsNS.onIncomingIntentTeamStats(t)})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_teams_stats:this.onIncomingTeamsStats,agent_team_stats:this.onIncomingTeamStats,agent_agent_stats:this.monitoringNS.onIncomingMonitoringAgentStats,agent_users_details:this.qualityManagementNS.onIncomingAgentUsersDetails,agent_item_peek_voice_transcript_data:this.qualityManagementNS.onAgentItemPeekVoiceTranscriptData,agent_item_peek_chat_transcript_data:this.qualityManagementNS.onAgentItemPeekChatTranscriptData,agent_item_peek_intent_result:this.qualityManagementNS.onAgentItemPeekIntentResult,agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({subscribeForTeamsStats:this.subscribeForTeamsStats,unsubscribeFromTeamsStats:this.unsubscribeFromTeamsStats,updateSelectedSubTeamUserIds:this.monitoringNS.updateSelectedSubTeamUserIds,getDashboardConfig:this.monitoringNS.getDashboardConfig,getMonitoringConfig:this.monitoringNS.getMonitoringConfig,saveMonitoringConfigAsSystem:this.monitoringNS.saveMonitoringConfigAsSystem,setSelectedTeamId:this.monitoringNS.setSelectedTeamId,setIncludeLoggedOut:this.monitoringNS.setIncludeLoggedOut,setShowSubTeamOnly:this.monitoringNS.setShowSubTeamOnly,changeMonitoringServices:this.monitoringNS.changeMonitoringServices,updateMetrics:this.monitoringNS.updateMetrics,saveTableConfig:this.monitoringNS.saveTableConfig,deleteTableConfig:this.monitoringNS.deleteTableConfig,resetMonitoringColumns:this.monitoringNS.resetMonitoringColumns,resizeMonitoringColumns:this.monitoringNS.resizeMonitoringColumns,updateScrollingState:this.monitoringNS.updateScrollingState,subscribeToUserDetails:this.qualityManagementNS.subscribeToUserDetails,unsubscribeFromUserDetails:this.qualityManagementNS.unsubscribeFromUserDetails,setAgentState:this.qualityManagementNS.setAgentState,logoutAgent:this.qualityManagementNS.logoutAgent,seeAgentScreen:this.qualityManagementNS.seeAgentScreen,pullAgentScreen:this.qualityManagementNS.pullAgentScreen,subscribeToItemPeek:this.qualityManagementNS.subscribeToItemPeek,unsubscribeFromItemPeek:this.qualityManagementNS.unsubscribeFromItemPeek,addKeepMonitoringUser:this.qualityManagementNS.addKeepMonitoringUser,removeKeepMonitoringUser:this.qualityManagementNS.removeKeepMonitoringUser,saveThresholdsConfig:this.thresholdsNS.saveThresholdsConfig,setDefaultSystemThresholds:this.thresholdsNS.setDefaultSystemThresholds,setAlertIntents:this.intentsNS.setAlertIntents,closeIntentAlert:this.intentsNS.closeIntentAlert}),this.sessionConnector.dispenser.subscribe({onAgentWelcomeReceived:this.onAgentWelcomeReceived}))}},{key:"cleanup",value:function(){h$(y$(o.prototype),"cleanup",this).call(this),this.monitoringNS.unsubscribeMonitoringFromTeamsStats(),this.qualityManagementNS.clearUserDetailsSubscription(),this.intentsNS.unsubscribeFromIntentsTeamsStats(),this.isTeamStatsSubscribed=!1}},{key:"resetState",value:function(){h$(y$(o.prototype),"resetState",this).call(this),this.monitoringNS.unsubscribeMonitoringFromTeamsStats(),this.qualityManagementNS.clearUserDetailsSubscription(),this.intentsNS.unsubscribeFromIntentsTeamsStats(),this.isTeamStatsSubscribed=!1}}])&&m$(t.prototype,n),r&&m$(t,r),o}(Ts.createBaseStateClass({name:"statsState",controlEvents:$x,trackerEvents:Lx,options:{synchronized:!0,authorized:!0},dependencies:["transport","sessionConnector","interactionStateConnector","localSettings","bpClientStateConnector","contactsStateConnector"],getInitialState:function(){return{agentStats:{},monitoringTeamsStats:{},monitoringTeamStats:{services:{},serviceSummary:{},users:{}},userDetails:{},keepMonitoredUsers:[],thresholds:{id:void 0,config:{}},systemThresholds:{id:void 0,config:Kx},intents:{all:[],alerts:[],dataId:void 0},peekItems:{},intentAlerts:[],teamServicesInfo:[]}}})),w$={onInitialState:{parameters:[]},onChange:{parameters:[]}},I$={addToFavorites:{parameters:[]},setSecondaryTimezone:{parameters:[]}},O$=function(){return{allTimezones:[],favoriteTimezones:[],localTimezone:"",recentSecondaryTimezones:[],secondaryTimezone:""}};function T$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k$(e,t,n){return k$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R$(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},k$(e,t,n||e)}function R$(e){return R$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R$(e)}function N$(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?E$(e):t;var n}function M$(e,t){return M$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M$(e,t)}function j$(e){return function(e){if(Array.isArray(e))return T$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R$(e);if(t){var a=R$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N$(this,n)}}var L$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M$(e,t)}(o,e);var t,n,r,a=x$(o);function o(){var e;return D$(this,o),P$(E$(e=a.apply(this,arguments)),"dirty",!1),P$(E$(e),"timezonesRequestId",""),P$(E$(e),"refreshFullTimezoneList",(function(){e.transport.dispatch.getAgentDesktopTimeZoneNameDataList({params:[]}).then((function(t){var n=t.result,r=t.error;n?e.produceState((function(e){e.allTimezones=n})):v.error("getAgentDesktopTimeZoneNameDataList return no data",r)}))})),P$(E$(e),"refreshFavoriteTimezones",(function(){e.transport.dispatch.agent_get_user_data({types:"TIMEZONES"})})),P$(E$(e),"refreshSecondaryTimezones",(function(){e.localSettings.get("secondaryTimezone").then((function(t){if(t){var n=t.recentTimezones,r=t.timezone;e.produceState((function(e){e.recentSecondaryTimezones=n,e.secondaryTimezone=r}))}}))})),P$(E$(e),"setSecondaryTimezone",(function(t){var n;null===(n=e.localSettings)||void 0===n||n.set("secondaryTimezone",t),e.produceState((function(e){e.recentSecondaryTimezones=t.recentTimezones,e.secondaryTimezone=t.timezone}))})),P$(E$(e),"addToFavorites",(function(t){var n=j$(e.stateData.favoriteTimezones),r=n.findIndex((function(e){return e.id===t.id}));-1!==r?n.splice(r,1):(e.dirty=!0,n.length>4&&n.pop()),n.unshift(t),e.produceState((function(e){e.favoriteTimezones=n}))})),P$(E$(e),"onAgentUserData",(function(t){var n=Object.values(t.data).find((function(e){return"TIMEZONES"===e.type}));if(n){var r=JSON.parse(n.value);e.dirty=!1,e.timezonesRequestId=n.data_id,e.produceState((function(e){e.favoriteTimezones=r}))}})),P$(E$(e),"onAgentItemChanged",(function(t){"completed"===t.state&&e.dirty&&e.transport.dispatch.agent_update_user_data({data_id:e.timezonesRequestId,is_system:"0",value:JSON.stringify(e.stateData.favoriteTimezones)})})),P$(E$(e),"onAgentWelcome",(function(t){var n=t.timezone_id;n&&e.produceState((function(e){e.localTimezone=n}))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_user_data:this.onAgentUserData,agent_item_changed:this.onAgentItemChanged,agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({addToFavorites:this.addToFavorites,setSecondaryTimezone:this.setSecondaryTimezone}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&(e.refreshFullTimezoneList(),e.refreshFavoriteTimezones(),e.refreshSecondaryTimezones())},onLogin:function(){e.refreshFullTimezoneList(),e.refreshFavoriteTimezones(),e.refreshSecondaryTimezones()}}))}},{key:"cleanup",value:function(){k$(R$(o.prototype),"cleanup",this).call(this),this.timezonesRequestId="",this.dirty=!1}},{key:"resetState",value:function(){k$(R$(o.prototype),"resetState",this).call(this),this.timezonesRequestId="",this.dirty=!1}}])&&A$(t.prototype,n),r&&A$(t,r),o}(Ts.createBaseStateClass({name:"timezonesState",controlEvents:I$,trackerEvents:w$,options:{synchronized:!0,authorized:!0},getInitialState:O$,dependencies:["transport","localSettings","sessionConnector"]})),$$={onInitialState:{parameters:[]},onChange:{parameters:[]}},K$={subscribeForUserDetails:{parameters:[]},unsubscribeFromUserDetails:{parameters:[]},subscribeToUserListDetails:{parameters:[]},unsubscribeFromUserListDetails:{parameters:[]},getUserDetailsOnce:{async:!0,parameters:[],result:void 0},saveStaticUserDetails:{parameters:[]}};function F$(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G$(e,t,n){return G$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H$(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},G$(e,t,n||e)}function H$(e){return H$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H$(e)}function z$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B$(e,t,n[t])}))}return e}function W$(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function V$(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?F$(e):t;var n}function Y$(e,t){return Y$=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y$(e,t)}function Q$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H$(e);if(t){var a=H$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V$(this,n)}}var J$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y$(e,t)}(o,e);var t,n,r,a=Q$(o);function o(){var e;return U$(this,o),B$(F$(e=a.apply(this,arguments)),"userIdList",{}),B$(F$(e),"isSubscribed",!1),B$(F$(e),"subscribeTimeout",null),B$(F$(e),"cachedUserDetails",{}),B$(F$(e),"subscribe",(function(){if(e.subscribeTimeout&&clearTimeout(e.subscribeTimeout),Object.keys(e.userIdList).length){var t=e.getUserFields(),n={};["media_type"].forEach((function(e,t){return n[t]=e})),e.subscribeTimeout=setTimeout((function(){e.transport.dispatch.agent_subscribe_users_details({type:"DETAILS",users:p_(Object.keys(e.userIdList)),user_fields:t,item_fields:n}),e.isSubscribed=!0}),500)}})),B$(F$(e),"unsubscribe",(function(){e.isSubscribed?(e.transport.dispatch.agent_unsubscribe_users_details({type:"DETAILS"}),e.isSubscribed=!1):e.subscribeTimeout&&clearTimeout(e.subscribeTimeout)})),B$(F$(e),"subscribeForUserDetails",(function(t){e.unsubscribe(),e.userIdList[t]?e.userIdList[t]++:e.userIdList[t]=1,e.subscribe()})),B$(F$(e),"unsubscribeFromUserDetails",(function(t){e.unsubscribe(),e.userIdList[t]>1?e.userIdList[t]--:delete e.userIdList[t],e.subscribe()})),B$(F$(e),"subscribeToUserListDetails",(function(t){e.unsubscribe(),e.userIdList={},t.forEach((function(t){e.userIdList[t]=1})),e.subscribe()})),B$(F$(e),"unsubscribeFromUserListDetails",(function(){e.userIdList={},e.unsubscribe()})),B$(F$(e),"onUserDetails",(function(t){if("DETAILS"===t.type){var n=Object.keys(e.stateData.userDetails).reduce((function(t,n){var r=e.stateData.userDetails[n];return(null==r?void 0:r.data.isStatic)&&(t[n]=r),t}),{});Object.values(t.users).map(QL).forEach((function(e){n[e.userId]={data:e,lastUpdated:Date.now()}})),e.updateState((function(e){return W$(z$({},e),{userDetails:n})}))}})),B$(F$(e),"getUserDetailsOnce",(function(t){var n=t.type,r=void 0===n?"DETAILS":n,a=t.userIds,o=t.fields;if(e.userDetailsAreCached(a))return Promise.resolve(e.getCachedUserDetails(a));var i=e.getUserFields();return e.transport.dispatch.agent_get_users_details({type:r,users:p_(a),user_fields:o?p_(o):i}).then((function(t){return Object.values(t.users).map((function(t){var n=QL(t);return e.cachedUserDetails[n.userId]=n,n}))}))})),B$(F$(e),"saveStaticUserDetails",(function(t){e.updateState((function(e){return W$(z$({},e),{userDetails:z$({},e.userDetails,t.reduce((function(e,t){return e[t.userId]={lastUpdated:Date.now(),data:t},e}),{}))})}))})),e}return t=o,n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_users_details:this.onUserDetails}),this.fromClientDispenser.subscribe({subscribeForUserDetails:this.subscribeForUserDetails,unsubscribeFromUserDetails:this.unsubscribeFromUserDetails,subscribeToUserListDetails:this.subscribeToUserListDetails,unsubscribeFromUserListDetails:this.unsubscribeFromUserListDetails,getUserDetailsOnce:this.getUserDetailsOnce,saveStaticUserDetails:this.saveStaticUserDetails}))}},{key:"getUserFields",value:function(){var e=this.appConfigConnector.getStateData().agentStates,t={},n=["user_id","is_logged","is_super","presence_state","reason","photo_id","extension","firstname","lastname"];return e?n.push("acd_state","items","state_duration"):n.push("capacity"),n.forEach((function(e,n){return t[n]=e})),t}},{key:"userDetailsAreCached",value:function(e){var t=this;return e.every((function(e){return t.cachedUserDetails[e]}))}},{key:"getCachedUserDetails",value:function(e){var t=this;return e.map((function(e){return t.cachedUserDetails[e]}))}},{key:"cleanup",value:function(){G$(H$(o.prototype),"cleanup",this).call(this),this.userIdList={},this.isSubscribed=!1,this.subscribeTimeout=null,this.cachedUserDetails={}}},{key:"resetState",value:function(){G$(H$(o.prototype),"resetState",this).call(this),this.userIdList={},this.isSubscribed=!1,this.subscribeTimeout=null,this.cachedUserDetails={}}}],n&&q$(t.prototype,n),r&&q$(t,r),o}(Ts.createBaseStateClass({name:"userDetailsState",controlEvents:K$,trackerEvents:$$,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{userDetails:{}}},dependencies:["transport","appConfigConnector"]})),X$={onInitialState:{parameters:[]},onChange:{parameters:[]}},Z$={setUserPresenceState:{parameters:[]}};function eK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aK(e){return aK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},aK(e)}function oK(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?eK(e):t;var n}function iK(e,t){return iK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},iK(e,t)}function sK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aK(e);if(t){var a=aK(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return oK(this,n)}}var cK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iK(e,t)}(o,e);var t,n,r,a=sK(o);function o(){var e;return tK(this,o),rK(eK(e=a.apply(this,arguments)),"onAgentStateChange",(function(t){e.updateState({presenceState:t.presence_state})})),rK(eK(e),"onAgentItemCreatedOrChanged",(function(t){e.changeAvailableStateByIncomingInteraction(t),e.changeRingingStateByIncomingInteraction(t),e.changeStateByCompletedInteraction(t)})),rK(eK(e),"changeAvailableStateByIncomingInteraction",(function(t){"available"===e.stateData.presenceState&&(e.isIncomingCall(t)?e.updateState({presenceState:"ringing",nextPresenceState:"available"}):(e.isDelivered(t)||e.isOutgoingCall(t))&&e.updateState({presenceState:"busy",nextPresenceState:"available"}))})),rK(eK(e),"changeRingingStateByIncomingInteraction",(function(t){"ringing"===e.stateData.presenceState&&e.isDelivered(t)&&e.updateState({presenceState:"busy",nextPresenceState:"available"})})),rK(eK(e),"setUserPresenceState",(function(t,n){e.updateState({presenceState:t,nextPresenceState:n}),e.transport.dispatch.user_change_state({presence_state:t})})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_change_state:this.onAgentStateChange,agent_item_created:this.onAgentItemCreatedOrChanged,agent_item_changed:this.onAgentItemCreatedOrChanged}),this.fromClientDispenser.subscribe({setUserPresenceState:this.setUserPresenceState}))}},{key:"isIncomingCall",value:function(e){return this.isPendingPhone(e)&&"inbound"===e.direction}},{key:"isOutgoingCall",value:function(e){return this.isPendingPhone(e)&&"outbound"===e.direction}},{key:"isPendingPhone",value:function(e){return"delivery_pending"===e.state&&"voice"===e.media_type}},{key:"isDelivered",value:function(e){return"delivered"===e.state}},{key:"changeStateByCompletedInteraction",value:function(e){"completed"!==e.state||"busy"!==this.stateData.presenceState&&"ringing"!==this.stateData.presenceState||this.updateState({presenceState:this.stateData.nextPresenceState,nextPresenceState:void 0})}}])&&nK(t.prototype,n),r&&nK(t,r),o}(Ts.createBaseStateClass({name:"userPresenceState",controlEvents:Z$,trackerEvents:X$,options:{synchronized:!0,authorized:!0},dependencies:["transport"],getInitialState:function(){return{presenceState:void 0}}})),uK=function(){return{errors:[],greetings:[],isSaveInProgress:!1,isSaved:!1,languages:[],persistentAvatar:{},userLanguage:"",userProfile:null}},lK={onInitialState:{parameters:[]},onChange:{parameters:[]}},dK={saveData:{parameters:[]},saveReset:{parameters:[]},updateAvatar:{parameters:[]}},fK=function(e){return e?{about:e.about,city:e.city,country:e.country,email:e.email,extension:e.extension,firstName:e.first,forwardDestination:e.forward_destination,forwardEnabled:"1"===e.forward_enabled,forwardTimeout:e.forward_timeout,language:e.language,lastName:e.last,mobilePhone:e.mobile_phone,nickname:e.nickname,photo:e.photo,state:e.state,timezone:e.timezone,title:e.title,voicemailEnabled:"1"===e.voicemail_enabled,voicemailTimeout:e.voicemail_timeout,workPhone:e.work_phone}:null},_K=function(e){return{about:"about",city:"city",country:"country",email:"email",extension:"extension",firstName:"first",forwardDestination:"destination",forwardEnabled:"enabled",forwardTimeout:"timeout",language:"language",lastName:"last",mobilePhone:"mobile_phone",nickname:"nickname",photo:"photo",state:"state",timezone:"timezone",title:"title",voicemailEnabled:"enabled",voicemailTimeout:"timeout",workPhone:"work_phone"}[e]},pK=function(e,t){return"boolean"==typeof e?e?"1":"0":["language","forwardTimeout","voicemailTimeout"].includes(t)?e||void 0:e},mK=function(e){return{id:e.id,name:e.name,voiceFileId:e.voice_file_id,active:"1"===e.active}};function gK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hK(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function yK(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){hK(o,r,a,i,s,"next",e)}function s(e){hK(o,r,a,i,s,"throw",e)}i(void 0)}))}}function vK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SK(e){return SK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},SK(e)}function wK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){CK(e,t,n[t])}))}return e}function IK(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function OK(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?gK(e):t;var n}function TK(e,t){return TK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TK(e,t)}function EK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SK(e);if(t){var a=SK(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OK(this,n)}}function DK(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var AK=function(e){var t=(0,C.v4)().toUpperCase();return Y(e/3*16,(e+1)/3*16,16)+t.substring(1)},PK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TK(e,t)}(o,e);var t,n,r,a=EK(o);function o(){var e;vK(this,o),CK(gK(e=a.apply(this,arguments)),"updateAvatar",(function(t){e.produceState((function(e){Object.assign(e.persistentAvatar,t)}))})),CK(gK(e),"updateSessionUserInfo",(function(){var t,n;e.sessionConnector.dispatch.updatePersonalDetails(ka({firstName:null===(t=e.stateData.userProfile)||void 0===t?void 0:t.firstName,lastName:null===(n=e.stateData.userProfile)||void 0===n?void 0:n.lastName}))})),CK(gK(e),"onAgentWelcome",(function(){var t=e.getInitialPersistentAvatar();e.updateAvatar({src:t,draftSrc:t})})),CK(gK(e),"saveReset",(function(){e.produceState((function(e){e.isSaved=!1,e.isSaveInProgress=!1,e.errors=[]}))}));var t=gK(e);CK(gK(e),"getData",yK((function(){return DK(this,(function(e){switch(e.label){case 0:return[4,Promise.all([t.getUserProfileData(),t.getVoiceGreetingsData(),t.getLanguagesData()])];case 1:return e.sent(),t.updateSessionUserInfo(),t.updateUserLanguage(),[2]}}))})));var n=gK(e);CK(gK(e),"getUserProfileData",yK((function(){var e,t,r;return DK(this,(function(a){switch(a.label){case 0:return[4,n.transport.dispatch.user_profile_info_read()];case 1:return e=a.sent(),t=e.result,r=e.error,t?n.produceState((function(e){e.userProfile=fK(t[0])})):v.error(null==r?void 0:r.message),[2]}}))})));var r=gK(e);CK(gK(e),"getVoiceGreetingsData",yK((function(){var e,t,n,a;return DK(this,(function(o){switch(o.label){case 0:return[4,r.transport.dispatch.voice_mail_greetings()];case 1:return e=o.sent(),t=e.result,n=e.error,t?(a=Object.values(t).map((function(e){return mK(e)})),r.produceState((function(e){e.greetings=a}))):v.error(null==n?void 0:n.message),[2]}}))})));var i=gK(e);CK(gK(e),"getLanguagesData",yK((function(){var e,t,n,r;return DK(this,(function(a){switch(a.label){case 0:return[4,i.transport.dispatch.localized_languages()];case 1:return e=a.sent(),t=e.result,n=e.error,t?(r=Object.values(t).map((function(e){return e})),i.produceState((function(e){e.languages=r}))):v.error(null==n?void 0:n.message),[2]}}))})));var s=gK(e);return CK(gK(e),"saveData",function(){var e=yK((function(e,t){var n,r,a,o,i,c,u,l,d,f,_,p,m;return DK(this,(function(g){switch(g.label){case 0:return(n=s.stateData.userProfile)?(r=Object.assign({},n,e),a=[],o=s.localizationConnector.getStateData(),i=o.t,c=i.USER_PROFILE,r.firstName||a.push({field:"firstName",message:c.error_empty_first_name()}),r.lastName||a.push({field:"lastName",message:c.error_empty_last_name()}),!e.email&&n.email&&a.push({field:"email",message:c.error_empty_email()}),e.email&&!e.email.match(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g)&&a.push({field:"email",message:c.error_invalid_email()}),r.forwardEnabled&&(r.forwardDestination||a.push({field:"forwardDestination",message:c.error_call_forwarding_empty_destination()}),r.forwardTimeout||a.push({field:"forwardTimeout",message:c.error_call_forwarding_empty_timeout()})),r.voicemailEnabled&&(r.voicemailTimeout||a.push({field:"voicemailTimeout",message:c.error_voicemail_empty_timeout()})),!e.email||a.length?[3,2]:[4,s.transport.dispatch.agent_email_uniqueness_check({email:e.email})]):[2];case 1:l=g.sent(),d=l.result,f=l.error,(null==d||null===(u=d[0])||void 0===u?void 0:u.result)===e.email&&a.push({field:"email",message:c.error_email_already_used()}),f&&a.push({field:"email",message:c.error_email_check_failed()}),g.label=2;case 2:return a.length?(s.produceState((function(e){e.errors=a})),[2]):(_={},p=function(e,t,n){_[e]||(_[e]={}),t&&(_[e][t]=n)},Object.keys(e).map((function(t){var r=t,a=e[r];void 0!==a&&("photo"===r&&(a?p("user_profile_photo_insert",r,a):n.photo&&p("user_profile_photo_delete")),["firstName","lastName","title","about"].includes(r)&&p("user_profile_info_update",r,a),["nickname","extension","workPhone","mobilePhone","email"].includes(r)&&p("user_contact_info_update",r,a),["timezone","language","country","state","city"].includes(r)&&p("user_location_info_update",r,a),["forwardEnabled","forwardDestination","forwardTimeout"].includes(r)&&p("user_forwarding_info_update",r,a),["voicemailEnabled","voicemailTimeout"].includes(r)&&p("user_voicemail_info_update",r,a))})),(m=Object.keys(_).map((function(e){var t=_[e],r=!1,a=Object.keys(t).reduce((function(e,a){var o=a,i=t[o];t[o]!==n[o]&&(r=!0);var s=_K(o),c=pK(i,o);return IK(wK({},e),CK({},s,c))}),{});if(Object.keys(a).length&&!r)return Promise.resolve({result:{allOk:!0},request_id:"FAKE_ID"});var o={query:e};return Object.keys(a).length&&(o.params=a),s.transport.dispatch.agent_modify(o)}))).length&&(s.produceState((function(e){e.isSaveInProgress=!0})),Promise.all(m).then((function(e){var t=[];e.forEach((function(e){e.result||t.push({message:e.error_message||"Unknown error"})})),t.length?s.produceState((function(e){e.errors=t,e.isSaveInProgress=!1,e.isSaved=!0})):s.produceState((function(e){e.errors=[],e.isSaveInProgress=!1,e.isSaved=!0}))}))),s.saveVoiceGreetings(t),s.produceState((function(e){e.userProfile=r})),s.updateSessionUserInfo(),s.updateUserLanguage(),[2])}}))}));return function(t,n){return e.apply(this,arguments)}}()),CK(gK(e),"saveVoiceGreetings",(function(t){var n=e.stateData.greetings,r=[],a=[],o=[],i=[],s=t.map((function(e,t){if(e.id)return e;var n=wK({id:AK(t)},e);return r.push(n),n})),c=n.find((function(e){return e.active})),u=s.find((function(e){return e.active}));n.forEach((function(e){var t=s.find((function(t){return t.id===e.id}));t?t.voiceFileId!==e.voiceFileId?i.push({item:wK({},e,t),oldItem:e}):t.name!==e.name&&o.push(wK({},e,t)):a.push(e)})),r.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_mail_greetings_insert",params:{id:t.id,name:t.name,new_voice_file_id:t.voiceFileId}})})),a.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_mail_greetings_delete",params:{voice_file_id:t.id}})})),o.forEach((function(t){e.transport.dispatch.agent_modify({query:"voice_mail_greetings_update_name",params:{id:t.id,name:t.name,voice_file_id:t.voiceFileId}})})),i.forEach((function(t){var n=t.item,r=t.oldItem;e.transport.dispatch.agent_modify({query:"voice_mail_greetings_replace",params:{id:n.id,name:n.name,voice_file_id:r.voiceFileId,new_voice_file_id:n.voiceFileId}})})),u?c&&c.id===u.id||e.transport.dispatch.agent_modify({query:"set_active_voice_mail_greeting",params:{voice_mail_greeting_id:u.id}}):c&&void 0===a.find((function(e){return e.id===c.id}))&&e.transport.dispatch.agent_modify({query:"set_active_voice_mail_greeting"}),e.produceState((function(t){t.greetings=s,t.isSaved=!e.stateData.isSaveInProgress}))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_welcome:this.onAgentWelcome}),this.fromClientDispenser.subscribe({saveData:this.saveData,saveReset:this.saveReset,updateAvatar:this.updateAvatar}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.getData()},onLogin:function(){e.getData()},onLogout:function(){e.cleanupData()}}))}},{key:"cleanupData",value:function(){this.produceState((function(e){Object.assign(e,{errors:[],greetings:[],isSaveInProgress:!1,isSaved:!1,languages:[],persistentAvatar:{},userLanguage:"",userProfile:null})}))}},{key:"updateUserLanguage",value:function(){var e=this.stateData,t=e.languages,n=e.userProfile;if(n){var r=t.find((function(e){return e.id===n.language})),a=r&&W(r.code,r.region);this.produceState((function(e){e.userLanguage=a})),this.localSettings.set("userLanguage",a)}}},{key:"getInitialPersistentAvatar",value:function(){var e=this.sessionConnector.getStateData();return e.userId?bv(e,e.userId):""}}])&&bK(t.prototype,n),r&&bK(t,r),o}(Ts.createBaseStateClass({name:"userProfileState",controlEvents:dK,trackerEvents:lK,options:{synchronized:!0,authorized:!0},dependencies:["localSettings","sessionConnector","transport","localizationConnector"],getInitialState:uK})),kK={onInitialState:{parameters:[]},onChange:{parameters:[]}},RK={dropWebRtcConnection:{parameters:[]},resetWebRtcConnection:{parameters:[]},togglePhoneSpeaker:{parameters:[]},toggleVideoCamera:{parameters:[]},getStats:{async:!0,parameters:[],result:void 0},setMicrophoneDeviceId:{parameters:[]}};function NK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jK=function(){},xK=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),MK(this,"peerConnection",void 0),MK(this,"voiceElement",void 0),MK(this,"localStream",void 0),MK(this,"timeout",void 0),MK(this,"iceCandidateQueue",[]),MK(this,"withVideo",!1)}var t,n,r;return t=e,n=[{key:"setTimeout",value:function(e,t){var n=this;this.timeout=setTimeout((function(){n.cleanup(),t(new Error("WebRTC ".concat(e," error: timeout")))}),1e4)}},{key:"clearTimeout",value:function(){this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"cleanup",value:function(){this.clearTimeout(),this.iceCandidateQueue=[],this.withVideo=!1,this.peerConnection&&this.dropCall()}},{key:"sendStreamToHtml",value:function(e){this.voiceElement=document.createElement("audio"),this.voiceElement.autoplay=!0,this.voiceElement.srcObject=e}},{key:"togglePhoneSpeaker",value:function(e){var t;null===(t=this.localStream)||void 0===t||t.getAudioTracks().forEach((function(t){t.enabled=e}))}},{key:"toggleVideoCamera",value:function(e){var t;null===(t=this.localStream)||void 0===t||t.getVideoTracks().forEach((function(t){t.enabled=e}))}},{key:"onLocalIceCandidate",value:function(e,t){e||(this.clearTimeout(),t(this.peerConnection.localDescription.sdp))}},{key:"makeCall",value:function(e,t,n){var r=this,a=n.onIceCandidate,o=void 0===a?jK:a,i=n.onNewStream,s=void 0===i?jK:i,c=n.onAnswerTimeout,u=void 0===c?jK:c;return this.cleanup(),this.withVideo=t,new Promise((function(t,n){r.setTimeout("makeCall",u);try{r.peerConnection=new RTCPeerConnection(e)}catch(a){return r.cleanup(),n(a)}r.peerConnection.onicecandidate=function(e){if(e.candidate){var t=e.candidate,n=t.candidate,r=t.sdpMid,a=t.sdpMLineIndex;null!==r&&null!==a&&o({candidate:n,sdpMLineIndex:a,sdpMid:r})}},r.peerConnection.ontrack=function(e){var t=e.streams[0];"audio"===e.track.kind?r.sendStreamToHtml(t):"video"===e.track.kind&&s(t)},navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){r.localStream=e,r.localStream.getTracks().forEach((function(e){r.peerConnection.addTrack(e,r.localStream),r.withVideo||"video"!==e.kind||(e.enabled=!1)})),s(r.localStream,{isLocal:!0})})).then((function(){return r.peerConnection.createOffer()})).then((function(e){r.peerConnection.setLocalDescription(e),t(e.sdp||"")})).catch((function(e){return r.cleanup(),n(e)}))}))}},{key:"onAnswer",value:function(e){var t=this;if(this.peerConnection){this.clearTimeout();var n=new RTCSessionDescription({type:"answer",sdp:e});this.peerConnection.setRemoteDescription(n),this.iceCandidateQueue.length&&(this.iceCandidateQueue.forEach((function(e){return t.onIceCandidate(e)})),this.iceCandidateQueue=[])}}},{key:"onIceCandidate",value:function(e){this.peerConnection&&("have-local-offer"===this.peerConnection.signalingState?this.iceCandidateQueue.push(e):this.peerConnection.addIceCandidate(new RTCIceCandidate({candidate:e.candidate,sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid})))}},{key:"answerCall",value:function(e){var t=this;return this.cleanup(),new Promise((function(n,r){t.setTimeout("answerCall",r),t.peerConnection=new RTCPeerConnection,t.peerConnection.onicecandidate=function(e){t.onLocalIceCandidate(e.candidate,n)},t.peerConnection.ontrack=function(e){return t.sendStreamToHtml(e.streams[0])},navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then((function(e){e.getTracks().forEach((function(n){return t.peerConnection.addTrack(n,e)}))})).then((function(){var n=new RTCSessionDescription({sdp:e,type:"offer"});return t.peerConnection.setRemoteDescription(n)})).then((function(){return t.peerConnection.createAnswer()})).then((function(e){return t.peerConnection.setLocalDescription(e)})).catch((function(e){t.cleanup(),r(e)}))}))}},{key:"changeMicrophone",value:function(e){var t=this;this.peerConnection&&navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:e}}}).then((function(e){var n,r=e.getAudioTracks()[0],a=null===(n=t.peerConnection)||void 0===n?void 0:n.getSenders().find((function(e){var t;return"audio"==(null===(t=e.track)||void 0===t?void 0:t.kind)}));null==a||a.replaceTrack(r)}))}},{key:"dropCall",value:function(){this.voiceElement&&(this.voiceElement.pause(),this.voiceElement.removeAttribute("srcObject"),this.voiceElement.remove(),delete this.voiceElement),this.localStream&&(this.localStream.getTracks().forEach((function(e){return e.stop()})),delete this.localStream),this.peerConnection&&(this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null,this.peerConnection.close(),delete this.peerConnection)}}],n&&NK(t.prototype,n),r&&NK(t,r),e}();function LK(){return new xK}function $K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function UK(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){FK(o,r,a,i,s,"next",e)}function s(e){FK(o,r,a,i,s,"throw",e)}i(void 0)}))}}function qK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HK(e){return HK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},HK(e)}function zK(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function WK(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?KK(e):t;var n}function VK(e,t){return VK=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},VK(e,t)}function YK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HK(e);if(t){var a=HK(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return WK(this,n)}}function JK(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var XK=v.withPrefix("@WebRTC"),ZK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VK(e,t)}(o,e);var t,n,r,a=QK(o);function o(){var e;qK(this,o),GK(KK(e=a.apply(this,arguments)),"peerConnection","mobile"===e.platformSpecific.clientType()?void 0:LK()),GK(KK(e),"lastNum",void 0),GK(KK(e),"data",{audioSessionIsActivated:!1,rtcCallData:void 0}),GK(KK(e),"hasBPClient",["mobile"!==e.platformSpecific.clientType(),"undefined"!=typeof window,"BPClient"in window].every(Boolean)),GK(KK(e),"dropWebRtcConnection",(function(){"phone_type_browser"===e.sessionConnector.getStateData().phoneType&&e.dropCall()})),GK(KK(e),"setMicrophoneDeviceId",(function(t){var n,r;e.updateState({microphoneDeviceId:t}),e.localSettings.set("lastUsedMicrophone",t),null===(r=e.peerConnection)||void 0===r||null===(n=r.changeMicrophone)||void 0===n||n.call(r,t)})),GK(KK(e),"resetWebRtcConnection",(function(){e.lastNum&&(console.log("VoiceModule.JSDebug.resetWebRtcConnection"),e.dropCall(),e.interactionStateConnector.dispatch.sendRtcCallReset({number:e.lastNum}))})),GK(KK(e),"togglePhoneSpeaker",(function(t){var n;(null===(n=e.peerConnection)||void 0===n?void 0:n.togglePhoneSpeaker)&&e.peerConnection.togglePhoneSpeaker(t)})),GK(KK(e),"toggleVideoCamera",(function(t){var n;(null===(n=e.peerConnection)||void 0===n?void 0:n.toggleVideoCamera)&&e.peerConnection.toggleVideoCamera(t)}));var t=KK(e);GK(KK(e),"getStats",UK((function(){var e,n;return JK(this,(function(r){switch(r.label){case 0:return(null===(e=t.peerConnection)||void 0===e?void 0:e.getStats)?[4,t.peerConnection.getStats()]:[3,2];case 1:return[2,r.sent()];case 2:throw n="peerConnection.getStats is undefined",XK.error(n),new Error(n);case 3:return[2]}}))})));var n=KK(e);return GK(KK(e),"createRtcCallMobile",UK((function(){var e,t,r;return JK(this,(function(a){switch(a.label){case 0:return n.hasBPClient?[2]:(XK.info("Checking createRtcCall",n.data),void 0===n.data.rtcCallData?[2]:(XK.info("Call createRtcCall"),e=n.data.rtcCallData,[4,n.localSettings.get("phoneType")]));case 1:return t=a.sent(),XK.info("createRtcCall phoneType",t),"phone_type_browser"===t&&(null===(r=n.peerConnection)||void 0===r||r.answerCall(e.sdp).then((function(t){return n.interactionStateConnector.dispatch.createRtcCall({number:e.number,sdp:t,requestId:e.request_id,status:"200"})}),(function(){return n.interactionStateConnector.dispatch.createRtcCall({number:e.number,sdp:"",requestId:e.request_id,status:"400"})}))),n.data.rtcCallData=void 0,[2]}}))}))),GK(KK(e),"dropCall",(function(){var t,n;null===(n=e.peerConnection)||void 0===n||null===(t=n.dropCall)||void 0===t||t.call(n)})),e}return t=o,n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.interactionStateConnector.dispenser.subscribe({onDidActivateAudioSessioniOS:function(){XK.info("onDidActivateAudioSession"),e.hasBPClient||(e.data.audioSessionIsActivated=!0,e.createRtcCallMobile())},onDidDeactivateAudioSessioniOS:function(){XK.info("onDidDeactivateAudioSession"),e.hasBPClient||(e.data.audioSessionIsActivated=!1)},onRtcCallMake:function(t){XK.info("onRtcCallMake",t),e.lastNum=t.number,e.hasBPClient||(e.data.rtcCallData=t,e.createRtcCallMobile())},onRtcCallDrop:function(){XK.info("onRtcCallDrop");var t=e.sessionConnector.getStateData().phoneType;e.hasBPClient||"phone_type_browser"!==t||e.dropCall()},onShouldResetRtc:function(){e.lastNum&&(console.log("VoiceModule.JSDebug.onShouldResetRtc"),e.dropCall(),e.interactionStateConnector.dispatch.sendRtcCallReset({number:e.lastNum}))}}),this.interactionChatStateConnector.dispenser.subscribe({onRtcCallMake:function(t){var n,r=t.chatId,a=t.withVideo,o=t.rtcConfig,i=e;XK.info("onRtcCallMake event from chatStateConnector");var s={iceServers:o.iceServers.map((function(e){return zK(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){GK(e,t,n[t])}))}return e}({},e),{urls:e.url})}))};null===(n=e.peerConnection)||void 0===n||n.makeCall(s,a,{onIceCandidate:function(t){e.interactionChatStateConnector.dispatch.onRtcCallIceCandidate({chatId:r,candidate:t})},onNewStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isLocal,a=void 0!==n&&n,o=(0,C.v4)();i.produceState((function(t){t.streams[o]=e})),i.interactionChatStateConnector.dispatch.onRtcCallStream({chatId:r,streamId:o,isLocal:a})},onAnswerTimeout:function(){e.interactionChatStateConnector.dispatch.stopRtcCall({chatId:r,error:"answer_timeout"})}}).then((function(t){return e.interactionChatStateConnector.dispatch.startRtcCall({chatId:r,sdp:t})})).catch((function(t){XK.error("Chat WebRTC call error:",z(t)),e.interactionChatStateConnector.dispatch.stopRtcCall({chatId:r,error:"invalid_server"})}))},onRtcCallAnswer:function(t){var n,r=t.sdp;XK.info("onRtcCallAnswer event from chatStateConnector"),null===(n=e.peerConnection)||void 0===n||n.onAnswer(r)},onRtcIceCandidate:function(t){var n;XK.info("onRtcIceCandidate event from chatStateConnector"),null===(n=e.peerConnection)||void 0===n||n.onIceCandidate(t)},onRtcCallToggleDevice:function(t){var n,r=t.device,a=t.enabled;if("audio"===r)(null===(n=e.peerConnection)||void 0===n?void 0:n.togglePhoneSpeaker)&&e.peerConnection.togglePhoneSpeaker(a);else if("video"===r){var o;(null===(o=e.peerConnection)||void 0===o?void 0:o.toggleVideoCamera)&&e.peerConnection.toggleVideoCamera(a)}},onRtcCallDrop:function(){e.produceState((function(e){e.streams={}})),console.log("VoiceModule.JSDebug.onRtcCallDrop2"),e.dropCall()}})),this.subscriptions.push(this.fromClientDispenser.subscribe({dropWebRtcConnection:this.dropWebRtcConnection,getStats:this.getStats,resetWebRtcConnection:this.resetWebRtcConnection,togglePhoneSpeaker:this.togglePhoneSpeaker,toggleVideoCamera:this.toggleVideoCamera,setMicrophoneDeviceId:this.setMicrophoneDeviceId})),Promise.all([this.localSettings.get("lastUsedMicrophone"),this.localSettings.get("lastUsedSpeaker")]).then((function(t){var n=YK(t,2),r=n[0],a=n[1];e.updateState({microphoneDeviceId:r||"",speakerDeviceId:a||""})}))}}],n&&BK(t.prototype,n),r&&BK(t,r),o}(Ts.createBaseStateClass({name:"webRtcState",controlEvents:RK,trackerEvents:kK,getInitialState:function(){return{microphoneDeviceId:"",speakerDeviceId:"",streams:{}}},options:{authorized:!0},dependencies:["platformSpecific","localSettings","sessionConnector","interactionStateConnector","interactionChatStateConnector"]})),eF={onInitialState:{parameters:[]},onChange:{parameters:[]}},tF={removeAlert:{parameters:[]}};function nF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(e){return iF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iF(e)}function sF(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?nF(e):t;var n}function cF(e,t){return cF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cF(e,t)}function uF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iF(e);if(t){var a=iF(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sF(this,n)}}var lF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cF(e,t)}(o,e);var t,n,r,a=uF(o);function o(){var e;return rF(this,o),oF(nF(e=a.apply(this,arguments)),"onAgentCalendarAlert",(function(t){var n=t.alert_time,r=t.calendar_id;e.produceState((function(e){e.calendarEventAlerts.push({id:r,time:1e3*Number(n)})}))})),oF(nF(e),"removeAlert",(function(t){var n=e.stateData.calendarEventAlerts,r=n.filter((function(e){return e.id!==t}));n.length!==r.length&&(e.produceState((function(e){e.calendarEventAlerts=r})),e.transport.dispatch.agent_calendar_alert_delivered({calendar_id:t}))})),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_calendar_alert:this.onAgentCalendarAlert}),this.fromClientDispenser.subscribe({removeAlert:this.removeAlert}))}}])&&aF(t.prototype,n),r&&aF(t,r),o}(Ts.createBaseStateClass({name:"calendarAlertState",controlEvents:tF,trackerEvents:eF,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{calendarEventAlerts:[]}},dependencies:["transport"]})),dF={onInitialState:{parameters:[]},onChange:{parameters:[]}},fF={createNewCalendar:{parameters:[]},updateCalendar:{parameters:[]},deleteCalendar:{parameters:[]},updateLocaleSettings:{parameters:[]},updateAvailabilitySettings:{parameters:[]},changeCalendarPublish:{parameters:[]},changeCalendarColor:{parameters:[]}};function _F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pF(e,t,n){return pF=bF()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&yF(a,n.prototype),a},pF.apply(null,arguments)}function mF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gF(e){return gF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gF(e)}function hF(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?_F(e):t;var n}function yF(e,t){return yF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yF(e,t)}function vF(e){var t="function"==typeof Map?new Map:void 0;return vF=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return pF(e,arguments,gF(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yF(n,e)},vF(e)}function bF(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var CF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yF(e,t)}(a,e);var t,n,r=(t=a,n=bF(),function(){var e,r=gF(t);if(n){var a=gF(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return hF(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),mF(_F(o=r.call(this,n)),"url",void 0),mF(_F(o),"status",void 0),mF(_F(o),"statusText",void 0),mF(_F(o),"body",void 0),mF(_F(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(vF(Error));function SF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wF(e,t,n){return wF=kF()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&AF(a,n.prototype),a},wF.apply(null,arguments)}function IF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OF(e,t,n){return t&&IF(e.prototype,t),n&&IF(e,n),e}function TF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EF(e){return EF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},EF(e)}function DF(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function AF(e,t){return AF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},AF(e,t)}function PF(e){var t="function"==typeof Map?new Map:void 0;return PF=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return wF(e,arguments,EF(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),AF(n,e)},PF(e)}function kF(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var RF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AF(e,t)}(a,e);var t,n,r=(t=a,n=kF(),function(){var e,r=EF(t);if(n){var a=EF(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return DF(this,e)});function a(e){var t;return SF(this,a),(t=r.call(this,e)).name="CancelError",t}return OF(a,[{key:"isCancelled",get:function(){return!0}}]),a}(PF(Error)),NF=Symbol.toStringTag,MF=function(){function e(t){var n=this;SF(this,e),TF(this,NF,void 0),TF(this,"_isResolved",void 0),TF(this,"_isRejected",void 0),TF(this,"_isCancelled",void 0),TF(this,"_cancelHandlers",void 0),TF(this,"_promise",void 0),TF(this,"_resolve",void 0),TF(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return OF(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(i){return void console.warn("Cancellation threw an error",i)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new RF("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),jF={BASE:"/swagger-calendar",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function xF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LF(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function $F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){LF(o,r,a,i,s,"next",e)}function s(e){LF(o,r,a,i,s,"throw",e)}i(void 0)}))}}function KF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){KF(e,t,n[t])}))}return e}function UF(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function qF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BF(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var GF=function(e){return null!=e},HF=function(e){return"string"==typeof e},zF=function(e){return HF(e)&&""!==e},WF=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},VF=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},YF=function(e){var t=[],n=function(e,r){GF(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=qF(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=qF(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},QF=function(){var e=$F((function(e,t){return BF(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))}));return function(t,n){return e.apply(this,arguments)}}(),JF=function(){var e=$F((function(e,t){var n,r,a,o,i,s;return BF(this,(function(c){switch(c.label){case 0:return[4,QF(t,e.TOKEN)];case 1:return n=c.sent(),[4,QF(t,e.USERNAME)];case 2:return r=c.sent(),[4,QF(t,e.PASSWORD)];case 3:return a=c.sent(),[4,QF(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(FF({Accept:"application/json"},o,t.headers)).filter((function(e){var t=qF(e,2),n=(t[0],t[1]);return GF(n)})).reduce((function(e,t){var n=qF(t,2),r=n[0],a=n[1];return UF(FF({},e),KF({},r,String(a)))}),{}),zF(n)&&(i.Authorization="Bearer ".concat(n)),zF(r)&&zF(a)&&(s=function(e){try{return btoa(e)}catch(wX){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:WF(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":HF(t.body)?i["Content-Type"]="text/plain":VF(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),XF=function(){var e=$F((function(e,t,n,r,a,o,i){var s,c;return BF(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),ZF=function(){var e=$F((function(e){var t,n;return BF(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),eU=function(e,t){return new MF(function(){var n=$F((function(n,r,a){var o,i,s,c,u,l,d,f,_;return BF(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(YF(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){HF(n)||WF(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=qF(e,2),n=(t[0],t[1]);return GF(n)})).forEach((function(e){var t=qF(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):HF(e.body)||WF(e.body)||VF(e.body)?e.body:JSON.stringify(e.body)}(t),[4,JF(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,XF(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,ZF(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(HF(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=FF({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new CF(e,t,n);if(!t.ok)throw new CF(e,t,"Generic Error")}(t,f),n(f.body),p.label=4;case 4:return[3,6];case 5:return _=p.sent(),r(_),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function tU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nU,rU=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getCalendarAgenda",value:function(e){var t=e.calendarId,n=e.defaultCalendarEventsIncluded;return eU(jF,{method:"GET",url:"/v1/calendar/agenda",query:{calendarId:t,defaultCalendarEventsIncluded:n},errors:{401:"Unauthorized",500:"Internal Error"}})}},{key:"assignCalendarEvent",value:function(e){var t=e.body;return eU(jF,{method:"POST",url:"/v1/calendar/assignEvent",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getEventsByTimeFrame",value:function(e){var t=e.start,n=e.end,r=e.timezone,a=e.user,o=e.calendarId,i=e.defaultCalendarEventsIncluded;return eU(jF,{method:"GET",url:"/v1/calendar/eventsByTimeFrame",query:{start:t,end:n,user:a,calendarId:o,defaultCalendarEventsIncluded:i,timezone:r},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"stretchCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return eU(jF,{method:"PUT",url:"/v1/calendar/itemEnd/{calendarEventId}",path:{calendarEventId:t},query:{delta:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"moveCalendarEvent",value:function(e){var t=e.calendarEventId,n=e.delta;return eU(jF,{method:"PUT",url:"/v1/calendar/itemStart/{calendarEventId}",path:{calendarEventId:t},query:{delta:n},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createCalendarEvent",value:function(e){var t=e.body;return eU(jF,{method:"POST",url:"/v1/calendar/items",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getCalendarEventDetails",value:function(e){var t=e.calendarEventId;return eU(jF,{method:"GET",url:"/v1/calendar/items/{calendarEventId}",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"deleteCalendarEvent",value:function(e){var t=e.calendarEventId;return eU(jF,{method:"DELETE",url:"/v1/calendar/items/{calendarEventId}",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}},{key:"completeCalendarEvent",value:function(e){var t=e.calendarEventId;return eU(jF,{method:"POST",url:"/v1/calendar/items/{calendarEventId}/complete",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"snoozeCalendarEvent",value:function(e){var t=e.calendarEventId;return eU(jF,{method:"POST",url:"/v1/calendar/items/{calendarEventId}/snooze",path:{calendarEventId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getListCalendar",value:function(){return eU(jF,{method:"GET",url:"/v1/calendar/list",errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"createNewCalendar",value:function(e){var t=e.body;return eU(jF,{method:"POST",url:"/v1/calendar/new",body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getAvailabilitySettings",value:function(){return eU(jF,{method:"GET",url:"/v1/calendar/settings/availability",errors:{401:"Unauthorized",500:"Internal Error"}})}},{key:"upsertAvailabilitySettings",value:function(e){var t=e.body;return eU(jF,{method:"PUT",url:"/v1/calendar/settings/availability",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"getLocaleSettings",value:function(){return eU(jF,{method:"GET",url:"/v1/calendar/settings/locale",errors:{401:"Unauthorized",500:"Internal Error"}})}},{key:"upsertLocaleSettings",value:function(e){var t=e.body;return eU(jF,{method:"PUT",url:"/v1/calendar/settings/locale",body:t,errors:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",500:"Internal Error"}})}},{key:"getCalendar",value:function(e){var t=e.calendarId;return eU(jF,{method:"GET",url:"/v1/calendar/{calendarId}",path:{calendarId:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Calendar not found",500:"Internal Error"}})}},{key:"updateCalendar",value:function(e){var t=e.calendarId,n=e.body;return eU(jF,{method:"PUT",url:"/v1/calendar/{calendarId}",path:{calendarId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Calendar not found",500:"Internal Error"}})}},{key:"deleteCalendar",value:function(e){var t=e.calendarId;return eU(jF,{method:"DELETE",url:"/v1/calendar/{calendarId}",path:{calendarId:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Error"}})}},{key:"changeColorCalendar",value:function(e){var t=e.calendarId,n=e.body;return eU(jF,{method:"PATCH",url:"/v1/calendar/{calendarId}/color",path:{calendarId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Error"}})}},{key:"changeCalendarPublish",value:function(e){var t=e.calendarId,n=e.body;return eU(jF,{method:"PATCH",url:"/v1/calendar/{calendarId}/published",path:{calendarId:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Error"}})}}],(n=null)&&tU(t.prototype,n),r&&tU(t,r),e}();!function(e){e.EVENT="event",e.REQUEST="request",e.SHIFT="shift"}(nU||(nU={})),jF.BASE="/newadws/api";var aU=function(){return rU.getLocaleSettings()},oU=function(e){return rU.upsertLocaleSettings({body:e})},iU=function(){return rU.getAvailabilitySettings()},sU=function(e){return rU.upsertAvailabilitySettings({body:e})},cU=function(e){return rU.createNewCalendar({body:e})},uU=function(e,t){return rU.updateCalendar({calendarId:e,body:t})},lU=function(e){return rU.deleteCalendar({calendarId:e})},dU=function(e,t){return rU.changeCalendarPublish({calendarId:e,body:t})},fU=function(e,t){return rU.changeColorCalendar({calendarId:e,body:t})};function _U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function mU(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){pU(o,r,a,i,s,"next",e)}function s(e){pU(o,r,a,i,s,"throw",e)}i(void 0)}))}}function gU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vU(e){return vU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vU(e)}function bU(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?_U(e):t;var n}function CU(e,t){return CU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},CU(e,t)}function SU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vU(e);if(t){var a=vU(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bU(this,n)}}function wU(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var IU,OU,TU,EU,DU,AU,PU=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CU(e,t)}(o,e);var t,n,r,a=SU(o);function o(){var e;gU(this,o);var t=_U(e=a.apply(this,arguments));return yU(_U(e),"getData",mU((function(){return wU(this,(function(e){switch(e.label){case 0:return[4,Promise.all([t.getLocaleSettings(),t.getAvailabilitySettings()])];case 1:return e.sent(),[2]}}))}))),yU(_U(e),"getLocaleSettings",(function(){aU().then((function(t){e.produceState((function(e){e.locale=t}))}))})),yU(_U(e),"getAvailabilitySettings",(function(){iU().then((function(t){e.produceState((function(e){e.availability=t}))}))})),yU(_U(e),"updateLocaleSettings",(function(t){oU(t).then((function(t){e.produceState((function(e){e.locale=t}))}))})),yU(_U(e),"updateAvailabilitySettings",(function(t){sU(t).then((function(t){e.produceState((function(e){e.availability=t}))}))})),yU(_U(e),"createNewCalendar",(function(e){return cU(e)})),yU(_U(e),"updateCalendar",(function(e,t){return uU(e,t)})),yU(_U(e),"deleteCalendar",(function(e){return lU(e)})),yU(_U(e),"changeCalendarPublish",(function(e,t){return dU(e,t)})),yU(_U(e),"changeCalendarColor",(function(e,t){return fU(e,t)})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({createNewCalendar:this.createNewCalendar,updateCalendar:this.updateCalendar,deleteCalendar:this.deleteCalendar,updateLocaleSettings:this.updateLocaleSettings,updateAvailabilitySettings:this.updateAvailabilitySettings,changeCalendarPublish:this.changeCalendarPublish,changeCalendarColor:this.changeCalendarColor}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.getData()},onLogin:function(){e.getData()}}))}}])&&hU(t.prototype,n),r&&hU(t,r),o}(Ts.createBaseStateClass({name:"calendarSettingsState",controlEvents:fF,trackerEvents:dF,options:{synchronized:!0,authorized:!0},dependencies:["sessionConnector"],getInitialState:function(){return{saving:!1}}}));!function(e){e.HOLIDAYS="holidays",e.EVENTS="events",e.REQUESTS="requests",e.SHIFTS="shifts"}(IU||(IU={})),function(e){e.MY_CALENDAR="my-calendar",e.MY_REQUESTS="my-requests"}(OU||(OU={})),function(e){e.MONTH="month",e.WEEK="week",e.DAY="day",e.SCHEDULE="schedule"}(TU||(TU={})),function(e){e.NEW_EVENT="new_event",e.SELECTION="selection"}(EU||(EU={})),function(e){e.EVENT="event",e.NEW_EVENT="new_event",e.OCCUPIED="occupied",e.EMPTY="empty"}(DU||(DU={})),function(e){e.EVENT="event",e.HEADER_EVENT="header_event",e.EVENT_RESIZE="event_resize"}(AU||(AU={}));var kU={onInitialState:{parameters:[]},onChange:{parameters:[]}},RU={getCalendarsList:{parameters:[]},assignCalendarEvent:{parameters:[]},completeCalendarEvent:{parameters:[]},deleteCalendarEvent:{async:!0,parameters:[],result:void 0},getCalendarAgenda:{parameters:[]},getCalendarEventDetails:{async:!0,parameters:[],result:void 0},getCalendarEvents:{parameters:[]},moveCalendarEvent:{parameters:[]},saveCalendarEventDetails:{async:!0,parameters:[],result:void 0},setCalendarOwnerUserId:{parameters:[]},snoozeCalendarEvent:{parameters:[]},stretchCalendarEvent:{parameters:[]},changeViewDate:{parameters:[]},changeView:{parameters:[]},toggleCalendarSidebar:{parameters:[]},changeCalendarFilter:{parameters:[]},selectEvent:{parameters:[]},updateSelectedEvent:{parameters:[]},editSelectedEvent:{parameters:[]},closeEventForm:{parameters:[]},discardEventForm:{parameters:[]},continueEventForm:{parameters:[]},resetEventForm:{parameters:[]},getTimeoffTypes:{parameters:[]},getTimeoffBalances:{parameters:[]},getTimeoffRequests:{parameters:[]},saveTimeoffRequest:{async:!0,parameters:[],result:void 0},deleteTimeoffRequest:{async:!0,parameters:[],result:void 0},getShifts:{parameters:[]}};function NU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MU=3024e6;function jU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jU(e,t,n[t])}))}return e}function LU(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var $U=function(e){return Boolean(!e.id&&e._temporaryId)};var KU=function(e,t){var n,r=t.userId,a=t.firstName,o=t.lastName,i=t.displayNameFormat,s=Iv(i,a,o),c=e.userName||s,u=e.userId||r;return Ta(u),LU(xU({},e),{completed:!!e.completed,startTime:e.startTime,endTime:e.endTime,remindIn:e.remindIn?Number(e.remindIn):void 0,remindInUnit:null!==(n=e.remindInUnit)&&void 0!==n?n:"MINUTES",screenpopSize:e.screenpopSize||-1,userId:u,userName:c})};function FU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UU(e,t,n){return UU=WU()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&HU(a,n.prototype),a},UU.apply(null,arguments)}function qU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BU(e){return BU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BU(e)}function GU(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?FU(e):t;var n}function HU(e,t){return HU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},HU(e,t)}function zU(e){var t="function"==typeof Map?new Map:void 0;return zU=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return UU(e,arguments,BU(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),HU(n,e)},zU(e)}function WU(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var VU=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HU(e,t)}(a,e);var t,n,r=(t=a,n=WU(),function(){var e,r=BU(t);if(n){var a=BU(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return GU(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),qU(FU(o=r.call(this,n)),"url",void 0),qU(FU(o),"status",void 0),qU(FU(o),"statusText",void 0),qU(FU(o),"body",void 0),qU(FU(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(zU(Error));function YU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QU(e,t,n){return QU=aq()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&nq(a,n.prototype),a},QU.apply(null,arguments)}function JU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XU(e,t,n){return t&&JU(e.prototype,t),n&&JU(e,n),e}function ZU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){return eq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eq(e)}function tq(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function nq(e,t){return nq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nq(e,t)}function rq(e){var t="function"==typeof Map?new Map:void 0;return rq=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return QU(e,arguments,eq(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),nq(n,e)},rq(e)}function aq(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var oq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nq(e,t)}(a,e);var t,n,r=(t=a,n=aq(),function(){var e,r=eq(t);if(n){var a=eq(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return tq(this,e)});function a(e){var t;return YU(this,a),(t=r.call(this,e)).name="CancelError",t}return XU(a,[{key:"isCancelled",get:function(){return!0}}]),a}(rq(Error)),iq=Symbol.toStringTag,sq=function(){function e(t){var n=this;YU(this,e),ZU(this,iq,void 0),ZU(this,"_isResolved",void 0),ZU(this,"_isRejected",void 0),ZU(this,"_isCancelled",void 0),ZU(this,"_cancelHandlers",void 0),ZU(this,"_promise",void 0),ZU(this,"_resolve",void 0),ZU(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return XU(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(i){return void console.warn("Cancellation threw an error",i)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new oq("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),cq={BASE:"/swagger-wfm-calendar",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function uq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lq(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function dq(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){lq(o,r,a,i,s,"next",e)}function s(e){lq(o,r,a,i,s,"throw",e)}i(void 0)}))}}function fq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fq(e,t,n[t])}))}return e}function pq(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function mq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gq(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var hq=function(e){return null!=e},yq=function(e){return"string"==typeof e},vq=function(e){return yq(e)&&""!==e},bq=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},Cq=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},Sq=function(e){var t=[],n=function(e,r){hq(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=mq(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=mq(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},wq=function(){var e=dq((function(e,t){return gq(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))}));return function(t,n){return e.apply(this,arguments)}}(),Iq=function(){var e=dq((function(e,t){var n,r,a,o,i,s;return gq(this,(function(c){switch(c.label){case 0:return[4,wq(t,e.TOKEN)];case 1:return n=c.sent(),[4,wq(t,e.USERNAME)];case 2:return r=c.sent(),[4,wq(t,e.PASSWORD)];case 3:return a=c.sent(),[4,wq(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(_q({Accept:"application/json"},o,t.headers)).filter((function(e){var t=mq(e,2),n=(t[0],t[1]);return hq(n)})).reduce((function(e,t){var n=mq(t,2),r=n[0],a=n[1];return pq(_q({},e),fq({},r,String(a)))}),{}),vq(n)&&(i.Authorization="Bearer ".concat(n)),vq(r)&&vq(a)&&(s=function(e){try{return btoa(e)}catch(wX){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:bq(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":yq(t.body)?i["Content-Type"]="text/plain":Cq(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),Oq=function(){var e=dq((function(e,t,n,r,a,o,i){var s,c;return gq(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),Tq=function(){var e=dq((function(e){var t,n;return gq(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),Eq=function(e,t){return new sq(function(){var n=dq((function(n,r,a){var o,i,s,c,u,l,d,f,_;return gq(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(Sq(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){yq(n)||bq(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=mq(e,2),n=(t[0],t[1]);return hq(n)})).forEach((function(e){var t=mq(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):yq(e.body)||bq(e.body)||Cq(e.body)?e.body:JSON.stringify(e.body)}(t),[4,Iq(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,Oq(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,Tq(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(yq(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=_q({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new VU(e,t,n);if(!t.ok)throw new VU(e,t,"Generic Error")}(t,f),n(f.body),p.label=4;case 4:return[3,6];case 5:return _=p.sent(),r(_),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function Dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Aq=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"postV1Shifts",value:function(e){var t=e.params;return Eq(cq,{method:"POST",url:"/v1/shifts",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"putV1Shifts",value:function(e){var t=e.id,n=e.params;return Eq(cq,{method:"PUT",url:"/v1/shifts/{id}",path:{id:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"deleteV1Shifts",value:function(e){var t=e.id;return Eq(cq,{method:"DELETE",url:"/v1/shifts/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1ShiftsById",value:function(e){var t=e.id;return Eq(cq,{method:"GET",url:"/v1/shifts/by-id/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1ShiftsByUserId",value:function(e){var t=e.userId;return Eq(cq,{method:"GET",url:"/v1/shifts/by-user-id/{userId}",path:{userId:t},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Server Error"}})}}],(n=null)&&Dq(t.prototype,n),r&&Dq(t,r),e}();function Pq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kq,Rq=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getV1TimeOffRequests",value:function(e){var t=e.dateFrom,n=e.dateTo,r=e.sortBy,a=e.sortType,o=e.status,i=e.text,s=e.timeOffTypeId,c=e.userId;return Eq(cq,{method:"GET",url:"/v1/time-off/requests",query:{dateFrom:t,dateTo:n,sortBy:r,sortType:a,status:o,text:i,timeOffTypeId:s,userId:c},errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Server Error"}})}},{key:"postV1TimeOffRequests",value:function(e){var t=e.params;return Eq(cq,{method:"POST",url:"/v1/time-off/requests",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffRequestsApprove",value:function(e){var t=e.params;return Eq(cq,{method:"POST",url:"/v1/time-off/requests/approve",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",409:"Conflict",500:"Internal Server Error"}})}},{key:"getV1TimeOffRequestsById",value:function(e){var t=e.id;return Eq(cq,{method:"GET",url:"/v1/time-off/requests/by-id/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffRequestsDeny",value:function(e){var t=e.params;return Eq(cq,{method:"POST",url:"/v1/time-off/requests/deny",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",409:"Conflict",500:"Internal Server Error"}})}},{key:"putV1TimeOffRequests",value:function(e){var t=e.id,n=e.params;return Eq(cq,{method:"PUT",url:"/v1/time-off/requests/{id}",path:{id:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"deleteV1TimeOffRequests",value:function(e){var t=e.id;return Eq(cq,{method:"DELETE",url:"/v1/time-off/requests/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"putV1TimeOffRequestsWait",value:function(e){var t=e.id;return Eq(cq,{method:"PUT",url:"/v1/time-off/requests/{id}/wait",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1TimeOffTypes",value:function(){return Eq(cq,{method:"GET",url:"/v1/time-off/types",errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffTypes",value:function(e){var t=e.params;return Eq(cq,{method:"POST",url:"/v1/time-off/types",body:t,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1TimeOffTypes1",value:function(e){var t=e.id;return Eq(cq,{method:"GET",url:"/v1/time-off/types/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"putV1TimeOffTypes",value:function(e){var t=e.id,n=e.params;return Eq(cq,{method:"PUT",url:"/v1/time-off/types/{id}",path:{id:t},body:n,errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"deleteV1TimeOffTypes",value:function(e){var t=e.id;return Eq(cq,{method:"DELETE",url:"/v1/time-off/types/{id}",path:{id:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"getV1TimeOffUserBalance",value:function(e){var t=e.userId;return Eq(cq,{method:"GET",url:"/v1/time-off/user/{userId}/balance",path:{userId:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not Found",500:"Internal Server Error"}})}},{key:"postV1TimeOffUserBalance",value:function(e){var t=e.params,n=e.userId;return Eq(cq,{method:"POST",url:"/v1/time-off/user/{userId}/balance",path:{userId:n},body:t,errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Server Error"}})}}],(n=null)&&Pq(t.prototype,n),r&&Pq(t,r),e}();function Nq(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Mq(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Nq(o,r,a,i,s,"next",e)}function s(e){Nq(o,r,a,i,s,"throw",e)}i(void 0)}))}}function jq(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){e.TIMEOFF_TYPE="TIME_OFF_TYPE",e.START_TIME="START_TIME",e.CREATION_TIME="CREATION_TIME",e.RESOLVED_TIME="RESOLVED_TIME",e.APPROVER="APPROVER"}(kq||(kq={})),cq.BASE="/newadws/api";var xq=function(){var e=Mq((function(){return jq(this,(function(e){switch(e.label){case 0:return[4,rU.getListCalendar()];case 1:return[2,e.sent()]}}))}));return function(){return e.apply(this,arguments)}}(),Lq=function(){var e=Mq((function(e){return jq(this,(function(t){switch(t.label){case 0:return e?[4,rU.getEventsByTimeFrame(e)]:[2,Promise.reject("Error: no options provided")];case 1:return[2,t.sent().items||[]]}}))}));return function(t){return e.apply(this,arguments)}}(),$q=function(e){return rU.getCalendarEventDetails({calendarEventId:e})},Kq=function(e){return rU.createCalendarEvent({body:e})},Fq=function(e){return rU.completeCalendarEvent({calendarEventId:e})},Uq=function(e){return rU.snoozeCalendarEvent({calendarEventId:e})},qq=function(e,t){return rU.moveCalendarEvent({calendarEventId:e,delta:t.toString()})},Bq=function(e,t){return rU.stretchCalendarEvent({calendarEventId:e,delta:t.toString()})},Gq=function(e){return rU.assignCalendarEvent({body:e})},Hq=function(e){return rU.deleteCalendarEvent({calendarEventId:e})},zq=function(e){return rU.getCalendarAgenda(e)},Wq=function(){var e=Mq((function(e){return jq(this,(function(t){switch(t.label){case 0:return[4,Rq.getV1TimeOffRequests(e)];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),Vq=function(){var e=Mq((function(){return jq(this,(function(e){switch(e.label){case 0:return[4,Rq.getV1TimeOffTypes()];case 1:return[2,e.sent()]}}))}));return function(){return e.apply(this,arguments)}}(),Yq=function(){var e=Mq((function(e){return jq(this,(function(t){switch(t.label){case 0:return[4,Rq.getV1TimeOffUserBalance({userId:e})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),Qq=function(e){return Rq.postV1TimeOffRequests({params:e})},Jq=function(){var e=Mq((function(e){return jq(this,(function(t){switch(t.label){case 0:return[4,Rq.deleteV1TimeOffRequests({id:e})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),Xq=function(){var e=Mq((function(e){return jq(this,(function(t){switch(t.label){case 0:return[4,Aq.getV1ShiftsByUserId({userId:e})];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}();function Zq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aB(e,t,n){return aB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oB(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},aB(e,t,n||e)}function oB(e){return oB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oB(e)}function iB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rB(e,t,n[t])}))}return e}function sB(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function cB(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?eB(e):t;var n}function uB(e,t){return uB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uB(e,t)}function lB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oB(e);if(t){var a=oB(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cB(this,n)}}var fB=ee(),_B=ee(),pB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uB(e,t)}(o,e);var t,n,r,a=dB(o);function o(){var e;return tB(this,o),rB(eB(e=a.apply(this,arguments)),"lastGetCalendarEventsOptions",void 0),rB(eB(e),"lastGetTimeoffRequestsOptions",{}),rB(eB(e),"getCalendarsList",(function(){e.produceState((function(e){e.calendarsLoading=!0})),xq().then((function(t){e.produceState((function(e){e.calendars=t,e.calendarsLoading=!1}))})).catch((function(){e.produceState((function(e){e.calendarsLoading=!1}))}))})),rB(eB(e),"getCalendarEvents",(function(t){return e.produceState((function(e){e.calendarEventsLoading=!0})),e.lastGetCalendarEventsOptions=t&&sB(iB({},t),{start:t.start-MU}),Lq(e.lastGetCalendarEventsOptions).then(e.onCalendarEvents).catch(e.onCalendarEventsError)})),rB(eB(e),"onCalendarEvents",(function(t){e.produceState((function(e){e.calendarEventsLoading=!1;var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=e.calendarEvents.findIndex((function(e){return e.id===t.id}));n>=0?e.calendarEvents.splice(n,1,t):e.calendarEvents.push(t)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(wX){r=!0,a=wX}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}))})),rB(eB(e),"onCalendarEventsError",(function(){e.produceState((function(e){e.calendarEvents=[],e.calendarEventsLoading=!1}))})),rB(eB(e),"getCalendarEventDetails",(function(t){return e.setContactDetailsLoading(t,!0),$q(t).then((function(n){return e.onCalendarEventDetails(n),e.setContactDetailsLoading(t,!1),n}),(function(n){throw e.setContactDetailsLoading(t,!1),n}))})),rB(eB(e),"onCalendarEventDetails",(function(t){e.produceState((function(e){if(t&&t.id){var n=e.calendarEvents;e.calendarEventDetails[t.id]=t;var r=n.find((function(e){return e.id===t.id}));r&&(r.end=t.endTime,r.start=t.startTime,r.title=t.title),e.nextSelectedEvent=t}}))})),rB(eB(e),"setCalendarOwnerUserId",(function(t){e.produceState((function(e){e.calendarOwnerUserId=t}))})),rB(eB(e),"toggleCalendarSidebar",(function(){e.produceState((function(e){e.showCalendarSidebar=!e.showCalendarSidebar}))})),rB(eB(e),"saveCalendarEventDetails",(function(t){var n=t.id||t._temporaryId;Ta(n),e.produceState((function(e){e.eventSaving=!0}));var r=e.sessionConnector.getStateData(),a=KU(t,r);return Kq(a).then((function(t){return e.produceState((function(e){e.eventSaving=!1;var r=e.calendarEventDetails,a=e.calendarEvents,o=a.findIndex((function(e){return e.id===n}));o>=0&&a.splice(o,1),a.push(t),delete r[n]})),e.resetEventForm(),t}))})),rB(eB(e),"completeCalendarEvent",(function(t){return Fq(t).then((function(){e.getCalendarEvents(e.lastGetCalendarEventsOptions),e.produceState((function(e){var n=e.calendarEventDetails;n[t]&&(n[t].completed=!0)})),e.calendarAlertConnector.dispatch.removeAlert(t)}))})),rB(eB(e),"snoozeCalendarEvent",(function(t){return Uq(t).then((function(){e.getCalendarEvents(e.lastGetCalendarEventsOptions),e.calendarAlertConnector.dispatch.removeAlert(t)}))})),rB(eB(e),"revertEventAfterError",(function(t,n){t&&e.produceState((function(r){var a=t.id,o=r.calendarEvents.findIndex((function(e){return e.id===a}));o>=0&&r.calendarEvents.splice(o,1,t),n&&(r.calendarEventDetails[a]=n,r.nextSelectedEvent=n),e.getCalendarEventDetails(a).then((function(t){e.onCalendarEventDetails(t)}))}))})),rB(eB(e),"moveCalendarEvent",(function(t,n){if(n){e.produceState((function(e){var r=e.calendarEvents.find((function(e){return e.id===t})),a=e.calendarEventDetails[t];r&&(r.start+=n,r.end+=n),a&&(a.startTime+=n,a.endTime+=n,a.remindTime&&(a.remindTime+=n)),e.nextSelectedEvent=a}));var r=e.stateData.calendarEvents.find((function(e){return e.id===t})),a=e.stateData.calendarEventDetails[t];qq(t,n).then(fB((function(t){e.onCalendarEventDetails(t)})),_B((function(){e.revertEventAfterError(r,a)})))}})),rB(eB(e),"stretchCalendarEvent",(function(t,n){var r=e.stateData.calendarEvents.find((function(e){return e.id===t})),a=e.stateData.calendarEventDetails[t];if(n&&r){var o=r.end-r.start,i=lB(n<0&&Math.abs(n)>o?[r.end+n,r.start]:[r.start,r.end+n],2),s=i[0],c=i[1];e.produceState((function(e){var n=e.calendarEvents.find((function(e){return e.id===t})),r=e.calendarEventDetails[t];n&&(n.start=s,n.end=c),r&&(r.startTime=s,r.endTime=c),e.nextSelectedEvent=r}));var u=function(){Bq(t,n).then(fB((function(t){e.onCalendarEventDetails(t)})),_B((function(){e.revertEventAfterError(r,a)})))};r.start===s?u():qq(t,n+o).then(fB((function(){r=e.stateData.calendarEvents.find((function(e){return e.id===t})),a=e.stateData.calendarEventDetails[t],u()})),_B((function(){e.revertEventAfterError(r,a)})))}})),rB(eB(e),"changeViewDate",(function(t){e.produceState((function(e){e.viewDate=t}))})),rB(eB(e),"changeView",(function(t){t!==e.stateData.view&&e.produceState((function(e){e.view=t,e.viewDaysAmount=t===TU.WEEK?7:1}))})),rB(eB(e),"assignCalendarEvent",(function(t){return Gq(t).then((function(){e.getCalendarEvents(e.lastGetCalendarEventsOptions)}))})),rB(eB(e),"deleteCalendarEvent",(function(t){return e.produceState((function(e){e.eventDeleting=!0})),Hq(t).then((function(){e.produceState((function(e){e.eventDeleting=!1;var n=e.calendarEventDetails,r=e.calendarEvents,a=r.findIndex((function(e){return e.id===t}));a>=0&&r.splice(a,1),delete n[t]}))}))})),rB(eB(e),"getCalendarAgenda",(function(t){zq(t).then(e.onCalendarAgenda)})),rB(eB(e),"onCalendarAgenda",(function(t){e.produceState((function(e){e.calendarAgenda=t}))})),rB(eB(e),"closeEventForm",(function(){e.produceState((function(e){e.nextSelectedEvent=void 0}))})),rB(eB(e),"resetEventForm",(function(){e.produceState((function(e){e.selectedEvent=void 0,e.nextSelectedEvent=void 0,e.eventEditing=!1,e.eventSaving=!1,e.eventDeleting=!1}))})),rB(eB(e),"selectEvent",(function(t){e.produceState((function(e){e.selectedEvent&&e.eventEditing?e.nextSelectedEvent=t:(e.selectedEvent=t,e.nextSelectedEvent=t,$U(t)&&(e.eventEditing=!0))}))})),rB(eB(e),"updateSelectedEvent",(function(t){e.produceState((function(e){e.nextSelectedEvent&&(e.nextSelectedEvent=iB({},e.nextSelectedEvent,t))}))})),rB(eB(e),"discardEventForm",(function(){var t=e.stateData.nextSelectedEvent;t?e.produceState((function(e){e.selectedEvent=t})):e.resetEventForm()})),rB(eB(e),"continueEventForm",(function(){e.produceState((function(e){e.nextSelectedEvent=e.selectedEvent}))})),rB(eB(e),"editSelectedEvent",(function(){e.produceState((function(e){e.eventEditing=!0}))})),rB(eB(e),"changeCalendarFilter",(function(t,n){e.produceState((function(e){e.calendarFilters[t]=n}))})),rB(eB(e),"getTimeoffRequests",(function(t){return e.produceState((function(e){e.timeoffRequestsLoading=!0})),e.lastGetTimeoffRequestsOptions=t,Wq(e.lastGetTimeoffRequestsOptions).then(e.onTimeoffRequests).catch(e.onTimeoffRequestsError)})),rB(eB(e),"onTimeoffRequests",(function(t){e.produceState((function(e){e.timeoffRequestsLoading=!1;var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=e.timeoffRequests.findIndex((function(e){return e.id===t.id}));n>=0?e.timeoffRequests.splice(n,1,t):e.timeoffRequests.push(t)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(wX){r=!0,a=wX}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}))})),rB(eB(e),"onTimeoffRequestsError",(function(){e.produceState((function(e){e.timeoffRequests=[],e.timeoffRequestsLoading=!1}))})),rB(eB(e),"getTimeoffBalances",(function(t){return Yq(t).then(e.onTimeoffBalances).catch(e.onTimeoffBalancesError)})),rB(eB(e),"onTimeoffBalances",(function(t){e.produceState((function(e){e.timeoffBalances=t}))})),rB(eB(e),"onTimeoffBalancesError",(function(){e.produceState((function(e){e.timeoffBalances=[]}))})),rB(eB(e),"getTimeoffTypes",(function(){return Vq().then(e.onTimeoffTypes).catch(e.onTimeoffTypesError)})),rB(eB(e),"onTimeoffTypes",(function(t){e.produceState((function(e){e.timeoffTypes=t}))})),rB(eB(e),"onTimeoffTypesError",(function(){e.produceState((function(e){e.timeoffTypes=[]}))})),rB(eB(e),"saveTimeoffRequest",(function(t){return e.produceState((function(e){e.timeoffRequestSaving=!0})),Qq(t).then((function(t){t.id&&e.getTimeoffRequests(e.lastGetTimeoffRequestsOptions)}))})),rB(eB(e),"deleteTimeoffRequest",(function(t){return e.produceState((function(e){e.timeoffRequestDeleting=!0})),Jq(t).then((function(){e.produceState((function(e){e.timeoffRequestDeleting=!1;var n=e.timeoffRequests,r=n.findIndex((function(e){return e.id===t}));r>=0&&n.splice(r,1)}))}))})),rB(eB(e),"getShifts",(function(t){return e.produceState((function(e){e.shiftsLoading=!0})),Xq(t).then(e.onShiftsLoaded).catch(e.onShiftsLoadError)})),rB(eB(e),"onShiftsLoaded",(function(t){e.produceState((function(e){e.shiftsLoading=!1;var n=!0,r=!1,a=void 0;try{for(var o,i=function(){var t=o.value,n=e.shifts.findIndex((function(e){return e.id===t.id}));n>=0?e.shifts.splice(n,1,t):e.shifts.push(t)},s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)i()}catch(wX){r=!0,a=wX}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}}))})),rB(eB(e),"onShiftsLoadError",(function(){e.produceState((function(e){e.shifts=[],e.shiftsLoading=!1}))})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getCalendarsList:this.getCalendarsList,assignCalendarEvent:this.assignCalendarEvent,completeCalendarEvent:this.completeCalendarEvent,deleteCalendarEvent:this.deleteCalendarEvent,getCalendarAgenda:this.getCalendarAgenda,getCalendarEventDetails:this.getCalendarEventDetails,getCalendarEvents:this.getCalendarEvents,moveCalendarEvent:this.moveCalendarEvent,saveCalendarEventDetails:this.saveCalendarEventDetails,setCalendarOwnerUserId:this.setCalendarOwnerUserId,snoozeCalendarEvent:this.snoozeCalendarEvent,stretchCalendarEvent:this.stretchCalendarEvent,changeViewDate:this.changeViewDate,changeView:this.changeView,toggleCalendarSidebar:this.toggleCalendarSidebar,changeCalendarFilter:this.changeCalendarFilter,resetEventForm:this.resetEventForm,closeEventForm:this.closeEventForm,discardEventForm:this.discardEventForm,continueEventForm:this.continueEventForm,selectEvent:this.selectEvent,updateSelectedEvent:this.updateSelectedEvent,editSelectedEvent:this.editSelectedEvent,getTimeoffBalances:this.getTimeoffBalances,getTimeoffRequests:this.getTimeoffRequests,getTimeoffTypes:this.getTimeoffTypes,saveTimeoffRequest:this.saveTimeoffRequest,deleteTimeoffRequest:this.deleteTimeoffRequest,getShifts:this.getShifts}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){var n=t.userId;n&&e.produceState((function(e){e.calendarOwnerUserId=n}))},onLogin:function(t){var n=t.userId;n&&e.produceState((function(e){e.calendarOwnerUserId=n}))}}))}},{key:"resetState",value:function(){aB(oB(o.prototype),"resetState",this).call(this),this.lastGetCalendarEventsOptions=void 0,this.lastGetTimeoffRequestsOptions={}}},{key:"setContactDetailsLoading",value:function(e,t){this.produceState((function(n){n.calendarEventDetailsLoading[e]=t}))}}])&&nB(t.prototype,n),r&&nB(t,r),o}(Ts.createBaseStateClass({name:"calendarState",controlEvents:RU,trackerEvents:kU,options:{authorized:!0},getInitialState:function(){var e;return{calendarsLoading:!1,calendars:[],calendarAgenda:[],calendarEventDetails:{},calendarEventDetailsLoading:{},calendarEvents:[],calendarOwnerUserId:"",calendarEventsLoading:!1,calendarFilters:(e={},NU(e,IU.HOLIDAYS,!1),NU(e,IU.EVENTS,!0),NU(e,IU.REQUESTS,!1),NU(e,IU.SHIFTS,!1),e),viewDate:Date.now(),view:TU.MONTH,viewDaysAmount:1,showCalendarSidebar:!1,eventEditing:!1,eventSaving:!1,eventDeleting:!1,timeoffTypes:[],timeoffBalances:[],timeoffRequests:[],timeoffRequestsLoading:!1,timeoffRequestSaving:!1,timeoffRequestDeleting:!1,shifts:[],shiftsLoading:!1}},dependencies:["sessionConnector","calendarAlertConnector"]})),mB=[["inCallsHandledPerDay","in_calls_handled_per_day"],["inCallsRejectedPerDay","in_calls_rejected_per_day"],["outCallsRejectedPerDay","out_calls_rejected_per_day"],["outCallsHandledPerDay","out_calls_handled_per_day"],["agentOccupancy","agent_occupancy"],["loginTime","login_time"],["agentAverageIdleTime","agent_average_idle_time"],["agentAveragePreviewTime","agent_average_preview_time"],["recordsSkippedRatioPerDay","records_skipped_ratio_per_day"],["recordsAcceptedPerDay","records_accepted_per_day"],["recordsSkippedPerDay","records_skipped_per_day"],["outCallsTransferredPerDay","out_calls_transferred_per_day"],["outCallsDroppedTalkingPerDay","out_calls_dropped_talking_per_day"],["outCallsDisconnectedTalkingPerDay","out_calls_disconnected_talking_per_day"],["inEmailCarriedOver","in_email_carried_over"],["inEmailCarriedOverNew","in_email_carried_over_new"],["inEmailOfferedPerDay","in_email_offered_per_day"],["inEmailPulledPerDay","in_email_pulled_per_day"],["inEmailProcessedRepliedPerDay","in_email_processed_replied_per_day"],["inEmailProcessedNoreplyPerDay","in_email_processed_noreply_per_day"],["inEmailWaitingInPersonalQueues","in_email_waiting_in_personal_queues"],["inEmailWaitingInPqBreachedSla","in_email_waiting_in_pq_breached_sla"],["inEmailHandledNewPerDay","in_email_handled_new_per_day"],["inEmailRejectedPerDay","in_email_rejected_per_day"],["inEmailsJoinedExistingCases","in_emails_joined_existing_cases"],["outEmailWaitingInPersonalQueues","out_email_waiting_in_personal_queues"],["inCallsTransferredPerDay","in_calls_transferred_per_day"],["inCallsFirstTimeHandledPerDay","in_calls_first_time_handled_per_day"],["inTransfersReceivedPerDay","in_transfers_received_per_day"],["inCallsDurationAveragePerDay","in_calls_duration_average_per_day"],["inCallsDurationTotalPerDay","in_calls_duration_total_per_day"],["callsAverageHandlingTimePerDay","calls_average_handling_time_per_day"],["callsAverageAcwTimePerDay","calls_average_acw_time_per_day"],["inCallsPutOnHoldPerDay","in_calls_put_on_hold_per_day"],["inCallsFirstTimePutOnHoldPerDay","in_calls_first_time_put_on_hold_per_day"],["agentFcr","agent_fcr"],["agentNps","agent_nps"],["agentCsat","agent_csat"],["agentCm1","agent_cm1"],["agentCm2","agent_cm2"],["agentTotalReadyTime","agent_total_ready_time"]],gB=(mB.map((function(e){return e[0]})),["item_id","media_type","direction"]);function hB(e){return!!e&&((null==e?void 0:e.isDefault)||!1)}var yB={onInitialState:{parameters:[]},onChange:{parameters:[]}},vB={getConfigs:{async:!0,parameters:[],result:void 0},createConfig:{async:!0,parameters:[],result:void 0},duplicateConfig:{async:!0,parameters:[],result:void 0},deleteConfig:{async:!0,parameters:[],result:void 0},updateConfig:{async:!0,parameters:[],result:void 0},updateConfigOwnership:{async:!0,parameters:[],result:void 0},toggleConfigIsGlobal:{async:!0,parameters:[],result:void 0},subscribeForAgentStats:{parameters:[]},unsubscribeFromAgentStats:{parameters:[]},subscribeForServiceStats:{parameters:[]},unsubscribeFromServicesStats:{parameters:[]},subscribeForTeamStats:{parameters:[]},unsubscribeFromTeamStats:{parameters:[]}},bB={team:{id:void 0,includeLoggedOutUsers:!1,fields:[]},user:{id:void 0,fields:[]},service:{teamId:void 0,fields:[]}};function CB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SB(e,t,n){return SB=DB()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&TB(a,n.prototype),a},SB.apply(null,arguments)}function wB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IB(e){return IB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},IB(e)}function OB(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?CB(e):t;var n}function TB(e,t){return TB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TB(e,t)}function EB(e){var t="function"==typeof Map?new Map:void 0;return EB=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return SB(e,arguments,IB(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),TB(n,e)},EB(e)}function DB(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var AB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TB(e,t)}(a,e);var t,n,r=(t=a,n=DB(),function(){var e,r=IB(t);if(n){var a=IB(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return OB(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),wB(CB(o=r.call(this,n)),"url",void 0),wB(CB(o),"status",void 0),wB(CB(o),"statusText",void 0),wB(CB(o),"body",void 0),wB(CB(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(EB(Error));function PB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kB(e,t,n){return kB=KB()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&LB(a,n.prototype),a},kB.apply(null,arguments)}function RB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NB(e,t,n){return t&&RB(e.prototype,t),n&&RB(e,n),e}function MB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e){return jB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jB(e)}function xB(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function LB(e,t){return LB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},LB(e,t)}function $B(e){var t="function"==typeof Map?new Map:void 0;return $B=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return kB(e,arguments,jB(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),LB(n,e)},$B(e)}function KB(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var FB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LB(e,t)}(a,e);var t,n,r=(t=a,n=KB(),function(){var e,r=jB(t);if(n){var a=jB(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return xB(this,e)});function a(e){var t;return PB(this,a),(t=r.call(this,e)).name="CancelError",t}return NB(a,[{key:"isCancelled",get:function(){return!0}}]),a}($B(Error)),UB=Symbol.toStringTag,qB=function(){function e(t){var n=this;PB(this,e),MB(this,UB,void 0),MB(this,"_isResolved",void 0),MB(this,"_isRejected",void 0),MB(this,"_isCancelled",void 0),MB(this,"_cancelHandlers",void 0),MB(this,"_promise",void 0),MB(this,"_resolve",void 0),MB(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return NB(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(i){return void console.warn("Cancellation threw an error",i)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new FB("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),BB={BASE:"",VERSION:"1.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function GB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HB(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function zB(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){HB(o,r,a,i,s,"next",e)}function s(e){HB(o,r,a,i,s,"throw",e)}i(void 0)}))}}function WB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){WB(e,t,n[t])}))}return e}function YB(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function QB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JB(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var XB=function(e){return null!=e},ZB=function(e){return"string"==typeof e},eG=function(e){return ZB(e)&&""!==e},tG=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},nG=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},rG=function(e){var t=[],n=function(e,r){XB(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=QB(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=QB(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},aG=function(){var e=zB((function(e,t){return JB(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))}));return function(t,n){return e.apply(this,arguments)}}(),oG=function(){var e=zB((function(e,t){var n,r,a,o,i,s;return JB(this,(function(c){switch(c.label){case 0:return[4,aG(t,e.TOKEN)];case 1:return n=c.sent(),[4,aG(t,e.USERNAME)];case 2:return r=c.sent(),[4,aG(t,e.PASSWORD)];case 3:return a=c.sent(),[4,aG(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(VB({Accept:"application/json"},o,t.headers)).filter((function(e){var t=QB(e,2),n=(t[0],t[1]);return XB(n)})).reduce((function(e,t){var n=QB(t,2),r=n[0],a=n[1];return YB(VB({},e),WB({},r,String(a)))}),{}),eG(n)&&(i.Authorization="Bearer ".concat(n)),eG(r)&&eG(a)&&(s=function(e){try{return btoa(e)}catch(wX){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:tG(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":ZB(t.body)?i["Content-Type"]="text/plain":nG(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),iG=function(){var e=zB((function(e,t,n,r,a,o,i){var s,c;return JB(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),sG=function(){var e=zB((function(e){var t,n;return JB(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),cG=function(e,t){return new qB(function(){var n=zB((function(n,r,a){var o,i,s,c,u,l,d,f,_;return JB(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(rG(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){ZB(n)||tG(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=QB(e,2),n=(t[0],t[1]);return XB(n)})).forEach((function(e){var t=QB(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):ZB(e.body)||tG(e.body)||nG(e.body)?e.body:JSON.stringify(e.body)}(t),[4,oG(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,iG(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,sG(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(ZB(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=VB({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new AB(e,t,n);if(!t.ok)throw new AB(e,t,"Generic Error")}(t,f),n(f.body),p.label=4;case 4:return[3,6];case 5:return _=p.sent(),r(_),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function uG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lG=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getConfigs",value:function(){return cG(BB,{method:"GET",url:"/newadws/api/v1/hp/getConfigs"})}},{key:"createConfig",value:function(e){var t=e.requestBody;return cG(BB,{method:"POST",url:"/newadws/api/v1/hp/addConfig",body:t,mediaType:"application/json"})}},{key:"updateConfig",value:function(e){var t=e.requestBody;return cG(BB,{method:"PUT",url:"/newadws/api/v1/hp/updateConfig",body:t,mediaType:"application/json"})}},{key:"deleteConfig",value:function(e){var t=e.configId;return cG(BB,{method:"DELETE",url:"/newadws/api/v1/hp/deleteConfig/{configId}",path:{configId:t}})}}],(n=null)&&uG(t.prototype,n),r&&uG(t,r),e}();function dG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var pG=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fG(this,"subscriptions",{})}var t,n,r;return t=e,n=[{key:"addSubscription",value:function(e,t){this.subscriptions[e]=_G(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fG(e,t,n[t])}))}return e}({},this.subscriptions[e]),fG({},t,!0))}},{key:"hasSubscription",value:function(e,t){var n;return Boolean(null===(n=this.subscriptions[e])||void 0===n?void 0:n[t])}},{key:"removeSubscription",value:function(e){delete this.subscriptions[e]}},{key:"clean",value:function(){this.subscriptions={}}}],n&&dG(t.prototype,n),r&&dG(t,r),e}();function mG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yG(e,t,n[t])}))}return e}function bG(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function CG(e){return function(e){if(Array.isArray(e))return mG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var SG=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gG(this,e),yG(this,"services",{}),yG(this,"subscriptionFields",{}),yG(this,"getUserSubscriptionIds",(function(){var e=Object.values(t.subscriptionFields).reduce((function(e,t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)&&e.add(t.user.id),e}),new Set);return Array.from(e).map((function(e){return"STATS:".concat(e)}))})),yG(this,"getTeamSubscriptionIds",(function(){var e=Object.values(t.subscriptionFields).reduce((function(e,t){var n;return(null===(n=t.team)||void 0===n?void 0:n.id)&&e.add(t.team.id),e}),new Set);return Array.from(e).map((function(e){return"AGENT_HOME_PAGE_TEAM:".concat(e)}))})),yG(this,"getServices",(function(){return t.services})),yG(this,"saveServices",(function(e,n){t.services[e]=n})),yG(this,"intializeTabFields",(function(e){t.subscriptionFields[e]||(t.subscriptionFields[e]=bB),Ta(t.subscriptionFields[e])})),this.subscriptionFields=n,this.services=r}var t,n,r;return t=e,n=[{key:"clean",value:function(){this.services={},this.subscriptionFields={}}},{key:"copy",value:function(){return new e(this.subscriptionFields)}},{key:"getServicesByTeamId",value:function(e){return this.services[e]}},{key:"getSubscriptionFields",value:function(e){return this.subscriptionFields[e]}},{key:"addUserFields",value:function(e,t,n){this.intializeTabFields(t),this.subscriptionFields[t]=bG(vG({},this.subscriptionFields[t]),{user:{id:e,fields:n}})}},{key:"removeUserFields",value:function(e){this.subscriptionFields[e]=bG(vG({},this.subscriptionFields[e]),{user:bB.user})}},{key:"addServiceFields",value:function(e,t,n){this.intializeTabFields(t),this.subscriptionFields[t]=bG(vG({},this.subscriptionFields[t]),{service:{teamId:e,fields:n}})}},{key:"removeServiceFields",value:function(e){this.subscriptionFields[e]=bG(vG({},this.subscriptionFields[e]),{service:bB.service})}},{key:"addTeamFields",value:function(e,t,n){this.intializeTabFields(t),this.subscriptionFields[t]=bG(vG({},this.subscriptionFields[t]),{team:{id:e,includeLoggedOutUsers:!1,fields:n}})}},{key:"removeTeamFields",value:function(e){this.subscriptionFields[e]=bG(vG({},this.subscriptionFields[e]),{team:bB.team})}},{key:"getUserFieldsById",value:function(){return Object.values(this.subscriptionFields).reduce((function(e,t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)&&t.user.fields&&(e[t.user.id]||(e[t.user.id]=[]),e[t.user.id]=Array.from(new Set(CG(e[t.user.id]).concat(CG(t.user.fields))))),e}),{})}},{key:"getServiceFieldsByTeamId",value:function(){return Object.values(this.subscriptionFields).reduce((function(e,t){return t.service.teamId&&t.service.fields&&(e[t.service.teamId]||(e[t.service.teamId]=[]),e[t.service.teamId]=Array.from(new Set(CG(e[t.service.teamId]).concat(CG(t.service.fields))))),e}),{})}},{key:"getTeamFieldsById",value:function(){return Object.values(this.subscriptionFields).reduce((function(e,t){var n;if((null===(n=t.team)||void 0===n?void 0:n.id)&&t.team.fields){e[t.team.id]||(e[t.team.id]={id:t.team.id,fields:[],includeLoggedOutUsers:t.team.includeLoggedOutUsers});var r=e[t.team.id];r.fields=Array.from(new Set(CG(r.fields).concat(CG(t.team.fields)))),r.includeLoggedOutUsers=t.team.includeLoggedOutUsers||r.includeLoggedOutUsers}return e}),{})}}],n&&hG(t.prototype,n),r&&hG(t,r),e}();function wG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OG(e){return mB.reduce((function(t,n){var r=IG(n,2),a=r[0],o=r[1];return t[a]=void 0!==e[o]?P(e[o]):-1,t}),{})}function TG(e){var t=mB.find((function(t){return t[0]===e}));return Ta(t),t[1]}function EG(e){var t=new Set(["user_id"]);return t.add("extension"),e.forEach((function(e){switch(e.name){case"name":t.add("firstname"),t.add("lastname");break;case"stateDuration":t.add("state_duration");break;case"reason":t.add("reason");break;case"nextReason":t.add("next_reason");break;case"acdState":t.add("acd_state"),t.add("items"),t.add("presence_state"),t.add("is_agent"),t.add("is_logged");break;case"acdNextState":t.add("acd_next_state"),t.add("is_agent"),t.add("is_logged")}})),Array.from(t)}function DG(e){return{id:"service_id",name:"name",inCallsWaiting:"in_calls_waiting",inMaxWaitTime:"in_max_wait_time",serviceLevel:"service_level",agentsReady:"agents_ready",agentsLogged:"agents_logged",serviceLevelPerDay:"service_level_per_day",inCallsHandledPerDay:"in_calls_handled_per_day",inCallsAbandonedInQueuePerDay:"in_calls_abandoned_in_queue_per_day",inEwt:"in_ewt",inAverageSpeedOfAnswer:"in_average_speed_of_answer",callsAverageHandlingTimePerDay:"calls_average_handling_time_per_day",outCallsHandledPerDay:"out_calls_handled_per_day",outCallsUnattendedPerDay:"out_calls_unattended_per_day",outCallsUnattendedRatioPerDay:"out_calls_unattended_ratio_per_day"}[e]}function AG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kG(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function RG(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){kG(o,r,a,i,s,"next",e)}function s(e){kG(o,r,a,i,s,"throw",e)}i(void 0)}))}}function NG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xG(e,t,n){return xG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=LG(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},xG(e,t,n||e)}function LG(e){return LG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},LG(e)}function $G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jG(e,t,n[t])}))}return e}function KG(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function FG(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UG(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?PG(e):t;var n}function qG(e,t){return qG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qG(e,t)}function BG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||HG(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GG(e){return function(e){if(Array.isArray(e))return AG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||HG(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HG(e,t){if(e){if("string"==typeof e)return AG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AG(e,t):void 0}}function zG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LG(e);if(t){var a=LG(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UG(this,n)}}function WG(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var VG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qG(e,t)}(o,e);var t,n,r,a=zG(o);function o(){var e;NG(this,o),jG(PG(e=a.apply(this,arguments)),"serviceStatsSubscriptionInterval",null),jG(PG(e),"pendingTeamStatsSubscriptions",new pG),jG(PG(e),"pendingServicesSubscriptions",new pG),jG(PG(e),"subscriptionManager",new SG);var t=PG(e);jG(PG(e),"getConfigs",RG((function(){var e,n;return WG(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,lG.getConfigs()];case 1:return e=r.sent(),t.produceState((function(t){t.configs=e})),[3,3];case 2:return n=r.sent(),v.error(n),[3,3];case 3:return[2]}}))})));var n=PG(e);jG(PG(e),"createConfig",function(){var e=RG((function(e){var t,r;return WG(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,lG.createConfig({requestBody:e})];case 1:return t=a.sent(),n.produceState((function(e){e.configs.push(t)})),[2,t];case 2:throw r=a.sent(),v.error(r),r;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var r=PG(e);jG(PG(e),"updateConfigOwnership",function(){var e=RG((function(e,t){var n;return WG(this,(function(a){switch(a.label){case 0:return n=r.stateData.configs.find((function(t){return t.id===e})),!n||hB(n)?[2]:[4,r.updateConfigBase(KG($G({},n),{teamOwners:t}))];case 1:return a.sent(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}());var i=PG(e);jG(PG(e),"toggleConfigIsGlobal",function(){var e=RG((function(e){var t;return WG(this,(function(n){switch(n.label){case 0:return t=i.stateData.configs.find((function(t){return t.id===e})),!t||hB(t)?[2]:[4,i.updateConfigBase(KG($G({},t),{isGlobal:!t.isGlobal}))];case 1:return n.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}());var s=PG(e);jG(PG(e),"updateConfig",function(){var e=RG((function(e){var t,n,r;return WG(this,(function(a){switch(a.label){case 0:return t=s.stateData.configs.find((function(t){return e.isDefault?t.isDefault:t.id===e.id})),t?!(n=$G({},t,e)).isDefault||n.id?[3,2]:(n.id,r=FG(n,["id"]),[4,s.createConfig(r)]):[2];case 1:case 3:return a.sent(),[2];case 2:return[4,s.updateConfigBase(n)]}}))}));return function(t){return e.apply(this,arguments)}}());var c=PG(e);jG(PG(e),"duplicateConfig",function(){var e=RG((function(e){var t,n;return WG(this,(function(r){switch(r.label){case 0:if(t=c.stateData.configs.find((function(t){return t.id===e})),!t)throw new Error("Couldn't find the configId=\"".concat(e,'" in state'));return t.id,n=FG(t,["id"]),[4,c.createConfig(n)];case 1:return[2,r.sent()]}}))}));return function(t){return e.apply(this,arguments)}}());var u=PG(e);jG(PG(e),"deleteConfig",function(){var e=RG((function(e){var t,n;return WG(this,(function(r){switch(r.label){case 0:if(t=u.stateData.configs.find((function(t){return t.id===e})),hB(t))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,lG.deleteConfig({configId:e})];case 2:return r.sent(),u.produceState((function(t){t.configs=t.configs.filter((function(t){return t.id!==e}))})),[3,4];case 3:throw n=r.sent(),v.error(n),n;case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}());var l=PG(e);jG(PG(e),"updateConfigBase",function(){var e=RG((function(e){var t,n;return WG(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,lG.updateConfig({requestBody:e})];case 1:return t=r.sent(),l.produceState((function(e){var n,r=null===(n=e.configs)||void 0===n?void 0:n.findIndex((function(e){return e.id===t.id}));void 0!==r&&-1!==r&&(e.configs[r]=t)})),[3,3];case 2:throw n=r.sent(),v.error(n),n;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),jG(PG(e),"onIncomingAgentUsersDetails",(function(t){var n=t.type.startsWith("MY_TEAM"),r=t.type.startsWith("STATS");n&&e.onTeamStatsSubscription(t),r&&e.onAgentStatsSubscription(t)})),jG(PG(e),"onTeamStatsSubscription",(function(t){var n=e.sessionConnector.getStateData().displayNameFormat,r=t.type.split(":")[1];e.produceState((function(e){e.subscriptionData.team[r]||(e.subscriptionData.team[r]={}),e.subscriptionData.team[r].isLoading=!1,e.subscriptionData.team[r].myTeamUserDetails=__(t.users,(function(e){var t=$G({},QL(e));return Object.assign(t,{name:Iv(n,t.firstName,t.lastName)}),delete t.firstName,delete t.lastName,t})).sort((function(e){return e.isLogged?-1:1}))}))})),jG(PG(e),"onAgentStatsSubscription",(function(t){var n=t.users[0];if(Ib(n)){var r=t.type.split(":")[1];e.produceState((function(e){e.subscriptionData.user[r]||(e.subscriptionData.user[r]={});var t=e.subscriptionData.user[r];t.isLoading=!1,t.myStatsDetails=OG(n),t.agentTotalBreakTime=P(n.agent_total_break_time)}))}})),jG(PG(e),"subscribeForAgentStats",(function(t,n,r){var a=e.subscriptionManager.getUserFieldsById()[n],o=function(){var e=new Set;return function t(n){n.forEach((function(n){switch(n.type){case"BREAK_TIME_REMAINING":e.add("agent_total_break_time"),e.add("extension");break;case"MY_STATS":n.fields.map((function(e){return TG(e.name)})).forEach((function(t){return e.add(t)})),e.add("extension");break;case"FLIPPING":t(n.widgets)}}))}(t.widgets),Array.from(e)}();if((null==a?void 0:a.sort().join())!==o.sort().join()&&(e.unsubscribeFromAgentStats(r),o.length)){e.subscriptionManager.addUserFields(n,r,o);var i=e.subscriptionManager.getUserFieldsById();e.sendSubscribeForAgentStatsRequest(n,i[n])}})),jG(PG(e),"sendSubscribeForAgentStatsRequest",(function(t,n){n.length&&(e.produceState((function(e){e.subscriptionData.user[t]||(e.subscriptionData.user[t]={}),e.subscriptionData.user[t].isLoading=!0})),e.transport.dispatch.agent_subscribe_users_details({users:p_([t]),type:"STATS:".concat(t),user_fields:p_(n)}))})),jG(PG(e),"subscribeForServiceStats",(function(t,n,r){var a=e.subscriptionManager.getServiceFieldsByTeamId()[n],o=function(){var e=new Set;return function t(n){n.forEach((function(n){switch(n.type){case"MY_SERVICES":e.add("service_id"),e.add("name"),n.fields.map((function(e){return DG(e.name)})).forEach((function(t){return e.add(t)}));break;case"FLIPPING":t(n.widgets)}}))}(t.widgets),Array.from(e)}();(null==a?void 0:a.sort().join())!==o.sort().join()&&(e.unsubscribeFromServicesStats(r,!1),e.produceState((function(e){e.subscriptionData.service[n]||(e.subscriptionData.service[n]={}),e.subscriptionData.service[n].isLoading=!0})),e.subscriptionManager.addServiceFields(n,r,o),e.startServiceSubscription())}));var d=PG(e);jG(PG(e),"startServiceSubscription",RG((function(){var e,t,n,r;return WG(this,(function(a){switch(a.label){case 0:return e=d.subscriptionManager.getServiceFieldsByTeamId(),t=function(){var t=RG((function(){var t,n;return WG(this,(function(r){switch(r.label){case 0:return t=[],Oa(e).forEach(function(){var e=RG((function(e){return WG(this,(function(n){return t.push(d.requestServices(e)),[2]}))}));return function(t){return e.apply(this,arguments)}}()),[4,Promise.all(t)];case 1:return n=Aa.apply(void 0,[r.sent().flat()]),[2,Array.from(new Set(n))]}}))}));return function(){return t.apply(this,arguments)}}(),[4,t()];case 1:return n=a.sent(),r=Array.from(new Set(Object.values(e).flat())),d.serviceStatsSubscriptionInterval=setInterval((function(){r&&d.transport.dispatch.agent_get_services_details({services:p_(n),service_fields:p_(r)}).then(d.onServicesStats)}),5e3),[2]}}))}))),jG(PG(e),"onServicesStats",(function(t){var n=__(t.services,(function(e){var t,n,r,a,o,i,s;return{id:e.service_id,agentsLogged:Number(null!==(t=e.agents_logged)&&void 0!==t?t:0),agentsReady:Number(null!==(n=e.agents_ready)&&void 0!==n?n:0),callsAverageHandlingTimePerDay:e.calls_average_handling_time_per_day,inAverageSpeedOfAnswer:e.in_average_speed_of_answer,inCallsAbandonedInQueuePerDay:Number(null!==(r=e.in_calls_abandoned_in_queue_per_day)&&void 0!==r?r:0),inCallsHandledPerDay:Number(null!==(a=e.in_calls_handled_per_day)&&void 0!==a?a:0),inCallsWaiting:Number(null!==(o=e.in_calls_waiting)&&void 0!==o?o:0),inEwt:e.in_ewt,inMaxWaitTime:e.in_max_wait_time,name:e.name,outCallsHandledPerDay:Number(null!==(i=e.out_calls_handled_per_day)&&void 0!==i?i:0),outCallsUnattendedPerDay:Number(null!==(s=e.out_calls_unattended_per_day)&&void 0!==s?s:0),outCallsUnattendedRatioPerDay:e.out_calls_unattended_ratio_per_day,serviceLevel:e.service_level,serviceLevelPerDay:e.service_level_per_day}})),r=n.reduce((function(e,t){return e[t.id]=t,e}),{}),a=e.subscriptionManager.getServices(),o=Object.entries(a).reduce((function(e,t){var n=BG(t,2),a=n[0],o=n[1];return e[a]={myServicesDetails:[],isLoading:!1},e[a].myServicesDetails=o.map((function(e){return r[e]})).filter(Boolean),e}),{});e.produceState((function(e){e.subscriptionData.service||(e.subscriptionData.service={}),e.subscriptionData.service=o}))}));var f=PG(e);jG(PG(e),"requestServices",function(){var e=RG((function(e){var t,n,r,a,o,i;return WG(this,(function(s){switch(s.label){case 0:return(t=f.subscriptionManager.getServicesByTeamId(e))?[2,t]:(n=(0,C.v4)(),f.pendingServicesSubscriptions.addSubscription(e,n),[4,f.transport.dispatch.agent_service_info_by_team({team_id:e})]);case 1:return r=s.sent(),a=r.result,i=null!==(o=null==a?void 0:a.map((function(e){return e.id})))&&void 0!==o?o:[],f.subscriptionManager.saveServices(e,i),f.pendingServicesSubscriptions.hasSubscription(e,n)?[2,i]:[2]}}))}));return function(t){return e.apply(this,arguments)}}());var _=PG(e);jG(PG(e),"subscribeForTeamStats",function(){var e=RG((function(e,t,n){var r,a,o,i;return WG(this,(function(s){switch(s.label){case 0:return r=_.subscriptionManager.getTeamFieldsById()[t],a=function(){var t=new Set;return function e(n){n.forEach((function(n){switch(n.type){case"MY_TEAM":EG(n.fields).forEach((function(e){return t.add(e)}));break;case"FLIPPING":e(n.widgets)}}))}(e.widgets),Array.from(t)}(),(null==r?void 0:r.fields.sort().join())===a.sort().join()?[2]:(_.unsubscribeFromTeamStats(n,!1),_.subscriptionManager.addTeamFields(t,n,a),[4,_.requestTeams(n,Object.keys(_.subscriptionManager.getTeamFieldsById()))]);case 1:return(o=s.sent())?(i=_.subscriptionManager.getTeamFieldsById(),_.sendSubscribeForTeamStatsRequest(o,i),[2]):[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}());var p=PG(e);jG(PG(e),"requestTeams",function(){var e=RG((function(e,t){var n,r;return WG(this,(function(a){switch(a.label){case 0:return n=(0,C.v4)(),p.pendingTeamStatsSubscriptions.addSubscription(e,n),[4,p.transport.dispatch.agent_get_logged_users({include_logged_out:Oe(!1),teams:p_(t)})];case 1:return r=a.sent().teams,p.pendingTeamStatsSubscriptions.hasSubscription(e,n)?[2,__(r)]:[2,void 0]}}))}));return function(t,n){return e.apply(this,arguments)}}()),jG(PG(e),"sendSubscribeForTeamStatsRequest",(function(t,n){t.forEach((function(t){e.produceState((function(e){e.subscriptionData.team[t.team_id]||(e.subscriptionData.team[t.team_id]={}),e.subscriptionData.team[t.team_id].isLoading=!0}));var r=n[t.team_id],a=t&&__(t.users).filter((function(e){return r.includeLoggedOutUsers||"offline"!==e.presence_state}));a&&r.fields.length&&e.transport.dispatch.agent_subscribe_users_details({users:p_(a,(function(e){return e.user_id})),type:"MY_TEAM:".concat(r.id),user_fields:p_(r.fields),item_fields:r.fields.includes("items")?p_(GG(gB)):{}})}))})),jG(PG(e),"unsubscribeFromServicesStats",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.pendingServicesSubscriptions.removeSubscription(t),e.subscriptionManager.removeServiceFields(t),n&&e.produceState((function(e){delete e.subscriptionData.service.myServicesDetails})),e.serviceStatsSubscriptionInterval&&clearInterval(e.serviceStatsSubscriptionInterval)})),jG(PG(e),"unsubscribeFromAgentStats",(function(t){var n,r=e.subscriptionManager.getSubscriptionFields(t);if(r){var a=null===(n=r.user)||void 0===n?void 0:n.id;if(a){e.subscriptionManager.removeUserFields(t),e.produceState((function(e){delete e.subscriptionData.user[a]})),e.transport.dispatch.agent_unsubscribe_users_details({type:"STATS:".concat(a)});var o=e.subscriptionManager.getUserFieldsById();o&&o[a]&&e.sendSubscribeForAgentStatsRequest(a,o[a])}}}));var m=PG(e);return jG(PG(e),"unsubscribeFromTeamStats",function(){var e=RG((function(e){var t,n,r,a,o,i,s=arguments;return WG(this,(function(c){switch(c.label){case 0:return t=!(s.length>1&&void 0!==s[1])||s[1],m.pendingTeamStatsSubscriptions.removeSubscription(e),(r=m.subscriptionManager.getSubscriptionFields(e))?(a=null===(n=r.team)||void 0===n?void 0:n.id)?(m.subscriptionManager.removeTeamFields(e),t&&m.produceState((function(e){delete e.subscriptionData.team[a]})),m.transport.dispatch.agent_unsubscribe_users_details({type:"MY_TEAM:".concat(a)}),(o=m.subscriptionManager.getTeamFieldsById())&&o[a]?[4,m.requestTeams(e,[a])]:[3,2]):[2]:[2];case 1:if(!(i=c.sent()))return[2];m.sendSubscribeForTeamStatsRequest(i,o),c.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.transport.dispenser.subscribe({agent_users_details:this.onIncomingAgentUsersDetails}),this.fromClientDispenser.subscribe({getConfigs:this.getConfigs,updateConfig:this.updateConfig,createConfig:this.createConfig,duplicateConfig:this.duplicateConfig,deleteConfig:this.deleteConfig,updateConfigOwnership:this.updateConfigOwnership,toggleConfigIsGlobal:this.toggleConfigIsGlobal,subscribeForAgentStats:this.subscribeForAgentStats,unsubscribeFromAgentStats:this.unsubscribeFromAgentStats,subscribeForServiceStats:this.subscribeForServiceStats,unsubscribeFromServicesStats:this.unsubscribeFromServicesStats,subscribeForTeamStats:this.subscribeForTeamStats,unsubscribeFromTeamStats:this.unsubscribeFromTeamStats}))}},{key:"clean",value:function(){var e=this;this.serviceStatsSubscriptionInterval&&clearInterval(this.serviceStatsSubscriptionInterval),this.subscriptionManager.getUserSubscriptionIds().forEach((function(t){e.transport.dispatch.agent_unsubscribe_users_details({type:t})})),this.subscriptionManager.getTeamSubscriptionIds().forEach((function(t){e.transport.dispatch.agent_unsubscribe_users_details({type:t})})),this.pendingTeamStatsSubscriptions.clean(),this.pendingServicesSubscriptions.clean(),this.subscriptionManager.clean()}},{key:"cleanup",value:function(){xG(LG(o.prototype),"cleanup",this).call(this),this.clean()}},{key:"resetState",value:function(){this.pendingTeamStatsSubscriptions.clean(),this.pendingServicesSubscriptions.clean(),this.subscriptionManager.clean(),xG(LG(o.prototype),"resetState",this).call(this)}}])&&MG(t.prototype,n),r&&MG(t,r),o}(Ts.createBaseStateClass({name:"homePageState",controlEvents:vB,trackerEvents:yB,options:{authorized:!0,synchronized:!0},getInitialState:function(){return{subscriptionData:{service:{},user:{},team:{}},configs:[]}},dependencies:["transport","sessionConnector","servicesDispositionsConnector"]}));const YG=function(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r};const QG=function(e,t,n,r){return qx(e,(function(e,a,o){t(r,e,n(e),o)})),r};var JG=function(e,t){return function(n,r){var a=er(n)?YG:QG,o=t?t():{};return a(n,e,Fo(r,2),o)}}((function(e,t,n){ro(e,n,t)}));const XG=JG;function ZG(e){return"contact"===e.type}function eH(e){return"user"===e.type}function tH(e){return"EMI"===e.type}function nH(e){return"custom"===e.type}function rH(e){return"phone"===e.channelType}function aH(e){return"email"===e.channelType}function oH(e){return"internal"===e.channelType}function iH(e){return rH(e)||oH(e)}function sH(e){if(!rH(e)&&!oH(e))throw Error("favorites channel is not multi-media channel")}function cH(e){return function(t){if(e.channelType!==t.channelType)return!1;switch(e.channelType){case"internal":return!t.number||!e.number||t.number===e.number;case"phone":return t.number===e.number;case"email":return t.email===e.email;case"messenger":return t.messengerType===e.messengerType&&t.userId===e.userId}}}var uH={onInitialState:{parameters:[]},onChange:{parameters:[]},onLimitReachedError:{parameters:[]}},lH={getFavoritesList:{async:!0,parameters:[],result:void 0},createCustomFavoriteItem:{async:!0,parameters:[],result:void 0},updateCustomFavoriteItem:{parameters:[]},toggleFavoriteChannel:{parameters:[]},setFavoriteItemChannels:{parameters:[]},deleteFavoritesItem:{parameters:[]}};function dH(e,t){return __(e).filter((function(e){return e.type===Sb.FAVORITE})).map((function(e){return function(e,t,n){var r=function(e){switch(!0){case!!(e.user_id&&e.user_type&&e.photo_url&&e.owner_id):return"EMI";case!!e.contact_id:return"contact";case!!(e.static_entry_type||e.static_entry_id||e.entry_id):return"entry";case!!e.user_id:return"user";default:return"custom"}}(t),a=function(e,t){var n,r,a,o,i;if(null===(n=e.channels)||void 0===n?void 0:n.length)return e.channels.map((function(e){var n;return ka({channelType:null!==(n=e.type)&&void 0!==n?n:"phone",number:e.number,numberId:e.number_id,numberType:e.number_type,media:"phone"===e.type||"internal"===e.type?e.media||["voice","chat"]:void 0,email:e.email,emailId:e.email_id,messengerType:e.messenger_type,userId:e.user_id,accountId:e.account_id,userName:e.user_name,hidden:e.hidden,hiddenMedia:"custom"!==t||"phone"!==e.type&&"internal"!==e.type?void 0:e.hidden_media||["voice","chat"]})}));if(null===(r=e.active_channels)||void 0===r?void 0:r.length)return e.active_channels.reduce((function(t,n){switch(n){case"number":if(!e.number){v.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}var r=t.filter(iH).find((function(t){return t.number===e.number}));r?r.media.push("voice"):t.push({channelType:e.user_id?"internal":"phone",number:e.number,media:["voice"]});break;case"chat_number":if(!e.chat_number){v.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}var a=t.filter(iH).find((function(t){return t.number===e.chat_number}));a?a.media.push("chat"):t.push({channelType:e.user_id?"internal":"phone",number:e.chat_number,media:["chat"]});break;case"email":if(!e.email){v.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}t.push({channelType:"email",email:e.email});break;case"messenger":if(!e.messenger){v.warn('@FV unable to convert old channels format for "'.concat(n,'":'),e);break}t.push({channelType:"messenger",messengerType:e.messenger.type,userId:e.messenger.userId,accountId:e.messenger.accountId,userName:e.messenger.userName})}return t}),[]);var s=[];null===(a=e.numbers)||void 0===a||a.forEach((function(t){s.push({channelType:e.user_id?"internal":"phone",number:t,media:["voice"]})})),null===(o=e.chat_numbers)||void 0===o||o.forEach((function(t){var n=s.filter(iH).find((function(e){return e.number===t}));n?n.media.push("chat"):s.push({channelType:e.user_id?"internal":"phone",number:t,media:["chat"]})})),null===(i=e.emails)||void 0===i||i.forEach((function(e){s.push({channelType:"email",email:e})})),e.messenger&&s.push({channelType:"messenger",messengerType:e.messenger.type,userId:e.messenger.userId,accountId:e.messenger.accountId,userName:e.messenger.userName});if(e.user_type&&e.photo_url&&e.owner_id){var c;s.push({channelType:"internal",media:["chat"]}),Object.values(null!==(c=e.phones)&&void 0!==c?c:{}).forEach((function(e){s.push({channelType:"phone",number:e.phone,numberType:e.type,media:["voice"]})}))}e.number&&s.push({channelType:e.user_id?"internal":"phone",number:e.number,media:["voice","chat"]});if(e.chat_number){var u=s.filter(iH).find((function(t){return t.number===e.chat_number}));u?u.media.push("chat"):s.push({channelType:e.user_id?"internal":"phone",number:e.chat_number,media:["chat"]})}e.email&&s.push({channelType:"email",email:e.email});return s}(t,r);if("custom"===r){a.length&&a.every((function(e){return iH(e)?e.media.every((function(t){var n;return null===(n=e.hiddenMedia)||void 0===n?void 0:n.includes(t)})):e.hidden}))&&(delete a[0].hiddenMedia,delete a[0].hidden)}return ka({id:e,type:r,firstName:t.first,lastName:t.last,displayName:t.name||Iv(n,t.first,t.last),channels:a,contactId:t.contact_id,contactData:void 0,userId:"user"===r?t.user_id:void 0,userDetails:void 0,entryId:t.entry_id||t.static_entry_id||("entry"===r?t.user_id:void 0),serviceId:t.service_id,huntGroupId:t.hunt_group_id,emiUserType:t.user_type,emiPhotoUrl:t.photo_url,emiOwnerId:t.owner_id,emiUserId:"EMI"===r?t.user_id:void 0})}(e.data_id,JSON.parse(e.value),t)}))}function fH(e){var t,n,r=e.channels.filter(rH),a=e.channels.find(oH),o=r.filter((function(e){return e.media.includes("voice")})),i=e.channels.find(aH),s=tH(e)?Object.assign({},o.map((function(e){return{type:e.numberType,phone:e.number}}))):void 0;return ka({first:e.firstName,last:e.lastName,name:e.firstName||e.lastName?void 0:e.displayName,user_id:e.userId||e.emiUserId||e.entryId,contact_id:e.contactId,entry_id:e.entryId,service_id:e.serviceId,hunt_group_id:e.huntGroupId,user_type:e.emiUserType,photo_url:e.emiPhotoUrl,owner_id:e.emiOwnerId,channels:_H(e),phones:s,email:null==i?void 0:i.email,number:null!==(n=null===(t=r[0])||void 0===t?void 0:t.number)&&void 0!==n?n:null==a?void 0:a.number})}function _H(e){return e.channels.map((function(t){return ka({type:t.channelType,number:t.number,number_id:t.numberId,number_type:t.numberType,media:iH(t)?t.media:void 0,email:t.email,email_id:t.emailId,hidden:!!t.hidden||void 0,hidden_media:nH(e)&&iH(t)?t.hiddenMedia:void 0,messenger_type:t.messengerType,user_id:t.userId,account_id:t.accountId,user_name:t.userName})}))}function pH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mH(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function gH(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mH(o,r,a,i,s,"next",e)}function s(e){mH(o,r,a,i,s,"throw",e)}i(void 0)}))}}function hH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e,t,n){return bH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CH(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},bH(e,t,n||e)}function CH(e){return CH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},CH(e)}function SH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vH(e,t,n[t])}))}return e}function wH(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function IH(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?pH(e):t;var n}function OH(e,t){return OH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},OH(e,t)}function TH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=CH(e);if(t){var a=CH(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return IH(this,n)}}function EH(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var DH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OH(e,t)}(o,e);var t,n,r,a=TH(o);function o(){var e;hH(this,o),vH(pH(e=a.apply(this,arguments)),"getAuthorizedSessionData",(function(){var t=e.sessionConnector.getStateData();return KN(t),t})),vH(pH(e),"formatName",(function(t,n){var r=e.getAuthorizedSessionData().displayNameFormat;return Iv(r,t,n)}));var t=pH(e);vH(pH(e),"getFavoritesList",gH((function(){var e,n,r,a,o,i;return EH(this,(function(s){switch(s.label){case 0:return t.produceState((function(e){e.isLoading=!0,e.isLoaded=!1})),[4,t.transport.dispatch.agent_get_user_data({types:Sb.FAVORITE})];case 1:return e=s.sent().data,n=t.getAuthorizedSessionData().displayNameFormat,r=dH(e,n),[4,t.linkFavoriteItemsWithContactsData(r)];case 2:return a=s.sent(),[4,t.linkFavoriteItemsWithUserData(a)];case 3:return o=s.sent(),i=t.removeCustomFavoriteItems(o),t.produceState((function(e){e.favoritesList=i,e.isLoading=!1,e.isLoaded=!0})),[2,t.stateData.favoritesList]}}))})));var n=pH(e);vH(pH(e),"linkFavoriteItemsWithContactsData",function(){var e=gH((function(e){var t,r,a,o;return EH(this,(function(i){switch(i.label){case 0:t=e.reduce((function(e,t){var n=t.contactId;return n&&e.push(n),e}),[]),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.contactsStateConnector.dispatch.getContacts(t)];case 2:return r=i.sent(),[3,4];case 3:return a=i.sent(),v.error("@FV: getContacts error:",a),[3,4];case 4:return r?(o=XG(r,"Id.oid"),[2,e.reduce((function(e,t){try{if(!ZG(t))return e.push(t),e;var r=o[t.contactId];if(!r)return v.info("@FV contact associated with favorites item not found - remove it:",t),n.transport.dispatch.agent_delete_user_data({data_id:t.id,is_system:"0"}),e;var i=n.updateItemWithContactData(t,r);i.channels.length?e.push(i):(v.info("@FV all channels in this favorites item are no more valid ","for the associated contact - delete this item from favorites:",t),n.transport.dispatch.agent_delete_user_data({data_id:t.id,is_system:"0"}))}catch(a){v.warn("@FV error while updating favorite item with contact data - skip this favorite item:",t,"Error is:",a)}return e}),[])]):(v.warn("@FV: getContacts method return no data - unable to sync favorites with contacts"),[2,e])}}))}));return function(t){return e.apply(this,arguments)}}());var r=pH(e);vH(pH(e),"linkFavoriteItemsWithUserData",function(){var e=gH((function(e){var t,n;return EH(this,(function(a){switch(a.label){case 0:return t=e.reduce((function(e,t){var n=t.userId;return n&&e.push(n),e}),[]),[4,r.userDetailsConnector.dispatch.getUserDetailsOnce({type:"FAVORITE",userIds:t})];case 1:return n=a.sent(),[2,e.reduce((function(e,t){try{if(!eH(t))return e.push(t),e;var a=n.find((function(e){return e.userId===t.userId}));if(!a)return r.transport.dispatch.agent_delete_user_data({data_id:t.id,is_system:"0"}),e;var o=r.updateItemWithUserData(t,a);e.push(o)}catch(i){v.warn("@FV error while updating favorite item with user data - skip this favorite item:",t,"Error is:",i)}return e}),[])]}}))}));return function(t){return e.apply(this,arguments)}}()),vH(pH(e),"removeCustomFavoriteItems",(function(e){return e.filter(H(nH))})),vH(pH(e),"deleteFavoritesItem",(function(t){var n=t.id;n?e.stateData.favoritesList.find((function(e){return e.id===n}))?(e.produceState((function(e){var t=e.favoritesList.findIndex((function(e){return e.id===n}));-1!==t&&e.favoritesList.splice(t,1)})),e.transport.dispatch.agent_delete_user_data({data_id:n,is_system:"0"})):v.warn("@FV delete favorite: item not found:",n):v.warn("@FV attempt to delete favorite item with empty ID")})),vH(pH(e),"deleteEmiFavorites",(function(t){var n=t.emiType,r=t.newAccountId,a=e.stateData.favoritesList.reduce((function(e,t){return tH(t)&&Sw(n).includes(t.emiUserType)&&t.emiOwnerId!==r&&e.push(t.id),e}),[]);a.length&&(a.forEach((function(t){e.transport.dispatch.agent_delete_user_data({data_id:t,is_system:"0"})})),e.produceState((function(e){e.favoritesList=e.favoritesList.filter((function(e){return!a.includes(e.id)}))})))}));var i=pH(e);return vH(pH(e),"createFavoriteItem",function(){var e=gH((function(e){var t,n,r,a,o,s,c,u,l,d,f,_;return EH(this,(function(p){switch(p.label){case 0:return i.stateData.favoritesList.length+1>50?(v.info("@FV createFavoriteItem: cannot add more favorite items - limit is reached"),i.toClientDispatch.onLimitReachedError(),[2,null]):e.channels.length?(t=(0,C.v4)(),n=SH({id:t,displayName:i.formatName(e.firstName,e.lastName)},e),"EMI"===e.type&&(r=i.sessionConnector.getStateData(),n.emiOwnerId=Cw(r,n.emiUserType)),"contact"===e.type&&(a=i.contactsStateConnector.getStateData().contacts,Ta(e.contactId),n.contactData=null!==(o=a[e.contactId].data)&&void 0!==o?o:void 0),"user"===e.type&&(c=i.userDetailsConnector.getStateData().userDetails,Ta(e.userId),n.userDetails=null===(s=c[e.userId])||void 0===s?void 0:s.data),i.produceState((function(e){e.favoritesList.push(n)})),u=fH(n),i.transport.dispatch.agent_add_user_data({data_id:t,is_system:"0",type:Sb.FAVORITE,value:JSON.stringify(u)}),[4,i.transport.dispatch.agent_get_user_data({types:Sb.FAVORITE})]):(v.warn("@FV createFavoriteItem: invalid item without channels:",e),[2,null]);case 1:return l=p.sent().data,d=i.getAuthorizedSessionData().displayNameFormat,f=dH(l,d),_=f.find((function(e){return e.id===t})),_?[2,_]:(i.produceState((function(e){var n=e.favoritesList.findIndex((function(e){return e.id===t}));-1!==n&&e.favoritesList.splice(n,1)})),v.warn("@FV createFavoriteItem - server does not return new item"),[2,Promise.reject("Item not found")])}}))}));return function(t){return e.apply(this,arguments)}}()),vH(pH(e),"toggleFavoriteChannel",(function(t){var n=t.id,r=t.itemData,a=t.channel,o=t.media,i=o?wH(SH({},a),{media:[o]}):a;if(n){var s=e.stateData.favoritesList.find((function(e){return e.id===n}));if(s){e.produceState((function(e){var t=e.favoritesList.find((function(e){return e.id===n}));Ta(t);var r=t.channels.findIndex(cH(a));if(-1===r)t.channels.push(i);else if(o){var s=t.channels[r];sH(s);var c=s.media.indexOf(o);-1===c?s.media.push(o):s.media.splice(c,1),s.media.length||t.channels.splice(r,1)}else t.channels.splice(r,1)}));var c=e.stateData.favoritesList.find((function(e){return e.id===n}));if(Ta(c),c.channels.length){var u=fH(c);e.transport.dispatch.agent_update_user_data({data_id:n,is_system:"0",value:JSON.stringify(u)})}else e.deleteFavoritesItem({id:s.id})}else v.warn("@FV setFavoriteItemChannels: item not found")}else e.createFavoriteItem(wH(SH({},r),{channels:[i]}))})),vH(pH(e),"onContactChanged",(function(t){e.produceState((function(n){n.favoritesList=n.favoritesList.map((function(n){return n.contactId!==t.Id.oid?n:e.updateItemWithContactData(n,t)}))}))})),vH(pH(e),"onContactDeleted",(function(t){e.produceState((function(n){n.favoritesList=n.favoritesList.reduce((function(n,r){return r.contactId===t?e.transport.dispatch.agent_delete_user_data({data_id:r.id,is_system:"0"}):n.push(r),n}),[])}))})),vH(pH(e),"updateItemWithContactData",(function(t,n){if(t.contactId!==n.Id.oid)return t;var r=t.channels.reduce((function(e,t){switch(t.channelType){case"phone":var r,a,o=void 0;if(t.numberId)o=null===(r=n.nonEmptyPhones)||void 0===r?void 0:r.find((function(e){return e.id===t.numberId}));else o=null===(a=n.nonEmptyPhones)||void 0===a?void 0:a.find((function(e){return e.phone===t.number}));o&&e.push({channelType:t.channelType,number:o.phone,numberId:o.id,numberType:o.type,media:t.media});break;case"email":var i,s,c=void 0;if(t.emailId)c=null===(i=n.emails)||void 0===i?void 0:i.find((function(e){return e.id===t.emailId}));else c=null===(s=n.emails)||void 0===s?void 0:s.find((function(e){return e.emailAddress===t.email}));c&&e.push({channelType:"email",email:c.emailAddress,emailId:c.id});break;case"messenger":var u,l,d=null===(u=n.messengers)||void 0===u?void 0:u.find((function(e){return e.type===t.messengerType&&e.userId===t.userId}));if(d)e.push({channelType:"messenger",messengerType:d.type,userId:d.userId,accountId:null!==(l=d.accountId)&&void 0!==l?l:"",userName:d.userName})}return e}),[]);return wH(SH({},t),{contactData:n,channels:r,firstName:n.firstName,lastName:n.lastName,displayName:e.formatName(n.firstName,n.lastName)})})),vH(pH(e),"updateItemWithUserData",(function(t,n){if(t.userId!==n.userId)return t;var r=t.channels.reduce((function(e,t){return oH(t)&&e.push({channelType:"internal",number:n.extension,media:t.media}),rH(t),aH(t)&&e.push({channelType:"email",email:n.email}),e}),[]);return wH(SH({},t),{userDetails:n,channels:r,firstName:n.firstName,lastName:n.lastName,displayName:e.formatName(n.firstName,n.lastName)})})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getFavoritesList:this.getFavoritesList,toggleFavoriteChannel:this.toggleFavoriteChannel}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.getFavoritesList()},onLogin:function(){e.getFavoritesList()},onEmiAccountChanged:function(t){var n=t.emiType,r=t.newAccount;e.deleteEmiFavorites({emiType:n,newAccountId:r})}}),this.contactsStateConnector.dispenser.subscribe({onContactChanged:this.onContactChanged,onContactDeleted:this.onContactDeleted}))}},{key:"cleanup",value:function(){bH(CH(o.prototype),"cleanup",this).call(this)}},{key:"resetState",value:function(){bH(CH(o.prototype),"resetState",this).call(this)}}])&&yH(t.prototype,n),r&&yH(t,r),o}(Ts.createBaseStateClass({name:"favoritesState",controlEvents:lH,trackerEvents:uH,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{favoritesList:[],isLoading:!1,isLoaded:!1}},dependencies:["transport","sessionConnector","contactsStateConnector","userDetailsConnector"]}));function AH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var PH=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"incomingChatInfoToChatItem",value:function(t){var n=Object.values(t.members).map(e.incomingMemberToChatUser);return{chatId:t.conv_id,createdByFirstName:t.created_by_firstname,createdByLastName:t.created_by_lastname,createdByLoginId:t.created_by_login_id,createdByUserId:t.created_by_user_id,disabled:!1,firstUndeliveredTimestamp:G(t.undelivered_first_ts),firstUnreadTimestamp:G(t.unread_first_ts),hidden:!1,members:n,messages:[],muted:!1,pinned:!1,pinnedMessages:[],title:t.name,type:"GROUP",undeliveredCount:P(t.undelivered_count,0),unreadMessages:[],unreadCount:P(t.unread_count,0)}}},{key:"incomingHistoryToChatMessages",value:function(e,t){return Object.values(e.messages).map((function(e){var n,r;return{content:e.content,direction:e.from_user_id===t?"out":"in",firstName:e.from_firstname,fromUserId:e.from_user_id,isDeleted:!1,isDelivered:Boolean(null===(n=e.receipts[t])||void 0===n?void 0:n.delivered),isRead:Boolean(null===(r=e.receipts[t])||void 0===r?void 0:r.read),isUrgent:e.is_urgent&&Ie(e.is_urgent),lastName:e.from_lastname,loginId:e.from_login_id,messageId:e.message_id,reactions:[],sendTime:G(e.ts),type:"message",userId:e.from_user_id}}))}},{key:"incomingMessageToChatMessage",value:function(e,t){return{content:e.content,direction:e.from_user_id===t?"out":"in",fromUserId:e.from_user_id,isDeleted:!1,isDelivered:!0,isUrgent:e.is_urgent&&Ie(e.is_urgent),messageId:e.message_id,reactions:[],sendTime:G(e.ts),type:"message",userId:e.from_user_id}}},{key:"incomingMemberToChatUser",value:function(e){var t={id:e.user_id,firstName:e.firstname,lastName:e.lastname,login:e.login_id};return"created_ts"in e&&(t.invitationTimestamp=G(e.created_ts)),t}}],(n=null)&&AH(t.prototype,n),r&&AH(t,r),e}();function kH(e){if(!e||"system"===e.type)throw Error("Object is not a GroupChatMessage")}function RH(e){return"message"===e.type}function NH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MH(e){return function(e){if(Array.isArray(e))return NH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return NH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jH(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function xH(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){jH(o,r,a,i,s,"next",e)}function s(e){jH(o,r,a,i,s,"throw",e)}i(void 0)}))}}function LH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $H(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var KH=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="pendingChatHistory")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,n=[{key:"getGroupChatUserId",value:function(e){var t=this.sessionConnector.getStateData().userId,n=this.stateData.items[e].members.map((function(e){return e.id})),r=n.filter((function(e){return e!==t}));if(1===r.length)return r[0]}},{key:"getChatDisplayName",value:function(e){var t=this.localizationConnector.getStateData().t.CHAT_CENTER,n=this.sessionConnector.getStateData(),r=n.displayNameFormat,a=n.userId,o=e.filter((function(e){return e.id!==a})).sort((function(e,t){return e.firstName.toLowerCase().localeCompare(t.firstName.toLowerCase())}));if(!o.length)return t.chat_empty_title();if(1===o.length){var i=o[0],s=i.firstName,c=i.lastName;return Iv(r,s,c)}return 2===o.length?t.chat_2_members_title(o[0].firstName,o[1].firstName):t.chat_many_members_title(o[0].firstName,o[1].firstName,String(o.length-2))}},{key:"unhideGroupChat",value:function(e){this.stateData.items[e].hidden&&this.produceState((function(t){t.items[e].hidden=!1}))}},{key:"createGroupChatInteraction",value:function(e,t){var n=this.stateData.items[e];this.interactionStateConnector.getStateData().items.find((function(t){return t.groupChatId===e}))||this.interactionStateConnector.dispatch.openInternalChat({groupChatId:e,direction:t,displayName:n.title,userId:this.getGroupChatUserId(e)})}},{key:"onChatInfo",value:function(e){var t=PH.incomingChatInfoToChatItem(e);t.title=t.title||this.getChatDisplayName(t.members);var n=t.chatId;this.pendingChatHistory[n]?(t.messages=this.pendingChatHistory[n],delete this.pendingChatHistory[n]):this.getChatHistory(n,1e3),this.produceState((function(e){e.items[n]=t})),this.unreadNS.updateUnread(n,t.messages)}},{key:"onChatList",value:function(e){this.produceState((function(e){e.items={}}));var t=!0,n=!1,r=void 0;try{for(var a,o=Object.values(e.conversations)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;this.onChatInfo(i)}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.produceState((function(e){e.chatListReceived=!0})),this.toClientDispatch.onChatListReceived(this.stateData.items)}},{key:"onRemoved",value:function(e){var t=e.conv_id;this.produceState((function(e){delete e.items[t]})),this.systemMessageNS.chatRemoved(t),this.toClientDispatch.onRemoveGroupChat(t)}},{key:"onTitleUpdated",value:function(e){var t=e.conv_id,n=e.name,r=this.stateData.items[t];r&&r.title!==n&&(this.produceState((function(e){e.items[t].title=n})),this.systemMessageNS.titleUpdated(t,n))}},{key:"createGroupChat",value:function(e){var t=e.name,n=void 0===t?"":t,r=e.userIds,a=this;return xH((function(){var e,t;function o(){return i.apply(this,arguments)}function i(){return(i=xH((function(){var e;return $H(this,(function(t){switch(t.label){case 0:return[4,this.transport.dispatch.agent_im_conv_create({name:n,type:"group"})];case 1:return e=t.sent().conv_id,[4,this.loadChatInfo(e)];case 2:return t.sent(),[2,e]}}))}))).apply(this,arguments)}function s(){return c.apply(this,arguments)}function c(){return(c=xH((function(){var t;return $H(this,(function(n){switch(n.label){case 0:return[4,this.transport.dispatch.agent_im_conv_add_members({conv_id:e,users:p_(r)})];case 1:return t=n.sent().users,[2,Object.values(t).map(PH.incomingMemberToChatUser)]}}))}))).apply(this,arguments)}return $H(this,(function(n){switch(n.label){case 0:return[4,o.call(a)];case 1:return e=n.sent(),[4,s.call(a)];case 2:return t=n.sent(),a.produceState((function(n){n.items[e].title=a.getChatDisplayName(t)})),a.systemMessageNS.chatCreated(e,t),a.toClientDispatch.onCreateGroupChat(e),[2,e]}}))}))()}},{key:"getChatHistory",value:function(e,t){var n=this;return xH((function(){var r,a,o,i,s,c;return $H(this,(function(u){switch(u.label){case 0:return[4,n.transport.dispatch.agent_im_conv_get_history({conv_id:e,start_time:String(B(t))})];case 1:return r=u.sent(),a=n.sessionConnector.getStateData(),Ta(o=a.userId),i=PH.incomingHistoryToChatMessages(r,o),(s=n.stateData.items[e])?(c=function(e,t){var n=new Map,r=new Map,a=!0,o=!1,i=void 0;try{for(var s,c=MH(e).concat(MH(t))[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=l(s.value);n.set(u.messageId,u),r.set(u.sendTime,u)}}catch(wX){o=!0,i=wX}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return Array.from(r.keys()).sort().map((function(e){return r.get(e)}));function l(e){var t=n.get(e.messageId);return t?(n.delete(t.messageId),r.delete(t.sendTime),e.sendTime!==t.sendTime?e.sendTime>t.sendTime?e:t:RH(t)&&RH(e)&&t.content===e.content&&t.isRead?t:e):e}}(s.messages,i),n.produceState((function(t){t.items[e].messages=c})),n.unreadNS.updateUnread(e,c),[2]):(n.pendingChatHistory[e]=i,[2])}}))}))()}},{key:"loadChatInfo",value:function(e){var t=this;return xH((function(){return $H(this,(function(n){switch(n.label){case 0:return[4,t.transport.dispatch.agent_im_conv_get_info({conv_id:e})];case 1:return n.sent(),[2]}}))}))()}},{key:"hideGroupChat",value:function(e){this.stateData.items[e].hidden||(this.produceState((function(t){t.items[e].hidden=!0})),this.toClientDispatch.onHideGroupChat(e))}},{key:"markAsDelivered",value:function(e){this.transport.dispatch.agent_im_conv_mark_delivered({conv_id:e}),this.produceState((function(t){var n=t.items[e];n&&(n.firstUndeliveredTimestamp=void 0,n.undeliveredCount=0)}))}},{key:"markChatAsRead",value:function(e){this.transport.dispatch.agent_im_conv_mark_read({conv_id:e}),this.produceState((function(t){var n=t.items[e];n&&(n.firstUnreadTimestamp=void 0,n.unreadCount=0,n.unreadMessages=[])}))}},{key:"markAsVisible",value:function(e){this.stateData.items[e].hidden&&this.produceState((function(t){t.items[e].hidden=!1}))}},{key:"removeGroupChat",value:function(e){this.produceState((function(t){delete t.items[e]})),this.transport.dispatch.agent_im_conv_delete({conv_id:e}),this.toClientDispatch.onRemoveGroupChat(e)}},{key:"renameGroupChat",value:function(e,t){var n=this.stateData.items[e];n&&n.title!==t&&(this.produceState((function(n){n.items[e].title=t})),this.transport.dispatch.agent_im_conv_update({conv_id:e,name:t}))}},{key:"toggleMute",value:function(e){this.stateData.items[e]&&this.produceState((function(t){var n=t.items[e];n.muted=!n.muted}))}},{key:"togglePin",value:function(e){this.stateData.items[e]&&this.produceState((function(t){var n=t.items[e];n.pinned=!n.pinned}))}},{key:"reset",value:function(){this.pendingChatHistory={}}}],n&&LH(t.prototype,n),r&&LH(t,r),e}();function FH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UH(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function qH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BH(e){return function(e){if(Array.isArray(e))return FH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return FH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GH(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var HH=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"removeMembers",value:function(e,t){if(!this.stateData.items[e]){var n=this.sessionConnector.getStateData().userId;Ta(n);var r=t.includes(n);this.produceState((function(n){var a=n.items[e];a.members.filter((function(e){var n=e.id;return!t.includes(n)})),r&&(a.disabled=!0)})),r?this.systemMessageNS.selfMemberRemoved(e):this.systemMessageNS.membersRemoved(e,t)}}},{key:"onMembersAdded",value:function(e){var t=e.conv_id,n=e.users,r=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){UH(o,r,a,i,s,"next",e)}function s(e){UH(o,r,a,i,s,"throw",e)}i(void 0)}))}}((function(){var e,a,o,i,s;return GH(this,(function(c){switch(c.label){case 0:return e=Object.values(n),a=r.sessionConnector.getStateData(),o=a.userId,i=r.stateData.items[t],s=!!e.find((function(e){return e.user_id===o})),!s||i?[3,2]:[4,r.groupChatNS.loadChatInfo(t)];case 1:return c.sent(),[3,3];case 2:r.produceState((function(n){var r,a=e.map(PH.incomingMemberToChatUser);(r=n.items[t].members).push.apply(r,BH(a))})),c.label=3;case 3:return[2]}}))}))()}},{key:"onMemberRemoved",value:function(e){var t=e.conv_id,n=e.user_id;this.removeMembers(t,[n])}},{key:"onSeveralMembersRemoved",value:function(e){var t=e.conv_id,n=e.users;this.removeMembers(t,Object.values(n))}},{key:"inviteToChat",value:function(e){var t=e.chatId,n=e.userIds;e.shareHistory,this.transport.dispatch.agent_im_conv_add_members({conv_id:t,users:p_(n)})}},{key:"removeFromChat",value:function(e){var t=e.chatId,n=e.userIds;this.transport.dispatch.agent_im_conv_delete_members({conv_id:t,users:p_(n)});var r=this.sessionConnector.getStateData();KN(r);var a=n.includes(r.userId);this.stateData.items[t]&&a&&this.produceState((function(e){e.items[t].disabled=!0}))}}],n&&qH(t.prototype,n),r&&qH(t,r),e}();function zH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WH(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function VH(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){WH(o,r,a,i,s,"next",e)}function s(e){WH(o,r,a,i,s,"throw",e)}i(void 0)}))}}function YH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XH(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ZH=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"findMessage",value:function(e){var t=this,n=e.chatId,r=e.messageId,a=this.stateData.items[n],o=null==a?void 0:a.messages.findIndex((function(e){return"system"!==e.type&&e.messageId===r}));if(-1===o)return[!1];var i=a.messages[o];return kH(i),[!0,i,function(e){t.produceState((function(t){kH(t.items[n].messages[o]),t.items[n].messages[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){QH(e,t,n[t])}))}return e}({},i,e)}))}]}},{key:"onMessage",value:function(e){var t=e.conv_id,n=this.sessionConnector.getStateData().userId,r=PH.incomingMessageToChatMessage(e,n),a=r.direction,o=r.messageId;this.markMessageAsDelivered({chatId:t,messageId:o}),this.appendItemMessage(t,r),"out"===a?this.markMessageAsRead({chatId:t,messageId:o}):(this.groupChatNS.createGroupChatInteraction(t,"inbound"),this.groupChatNS.unhideGroupChat(t),this.unreadNS.addUnread(t,r),this.toClientDispatch.onUnreadMessage(t,r)),this.toClientDispatch.onMessage(t,r)}},{key:"deleteMessage",value:function(e){var t=e.chatId,n=e.messageId,r=JH(this.findMessage({chatId:t,messageId:n}),3),a=r[0],o=r[1],i=r[2],s=this.sessionConnector.getStateData().userId;if(a){if(o.isDeleted)return void this.logger.warn("Trying to delete already deleted message, chat = ".concat(t,", message = ").concat(n));if(o.userId!==s)return void this.logger.warn("Cannot delete messages of other users, chat = ".concat(t,", message = ").concat(n));i({isDeleted:!0})}}},{key:"getChatLastMessage",value:function(e){var t=e.chatId,n=e.startTime,r=void 0===n?1e3:n,a=this;return VH((function(){var e,n;return XH(this,(function(o){switch(o.label){case 0:return[4,a.transport.dispatch.agent_im_conv_get_history({conv_id:t,start_time:String(B(r)),last_message:!0})];case 1:return e=o.sent(),Ta(n=a.sessionConnector.getStateData().userId),[2,JH(PH.incomingHistoryToChatMessages(e,n),1)[0]]}}))}))()}},{key:"markMessageAsDelivered",value:function(e){var t=e.chatId,n=e.messageId;this.transport.dispatch.agent_im_conv_message_delivered({conv_id:t,message_id:n})}},{key:"markMessageAsRead",value:function(e){var t=e.chatId,n=e.messageId;this.transport.dispatch.agent_im_conv_message_read({conv_id:t,message_id:n}),this.unreadNS.removeUnread(t,n)}},{key:"pinMessage",value:function(e){var t=e.chatId,n=e.messageId,r=this.stateData.items[t];if(!(null==r?void 0:r.pinnedMessages.some((function(e){return e.messageId===n})))){var a=JH(this.findMessage({chatId:t,messageId:n}),2),o=a[0],i=a[1];o&&this.produceState((function(e){e.items[t].pinnedMessages.push({messageId:i.messageId,content:i.content,sendTime:i.sendTime,userId:i.userId})}))}}},{key:"reactOnMessage",value:function(e){var t=e.chatId,n=e.messageId,r=e.emoji,a=this.sessionConnector.getStateData().userId;Ta(a);var o=JH(this.findMessage({chatId:t,messageId:n}),3),i=o[0],s=o[1],c=o[2];if(i){var u,l=s.reactions,d=l.findIndex((function(e){return e.userIds.includes(a)})),f=null===(u=l[d])||void 0===u?void 0:u.emoji;r!==f&&c({reactions:Ot(l,(function(e){if(-1!==d){var t=e[d];if(1===t.userIds.length)e.splice(d,1);else{var n=t.userIds.indexOf(a);t.userIds.splice(n,1)}}var o=e.find((function(e){return e.emoji===r}));o?o.userIds.push(a):e.push({emoji:r,userIds:[a]})}))})}}},{key:"removeReactionOnMessage",value:function(e){var t=e.chatId,n=e.messageId,r=this.sessionConnector.getStateData().userId;Ta(r);var a=JH(this.findMessage({chatId:t,messageId:n}),3),o=a[0],i=a[1],s=a[2];if(o){var c=i.reactions,u=c.findIndex((function(e){return e.userIds.includes(r)}));-1!==u&&s({reactions:Ot(c,(function(e){var t=e[u].userIds.indexOf(r);e[u].userIds.splice(t,1)}))})}}},{key:"restoreDeletedMessage",value:function(e){var t=e.chatId,n=e.messageId,r=JH(this.findMessage({chatId:t,messageId:n}),3),a=r[0],o=r[1],i=r[2];if(a){if(!o.isDeleted)return void this.logger.warn("Trying to restore not deleted message, chat = ".concat(t,", message = ").concat(n));i({isDeleted:!1})}}},{key:"sendMessage",value:function(e){var t=e.groupChatId,n=e.groupChatMembers,r=e.message,a=e.replyOnMessageId,o=this;return VH((function(){var e,i,s,c,u,l,d,f,_,p;return XH(this,(function(m){switch(m.label){case 0:return t||!n?[3,2]:(e=n.map((function(e){return e.id})),[4,o.groupChatNS.createGroupChat({userIds:e})]);case 1:return t=m.sent(),[3,3];case 2:if(!t)return[2];m.label=3;case 3:return i=(0,C.v4)(),s=o.sessionConnector.getStateData(),c=s.userId,u=s.firstName,l=s.lastName,c&&u&&l?(d={attachments:[],content:r,direction:"out",firstName:u,fromUserId:c,isDeleted:!1,isDelivered:!1,isRead:!1,isUrgent:!1,lastName:l,messageId:i,reactions:[],sendTime:Date.now(),type:"message",userId:c},a&&(f=JH(o.findMessage({chatId:t,messageId:a}),2),_=f[0],p=f[1],_&&(d.replyOnMessage={messageId:p.messageId,content:p.content,sendTime:p.sendTime,userId:p.userId})),o.transport.dispatch.agent_im_conv_message({conv_id:t,message_id:i,content:r}),o.appendItemMessage(t,d),o.toClientDispatch.onOutgoingMessage(t,d),[2]):[2]}}))}))()}},{key:"unpinMessage",value:function(e){var t=e.chatId,n=e.messageId,r=this.stateData.items[t],a=null==r?void 0:r.pinnedMessages.findIndex((function(e){return e.messageId===n}));-1!==a?this.produceState((function(e){e.items[t].pinnedMessages.splice(a,1)})):this.logger.warn("Trying to unpin not pinned message, chat = ".concat(t,", message = ").concat(n))}},{key:"updateMessage",value:function(e){var t=e.chatId,n=e.messageId,r=e.content,a=e.replyOnMessageId,o=JH(this.findMessage({chatId:t,messageId:n}),3),i=o[0],s=(o[1],o[2]);if(i){var c={content:r};if(a){var u=JH(this.findMessage({chatId:t,messageId:a}),2),l=u[0],d=u[1];l&&(c.replyOnMessage={messageId:d.messageId,content:d.content,sendTime:d.sendTime,userId:d.userId})}s(c)}}},{key:"appendItemMessage",value:function(e,t){var n,r,a=null!==(r=null===(n=this.stateData.items[e])||void 0===n?void 0:n.messages)&&void 0!==r?r:[],o=Ot(a,(function(e){var n=e.findIndex((function(e){return e.messageId===t.messageId}));-1===n?e.push(t):e[n]=t}));this.produceState((function(t){t.items[e].messages=o}))}}],n&&YH(t.prototype,n),r&&YH(t,r),e}();function ez(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"appendSystemMessage",value:function(e,t){this.messagesNS.appendItemMessage(e,t),this.toClientDispatch.onSystemMessage(e,t)}},{key:"chatCreated",value:function(e,t){var n=this.sessionConnector.getStateData();KN(n);var r=Date.now();this.appendSystemMessage(e,{type:"system",event:"chat_created",messageId:String(r),sendTime:r,creatorUserId:n.userId,creatorFirstName:n.firstName,creatorLastName:n.lastName,addedUsers:Object.values(t).map((function(e){return{userId:e.id,firstName:e.firstName,lastName:e.lastName}}))})}},{key:"chatRemoved",value:function(e){var t=this.sessionConnector.getStateData();KN(t);var n=Date.now();this.toClientDispatch.onSystemMessage(e,{type:"system",event:"chat_deleted",messageId:String(n),sendTime:n,userId:t.userId,firstName:t.firstName,lastName:t.lastName})}},{key:"membersAdded",value:function(e,t){var n=this.stateData.items[e];Ta(n);var r=t.map((function(e){var t=n.members.find((function(t){return t.id===e}));return Ta(t),{userId:t.id,firstName:t.firstName,lastName:t.lastName}})),a=this.sessionConnector.getStateData();KN(a);var o=Date.now();this.appendSystemMessage(e,{type:"system",event:"members_added",messageId:String(o),sendTime:o,sharedHistory:!1,addedUsers:r,userId:a.userId,firstName:a.firstName,lastName:a.lastName})}},{key:"membersRemoved",value:function(e,t){if(Array.isArray(t)){Ta(this.stateData.items[e]);var n=this.sessionConnector.getStateData();KN(n);var r=Date.now();this.appendSystemMessage(e,{type:"system",event:"members_removed",messageId:String(r),sendTime:r,sharedHistory:!1,removedUsersIds:t,userId:n.userId,firstName:n.firstName,lastName:n.lastName})}else{var a=this.stateData.items[e].members.find((function(e){return e.id===t}));Ta(a);var o=Date.now();this.appendSystemMessage(e,{type:"system",event:"member_left",messageId:String(o),sendTime:o,userId:t,firstName:a.firstName,lastName:a.lastName})}}},{key:"selfMemberRemoved",value:function(e){var t=this.sessionConnector.getStateData();KN(t);var n=Date.now();this.toClientDispatch.onSystemMessage(e,{type:"system",event:"self_member_removed",messageId:String(n),sendTime:n,userId:t.userId,firstName:t.firstName,lastName:t.lastName})}},{key:"titleUpdated",value:function(e,t){var n=this.sessionConnector.getStateData();KN(n);var r=Date.now();this.toClientDispatch.onSystemMessage(e,{type:"system",event:"chat_renamed",messageId:String(r),sendTime:r,newTitle:t,userId:n.userId,firstName:n.firstName,lastName:n.lastName})}}],n&&ez(t.prototype,n),r&&ez(t,r),e}();function nz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"addUnread",value:function(e,t){var n=this.stateData.items[e].unreadMessages.findIndex((function(e){return e.sendTime>t.sendTime}));this.produceState((function(r){var a=r.items[e];-1===n?a.unreadMessages.push(t):a.unreadMessages.splice(n,0,t),a.firstUnreadTimestamp=a.unreadMessages[0].sendTime,a.unreadCount=a.unreadMessages.length}))}},{key:"removeUnread",value:function(e,t){var n=this.stateData.items[e].unreadMessages.findIndex((function(e){return e.messageId===t}));-1!==n&&(this.produceState((function(r){var a,o=r.items[e];o.unreadMessages=o.unreadMessages.slice(n+1);var i=o.messages.find((function(e){return e.messageId===t}));i&&RH(i)&&(i.isRead=!0),o.firstUnreadTimestamp=null===(a=o.unreadMessages[0])||void 0===a?void 0:a.sendTime,o.unreadCount=o.unreadMessages.length})),this.toClientDispatch.onRemoveUnreadCount(e,this.stateData.items[e].unreadCount))}},{key:"updateUnread",value:function(e,t){var n=this,r=this.stateData.items[e].unreadMessages;t.forEach((function(t){"message"!==t.type||t.isRead||n.addUnread(e,t)}));var a=this.stateData.items[e].unreadMessages;a.length&&!fa(r,a)&&this.toClientDispatch.onUnreadMessage(e,a[0])}}],n&&nz(t.prototype,n),r&&nz(t,r),e}(),az={onChange:{parameters:[]},onChatListReceived:{parameters:[]},onCreateGroupChat:{parameters:[]},onHideGroupChat:{parameters:[]},onInitialState:{parameters:[]},onOutgoingMessage:{parameters:[]},onRemoveGroupChat:{parameters:[]},onRemoveUnreadCount:{parameters:[]},onSystemMessage:{parameters:[]},onUnreadMessage:{parameters:[]},onMessage:{parameters:[]}},oz={createGroupChat:{async:!0,parameters:[],result:void 0},deleteMessage:{parameters:[]},getChatDisplayName:{async:!0,parameters:[],result:void 0},getChatHistory:{parameters:[]},getChatLastMessage:{async:!0,parameters:[],result:void 0},hideGroupChat:{parameters:[]},inviteToChat:{parameters:[]},markChatAsDelivered:{parameters:[]},markChatAsRead:{parameters:[]},markMessageAsDelivered:{parameters:[]},markMessageAsRead:{parameters:[]},openGroupChat:{parameters:[]},pinMessage:{parameters:[]},reactOnMessage:{parameters:[]},removeFromChat:{parameters:[]},removeGroupChat:{parameters:[]},removeReactionOnMessage:{parameters:[]},renameGroupChat:{parameters:[]},restoreDeletedMessage:{parameters:[]},sendMessage:{parameters:[]},toggleMuteChat:{parameters:[]},togglePinChat:{parameters:[]},unpinMessage:{parameters:[]},updateMessage:{parameters:[]}};function iz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lz(e,t,n){return lz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dz(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},lz(e,t,n||e)}function dz(e){return dz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dz(e)}function fz(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?iz(e):t;var n}function _z(e,t){return _z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_z(e,t)}function pz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dz(e);if(t){var a=dz(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fz(this,n)}}var mz=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_z(e,t)}(o,e);var t,n,r,a=pz(o);function o(){var e;return sz(this,o),uz(iz(e=a.apply(this,arguments)),"logger",v.withPrefix("@GC")),uz(iz(e),"groupChatNS",O(iz(e),new KH)),uz(iz(e),"membersNS",O(iz(e),new HH)),uz(iz(e),"messagesNS",O(iz(e),new ZH)),uz(iz(e),"systemMessageNS",O(iz(e),new tz)),uz(iz(e),"unreadNS",O(iz(e),new rz)),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.transport.dispenser.subscribe({agent_im_conv_deleted:this.groupChatNS.onRemoved,agent_im_conv_info:this.groupChatNS.onChatInfo,agent_im_conv_list:this.groupChatNS.onChatList,agent_im_conv_member_deleted:this.membersNS.onMemberRemoved,agent_im_conv_members_added:this.membersNS.onMembersAdded,agent_im_conv_members_deleted:this.membersNS.onSeveralMembersRemoved,agent_im_conv_message:this.messagesNS.onMessage,agent_im_conv_updated:this.groupChatNS.onTitleUpdated,agent_welcome:function(){e.transport.dispatch.agent_im_conv_get_list({})}}),this.fromClientDispenser.subscribe({createGroupChat:this.groupChatNS.createGroupChat,deleteMessage:this.messagesNS.deleteMessage,getChatDisplayName:this.groupChatNS.getChatDisplayName,getChatHistory:this.groupChatNS.getChatHistory,getChatLastMessage:this.messagesNS.getChatLastMessage,hideGroupChat:this.groupChatNS.hideGroupChat,inviteToChat:this.membersNS.inviteToChat,markChatAsRead:this.groupChatNS.markChatAsRead,markChatAsDelivered:this.groupChatNS.markAsDelivered,markMessageAsDelivered:this.messagesNS.markMessageAsDelivered,markMessageAsRead:this.messagesNS.markMessageAsRead,openGroupChat:this.groupChatNS.loadChatInfo,pinMessage:this.messagesNS.pinMessage,reactOnMessage:this.messagesNS.reactOnMessage,removeFromChat:this.membersNS.removeFromChat,removeGroupChat:this.groupChatNS.removeGroupChat,removeReactionOnMessage:this.messagesNS.removeReactionOnMessage,renameGroupChat:this.groupChatNS.renameGroupChat,restoreDeletedMessage:this.messagesNS.restoreDeletedMessage,sendMessage:this.messagesNS.sendMessage,toggleMuteChat:this.groupChatNS.toggleMute,togglePinChat:this.groupChatNS.togglePin,unpinMessage:this.messagesNS.unpinMessage,updateMessage:this.messagesNS.updateMessage}))}},{key:"resetState",value:function(){lz(dz(o.prototype),"resetState",this).call(this),this.groupChatNS.reset()}}])&&cz(t.prototype,n),r&&cz(t,r),o}(Ts.createBaseStateClass({name:"groupChatState",controlEvents:oz,trackerEvents:az,options:{authorized:!0,synchronized:!0},dependencies:["interactionStateConnector","localizationConnector","sessionConnector","transport"],getInitialState:function(){return{items:{},chatListReceived:!1}}}));const gz=Mm((function(e){var t=wo(e,SA);return t.length&&t[0]===e[0]?CA(t):[]}));const hz=function(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],s=Po(e,i);n(s,i)&&nv(o,Do(i,e),s)}return o};const yz=function(e,t){return hz(e,t,(function(t,n){return Mo(e,n)}))};const vz=Cf((function(e,t){return null==e?{}:yz(e,t)}));function bz(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Sz(e,t,n[t])}))}return e}function Iz(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Oz(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Tz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"findGroupChatByInteraction",value:function(e){if(e.groupChatId)return this.groupChatConnector.getStateData().items[e.groupChatId];var t=this.getMembersFromInteraction(e);return t?this.findGroupChatItemByMembers(t):void 0}},{key:"findGroupChatItemByMembers",value:function(t){var n=this.groupChatConnector.getStateData().items;return Object.values(n).find((function(n){return e.isMembersMatch(t,n.members)}))}},{key:"findInteraction",value:function(e){var t=this.interactionStateConnector.getStateData().items.find((function(t){return t.id===e}));return Ta(t),t}},{key:"findInteractionByGroupChatParams",value:function(t){var n=this;return this.interactionStateConnector.getStateData().items.find((function(r){if(t.groupChatId)return r.groupChatId===t.groupChatId;var a=n.utilsNS.getMembersFromInteraction(r);return t.groupChatMembers&&a?e.isMembersMatch(t.groupChatMembers,a):void 0}))}},{key:"getMembersFromInteraction",value:function(e){if(e.groupChatMembers)return e.groupChatMembers;if(e.userId){var t=this.sessionConnector.getStateData();return[{id:t.userId,firstName:t.firstName,lastName:t.lastName},{id:e.userId,firstName:e.displayData.firstName,lastName:e.displayData.lastName}]}}},{key:"replacePotentialInteraction",value:function(e){var t=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bz(o,r,a,i,s,"next",e)}function s(e){bz(o,r,a,i,s,"throw",e)}i(void 0)}))}}((function(){var n,r,a,o,i;return Oz(this,(function(s){switch(s.label){case 0:return n=t.groupChatConnector.getStateData().items[e],r=n.members,ny(a=t.utilsNS.findInteractionByGroupChatParams({groupChatId:e,groupChatMembers:r}))?[4,t.interactionStateConnector.dispatch.openInternalChat({direction:a.direction||"outbound",displayName:n.title,groupChatId:n.chatId})]:[2];case 1:return o=s.sent(),i=a.id,t.interactionStateConnector.dispatch.completeItem(i),[2,{newInteractionId:o,oldInteractionId:i}]}}))}))()}},{key:"setGroupChatParamsToInteraction",value:function(e,t){this.interactionStateConnector.dispatch.setGroupChat(e,t)}},{key:"updateGroupChatId",value:function(t,n){var r=this.groupChatConnector.getStateData().items[n];this.produceState((function(a){a.scopeMap[t]=Iz(wz({},a.scopeMap[t]),{groupChatId:n,groupChatMembers:r?e.clearExtraKeysInMembes(r.members):[]})}))}},{key:"updateInteractionId",value:function(t,n){var r=this.utilsNS.findInteraction(n),a=this.utilsNS.getMembersFromInteraction(r)||[];this.produceState((function(r){r.scopeMap[t]=Iz(wz({},r.scopeMap[t]),{interactionId:n,groupChatMembers:a});var o=!0,i=!1,s=void 0;try{for(var c,u=Oa(r.scopeMap)[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,d=r.scopeMap[l];if(l===t||!d||!d.groupChatMembers)return;e.isMembersMatch(d.groupChatMembers,a)&&(d.interactionId=n)}}catch(wX){i=!0,s=wX}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}}))}},{key:"updateMembers",value:function(t,n){this.produceState((function(r){r.scopeMap[t]=Iz(wz({},r.scopeMap[t]),{groupChatMembers:e.clearExtraKeysInMembes(n)})}))}}],r=[{key:"getMessageParamsId",value:function(e,t){return t.groupChatId?t.groupChatId:t.interactionId?"potential_".concat(t.interactionId):"potential_".concat(e)}},{key:"isMembersMatch",value:function(e,t){var n=e.length===t.length?gz(e.map((function(e){return e.id})),t.map((function(e){return e.id}))):[];return n.length===e.length}},{key:"clearExtraKeysInMembes",value:function(e){return e.map((function(e){return vz(e,["firstName","id","lastName"])}))}}],n&&Cz(t.prototype,n),r&&Cz(t,r),e}();function Ez(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Dz(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ez(o,r,a,i,s,"next",e)}function s(e){Ez(o,r,a,i,s,"throw",e)}i(void 0)}))}}function Az(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pz(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var kz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"onCreateGroupChat",value:function(e){var t=this;return Dz((function(){var n,r;return Pz(this,(function(a){switch(a.label){case 0:return n=t.groupChatConnector.getStateData().items[e],t.replacePotentialChat("chatCenter",n),[4,t.utilsNS.replacePotentialInteraction(e)];case 1:return(r=a.sent())&&t.updateScopesByInteraction(e,r),t.updateScopesByMemebers(n),[2]}}))}))()}},{key:"onRemoveGroupChat",value:function(e){var t=this;return Dz((function(){var n,r,a,o,i,s,c,u,l;return Pz(this,(function(d){switch(d.label){case 0:return[4,t.messagesNS.closeIncomingMessageModal(e)];case 1:d.sent(),n=t.stateData.scopeMap,r=Oa(n).filter((function(t){var r;return(null===(r=n[t])||void 0===r?void 0:r.groupChatId)===e})),a=!0,o=!1,i=void 0;try{for(s=r[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)u=c.value,(l=n[u])&&l.interactionId&&t.interactionStateConnector.dispatch.closeInternalChat(l.interactionId)}catch(wX){o=!0,i=wX}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return t.produceState((function(e){var t=!0,n=!1,a=void 0;try{for(var o,i=r[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s,c=o.value,u=null===(s=e.scopeMap[c])||void 0===s?void 0:s.groupChatId;u&&delete e.messageParams[u],delete e.scopeMap[c]}}catch(wX){n=!0,a=wX}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}})),[2]}}))}))()}},{key:"replacePotentialChat",value:function(e,t){var n=this.stateData.scopeMap[e];if(n){var r=n.groupChatId,a=n.groupChatMembers,o=Tz.isMembersMatch(a,t.members);!r&&o&&(this.messagesNS.resetMessageParams(e),this.groupChatNS.setupGroupChatById(e,t.chatId))}}},{key:"updateScopesByInteraction",value:function(e,t){var n=this,r=t.newInteractionId,a=t.oldInteractionId,o=this.stateData.scopeMap;Oa(o).forEach((function(t){var i;(null===(i=o[t])||void 0===i?void 0:i.interactionId)===a&&(n.utilsNS.updateGroupChatId(t,e),n.utilsNS.updateInteractionId(t,r),n.interactionStateConnector.dispatch.activateItem(r))}))}},{key:"updateScopesByMemebers",value:function(e){var t=this,n=this.stateData.scopeMap;Oa(n).forEach((function(r){var a,o=null===(a=n[r])||void 0===a?void 0:a.groupChatMembers;o&&Tz.isMembersMatch(o,e.members)&&t.utilsNS.updateGroupChatId(r,e.chatId)}))}}],n&&Az(t.prototype,n),r&&Az(t,r),e}();function Rz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nz(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Mz(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Nz(o,r,a,i,s,"next",e)}function s(e){Nz(o,r,a,i,s,"throw",e)}i(void 0)}))}}function jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xz(e,t,n[t])}))}return e}function $z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Kz(e){return function(e){if(Array.isArray(e))return Rz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fz(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Uz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"onInteractionRemoved",value:function(e){var t=this,n=this.stateData.scopeMap;Oa(n).filter((function(t){var r;return(null===(r=n[t])||void 0===r?void 0:r.interactionId)===e.id})).forEach((function(e){t.messagesNS.resetMessageParams(e,"force"),t.produceState((function(t){var n;null===(n=t.scopeMap[e])||void 0===n||delete n.interactionId}))}))}},{key:"resetGroupChat",value:function(e){this.messagesNS.resetMessageParams(e),this.produceState((function(t){delete t.scopeMap[e]}))}},{key:"setupGroupChatById",value:function(e,t){var n=this;return Mz((function(){var r,a;return Fz(this,(function(o){switch(o.label){case 0:return[4,n.ensureGroupChatListReceived()];case 1:return o.sent(),n.clearChatParams(e),n.prepareGroupChat(e,t),(r=n.groupChatConnector.getStateData().items[t])?((a=n.utilsNS.findInteractionByGroupChatParams({groupChatId:r.chatId,groupChatMembers:r.members}))&&n.utilsNS.updateInteractionId(e,a.id),n.localSettings.set("chatCenterSelectedChatId",t),[2]):[2]}}))}))()}},{key:"setupGroupChatByInteraction",value:function(e,t){var n=this;return Mz((function(){var r,a,o,i;return Fz(this,(function(s){switch(s.label){case 0:return[4,n.ensureGroupChatListReceived()];case 1:return s.sent(),n.clearChatParams(e),n.utilsNS.updateInteractionId(e,t),a=n.utilsNS.findInteraction(t),o=null===(r=n.utilsNS.findGroupChatByInteraction(a))||void 0===r?void 0:r.chatId,i=n.utilsNS.getMembersFromInteraction(a),o?n.prepareGroupChat(e,o):i&&n.utilsNS.updateMembers(e,i),n.utilsNS.setGroupChatParamsToInteraction(t,{groupChatId:o,groupChatMembers:i}),[4,new Promise((function(e){setTimeout(e,100)}))];case 2:return s.sent(),[2]}}))}))()}},{key:"setupGroupChatByMembers",value:function(e,t){var n=this;return Mz((function(){var r,a,o,i;return Fz(this,(function(s){switch(s.label){case 0:return[4,n.ensureGroupChatListReceived()];case 1:return s.sent(),n.clearChatParams(e),a=n.appendSelfUserToMembers(t.groupChatMembers),(o=null===(r=n.utilsNS.findGroupChatItemByMembers(a))||void 0===r?void 0:r.chatId)?n.prepareGroupChat(e,o):n.utilsNS.updateMembers(e,a),[4,n.prepareInteraction(e,{groupChatId:o,groupChatMembers:a})];case 2:return(i=s.sent())&&n.utilsNS.updateInteractionId(e,i.id),[2]}}))}))()}},{key:"appendSelfUserToMembers",value:function(e){var t=this.sessionConnector.getStateData(),n=t.userId,r=t.firstName,a=void 0===r?"":r,o=t.lastName,i=void 0===o?"":o;Ta(n);var s=e.some((function(e){return e.id===n}));return s?e:Kz(e).concat([{id:n,firstName:a,lastName:i}])}},{key:"clearChatParams",value:function(e){this.produceState((function(t){t.scopeMap[e]=$z(Lz({},t.scopeMap[e]),{groupChatId:void 0,groupChatMembers:[]})}))}},{key:"ensureGroupChatListReceived",value:function(){var e=this;return Mz((function(){return Fz(this,(function(t){switch(t.label){case 0:return e.groupChatConnector.getStateData().chatListReceived?[2]:[4,new Promise((function(t){var n=e.groupChatConnector.dispenser.subscribe({onChange:function(e){e.chatListReceived&&(n.unsubscribe(),t())}})}))];case 1:return t.sent(),[2]}}))}))()}},{key:"loadGroupChatHistory",value:function(e){var t=this.groupChatConnector.getStateData().items[e],n=null==t?void 0:t.firstUnreadTimestamp,r=n?Math.min(n,A()().subtract(1,"day").valueOf()):A()().subtract(1,"year").valueOf();this.groupChatConnector.dispatch.getChatHistory(e,r)}},{key:"prepareGroupChat",value:function(e,t){this.utilsNS.updateGroupChatId(e,t),this.messagesNS.closeIncomingMessageModal(t),this.loadGroupChatHistory(t)}},{key:"prepareInteraction",value:function(e,t){var n=this;return Mz((function(){var r,a,o,i;return Fz(this,(function(s){switch(s.label){case 0:return(r=n.utilsNS.findInteractionByGroupChatParams(t))||"chatCenter"===e?[2,r]:(a=n.groupChatConnector.dispatch.getChatDisplayName,o=n.interactionStateConnector.dispatch.createPotentialItem,[4,a(t.groupChatMembers)]);case 1:return i=s.sent(),[2,o(Lz({displayName:i},t))]}}))}))()}}],n&&jz(t.prototype,n),r&&jz(t,r),e}();function qz(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function Bz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hz(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function zz(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Wz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"closeIncomingMessageModal",value:function(e){var t=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){qz(o,r,a,i,s,"next",e)}function s(e){qz(o,r,a,i,s,"throw",e)}i(void 0)}))}}((function(){return zz(this,(function(n){return t.getIncomingMessageModals(e).forEach((function(e){t.modalsConnector.dispatch.closeModal(e.id)})),[2]}))}))()}},{key:"handleVisibilityChange",value:function(){var e=!document.hidden&&document.hasFocus();this.produceState((function(t){t.isPageFocused=e})),this.configureZerroUnreadBadge()}},{key:"onPasteFromKB",value:function(e,t){var n,r=this.utilsNS.findInteraction(e),a=null===(n=this.utilsNS.findGroupChatByInteraction(r))||void 0===n?void 0:n.chatId;a&&this.produceState((function(e){var n=e.messageParams[a]||{};n.messageText=n.messageText?"".concat(n.messageText,"\n").concat(t):t,e.messageParams[a]=n}))}},{key:"onUnreadMessage",value:function(e,t){this.showIncomingMessageModal(e,t),this.configureZerroUnreadBadge(e)}},{key:"onOutgoingMessage",value:function(e){this.produceState((function(t){delete t.messageParams[e]})),this.utilsNS.replacePotentialInteraction(e)}},{key:"resetMessageParams",value:function(e,t){var n=this.getMessageParamsId(e);if(n){var r=this.stateData.scopeMap[e].groupChatId,a=this.groupChatConnector.getStateData().items,o=Boolean(r&&a[r]),i=this.isMessageParamsEmpty(n);(t||!o||i)&&this.produceState((function(e){delete e.messageParams[n]}))}}},{key:"setMessageParams",value:function(e,t){var n=this.stateData,r=n.scopeMap,a=n.messageParams,o=r[e];if(o){var i=Tz.getMessageParamsId(e,o),s=Ot(a[i]||{},t);this.produceState((function(e){e.messageParams[i]=s}))}}},{key:"getIncomingMessageModals",value:function(e){var t=this.modalsConnector.getStateData().modals,n=[];return t.forEach((function(t){(function(e){return"component"in e&&(t=e.props,null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&"chatId"in e.props;var t,n})(t)&&t.props.chatId===e&&n.push(t)})),n}},{key:"getMessageParamsId",value:function(e){var t=this.stateData.scopeMap[e];return t&&Tz.getMessageParamsId(e,t)}},{key:"isGroupChatActive",value:function(e){var t=this.stateData.scopeMap,n=t.chatCenter,r=t.chatWindow,a=t.communicator;return[null==n?void 0:n.groupChatId,null==r?void 0:r.groupChatId,null==a?void 0:a.groupChatId].includes(e)}},{key:"isMessageParamsEmpty",value:function(e){var t=this.stateData.messageParams[e];if(!t)return!1;var n=Oa(t).every((function(e){return"boolean"!=typeof t[e]&&!t[e]}));return n}},{key:"showIncomingMessageModal",value:function(e,t){if("adc"!==this.currentTabDataProvider.get().app&&!this.isGroupChatActive(e)){var n=this.modalsConnector.dispatch,r=n.closeModal,a=n.openModal,o=this.getIncomingMessageModals(e);o.length>=5&&r(o[0].id);var i=o.find((function(t){return t.props.chatId===e}));i&&r(i.id),a({component:"IncomingMessageModal",id:t.messageId,notification:!0,props:{chatId:e,message:t}})}}},{key:"configureZerroUnreadBadge",value:function(e){this.stateData.isPageFocused?this.produceState((function(e){Object.values(e.messageParams).forEach((function(e){e.showZeroUnreadBadge&&delete e.showZeroUnreadBadge}))})):e&&this.produceState((function(t){var n=t.messageParams[e];n&&(t.messageParams[e]=Hz(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gz(e,t,n[t])}))}return e}({},n),{showZeroUnreadBadge:!0}))}))}}],n&&Bz(t.prototype,n),r&&Bz(t,r),e}();function Vz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yz=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"removeMemberFromChat",value:function(e,t){var n=this.stateData.scopeMap[e],r=n.groupChatId,a=n.groupChatMembers,o=n.interactionId,i=a.filter((function(e){return e.id!==t}));i.length!==a.length&&0!==i.length&&(r?(this.groupChatConnector.dispatch.removeFromChat({chatId:r,userIds:[t]}),this.updateMembersInScopes(r,i)):(this.utilsNS.updateMembers(e,i),this.linkExistingGroupChat(e,i),o&&this.utilsNS.setGroupChatParamsToInteraction(o,{groupChatId:r,groupChatMembers:i})),o&&this.interactionStateConnector.dispatch.setGroupChat(o,{groupChatMembers:i}))}},{key:"linkExistingGroupChat",value:function(e,t){var n=this,r=this.stateData.scopeMap;Oa(r).filter((function(t){return t!==e})).forEach((function(a){var o=r[a];Tz.isMembersMatch(o.groupChatMembers,t)&&(o.groupChatId&&n.utilsNS.updateGroupChatId(e,o.groupChatId),o.interactionId&&n.utilsNS.updateInteractionId(e,o.interactionId))}))}},{key:"updateMembersInScopes",value:function(e,t){var n=this,r=this.stateData.scopeMap;Oa(r).forEach((function(a){var o;(null===(o=r[a])||void 0===o?void 0:o.groupChatId)===e&&n.utilsNS.updateMembers(a,t)}))}}],n&&Vz(t.prototype,n),r&&Vz(t,r),e}(),Qz={onInitialState:{parameters:[]},onChange:{parameters:[]}},Jz={resetGroupChat:{parameters:[]},removeMemeberFromChat:{parameters:[]},setMessageParams:{parameters:[]},setupGroupChatById:{async:!0,parameters:[],result:void 0},setupGroupChatByInteraction:{async:!0,parameters:[],result:void 0},setupGroupChatByMembers:{async:!0,parameters:[],result:void 0}};function Xz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){return nW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nW(e)}function rW(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Xz(e):t;var n}function aW(e,t){return aW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},aW(e,t)}function oW(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nW(e);if(t){var a=nW(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rW(this,n)}}var iW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aW(e,t)}(o,e);var t,n,r,a=oW(o);function o(){var e;return Zz(this,o),tW(Xz(e=a.apply(this,arguments)),"eventsNS",O(Xz(e),new kz)),tW(Xz(e),"groupChatNS",O(Xz(e),new Uz)),tW(Xz(e),"messagesNS",O(Xz(e),new Wz)),tW(Xz(e),"removeMembersNS",O(Xz(e),new Yz)),tW(Xz(e),"utilsNS",O(Xz(e),new Tz)),e}return t=o,(n=[{key:"initialize",value:function(){this.subscriptions.push(this.fromClientDispenser.subscribe({removeMemeberFromChat:this.removeMembersNS.removeMemberFromChat,resetGroupChat:this.groupChatNS.resetGroupChat,setMessageParams:this.messagesNS.setMessageParams,setupGroupChatById:this.groupChatNS.setupGroupChatById,setupGroupChatByInteraction:this.groupChatNS.setupGroupChatByInteraction,setupGroupChatByMembers:this.groupChatNS.setupGroupChatByMembers}),this.groupChatConnector.dispenser.subscribe({onCreateGroupChat:this.eventsNS.onCreateGroupChat,onHideGroupChat:this.eventsNS.onRemoveGroupChat,onUnreadMessage:this.messagesNS.onUnreadMessage,onOutgoingMessage:this.messagesNS.onOutgoingMessage,onRemoveGroupChat:this.eventsNS.onRemoveGroupChat}),this.interactionStateConnector.dispenser.subscribe({onItemRemoved:this.groupChatNS.onInteractionRemoved,onPasteFromKB:this.messagesNS.onPasteFromKB})),document.addEventListener("visibilitychange",this.messagesNS.handleVisibilityChange),window.addEventListener("focus",this.messagesNS.handleVisibilityChange),window.addEventListener("blur",this.messagesNS.handleVisibilityChange)}},{key:"cleanup",value:function(){document.removeEventListener("visibilitychange",this.messagesNS.handleVisibilityChange),window.removeEventListener("focus",this.messagesNS.handleVisibilityChange),window.removeEventListener("blur",this.messagesNS.handleVisibilityChange)}}])&&eW(t.prototype,n),r&&eW(t,r),o}(Ts.createBaseStateClass({name:"groupChatUIState",controlEvents:Jz,trackerEvents:Qz,dependencies:["currentTabDataProvider","groupChatConnector","interactionStateConnector","localSettings","modalsConnector","sessionConnector"],options:{},getInitialState:function(){return{isPageFocused:!document.hidden&&document.hasFocus(),messageParams:{},scopeMap:{}}}})),sW={setupInteractionKB:{parameters:[]}},cW={onChange:{parameters:[]},onInitialState:{parameters:[]}};const uW=function(e,t,n,r){var a=-1,o=sh,i=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=wo(t,Ir(n))),r?(o=iT,i=!1):t.length>=200&&(o=Hn,i=!1,t=new Bn(t));e:for(;++a<s;){var l=e[a],d=null==n?l:n(l);if(l=r||0!==l?l:0,i&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else o(t,d,r)||c.push(l)}return c};var lW=Mm((function(e,t){return Am(e)?uW(e,df(t,1,Am,!0)):[]}));const dW=lW;function fW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(e,t,n){return _W=vW()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&hW(a,n.prototype),a},_W.apply(null,arguments)}function pW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mW(e){return mW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mW(e)}function gW(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?fW(e):t;var n}function hW(e,t){return hW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hW(e,t)}function yW(e){var t="function"==typeof Map?new Map:void 0;return yW=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _W(e,arguments,mW(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),hW(n,e)},yW(e)}function vW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var bW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hW(e,t)}(a,e);var t,n,r=(t=a,n=vW(),function(){var e,r=mW(t);if(n){var a=mW(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return gW(this,e)});function a(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),pW(fW(o=r.call(this,n)),"url",void 0),pW(fW(o),"status",void 0),pW(fW(o),"statusText",void 0),pW(fW(o),"body",void 0),pW(fW(o),"request",void 0),o.name="ApiError",o.url=t.url,o.status=t.status,o.statusText=t.statusText,o.body=t.body,o.request=e,o}return a}(yW(Error));function CW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SW(e,t,n){return SW=PW()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&DW(a,n.prototype),a},SW.apply(null,arguments)}function wW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IW(e,t,n){return t&&wW(e.prototype,t),n&&wW(e,n),e}function OW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){return TW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},TW(e)}function EW(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function DW(e,t){return DW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DW(e,t)}function AW(e){var t="function"==typeof Map?new Map:void 0;return AW=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return SW(e,arguments,TW(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),DW(n,e)},AW(e)}function PW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var kW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DW(e,t)}(a,e);var t,n,r=(t=a,n=PW(),function(){var e,r=TW(t);if(n){var a=TW(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return EW(this,e)});function a(e){var t;return CW(this,a),(t=r.call(this,e)).name="CancelError",t}return IW(a,[{key:"isCancelled",get:function(){return!0}}]),a}(AW(Error)),RW=Symbol.toStringTag,NW=function(){function e(t){var n=this;CW(this,e),OW(this,RW,void 0),OW(this,"_isResolved",void 0),OW(this,"_isRejected",void 0),OW(this,"_isCancelled",void 0),OW(this,"_cancelHandlers",void 0),OW(this,"_promise",void 0),OW(this,"_resolve",void 0),OW(this,"_reject",void 0),this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((function(e,r){n._resolve=e,n._reject=r;var a=function(e){n._isResolved||n._isRejected||n._isCancelled||n._cancelHandlers.push(e)};return Object.defineProperty(a,"isResolved",{get:function(){return n._isResolved}}),Object.defineProperty(a,"isRejected",{get:function(){return n._isRejected}}),Object.defineProperty(a,"isCancelled",{get:function(){return n._isCancelled}}),t((function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isResolved=!0,null===(t=(r=n)._resolve)||void 0===t||t.call(r,e))}),(function(e){var t,r;n._isResolved||n._isRejected||n._isCancelled||(n._isRejected=!0,null===(t=(r=n)._reject)||void 0===t||t.call(r,e))}),a)}))}return IW(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{var t=!0,n=!1,r=void 0;try{for(var a,o=this._cancelHandlers[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(wX){n=!0,r=wX}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}catch(i){return void console.warn("Cancellation threw an error",i)}this._cancelHandlers.length=0,null===(e=this._reject)||void 0===e||e.call(this,new kW("Request aborted"))}}},{key:"isCancelled",get:function(){return this._isCancelled}}]),e}(),MW={BASE:"/swagger-kb",VERSION:"1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};function jW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xW(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function LW(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xW(o,r,a,i,s,"next",e)}function s(e){xW(o,r,a,i,s,"throw",e)}i(void 0)}))}}function $W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$W(e,t,n[t])}))}return e}function FW(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function UW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qW(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BW=function(e){return null!=e},GW=function(e){return"string"==typeof e},HW=function(e){return GW(e)&&""!==e},zW=function(e){return"object"==typeof e&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.arrayBuffer&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])},WW=function(e){return t=e,null!=(n=FormData)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n;var t,n},VW=function(e){var t=[],n=function(e,r){BW(r)&&(Array.isArray(r)?r.forEach((function(t){n(e,t)})):"object"==typeof r?Object.entries(r).forEach((function(t){var r=UW(t,2),a=r[0],o=r[1];n("".concat(e,"[").concat(a,"]"),o)})):function(e,n){t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n))))}(e,r))};return Object.entries(e).forEach((function(e){var t=UW(e,2),r=t[0],a=t[1];n(r,a)})),t.length>0?"?".concat(t.join("&")):""},YW=function(){var e=LW((function(e,t){return qW(this,(function(n){return"function"==typeof t?[2,t(e)]:[2,t]}))}));return function(t,n){return e.apply(this,arguments)}}(),QW=function(){var e=LW((function(e,t){var n,r,a,o,i,s;return qW(this,(function(c){switch(c.label){case 0:return[4,YW(t,e.TOKEN)];case 1:return n=c.sent(),[4,YW(t,e.USERNAME)];case 2:return r=c.sent(),[4,YW(t,e.PASSWORD)];case 3:return a=c.sent(),[4,YW(t,e.HEADERS)];case 4:return o=c.sent(),i=Object.entries(KW({Accept:"application/json"},o,t.headers)).filter((function(e){var t=UW(e,2),n=(t[0],t[1]);return BW(n)})).reduce((function(e,t){var n=UW(t,2),r=n[0],a=n[1];return FW(KW({},e),$W({},r,String(a)))}),{}),HW(n)&&(i.Authorization="Bearer ".concat(n)),HW(r)&&HW(a)&&(s=function(e){try{return btoa(e)}catch(wX){return Buffer.from(e).toString("base64")}}("".concat(r,":").concat(a)),i.Authorization="Basic ".concat(s)),t.body&&(t.mediaType?i["Content-Type"]=t.mediaType:zW(t.body)?i["Content-Type"]=t.body.type||"application/octet-stream":GW(t.body)?i["Content-Type"]="text/plain":WW(t.body)||(i["Content-Type"]="application/json")),[2,new Headers(i)]}}))}));return function(t,n){return e.apply(this,arguments)}}(),JW=function(){var e=LW((function(e,t,n,r,a,o,i){var s,c;return qW(this,(function(u){switch(u.label){case 0:return s=new AbortController,c={headers:o,body:null!=r?r:a,method:t.method,signal:s.signal},e.WITH_CREDENTIALS&&(c.credentials=e.CREDENTIALS),i((function(){return s.abort()})),[4,fetch(n,c)];case 1:return[2,u.sent()]}}))}));return function(t,n,r,a,o,i,s){return e.apply(this,arguments)}}(),XW=function(){var e=LW((function(e){var t,n;return qW(this,(function(r){switch(r.label){case 0:if(204===e.status)return[3,7];r.label=1;case 1:return r.trys.push([1,6,,7]),(t=e.headers.get("Content-Type"))?t.toLowerCase().startsWith("application/json")?[4,e.json()]:[3,3]:[3,5];case 2:return[2,r.sent()];case 3:return[4,e.text()];case 4:return[2,r.sent()];case 5:return[3,7];case 6:return n=r.sent(),console.error(n),[3,7];case 7:return[2,void 0]}}))}));return function(t){return e.apply(this,arguments)}}(),ZW=function(e,t){return new NW(function(){var n=LW((function(n,r,a){var o,i,s,c,u,l,d,f,_;return qW(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),o=function(e,t){var n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(function(e,r){var a;return(null===(a=t.path)||void 0===a?void 0:a.hasOwnProperty(r))?n(String(t.path[r])):e})),a="".concat(e.BASE).concat(r);return t.query?"".concat(a).concat(VW(t.query)):a}(e,t),i=function(e){if(e.formData){var t=new FormData,n=function(e,n){GW(n)||zW(n)?t.append(e,n):t.append(e,JSON.stringify(n))};return Object.entries(e.formData).filter((function(e){var t=UW(e,2),n=(t[0],t[1]);return BW(n)})).forEach((function(e){var t=UW(e,2),r=t[0],a=t[1];Array.isArray(a)?a.forEach((function(e){return n(r,e)})):n(r,a)})),t}}(t),s=function(e){var t;if(e.body)return(null===(t=e.mediaType)||void 0===t?void 0:t.includes("/json"))?JSON.stringify(e.body):GW(e.body)||zW(e.body)||WW(e.body)?e.body:JSON.stringify(e.body)}(t),[4,QW(e,t)];case 1:return c=p.sent(),a.isCancelled?[3,4]:[4,JW(e,t,o,s,i,c,a)];case 2:return u=p.sent(),[4,XW(u)];case 3:l=p.sent(),d=function(e,t){if(t){var n=e.headers.get(t);if(GW(n))return n}}(u,t.responseHeader),f={url:o,ok:u.ok,status:u.status,statusText:u.statusText,body:null!=d?d:l},function(e,t){var n=KW({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(n)throw new bW(e,t,n);if(!t.ok)throw new bW(e,t,"Generic Error")}(t,f),n(f.body),p.label=4;case 4:return[3,6];case 5:return _=p.sent(),r(_),[3,6];case 6:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}())};function eV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tV=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getKbCustomFields",value:function(){return ZW(MW,{method:"GET",url:"/v1/kb/customFields",errors:{400:"Bad Request",401:"Unauthorized",500:"Internal Error"}})}},{key:"getLanguages",value:function(e){var t=e.usedInKbOnly;return ZW(MW,{method:"GET",url:"/v1/kb/getLanguages",query:{usedInKBOnly:t},errors:{400:"Bad Request",401:"Unauthorized",404:"Not found",500:"Internal Error"}})}},{key:"getKbSettings",value:function(){return ZW(MW,{method:"GET",url:"/v1/kb/settings",errors:{401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}},{key:"setKbSettings",value:function(e){var t=e.body;return ZW(MW,{method:"POST",url:"/v1/kb/settings",body:t,errors:{401:"Unauthorized",403:"Access denied",500:"Internal Error"}})}}],(n=null)&&eV(t.prototype,n),r&&eV(t,r),e}();MW.BASE="/newadws/api";function nV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){return iV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iV(e)}function sV(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?nV(e):t;var n}function cV(e,t){return cV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cV(e,t)}function uV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iV(e);if(t){var a=iV(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return sV(this,n)}}var lV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cV(e,t)}(o,e);var t,n,r,a=uV(o);function o(){var e;return rV(this,o),oV(nV(e=a.apply(this,arguments)),"bridgeEventTarget",new EventTarget),oV(nV(e),"activeListeners",{}),oV(nV(e),"kbSettingsIntervalId",void 0),oV(nV(e),"addEventListener",(function(t,n){var r=n;e.bridgeEventTarget.addEventListener(t,r),void 0===e.activeListeners[t]&&(e.activeListeners[t]=[]),e.activeListeners[t].push(n)})),oV(nV(e),"dispatchEvent",(function(t,n){e.bridgeEventTarget.dispatchEvent(new CustomEvent(t,{detail:n}))})),oV(nV(e),"subscribeToServices",(function(){return e.servicesDispositionsConnector.dispenser.subscribe({onChange:function(t){var n=t.services;n&&e.produceState((function(e){e.services=n}))},onInitialState:function(t){var n=t.services;e.produceState((function(e){e.services=n}))}})})),e}return t=o,n=[{key:"removeAllListeners",value:function(){var e=this;Oa(this.activeListeners).forEach((function(t){var n;null===(n=e.activeListeners[t])||void 0===n||n.forEach((function(n){var r=n;e.bridgeEventTarget.removeEventListener(t,r)}))}))}},{key:"clearAllIntervals",value:function(){clearInterval(this.kbSettingsIntervalId)}},{key:"initialize",value:function(){this.subscriptions.push(this.propagateStateChanges(),this.subscribeToControlEvents(),this.subscribeToInteractions(),this.subscribeToKnowledgeBaseType(),this.subscribeToServices(),this.subscribeToSession(),this.subscribeToUserProfile(),this.subscribeToLocalization()),this.initKbSettingsFetching()}},{key:"propagateStateChanges",value:function(){var e=this;return this.dispenser.subscribe({onInitialState:function(t){return e.dispatchEvent("onChange",{stateData:t})},onChange:function(t){return e.dispatchEvent("onChange",{stateData:t})}})}},{key:"subscribeToControlEvents",value:function(){var e=this;return this.addEventListener("logoutHost",(function(){e.sessionConnector.dispatch.logout()})),this.addEventListener("pasteToInteraction",(function(t){var n=t.detail,r=n.interactionStepId,a=n.html,o=e.interactionStateConnector.getStateData().items.find((function(e){var t;return(null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId)===r}));o&&e.interactionStateConnector.dispatch.pasteFromKB(o.id,a)})),this.addEventListener("refreshKBSettings",(function(){e.fetchKbSettings()})),this.fromClientDispenser.subscribe({setupInteractionKB:function(t){return e.dispatchEvent("setupInteractionKB",{textToSearch:t})}})}},{key:"subscribeToInteractions",value:function(){var e=this,t=function(){var t=n();a(t)||(e.produceState((function(e){e.focusedInteraction=t})),t&&e.dispatchEvent("interactionFocused",{interaction:t}))},n=function(){var t=e.interactionStateConnector.getStateData(),n=t.activeItemId;return t.items.find((function(e){return e.id===n&&Dy(e)}))},r=function(e){var t;return(null==e||null===(t=e.scenarioData)||void 0===t?void 0:t.interactionStepId)||""},a=function(t){return r(e.stateData.focusedInteraction)===r(t)},o=function(n){e.dispatchEvent("interactionActive",{interaction:n}),t()},i=function(){var t=e.interactionStateConnector.getStateData().items.map(r).filter((function(e){return Boolean(e)})),n=e.stateData.globalInteractionIds;t.length===n.length&&0===dW(t,n).length||e.produceState((function(e){e.globalInteractionIds=t}))};return this.interactionStateConnector.dispenser.subscribe({onChange:function(e){e.activeItemId&&t(),e.items&&i()},onInitialState:function(){t(),i()},onItemAccepted:o,onActivateItemAttempt:o,onItemDelivered:o,onItemRemoved:function(t){e.dispatchEvent("interactionRemoved",{interaction:t}),a(t)&&e.produceState((function(e){e.focusedInteraction=void 0}))}})}},{key:"subscribeToSession",value:function(){var e=this,t=function(t){var n=t.userId,r=void 0===n?e.stateData.userId:n,a=t.privileges,o=void 0===a?{}:a,i=t.serverOrigin,s=void 0===i?e.stateData.serverOrigin:i;e.produceState((function(e){var t,n;e.hasEditPrivilege=Boolean(null!==(t=o.EDIT_KNOWLEDGE_BASE)&&void 0!==t?t:e.hasEditPrivilege),e.hasManageSettingsPrivilege=Boolean(null!==(n=o.MANAGE_KNOWLEDGE_BASE_SETTINGS)&&void 0!==n?n:e.hasManageSettingsPrivilege),e.serverOrigin=s,e.userId=r}))};return this.sessionConnector.dispenser.subscribe({onChange:t,onInitialState:t,onLogout:function(){e.dispatchEvent("onLogout",void 0),e.removeAllListeners(),e.clearAllIntervals()}})}},{key:"subscribeToUserProfile",value:function(){var e=this,t=function(t){var n=t.userProfile;if(n){var r=n.email,a=void 0===r?e.stateData.userProfile.email:r,o=n.firstName,i=void 0===o?e.stateData.userProfile.firstName:o,s=n.lastName,c=void 0===s?e.stateData.userProfile.lastName:s;e.produceState((function(e){e.userProfile.email=a,e.userProfile.firstName=i,e.userProfile.lastName=c}))}};return this.userProfileStateConnector.dispenser.subscribe({onChange:t,onInitialState:t})}},{key:"subscribeToKnowledgeBaseType",value:function(){return this.appConfigConnector.dispenser.subscribe({onInitialState:e.bind(this),onChange:e.bind(this)});function e(e){var t=this;void 0===e.crmWidgetUseCrmKB&&void 0===e.crmWidgetUseInternalKB||this.produceState((function(e){var n=t.appConfigConnector.getStateData(),r=n.crmWidgetUseCrmKB,a=n.crmWidgetUseInternalKB;e.knowledgeBaseType=r&&a?"combined":r?"crm":"internal"}))}}},{key:"subscribeToLocalization",value:function(){var e=this;return this.localizationConnector.dispenser.subscribe({onChange:function(t){void 0===t.translations&&void 0===t.language||e.produceState((function(t){var n=e.localizationConnector.getStateData(),r=n.language,a=n.translations;t.translations=a[r],t.language=r||e.stateData.language}))}})}},{key:"initKbSettingsFetching",value:function(){var e=this;this.fetchKbSettings(),this.kbSettingsIntervalId=setInterval((function(){e.fetchKbSettings()}),9e5)}},{key:"fetchKbSettings",value:function(){var e,t,n=this;return this.produceState((function(e){e.settingsRefreshing=!0})),(e=tV.getKbSettings(),t=10,new Promise((function(n,r){var a=function(o){e.then((function(e){n(e)})).catch((function(e){o===t-1?r(e):a(o+1)}))};a(0)}))).then((function(e){n.produceState((function(t){t.settings=e,t.settingsRefreshing=!1,t.settingsError=!1}))})).catch((function(){n.produceState((function(e){e.settingsRefreshing=!1,e.settingsError=!0}))}))}}],n&&aV(t.prototype,n),r&&aV(t,r),o}(Ts.createBaseStateClass({name:"kbBridge",controlEvents:sW,trackerEvents:cW,dependencies:["appConfigConnector","interactionStateConnector","localizationConnector","localSettings","servicesDispositionsConnector","sessionConnector","userProfileStateConnector"],getInitialState:function(){return{focusedInteraction:void 0,globalInteractionIds:[],hasEditPrivilege:!1,hasManageSettingsPrivilege:!1,knowledgeBaseType:"internal",language:"en-US",persistentStorageId:"kb",serverOrigin:"",services:{},translations:void 0,userId:"",userProfile:{email:"",firstName:"",lastName:""},settings:void 0,settingsRefreshing:!1,settingsError:!1}},options:{}})),dV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[null==t?void 0:t.trim(),null==n?void 0:n.trim()].filter(Boolean);switch(e){case"0":default:return r.join(" ");case"1":return r.reverse().join(" ");case"2":return r.reverse().join(", ")}};const fV={version:"1.7.55",country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([457]\\d{6})$","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2457]\\d{6})$","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","11\\d{8}|(?:[2368]|9\\d)\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"1|([267]\\d{6})$","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7,8}|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"0|(183[12])",0,0,0,[["8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-7]|3[2-4]|[4-6]\\d))|91(?:[0-57-9]\\d|6[0135-9])\\d)\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",[6,8,10]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365|46","1[28]|2|365(?:[0-46-9]|5[0-35-9])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","246$1",0,"246"],BD:["880","00","1\\d{9}|2\\d{7,8}|88\\d{4,6}|(?:8[0-79]|9\\d)\\d{4,8}|(?:[346]\\d|[57])\\d{5,8}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:[2689]\\d|51)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[25689]"]]]],BL:["590","00","(?:590|69\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}"],0,0,0,0,0,0,["976[01]\\d{5}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([3-8]\\d{6})$","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","90\\d{5}|(?:[2-6]|7\\d)\\d{6}",[7,8],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[2-6]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}",[10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:35(?:[02-46-9]\\d|1[02-9]|5[0-46-9])|45(?:[034]\\d|1[02-9]|2[024-9]|5[0-46-9]))\\d{4}|52(?:3[2-46-9]|4[2-4])(?:[02-9]\\d|1[02-9])\\d{4}|(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}"],0,0,0,["600[2-9]\\d{6}"]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d|8[0-24-9])\\d{7}|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|118)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",[6,8,10]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[02-9]"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-3]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","(?:[26]\\d\\d|88)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"0|(1(?:[12]\\d|79)\\d\\d)",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:1\\d|3)\\d{9}|[124-8]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1 $2",["[14][2-9]|[25-8]"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d|8[0-24-9])\\d{7}|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|235)|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:83[0-38]|93[0-4])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",[6,8,10]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[05]\\d{10}|[46][1-8]\\d{4,9})|49(?:[0-25]\\d|3[1-689]|7[1-7])\\d{4,8}|49(?:[0-2579]\\d|[34][1-9]|6[0-8])\\d{3}|49\\d{3,4}|(?:1|[368]\\d|4[0-8])\\d{3,13}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-59]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","(?:[2-8]\\d|90)\\d{4}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],0,0,"0(11\\d{6}|6[256]\\d{6}|7[47]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[03])|(?:4[0-5]|5[0-26-9]|6[0-4]|[78][0-49])\\d\\d)|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:0\\d|20)))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"0|([25-9]\\d{5})$","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","[256]\\d{7}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-689]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590|69\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}"],0,0,0,0,0,0,["976[01]\\d{5}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|(?:[2689]\\d|70)\\d{8}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"1|([3-9]\\d{6})$","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:862\\d|9008)\\d{3}|(?:[2-46]\\d|77)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-489]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]]],HU:["36","00","[2357]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57-9]"],"06 $1"]],"06"],ID:["62","00[189]","(?:(?:007803|8\\d{4})\\d|[1-36])\\d{6}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([5-8]\\d{5})$","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1[4679]|[38]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d\\d|89(?:2|4[5-9]\\d))\\d{3}|89[45][0-4]\\d\\d|(?:1(?:44|6[346])|89(?:5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([0-24-8]\\d{5})$","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:0[0-2]|2[356]|34|4[01347]|5[49]|6[0-369]|77|81|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[279]|49|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[0468][01]|[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[0468][01]|[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[0468][01]|[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3[3-8]|5[2-9])","[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3(?:[3-6][2-9]|7|8[2-5])|5[2-9])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]|80"],"0$1"]],"0"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","(?:18|[2569]\\d\\d)\\d{5}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[25]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","345$1",0,"345"],KZ:["7","810","33622\\d{5}|(?:7\\d|80)\\d{8}",[10],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[7-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","758$1",0,"758"],LI:["423","00","90\\d{5}|(?:[2378]|6\\d\\d)\\d{6}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[237-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"0|(1001)"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]","5(?:29|38)[89]0"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:29(?:[189][05]|2[29]|3[01])|38[89][05])\\d{4}|5(?:2(?:[015-7]\\d|2[02-9]|3[0-578]|4[02-46-8]|8[0235-7]|90)|3(?:[0-47]\\d|5[02-9]|6[02-8]|80|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[016-8]|6[1267]|7[0-27]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],MC:["377","00","870\\d{5}|(?:[349]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590|69\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}"],0,0,0,0,0,0,["976[01]\\d{5}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"0|([24-9]\\d{6})$","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[57-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[57-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","(?:28|[68]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","670$1",0,"670"],MQ:["596","00","69\\d{7}|(?:59|97)6\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"1|([34]\\d{6})$","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[2-468]|5\\d)\\d{6}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["5"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9[13-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","1\\d{6}(?:\\d{2})?|(?:[23]1|77|88|99)\\d{7}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","(?:1(?:[01467]\\d|[2359][1-9]|8[1-79])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9])|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","[2-57-9]\\d{5}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]]],NE:["227","00","[0289]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",[5,6,7,8,9,10],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|5[89]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","9\\d{9}|[1-9]\\d{7}",[8,10],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["[1-8]|9(?:[1-579]|6[2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["83"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[0367]|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|8007\\d{4,5}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:[1-57-9]|6\\d)\\d{6}",[7,8],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["6"]]]],PE:["51","19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,0," Anexo "],PF:["689","00","[48]\\d{7}|4\\d{5}",[6,8],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[48]"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","1800\\d{7,9}|(?:2|[89]\\d{4})\\d{5}|[2-8]\\d{8}|[28]\\d{7}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|(?:[2-46-9]\\d|5[0-8])\\d{4,7}",[6,7,8,9],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"]],"0"],QA:["974","00","[2-7]\\d{7}|(?:2\\d\\d|800)\\d{4}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]]]],RE:["262","00","9769\\d{5}|(?:26|[68]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,"26[23]|69|[89]"],RO:["40","00","(?:[237]\\d|[89]0)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","[347-9]\\d{9}",[10],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",1]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","8000\\d{3}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:01|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[4589]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[2378]\\d|66|99)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d{4}|93330)\\d{4}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["24|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[1-35-9]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|(5\\d{6})$","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"1|([2-479]\\d{6})$","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","1\\d{9}|[1689]\\d{8}|[1-57]\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:00|11|[3-57-9]\\d)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"],0,1],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],0,1],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3"],0,1],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0457-9]|11"],0,1]],"8",0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|[5-8]\\d{3})\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-8]"]]]],TR:["90","00","(?:4|8\\d{5})\\d{6}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[0589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-46-8]\\d{6})$","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[26-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]","4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["[3-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}",[10],[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[0179]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-28]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[0179]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:35(?:[02-46-9]\\d|1[02-9]|5[0-46-9])|45(?:[034]\\d|1[02-9]|2[024-9]|5[0-46-9]))\\d{4}|52(?:3[2-46-9]|4[2-4])(?:[02-9]\\d|1[02-9])\\d{4}|5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","(?:[249]\\d\\d|80)\\d{5}|9\\d{6}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[24]"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","55501\\d{4}|(?:[679]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-578]\\d{6})$","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","(?:[23]\\d|[48]8)\\d{3}|(?:[57]\\d|90)\\d{5}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[579]"]]]],WF:["681","00","(?:[45]0|68|72|8\\d)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[4-8]"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","80\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,"269|63"],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","(?:63|80)0\\d{6}|(?:21|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,["[1-9]\\d{7}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"[35-7]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]\\d|7[6-8])\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|[19]\\d{7}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[19]"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-3]"]]],0,0,0,0,0,0,[0,["3(?:37\\d\\d|42)\\d{4}|3(?:2|47|7\\d{3})\\d{7}",[7,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}"]]],883:["883",0,"51\\d{7}(?:\\d{3})?",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["5"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["51[013]0\\d{8}|5100\\d{5}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var _V=" \xa0\xad\u200b\u2060\u3000",pV="".concat("-\u2010-\u2015\u2212\u30fc\uff0d").concat("\uff0f/").concat("\uff0e.").concat(_V).concat("()\uff08\uff09\uff3b\uff3d\\[\\]").concat("~\u2053\u223c\uff5e"),mV="+\uff0b";function gV(e){var t="x\uff58#\uff03~\uff5e";if("parsing"===e)t=",;"+t;return";ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \xa0\\t,]*(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|["+t+"]|int|anexo|\uff49\uff4e\uff54)[:\\.\uff0e]?[ \xa0\\t,-]*"+"([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+(["+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#"}var hV=gV("parsing"),yV=gV("matching"),vV=new RegExp("(?:"+hV+")$","i");function bV(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}var CV=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=this.constructor.name,this.message=t,this.stack=new Error(t).stack};function SV(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),a=0;a<3;a++){var o=Number(n[a]),i=Number(r[a]);if(o>i)return 1;if(i>o)return-1;if(!isNaN(o)&&isNaN(i))return 1;if(isNaN(o)&&!isNaN(i))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function wV(e){return wV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wV(e)}function IV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TV(e,t,n){return t&&OV(e.prototype,t),n&&OV(e,n),e}(CV.prototype=Object.create(Error.prototype)).constructor=CV;var EV=" ext. ",DV=function(){function e(t){IV(this,e),function(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!MV(e)||!MV(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(MV(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+jV(e)+": "+e,"."))}(t),this.metadata=t,$V.call(this,t)}return TV(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter((function(e){return"001"!==e}))}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new AV(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new AV(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){this.selectNumberingPlan(null,e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),AV=function(){function e(t,n){IV(this,e),this.globalMetadataObject=n,this.metadata=t,$V.call(this,n.metadata)}return TV(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map((function(t){return new PV(t,e)}))}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&NV(this.types(),e))return new RV(NV(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?EV:this.metadata[13]||EV}}]),e}(),PV=function(){function e(t,n){IV(this,e),this._format=t,this.metadata=n}return TV(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return this.nationalPrefixFormattingRule()&&!kV.test(this.nationalPrefixFormattingRule())}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),kV=/^\(?\$1\)?$/,RV=function(){function e(t,n){IV(this,e),this.type=t,this.metadata=n}return TV(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function NV(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}var MV=function(e){return"object"===wV(e)},jV=function(e){return wV(e)};function xV(e,t){if((t=new DV(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function LV(e,t){return void 0!==t.countries[e]}function $V(e){this.v1=!e.version,this.v2=void 0!==e.version&&-1===SV(e.version,"1.2.0"),this.v3=void 0!==e.version&&-1===SV(e.version,"1.7.35"),this.v4=void 0!==e.version}var KV=new RegExp("^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^"+("[+\uff0b]{0,1}(?:["+pV+"]*["+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}["+pV+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*")+"(?:"+hV+")?$","i");function FV(e){return e.length>=2&&KV.test(e)}var UV={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"};function qV(e){return UV[e]}function BV(e){var t="",n=e.split(""),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=qV(o);i&&(t+=i)}return t}function GV(e){var t="",n=e.split(""),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}t+=HV(o,t)||""}return t}function HV(e,t){if("+"===e){if(t)return;return"+"}return qV(e)}var zV=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function WV(e,t,n){if(t=t||{},e.country){(n=new DV(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(bV(r,n.nationalNumberPattern())){if(VV(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?VV(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var a=0,o=zV;a<o.length;a++){var i=o[a];if(VV(r,i,n))return i}}}}function VV(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&bV(e,t.pattern()))}function YV(e,t,n){var r=n.type(t),a=r&&r.possibleLengths()||n.possibleLengths();if(!a)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!n.type("FIXED_LINE"))return YV(e,"MOBILE",n);var o=n.type("MOBILE");o&&(a=function(e,t){var n=e.slice(),r=t,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var s=i;e.indexOf(s)<0&&n.push(s)}return n.sort((function(e,t){return e-t}))}(a,o.possibleLengths()))}else if(t&&!r)return"INVALID_LENGTH";var i=e.length,s=a[0];return s===i?"IS_POSSIBLE":s>i?"TOO_SHORT":a[a.length-1]<i?"TOO_LONG":a.indexOf(i,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function QV(e,t,n){return"IS_POSSIBLE"===YV(e,void 0,n)}var JV=new RegExp("([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])"),XV=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function ZV(e,t,n,r){if(t){var a=new DV(r);a.selectNumberingPlan(t,n);var o=new RegExp(a.IDDPrefix());if(0===e.search(o)){var i=(e=e.slice(e.match(o)[0].length)).match(JV);if(!(i&&null!=i[1]&&i[1].length>0&&"0"===i[1]))return e}}}function eY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(wX){a=!0,o=wX}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tY(e,t,n){return t=t||{},n=new DV(n),!!e.country&&(n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==WV(e,t,n.metadata):bV(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern()))}function nY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rY={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function aY(e,t,n,r){if(n=n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nY(e,t,n[t])}))}return e}({},rY,n):rY,r=new DV(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.chooseCountryByCountryCallingCode(e.countryCallingCode)}var a,o=r.countryCallingCode(),i=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return i?uY(a=sY(i,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return i?(a=sY(i,"INTERNATIONAL",r,n),uY(a="+".concat(o," ").concat(a),e.ext,r,n.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(i);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(o).concat(i),ext:e.ext});case"IDD":if(!n.fromCountry)return;var s=function(e,t,n){var r=new DV(n);return r.selectNumberingPlan(e,t),XV.test(r.IDDPrefix())?r.IDDPrefix():r.defaultIDDPrefix()}(n.fromCountry,void 0,r.metadata);if(!s)return;if(n.humanReadable){var c=o&&function(e,t,n,r,a){var o=new DV(r.metadata);if(o.country(n),t===o.countryCallingCode())return"1"===t?t+" "+sY(e,"NATIONAL",r,a):sY(e,"NATIONAL",r,a)}(i,r.countryCallingCode(),n.fromCountry,r,n);return uY(a=c||"".concat(s," ").concat(o," ").concat(sY(i,"INTERNATIONAL",r,n)),e.ext,r,n.formatExtension)}return"".concat(s).concat(o).concat(i);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}var oY=/(\$\d)/;function iY(e,t,n,r,a){var o=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():r&&t.nationalPrefixFormattingRule()?t.format().replace(oY,t.nationalPrefixFormattingRule()):t.format());return n?cY(o):o}function sY(e,t,n,r){var a=function(e,t){var n=e,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o;if(i.leadingDigitsPatterns().length>0){var s=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(s))continue}if(bV(t,i.pattern()))return i}}(n.formats(),e);return a?iY(e,a,"INTERNATIONAL"===t,!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!1!==r.nationalPrefix):e}function cY(e){return e.replace(new RegExp("[".concat(pV,"]+"),"g")," ").trim()}function uY(e,t,n,r){return t?r(e,t,n):e}function lY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fY=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!n)throw new TypeError("`nationalNumber` not passed");var a=new DV(r);_Y(t)&&(this.country=t,a.country(t),t=a.countryCallingCode()),this.countryCallingCode=t,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.metadata=r}var t,n,r;return t=e,n=[{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new DV(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.chooseCountryByCountryCallingCode(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.chooseCountryByCountryCallingCode(e.countryCallingCode)}}if(n.possibleLengths())return QV(e.phone||e.nationalNumber,0,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.metadata)}},{key:"isValid",value:function(){return tY(this,{v2:!0},this.metadata)}},{key:"isNonGeographic",value:function(){return new DV(this.metadata).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return WV(this,{v2:!0},this.metadata)}},{key:"format",value:function(e,t){return aY(this,e,t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lY(e,t,n[t])}))}return e}({},t,{v2:!0}):{v2:!0},this.metadata)}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],n&&dY(t.prototype,n),r&&dY(t,r),e}(),_Y=function(e){return/^[A-Z]{2}$/.test(e)},pY=new RegExp("[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]"),mY=new RegExp("[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+$");function gY(e,t,n){if(t=t||{},n=new DV(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new CV("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t){if(e&&0===e.indexOf("tel:"))return function(e){var t,n,r=(e=e.replace(/^tel:/,"tel=")).split(";"),a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var s=eY(i.split("="),2),c=s[0],u=s[1];switch(c){case"tel":t=u;break;case"ext":n=u;break;case"phone-context":"+"===u[0]&&(t=u+t)}}if(!FV(t))return{};var l={number:t};return n&&(l.ext=n),l}(e);var n=function(e,t){if(!e)return;if(e.length>250){if(t)throw new CV("TOO_LONG");return}var n=e.search(pY);if(n<0)return;return e.slice(n).replace(mY,"")}(e,t);if(!n||!FV(n))return{};var r=function(e){var t=e.search(vV);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(vV),a=1;a<r.length;){if(null!=r[a]&&r[a].length>0)return{number:n,ext:r[a]};a++}}(n);if(r.ext)return r;return{number:n}}(e,t.v2),a=r.number,o=r.ext;if(!a){if(t.v2)throw new CV("NOT_A_NUMBER");return{}}var i=function(e,t,n,r){var a,o=bY(GV(e),t,n,r.metadata),i=o.countryCallingCode,s=o.number;if(i)r.chooseCountryByCountryCallingCode(i);else{if(!s||!t&&!n)return{};r.selectNumberingPlan(t,n),t&&(a=t),i=n||xV(t,r.metadata)}if(!s)return{countryCallingCode:i};var c=vY(GV(s),r),u=c.nationalNumber,l=c.carrierCode,d=yY(i,u,r);d&&(a=d,"001"===d||r.country(a));return{country:a,countryCallingCode:i,nationalNumber:u,carrierCode:l}}(a,t.defaultCountry,t.defaultCallingCode,n),s=i.country,c=i.nationalNumber,u=i.countryCallingCode,l=i.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new CV("INVALID_COUNTRY");return{}}if(!c||c.length<2){if(t.v2)throw new CV("TOO_SHORT");return{}}if(c.length>17){if(t.v2)throw new CV("TOO_LONG");return{}}if(t.v2){var d=new fY(u,c,n.metadata);return s&&(d.country=s),l&&(d.carrierCode=l),o&&(d.ext=o),d}var f=!!(t.extended?n.hasSelectedNumberingPlan():s)&&bV(c,n.nationalNumberPattern());return t.extended?{country:s,countryCallingCode:u,carrierCode:l,valid:f,possible:!!f||!(!0!==t.extended||!n.possibleLengths()||!QV(c,0,n)),phone:c,ext:o}:f?function(e,t,n){var r={country:e,phone:t};n&&(r.ext=n);return r}(s,c,o):{}}function hY(e,t){if(e&&t.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var a,o,i=r.length-1;if(t.nationalPrefixTransformRule()&&i>0&&r[i])a=e.replace(n,t.nationalPrefixTransformRule()),i>1&&r[i]&&(o=r[1]);else{var s=r[0];a=e.slice(s.length),i>0&&(o=r[1])}if(!bV(e,t.nationalNumberPattern())||bV(a,t.nationalNumberPattern()))return{nationalNumber:a,carrierCode:o}}}return{nationalNumber:e}}function yY(e,t,n){var r=n.getCountryCodesForCallingCode(e);if(r)return 1===r.length?r[0]:function(e,t,n){n=new DV(n);var r=e,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var s=i;if(n.country(s),n.leadingDigits()){if(t&&0===t.search(n.leadingDigits()))return s}else if(WV({phone:t,country:s},void 0,n.metadata))return s}}(r,t,n.metadata)}function vY(e,t){var n=hY(GV(e),t),r=n.nationalNumber,a=n.carrierCode;if(r.length!==e.length+(a?a.length:0)&&t.possibleLengths())switch(YV(r,void 0,t)){case"TOO_SHORT":case"INVALID_LENGTH":return{nationalNumber:e}}return{nationalNumber:r,carrierCode:a}}function bY(e,t,n,r){if(!e)return{};if("+"!==e[0]){var a=ZV(e,t,n,r);if(!a||a===e){if(t||n){var o=CY(e,t,n,r),i=o.countryCallingCode,s=o.number;if(i)return{countryCallingCode:i,number:s}}return{number:e}}e="+"+a}if("0"===e[1])return{};r=new DV(r);for(var c=2;c-1<=3&&c<=e.length;){var u=e.slice(1,c);if(r.hasCallingCode(u))return r.selectNumberingPlan(void 0,u),{countryCallingCode:u,number:e.slice(c)};c++}return{}}function CY(e,t,n,r){var a=t?xV(t,r):n;if(0===e.indexOf(a)){(r=new DV(r)).selectNumberingPlan(t,n);var o=e.slice(a.length),i=hY(o,r).nationalNumber,s=hY(e,r).nationalNumber;if(!bV(s,r.nationalNumberPattern())&&bV(i,r.nationalNumberPattern())||"TOO_LONG"===YV(s,void 0,r))return{countryCallingCode:a,number:o}}return{number:e}}function SY(e,t){if(e<0||t<=0||t<e)throw new TypeError;return"{".concat(e,",").concat(t,"}")}function wY(e,t){var n=t.search(e);return n>=0?t.slice(0,n):t}var IY=/[\\/] *x/;function OY(e){return wY(IY,e)}var TY=/(?:(?:[0-3]?\d\/[01]?\d)|(?:[01]?\d\/[0-3]?\d))\/(?:[12]\d)?\d{2}/,EY=/[12]\d{3}[-/]?[01]\d[-/]?[0-3]\d +[0-2]\d$/,DY=/^:[0-5]\d/;function AY(e,t,n){if(TY.test(e))return!1;if(EY.test(e)){var r=n.slice(t+e.length);if(DY.test(r))return!1}return!0}var PY=" \xa0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000",kY="[".concat(PY,"]"),RY="[^".concat(PY,"]"),NY="[".concat("0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19","]"),MY="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",jY="[".concat(MY,"]"),xY=new RegExp(jY),LY="[".concat("$\xa2-\xa5\u058f\u060b\u09f2\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20b9\ua838\ufdfc\ufe69\uff04\uffe0\uffe1\uffe5\uffe6","]"),$Y=new RegExp(LY),KY="[".concat("\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1bab\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099\u309a\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaec\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26","]"),FY=new RegExp(KY),UY=new RegExp("[\0-\x7f\x80-\xff\u0100-\u017f\u1e00-\u1eff\u0180-\u024f\u0300-\u036f]");function qY(e){return!(!xY.test(e)&&!FY.test(e))&&UY.test(e)}function BY(e){return"%"===e||$Y.test(e)}var GY="(\\[\uff08\uff3b",HY=")\\]\uff09\uff3d",zY="[^".concat(GY).concat(HY,"]"),WY="[".concat(GY).concat(mV,"]"),VY=new RegExp("^"+WY),YY=SY(0,3),QY=new RegExp("^(?:[(\\[\uff08\uff3b])?(?:"+zY+"+["+")\\]\uff09\uff3d])?"+zY+"+(?:["+"(\\[\uff08\uff3b]"+zY+"+["+")\\]\uff09\uff3d])"+YY+zY+"*$"),JY=/\d{1,5}-+\d{1,5}\s{0,4}\(\d{1,4}/;function XY(e,t,n,r){if(QY.test(e)&&!JY.test(e)){if("POSSIBLE"!==r){if(t>0&&!VY.test(e)){var a=n[t-1];if(BY(a)||qY(a))return!1}var o=t+e.length;if(o<n.length){var i=n[o];if(BY(i)||qY(i))return!1}}return!0}}function ZY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tQ="[+\uff0b]{0,1}(?:["+pV+"]*["+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}["+pV+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*",nQ=new RegExp("^[ \xa0\xad\u200b\u2060\u3000]+"),rQ=new RegExp("["+pV+"]+$");var aQ=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eQ(this,"state","NOT_READY"),this.text=t,this.options=n||{},this.metadata=r,this.regexp=new RegExp(tQ+"(?:"+hV+")?","ig")}var t,n,r;return t=e,n=[{key:"find",value:function(){var e=this.regexp.exec(this.text);if(e){var t=e[0],n=e.index;t=t.replace(nQ,""),n+=e[0].length-t.length,t=OY(t=t.replace(rQ,""));var r=this.parseCandidate(t,n);return r||this.find()}}},{key:"parseCandidate",value:function(e,t){if(AY(e,t,this.text)&&XY(e,t,this.text,this.options.extended?"POSSIBLE":"VALID")){var n=gY(e,this.options,this.metadata);if(n.phone)return n.startsAt=t,n.endsAt=t+e.length,n}}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.last_match=this.find(),this.last_match?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){if(!this.hasNext())throw new Error("No next element");var e=this.last_match;return this.last_match=null,this.state="NOT_READY",e}}],n&&ZY(t.prototype,n),r&&ZY(t,r),e}();function oQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sQ=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;iQ(this,e),this.key=t,this.value=n,this.next=r,this.prev=a},cQ=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;iQ(this,e),this.size=0,this.limit=t,this.head=null,this.tail=null,this.cache={}}var t,n,r;return t=e,(n=[{key:"put",value:function(e,t){if(this.ensureLimit(),this.head){var n=new sQ(e,t,this.head);this.head.prev=n,this.head=n}else this.head=this.tail=new sQ(e,t);this.cache[e]=this.head,this.size++}},{key:"get",value:function(e){if(this.cache[e]){var t=this.cache[e].value;return this.remove(e),this.put(e,t),t}console.log("Item not available in cache for key ".concat(e))}},{key:"ensureLimit",value:function(){this.size===this.limit&&this.remove(this.tail.key)}},{key:"remove",value:function(e){var t=this.cache[e];null!==t.prev?t.prev.next=t.next:this.head=t.next,null!==t.next?t.next.prev=t.prev:this.tail=t.prev,delete this.cache[e],this.size--}},{key:"clear",value:function(){this.head=null,this.tail=null,this.size=0,this.cache={}}}])&&oQ(t.prototype,n),r&&oQ(t,r),e}();function uQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lQ=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache=new cQ(t)}var t,n,r;return t=e,(n=[{key:"getPatternForRegExp",value:function(e){var t=this.cache.get(e);return t||(t=new RegExp("^"+e),this.cache.put(e,t)),t}}])&&uQ(t.prototype,n),r&&uQ(t,r),e}();const dQ={POSSIBLE:function(e,t,n){return!0},VALID:function(e,t,n){return!(!tY(e,void 0,n)||!fQ(e,t.toString(),n))},STRICT_GROUPING:function(e,t,n,r){var a=t.toString();return!(!tY(e,void 0,n)||!fQ(e,a,n)||pQ(e,a)||!_Q(e,n))&&mQ(e,t,n,yQ,r)},EXACT_GROUPING:function(e,t,n,r){var a=t.toString();return!(!tY(e,void 0,n)||!fQ(e,a,n)||pQ(e,a)||!_Q(e,n))&&mQ(e,t,n,hQ,r)}};function fQ(e,t,n){for(var r=0;r<t.length-1;r++){var a=t.charAt(r);if("x"===a||"X"===a){var o=t.charAt(r+1);if("x"===o||"X"===o){if(r++,util.isNumberMatch(e,t.substring(r))!=MatchType.NSN_MATCH)return!1}else if(BV(t.substring(r))!==e.ext)return!1}}return!0}function _Q(e,t){if("FROM_DEFAULT_COUNTRY"!=e.getCountryCodeSource())return!0;var n=util.getRegionCodeForCountryCode(e.getCountryCode()),r=util.getMetadataForRegion(n);if(null==r)return!0;var a=util.getNationalSignificantNumber(e),o=util.chooseFormattingPatternForNumber(r.numberFormats(),a);if(o&&o.getNationalPrefixFormattingRule().length>0){if(o.getNationalPrefixOptionalWhenFormatting())return!0;if(PhoneNumberUtil.formattingRuleHasFirstGroupOnly(o.getNationalPrefixFormattingRule()))return!0;var i=PhoneNumberUtil.normalizeDigitsOnly(e.getRawInput());return util.maybeStripNationalPrefixAndCarrierCode(i,r,null)}return!0}function pQ(e,t){var n=t.indexOf("/");if(n<0)return!1;var r=t.indexOf("/",n+1);return!(r<0)&&(!(e.getCountryCodeSource()===CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN||e.getCountryCodeSource()===CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN)||PhoneNumberUtil.normalizeDigitsOnly(t.substring(0,n))!==String(e.getCountryCode())||t.slice(r+1).indexOf("/")>=0)}function mQ(e,t,n,r,a){var o=normalizeDigits(t,!0),i=gQ(n,e,null);if(r(n,e,o,i))return!0;var s=MetadataManager.getAlternateFormatsForCountry(e.getCountryCode()),c=util.getNationalSignificantNumber(e);if(s){var u=s.numberFormats(),l=Array.isArray(u),d=0;for(u=l?u:u[Symbol.iterator]();;){var f;if(l){if(d>=u.length)break;f=u[d++]}else{if((d=u.next()).done)break;f=d.value}var _=f;if(_.leadingDigitsPatterns().length>0)if(!a.getPatternForRegExp("^"+_.leadingDigitsPatterns()[0]).test(c))continue;if(r(n,e,o,i=gQ(n,e,_)))return!0}}return!1}function gQ(e,t,n){if(n){var r=util.getNationalSignificantNumber(t);return util.formatNsnUsingPattern(r,n,"RFC3966",e).split("-")}var a=formatNumber(t,"RFC3966",e),o=a.indexOf(";");o<0&&(o=a.length);var i=a.indexOf("-")+1;return a.slice(i,o).split("-")}function hQ(e,t,n,r){var a=n.split(NON_DIGITS_PATTERN),o=t.hasExtension()?a.length-2:a.length-1;if(1==a.length||a[o].contains(util.getNationalSignificantNumber(t)))return!0;for(var i,s,c=r.length-1;c>0&&o>=0;){if(a[o]!==r[c])return!1;c--,o--}return o>=0&&(i=a[o],s=r[0],i.indexOf(s,i.length-s.length)===i.length-s.length)}function yQ(e,t,n,r){var a,o,i=0;if(t.getCountryCodeSource()!==CountryCodeSource.FROM_DEFAULT_COUNTRY){var s=String(t.getCountryCode());i=n.indexOf(s)+s.length()}for(var c=0;c<r.length;c++){if((i=n.indexOf(r[c],i))<0)return!1;if(i+=r[c].length(),0==c&&i<n.length()){var u=util.getRegionCodeForCountryCode(t.getCountryCode());if(null!=util.getNddPrefixForRegion(u,!0)&&Character.isDigit(n.charAt(i))){var l=util.getNationalSignificantNumber(t);return a=n.slice(i-r[c].length),o=l,0===a.indexOf(o)}}}return n.slice(i).contains(t.getExtension())}function vQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){SQ(e,t,n[t])}))}return e}function bQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wQ=["\\/+(.*)/","(\\([^(]*)","(?:".concat(kY,"-|-").concat(kY,")").concat(kY,"*(.+)"),"[\u2012-\u2015\uff0d]".concat(kY,"*(.+)"),"\\.+".concat(kY,"*([^.]+)"),"".concat(kY,"+(").concat(RY,"+)")],IQ=SY(0,2),OQ=SY(0,4),TQ=SY(0,20),EQ="[".concat(pV,"]")+OQ,DQ=NY+SY(1,20),AQ="(?:"+WY+EQ+")"+IQ+DQ+"(?:"+EQ+DQ+")"+TQ+"(?:"+yV+")?",PQ=new RegExp("[^".concat("0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d66-\u0d75\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19").concat(MY,"#]+$")),kQ=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,RQ=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(bQ(this,e),SQ(this,"state","NOT_READY"),SQ(this,"searchIndex",0),SQ(this,"regExpCache",new lQ(32)),!(n=vQ({},n,{defaultCallingCode:n.defaultCallingCode,defaultCountry:n.defaultCountry&&LV(n.defaultCountry,r)?n.defaultCountry:void 0,leniency:n.leniency||n.extended?"POSSIBLE":"VALID",maxTries:n.maxTries||kQ})).leniency)throw new TypeError("`Leniency` not supplied");if(n.maxTries<0)throw new TypeError("`maxTries` not supplied");if(this.text=t,this.options=n,this.metadata=r,this.leniency=dQ[n.leniency],!this.leniency)throw new TypeError("Unknown leniency: ".concat(n.leniency,"."));this.maxTries=n.maxTries,this.PATTERN=new RegExp(AQ,"ig")}var t,n,r;return t=e,n=[{key:"find",value:function(){for(var e;this.maxTries>0&&null!==(e=this.PATTERN.exec(this.text));){var t=e[0],n=e.index;if(AY(t=OY(t),n,this.text)){var r=this.parseAndVerify(t,n,this.text)||this.extractInnerMatch(t,n,this.text);if(r){if(this.options.v2){var a=new fY(r.country||r.countryCallingCode,r.phone,this.metadata);return r.ext&&(a.ext=r.ext),{startsAt:r.startsAt,endsAt:r.endsAt,number:a}}return r}}this.maxTries--}}},{key:"extractInnerMatch",value:function(e,t,n){for(var r=0,a=wQ;r<a.length;r++)for(var o=!0,i=void 0,s=new RegExp(a[r],"g");null!==(i=s.exec(e))&&this.maxTries>0;){if(o){var c=wY(PQ,e.slice(0,i.index)),u=this.parseAndVerify(c,t,n);if(u)return u;this.maxTries--,o=!1}var l=wY(PQ,i[1]),d=this.parseAndVerify(l,t+i.index,n);if(d)return d;this.maxTries--}}},{key:"parseAndVerify",value:function(e,t,n){if(XY(e,t,n,this.options.leniency)){var r=gY(e,{extended:!0,defaultCountry:this.options.defaultCountry,defaultCallingCode:this.options.defaultCallingCode},this.metadata);if(r.possible&&this.leniency(r,e,this.metadata,this.regExpCache)){var a={startsAt:t,endsAt:t+e.length,phone:r.phone};return r.country&&"001"!==r.country?a.country=r.country:a.countryCallingCode=r.countryCallingCode,r.ext&&(a.ext=r.ext),a}}}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.lastMatch=this.find(),this.lastMatch?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){if(!this.hasNext())throw new Error("No next element");var e=this.lastMatch;return this.lastMatch=null,this.state="NOT_READY",e}}],n&&CQ(t.prototype,n),r&&CQ(t,r),e}();function NQ(e){return NQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NQ(e)}function MQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jQ=WQ("9",15),xQ="x",LQ=new RegExp(xQ),$Q=/[- ]/,KQ=function(){return/\[([^\[\]])*\]/g},FQ=function(){return/\d(?=[^,}][^,}])/g},UQ=new RegExp("^["+pV+"]*(\\$\\d["+pV+"]*)+$"),qQ=new RegExp("^"+("["+pV+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+")+"$","i"),BQ="(?:[+\uff0b]["+pV+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*|["+pV+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+)",GQ=new RegExp("[^"+pV+"0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]+.*$"),HQ=function(){function e(t,n){var r,a,o,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={},(a="options")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,this.metadata=new DV(n),t&&("object"===NQ(t)?(i=t.defaultCountry,s=t.defaultCallingCode):i=t),i&&this.metadata.hasCountry(i)&&(this.defaultCountry=i),s&&(this.defaultCallingCode=s),this.reset()}var t,n,r;return t=e,n=[{key:"reset",value:function(){return this.formattedOutput="",this.international=!1,this.internationalPrefix=void 0,this.countryCallingCode=void 0,this.digits="",this.nationalNumberDigits="",this.nationalPrefix="",this.carrierCode="",this.setCountry(this.defaultCountry,this.defaultCallingCode),this}},{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"isInternational",value:function(){return this.international}},{key:"getCountryCallingCode",value:function(){return this.countryCallingCode}},{key:"getCountry",value:function(){if(this.digits){var e=this.country;return e}}},{key:"setCountry",value:function(e,t){this.country=e,this.metadata.selectNumberingPlan(e,t),this.metadata.hasSelectedNumberingPlan()?this.initializePhoneNumberFormatsForCountry():this.matchingFormats=[],this.resetFormat()}},{key:"input",value:function(e){var t=this.extractFormattedDigits(e);return qQ.test(t)&&(this.formattedOutput=this.getFullNumber(this.inputDigits(BV(t))||this.getNonFormattedNationalNumber())),this.formattedOutput}},{key:"extractFormattedDigits",value:function(e){var t=function(e){var t,n=e.search(BQ);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice("+".length)),e=e.replace(GQ,""),t&&(e="+"+e),e}(e)||"";return"+"===t[0]&&(t=t.slice("+".length),this.digits||(this.formattedOutput="+",this.startInternationalNumber())),t}},{key:"startInternationalNumber",value:function(){this.international=!0,this.setCountry()}},{key:"inputDigits",value:function(e){if(!this.digits){var t=ZV(e,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);t&&t!==e&&(this.internationalPrefix=e.slice(0,e.length-t.length),e=t,this.startInternationalNumber())}if(this.digits+=e,this.isInternational())if(this.countryCallingCode)this.nationalNumberDigits+=e,this.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry();else{if(!this.extractCountryCallingCode())return;this.nationalNumberDigits=this.digits.slice(this.countryCallingCode.length),this.determineTheCountry()}else{this.nationalNumberDigits+=e,this.country||this.determineTheCountry();var n=this.nationalPrefix;this.nationalNumberDigits=this.nationalPrefix+this.nationalNumberDigits,this.extractNationalPrefix(),this.nationalPrefix!==n&&(this.initializePhoneNumberFormatsForCountry(),this.resetFormat())}return this.nationalNumberDigits&&this.matchFormats(this.nationalNumberDigits),this.formatNationalNumberWithNextDigits(e)}},{key:"formatNationalNumberWithNextDigits",value:function(e){var t=this.attemptToFormatCompletePhoneNumber();if(t)return t;var n=this.chosenFormat,r=this.chooseFormat();return r?r===n?this.formatNextNationalNumberDigits(e):this.reformatNationalNumber():void 0}},{key:"chooseFormat",value:function(){var e=this.matchingFormats,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;if(this.chosenFormat===a)break;if(this.createFormattingTemplate(a)){this.chosenFormat=a,this.populatedNationalNumberTemplatePosition=-1;break}}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"reformatNationalNumber",value:function(){return this.formatNextNationalNumberDigits(this.nationalPrefix+this.nationalNumberDigits)}},{key:"initializePhoneNumberFormatsForCountry",value:function(){this.matchingFormats=this.metadata.formats().filter((function(e){return UQ.test(e.internationalFormat())}))}},{key:"matchFormats",value:function(e){var t=this,n=e.length-3;n<0&&(n=0),this.matchingFormats=this.matchingFormats.filter((function(r){if(!t.isInternational()&&!t.nationalPrefix&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())return!1;var a=r.leadingDigitsPatterns().length;if(0===a)return!0;if(e.length<3)return!0;n=Math.min(n,a-1);var o=r.leadingDigitsPatterns()[n];return new RegExp("^(".concat(o,")")).test(e)})),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return"1"===this.metadata.countryCallingCode()||e&&e.nationalPrefixFormattingRule()&&$Q.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"attemptToFormatCompletePhoneNumber",value:function(){var e=this.matchingFormats,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;if(new RegExp("^(?:".concat(a.pattern(),")$")).test(this.nationalNumberDigits)){var o=iY(this.nationalNumberDigits,a,this.isInternational(),!1,this.metadata);if(BV(o)===this.nationalNumberDigits){if(this.nationalPrefix){var i=iY(this.nationalNumberDigits,a,this.isInternational(),!0,this.metadata);o=BV(i)===this.nationalPrefix+this.nationalNumberDigits?i:this.nationalPrefix+this.getSeparatorAfterNationalPrefix(a)+o}return this.resetFormat(),this.chosenFormat=a,this.createFormattingTemplate(a)?this.reformatNationalNumber():(this.template=this.getFullNumber(o).replace(/[\d\+]/g,xQ),this.populatedNationalNumberTemplate=o,this.populatedNationalNumberTemplatePosition=this.populatedNationalNumberTemplate.length-1),o}}}}},{key:"getInternationalPrefix",value:function(e){return this.internationalPrefix?e&&!1===e.spacing?this.internationalPrefix:this.internationalPrefix+" ":"+"}},{key:"getFullNumber",value:function(e){if(this.isInternational()){var t=this.getInternationalPrefix();return this.countryCallingCode?e?"".concat(t).concat(this.countryCallingCode," ").concat(e):"".concat(t).concat(this.countryCallingCode):"".concat(t).concat(this.digits)}return e}},{key:"getNonFormattedNationalNumber",value:function(){return this.nationalPrefix+(this.nationalPrefix&&this.nationalNumberDigits&&this.getSeparatorAfterNationalPrefix())+this.nationalNumberDigits}},{key:"extractCountryCallingCode",value:function(){var e=bY("+"+this.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),t=e.countryCallingCode,n=e.number;if(t)return this.nationalNumberDigits=n,this.countryCallingCode=t,this.metadata.chooseCountryByCountryCallingCode(t),this.initializePhoneNumberFormatsForCountry(),this.resetFormat(),this.metadata.hasSelectedNumberingPlan()}},{key:"extractNationalPrefix",value:function(){if(this.nationalPrefix="",this.metadata.hasSelectedNumberingPlan()){var e=hY(this.nationalNumberDigits,this.metadata),t=e.nationalNumber,n=e.carrierCode;if(t){var r=this.nationalNumberDigits.indexOf(t);if(r<0||r!==this.nationalNumberDigits.length-t.length)return}return n&&(this.carrierCode=n),this.nationalPrefix=this.nationalNumberDigits.slice(0,this.nationalNumberDigits.length-t.length),this.nationalNumberDigits=t,this.nationalPrefix}}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.metadata.getCountryCodesForCallingCode(this.countryCallingCode);return e&&e.length>1}},{key:"createFormattingTemplate",value:function(e){if(!(e.pattern().indexOf("|")>=0)){var t=this.getTemplateForNumberFormatPattern(e,this.nationalPrefix);if(t)return this.template=t,this.populatedNationalNumberTemplate=t,this.isInternational()&&(this.template=this.getInternationalPrefix().replace(/[\d\+]/g,xQ)+WQ(xQ,this.countryCallingCode.length)+" "+t),this.template}}},{key:"getTemplateForNumberFormatPattern",value:function(e,t){var n=e.pattern();n=n.replace(KQ(),"\\d").replace(FQ(),"\\d");var r=jQ.match(n)[0];if(!(this.nationalNumberDigits.length>r.length)){var a=new RegExp("^"+n+"$"),o=this.nationalNumberDigits.replace(/\d/g,"9");a.test(o)&&(r=o);var i,s=this.getFormatFormat(e);if(t&&e.nationalPrefixFormattingRule()){var c=s.replace(oY,e.nationalPrefixFormattingRule());if(BV(c)===t+BV(s)){s=c,i=!0;for(var u=t.length;u>0;)s=s.replace(/\d/,xQ),u--}}var l=r.replace(new RegExp(n),s).replace(new RegExp("9","g"),xQ);return t&&(i||(l=WQ(xQ,t.length)+this.getSeparatorAfterNationalPrefix(e)+l)),l}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=e.split(""),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a;if(this.populatedNationalNumberTemplate.slice(this.populatedNationalNumberTemplatePosition+1).search(LQ)<0)return void this.resetFormat();this.populatedNationalNumberTemplatePosition=this.populatedNationalNumberTemplate.search(LQ),this.populatedNationalNumberTemplate=this.populatedNationalNumberTemplate.replace(LQ,o)}return zQ(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"getFormatFormat",value:function(e){return this.isInternational()?cY(e.internationalFormat()):e.format()}},{key:"determineTheCountry",value:function(){this.country=yY(this.isInternational()?this.countryCallingCode:this.defaultCallingCode,this.nationalNumberDigits,this.metadata)}},{key:"getNumber",value:function(){if(this.isInternational()){if(!this.countryCallingCode)return}else if(!this.country&&!this.defaultCallingCode)return;if(this.nationalNumberDigits){var e=this.getCountry(),t=this.getCountryCallingCode()||this.defaultCallingCode,n=this.nationalNumberDigits,r=this.carrierCode;if(!this.isInternational()&&this.nationalNumberDigits===this.digits){var a=CY(this.digits,e,t,this.metadata.metadata),o=a.countryCallingCode,i=a.number;if(o){var s=vY(i,this.metadata);n=s.nationalNumber,r=s.carrierCode}}var c=new fY(e||t,n,this.metadata.metadata);return r&&(c.carrierCode=r),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.nationalNumberDigits}},{key:"getNonFormattedTemplate",value:function(){return this.getFullNumber(this.getNonFormattedNationalNumber()).replace(/[\+\d]/g,xQ)}},{key:"getTemplate",value:function(){if(!this.template)return this.getNonFormattedTemplate();for(var e=-1,t=0;t<(this.isInternational()?this.getInternationalPrefix({spacing:!1}).length:0)+this.digits.length;)e=this.template.indexOf(xQ,e+1),t++;return zQ(this.template,e+1)}}],n&&MQ(t.prototype,n),r&&MQ(t,r),e}();function zQ(e,t){return")"===e[t]&&t++,function(e){for(var t=[],n=0;n<e.length;)"("===e[n]?t.push(n):")"===e[n]&&t.pop(),n++;var r=0,a="";t.push(e.length);for(var o=0,i=t;o<i.length;o++){var s=i[o];a+=e.slice(r,s),r=s+1}return a}(e.slice(0,t))}function WQ(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function VQ(e,t){aQ.call(this,e,t,fV)}function YQ(e,t){RQ.call(this,e,t,fV)}function QQ(e){HQ.call(this,e,fV)}VQ.prototype=Object.create(aQ.prototype,{}),VQ.prototype.constructor=VQ,YQ.prototype=Object.create(RQ.prototype,{}),YQ.prototype.constructor=YQ,QQ.prototype=Object.create(HQ.prototype,{}),QQ.prototype.constructor=QQ;new QQ("US");function JQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){JQ(e,t,n[t])}))}return e}function ZQ(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function eJ(e){return{conv_id:e.chatId,name:e.title,type:"group",created_by_firstname:e.createdByFirstName,created_by_lastname:e.createdByLastName,created_by_login_id:e.createdByLoginId,created_by_user_id:e.createdByUserId,members:p_(e.members,(function(e){return{user_id:e.id,firstname:e.firstName,lastname:e.lastName,login_id:e.login}})),unread_count:(null==e?void 0:e.unreadCount)?"".concat(e.unreadCount):void 0}}function tJ(e,t){return{answered:!!t.answered,associatedCRMObjects:t.associatedCRMObjects,caseId:t.case_id,caseNumber:t.case_number,caseTitle:t.case_title,channel:t.channel,contactId:t.contactId,dataId:e,direction:t.direction,duration:t.duration,email:t.email,firstName:t.firstName,globalInteractionId:t.globalInteractionId,groupChatData:t.group_chat_info?PH.incomingChatInfoToChatItem(t.group_chat_info):void 0,itemId:t.item_id,lastMessage:t.lastMessage,lastMessageAuthor:t.lastMessageAuthor,lastName:t.lastName,media:t.media,messengerUserId:t.messenger_user_id,name:t.name,number:t.number,ownerId:t.owner_id,parties:t.parties,photoUrl:t.photoUrl,postfix:t.postfix,removedFromACL:t.removedFromACL,serviceId:t.serviceId,serviceName:t.serviceName,time:t.time,type:t.type,userId:t.refId,userType:t.userType}}function nJ(e){return{time:e.time,duration:e.duration,direction:e.direction,media:e.media,type:e.type,number:e.number,name:e.name,firstName:e.firstName,lastName:e.lastName,refId:e.userId,lastMessage:e.lastMessage,lastMessageAuthor:e.lastMessageAuthor,parties:(null==e?void 0:e.parties)||[],owner_id:e.ownerId,userType:e.userType,photoUrl:e.photoUrl,removedFromACL:e.removedFromACL,contactId:e.contactId,group_chat_info:void 0!==e.groupChatData?eJ(e.groupChatData):void 0}}function rJ(e){var t,n=e.item,r=e.groupChatData,a=e.lastMessage,o=e.lastMessageAuthor,i=function(e){var t,n=e.scenarioData?e.scenarioData.interactionStepId:e.groupChatId,r=m();if(!(n&&r&&e.direction&&e.mediaType))return;var a=function(e){return Gh(null==e?void 0:e.allChatParties)}(e),o=e.displayData,i=o.itemStartTime,s=o.pendingStartTime,c=o.deliveredStartTime,u=o.acwStartTime,l=s||i;if(!l)return;var d=new Date(l),f=u||Date.now(),_=c?f-c:0,p=function(e){return e.map((function(e){return{firstName:Cy(e)?e.firstName:e.first_name,lastName:Cy(e)?e.lastName:e.last_name,userId:Cy(e)?e.userId:e.user_id,contactId:Cy(e)?e.contactId:e.contact_id,phone:e.phone}}))}((null===(t=e.allParties)||void 0===t?void 0:t.length)?e.allParties:(null==a?void 0:a.length)?a:[]);return{item_id:n,time:oJ(d),duration:_.toString(),direction:e.direction.toUpperCase(),media:e.mediaType.toUpperCase(),type:r,name:e.displayData.displayName||e.displayData.callerName,parties:p};function m(){switch(e.mediaType){case"email":return"email";case"voice":return function(e){var t=(e.allParties||[]).length;return cy(e)||uy(e)?t>2&&!!e.isOrWasConference:t>1&&!!e.isOrWasConference}(e)?"conference":"call";case"chat":return function(e){var t,n=Hh(null==e?void 0:e.allChatParties);return(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)>1&&!!e.isOrWasConference}(e)?"conference":"extChat";case"agent_chat":return"chat"}}}(n);if(i)switch(i=function(e){var t,r,a,o,i,s,c,u,l,d,f=null!==(d=n.associatedObjects)&&void 0!==d?d:{list:[],selected:[],touched:!1,primary:[]},_=f.list,p=f.selected.reduce((function(e,t){var n=_.find((function(e){return e.id===t}));return n&&e.push(n),e}),[]);return ka(ZQ(XQ({},e),{messenger_user_id:null===(t=n.externalChatData)||void 0===t?void 0:t.messengerUserId,case_id:null===(r=n.emailData)||void 0===r?void 0:r.caseId,case_title:null===(a=n.emailData)||void 0===a?void 0:a.caseTitle,case_number:String(null===(o=n.emailData)||void 0===o?void 0:o.caseNumber),answered:Boolean(n.displayData.deliveredStartTime||n.displayData.deliveredDuration),contactId:n.contactId,refId:n.userId,number:n.displayData.number,firstName:n.displayData.firstName?n.displayData.firstName:null===(i=n.externalChatData)||void 0===i?void 0:i.firstName,lastName:n.displayData.lastName?n.displayData.lastName:null===(s=n.externalChatData)||void 0===s?void 0:s.lastName,email:n.externalChatData?n.externalChatData.email:n.emailData?n.emailData.fromAddress:void 0,channel:Jh(n),serviceName:null===(c=n.scenarioData)||void 0===c?void 0:c.serviceName,serviceId:null===(u=n.scenarioData)||void 0===u?void 0:u.serviceId,associatedCRMObjects:p,globalInteractionId:null===(l=n.scenarioData)||void 0===l?void 0:l.globalInteractionId}))}(i),n.mediaType){case"agent_chat":return t=i,Ta(r),ka(ZQ(XQ({},t),{media:"CHAT",group_chat_info:eJ(r),lastMessageAuthor:o,lastMessage:a}));case"chat":return function(e){return ka(ZQ(XQ({},e),{lastMessage:a}))}(i);case"voice":return function(e){return ka(ZQ(XQ({},e),{postfix:""}))}(i);default:return i}}function aJ(e){if(ly(e))return Ta(e.workitemData),Ta(e.mediaType),{item_id:e.workitemData.id,time:oJ(new Date),duration:"0",direction:"INBOUND",type:"workitem",media:e.mediaType.toUpperCase(),name:e.displayData.displayName,firstName:e.displayData.firstName,lastName:e.displayData.lastName,parties:[],globalInteractionId:e.workitemData.globalInteractionId,serviceId:e.workitemData.serviceId,serviceName:e.workitemData.serviceName,number:e.workitemData.suggestedPhone}}function oJ(e){return x(e,"YYYY-MM-DD HH:mm:ss")}var iJ={onInitialState:{parameters:[]},onChange:{parameters:[]}},sJ={getRecentList:{parameters:[]},addCompletedItem:{parameters:[]},updateInternalChatItem:{parameters:[]},editRecentItem:{parameters:[]},updateInternalGroupChatRecentItems:{parameters:[]},markEmptyInternalGroupChatRecentItemAsRead:{parameters:[]},linkWithContact:{parameters:[]}};function cJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uJ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lJ(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function dJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){lJ(o,r,a,i,s,"next",e)}function s(e){lJ(o,r,a,i,s,"throw",e)}i(void 0)}))}}function fJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e,t,n){return mJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gJ(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},mJ(e,t,n||e)}function gJ(e){return gJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gJ(e)}function hJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pJ(e,t,n[t])}))}return e}function yJ(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function vJ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bJ(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?uJ(e):t;var n}function CJ(e,t){return CJ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},CJ(e,t)}function SJ(e){return function(e){if(Array.isArray(e))return cJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gJ(e);if(t){var a=gJ(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bJ(this,n)}}function IJ(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function OJ(e){return null==e?void 0:e.substring(0,280)}var TJ=v.withPrefix("@RC"),EJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CJ(e,t)}(o,e);var t,n,r,a=wJ(o);function o(){var e;fJ(this,o),pJ(uJ(e=a.apply(this,arguments)),"recentListFetched",!1),pJ(uJ(e),"pendingRequestsCount",0);var t=uJ(e);return pJ(uJ(e),"getRecentList",dJ((function(){var e,n,r;function a(){return o.apply(this,arguments)}function o(){return o=dJ((function(){var e;return IJ(this,(function(t){return e=this,this.groupChatConnector.getStateData().chatListReceived?[2]:[2,new Promise((function(t){var n=e.groupChatConnector.dispenser.subscribe({onChange:function(e){e.chatListReceived&&(t(),n.unsubscribe())}})}))]}))})),o.apply(this,arguments)}return IJ(this,(function(o){switch(o.label){case 0:return t.pendingRequestsCount++,t.produceState((function(e){e.isLoading=Boolean(t.pendingRequestsCount)})),[4,t.transport.dispatch.agent_get_user_data({types:Sb.RECENT})];case 1:return e=o.sent(),t.pendingRequestsCount--,[4,a.call(t)];case 2:return o.sent(),n=t.groupChatConnector.getStateData().items,r=Object.keys(e.data).map((function(t){return e.data[t]})).filter((function(e){return e.type===Sb.RECENT})).map((function(e){return tJ(e.data_id,JSON.parse(e.value))})).filter((function(e){return e.time})).filter((function(e){var t=e.groupChatData;return!t||t.chatId in n})).sort((function(e,t){return t.time.localeCompare(e.time)})),r=t.unshiftNewItems(r),t.updateState((function(e){return yJ(hJ({},e),{recentList:r,isLoading:Boolean(t.pendingRequestsCount)})})),t.recentListFetched||t.onRecentListFetchedFirstTime(),t.recentListFetched=!0,[2]}}))}))),pJ(uJ(e),"unshiftNewItems",(function(t){var n=t[0],r=n&&e.stateData.recentList.filter((function(e){var t;return 1===(null===(t=e.time)||void 0===t?void 0:t.localeCompare(n.time))}));return r&&r.length>0?r.concat(t).slice(0,t.length):t})),pJ(uJ(e),"onRecentListFetchedFirstTime",(function(){"mobile"!==e.platformSpecific.clientType()&&(e.restoreUnfinishedInternalChats(),e.getUnreadPersonalMessages())})),pJ(uJ(e),"getUnreadPersonalMessages",(function(){var t=e.stateData.recentList.reduce((function(e,t){var n=t.contactId;return n&&(wy(t)||Sy(t))&&e.add(n),e}),new Set),n=Array.from(t);n.length&&e.interactionChatStateConnector.dispatch.getUnreadPersonalMessages(n)})),pJ(uJ(e),"onInteractionAccepted",(function(t){if(ly(t)){var n=aJ(t);if(!n)return;var r=(0,C.v4)();e.produceState((function(e){e.recentList.unshift(tJ(r,n))})),e.transport.dispatch.agent_add_user_data({data_id:r,is_system:"0",type:Sb.RECENT,value:JSON.stringify(n)})}})),pJ(uJ(e),"addCompletedItem",(function(t){var n=rJ(t);if(n){var r=(0,C.v4)();e.produceState((function(e){e.recentList.unshift(tJ(r,n))})),e.transport.dispatch.agent_add_user_data({data_id:r,is_system:"0",type:Sb.RECENT,value:JSON.stringify(n)})}})),pJ(uJ(e),"convertIncomingUserDetails",(function(e){var t=Ib(e),n=wb(e);return{userId:e.user_id,firstName:e.firstname,lastName:e.lastname,name:e.login_id,number:t?e.extension:void 0,userType:n?e.user_type:void 0,photoUrl:n?e.photo_url:void 0}})),pJ(uJ(e),"addContactWithUnreadMessages",(function(t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value,u=c.dataId,l=c.itemId,d=c.time,f=c.phone,_=c.contactId;n.push({dataId:u,itemId:l,time:oJ(new Date(d)),duration:"0",direction:"INBOUND",answered:!1,media:"CHAT",type:"extChat",name:"",number:f,parties:[],contactId:_})}}catch(wX){a=!0,o=wX}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e.produceState((function(e){e.recentList=SJ(n).concat(SJ(e.recentList))}))})),pJ(uJ(e),"getUserDetails",(function(t,n){var r=e.transport.dispatch.agent_get_users_details({type:"RECENT",users:p_([t]),user_fields:{0:"user_id",1:"firstname",2:"lastname",3:"login_id",4:"extension"}});r&&r.then((function(t){var r=t.users[0];r&&n(e.convertIncomingUserDetails(r))}))})),pJ(uJ(e),"getGroupChatData",(function(t){return e.groupChatConnector.getStateData().items[t]})),pJ(uJ(e),"addNewInternalChatRecent",(function(t){var n=t.date,r=t.recentList,a=t.userDetails,o=void 0===a?void 0:a,i=t.message,s=void 0===i?void 0:i,c=vJ(t,["date","recentList","userDetails","message"]),u=(0,C.v4)(),l=e.sessionConnector.getStateData(),d=hJ({dataId:u,itemId:u,time:oJ(n),duration:"0",direction:"INBOUND",media:"UNKNOWN",answered:!1,type:"chat",parties:[],lastMessage:s,ownerId:Cw(l,null==o?void 0:o.userType)},o||{},c);e.transport.dispatch.agent_add_user_data({data_id:u,is_system:"0",type:Sb.RECENT,value:JSON.stringify(nJ(d))}),e.updateState((function(e){return yJ(hJ({},e),{recentList:[d].concat(SJ(r))})}))})),pJ(uJ(e),"editRecentItem",(function(t){var n=nJ(t);e.transport.dispatch.agent_update_user_data({data_id:t.dataId,is_system:"0",value:JSON.stringify(n)}),e.updateState((function(n){return yJ(hJ({},n),{recentList:[t].concat(SJ(e.stateData.recentList.filter((function(e){return e.dataId!==t.dataId&&e.time}))))})}))})),pJ(uJ(e),"updateInternalChatItem",(function(t){var n=t.userId,r=t.message,a=t.removedFromACL,o=t.userDetails,i=function(){var t=e.stateData.recentList,i=t.find((function(e){return Iy(e)&&(e.userId===n||e.userId===(null==o?void 0:o.userId))})),s=new Date;if(i){var c=yJ(hJ({},i),{time:oJ(s)});void 0!==r&&(c.lastMessage=r),void 0!==a&&(c.removedFromACL=a),e.editRecentItem(c)}else o?e.addNewInternalChatRecent({date:s,recentList:t,userDetails:o,message:r}):n&&e.getUserDetails(n,(function(n){e.addNewInternalChatRecent({date:s,recentList:t,userDetails:n,message:r})}))};e.stateData.recentList.length?i():e.getRecentList().then(i)})),pJ(uJ(e),"onChangeExternalContact",(function(t){var n=e.getStateData().recentList.find((function(e){return(null==e?void 0:e.number)===(null==t?void 0:t.number)}));n&&(null==n?void 0:n.name)!==t.name&&e.editRecentItem(yJ(hJ({},n),{name:t.name}))})),pJ(uJ(e),"onLogin",(function(){"mobile"!==e.platformSpecific.clientType()?e.getRecentList():e.updateInternalGroupChatRecentItems()})),pJ(uJ(e),"onInteractionCompleted",(function(t){var n=t.item;if("queued"!==t.previousState&&!py(n)&&!ay(n)){var r=ay(n)?e.getGroupChatData(n.groupChatId):void 0;e.addCompletedItem(hJ({item:n,groupChatData:r},e.getLastMessageData(n)))}})),pJ(uJ(e),"getLastMessageData",(function(t){if(ay(t)){var n=e.groupChatConnector.getStateData().items;if(null==n?void 0:n[null==t?void 0:t.groupChatId]){var r,a=null!==(r=Pa(n[t.groupChatId].messages,RH))&&void 0!==r?r:[],o=a[a.length-1];return{lastMessage:OJ(null==o?void 0:o.content),lastMessageAuthor:o.firstName}}return{lastMessage:void 0,lastMessageAuthor:void 0}}if(iy(t)){var i,s,c=null===(i=e.interactionChatStateConnector.getStateData().chatData[Qh(t)])||void 0===i?void 0:i.messages;return{lastMessage:OJ(null===(s=c[c.length-1])||void 0===s?void 0:s.msg)}}return{}})),pJ(uJ(e),"updateInternalGroupChatRecentItems",(function(){var t=e.groupChatConnector.getStateData().items,n=e.groupChatConnector.dispatch.getChatLastMessage;if(e.recentListFetched){var r=e.stateData.recentList,a={};Object.values(t).forEach((function(t){var o=t.chatId;a[o]=!0;var i=e.findRecentItemByGroupChatId(o,r);n({chatId:o}).then((function(n){void 0===i&&void 0===n?e.updateInternalGroupChatItem({groupChatData:t,skipSearchingRecentItem:!0}):(null==n?void 0:n.content)&&e.onInternalGroupChatMessage(o,n)}))})),(null==r?void 0:r.length)&&(null==r||r.forEach((function(t){var n,r;(null==t||null===(n=t.groupChatData)||void 0===n?void 0:n.chatId)&&!(null==a?void 0:a[null==t||null===(r=t.groupChatData)||void 0===r?void 0:r.chatId])&&e.deleteInternalGroupChatItem(t.groupChatData.chatId)})))}})),pJ(uJ(e),"markEmptyInternalGroupChatRecentItemAsRead",(function(t){var n=t&&e.getGroupChatData(t);n&&e.updateInternalGroupChatItem({groupChatData:n})})),pJ(uJ(e),"getLastMessageAuthor",(function(t,n){var r=e.sessionConnector.getStateData().displayNameFormat;return dV(r,t||"",n||"")})),pJ(uJ(e),"findRecentItemByGroupChatId",(function(e,t){var n,r=e&&(null==t?void 0:t.length)&&(null==t?void 0:t.find((function(t){var n;return(null==t||null===(n=t.groupChatData)||void 0===n?void 0:n.chatId)===e})));if((null==r||null===(n=r.groupChatData)||void 0===n?void 0:n.chatId)===e)return r})),pJ(uJ(e),"onInternalGroupChatSystemMessage",(function(t,n){var r=e.getGroupChatData(t);!r||"members_added"!==n.event&&"chat_renamed"!==n.event&&"member_left"!==n.event&&"members_removed"!==n.event||e.updateInternalGroupChatItem({groupChatData:r,sendTime:new Date(n.sendTime)}),"chat_deleted"!==n.event&&"self_member_removed"!==n.event||e.deleteInternalGroupChatItem(t)})),pJ(uJ(e),"onInternalGroupChatMessage",(function(t,n){var r,a=e.getGroupChatData(t),o=null===(r=e.groupChatConnector.getStateData().items[t])||void 0===r?void 0:r.unreadCount;if(a){var i=n.userId,s=new Date(n.sendTime);e.getUserDetails(i,(function(t){var r={time:oJ(s),lastMessage:n.content,lastMessageAuthor:e.getLastMessageAuthor(t.firstName,t.lastName)};e.updateInternalGroupChatItem({groupChatData:yJ(hJ({},a),{unreadCount:o}),sendTime:s,recentItemProps:r})}))}})),pJ(uJ(e),"onChangeInternalGroupChatsUnreadCount",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getGroupChatData(t);r&&e.updateInternalGroupChatItem({groupChatData:yJ(hJ({},r),{unreadCount:n})})})),pJ(uJ(e),"updateInternalGroupChatItem",(function(t){var n=t.groupChatData,r=t.recentItemProps,a=void 0===r?{}:r,o=t.sendTime,i=void 0===o?new Date:o,s=t.skipSearchingRecentItem,c=void 0!==s&&s,u=e.stateData.recentList,l=c?void 0:e.findRecentItemByGroupChatId(n.chatId,u);if(l)e.editRecentItem(hJ(yJ(hJ({},l),{groupChatData:n}),a));else{a.time;var d=vJ(a,["time"]),f=n.createdByFirstName,_=n.createdByLastName,p=n.members.reduce((function(e,t){return SJ(e).concat([{contactId:t.id,userId:t.id,firstName:t.firstName,lastName:t.lastName}])}),[]);e.addNewInternalChatRecent(hJ({media:"CHAT",date:i,recentList:u,groupChatData:(null==n?void 0:n.unreadCount)?n:yJ(hJ({},n),{unreadCount:1}),message:"started a new group chat",lastMessageAuthor:e.getLastMessageAuthor(f,_),parties:p},d))}})),pJ(uJ(e),"deleteInternalGroupChatItem",(function(t){var n=e.stateData.recentList,r=e.findRecentItemByGroupChatId(t,n);(null==r?void 0:r.dataId)&&(e.updateState((function(e){return yJ(hJ({},e),{recentList:n.filter((function(e){return e.dataId!==r.dataId}))})})),e.transport.dispatch.agent_delete_user_data({data_id:r.dataId,is_system:"0"}))})),pJ(uJ(e),"linkWithContact",(function(t,n){var r=e.stateData.recentList.find((function(e){return e.itemId===t}));if(r){var a=nJ(yJ(hJ({},r),{contactId:n}));e.transport.dispatch.agent_update_user_data({data_id:r.dataId,is_system:"0",value:JSON.stringify(a)}),e.produceState((function(e){var r=e.recentList.find((function(e){return e.itemId===t}));Ta(r),r.contactId=n}))}else TJ.warn("You tied to link contact with unknown recent item, recent item id:",t)})),e}return t=o,(n=[{key:"initialize",value:function(){var e=this;this.subscriptions.push(this.fromClientDispenser.subscribe({getRecentList:this.getRecentList,addCompletedItem:this.addCompletedItem,updateInternalChatItem:this.updateInternalChatItem,editRecentItem:this.editRecentItem,updateInternalGroupChatRecentItems:this.updateInternalGroupChatRecentItems,markEmptyInternalGroupChatRecentItemAsRead:this.markEmptyInternalGroupChatRecentItemAsRead,linkWithContact:this.linkWithContact}),this.sessionConnector.dispenser.subscribe({onInitialState:function(t){t.isLoggedIn&&e.onLogin()},onLogin:this.onLogin}),this.interactionStateConnector.dispenser.subscribe({onItemAccepted:this.onInteractionAccepted,onItemCompleted:this.onInteractionCompleted,onWorkitemLinkedWithContact:function(t){var n=t.workitemId,r=t.contactId;e.linkWithContact(n,r)}}),this.interactionInternalChatConnector.dispenser.subscribe({onAgentChat:function(t){var n,r=t.userId,a={userId:r,message:t.message},o=null===(n=e.userDetailsConnector.getStateData().userDetails[r])||void 0===n?void 0:n.data;(null==o?void 0:o.isStatic)&&o.userType&&"internal"!==o.userType&&(a.userDetails={userId:o.userId,name:o.firstName,userType:o.userType,photoUrl:o.photoId}),e.updateInternalChatItem(a)}}),this.interactionChatStateConnector.dispenser.subscribe({onContactsWithUnreadMessagesReceived:function(t){e.addContactWithUnreadMessages(t)}}),this.groupChatConnector.dispenser.subscribe({onSystemMessage:this.onInternalGroupChatSystemMessage,onMessage:this.onInternalGroupChatMessage,onRemoveUnreadCount:this.onChangeInternalGroupChatsUnreadCount}),this.contactsStateConnector.dispenser.subscribe({onChangeExternalContact:this.onChangeExternalContact}))}},{key:"restoreUnfinishedInternalChats",value:function(){var e=this;this.stateData.recentList.forEach((function(t){var n,r,a=(n=t.time,r="minutes",A()().diff(A()(n),r));Iy(t)&&a<=30&&"msteams_channel"!==t.userType&&!t.removedFromACL&&t.userId&&t.firstName&&t.lastName&&e.interactionStateConnector.dispatch.agentChatOpen({userId:t.userId,firstName:t.firstName,lastName:t.lastName,origination:"recent",number:t.number,emiUserType:t.userType,emiPhotoUrl:t.photoUrl})}))}},{key:"cleanup",value:function(){mJ(gJ(o.prototype),"cleanup",this).call(this),this.recentListFetched=!1}},{key:"resetState",value:function(){mJ(gJ(o.prototype),"resetState",this).call(this),this.recentListFetched=!1}}])&&_J(t.prototype,n),r&&_J(t,r),o}(Ts.createBaseStateClass({name:"recentState",controlEvents:sJ,trackerEvents:iJ,options:{synchronized:!0,authorized:!0},getInitialState:function(){return{recentList:[],isLoading:!1}},dependencies:["transport","platformSpecific","sessionConnector","interactionStateConnector","interactionChatStateConnector","groupChatConnector","interactionInternalChatConnector","userDetailsConnector","favoritesConnector","contactsStateConnector"]}));function DJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PJ=function(){function e(t,n,r){var a=this,o=t.sessionConnector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),AJ(this,"sharedConnectors",void 0),AJ(this,"pageConnectors",void 0),AJ(this,"subscriptions",void 0),this.sharedConnectors=n,this.pageConnectors=r,this.subscriptions=[o.dispenser.subscribe({onLogout:function(){return a.resetState()}})]}var t,n,r;return t=e,n=[{key:"cleanup",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),Object.values(this.sharedConnectors).forEach((function(e){return e.cleanup()})),Object.values(this.pageConnectors).forEach((function(e){return e.cleanup()}))}},{key:"resetState",value:function(){Object.values(this.sharedConnectors).forEach((function(e){return e.resetState()})),Object.values(this.pageConnectors).forEach((function(e){return e.resetState()}))}}],r=[{key:"create",value:function(t){var n,r=t.platformSpecific,a=t.currentTabDataProvider,o=t.roleManager,i=t.transport,s=t.localSettings,c=t.sessionConnector,u=t.tabsConnector,l=t.localizationConnector,d=t.modalsConnector,f=t.appConfigConnector,_=t.integrationApiConnector,p=t.timersConnector,m=new Ts({platformSpecific:r,localSettings:s,currentTabDataProvider:a,roleManager:o}),g=m.createState(lF,{transport:i}),h=m.createState(PU,{sessionConnector:c}),y=m.createState(uM,{}),b=m.createState(SM,{transport:i,sessionConnector:c}),C=m.createState(L$,{transport:i,localSettings:s,sessionConnector:c}),S=m.createState(ME,{}),w=m.createState(vN,{transport:i,sessionConnector:c}),I=m.createState(NN,{transport:i,sessionConnector:c}),O=m.createState(J$,{transport:i,appConfigConnector:f}),T=m.createState(LS,{transport:i,sessionConnector:c}),E=m.createState(jx,{transport:i,sessionConnector:c}),D=m.createState(VG,{transport:i,sessionConnector:c,servicesDispositionsConnector:E}),A=m.createState(Jw,{transport:i,platformSpecific:r,sessionConnector:c,userDetailsConnector:O}),P=m.createState(jk,{platformSpecific:r,currentTabDataProvider:a,transport:i,localSettings:s,sessionConnector:c,tabsConnector:u,timersConnector:p,directoryConnector:A,servicesDispositionsConnector:E,prerecordedMessagesConnector:w}),k=m.createState(tv,{transport:i,interactionStateConnector:P}),R=m.createState(DC,{transport:i,sessionConnector:c,interactionStateConnector:P,agentStateConnector:k}),N=m.createState(_A,{transport:i,platformSpecific:r,sessionConnector:c,interactionStateConnector:P}),M=m.createState(qD,{platformSpecific:r,transport:i,localSettings:s,sessionConnector:c,tabsConnector:u,interactionStateConnector:P,localizationConnector:l}),j=m.createState(mz,{interactionStateConnector:P,localizationConnector:l,sessionConnector:c,transport:i}),x=m.createState(iW,{currentTabDataProvider:a,groupChatConnector:j,interactionStateConnector:P,localSettings:s,modalsConnector:d,sessionConnector:c}),L=m.createState(CS,{sessionConnector:c,interactionStateConnector:P}),$=m.createState(DH,{transport:i,sessionConnector:c,contactsStateConnector:L,userDetailsConnector:O}),K=m.createState(EJ,{contactsStateConnector:L,favoritesConnector:$,groupChatConnector:j,interactionChatStateConnector:M,interactionInternalChatConnector:N,interactionStateConnector:P,platformSpecific:r,sessionConnector:c,transport:i,userDetailsConnector:O}),F=m.createState(lx,{transport:i,appConfigConnector:f,sessionConnector:c}),U=m.createState(cK,{transport:i}),q=m.createState(PK,{transport:i,localSettings:s,sessionConnector:c,localizationConnector:l}),B=m.createState(ib,{platformSpecific:r,localSettings:s,sessionConnector:c,tabsConnector:u,timersConnector:p,localizationConnector:l,integrationApiConnector:_,interactionStateConnector:P,interactionInternalChatConnector:N}),G=m.createState(VM,{currentTabDataProvider:a,tabsConnector:u,interactionStateConnector:P,bpClientStateConnector:B,integrationApiConnector:_,sessionConnector:c,localizationConnector:l}),H=m.createState(S$,{transport:i,localSettings:s,sessionConnector:c,interactionStateConnector:P,bpClientStateConnector:B,contactsStateConnector:L}),z=m.createState(Xb,{localSettings:s,transport:i,sessionConnector:c,interactionStateConnector:P,servicesDispositionsConnector:E,timezonesStateConnector:C}),W=m.createState(rN,{sessionConnector:c,interactionStateConnector:P}),V=m.createState(pv,{platformSpecific:r,localizationConnector:l,interactionStateConnector:P,interactionInternalChatConnector:N}),Y=m.createState(qy,{sessionConnector:c,interactionStateConnector:P}),Q=m.createState(ZK,{platformSpecific:r,localSettings:s,sessionConnector:c,interactionStateConnector:P,interactionChatStateConnector:M}),J=m.createState(Wk,{localizationConnector:l,interactionStateConnector:P,userProfileStateConnector:q}),X=m.createState(mI,{localSettings:s,sessionConnector:c}),Z=m.createState(ZN,{currentTabDataProvider:a,sessionConnector:c,interactionStateConnector:P,interactionChatStateConnector:M,remoteAssistStateConnector:y}),ee=m.createState(pB,{sessionConnector:c,calendarAlertConnector:g}),te=m.createState(lV,{appConfigConnector:f,interactionStateConnector:P,localizationConnector:l,localSettings:s,servicesDispositionsConnector:E,sessionConnector:c,userProfileStateConnector:q},{userId:c.getStateData().userId,persistentStorageId:a.get().app}),ne=v.getInnerLogger();Da(n=ne)&&"function"==typeof n.injectBPClientConnector&&"function"==typeof n.injectSessionConnector&&"function"==typeof n.injectCurrentTabDataProvider&&(ne.injectBPClientConnector(B),ne.injectSessionConnector(c),ne.injectCurrentTabDataProvider(a));var re={agentStateConnector:k,bpClientStateConnector:B,calendarAlertStateConnector:g,calendarSettingsStateConnector:h,caseStateConnector:R,didStateConnector:T,directoryStateConnector:A,evaluationStateConnector:S,favoritesStateConnector:$,groupChatConnector:j,homePageStateConnector:D,interactionChatStateConnector:M,interactionInternalChatStateConnector:N,interactionStateConnector:P,prerecordedMessagesStateConnector:w,recentStateConnector:K,recordingStateConnector:I,remoteAssistStateConnector:y,rescueStateConnector:b,screenPopStateConnector:G,serviceDetailsStateConnector:F,servicesDispositionsStateConnector:E,statsStateConnector:H,campaignsStateConnector:z,timezonesStateConnector:C,userDetailsStateConnector:O,userPresenceStateConnector:U,userProfileStateConnector:q},ae={activitiesStateConnector:Y,ariaStatusStateConnector:V,calendarStateConnector:ee,groupChatUIConnector:x,contactsStateConnector:L,emiStateConnector:X,interstateLogicStateConnector:J,kbBridgeConnector:te,predefinedMessageStateConnector:W,remoteAssistLocalStateConnector:Z,webRtcStateConnector:Q},oe=Object.values(re),ie=Object.values(ae);return oe.forEach((function(e){Ki(e),e.start()})),ie.forEach((function(e){Ki(e),e.start()})),Sg(),Sg(),new e(t,re,ae)}}],n&&DJ(t.prototype,n),r&&DJ(t,r),e}();function kJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withinSession,n=void 0!==t&&t;return{kind:"global",type:[],withinSession:n}}function RJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withinSession,n=void 0!==t&&t;return{kind:"user",type:[],withinSession:n}}function NJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withinSession,n=void 0!==t&&t;return{kind:"app",type:[],withinSession:n}}var MJ,jJ={firebaseToken:kJ(),lastConnectedServerAddress:kJ(),loginId:kJ(),pushToken:kJ(),serverCookie:kJ(),serverOrigin:kJ(),tenantUrl:kJ(),userLanguage:kJ(),voipToken:kJ(),sessionId:kJ(),tenantId:kJ(),extension:RJ(),phoneType:RJ(),hardPhoneNumber:RJ(),externalPhoneNumber:RJ(),msTeamsPhoneNumber:RJ(),savedInteractionItems:RJ(),lastInteraction:RJ(),localizedMessages:RJ(),lastUsedMicrophone:RJ(),lastUsedSpeaker:RJ(),mutedScreenRecordings:RJ(),emiLastAccounts:RJ(),countrySelectorRecent:RJ(),countrySelectorValue:RJ(),secondaryTimezone:RJ(),chatCenterSelectedChatId:RJ(),persistentStateKeys:RJ(),defaultPage:NJ(),adcNavigationActivePage:NJ(),adcRecentStateData:NJ(),adcFavoritesStateData:NJ(),adcDirectoryStateData:NJ(),adcDirectoryInternalActiveGroup:NJ({withinSession:!0}),adcDirectoryInternalActiveGroupForSearch:NJ({withinSession:!0}),adLastSelectedService:NJ(),adLastCalledNumber:NJ(),adTouchedService:NJ(),adCommunicatorWidth:NJ(),adParallelInteractionsWidth:NJ(),adParallelInteractions:NJ(),adKBWidth:NJ(),adQueueTableWidth:NJ(),adChatPopupHeight:NJ(),adCommunicatorState:NJ(),adKBState:NJ(),adcLeftPanelOpened:NJ(),adcRightPanelOpened:NJ(),adcDialPadValue:NJ(),adcTransferTabIndex:NJ(),adLastSelectedDIDNumber:NJ(),adSearchActiveTab:NJ(),adNotifyByBrowser:NJ(),adSupervisionShowLoggedOut:NJ(),adSupervisionShowSubTeamOnly:NJ(),adSupervisionSelectedUsers:NJ(),adSupervisionTablesCollapsedGroupIds:NJ(),modals:NJ(),adQMViewType:NJ(),adQMWidth:NJ(),adQMWShowDetails:NJ(),adWallboardDarkTheme:NJ(),adWallboardEditMode:NJ(),adWallboardShowTitleBar:NJ(),adWallboardShowRotation:NJ(),kbTreeViewWidth:NJ(),kbPersistentState:NJ(),adCampaignsListTableCollapsedGroupIds:NJ(),adCampaignDetailsTableCollapsedGroupIds:NJ(),adListsTableCollapsedGroupIds:NJ(),homePageOpenTabsIds:NJ(),homePageActiveTabId:NJ(),homePageUnsavedConfigs:NJ()},xJ="@bpinc/lib-storage:test-item-that-you-should-never-see";try{localStorage.setItem(xJ,xJ),localStorage.removeItem(xJ),MJ=!0}catch(XX){MJ=!1}var LJ=function(e){var t=function(e,t){var n,r=e.getItem(t);if(r)try{n=JSON.parse(r)}catch(XX){}return n};return{getItem:function(n){var r;if(MJ)return e&&(r=t(sessionStorage,n)),r||(r=t(localStorage,n)),r&&r.value},setItem:function(t,n){if(MJ){var r=JSON.stringify({value:n});e&&sessionStorage.setItem(t,r),localStorage.setItem(t,r)}},removeItem:function(e){MJ&&(sessionStorage.removeItem(e),localStorage.removeItem(e))},clear:function(){MJ&&(sessionStorage.clear(),localStorage.clear())},clearExcept:function(e){if(MJ)for(var t,n=0,r=[sessionStorage,localStorage];n<r.length;n++){t=r[n];var a=void 0,o=void 0;for(a=0;a<t.length;a++)(o=t.key(a))&&!e.includes(o)&&t.removeItem(o)}},getExternalItem:function(e){return MJ?t(localStorage,e):null},setExternalItem:function(e,t){MJ&&localStorage.setItem(e,JSON.stringify(t))},removeExternalItem:function(e){MJ&&localStorage.removeItem(e)}}};function $J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KJ(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function FJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){KJ(o,r,a,i,s,"next",e)}function s(e){KJ(o,r,a,i,s,"throw",e)}i(void 0)}))}}function UJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(wX){s=!0,a=wX}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GJ(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(XX){o=[6,XX],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function HJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userId,n=e.appType,r=void 0===n?"ad":n;return t?"@bpinc/".concat(r,"-local-settings-u").concat(t):"@bpinc/".concat(r,"-local-settings-global")}function zJ(e){var t,n=BJ([!1,!0].map((function(t){return LJ(t).getItem(e)||{}})),2),r=n[0],a=n[1];for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&jJ[t]&&jJ[t].withinSession&&Object.assign(r,qJ({},t,a[t]));return{storageName:e,values:r}}function WJ(){return zJ(HJ())}function VJ(e){var t=[],n=[],r=[],a=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;switch(jJ[u].kind){case"global":t.push(u);break;case"user":n.push(u);break;case"app":r.push(u)}}}catch(wX){o=!0,i=wX}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return{globalKeys:t,userKeys:n,appKeys:r}}var YJ=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qJ(this,"appType",void 0),qJ(this,"userId",void 0),qJ(this,"pendingUserIdCallbacks",void 0),this.appType=t,this.userId=void 0,this.pendingUserIdCallbacks=[]}var t,n,r;return t=e,n=[{key:"setCurrentUserId",value:function(e){this.userId=e,e&&this.pendingUserIdCallbacks.forEach((function(e){return e()}))}},{key:"getCurrentUserId",value:function(){return this.userId}},{key:"getUserDependantSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appSpecific,n=void 0!==t&&t,r=this;return FJ((function(){return GJ(this,(function(e){return[2,new Promise((function(e){r.userId?e(zJ(HJ({userId:r.userId,appType:n?r.appType:void 0}))):r.pendingUserIdCallbacks.push((function(){e(zJ(HJ({userId:r.userId,appType:n?r.appType:void 0})))}))}))]}))}))()}},{key:"getUserDependantSettingsSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appSpecific,n=void 0!==t&&t;if(!this.userId)throw Error("Unable to operate with user- or app-setting before authentication");return zJ(HJ({userId:this.userId,appType:n?this.appType:void 0}))}},{key:"getSettingsForName",value:function(e){var t=this;return FJ((function(){return GJ(this,(function(n){switch(jJ[e].kind){case"global":return[2,WJ()];case"user":return[2,t.getUserDependantSettings()];case"app":return[2,t.getUserDependantSettings({appSpecific:!0})]}return[2]}))}))()}},{key:"getSettingsForNameSync",value:function(e){switch(jJ[e].kind){case"global":return WJ();case"user":return this.getUserDependantSettingsSync();case"app":return this.getUserDependantSettingsSync({appSpecific:!0})}}},{key:"get",value:function(e){var t=this;return FJ((function(){return GJ(this,(function(n){switch(n.label){case 0:return[4,t.getSettingsForName(e)];case 1:return[2,n.sent().values[e]]}}))}))()}},{key:"getSettings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this;return FJ((function(){var e,n,a,o,i,s,c,u,l,d,f,_,p,m,g,h,y,v,b,C,S,w,I,O,T,E,D,A;return GJ(this,(function(P){switch(P.label){case 0:return e=VJ(t),n=e.globalKeys,a=e.userKeys,o=e.appKeys,i=n.length?WJ():{storageName:"",values:{}},a.length?[4,r.getUserDependantSettings()]:[3,2];case 1:return c=P.sent(),[3,3];case 2:c={storageName:"",values:{}},P.label=3;case 3:return s=c,o.length?[4,r.getUserDependantSettings({appSpecific:!0})]:[3,5];case 4:return l=P.sent(),[3,6];case 5:l={storageName:"",values:{}},P.label=6;case 6:u=l,d={},f=!0,_=!1,p=void 0;try{for(m=n[Symbol.iterator]();!(f=(g=m.next()).done);f=!0)h=g.value,d[h]=i.values[h]}catch(wX){_=!0,p=wX}finally{try{f||null==m.return||m.return()}finally{if(_)throw p}}y=!0,v=!1,b=void 0;try{for(C=a[Symbol.iterator]();!(y=(S=C.next()).done);y=!0)w=S.value,d[w]=s.values[w]}catch(wX){v=!0,b=wX}finally{try{y||null==C.return||C.return()}finally{if(v)throw b}}I=!0,O=!1,T=void 0;try{for(E=o[Symbol.iterator]();!(I=(D=E.next()).done);I=!0)A=D.value,d[A]=u.values[A]}catch(wX){O=!0,T=wX}finally{try{I||null==E.return||E.return()}finally{if(O)throw T}}return[2,d]}}))}))()}},{key:"set",value:function(e,t){var n=this;return FJ((function(){var r,a,o,i;return GJ(this,(function(s){return a=(r=jJ[e]).withinSession,o=r.kind,i=function(){var r=n.getSettingsForNameSync(e),o=r.storageName,i=r.values;i[e]=t,LJ(a).setItem(o,i)},"global"===o||n.userId?(i(),[2]):[2,new Promise((function(e){n.pendingUserIdCallbacks.push((function(){e(i())}))}))]}))}))()}},{key:"remove",value:function(e){var t=this;return FJ((function(){var n,r,a;return GJ(this,(function(o){switch(o.label){case 0:return[4,t.getSettingsForName(e)];case 1:return n=o.sent(),r=n.storageName,delete(a=n.values)[e],LJ().setItem(r,a),[2]}}))}))()}},{key:"getExternal",value:function(e){return FJ((function(){return GJ(this,(function(t){return[2,LJ().getExternalItem(e)]}))}))()}},{key:"setExternal",value:function(e,t){return LJ().setExternalItem(e,t),Promise.resolve()}},{key:"removeExternal",value:function(e){return LJ().removeExternalItem(e),Promise.resolve()}},{key:"getSync",value:function(e){return this.getSettingsForNameSync(e).values[e]}},{key:"setSync",value:function(e,t){var n=this.getSettingsForNameSync(e),r=n.storageName,a=n.values;a[e]=t;var o=jJ[e].withinSession;return LJ(o).setItem(r,a)}}],n&&UJ(t.prototype,n),r&&UJ(t,r),e}();function QJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JJ(e){return function(e){if(Array.isArray(e))return QJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return QJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XJ(e,t){return["".concat(x(e,"HH:mm:ss.SSS")," ")].concat(JJ(t))}function ZJ(e,t){var n=e.m,r=Go.slice(0,4),a=null==t?void 0:t.get(),o="[tab-".concat(r,"] ");return a&&(o+="[".concat(a.app,"] "),"master"===a.role&&(o+="[".concat(a.role,"] "))),o+=n}function eX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){return function(e){if(Array.isArray(e))return eX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return eX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eX(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var aX="bp-logs-collector",oX=524288,iX=LJ(),sX="nouser",cX={panic:"error",error:"error",warning:"warn",info:"info",debug:"debug"};function uX(e){return!!e&&Da(e)&&"number"==typeof e.lostEntries&&"number"==typeof e.lostUploadEntries&&"number"==typeof e.lostEntriesFixed&&"boolean"==typeof e.uploading&&"number"==typeof e.uploadingTimestamp&&(t=e.storage,null!=(n=Array)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n);var t,n}var lX=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nX(this,"bpClientStateConnector",null),nX(this,"tabDataProvider",null),nX(this,"serverOrigin",""),nX(this,"loginId",null),nX(this,"pendingMessages",[]),nX(this,"tryToUploadLogs",db((function(e){t.addLogInternal(e,"info","Logs: start log uploading...");var n="";e.lostEntries&&(n+="WARNING!  Part of the log was not saved around this time. Number of missing log messages: ".concat(e.lostEntries,"\n\n")),n=e.storage.reduce((function(e,n){return e+"\n\n"+n.logs.map((function(e){return function(e,t){var n=e.l,r=e.t,a=e.m,o=Go.slice(0,4),i=null==t?void 0:t.get(),s="".concat(n.toUpperCase(),"   ").concat(x(r,"YYYY/MM/DD HH:mm:ss.SSS"),"   [tab-").concat(o,"] ");return i&&(s+="[".concat(i.app,"] "),"master"===i.role&&(s+="[".concat(i.role,"] "))),s+a}(e,t.tabDataProvider)})).join("\n")}),n);var r="".concat(t.serverOrigin).concat(vc.uploadLogs,"?").concat(bc({app:"ad_web_new",device:l.browser})),a=new FormData;a.append("file",n),fetch(r,{method:"POST",body:a}).then((function(e){return 200===e.status?e.json():(console.error("logsUpload response with error:",e),{message:e.status})})).then((function(e){"OK"===e.message?t.onUploadSuccess():t.onUploadFailed(JSON.stringify(e))})).catch((function(e){t.onUploadFailed(z(e))})),e.uploading=!0,e.uploadingTimestamp=Date.now(),e.lostEntriesFixed=e.lostEntries,e.storage.forEach((function(e){e.uploading=!0}))}),3e4,{leading:!0})),nX(this,"injectBPClientConnector",(function(e){t.bpClientStateConnector=e,t.pendingMessages.forEach((function(t){var n;(n=e.dispatch).log.apply(n,rX(t))}))})),nX(this,"injectSessionConnector",(function(e){e.dispenser.subscribe({onInitialState:function(e){var n=e.serverOrigin,r=e.loginId;t.serverOrigin=n,t.loginId=null!=r?r:null},onLogin:function(e){var n=e.serverOrigin,r=e.loginId;t.serverOrigin=n,t.loginId=null!=r?r:null},onLogout:function(){t.loginId=null}})})),nX(this,"injectCurrentTabDataProvider",(function(e){t.tabDataProvider=e}))}var t,n,r;return t=e,n=[{key:"handleLogMessage",value:function(e){var t;this.bpClientStateConnector?this.bpClientStateConnector.dispatch.log(e.l,ZJ(e,this.tabDataProvider)):this.pendingMessages.push([e.l,ZJ(e,this.tabDataProvider)]);var n,r=null!==(t=this.loginId)&&void 0!==t?t:sX,a=iX.getExternalItem(aX);uX(a)?n=a:((n={storage:[],lostEntries:0,lostUploadEntries:0,lostEntriesFixed:0,uploading:!1,uploadingTimestamp:0}).storage.push({loginId:r,logs:[],uploading:!1}),this.addLogInternal(n,"error","Unable to parse stored logs from localStorage.".concat(aX)));var o=2*JSON.stringify(n).length;n.storage.length&&n.storage[n.storage.length-1].loginId===r&&!n.storage[n.storage.length-1].uploading||(n.storage.push({loginId:r,logs:[],uploading:!1}),o+=2*(r.length+38)),n.storage[n.storage.length-1].logs.push(e),o+=2*(JSON.stringify(e).length+1);for(var i=r,s=n.storage.length-1;0!==s;--s)if(n.storage[s].loginId!==sX&&i===r&&(i=n.storage[s].loginId),n.storage[s].loginId!==sX&&n.storage[s].loginId!==i){this.addLogInternal(n,"warning","Logs: remove logs left from other user: ".concat(n.storage[s].loginId)),n.storage=n.storage.slice(s+1),o=2*JSON.stringify(n).length;break}for(;o>oX;){if(!n.storage.length){console.error("Logs: Approximate size and actual storage size are not in sync");break}if(n.storage[0].logs.length){var c=n.storage[0].logs.shift();o-=2*(JSON.stringify(c).length+1),n.storage[0].uploading?n.lostUploadEntries++:n.lostEntries++}else{var u=n.storage[0].loginId;n.storage=n.storage.slice(1),o-=2*(u.length+8)}}n.uploading&&Date.now()-n.uploadingTimestamp>6e4&&(n.uploading=!1,n.uploadingTimestamp=0,n.storage.forEach((function(e){e.uploading=!1})),n.lostEntries+=n.lostUploadEntries,n.lostUploadEntries=0),r!==sX&&!n.uploading&&o>491520&&this.tryToUploadLogs(n),iX.setExternalItem(aX,n)}},{key:"onUploadSuccess",value:function(){var e,t=iX.getExternalItem(aX);e=uX(t)?t:{storage:[],lostEntries:0,lostUploadEntries:0,lostEntriesFixed:0,uploading:!1,uploadingTimestamp:0},this.addLogInternal(e,"info","Logs uploaded successfully"),e.uploading=!1,e.uploadingTimestamp=0,e.lostUploadEntries=0,e.lostEntries-=e.lostEntriesFixed,e.lostEntriesFixed=0;for(var n=e.storage.length-1;0!==n;--n)if(e.storage[n].uploading){e.storage=e.storage.slice(n+1);break}iX.setExternalItem(aX,e)}},{key:"onUploadFailed",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=iX.getExternalItem(aX);e=uX(n)?n:{storage:[],lostEntries:0,lostUploadEntries:0,lostEntriesFixed:0,uploading:!1,uploadingTimestamp:0},this.addLogInternal(e,"error","Logs upload: server respond with error: ".concat(t)),e.uploading=!1,e.uploadingTimestamp=0,e.lostEntries+=e.lostUploadEntries,e.lostEntriesFixed=0,e.lostUploadEntries=0,e.storage.forEach((function(e){e.uploading=!1})),iX.setExternalItem(aX,e)}},{key:"addLogInternal",value:function(e,t,n){var r,a={t:Date.now(),m:n,l:t};e.storage[e.storage.length-1].logs.push(a),(r=console)[cX[t]].apply(r,rX(XJ(a.t,[n])))}},{key:"print",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o=n.map((function(e){return"object"==typeof e&&null!==e||"function"==typeof e?JSON.stringify(e):String(e)})).join(" "),i={l:e,t:Date.now(),m:o};this.handleLogMessage(i),(a=console)[cX[e]].apply(a,rX(XJ(i.t,n)))}}],n&&tX(t.prototype,n),r&&tX(t,r),e}();function dX(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function fX(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){dX(o,r,a,i,s,"next",e)}function s(e){dX(o,r,a,i,s,"throw",e)}i(void 0)}))}}function _X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pX(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(XX){o=[6,XX],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var mX=function(){function e(t){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=void 0,(r="appType")in(n=this)?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,this.appType=t,v.info("@tab-id:",Go),v.info("@PlatformSpecific: Set web logger"),v.setInnerLogger(new lX)}var t,n,r;return t=e,(n=[{key:"createLocalSettings",value:function(){return e=this.appType,new YJ(e);var e}},{key:"setServerOrigin",value:function(e){}},{key:"storeServerOrigin",value:function(e){}},{key:"currentServerOrigin",value:function(e){return location.origin}},{key:"unsupportedPhoneTypes",value:function(){return[]}},{key:"clientType",value:function(){return"desktop"}},{key:"addSessionCookie",value:function(e,t){return fX((function(){return pX(this,(function(t){return[2,e]}))}))()}},{key:"isClientBasedSsoEnabled",value:function(){return!0}},{key:"removeSessionCookies",value:function(e){}},{key:"getNotificationTokens",value:function(){return fX((function(){return pX(this,(function(e){return[2,{voipToken:void 0,pushToken:void 0,firebaseToken:void 0}]}))}))()}},{key:"getUserAgent",value:function(){}},{key:"getDeviceName",value:function(){return fX((function(){return pX(this,(function(e){return[2]}))}))()}},{key:"getAppType",value:function(){return"Agent Desktop"}},{key:"getAppVersion",value:function(){return s.build}},{key:"getPlatformType",value:function(){}},{key:"getTimezoneName",value:function(){var e,t;return"undefined"!=typeof Intl?null===(t=Intl.DateTimeFormat())||void 0===t||null===(e=t.resolvedOptions())||void 0===e?void 0:e.timeZone:void 0}},{key:"getDefaultLanguage",value:function(){return navigator.language}}])&&_X(t.prototype,n),r&&_X(t,r),e}();var gX=v.withPrefix("@SW");var hX=function(e,t,n){var r,a,o,i,s,c,u,l,d,f,_,p,m,g,h;return ka({interactionId:t.id,globalInteractionId:null===(r=t.scenarioData)||void 0===r?void 0:r.globalInteractionId,state:t.state,type:t.mediaType,phoneNumber:t.displayData.number,email:t.displayData.email,callDirection:t.direction,callMuted:null!==(p=null===(a=t.callData)||void 0===a?void 0:a.muted)&&void 0!==p&&p,callRecording:null!==(m=t.displayData.isRecording)&&void 0!==m&&m,startTime:t.displayData.deliveredStartTime,endTime:t.displayData.acwStartTime,duration:t.displayData.deliveredStartTime&&t.displayData.acwStartTime&&Math.floor((t.displayData.acwStartTime-t.displayData.deliveredStartTime)/1e3)||void 0,description:ey(t).join("\n"),disposition:null===(i=t.dispositionData)||void 0===i||null===(o=i.disposition)||void 0===o?void 0:o.name,service:null===(s=t.scenarioData)||void 0===s?void 0:s.serviceName,playbackUrl:t.playbackUrl?Sc(e,t.playbackUrl):void 0,recordingUrl:(null===(c=t.scenarioData)||void 0===c?void 0:c.interactionStepId)?Cc(e,t.scenarioData.interactionStepId):void 0,DNIS:null===(u=t.callData)||void 0===u?void 0:u.destination,ANI:null===(l=t.callData)||void 0===l?void 0:l.fromNumber,callParties:(Bh(t)||[]).map((function(e){return{id:e.id,name:e.name,phone:e.phone,userId:e.userId}})),chatParties:(t.chatParties||[]).filter((function(e){return Ep.includes(e.type)})).map((function(e){return{id:e.party_id,type:e.type,name:n(e.first_name||"",e.last_name||""),userId:e.user_id,contactId:e.contact_id,email:e.email,phone:e.phone}})),attachedData:(null===(d=t.scenarioData)||void 0===d?void 0:d.attachedData)||{},origination:t.origination,subject:"",associatedObjects:{list:null!==(g=null===(f=t.associatedObjects)||void 0===f?void 0:f.list)&&void 0!==g?g:[],selected:null!==(h=null===(_=t.associatedObjects)||void 0===_?void 0:_.selected)&&void 0!==h?h:[]}})};function yX(e){return{id:e.id,displayName:e.name,isSupervised:!!e.supervised,usersCount:e.usersCount}}function vX(e){return{id:e.id,name:e.name,useDispositions:e.useDispositions,requireDisposition:e.requireDispositions}}function bX(e){return{id:e.id,number:e.externalNumber.toString(),isSMS:e.isSMS,isVoice:e.isVoice}}function CX(e){return{id:e.id,code:e.code,name:e.name,type:e.type}}function SX(e){return{allowed:e.vncInit,active:e.started,muted:e.muted}}function wX(e,t){return{code:Op[e],name:e,timestamp:Date.now(),message:t||"Message undefined"}}function IX(e,t,n){switch(e){case"auth":switch(t){case 1:return wX("invalid_credentials",n);case 2:return wX("other_user_logged_with_phone",n);case 3:return wX("invalid_token",n);case 4:return wX("user_already_logged_in",n);case 5:return wX("logged_users_limit_reached",n);case 6:return wX("tenant_disabled",n);case 12:return wX("already_logged_in_with_the_same_session",n)}break;case"agentServer":switch(t){case 1:return wX("forced_logout_by_other_client",n);case 2:case 6:return wX("not_enough_privileges",n);case 3:return wX("invalid_request",n);case 4:case 9:return wX("phone_not_registered",n);case 5:return wX("phone_not_in_dial_plan",n);case 7:return wX("forced_logout_by_supervisor",n);case 8:return wX("tenant_disabled",n);case 10:return wX("destination_user_not_logged",n);case 11:return wX("user_disabled_or_deleted",n)}break;case"3pcc":return wX("sip_server_error",n)}return wX("unknown_error",n)}function OX(e){return{canAnswer:!!e.canAnswer,canDial:!!e.canDial,canHold:!!e.canHold,canRetrieve:!!e.canRetrieve}}function TX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DX=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),EX(this,"timeout",void 0),EX(this,"pendingRequests",void 0),this.timeout=t,this.pendingRequests={}}var t,n,r;return t=e,n=[{key:"newPendingRequest",value:function(e,t){var n=this;return new Promise((function(r,a){n.pendingRequests[e]||(n.pendingRequests[e]=[]);var o={id:(0,C.v4)(),resolve:r,reject:a,payload:t},i=n.pendingRequests[e];Ta(i),i.push(o),setTimeout((function(){-1!==i.indexOf(o)&&a("Agent Desktop is unable to complete your "+"request in the specified timeout ".concat(n.timeout," ms"))}),n.timeout)}))}},{key:"resolvePendingRequest",value:function(e,t,n){var r=(this.pendingRequests[e]||[]).find((function(e){return e.id===n}));if(r){var a=this.pendingRequests[e].indexOf(r);-1!==a&&(r.resolve(t),this.pendingRequests[e].splice(a,1))}}},{key:"rejectPendingRequest",value:function(e,t,n){var r=this.pendingRequests[e],a=null==r?void 0:r.find((function(e){return e.id===n}));if(r&&a){var o=r.indexOf(a);-1!==o&&(a.reject(t),r.splice(o,1))}}},{key:"resolveAllPendingRequests",value:function(e,t){var n,r=this;null===(n=this.pendingRequests[e])||void 0===n||n.forEach((function(n){r.resolvePendingRequest(e,t,n.id)}))}},{key:"rejectAllPendingRequests",value:function(e,t){var n,r=this;null===(n=this.pendingRequests[e])||void 0===n||n.forEach((function(n){r.rejectPendingRequest(e,t,n.id)}))}}],n&&TX(t.prototype,n),r&&TX(t,r),e}();function AX(e){return new DX(e)}function PX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){PX(e,t,n[t])}))}return e}var RX={sms:2048,line:5e3,facebook:2e3,nexmo:70,telegram:4096,whatsapp:65536,twitter:280,viber:7e3,web:1e4,wechat:2e4,remoteassist:1e4},NX=function(e,t){return t?e.filter((function(e){return!t.includes(e)})):e};function MX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jX(e,t,n[t])}))}return e}function LX(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function $X(e){return function(e){if(Array.isArray(e))return MX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return MX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MX(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var KX={noChatInService:$p("no_chat_in_service","Selected service has not associated chat entry"),noChannelInService:$p("no_channel_in_service","No service selected or service is not suitable for this action"),noNumber:$p("empty_number","Number is empty"),noService:$p("no_service","Service is required, but not selected"),selfCall:$p("self_call","Recursive call to yourself"),noDIDPermissionsSMS:$p("no_permissions_did_sms","No permissions to start SMS chat with a selected DID number"),noDIDPermissionsCall:$p("no_permissions_did_call","No permissions to start SMS chat with a selected DID number"),messageTooBig:$p("invalid_args","A single message size exceeded its limit")},FX=v.withPrefix("@API_con"),UX=function(e,t,n){var r=e.currentTabDataProvider,a=e.integrationApiConnector,o=e.sessionConnector,i=t.sharedConnectors,s=i.interactionStateConnector.dispatch,c=i.agentStateConnector.dispatch,u=i.directoryStateConnector.dispatch,l=i.servicesDispositionsStateConnector.dispatch,d=i.didStateConnector.dispatch,f=i.bpClientStateConnector.dispatch,_=i.interactionChatStateConnector.dispatch,p=AX(5e3),m={},g={},h={},y={},v={items:[],modalItemIds:[],callPickupNotifications:[],missedCallsAmount:0,isLoaded:!1,agentWelcomeReceived:!1,activeItemId:void 0},b={serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"},C={dispositions:{},services:{},notAssignedServices:{},serviceRequiredForOutboundCall:!1,resetServiceOnOutboundCall:!1,outboundChatChannels:{},allOutboundChatChannels:[],serviceMessengers:{}},S={didNumbers:{}},w={allTimezones:[],favoriteTimezones:[],localTimezone:"",recentSecondaryTimezones:[],secondaryTimezone:""},I={teams:[],categories:[],users:[],teamsWithoutCurrentUser:[],usersWithoutCurrentUser:[],isUsersLoading:!1,isTeamsLoading:!1,categoryEntries:{},searchResults:{},emiCategories:[],emiUsers:{}},O={screenRecording:{vncInit:!1,muted:!1,stopping:!1,muting:!1,started:!1},softphone:{ready:!1},audioDevice:{},isExtensionAvailable:!1,isHelperAppInstanceCreated:!1,isDomainAuthorized:!0,isDomainAuthSupported:!1},T={items:{}},E={isAvailable:!1,integrationKey:null,adapterUrlParams:null,deferredDialData:void 0,pendingAssociatedObjects:{},disableNewInteractionPopup:!1,dialCandidates:[]},D=function(e,t){return Iv(b.displayNameFormat,e,t)},P=function(e,t){var r="call"===e?{skip:["noChatInService"]}:{},a="call"===e?"call":"sms",o=n.current.getService(),i=n.current.getDIDNumber(),s=i?function(e){var t=e.options,n=e.selectedDIDNumber,r=e.didNumbers,a=null!=t?t:{},o=a.skip,i=a.didNumber,s=a.interactionType,c=i||n,u=c&&r[c],l=[];return"call"!==s||!u||u.isVoice||u.isExtension||l.push("noDIDPermissionsCall"),"sms"===s&&u&&!u.isSMS&&l.push("noDIDPermissionsSMS"),NX(l,o)}({options:LX(xX({},r),{interactionType:a}),selectedDIDNumber:i,didNumbers:S.didNumbers}):function(e){var t=e.options,n=e.selectedService,r=e.services,a=e.serviceRequiredForOutboundCall,o=null!=t?t:{},i=o.skip,s=o.service||n,c=[],u=Zh(r,s);return a&&!s&&c.push("noService"),u||c.push("noChatInService"),NX(c,i)}({options:r,selectedService:o,services:C.services,serviceRequiredForOutboundCall:C.serviceRequiredForOutboundCall}),c=$X(s).concat($X(function(e){var t=e.options,n=e.selfPhoneNumber,r=null!=t?t:{},a=r.skip,o=r.number,i=[];return o||i.push("noNumber"),o===n&&i.push("selfCall"),NX(i,a)}({options:{number:t},selfPhoneNumber:b.phoneNumber})));return c.map((function(e){return KX[e]}))},k=function(e){var t=v.items.find((function(e){return e.id===v.activeItemId})),n=e?v.items.find((function(t){return t.id===e})):t;if(!n)throw new Lp("no_interaction",e?'No interaction with id "'.concat(e,'"'):"No active interaction");return n},R=function(e){var t,n=Vh(e);return n?null===(t=T.items[n])||void 0===t?void 0:t.pin:void 0},N=function(e){var t,n=Vh(e);return n?null===(t=T.items[n])||void 0===t?void 0:t.sessionId:void 0},M=function(){if(!b.isLoggedIn)throw new Lp("not_logged_in","You are not logged in")},j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.some((function(e){return!b.privileges[e]})))throw new Lp("not_enough_privileges","Not allowed")},x=function(e){y.state===e.state&&y.notReadyReason===e.notReadyReason&&!!y.reservedForIncomingInteraction==!!e.reservedForIncomingInteraction||a.dispatch.agentStateChange({state:e.state?e.state:"supervising",reservedForIncomingInteraction:!!e.reservedForIncomingInteraction,notReadyReason:e.notReadyReason})},L=i.agentStateConnector.dispenser.subscribe({onInitialState:function(e){x(e),y=xX({},e)},onChange:function(e){var t=xX({},y,e);x(t),y=t}}),$=function(e){v.activeItemId&&!e.activeItemId&&a.dispatch.activeInteractionSwitched(null)},K=function(e){try{if("queued"===e.state)return;if(g[e.id]){var t=v.items.find((function(t){return t.id===e.id})),n=t&&hX(b.serverOrigin,t,D),r=hX(b.serverOrigin,e,D);fa(n,r)||a.dispatch.interactionStateChange(r)}else g[e.id]=!0,m[e.id]=!0,a.dispatch.newInteraction(hX(b.serverOrigin,e,D));if(e.mediaType&&"unknown"!==e.mediaType&&m[e.id]){var o,i=null===(o=E.pendingAssociatedObjects[e.mediaType])||void 0===o?void 0:o.objects;i&&(a.dispatch.removePendingAssociatedObjects(e.mediaType),i.forEach((function(t){s.addAssociatedObject(e.id,t,{force:!0,primary:!1})}))),delete m[e.id]}}catch(wX){FX.error("onInteractionItemChange error:",z(wX))}},F=i.interactionStateConnector.dispenser.subscribe({onInitialState:function(e){m={},g={},h={},e.items.forEach((function(e){return K(e)})),$(e),v=xX({},e)},onChange:function(e){$(e),v=xX({},v,e)},onNewItem:function(e){K(e)},onItemChanged:function(e){K(e)},onItemRemoved:function(e){try{delete m[e.id],delete g[e.id],delete h[e.id];var t,n=hX(b.serverOrigin,e,D);a.dispatch.interactionRemoved(n);var r=function(e,t){var n,r,a,o,i,s,c,u,l,d,f,_,p;return ka({interactionId:t.id,globalInteractionId:null===(n=t.scenarioData)||void 0===n?void 0:n.globalInteractionId,state:t.state,type:t.mediaType,associatedObjects:{list:null!==(f=null===(r=t.associatedObjects)||void 0===r?void 0:r.list)&&void 0!==f?f:[],selected:null!==(_=null===(a=t.associatedObjects)||void 0===a?void 0:a.selected)&&void 0!==_?_:[]},phoneNumber:t.displayData.number,email:t.displayData.email,callDirection:t.direction,startTime:t.displayData.deliveredStartTime,endTime:t.displayData.acwStartTime,duration:t.displayData.deliveredStartTime&&t.displayData.acwStartTime&&Math.floor((t.displayData.acwStartTime-t.displayData.deliveredStartTime)/1e3)||void 0,description:(null!==(p=ey(t))&&void 0!==p?p:[]).join("\n"),disposition:null===(i=t.dispositionData)||void 0===i||null===(o=i.disposition)||void 0===o?void 0:o.name,service:null===(s=t.scenarioData)||void 0===s?void 0:s.serviceName,playbackUrl:t.playbackUrl?Sc(e,t.playbackUrl):void 0,recordingUrl:(null===(c=t.scenarioData)||void 0===c?void 0:c.interactionStepId)?Cc(e,t.scenarioData.interactionStepId):void 0,DNIS:null===(u=t.callData)||void 0===u?void 0:u.destination,ANI:null===(l=t.callData)||void 0===l?void 0:l.fromNumber,attachedData:(null===(d=t.scenarioData)||void 0===d?void 0:d.attachedData)||{},origination:t.origination,subject:"",callParties:[],chatParties:[],callMuted:!1,callRecording:!1})}(null!==(t=E.integrationKey)&&void 0!==t?t:"",e);a.dispatch.saveActivityRecord(r)}catch(wX){FX.error("onItemRemoved error:",z(wX))}},onActivateItemAttempt:function(e){var t=E.integrationKey;if(t){var n=Ey(v.items,e),r=Ey(v.items,v.items.find((function(e){return e.id===v.activeItemId})));n&&n.activeCrmScreen&&n.activeCrmScreen[t]&&n.id!==(null==r?void 0:r.id)&&a.dispatch.showScreen(n.activeCrmScreen[t],e.id)}},onActiveItemChanged:function(e){a.dispatch.activeInteractionSwitched(e.id)}}),U=i.servicesDispositionsStateConnector.dispenser.subscribe({onInitialState:function(e){C=xX({},e)},onChange:function(e){C=xX({},C,e)}}),q=i.didStateConnector.dispenser.subscribe({onInitialState:function(e){S=xX({},e)},onChange:function(e){S=xX({},S,e)}}),B=function(e,t){if(t.phoneDeviceCapabilities){var n=OX(e.phoneDeviceCapabilities),r=OX(t.phoneDeviceCapabilities);n.canRetrieve===r.canRetrieve&&n.canHold===r.canHold&&n.canDial===r.canDial&&n.canAnswer===r.canAnswer||a.dispatch.phoneCapabilitiesChange(r)}!e.loginError&&t.loginError&&p.rejectAllPendingRequests("onLogin",t.loginError)},G=o.dispenser.subscribe({onInitialState:function(e){e.isLoggedIn&&(p.resolveAllPendingRequests("onLogin",void 0),a.dispatch.login({isLoggedIn:!0,agentId:e.userId,username:e.loginId,sessionId:e.sessionId})),B(b,e),b=xX({},e)},onChange:function(e){var t=b;b=xX({},b,e),B(t,b)},onLogin:function(e){p.resolveAllPendingRequests("onLogin",void 0),a.dispatch.login({isLoggedIn:!0,agentId:e.userId,username:e.loginId,sessionId:e.sessionId})},onLogout:function(){a.dispatch.logout()},onServerError:function(e,t,n){a.dispatch.serverError(IX(e,t,n))},onBadCallQualityAlert:function(e,t){a.dispatch.callAudioQualityAlert(e,t)}}),H=i.timezonesStateConnector.dispenser.subscribe({onInitialState:function(e){w=xX({},e)},onChange:function(e){w=xX({},w,e)}}),W=i.directoryStateConnector.dispenser.subscribe({onInitialState:function(e){I=xX({},e)},onChange:function(e){I=xX({},I,e)}}),V=function(e){var t=SX(O.screenRecording),n=SX(e.screenRecording);t.allowed===n.allowed&&t.active===n.active&&t.muted===n.muted||a.dispatch.screenRecordingStateChange(n),O.softphone.ready===e.softphone.ready&&O.softphone.error===e.softphone.error||a.dispatch.softphoneStatusChange(e.softphone.ready,e.softphone.error),O.audioDevice.input===e.audioDevice.input&&O.audioDevice.output===e.audioDevice.output||a.dispatch.audioDeviceChange(e.audioDevice.input,e.audioDevice.output)},Y=i.bpClientStateConnector.dispenser.subscribe({onInitialState:function(e){V(e),O=xX({},e)},onChange:function(e){var t=xX({},O,e);V(t),O=t}}),Q=i.remoteAssistStateConnector.dispenser.subscribe({onInitialState:function(e){T=xX({},e)},onChange:function(e){T=xX({},T,e)}}),J=function(e){E.isAvailable!==e.isAvailable&&r.setIntegrationApiActive(e.isAvailable)},X=a.dispenser.subscribe({onInitialState:function(e){J(e),E=xX({},e)},onChange:function(e){var t=xX({},E,e);J(t),E=t}}),Z=a.dispenser.subscribe({onGetConfig:function(){return"salesforce"===E.integrationKey?Promise.resolve({clickAction:"call"}):Promise.resolve({})},onStartCall:function(e,t){M();var r=E.adapterUrlParams,o=r&&r.deferredDial,i=t.map((function(e){return LX(xX({},e),{source:E.integrationKey||""})}));if(o&&"0"!==o&&n.current.deferredDial&&i.length)return a.dispatch.setDeferredDialData({number:e,objects:i}),n.current.deferredDial(e),Promise.resolve({id:null});var c=P("call",e);if(c.length)throw new Lp(c[0].name,c[0].message);return n.current.showInteractionPage(),s.initiateCall({phone:e,accessNumberId:n.current.getDIDNumber(),serviceId:n.current.getService(),associatedRecords:i,origination:"integration-api"}).then((function(e){var t;return{id:e.id,error:null===(t=e.error)||void 0===t?void 0:t.message}}))},onStartChat:function(e,t,r){M();var o=E.adapterUrlParams,i=o&&o.deferredDial,c=r.map((function(e){return LX(xX({},e),{source:E.integrationKey||""})}));if(i&&"0"!==i&&n.current.deferredDial&&c.length)return a.dispatch.setDeferredDialData({number:t,objects:c}),n.current.deferredDial(t),Promise.resolve({id:null});if("sms"===e){var u=P("smsChat",t);if(u.length)throw new Lp(u[0].name,u[0].message)}var l=s.initiateChat({address:t,channel:e,serviceId:n.current.getService(),accessNumberId:n.current.getDIDNumber(),origination:"integration-api"});return c&&a.dispatch.addPendingAssociatedObjects("chat",c),n.current.showInteractionPage(),l.then((function(e){var t;return{id:e.id,error:null===(t=e.error)||void 0===t?void 0:t.message}}))},onStartEmail:function(e,t){throw M(),new Lp("api_method_not_implemented","Email interactions is not implemented")},onGetAgentState:function(){return M(),Promise.resolve({state:y.state?y.state:"supervising",reservedForIncomingInteraction:!!y.reservedForIncomingInteraction,notReadyReason:y.notReadyReason})},onSetAgentState:function(e,t){var n;if(M(),j("SYS_RECEIVE_AUTOMATICALLY_DISTRIBUTED_CALLS"),"not_ready"===e&&!t)throw new Lp("invalid_args","not_ready state requires notReadyReason to be present");if("not_ready"===e&&t&&!(null===(n=y.notReadyReasons)||void 0===n?void 0:n.includes(t)))throw new Lp("invalid_args",'Unknown not ready reason: "'.concat(t,'"'));return c.setState({state:"supervising"===e?"":e,reason:t}),Promise.resolve()},onSwitchActiveInteraction:function(e){return M(),k(e),s.activateItem(e),Promise.resolve()},onSetVariable:function(e,t,n){M();var r=k(n);return s.setScenarioVariables(jX({},e,t),Qh(r)),Promise.resolve()},onGetVariables:function(e,t){M();var n=k(t);return s.getScenarioVariables({itemId:n.id,variableNames:e})},onLeaveInteraction:function(e){M();var t=k(e),n=t?t.state:"";if("delivered"!==n&&"hold"!==n&&"delivery_pending"!==n&&"IVR"!==n)throw new Lp("not_suitable_state","The interaction is in the '".concat(n,"' state and cannot be terminated."));return s.disconnectItem(t.id),Promise.resolve()},onCompleteInteraction:function(e){var t,n,r,a,o;M();var i,c=k(e),u=(null==c?void 0:c.state)||"",l=(null==c?void 0:c.internalChatData)||"",d=(null===(t=c.scenarioData)||void 0===t?void 0:t.serviceId)||(null===(n=c.workitemData)||void 0===n?void 0:n.serviceId),f=d?null==C?void 0:C.services[d]:void 0,_=null==f?void 0:f.requireDispositions,p=null===(r=c.dispositionData)||void 0===r?void 0:r.disposition,m=null===(o=c.dispositionData)||void 0===o||null===(a=o.disposition)||void 0===a?void 0:a.rescheduleFrom;if(_&&!p)throw new Lp("no_disposition","Cannot complete interaction without a set disposition. It is required.");if(m&&(i=m,A()(i).isBefore()))throw new Lp("invalid_request","Reschedule date is in the past.");if(l&&s.agentChatClose(c.id),!("wrap_up"===u||"wrap_up_hold"===u||c.callData&&"failed"===c.callData.callState||"workitem"===c.mediaType&&"delivered"===u))throw new Lp("not_suitable_state",'The interaction is in the "'.concat(u,'" state and cannot be completed.'));return s.completeItem(c.id),Promise.resolve()},onLeaveAndCompleteInteraction:function(e,t,n){var r,a;M();var o=k(n);if(!["delivered","hold","delivery_pending","IVR"].includes(o.state))throw new Lp("not_suitable_state","The interaction is in the '".concat(o.state,"' state and cannot be terminated."));var i=(null===(r=o.scenarioData)||void 0===r?void 0:r.serviceId)||(null===(a=o.workitemData)||void 0===a?void 0:a.serviceId),c=Object.values(C.services).find((function(e){return e.id===i}));if(!c)throw new Lp("object_not_found",'Unable to get service (id: "'.concat(i,'") info for requested interaction (id: "').concat(o.id,'")'));if(c.requireDispositions&&!e)throw new Lp("no_disposition",'Interaction with service "'.concat(c.name,'" requires disposition'));if(e){var u,l=Object.values(null!==(u=null==C?void 0:C.dispositions[c.id])&&void 0!==u?u:{}).find((function(t){return[t.id,t.code,t.name].includes(e)}));if(!l)throw new Lp("object_not_found",'There is no disposition with id/code/name "'.concat(e,'" for service "').concat(c.name,'"'));s.setDisposition({itemId:o.id,disposition:{id:l.id,name:l.name}})}return t&&s.addNote({itemId:o.id,note:t}),setTimeout((function(){s.disconnectItem(o.id),setTimeout((function(){s.completeItem(o.id)}))})),Promise.resolve()},onGetServicesList:function(){M();var e=Object.values(C.services);return e.length?(l.requestServices(),Promise.resolve(e.map((function(e){return vX(e)})))):l.requestServices().then((function(e){var t;return null!==(t=null==e?void 0:e.map((function(e){return vX(e)})))&&void 0!==t?t:[]}))},onGetService:function(){M();var e=n.current.getService();if(!e)return Promise.resolve(null);var t=C.services[e];if(!t)throw new Lp("object_not_found","Unable to resolve selected service. Try to refresh services list data.");return Promise.resolve(vX(t))},onSetService:function(e){if(M(),null===e)return n.current.setService(),Promise.resolve();var t=Object.values(C.services),r=t.find((function(t){return t.id===e}));if(r)n.current.setService(r.id);else{var a=t.find((function(t){return t.name===e}));if(!a)throw new Lp("object_not_found",'There is no service with id/name "'.concat(e,'"'));n.current.setService(a.id)}return Promise.resolve()},onGetDIDNumbersList:function(){M();var e=Object.values(S.didNumbers);return e.length?(d.requestDIDNumbers(void 0),Promise.resolve(e.map((function(e){return bX(e)})))):d.requestDIDNumbers(b.phoneNumber).then((function(e){var t;return null!==(t=null==e?void 0:e.map((function(e){return bX(e)})))&&void 0!==t?t:[]}))},onGetDIDNumber:function(){M();var e=n.current.getDIDNumber();if(!e)return Promise.resolve(null);var t=S.didNumbers[e];if(!t)throw new Lp("object_not_found","Unable to resolve selected did number. Try to refresh did numbers list data.");return Promise.resolve(bX(t))},onSetDIDNumber:function(e){if(M(),null===e)return n.current.setDIDNumber(),Promise.resolve();var t=Object.values(S.didNumbers),r=t.find((function(t){return t.id===e}));if(r)n.current.setDIDNumber(r.id);else{var a=t.find((function(t){return t.externalNumber.toString()===e}));if(!a)throw new Lp("object_not_found",'There is no DID number with id/number "'.concat(e,'"'));n.current.setDIDNumber(a.id)}return Promise.resolve()},onGetDispositionsList:function(e){var t=e.service,n=e.interactionId;M();var r=t;if(!t){var a,o,i=k(n);r=(null===(a=i.scenarioData)||void 0===a?void 0:a.serviceId)||(null===(o=i.workitemData)||void 0===o?void 0:o.serviceId)}if(!r)throw new Lp("object_not_found","Service associated with active interaction not found");var s=Object.values(C.services);if(s.length){var c=s.find((function(e){return e.id===r||e.name===r}));if(!c)throw new Lp("object_not_found",'There is no service with id/name "'.concat(t,'"'));r=c.id}else l.requestServices();var u=Object.values(C.dispositions[r]||{});return u.length?(l.requestServiceDispositions(r),Promise.resolve(u.map((function(e){return CX(e)})))):l.requestServiceDispositions(r).then((function(e){var t;return null!==(t=null==e?void 0:e.map((function(e){return CX(e)})))&&void 0!==t?t:[]}))},onSetDisposition:function(e,t){var n,r;M();var a,o,i=k(t),c=(null===(n=i.scenarioData)||void 0===n?void 0:n.serviceId)||(null===(r=i.workitemData)||void 0===r?void 0:r.serviceId),u=Object.values(null!==(a=null==C?void 0:C.services)&&void 0!==a?a:{}).find((function(e){return e.id===c}));if(!u)throw new Lp("object_not_found",'Unable to get service (id: "'.concat(c,'") info for requested interaction (id: "').concat(i.id,'")'));var l=Object.values(null!==(o=null==C?void 0:C.dispositions[u.id])&&void 0!==o?o:{}).find((function(t){return[t.id,t.code,t.name].includes(e)}));if(!l)throw new Lp("object_not_found",'There is no disposition with id/code/name "'.concat(e,'" for service "').concat(u.name,'"'));return s.setDisposition({itemId:i.id,disposition:{id:l.id,name:l.name}}),Promise.resolve()},onAddInteractionAssociatedObject:function(e,t){M();var n=k(t),r=LX(xX({},e),{source:E.integrationKey||""});return s.addAssociatedObject(n.id,r),Promise.resolve()},onSetInteractionActiveScreen:function(e,t){M();var n=E.integrationKey;if(null===n)return Promise.resolve();var r=k(t);return s.setActiveCrmScreen(r.id,n,e),Promise.resolve()},onConsultCall:function(e){M();var t=E.adapterUrlParams,r=t&&t.deferredDial;if(r&&"0"!==r&&n.current.deferredDial)n.current.deferredDial(e);else{var a=P("call",e);if(a.length)throw new Lp(a[0].name,a[0].message);s.initiateCall({phone:e,serviceId:n.current.getService(),accessNumberId:n.current.getDIDNumber(),origination:"integration-api"})}return Promise.resolve()},onBlindTransfer:function(e,t,n){M(),j("CAN_TRANSFER");var r=k(n),a=R(r),o=N(r);return h[r.id]=!0,s.updateScreenPopData({itemId:r.id,customData:t,raSessionPin:a,raSessionId:o}),s.blindTransfer({item:r,phone:e}),Promise.resolve()},onTransfer:function(e){M(),j("CAN_TRANSFER");var t=v.activeItemId,n=k(t),r=n.displayData.isConsultCall,a=r?k(r):n,o=R(a),i=N(a);return h[a.id]=!0,s.updateScreenPopData({itemId:a.id,customData:e,raSessionPin:o,raSessionId:i}),s.completeTransfer(),Promise.resolve()},onAddNote:function(e,t){M();var n=k(t);return s.addNote({itemId:n.id,note:e}),Promise.resolve()},onUpdateNote:function(e,t){M();var n=k(t);return s.updateNote({itemId:n.id,note:e}),Promise.resolve()},onReplaceNote:function(e,t){M();var n=k(t);return s.replaceNote({itemId:n.id,note:e}),Promise.resolve()},onLogin:function(e){var t=e.username,n=e.password,r=e.tenant,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(b.isLoggedIn)throw new Lp("not_suitable_state","You are already in logged in state");if(b.isAuthorizing)throw new Lp("not_suitable_state","Login procedure in process now");return a?o.dispatch.forceLogin():o.dispatch.login({loginId:t,password:n,domain:r||location.host}),p.newPendingRequest("onLogin",[{username:t,password:n,tenant:r},a])},onLogout:function(){return M(),o.dispatch.logout(),Promise.resolve()},onSetRescheduleWindow:function(e,t){M();var n=k(t),r=e.timezoneCode;if(r&&!w.allTimezones.find((function(e){return e.id===r})))throw new Lp("object_not_found",'Unknown timezone with code "'.concat(r,'"'));return s.setDispositionReschedule(n.id,{rescheduleTimezone:r,reschedulePhone:e.numberToDial,rescheduleFrom:e.fromTime,rescheduleTo:e.untilTime}),Promise.resolve()},onGetPhoneDevicesList:function(){return M(),Promise.resolve(Oa(b.availablePhoneTypes))},onGetPhoneDevice:function(){M();var e=b.phoneType;if(!e)throw new Lp("logged_without_phone","Selected phone is undefined");return Promise.resolve({type:e,phone:["phone_type_external","phone_type_hard_custom"].includes(e)?b.phoneNumber:void 0})},onSetPhoneDevice:function(e){var t=e.type,n=e.phone;if(M(),!Object.keys(b.availablePhoneTypes).includes(t))throw new Lp("banned",'Phone device "'.concat(t,'" is not available'));return o.dispatch.submitPhoneTypeSelection({phoneType:t,phoneNumber:n}),Promise.resolve()},onGetLoginState:function(){return Promise.resolve({isLoggedIn:b.isLoggedIn||!1,agentId:b.userId,username:b.loginId,sessionId:b.sessionId})},onSendDtmf:function(e,t){var n;M();var r=k(t);if("voice"!==r.mediaType||!(null===(n=r.callData)||void 0===n?void 0:n.callId))throw new Lp("not_suitable_state","Dtmf is applicable only for voice calls, "+'but the interaction "'.concat(r.id,'" is of a type "').concat(r.mediaType,'"'));if("delivered"!==r.state)throw new Lp("not_suitable_state","Dtmf is applicable only for active calls, "+'but the interaction "'.concat(r.id,'" is in the state "').concat(r.state,'"'));return s.sendDtmf({dtmf:e,callId:r.callData.callId}),Promise.resolve()},onAcceptInteraction:function(e){M();var t=k(e);if("delivery_pending"!==t.state)throw new Lp("not_suitable_state",'To be accepted interaction must be in a "delivery_pending" state, '+'but the interaction "'.concat(t.id,'" is in the "').concat(t.state,'" state'));return s.acceptItem(t.id),Promise.resolve()},onRejectInteraction:function(e){M();var t=k(e);if("delivery_pending"!==t.state)throw new Lp("not_suitable_state",'To be rejected interaction must be in a "delivery_pending" state, '+'but the interaction "'.concat(t.id,'" is in the "').concat(t.state,'" state'));return s.rejectItem(t.id),Promise.resolve()},onInviteToCallConference:function(e,t,r){M(),j("CAN_TRANSFER");var a=k(r),o=R(a);return h[a.id]=!0,s.updateScreenPopData({itemId:a.id,customData:t,raSessionPin:o}),s.singleStepConference({phone:e,serviceId:n.current.getService(),accessNumberId:n.current.getDIDNumber()}),Promise.resolve()},onRemoveFromCallConference:function(e,t){M();var n=k(t),r=(n.parties||[]).find((function(t){return t.id===e}));if(!r)throw new Lp("object_not_found",'Could not find party "'.concat(e,'" for the interaction "').concat(n.id,'"'));return s.removeCallParty(r),Promise.resolve()},onDestroyCallConference:function(e){M();var t=k(e);return s.destroyCallConference(t.id),Promise.resolve()},onInviteToChatConference:function(e,t){var n;M();var r=k(t);if(!(null===(n=r.scenarioData)||void 0===n?void 0:n.interactionStepId))throw new Lp("object_not_found",'Could not find interaction step id in the interaction "'.concat(r.id,'"'));_.inviteToChat({itemId:r.scenarioData.interactionStepId,partyId:e})},onRemoveFromChatConference:function(e,t){var n;M();var r=k(t);if(!(null===(n=r.scenarioData)||void 0===n?void 0:n.interactionStepId))throw new Lp("object_not_found",'Could not find interaction step id in the interaction "'.concat(r.id,'"'));var a=(r.chatParties||[]).find((function(t){return t.party_id===e}));if(!a)throw new Lp("object_not_found",'Could not find chat party "'.concat(e,'" for the interaction "').concat(r.id,'"'));_.removePartyFromChat({itemId:r.scenarioData.interactionStepId,partyId:a.party_id})},onMergeAllCallsIntoConference:function(e){M(),k();var t=v.items.find((function(e){var t;return!!(null===(t=e.displayData.hasConsultCalls)||void 0===t?void 0:t.length)}));if(t){var n=R(t);h[t.id]=!0,s.updateScreenPopData({itemId:t.id,customData:e,raSessionPin:n})}return s.mergeAllCallsIntoConference(),Promise.resolve()},onGetTeams:function(){return M(),I.teams.length?(u.getAgentTeams(),Promise.resolve(I.teams.map((function(e){return yX(e)})))):u.getAgentTeams().then((function(e){return e.map((function(e){return yX(e)}))}))},onGetTeamMembers:function(e){if(M(),I.teams.length){if(!I.teams.find((function(t){return t.id===e})))throw new Lp("object_not_found",'Team with id "'.concat(e,'" is not found'))}else u.getAgentTeams();return u.requestTeamUsers(e).then((function(e){return e.map((function(e){return function(e){return{id:e.userId,teamId:e.teamId,phone:e.extension,firstName:e.firstName,lastName:e.lastName,state:e.isLogged?""===e.agentState?"supervising":e.agentState:"offline"}}(e)}))}))},onSetCallHold:function(e,t){M();var n=k(t);return e?s.holdItem(n.id):s.resumeItem(n.id),Promise.resolve()},onSetCallRecording:function(e,t){M();var n=k(t);return e?(j("CAN_START_RECORDING"),s.recordCall(n.id)):(j("CAN_STOP_RECORDING"),s.stopRecordingCall(n.id)),Promise.resolve()},onSetCallMute:function(e,t){M();var n=k(t);return e?s.muteItem(n.id):s.unmuteItem(n.id),Promise.resolve()},onSetScreenRecordingMute:function(e){if(M(),!O.screenRecording.vncInit)throw new Lp("banned","Screen Recording is not allowed for the current user");return f.setScreenRecordingMute(e),Promise.resolve()},onGetScreenRecordingState:function(){return M(),Promise.resolve(SX(O.screenRecording))},onSendChatMessage:function(e,t){M();var n=k(t);if("scenario"===n.itemKind&&"chat"===n.mediaType){var r,a,o=function(e){var t=e.options,n=[];return t.message.length>RX[t.channel]&&n.push("messageTooBig"),NX(n,t.skip)}({options:{message:e,channel:(null===(r=n.externalChatData)||void 0===r?void 0:r.channel)||"sms"}}).map((function(e){return KX[e]}));if(o.length)throw new Lp(o[0].name,o[0].message);var i,s=null===(a=n.scenarioData)||void 0===a?void 0:a.interactionStepId;if(s)_.sendMessage({text:e,type:"message",itemId:s,channel:null===(i=n.externalChatData)||void 0===i?void 0:i.channel});return Promise.resolve()}throw new Lp("invalid_args","Invalid interaction type  for sending chat service. id=".concat(t," kind=").concat(n.itemKind," mediaType=").concat(n.mediaType))},onSuggestChatMessage:function(e,t,r){M();var a=k(r);if("chat"!==a.mediaType)throw new Lp("invalid_args","Interaction isn't a chat. id=".concat(r," mediaType=").concat(a.mediaType));return n.current.setChatMessageSuggestion(e,!!t,a.id),Promise.resolve()},onGetAgentNotReadyReasons:function(){var e;return M(),Promise.resolve(null!==(e=y.notReadyReasons)&&void 0!==e?e:[])},onActivatePage:function(){r.activateTab()},onGetInteractionsState:function(){var e;return M(),{activeInteractionId:null!==(e=v.activeItemId)&&void 0!==e?e:null,interactions:v.items.map((function(e){return hX(b.serverOrigin,e,D)}))}},onSetCallRecordingMute:function(e,t){var n=function(t){t.displayData.isRecording&&(e&&!t.displayData.isRecordingMuted&&s.muteCallRecording(Qh(t)),!e&&t.displayData.isRecordingMuted&&s.unmuteCallRecording(Qh(t)))};(M(),"all"===t)?v.items.forEach(n):n(k(t))},onSetDialCandidates:function(){}});return[L,F,U,q,G,H,W,Y,Q,X,Z]};var qX,BX,GX,HX,zX,WX,VX,YX,QX,JX=function(e,t){var n=void 0,r=void 0;return UX(e,t,{current:{getService:function(){return n},setService:function(e){return n=e},getDIDNumber:function(){return r},setDIDNumber:function(e){return r=e},setChatMessageSuggestion:function(){throw new Lp("api_method_not_implemented","Method could be used only with UI")},showInteractionPage:function(){}}})};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/agent/communicator";if(t&&(e.scope=t,e.scope.endsWith("/")||(e.scope+="/")),"serviceWorker"in navigator){var n=new URL("https://localhost:3000/agent/communicator",window.location.href);if(n.origin!==window.location.origin)return void gX.warn("Service Worker registration failed: PUBLIC_ULR is on a different origin");var r=null!=t?t:"",a="".concat(r,"/ad-service-worker.js");gX.info("Registering Service Worker on ".concat(a," ...")),navigator.serviceWorker.register(a,e).then((function(e){gX.info("Service Worker registration completed. Active =",!!e.active)})).catch((function(e){gX.error("Error during service worker registration:"+z(e))}))}else gX.error("Service Worker is not supported in this browser")}(),qX=new mX("api"),BX="api",QX=Og.create(qX,BX),HX=(GX=QX).integrationApiConnector,zX=GX.sessionConnector,WX=AX(5e3),VX={serverOrigin:"",availablePhoneTypes:{phone_type_none:"1"},privileges:{},audioNotifications:{},phoneDeviceCapabilities:{},isLoggedIn:!1,isLoggedInWithPhoneType:!1,displayNameFormat:"0"},zX.dispenser.subscribe({onInitialState:function(e){e.isLoggedIn&&(WX.resolveAllPendingRequests("onLogin",void 0),HX.dispatch.login({isLoggedIn:!0,agentId:e.userId,username:e.loginId,sessionId:e.sessionId})),!VX.loginError&&e.loginError&&WX.rejectAllPendingRequests("onLogin",e.loginError),VX=kX({},e)},onChange:function(e){var t=VX;VX=kX({},VX,e),!t.loginError&&VX.loginError&&WX.rejectAllPendingRequests("onLogin",VX.loginError)},onLogin:function(e){WX.resolveAllPendingRequests("onLogin",void 0),HX.dispatch.login({isLoggedIn:!0,agentId:e.userId,username:e.loginId,sessionId:e.sessionId})},onServerError:function(e,t,n){HX.dispatch.serverError(IX(e,t,n))}}),YX=function(){throw new Lp("not_logged_in","You are not logged in")},HX.dispenser.subscribe({onLogin:function(e){var t=e.username,n=e.password,r=e.tenant,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(VX.isLoggedIn)throw new Lp("not_suitable_state","You are already in logged in state");if(VX.isAuthorizing)throw new Lp("not_suitable_state","Login procedure in process now");return a?zX.dispatch.forceLogin():zX.dispatch.login({loginId:t,password:n,domain:r||location.host}),WX.newPendingRequest("onLogin",[{username:t,password:n,tenant:r},a])},onGetLoginState:function(){return Promise.resolve({isLoggedIn:VX.isLoggedIn||!1,agentId:VX.userId,username:VX.loginId,sessionId:VX.sessionId})},onLogout:YX,onAcceptInteraction:YX,onAddInteractionAssociatedObject:YX,onAddNote:YX,onBlindTransfer:YX,onCompleteInteraction:YX,onConsultCall:YX,onDestroyCallConference:YX,onGetAgentNotReadyReasons:YX,onGetAgentState:YX,onGetConfig:YX,onGetDIDNumber:YX,onGetDIDNumbersList:YX,onGetDispositionsList:YX,onGetPhoneDevice:YX,onGetPhoneDevicesList:YX,onGetScreenRecordingState:YX,onGetService:YX,onGetServicesList:YX,onGetTeamMembers:YX,onGetTeams:YX,onGetVariables:YX,onInviteToCallConference:YX,onLeaveAndCompleteInteraction:YX,onLeaveInteraction:YX,onMergeAllCallsIntoConference:YX,onRejectInteraction:YX,onRemoveFromCallConference:YX,onReplaceNote:YX,onSendChatMessage:YX,onSendDtmf:YX,onSetAgentState:YX,onSetCallHold:YX,onSetCallMute:YX,onSetCallRecording:YX,onSetDIDNumber:YX,onSetDisposition:YX,onSetInteractionActiveScreen:YX,onSetPhoneDevice:YX,onSetRescheduleWindow:YX,onSetScreenRecordingMute:YX,onSetService:YX,onSetVariable:YX,onSetWidgetMinimized:YX,onStartCall:YX,onStartChat:YX,onStartEmail:YX,onSuggestChatMessage:YX,onSwitchActiveInteraction:YX,onTransfer:YX,onUpdateNote:YX}),QX.sessionConnector.dispenser.subscribe({onLogin:function(){var e=function(e){return PJ.create(e)}(QX);JX(QX,e)}})})()})();
//# sourceMappingURL=bundle.js.map