(()=>{var e={281:(e,n,t)=>{"use strict";t.d(n,{O:()=>C});const r=function(e){for(var n=-1,t=null==e?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r};var i=t(700),o=t(22),a=t(773);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}function p(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d="44px",h="500px",E=function(){if(window.document.currentScript)return window.document.currentScript.src;var e=document.getElementsByTagName("script");return e[e.length-1].src}(),v=a.P.extractURLParams(window.location.href).adcUrl||new URL(E).origin,C=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),l(this,"adcFrame",void 0),l(this,"adcFrameOrigin",void 0),l(this,"pendingMessages",void 0),l(this,"connectionEstablished",void 0),l(this,"adcIsReady",void 0),l(this,"maximizedIframeWidth",h),l(this,"messageHandlers",void 0),l(this,"responseCallbacks",void 0),l(this,"integrationKey",void 0),l(this,"messageLoggers",void 0),l(this,"disableNewInteractionPopup",void 0),this.adcFrame=null,this.adcFrameOrigin="",this.pendingMessages=[],this.integrationKey=t.integrationKey||(0,o.v4)(),this.connectionEstablished=!1,this.adcIsReady=!1,this.messageLoggers=[],this.disableNewInteractionPopup=!!t.disableNewInteractionPopup,this.messageHandlers=r(Object.keys(i.Jt).map((function(e){return[e,[]]}))),this.responseCallbacks=r(i.$4.map((function(e){return[e+i.el,{}]}))),this.prepareAdcIframe(t),this.registerListeners(),this.on("ON_WIDGET_MINIMIZED_CHANGE",(function(e){var t;n.adcFrame&&(e?(n.maximizedIframeWidth=null!==(t=n.adcFrame.getAttribute("width"))&&void 0!==t?t:h,n.adcFrame.setAttribute("width",d)):n.adcFrame.setAttribute("width",n.maximizedIframeWidth))})),this.on("ON_WEB_SCREEN_POP_CUSTOM",(function(){return!1})),this.on("ON_VALIDATE_ASSOCIATED_RECORDS",(function(){return{valid:!0}}))}var n,t,s;return n=e,t=[{key:"injectMessageLogger",value:function(e){this.messageLoggers.push(e)}},{key:"prepareAdcIframe",value:function(e){if(e.adcFrame){var n=e.adcFrame;f(n,HTMLIFrameElement)&&n.src?this.adcFrame=n:console.error("@@@ `adcFrame` is not HTMLIframeElement or it have no `src` attribute.\n","Valid Communicator iframe would be created automatically")}if(!this.adcFrame){var t=null;if(e.mountRoot){var r=e.mountRoot;f(r,HTMLElement)?t=r:console.error("@@@ `mountRoot` is not HTMLElement.\n","Communicator iframe would be mounted to the `document.body` as a fallback scenario")}t||(t=document.body),this.adcFrame=document.createElement("iframe"),this.adcFrame.title="Agent Desktop Communicator",this.adcFrame.id="adc_frame",this.adcFrame.style.border="none",this.adcFrame.allow="microphone; camera; geolocation",this.adcFrame.onerror=function(){console.error("@@@ Adapter failure: unable to load AD Communicator")},e.standalone?(this.adcFrame.width="1px",this.adcFrame.height="1px",this.adcFrame.style.zIndex="-1000",this.adcFrame.style.position="absolute",this.adcFrame.style.top="-1000px",this.adcFrame.style.left="-1000px",this.adcFrame.src=v+"/agent/communicator/no-ui/"+location.search):(this.adcFrame.style.width=h,this.adcFrame.style.height="100%",this.adcFrame.src=v+"/agent/communicator/"+location.search),t.appendChild(this.adcFrame)}this.adcFrameOrigin=new URL(this.adcFrame.src).origin}},{key:"handleIncomingMessage",value:function(e,n,t){var r,o=this;console.log("@@@ Handle: ",e,n,t);var s=this.messageHandlers[e];if(s.length){var u=s.map((function(n){try{return n.apply(void 0,p(t))}catch(r){console.error('@@@ Error in the event "'.concat(e,'" handler:'),r)}}));(null===(r=i.Jt[e])||void 0===r?void 0:r.needResponse)&&a.P.waitResolveAll(u).then((function(t){var r=t.reduce((function(e,n){return"fulfilled"===n.status&&void 0!==n.value&&e.push(n.value),e}),[]),a=r.length?r[r.length-1]:void 0;o.postMessageToAdc({uid:n,type:e+i.el,params:[a]})}))}else{var c;(null===(c=i.Jt[e])||void 0===c?void 0:c.needResponse)&&this.postMessageToAdc({uid:n,type:e+i.el,params:[],noHandlers:!0})}}},{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",(function(n){if(n.origin===e.adcFrameOrigin){var t=n.data||{},r=t.type,o=t.uid,a=t.params;if(r){n.stopImmediatePropagation();try{if("hello"===r){var s;e.messageLoggers.forEach((function(e){return e(r,a)})),e.connectionEstablished=!0;var u={uid:o,type:"hi",params:[e.integrationKey,location.search,e.disableNewInteractionPopup]};if(!(null===(s=e.adcFrame)||void 0===s?void 0:s.contentWindow))throw new Error("adcFrame is not defined - that should not be possible");return e.messageLoggers.forEach((function(e){return e(u.type,u.params)})),void e.adcFrame.contentWindow.postMessage(u,e.adcFrameOrigin)}if("ready"===r)return e.messageLoggers.forEach((function(e){return e(r,a)})),e.adcIsReady=!0,void setTimeout((function(){e.pendingMessages.forEach((function(n){e.postMessageToAdc(n)})),e.pendingMessages=[]}));if(!e.adcIsReady)return;if(Object.keys(i.Jt).includes(r))e.messageLoggers.forEach((function(e){return e(r,a)})),e.handleIncomingMessage(r,o,a);else if(i.w0.includes(r)){e.messageLoggers.forEach((function(e){return e(r,a)}));var c=e.responseCallbacks[r];if(c&&c[o]){var l=c[o];delete c[o],Promise.resolve().then((function(){return l(a)}))}}}catch(p){console.error("@@@ Error: ",f(p,Error)?p.message:"".concat(p))}}}}))}},{key:"runResponseTimeoutWatch",value:function(e,n,t){var r=this;setTimeout((function(){var o=r.responseCallbacks[e+i.el];if(o[n]){delete o[n];var a='Response from Communicator for event "'.concat(e,'" ')+"wasn't received in the specified timeout ".concat(2e4," ms");console.error("@@@ ".concat(a)),t({status:"error",error:{code:6,name:"api_not_answer",message:a}})}}),2e4)}},{key:"postMessageToAdc",value:function(e){null!==this.adcFrame&&this.adcFrame.contentWindow&&this.adcIsReady?(this.messageLoggers.forEach((function(n){return n(e.type,e.params)})),"LOGIN"===e.type?console.log("@@@ ADAPTER SEND MESSAGE: LOGIN"):console.log("@@@ ADAPTER SEND MESSAGE: ",e),this.adcFrame.contentWindow.postMessage(e,this.adcFrameOrigin)):(console.log("@@@ ADAPTER: ADC is not ready, add pending message:",e),this.pendingMessages.push(e))}},{key:"apiCall",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r){var a=(0,o.v4)();n.postMessageToAdc({uid:a,type:e,params:t}),n.responseCallbacks[e+i.el][a]=r,n.runResponseTimeoutWatch(e,a,r)}))}},{key:"getLoginState",value:function(){return this.apiCall("GET_LOGIN_STATE")}},{key:"login",value:function(e,n){return this.apiCall("LOGIN",[e,n])}},{key:"logout",value:function(){return this.apiCall("LOGOUT")}},{key:"getAgentState",value:function(){return this.apiCall("GET_AGENT_STATE")}},{key:"setAgentState",value:function(e,n){return this.apiCall("SET_AGENT_STATE",[e,n])}},{key:"acceptInteraction",value:function(e){return this.apiCall("ACCEPT_INTERACTION",[e])}},{key:"rejectInteraction",value:function(e){return this.apiCall("REJECT_INTERACTION",[e])}},{key:"startCall",value:function(e,n){return this.apiCall("START_CALL",[e,n?f(n,Array)?n:[n]:[]])}},{key:"startChat",value:function(e,n,t){return this.apiCall("START_CHAT",[e,n,t?f(t,Array)?t:[t]:[]])}},{key:"startEmail",value:function(e,n){return this.apiCall("START_EMAIL",[e,n?f(n,Array)?n:[n]:[]])}},{key:"sendDtmf",value:function(e,n){return this.apiCall("SEND_DTMF",[e,n])}},{key:"consultCall",value:function(e){return this.apiCall("CONSULT_CALL",[e])}},{key:"blindTransfer",value:function(e,n,t){return this.apiCall("BLIND_TRANSFER",[e,n,t])}},{key:"transfer",value:function(e){return this.apiCall("TRANSFER",[e])}},{key:"leaveInteraction",value:function(e){return this.apiCall("LEAVE_INTERACTION",[e])}},{key:"completeInteraction",value:function(e){return this.apiCall("COMPLETE_INTERACTION",[e])}},{key:"leaveAndCompleteInteraction",value:function(e,n,t){return this.apiCall("LEAVE_AND_COMPLETE_INTERACTION",[e,n,t])}},{key:"switchActiveInteraction",value:function(e){return this.apiCall("SWITCH_ACTIVE_INTERACTION",[e])}},{key:"inviteToCallConference",value:function(e,n,t){return this.apiCall("INVITE_TO_CALL_CONFERENCE",[e,n,t])}},{key:"removeFromCallConference",value:function(e,n){return this.apiCall("REMOVE_FROM_CALL_CONFERENCE",[e,n])}},{key:"destroyCallConference",value:function(e){return this.apiCall("DESTROY_CALL_CONFERENCE",[e])}},{key:"inviteToChatConference",value:function(e,n){return this.apiCall("INVITE_TO_CHAT_CONFERENCE",[e,n])}},{key:"removeFromChatConference",value:function(e,n){return this.apiCall("REMOVE_FROM_CHAT_CONFERENCE",[e,n])}},{key:"mergeAllCallsIntoConference",value:function(e){return this.apiCall("MERGE_ALL_CALLS_INTO_CONFERENCE",[e])}},{key:"getTeams",value:function(){return this.apiCall("GET_TEAMS")}},{key:"getTeamMembers",value:function(e){return this.apiCall("GET_TEAM_MEMBERS",[e])}},{key:"getServicesList",value:function(){return this.apiCall("GET_SERVICES_LIST")}},{key:"getService",value:function(){return this.apiCall("GET_SERVICE")}},{key:"setService",value:function(e){return this.apiCall("SET_SERVICE",[e])}},{key:"getDIDNumbersList",value:function(){return this.apiCall("GET_DID_LIST")}},{key:"getDIDNumber",value:function(){return this.apiCall("GET_DID")}},{key:"setDIDNumber",value:function(e){return this.apiCall("SET_DID",[e])}},{key:"getDispositionsList",value:function(e){return this.apiCall("GET_DISPOSITIONS_LIST",[e])}},{key:"setDisposition",value:function(e,n){return this.apiCall("SET_DISPOSITION",[e,n])}},{key:"addNote",value:function(e,n){return this.apiCall("ADD_NOTE",[e,n])}},{key:"updateNote",value:function(e,n){return this.apiCall("UPDATE_NOTE",[e,n])}},{key:"replaceNote",value:function(e,n){return this.apiCall("REPLACE_NOTE",[e,n])}},{key:"setRescheduleWindow",value:function(e,n){return this.apiCall("SET_RESCHEDULE",[e,n])}},{key:"getConfig",value:function(){return this.apiCall("GET_CONFIG")}},{key:"setVariable",value:function(e,n,t){return this.apiCall("SET_VARIABLE",[e,n,t])}},{key:"getVariables",value:function(e,n){return this.apiCall("GET_VARIABLES",[e,n])}},{key:"addInteractionAssociatedObject",value:function(e,n){return this.apiCall("ADD_INTERACTION_ASSOCIATED_OBJECT",[e,n])}},{key:"setInteractionActiveScreen",value:function(e,n){return this.apiCall("SET_INTERACTION_ACTIVE_SCREEN",[e,n])}},{key:"getPhoneDevicesList",value:function(){return this.apiCall("GET_PHONE_DEVICES_LIST")}},{key:"getPhoneDevice",value:function(){return this.apiCall("GET_PHONE_DEVICE")}},{key:"setPhoneDevice",value:function(e){return this.apiCall("SET_PHONE_DEVICE",[e])}},{key:"setCallHold",value:function(e,n){return this.apiCall("SET_CALL_HOLD",[e,n])}},{key:"setCallRecording",value:function(e,n){return this.apiCall("SET_CALL_RECORDING",[e,n])}},{key:"setCallMute",value:function(e,n){return this.apiCall("SET_CALL_MUTE",[e,n])}},{key:"setScreenRecordingMute",value:function(e){return this.apiCall("SET_SCREEN_RECORDING_MUTE",[e])}},{key:"getScreenRecordingState",value:function(){return this.apiCall("GET_SCREEN_RECORDING_STATE")}},{key:"setWidgetMinimized",value:function(e){return this.apiCall("SET_WIDGET_MINIMIZED",[e])}},{key:"sendChatMessage",value:function(e,n){return this.apiCall("SEND_CHAT_MESSAGE",[e,n])}},{key:"suggestChatMessage",value:function(e,n,t){return this.apiCall("SUGGEST_CHAT_MESSAGE",[e,n,t])}},{key:"getAgentNotReadyReasons",value:function(){return this.apiCall("GET_AGENT_NOT_READY_REASONS")}},{key:"activatePage",value:function(){return this.apiCall("ACTIVATE_PAGE",[])}},{key:"getInteractionsState",value:function(){return this.apiCall("GET_INTERACTIONS_STATE",[])}},{key:"setCallRecordingMute",value:function(e,n){return this.apiCall("SET_CALL_RECORDING_MUTE",[e,n])}},{key:"setDialCandidates",value:function(e){return this.apiCall("SET_DIAL_CANDIDATES",[e])}},{key:"on",value:function(e,n){this.messageHandlers[e].push(n)}},{key:"remove",value:function(e,n){var t=this.messageHandlers[e].indexOf(n);-1!==t&&this.messageHandlers[e].splice(t,1)}}],t&&c(n.prototype,t),s&&c(n,s),e}();window.brightpattern={AdApi:C}},773:(e,n,t)=>{"use strict";t.d(n,{P:()=>r});var r={extractURLParams:function(e){var n={};if(e)try{var t=e.split("?").slice(1).join("?");if(t.length)t.split("&").reduce((function(e,n){var t=n.split("=");t.length&&(e[decodeURIComponent(t.shift())]=decodeURIComponent(t.join("=")));return e}),n)}catch(r){console.error("Unable to parse URL parameters: ",e)}return n},capitalize:function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))},findLast:function(e,n){for(var t=e.length-1;t>=0;t--)if(n(e[t]))return e[t];return null},shallowObjEqual:function(e,n){for(var t in e)if(!(t in n)||e[t]!==n[t])return!1;for(var r in n)if(!(r in e)||n[r]!==e[r])return!1;return!0},waitResolveAll:function(e){return new Promise((function(n,t){if(e.length){var r=0,i=new Array(e.length);e.map((function(e){return n=e,(null!=(t=Promise)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t)?e:Promise.resolve(e);var n,t})).forEach((function(t,o){t.then((function(e){i[o]={status:"fulfilled",value:e}})).catch((function(e){i[o]={status:"rejected",reason:e}})).finally((function(){++r===e.length&&n(i)}))}))}else n([])}))},startsWithAny:function(e,n){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(e.startsWith(s))return!0}}catch(u){r=!0,i=u}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return!1},splitWords:function(e){return e.trim().split(/(?=[A-Z])/).map((function(e){return e.trim()})).join(" ")}}},700:(e,n,t)=>{"use strict";t.d(n,{$4:()=>i,Jt:()=>o,el:()=>a,w0:()=>s});var r,i=["GET_LOGIN_STATE","LOGIN","LOGOUT","GET_AGENT_STATE","SET_AGENT_STATE","ACCEPT_INTERACTION","REJECT_INTERACTION","START_CALL","START_CHAT","START_EMAIL","SEND_DTMF","CONSULT_CALL","BLIND_TRANSFER","TRANSFER","LEAVE_INTERACTION","COMPLETE_INTERACTION","LEAVE_AND_COMPLETE_INTERACTION","SWITCH_ACTIVE_INTERACTION","INVITE_TO_CALL_CONFERENCE","REMOVE_FROM_CALL_CONFERENCE","DESTROY_CALL_CONFERENCE","INVITE_TO_CHAT_CONFERENCE","REMOVE_FROM_CHAT_CONFERENCE","MERGE_ALL_CALLS_INTO_CONFERENCE","GET_TEAMS","GET_TEAM_MEMBERS","GET_SERVICES_LIST","GET_SERVICE","SET_SERVICE","GET_DID_LIST","GET_DID","SET_DID","GET_DISPOSITIONS_LIST","SET_DISPOSITION","SET_RESCHEDULE","ADD_NOTE","UPDATE_NOTE","REPLACE_NOTE","GET_CONFIG","GET_VARIABLES","SET_VARIABLE","ADD_INTERACTION_ASSOCIATED_OBJECT","SET_INTERACTION_ACTIVE_SCREEN","GET_PHONE_DEVICES_LIST","GET_PHONE_DEVICE","SET_PHONE_DEVICE","SET_CALL_HOLD","SET_CALL_RECORDING","SET_CALL_MUTE","SET_SCREEN_RECORDING_MUTE","GET_SCREEN_RECORDING_STATE","SET_WIDGET_MINIMIZED","SEND_CHAT_MESSAGE","SUGGEST_CHAT_MESSAGE","GET_AGENT_NOT_READY_REASONS","ACTIVATE_PAGE","GET_INTERACTIONS_STATE","SET_CALL_RECORDING_MUTE","SET_DIAL_CANDIDATES"],o={ON_LOGIN:{needResponse:!1},ON_LOGOUT:{needResponse:!1},ON_NEW_INTERACTION:{needResponse:!1},ON_INTERACTION_REMOVED:{needResponse:!1},ON_INTERACTION_STATE_CHANGE:{needResponse:!1},ON_ACTIVE_INTERACTION_SWITCHED:{needResponse:!1},ON_AGENT_STATE_CHANGE:{needResponse:!1},ON_REQUEST_TRANSFER_DATA:{needResponse:!0},ON_LOAD_TRANSFER_DATA:{needResponse:!1},ON_GET_KNOWLEDGE_BASE_FOLDER:{needResponse:!0},ON_SEARCH_KNOWLEDGE_BASE:{needResponse:!0},ON_GET_KNOWLEDGE_BASE_ARTICLE:{needResponse:!0},ON_OPEN_RECORD:{needResponse:!1},ON_SEARCH_RECORDS:{needResponse:!1},ON_SHOW_SCREEN:{needResponse:!1},ON_SCREEN_RECORDING_STATE_CHANGE:{needResponse:!1},ON_WIDGET_MINIMIZED_CHANGE:{needResponse:!1},ON_SERVER_ERROR:{needResponse:!1},ON_SOFTPHONE_STATUS_CHANGE:{needResponse:!1},ON_AUDIO_DEVICE_CHANGE:{needResponse:!1},ON_PHONE_CAPABILITIES_CHANGE:{needResponse:!1},ON_CALL_AUDIO_QUALITY_ALERT:{needResponse:!1},ON_WEB_SCREEN_POP_CUSTOM:{needResponse:!0},ON_SAVE_ACTIVITY_RECORD:{needResponse:!1},ON_VALIDATE_ASSOCIATED_RECORDS:{needResponse:!0},ON_REQUEST_RECORD_INFO:{needResponse:!0},ON_REQUEST_RECORD_ON_SCREEN:{needResponse:!0}},a="_RESPONSE",s=i.map((function(e){return"".concat(e).concat(a)}));(r=o,Object.keys.call(r,r)).filter((function(e){return o[e].needResponse})).map((function(e){return"".concat(e).concat(a)}))},22:(e,n,t)=>{var r=t(481),i=t(426),o=i;o.v1=r,o.v4=i,e.exports=o},725:e=>{for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},157:e=>{var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);e.exports=function(){return n(t),t}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}},481:(e,n,t)=>{var r,i,o=t(157),a=t(725),s=0,u=0;e.exports=function(e,n,t){var c=n&&t||0,l=n||[],f=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==p){var d=o();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),E=void 0!==e.nsecs?e.nsecs:u+1,v=h-s+(E-u)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=E,i=p;var C=(1e4*(268435455&(h+=122192928e5))+E)%4294967296;l[c++]=C>>>24&255,l[c++]=C>>>16&255,l[c++]=C>>>8&255,l[c++]=255&C;var T=h/4294967296*1e4&268435455;l[c++]=T>>>8&255,l[c++]=255&T,l[c++]=T>>>24&15|16,l[c++]=T>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var y=0;y<6;++y)l[c+y]=f[y];return n||a(l)}},426:(e,n,t)=>{var r=t(157),i=t(725);e.exports=function(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var s=0;s<16;++s)n[o+s]=a[s];return n||i(a)}}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";var e=new Promise((function(e,n){var t=document.createElement("script");document.head.insertAdjacentElement("beforeend",t),t.addEventListener("load",e),t.addEventListener("error",n),t.type="text/javascript",t.src="libs/opencti_v47.js"}));function n(e,n,t,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(s){o=[6,s],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var s,u,c,l,f="CSIMIntegrationTest",p="saveActivityObject",d="saveActivityAttribute",h="getCredentials",E="requestPhoneData",v=function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"clickToDialHandlers",void 0),o(this,"focusHandlers",void 0),o(this,"workStartHandlers",void 0),o(this,"apex",{saveActivity:function(e){return n.runApex({apexClass:f,methodName:p,methodParams:e})},saveActivityAttribute:function(e,t,r){var i="objectId=".concat(e,"&key=").concat(t,"&value=").concat(r);return n.runApex({apexClass:f,methodName:d,methodParams:i})},geContactDetails:function(e){return n.runApex({apexClass:f,methodName:h,methodParams:e})},requestPhoneData:function(e,t){var r="objectType=".concat(e,"&objectId=").concat(t);return n.runApex({apexClass:f,methodName:E,methodParams:r})}}),this.clickToDialHandlers=[],this.focusHandlers=[],this.focusHandlers=[],this.workStartHandlers=[],this.registerHandlers(),this.notifyInitializationComplete()}var n,t,s;return n=e,t=[{key:"registerHandlers",value:function(){var e=this;window.sforce.opencti.onClickToDial({listener:function(n){"error"in n?(console.error("clickToDial return error: ",n.error),e.onClickToDial(null,n.error)):e.onClickToDial(n)}}),window.sforce.opencti.onNavigationChange({listener:function(n){e.onNavigationChange(n)}}),window.sforce.opencti.hvs.onWorkStart({listener:function(n){e.onWorkStart(n)}})}},{key:"onClickToDial",value:function(e,n){this.clickToDialHandlers.forEach((function(t){return t(e,n)}))}},{key:"onNavigationChange",value:function(e){this.focusHandlers.forEach((function(n){return n(e)}))}},{key:"onWorkStart",value:function(e){this.workStartHandlers.forEach((function(n){return n(e)}))}},{key:"addOnClickToDialHandler",value:function(e){this.clickToDialHandlers.push(e)}},{key:"addOnNavigationChangeHandler",value:function(e){this.focusHandlers.push(e)}},{key:"addOnWorkStartHandler",value:function(e){this.workStartHandlers.push(e)}},{key:"notifyInitializationComplete",value:function(){window.sforce.opencti.notifyInitializationComplete({callback:function(e){e.success?console.log("notifyInitializationComplete: successful"):console.error("notifyInitializationComplete: error")}})}},{key:"apiCall",value:function(e,n){return new Promise((function(t,r){e(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({callback:function(e){e.success?t(e.returnValue):r(e.errors)}},n))}))}},{key:"disableClickToDial",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.disableClickToDial)]}))}))()}},{key:"enableClickToDial",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.enableClickToDial)]}))}))()}},{key:"getCallCenterSettings",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.getCallCenterSettings)]}))}))()}},{key:"getAppViewInfo",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.getAppViewInfo)]}))}))()}},{key:"getSoftphoneLayout",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.getSoftphoneLayout)]}))}))()}},{key:"completeWork",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.hvs.completeWork,e)]}))}))()}},{key:"isSoftphonePanelVisible",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.isSoftphonePanelVisible).then((function(e){return e.visible}))]}))}))()}},{key:"refreshView",value:function(){var e=this;return r((function(){return a(this,(function(n){return[2,e.apiCall(window.sforce.opencti.refreshView)]}))}))()}},{key:"saveLog",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.saveLog,{value:e})]}))}))()}},{key:"screenPop",value:function(e,n,t){var i=this;return r((function(){return a(this,(function(r){return[2,i.apiCall(window.sforce.opencti.screenPop,{type:e,params:n,defaultFieldValues:t})]}))}))()}},{key:"searchAndScreenPop",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.searchAndScreenPop,e)]}))}))()}},{key:"setSoftphoneItemIcon",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphoneItemIcon,{key:e})]}))}))()}},{key:"setSoftphoneItemLabel",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphoneItemLabel,{label:e})]}))}))()}},{key:"setSoftphonePanelHeight",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphonePanelHeight,{heightPX:e})]}))}))()}},{key:"setSoftphonePanelIcon",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphonePanelIcon,{key:e})]}))}))()}},{key:"setSoftphonePanelLabel",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphonePanelLabel,{label:e})]}))}))()}},{key:"setSoftphonePanelVisibility",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphonePanelVisibility,{visible:e})]}))}))()}},{key:"setSoftphonePanelWidth",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.setSoftphonePanelWidth,{widthPX:e})]}))}))()}},{key:"subscribe",value:function(e,n){return r((function(){return a(this,(function(t){return[2,new Promise((function(t,r){window.sforce.opencti.subscribe({channelName:e,listener:n,callback:function(e){e.success?t(e.subscription):r(e.errors)}})}))]}))}))()}},{key:"unsubscribe",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.unsubscribe,{subscription:e})]}))}))()}},{key:"publish",value:function(e,n){var t=this;return r((function(){return a(this,(function(r){return[2,t.apiCall(window.sforce.opencti.publish,{channelName:e,message:n})]}))}))()}},{key:"runApex",value:function(e){var n=this;return r((function(){return a(this,(function(t){return[2,n.apiCall(window.sforce.opencti.runApex,e).then((function(e){var n=e.runApex;return JSON.parse(n.replaceAll("'",'"')).result}))]}))}))()}}],t&&i(n.prototype,t),s&&i(n,s),e}(),C=t(281),T=t(773);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _(e,n,t,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,i)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))}}function A(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function S(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(s){o=[6,s],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var g=["Contract","Campaign","Account","Asset","Case","Solution","Opportunity"],N=["Contact","Lead"],O={inbound:"Inbound",outbound:"Outbound"},b={voice:"Call",chat:"Chat",email:"Email"},R={Phone:"business",BusinessPhone:"business",MobilePhone:"mobile",HomePhone:"home",Fax:"fax",OtherPhone:"other"},w="@ADAPTER",D=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(s=console).log.apply(s,[w].concat(S(n)))},k=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(u=console).info.apply(u,[w].concat(S(n)))},L=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(c=console).warn.apply(c,[w].concat(S(n)))},P=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(l=console).error.apply(l,[w].concat(S(n)))};e.then((function(){var e=function(e){o&&a?i?t?c.addInteractionAssociatedObject(e):k("Skip opened object: no interaction"):k("Skip opened object: user is not logged in"):k("Skip opened object: adapter not initialized")};D("Salesforce OpenCTI API object:",window.sforce.opencti);var n,t=null,r=null,i=!1,o=!1,a=!1,s=null,u=new v,c=new C.O({integrationKey:"salesforce"});k("Initialize Adapter"),u.setSoftphonePanelHeight(800).catch((function(e){return P("setSoftphonePanelHeight error:",e)})),u.setSoftphonePanelWidth(502).catch((function(e){return P("setSoftphonePanelWidth error:",e)})),u.setSoftphonePanelVisibility(!0).catch((function(e){return P("setSoftphonePanelVisibility error:",e)})),u.getCallCenterSettings().then((function(e){k("sfConfig:",s=e)})).catch((function(e){return P("getCallCenterSettings error:",e)})),c.on("ON_LOGIN",(function(e){i=e.isLoggedIn,u.enableClickToDial().catch((function(e){return P("enableClickToDial error:",e)}))})),c.on("ON_LOGOUT",(function(){i=!1,u.disableClickToDial().catch((function(e){return P("disableClickToDial error:",e)}))})),c.getLoginState().then((function(e){"success"===e.status?(k("Initial login state:",e.data),i=e.data.isLoggedIn,o=!0):L("Unable to get login state:",e.error)})),c.getInteractionsState().then((function(e){"success"===e.status?(k("Initial interactions state:",e.data),t=e.data.activeInteractionId,a=!0):("not_logged_in"===e.error.name&&(t=null,a=!0),L("Unable to get interactions state:",e.error))})),c.on("ON_OPEN_RECORD",(n=m((function(e){var n,t,r;return I(this,(function(i){switch(i.label){case 0:n=e.id,k("object screen pop:",n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,u.screenPop("sobject",{recordId:n})];case 2:return t=i.sent(),k('screenPop["sobject"] result:',t),[3,4];case 3:return r=i.sent(),P('screenPop["sobject"] error',r),[3,4];case 4:return[2]}}))})),function(e){return n.apply(this,arguments)})),c.on("ON_SEARCH_RECORDS",function(){var e=m((function(e){var n,t,r;return I(this,(function(i){switch(i.label){case 0:n=e.text,k("search screen pop:",n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,u.screenPop("search",{searchString:n})];case 2:return t=i.sent(),k('screenPop["search"] result:',t),[3,4];case 3:return r=i.sent(),P('screenPop["search"] error:',r),[3,4];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()),c.on("ON_SHOW_SCREEN",function(){var e=m((function(e){var n,t;return I(this,(function(r){switch(r.label){case 0:!function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||!("url"in e))throw Error("Data is not url data: ".concat(JSON.stringify(e)))}(e),k("show screen:",e.url),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.screenPop("url",{url:e.url})];case 2:return n=r.sent(),k('screenPop["url"] result:',n),[3,4];case 3:return t=r.sent(),P('screenPop["url"] error:',t),[3,4];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()),c.on("ON_VALIDATE_ASSOCIATED_RECORDS",(function(e,n){return{valid:!0}})),c.on("ON_REQUEST_RECORD_ON_SCREEN",m((function(){return I(this,(function(e){return[2,null!=r?r:null]}))})));var l=function(){var e=m((function(e){var n,t,r,i,o,a,s,c,l,f,p,d,h,E,v,C,y,_;return I(this,(function(m){switch(m.label){case 0:k("save activity:",e),n=e.associatedObjects,t=n.selected,r=n.list,i=t.reduce((function(e,n){var t=r.find((function(e){return e.id===n}));return t&&e.push(t),e}),[]),o=i.find((function(e){var n;return N.includes(null!==(n=e.type)&&void 0!==n?n:"")})),a=T.P.findLast(r,(function(e){var n;return N.includes(null!==(n=e.type)&&void 0!==n?n:"")})),s=o||a,c=i.find((function(e){var n;return g.includes(null!==(n=e.type)&&void 0!==n?n:"")})),l=T.P.findLast(r,(function(e){var n;return g.includes(null!==(n=e.type)&&void 0!==n?n:"")})),p=(null==(f=c||l)?void 0:f.displayType)||(null==s?void 0:s.displayType),h=p?"".concat(p,": ").concat(e.service):null!==(d=e.service)&&void 0!==d?d:"",y={entityApiName:"Task",ActivityDate:(A=new Date(null!==(E=e.startTime)&&void 0!==E?E:Date.now()),S=A.getTimezoneOffset(),I=new Date(A.getTime()+6e4*S),I.getFullYear()+"-"+("0"+(I.getMonth()+1)).slice(-2)+"-"+("0"+I.getDate()).slice(-2)+" "+("0"+I.getHours()).slice(-2)+":"+("0"+I.getMinutes()).slice(-2)+":"+("0"+I.getSeconds()).slice(-2)),CallDisposition:e.disposition,CallDurationInSeconds:e.duration,CallObject:e.globalInteractionId,CallType:e.callDirection&&O[e.callDirection]||void 0,Description:e.description,Priority:"Normal",Status:"Completed",Subject:h,Type:b[e.type],WhatId:null!==(v=null==f?void 0:f.id)&&void 0!==v?v:void 0,WhoId:null!==(C=null==s?void 0:s.id)&&void 0!==C?C:void 0,BrightPattern__SPRecordingOrTranscriptURL__c:e.recordingUrl},k("SF activity record:",y),m.label=1;case 1:return m.trys.push([1,4,,5]),[4,u.saveLog(y)];case 2:return m.sent(),[4,u.refreshView()];case 3:return m.sent(),[3,5];case 4:return _=m.sent(),P("saveLog error:",_),[3,5];case 5:return[2]}var A,S,I}))}));return function(n){return e.apply(this,arguments)}}();c.on("ON_SAVE_ACTIVITY_RECORD",(function(e){return l(e)})),c.on("ON_ACTIVE_INTERACTION_SWITCHED",(function(e){t=e})),u.addOnNavigationChangeHandler(function(){var n=m((function(n){return I(this,(function(i){var o,a;return k("SF navigation:",n),t&&c.setInteractionActiveScreen({url:n.url}),n.recordId?(r={id:n.recordId,type:n.objectType,displayName:"".concat(n.objectType,": ").concat(n.recordName),displayType:n.objectType,customFields:{isCase:""+g.includes(n.objectType),isContact:""+N.includes(n.objectType)}},e(r),o=r,a=[],u.apex.requestPhoneData(o.type,o.id).then((function(e){if(k("APEX:requestPhoneData result:",e),"string"!=typeof e){var n=e.Id,t=(e.attributes,A(e,["Id","attributes"]));Object.values(t).some((function(e){return!!e}))&&a.push({id:n,displayName:o.displayName,associatedObjects:[o],phones:Object.keys(t).filter((function(e){return!!t[e].trim()})).map((function(e){var n;return{number:t[e],type:null!==(n=R[e])&&void 0!==n?n:"other",displayType:T.P.splitWords(e)}}))})}})).catch((function(e){P("APEX:requestPhoneData catch:",e)})).finally((function(){c.setDialCandidates(a)}))):r=null,function(){if(!s)return[];var e=s["/reqGeneralInfo/muteRecordingUrls"];return e?e.split(",").map((function(e){return e.trim()})).filter((function(e){return e})):[]}().some((function(e){return n.url.includes(e)}))?c.setCallRecordingMute(!0,"all"):c.setCallRecordingMute(!1,"all"),[2]}))}));return function(e){return n.apply(this,arguments)}}()),u.addOnClickToDialHandler(function(){var e=m((function(e,n){var t,r;return I(this,(function(o){switch(o.label){case 0:if(k("SF click-to-dial data:",e),n)return P("SF click-to-dial error:",n),[2];if(!e)return L("SF click-to-dial has empty data!"),[2];if(!i)return[2];t={id:e.recordId,type:e.objectType,displayName:"".concat(e.objectType,": ").concat(e.recordName),displayType:e.objectType,customFields:{isCase:""+g.includes(e.objectType),isContact:""+N.includes(e.objectType)}},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,c.startCall(e.number,t)];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),P("adApi.startCall return error:",r),[3,4];case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}()),c.on("ON_NEW_INTERACTION",function(){var e=m((function(e){var n,t;return I(this,(function(r){switch(r.label){case 0:if(u.isSoftphonePanelVisible().then((function(e){e||u.setSoftphonePanelVisibility(!0).catch((function(e){return P("setSoftphonePanelVisibility error:",e)}))})).catch((function(e){return P("isSoftphonePanelVisible error:",e)})),"dialpad"!==e.origination)return[3,6];console.log("manual call handler for:",e.phoneNumber),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,u.searchAndScreenPop({searchParams:e.phoneNumber,callType:"outbound",deferred:!0})];case 2:return n=r.sent(),console.log("SF search result:",n),n.SCREEN_POP_DATA?[4,u.screenPop(n.SCREEN_POP_DATA.type,n.SCREEN_POP_DATA.params,n.SCREEN_POP_DATA.defaultFieldValues)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return t=r.sent(),P("searchAndScreenPop or screenPop error:",t),[3,6];case 6:return[2]}}))}));return function(n){return e.apply(this,arguments)}}())})).catch((function(e){P("Can't initialize OpenCTI Salesforce Lightning API library:",e)}))})()})();
//# sourceMappingURL=lightning-8806419f9a1df83cbd6f.js.map