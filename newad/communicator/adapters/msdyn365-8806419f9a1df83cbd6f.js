(()=>{var e={281:(e,t,n)=>{"use strict";n.d(t,{O:()=>y});const r=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r};var a=n(700),i=n(22),o=n(773);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p="44px",E="500px",h=function(){if(window.document.currentScript)return window.document.currentScript.src;var e=document.getElementsByTagName("script");return e[e.length-1].src}(),_=o.P.extractURLParams(window.location.href).adcUrl||new URL(h).origin,y=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),l(this,"adcFrame",void 0),l(this,"adcFrameOrigin",void 0),l(this,"pendingMessages",void 0),l(this,"connectionEstablished",void 0),l(this,"adcIsReady",void 0),l(this,"maximizedIframeWidth",E),l(this,"messageHandlers",void 0),l(this,"responseCallbacks",void 0),l(this,"integrationKey",void 0),l(this,"messageLoggers",void 0),l(this,"disableNewInteractionPopup",void 0),this.adcFrame=null,this.adcFrameOrigin="",this.pendingMessages=[],this.integrationKey=n.integrationKey||(0,i.v4)(),this.connectionEstablished=!1,this.adcIsReady=!1,this.messageLoggers=[],this.disableNewInteractionPopup=!!n.disableNewInteractionPopup,this.messageHandlers=r(Object.keys(a.Jt).map((function(e){return[e,[]]}))),this.responseCallbacks=r(a.$4.map((function(e){return[e+a.el,{}]}))),this.prepareAdcIframe(n),this.registerListeners(),this.on("ON_WIDGET_MINIMIZED_CHANGE",(function(e){var n;t.adcFrame&&(e?(t.maximizedIframeWidth=null!==(n=t.adcFrame.getAttribute("width"))&&void 0!==n?n:E,t.adcFrame.setAttribute("width",p)):t.adcFrame.setAttribute("width",t.maximizedIframeWidth))})),this.on("ON_WEB_SCREEN_POP_CUSTOM",(function(){return!1})),this.on("ON_VALIDATE_ASSOCIATED_RECORDS",(function(){return{valid:!0}}))}var t,n,s;return t=e,n=[{key:"injectMessageLogger",value:function(e){this.messageLoggers.push(e)}},{key:"prepareAdcIframe",value:function(e){if(e.adcFrame){var t=e.adcFrame;d(t,HTMLIFrameElement)&&t.src?this.adcFrame=t:console.error("@@@ `adcFrame` is not HTMLIframeElement or it have no `src` attribute.\n","Valid Communicator iframe would be created automatically")}if(!this.adcFrame){var n=null;if(e.mountRoot){var r=e.mountRoot;d(r,HTMLElement)?n=r:console.error("@@@ `mountRoot` is not HTMLElement.\n","Communicator iframe would be mounted to the `document.body` as a fallback scenario")}n||(n=document.body),this.adcFrame=document.createElement("iframe"),this.adcFrame.title="Agent Desktop Communicator",this.adcFrame.id="adc_frame",this.adcFrame.style.border="none",this.adcFrame.allow="microphone; camera; geolocation",this.adcFrame.onerror=function(){console.error("@@@ Adapter failure: unable to load AD Communicator")},e.standalone?(this.adcFrame.width="1px",this.adcFrame.height="1px",this.adcFrame.style.zIndex="-1000",this.adcFrame.style.position="absolute",this.adcFrame.style.top="-1000px",this.adcFrame.style.left="-1000px",this.adcFrame.src=_+"/agent/communicator/no-ui/"+location.search):(this.adcFrame.style.width=E,this.adcFrame.style.height="100%",this.adcFrame.src=_+"/agent/communicator/"+location.search),n.appendChild(this.adcFrame)}this.adcFrameOrigin=new URL(this.adcFrame.src).origin}},{key:"handleIncomingMessage",value:function(e,t,n){var r,i=this;console.log("@@@ Handle: ",e,t,n);var s=this.messageHandlers[e];if(s.length){var c=s.map((function(t){try{return t.apply(void 0,f(n))}catch(r){console.error('@@@ Error in the event "'.concat(e,'" handler:'),r)}}));(null===(r=a.Jt[e])||void 0===r?void 0:r.needResponse)&&o.P.waitResolveAll(c).then((function(n){var r=n.reduce((function(e,t){return"fulfilled"===t.status&&void 0!==t.value&&e.push(t.value),e}),[]),o=r.length?r[r.length-1]:void 0;i.postMessageToAdc({uid:t,type:e+a.el,params:[o]})}))}else{var u;(null===(u=a.Jt[e])||void 0===u?void 0:u.needResponse)&&this.postMessageToAdc({uid:t,type:e+a.el,params:[],noHandlers:!0})}}},{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===e.adcFrameOrigin){var n=t.data||{},r=n.type,i=n.uid,o=n.params;if(r){t.stopImmediatePropagation();try{if("hello"===r){var s;e.messageLoggers.forEach((function(e){return e(r,o)})),e.connectionEstablished=!0;var c={uid:i,type:"hi",params:[e.integrationKey,location.search,e.disableNewInteractionPopup]};if(!(null===(s=e.adcFrame)||void 0===s?void 0:s.contentWindow))throw new Error("adcFrame is not defined - that should not be possible");return e.messageLoggers.forEach((function(e){return e(c.type,c.params)})),void e.adcFrame.contentWindow.postMessage(c,e.adcFrameOrigin)}if("ready"===r)return e.messageLoggers.forEach((function(e){return e(r,o)})),e.adcIsReady=!0,void setTimeout((function(){e.pendingMessages.forEach((function(t){e.postMessageToAdc(t)})),e.pendingMessages=[]}));if(!e.adcIsReady)return;if(Object.keys(a.Jt).includes(r))e.messageLoggers.forEach((function(e){return e(r,o)})),e.handleIncomingMessage(r,i,o);else if(a.w0.includes(r)){e.messageLoggers.forEach((function(e){return e(r,o)}));var u=e.responseCallbacks[r];if(u&&u[i]){var l=u[i];delete u[i],Promise.resolve().then((function(){return l(o)}))}}}catch(f){console.error("@@@ Error: ",d(f,Error)?f.message:"".concat(f))}}}}))}},{key:"runResponseTimeoutWatch",value:function(e,t,n){var r=this;setTimeout((function(){var i=r.responseCallbacks[e+a.el];if(i[t]){delete i[t];var o='Response from Communicator for event "'.concat(e,'" ')+"wasn't received in the specified timeout ".concat(2e4," ms");console.error("@@@ ".concat(o)),n({status:"error",error:{code:6,name:"api_not_answer",message:o}})}}),2e4)}},{key:"postMessageToAdc",value:function(e){null!==this.adcFrame&&this.adcFrame.contentWindow&&this.adcIsReady?(this.messageLoggers.forEach((function(t){return t(e.type,e.params)})),"LOGIN"===e.type?console.log("@@@ ADAPTER SEND MESSAGE: LOGIN"):console.log("@@@ ADAPTER SEND MESSAGE: ",e),this.adcFrame.contentWindow.postMessage(e,this.adcFrameOrigin)):(console.log("@@@ ADAPTER: ADC is not ready, add pending message:",e),this.pendingMessages.push(e))}},{key:"apiCall",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r){var o=(0,i.v4)();t.postMessageToAdc({uid:o,type:e,params:n}),t.responseCallbacks[e+a.el][o]=r,t.runResponseTimeoutWatch(e,o,r)}))}},{key:"getLoginState",value:function(){return this.apiCall("GET_LOGIN_STATE")}},{key:"login",value:function(e,t){return this.apiCall("LOGIN",[e,t])}},{key:"logout",value:function(){return this.apiCall("LOGOUT")}},{key:"getAgentState",value:function(){return this.apiCall("GET_AGENT_STATE")}},{key:"setAgentState",value:function(e,t){return this.apiCall("SET_AGENT_STATE",[e,t])}},{key:"acceptInteraction",value:function(e){return this.apiCall("ACCEPT_INTERACTION",[e])}},{key:"rejectInteraction",value:function(e){return this.apiCall("REJECT_INTERACTION",[e])}},{key:"startCall",value:function(e,t){return this.apiCall("START_CALL",[e,t?d(t,Array)?t:[t]:[]])}},{key:"startChat",value:function(e,t,n){return this.apiCall("START_CHAT",[e,t,n?d(n,Array)?n:[n]:[]])}},{key:"startEmail",value:function(e,t){return this.apiCall("START_EMAIL",[e,t?d(t,Array)?t:[t]:[]])}},{key:"sendDtmf",value:function(e,t){return this.apiCall("SEND_DTMF",[e,t])}},{key:"consultCall",value:function(e){return this.apiCall("CONSULT_CALL",[e])}},{key:"blindTransfer",value:function(e,t,n){return this.apiCall("BLIND_TRANSFER",[e,t,n])}},{key:"transfer",value:function(e){return this.apiCall("TRANSFER",[e])}},{key:"leaveInteraction",value:function(e){return this.apiCall("LEAVE_INTERACTION",[e])}},{key:"completeInteraction",value:function(e){return this.apiCall("COMPLETE_INTERACTION",[e])}},{key:"leaveAndCompleteInteraction",value:function(e,t,n){return this.apiCall("LEAVE_AND_COMPLETE_INTERACTION",[e,t,n])}},{key:"switchActiveInteraction",value:function(e){return this.apiCall("SWITCH_ACTIVE_INTERACTION",[e])}},{key:"inviteToCallConference",value:function(e,t,n){return this.apiCall("INVITE_TO_CALL_CONFERENCE",[e,t,n])}},{key:"removeFromCallConference",value:function(e,t){return this.apiCall("REMOVE_FROM_CALL_CONFERENCE",[e,t])}},{key:"destroyCallConference",value:function(e){return this.apiCall("DESTROY_CALL_CONFERENCE",[e])}},{key:"inviteToChatConference",value:function(e,t){return this.apiCall("INVITE_TO_CHAT_CONFERENCE",[e,t])}},{key:"removeFromChatConference",value:function(e,t){return this.apiCall("REMOVE_FROM_CHAT_CONFERENCE",[e,t])}},{key:"mergeAllCallsIntoConference",value:function(e){return this.apiCall("MERGE_ALL_CALLS_INTO_CONFERENCE",[e])}},{key:"getTeams",value:function(){return this.apiCall("GET_TEAMS")}},{key:"getTeamMembers",value:function(e){return this.apiCall("GET_TEAM_MEMBERS",[e])}},{key:"getServicesList",value:function(){return this.apiCall("GET_SERVICES_LIST")}},{key:"getService",value:function(){return this.apiCall("GET_SERVICE")}},{key:"setService",value:function(e){return this.apiCall("SET_SERVICE",[e])}},{key:"getDIDNumbersList",value:function(){return this.apiCall("GET_DID_LIST")}},{key:"getDIDNumber",value:function(){return this.apiCall("GET_DID")}},{key:"setDIDNumber",value:function(e){return this.apiCall("SET_DID",[e])}},{key:"getDispositionsList",value:function(e){return this.apiCall("GET_DISPOSITIONS_LIST",[e])}},{key:"setDisposition",value:function(e,t){return this.apiCall("SET_DISPOSITION",[e,t])}},{key:"addNote",value:function(e,t){return this.apiCall("ADD_NOTE",[e,t])}},{key:"updateNote",value:function(e,t){return this.apiCall("UPDATE_NOTE",[e,t])}},{key:"replaceNote",value:function(e,t){return this.apiCall("REPLACE_NOTE",[e,t])}},{key:"setRescheduleWindow",value:function(e,t){return this.apiCall("SET_RESCHEDULE",[e,t])}},{key:"getConfig",value:function(){return this.apiCall("GET_CONFIG")}},{key:"setVariable",value:function(e,t,n){return this.apiCall("SET_VARIABLE",[e,t,n])}},{key:"getVariables",value:function(e,t){return this.apiCall("GET_VARIABLES",[e,t])}},{key:"addInteractionAssociatedObject",value:function(e,t){return this.apiCall("ADD_INTERACTION_ASSOCIATED_OBJECT",[e,t])}},{key:"setInteractionActiveScreen",value:function(e,t){return this.apiCall("SET_INTERACTION_ACTIVE_SCREEN",[e,t])}},{key:"getPhoneDevicesList",value:function(){return this.apiCall("GET_PHONE_DEVICES_LIST")}},{key:"getPhoneDevice",value:function(){return this.apiCall("GET_PHONE_DEVICE")}},{key:"setPhoneDevice",value:function(e){return this.apiCall("SET_PHONE_DEVICE",[e])}},{key:"setCallHold",value:function(e,t){return this.apiCall("SET_CALL_HOLD",[e,t])}},{key:"setCallRecording",value:function(e,t){return this.apiCall("SET_CALL_RECORDING",[e,t])}},{key:"setCallMute",value:function(e,t){return this.apiCall("SET_CALL_MUTE",[e,t])}},{key:"setScreenRecordingMute",value:function(e){return this.apiCall("SET_SCREEN_RECORDING_MUTE",[e])}},{key:"getScreenRecordingState",value:function(){return this.apiCall("GET_SCREEN_RECORDING_STATE")}},{key:"setWidgetMinimized",value:function(e){return this.apiCall("SET_WIDGET_MINIMIZED",[e])}},{key:"sendChatMessage",value:function(e,t){return this.apiCall("SEND_CHAT_MESSAGE",[e,t])}},{key:"suggestChatMessage",value:function(e,t,n){return this.apiCall("SUGGEST_CHAT_MESSAGE",[e,t,n])}},{key:"getAgentNotReadyReasons",value:function(){return this.apiCall("GET_AGENT_NOT_READY_REASONS")}},{key:"activatePage",value:function(){return this.apiCall("ACTIVATE_PAGE",[])}},{key:"getInteractionsState",value:function(){return this.apiCall("GET_INTERACTIONS_STATE",[])}},{key:"setCallRecordingMute",value:function(e,t){return this.apiCall("SET_CALL_RECORDING_MUTE",[e,t])}},{key:"setDialCandidates",value:function(e){return this.apiCall("SET_DIAL_CANDIDATES",[e])}},{key:"on",value:function(e,t){this.messageHandlers[e].push(t)}},{key:"remove",value:function(e,t){var n=this.messageHandlers[e].indexOf(t);-1!==n&&this.messageHandlers[e].splice(n,1)}}],n&&u(t.prototype,n),s&&u(t,s),e}();window.brightpattern={AdApi:y}},773:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var r={extractURLParams:function(e){var t={};if(e)try{var n=e.split("?").slice(1).join("?");if(n.length)n.split("&").reduce((function(e,t){var n=t.split("=");n.length&&(e[decodeURIComponent(n.shift())]=decodeURIComponent(n.join("=")));return e}),t)}catch(r){console.error("Unable to parse URL parameters: ",e)}return t},capitalize:function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))},findLast:function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null},shallowObjEqual:function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;return!0},waitResolveAll:function(e){return new Promise((function(t,n){if(e.length){var r=0,a=new Array(e.length);e.map((function(e){return t=e,(null!=(n=Promise)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e:Promise.resolve(e);var t,n})).forEach((function(n,i){n.then((function(e){a[i]={status:"fulfilled",value:e}})).catch((function(e){a[i]={status:"rejected",reason:e}})).finally((function(){++r===e.length&&t(a)}))}))}else t([])}))},startsWithAny:function(e,t){var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(e.startsWith(s))return!0}}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return!1},splitWords:function(e){return e.trim().split(/(?=[A-Z])/).map((function(e){return e.trim()})).join(" ")}}},700:(e,t,n)=>{"use strict";n.d(t,{$4:()=>a,Jt:()=>i,S7:()=>c,el:()=>o,w0:()=>s});var r,a=["GET_LOGIN_STATE","LOGIN","LOGOUT","GET_AGENT_STATE","SET_AGENT_STATE","ACCEPT_INTERACTION","REJECT_INTERACTION","START_CALL","START_CHAT","START_EMAIL","SEND_DTMF","CONSULT_CALL","BLIND_TRANSFER","TRANSFER","LEAVE_INTERACTION","COMPLETE_INTERACTION","LEAVE_AND_COMPLETE_INTERACTION","SWITCH_ACTIVE_INTERACTION","INVITE_TO_CALL_CONFERENCE","REMOVE_FROM_CALL_CONFERENCE","DESTROY_CALL_CONFERENCE","INVITE_TO_CHAT_CONFERENCE","REMOVE_FROM_CHAT_CONFERENCE","MERGE_ALL_CALLS_INTO_CONFERENCE","GET_TEAMS","GET_TEAM_MEMBERS","GET_SERVICES_LIST","GET_SERVICE","SET_SERVICE","GET_DID_LIST","GET_DID","SET_DID","GET_DISPOSITIONS_LIST","SET_DISPOSITION","SET_RESCHEDULE","ADD_NOTE","UPDATE_NOTE","REPLACE_NOTE","GET_CONFIG","GET_VARIABLES","SET_VARIABLE","ADD_INTERACTION_ASSOCIATED_OBJECT","SET_INTERACTION_ACTIVE_SCREEN","GET_PHONE_DEVICES_LIST","GET_PHONE_DEVICE","SET_PHONE_DEVICE","SET_CALL_HOLD","SET_CALL_RECORDING","SET_CALL_MUTE","SET_SCREEN_RECORDING_MUTE","GET_SCREEN_RECORDING_STATE","SET_WIDGET_MINIMIZED","SEND_CHAT_MESSAGE","SUGGEST_CHAT_MESSAGE","GET_AGENT_NOT_READY_REASONS","ACTIVATE_PAGE","GET_INTERACTIONS_STATE","SET_CALL_RECORDING_MUTE","SET_DIAL_CANDIDATES"],i={ON_LOGIN:{needResponse:!1},ON_LOGOUT:{needResponse:!1},ON_NEW_INTERACTION:{needResponse:!1},ON_INTERACTION_REMOVED:{needResponse:!1},ON_INTERACTION_STATE_CHANGE:{needResponse:!1},ON_ACTIVE_INTERACTION_SWITCHED:{needResponse:!1},ON_AGENT_STATE_CHANGE:{needResponse:!1},ON_REQUEST_TRANSFER_DATA:{needResponse:!0},ON_LOAD_TRANSFER_DATA:{needResponse:!1},ON_GET_KNOWLEDGE_BASE_FOLDER:{needResponse:!0},ON_SEARCH_KNOWLEDGE_BASE:{needResponse:!0},ON_GET_KNOWLEDGE_BASE_ARTICLE:{needResponse:!0},ON_OPEN_RECORD:{needResponse:!1},ON_SEARCH_RECORDS:{needResponse:!1},ON_SHOW_SCREEN:{needResponse:!1},ON_SCREEN_RECORDING_STATE_CHANGE:{needResponse:!1},ON_WIDGET_MINIMIZED_CHANGE:{needResponse:!1},ON_SERVER_ERROR:{needResponse:!1},ON_SOFTPHONE_STATUS_CHANGE:{needResponse:!1},ON_AUDIO_DEVICE_CHANGE:{needResponse:!1},ON_PHONE_CAPABILITIES_CHANGE:{needResponse:!1},ON_CALL_AUDIO_QUALITY_ALERT:{needResponse:!1},ON_WEB_SCREEN_POP_CUSTOM:{needResponse:!0},ON_SAVE_ACTIVITY_RECORD:{needResponse:!1},ON_VALIDATE_ASSOCIATED_RECORDS:{needResponse:!0},ON_REQUEST_RECORD_INFO:{needResponse:!0},ON_REQUEST_RECORD_ON_SCREEN:{needResponse:!0}},o="_RESPONSE",s=a.map((function(e){return"".concat(e).concat(o)})),c=((r=i,Object.keys.call(r,r)).filter((function(e){return i[e].needResponse})).map((function(e){return"".concat(e).concat(o)})),["telegram","line","facebook","web","nexmo","sms","viber","twitter","wechat","whatsapp"])},22:(e,t,n)=>{var r=n(481),a=n(426),i=a;i.v1=r,i.v4=a,e.exports=i},725:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,a=t;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},157:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},481:(e,t,n)=>{var r,a,i=n(157),o=n(725),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=a=16383&(p[6]<<8|p[7]))}var E=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,_=E-s+(h-c)/1e4;if(_<0&&void 0===e.clockseq&&(f=f+1&16383),(_<0||E>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=E,c=h,a=f;var y=(1e4*(268435455&(E+=122192928e5))+h)%4294967296;l[u++]=y>>>24&255,l[u++]=y>>>16&255,l[u++]=y>>>8&255,l[u++]=255&y;var v=E/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var m=0;m<6;++m)l[u+m]=d[m];return t||o(l)}},426:(e,t,n)=>{var r=n(157),a=n(725);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||a(o)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(700),t=n(281),r=n(773),a=window.location.href,i=r.P.extractURLParams(a).crmDomain;i.startsWith("https://")||(i="https://"+i);var o,s,c,u,l=new Promise((function(e,t){i||t("Missing required URL parameter 'crmDomain'");var n=document.createElement("script");document.head.insertAdjacentElement("beforeend",n),n.addEventListener("load",e),n.addEventListener("error",t),n.dataset.crmurl=i,n.dataset.cifid="CIFMainLibrary",n.type="text/javascript",n.src=i+"/webresources/Widget/msdyn_ciLibrary.js"}));function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,s,"next",e)}function s(e){f(i,r,a,o,s,"throw",e)}o(void 0)}))}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var y="contact",v="contact",m="contactid",T=function(e){return"_".concat(e,"_value")},C={voice:"phonecall",chat:"bpattern_messaging_session",email:"email"};var g={business2:"business",home2:"home",mobilephone:"mobile",telephone1:"other",telephone2:"other"},N=function(e){return e.filter((function(e){return!!e.content})).map((function(e){return{id:e.knowledgearticleid,type:"article",title:e.title,text:e.content}}))},A={},O="@ADAPTER",S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(o=console).log.apply(o,[O].concat(h(t)))},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(s=console).info.apply(s,[O].concat(h(t)))},I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(c=console).warn.apply(c,[O].concat(h(t)))},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(u=console).error.apply(u,[O].concat(h(t)))};l.then((function(){var n=function(){return D&&L},a=function(){n()&&G&&(i(G),G=null)},i=function(e){if(M=e,!n())return G=e,void R("Skip opened object: adapter not initialized");(null==w?void 0:w.isLoggedIn)?k?O.addInteractionAssociatedObject(e):R("Skip opened object: no interaction"):R("Skip opened object: user is not logged in")},o=function(e,t,n){return J.apply(this,arguments)},s=function(e,t){return $.apply(this,arguments)},c=function(){return K.apply(this,arguments)},u=function(e,t){return q.apply(this,arguments)},l=function(e,t){return z.apply(this,arguments)},d=window.Microsoft.CIFramework;if(!d)return b("window.Microsoft.CIFramework is undefined. Please, check and fix the adapter configuration and reload this page.");var f,O=new t.O({integrationKey:"dynamicscrm"}),D=!1,L=!1,w=null,k=null,M=null,G=null,F={},P="call",j=function(e){if("string"==typeof e){try{var t=JSON.parse(e);if(t&&t.message)return t.message}catch(a){}return e}return n=e,(null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)?e.message:"".concat(e);var n,r};d.setMode(1).catch((function(e){return b("cif.setMode error:",j(e))})),d.setWidth(500).catch((function(e){return b("cif.setWidth error:",j(e))})),function(){U.apply(this,arguments)}(),function(){W.apply(this,arguments)}(),O.on("ON_LOGIN",(f=p((function(e){return _(this,(function(t){switch(t.label){case 0:return w=e,[4,d.setClickToAct(!0)];case 1:return t.sent(),[2]}}))})),function(e){return f.apply(this,arguments)})),O.on("ON_LOGOUT",p((function(){return _(this,(function(e){switch(e.label){case 0:return[4,d.setClickToAct(!1)];case 1:return e.sent(),[2]}}))}))),O.getLoginState().then((function(e){"success"===e.status?(R("Initial login state:",e.data),w=e.data,D=!0,a()):I("Unable to get login state:",e.error)})),O.getInteractionsState().then((function(e){"success"===e.status?(R("Initial interactions state:",e.data),k=e.data.activeInteractionId,L=!0,a()):("not_logged_in"===e.error.name&&(k=null,L=!0,a()),I("Unable to get interactions state:",e.error))}));var H=function(){var e=p((function(e,t){var n,r;return _(this,(function(a){switch(a.label){case 0:S("Entity screen pop: ",t,", id: ",e),a.label=1;case 1:return a.trys.push([1,3,,4]),M&&M.id===e&&M.type===t?(S("Skip screen-pop - the object is already opened"),[2]):[4,d.openForm(JSON.stringify({entityId:e,entityName:t}))];case 2:return n=a.sent(),S("cif.openForm result:",n),c(),[3,4];case 3:return r=a.sent(),b("cif.openForm error:",j(r)),[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=p((function(e){var t,n,r,a=arguments;return _(this,(function(i){switch(i.label){case 0:t=a.length>1&&void 0!==a[1]?a[1]:y,S("Search screen pop, query:",e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.renderSearchPage(t,e)];case 2:return n=i.sent(),S("cif.renderSearchPage result:",n),[3,4];case 3:return r=i.sent(),b("cif.renderSearchPage error:",j(r)),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();function U(){return(U=p((function(){var e,t;return _(this,(function(n){switch(n.label){case 0:return[4,d.getEntityMetadata(v)];case 1:return e=n.sent(),t=JSON.parse(e),Object.values(t.OneToManyRelationships).forEach((function(e){var t=e.ReferencedEntity,n=e.ReferencedAttribute,r=e.ReferencingEntity,a=e.ReferencingAttribute,i=e.RelationshipType;t===v&&n===m&&0===i&&(F[r]||(F[r]=[]),F[r].push(a))})),R("contact relationships:",F),[2]}}))}))).apply(this,arguments)}function W(){return(W=p((function(){var e,t,n,r;return _(this,(function(a){switch(a.label){case 0:return[4,d.getEnvironment()];case 1:return e=a.sent(),t=JSON.parse(e),S("Get MS Dynamics environment data:",t),n=JSON.parse(t.customParams),P=null!==(r=n.click_to_call_action)&&void 0!==r?r:"call",S("Click to call action:",P),[2]}}))}))).apply(this,arguments)}O.on("ON_OPEN_RECORD",(function(e){return H(e.id,e.type)})),O.on("ON_SEARCH_RECORDS",(function(e){var t;return V(e.text,(null===(t=e.types)||void 0===t?void 0:t.length)?e.types[0]:void 0)}));var x=function(e,t){var n={subject:"Bright Pattern ".concat(t.type),description:t.description,actualstart:t.startTime?new Date(t.startTime).toUTCString():void 0,actualend:t.endTime?new Date(t.endTime).toUTCString():void 0,actualdurationminutes:t.duration?Math.ceil(t.duration/60):0,bpattern_interaction_id:t.interactionId,bpattern_global_interaction_id:t.globalInteractionId||"",bpattern_agent:w?w.username:void 0,bpattern_service:t.service,bpattern_disposition:t.disposition,bpattern_recording_url:t.playbackUrl,bpattern_dnis:t.DNIS,bpattern_ani:t.ANI};return e===C.voice&&(n.phonenumber=t.phoneNumber,n.directioncode=t.callDirection&&("outbound"===t.callDirection?"true":"false")),n},B=function(){var e=p((function(e,t){var n,r,a,i,o,s,c,u,l,f,p,h,y,v;return _(this,(function(_){switch(_.label){case 0:return[4,d.getEntityMetadata(t.type)];case 1:if(n=_.sent(),r=JSON.parse(n),a=C[e.type],i={},S("".concat(t.type," metadata:"),r),A[t.type]=r.DisplayName,o=null,s=r.EntitySetName,c=r.LogicalName,(u=r.OneToManyRelationships)&&u._collection)try{o=u._collection.find((function(e){var t=e.ReferencingEntity,n=e.ReferencingAttribute;return t===a&&"regardingobjectid"===n}))}catch(m){b("Error in the linking of activity record with regarding object:",m)}return s&&o?(l=o.ReferencingEntityNavigationPropertyName,f="".concat(l,"@odata.bind"),p="/".concat(s,"(").concat(t.id,")"),i[f]=p):c?(h="regardingobjectid_".concat(c,"_").concat(a,"@odata.bind"),y="/".concat(s,"(").concat(t.id,")"),i[h]=y):I('Activity saving process: "regardingobjectid" reference is not found'),v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},x(a,e),i),S("Activity record:",v),[2,d.createRecord(a,JSON.stringify(v))]}}))}));return function(t,n){return e.apply(this,arguments)}}();function J(){return(J=p((function(e,t,n){var r,a,i,o;return _(this,(function(s){switch(s.label){case 0:return r=n.title||n.fullname||n.name||n.subject||e,A[t]?[3,2]:[4,d.getEntityMetadata(t)];case 1:a=s.sent(),i=JSON.parse(a),A[t]=i.DisplayName,s.label=2;case 2:return o=A[t],[2,{displayName:"".concat(o,": ").concat(r),displayType:o}]}}))}))).apply(this,arguments)}function $(){return $=p((function(e,t){var n,r,a,i,s;return _(this,(function(c){switch(c.label){case 0:return[4,d.retrieveRecord(t,e)];case 1:return n=c.sent(),r=JSON.parse(n),[4,o(e,t,r)];case 2:return a=c.sent(),i=a.displayName,s=a.displayType,[2,{associatedObject:{id:e,type:t,displayName:i,displayType:s,customFields:{}},entityData:r}]}}))})),$.apply(this,arguments)}function K(){return K=p((function(){var e,t,n,r,a;return _(this,(function(o){switch(o.label){case 0:return[4,d.getEnvironment()];case 1:return e=o.sent(),t=JSON.parse(e),S("Getting environment:",t),!t.dashboardType&&"entityrecord"===(null==t?void 0:t.pagetype)&&t.id&&t.etn?(O.setInteractionActiveScreen({recordId:t.id,recordType:t.etn}),[4,s(t.id,t.etn)]):(O.setDialCandidates([]),[2]);case 2:return n=o.sent(),r=n.associatedObject,a=n.entityData,S("Found entity on the screen:",a),r?(i(r),l(r,a),[2]):[2]}}))})),K.apply(this,arguments)}function q(){return(q=p((function(e,t){var n,r,a,i;return _(this,(function(s){switch(s.label){case 0:return r=null!==(n=e.emailaddress1)&&void 0!==n?n:void 0,a=Object.keys(g).reduce((function(t,n){return e[n]&&t.push({type:g[n],number:e[n]}),t}),[]),r||a.length?[4,o(e.contactid,v,e)]:[2,null];case 1:return i=s.sent().displayName,[2,{id:e.contactid,displayName:i,email:r,phones:a,associatedObjects:t}]}}))}))).apply(this,arguments)}function z(){return(z=p((function(e,t){var n,r,a,i,o,s,c,l,f,p,E,y,m,C,g;return _(this,(function(_){switch(_.label){case 0:return r=[],a=[e],e.type!==v?[3,2]:[4,u(t,a)];case 1:return(i=_.sent())&&r.push(i),[3,11];case 2:if(!(null===(n=F[e.type])||void 0===n?void 0:n.length))return[3,11];o=!0,s=!1,c=void 0,_.label=3;case 3:_.trys.push([3,9,10,11]),l=F[e.type][Symbol.iterator](),_.label=4;case 4:return(o=(f=l.next()).done)?[3,8]:(p=f.value,(E=t[T(p)])?[4,d.retrieveRecord(v,E)]:[3,7]);case 5:return y=_.sent(),m=JSON.parse(y),[4,u(m,h(a))];case 6:(C=_.sent())&&r.push(C),_.label=7;case 7:return o=!0,[3,4];case 8:return[3,11];case 9:return g=_.sent(),s=!0,c=g,[3,11];case 10:try{o||null==l.return||l.return()}finally{if(s)throw c}return[7];case 11:return O.setDialCandidates(r),[2]}}))}))).apply(this,arguments)}p((function(e){var t,n,r,a,i,o,s;return _(this,(function(c){switch(c.label){case 0:S("Save activity record:",e),n=null!==(t=e.associatedObjects.selected[0])&&void 0!==t?t:void 0,r=n&&e.associatedObjects.list.find((function(e){return e.id===n})),S("Regarding object:",r),c.label=1;case 1:return c.trys.push([1,5,,6]),r?[4,B(e,r)]:[3,3];case 2:return c.sent(),[3,4];case 3:a=C[e.type],i=x(a,e),S("Activity is without regarding object:",i),d.createRecord(a,JSON.stringify(i)),c.label=4;case 4:return[3,6];case 5:return o=c.sent(),I("Error while saving activity record with regarding object:",o),s=C[e.type],d.createRecord(s,JSON.stringify(x(s,e))),[3,6];case 6:return[2]}}))})),O.on("ON_INTERACTION_REMOVED",(function(e){e.interactionId===k&&(k=null)})),O.on("ON_ACTIVE_INTERACTION_SWITCHED",(function(e){k=e})),O.on("ON_REQUEST_RECORD_INFO",function(){var e=p((function(e){var t,n;return _(this,(function(r){switch(r.label){case 0:t=e.id,n=e.type,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,s(t,n)];case 2:return[2,r.sent().associatedObject];case 3:return r.sent(),[2,null];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),O.on("ON_REQUEST_RECORD_ON_SCREEN",p((function(){return _(this,(function(e){switch(e.label){case 0:if(!M)return[2,null];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,s(M.id,M.type)];case 2:return[2,e.sent().associatedObject];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))),d.addHandler("onpagenavigate",function(){var e=p((function(e){var t;return _(this,(function(n){return t=JSON.parse(e),S("Navigation detected:",t),c(),[2,Promise.resolve()]}))}));return function(t){return e.apply(this,arguments)}}()),d.addHandler("onclicktoact",function(){var t=p((function(t){var n,a,i,o,c,u;return _(this,(function(l){switch(l.label){case 0:if(S("Click to act handler"),!w)return I("Adapter is not logged in"),[2,Promise.resolve()];n=JSON.parse(t),S("Click to act data:",n),(a=n.entityId).length&&"{"===a[0]&&(a=a.slice(1)),a.length&&"}"===a[a.length-1]&&(a=a.slice(0,a.length-1)),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,s(a,n.entityLogicalName)];case 2:return i=l.sent(),o=i.associatedObject,c=i.entityData,S("Clicked entity:",c),o?(function(t,n){var a=n?[n]:[],i=!0,o=!1,s=void 0;try{for(var c,l=e.S7[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var d=c.value;if(t.value.startsWith("".concat(d,":")))return O.startChat(d,t.value.substring(d.length+1))}}catch(u){o=!0,s=u}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}if(r.P.startsWithAny(t.name,["phone_","new_phone_","bpattern_phone_"]))return O.startCall(t.value,a);var f=!0,p=!1,E=void 0;try{for(var h,_=e.S7[Symbol.iterator]();!(f=(h=_.next()).done);f=!0){var y=h.value,v=["".concat(y,"_"),"new_".concat(y,"_"),"bpattern_".concat(y,"_")];if(r.P.startsWithAny(t.name,v))return O.startChat(y,t.value,a)}}catch(u){p=!0,E=u}finally{try{f||null==_.return||_.return()}finally{if(p)throw E}}"Email"===t.format?O.startEmail(t.value,a):"SMS"===t.format||"chat"===P?O.startChat("sms",t.value,a):O.startCall(t.value,a)}(n,o),[3,4]):[2];case 3:return u=l.sent(),b("Click to act handler error:",u),[3,4];case 4:return[2,Promise.resolve()]}}))}));return function(e){return t.apply(this,arguments)}}()),O.on("ON_NEW_INTERACTION",function(){var e=p((function(e){var t;return _(this,(function(n){switch(n.label){case 0:if(d.getMode().then((function(e){0===e&&d.setMode(1).catch((function(e){return b("cif.setMode error",j(e))}))})).catch((function(e){return b("cif.getMode error:",j(e))})),"dialpad"!==e.origination)return[3,4];S("Interaction initiated from Dialpad:",e.phoneNumber),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,d.searchAndOpenRecords(y,"?$select=contactid&"+"$filter=mobilephone eq '".concat(e.phoneNumber,"'")+" or telephone1 eq '".concat(e.phoneNumber,"'")+" or telephone2 eq '".concat(e.phoneNumber,"'")+" or telephone3 eq '".concat(e.phoneNumber,"'"),!1)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),b("Dialpad interaction: cif.searchAndOpenRecords error:",j(t)),[3,4];case 4:return c(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),O.on("ON_GET_KNOWLEDGE_BASE_FOLDER",function(){var e=p((function(e){var t,n,r,a;return _(this,(function(i){switch(i.label){case 0:t=e.language,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.searchAndOpenRecords("knowledgearticle","?$select=content,title&$expand=languagelocaleid($select=code)&$filter=statecode eq 3"+(void 0===t||"none"===t?"":" and startswith(languagelocaleid/code, '".concat(t,"')")),!0)];case 2:return n=i.sent(),r=Object.values(JSON.parse(n)),S("KB folder content:",r),[2,N(r)];case 3:return a=i.sent(),b("KB Folder: cif.searchAndOpenRecords error:",j(a)),[3,4];case 4:return[2,[]]}}))}));return function(t){return e.apply(this,arguments)}}()),O.on("ON_SEARCH_KNOWLEDGE_BASE",function(){var e=p((function(e,t){var n,r,a;return _(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,d.searchAndOpenRecords("knowledgearticle","?$select=content,title&$expand=languagelocaleid($select=code)&$filter=statecode eq 3 "+(void 0===t||"none"===t?"":"and startswith(languagelocaleid/code, '".concat(t,"') "))+"and ("+"contains(content, '".concat(e,"') or ")+"contains(keywords, '".concat(e,"') or ")+"contains(description, '".concat(e,"') or ")+"contains(title, '".concat(e,"')")+")",!0)];case 1:return n=i.sent(),r=Object.values(JSON.parse(n)),S("KB search result:",r),[2,N(r)];case 2:return a=i.sent(),b("KB Search: cif.searchAndOpenRecords error:",j(a)),[3,3];case 3:return[2,[]]}}))}));return function(t,n){return e.apply(this,arguments)}}()),O.on("ON_GET_KNOWLEDGE_BASE_ARTICLE",function(){var e=p((function(e){var t,n,r;return _(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,d.searchAndOpenRecords("knowledgearticle","?$select=articlepublicnumber,createdon,content,description,isinternal,keywords,modifiedon,statecode,statuscode,title,versionnumber,createdby,modifiedby,_createdby_value,_modifiedby_value,_ownerid_value,_parentarticlecontentid_value,_rootarticleid_value,_subjectid_value&$expand=languagelocaleid($select=code),transactioncurrencyid($select=isocurrencycode),owningbusinessunit($select=name)"+"&$filter=knowledgearticleid eq '".concat(e,"'"),!0)];case 1:return t=a.sent(),(n=Object.values(JSON.parse(t))).length?(S("Found CRM KB article:",n[0]),[2,(i=n[0],i.content?{id:i.knowledgearticleid,title:i.title,keywords:i.keywords||"",answer:i.content,notes:i.description||"",language:i.languagelocaleid.code,createdByUser:i["_createdby_value@OData.Community.Display.V1.FormattedValue"],lastEditedByUser:i["_modifiedby_value@OData.Community.Display.V1.FormattedValue"],customFields:[]}:null)]):[2,null];case 2:return r=a.sent(),b("Search article: cif.searchAndOpenRecords:",j(r)),[3,3];case 3:return[2,null]}var i}))}));return function(t){return e.apply(this,arguments)}}()),d.addHandler("onmodechanged",(function(e){if(O.adcFrame){switch(JSON.parse(e).value){case 0:O.setWidgetMinimized(!0);break;case 1:O.setWidgetMinimized(!1)}return Promise.resolve()}})),O.on("ON_WIDGET_MINIMIZED_CHANGE",(function(e){d.setMode(e?0:1).catch((function(e){b("cif.setMode error:",j(e))}))})),O.on("ON_SHOW_SCREEN",(function(e){e&&e.recordId&&e.recordType&&H(e.recordId,e.recordType)}))})).catch((function(e){b("Can't load Channel Integration Framework client API library: ",e)}))})()})();
//# sourceMappingURL=msdyn365-8806419f9a1df83cbd6f.js.map