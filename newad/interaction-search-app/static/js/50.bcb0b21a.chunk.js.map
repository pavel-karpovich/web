{"version":3,"file":"static/js/50.bcb0b21a.chunk.js","mappings":"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","sources":["webpack://@bpinc/web-interaction-search-ui/../../node_modules/react-semantic-ui-datepickers/dist/locales/ sync ^\\.\\/.*\\.json$","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/utils/dateUtils.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/caret-down.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/caret-left.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/caret-up.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/chat.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/dot.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/email.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/filter.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/screen-recording.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/times.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/voice.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/voice-recording.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/svg/voicemail.svg","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/Icon.module.less?2680","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/Icon.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/icon/DotIcon.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/utils/format.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/utils/getTextWidth.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/utils/StringUnion.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/utils/useWindowDimensions.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/context/query-lang-parser.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/context/search-filter-parser.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/context/search-query-string-parser.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/context/search-tab-filter.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/context/search-tab-remote-data.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/context/search-tab-context.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/provider/search-tab-provider.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/FilterPanel.module.less?484b","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/MediaTypeFilter.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/SearchPanel.module.less?26c2","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/search-panel/SearchTab.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/search-panel/SearchPanel.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/MultiLevelDropdown.module.less?3541","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/multi-level-dropdown/DropdownSubmenu.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/multi-level-dropdown/Dropdown.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/multi-level-dropdown/DropdownItem.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/SearchableListPanel.module.less?3455","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/searchable-list-panel/SearchableListPanel.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/AgentTeamFilter.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/DateFilterTimepicker.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/DateFilterDatepicker.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/DateFilter.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/DurationFilter.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/ExistFilter.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/FilterItem.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/FilterPanelSidebar.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/FilterShowMore.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/ListFilter.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/filter-panel/FilterPanel.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/Grid.module.less?ebc4","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/grid/GridCellContextMenu.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/searchable-list-panel/CustomizableListPanel.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/grid/GridColumnMenu.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/grid/GridColumnMenuTriggerButton.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/grid/useAutosizeColumns.ts","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/grid/Grid.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/styles/SearchResult.module.less?b593","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/search-result/SearchResult.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/search-result/SearchResultPanel.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/ad-interaction-search-ui/src/components/InteractionSearchPage.tsx","webpack://@bpinc/web-interaction-search-ui/../../packages/lib-tailwind-classnames/src/tcn.ts"],"sourcesContent":["var map = {\n\t\"./bg-BG.json\": 5155,\n\t\"./ca-ES.json\": 5136,\n\t\"./cs-CZ.json\": 2300,\n\t\"./de-DE.json\": 2941,\n\t\"./el-GR.json\": 3192,\n\t\"./en-US.json\": 3334,\n\t\"./es-ES.json\": 3999,\n\t\"./et-EE.json\": 4449,\n\t\"./fi-FI.json\": 9497,\n\t\"./fr-FR.json\": 8819,\n\t\"./he-IL.json\": 7892,\n\t\"./it-IT.json\": 2350,\n\t\"./ja-JP.json\": 6211,\n\t\"./ko-KR.json\": 1428,\n\t\"./nb-NO.json\": 8482,\n\t\"./nl-NL.json\": 4416,\n\t\"./nn-NO.json\": 2889,\n\t\"./pl-PL.json\": 3801,\n\t\"./pt-BR.json\": 2805,\n\t\"./ro-RO.json\": 5872,\n\t\"./ru-RU.json\": 2381,\n\t\"./sk-SK.json\": 941,\n\t\"./sv-SE.json\": 7653,\n\t\"./tr-TR.json\": 1512,\n\t\"./zh-CN.json\": 6111\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6843;","export const isValidDate = (date: unknown): boolean => {\r\n    return date instanceof Date && !isNaN(+date)\r\n}\r\n","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgCaretDown = function SvgCaretDown(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 9.277,\n    height: 4.695,\n    viewBox: \"0 0 8.277 4.695\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.557 0H7.72a.556.556 0 0 1 .393.949l-3.58 3.583a.558.558 0 0 1-.788 0L.165.949A.556.556 0 0 1 .557 0Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgCaretDown);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"c5c129273b4f61a1f87d784e4a71cac3.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgCaretLeft = function SvgCaretLeft(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 4.695,\n    height: 9.277,\n    viewBox: \"0 0 4.695 8.277\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.295.557V7.72a.556.556 0 0 1-.949.393L.763 4.533a.558.558 0 0 1 0-.788L4.346.165a.556.556 0 0 1 .949.392Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgCaretLeft);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"6cf1b341d891b666d51aafec9b3ead97.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgCaretUp = function SvgCaretUp(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 9.277,\n    height: 4.695,\n    viewBox: \"0 0 8.277 4.695\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.648 5.205H.485a.556.556 0 0 1-.393-.949L3.672.673a.558.558 0 0 1 .788 0l3.58 3.583a.556.556 0 0 1-.392.949Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgCaretUp);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"608483818c14a4630f9abee7d0e1db4d.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgChat = function SvgChat(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.182 3H3.818A1.921 1.921 0 0 0 2 5v12a1.921 1.921 0 0 0 1.818 2h2.273c.273 1.65 0 3.1-1.364 4 1.864 0 4-1 5-4h10.455A1.921 1.921 0 0 0 22 17V5a1.921 1.921 0 0 0-1.818-2Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgChat);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"47f31f6453bf9b31c49c80d9df516e7d.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgDot = function SvgDot(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"a\",\n    d: \"M5 0a5 5 0 1 1-5 5 5 5 0 0 1 5-5Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgDot);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"6bb999a22e5167d4db5699b4954cae08.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgEmail = function SvgEmail(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.339 19H2V5h20v14Zm7.861-.778V7.76l-8.95 6.876a.388.388 0 0 1-.19.082.4.4 0 0 1-.059 0h-.026a.4.4 0 0 1-.226-.086l-8.95-6.876v10.462h18.4ZM12 13.836l9.2-7.073v-.984H2.8v.984Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgEmail);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"6cb1c1c31dd69e87c2ac6084b9fd6f44.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgFilter = function SvgFilter(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0v1.778h.889l4.444 7.111V16h5.333V8.889l4.444-7.111H16V0H0Zm2.986 1.778h10.03l-4.127 6.6v5.844H7.111V8.378Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgFilter);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"09b4458304cda31c002bee798a5655dd.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgScreenRecording = function SvgScreenRecording(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 19h-.146a1.983 1.983 0 0 1-.847-.26l-.025-.015-.017-.011-.009-.006a2 2 0 0 1-.954-1.7h1.856a1.992 1.992 0 0 1-.523-1.332V7.009a2 2 0 0 1 2-2h13.333a2 2 0 0 1 2 2v8.667a2 2 0 0 1-.521 1.332H22a2 2 0 0 1-2 2Zm1.334-2.667h13.333a.659.659 0 0 0 .666-.666V7a.65.65 0 0 0-.666-.666H5.334A.65.65 0 0 0 4.668 7v8.702a.659.659 0 0 0 .665.631Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgScreenRecording);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"f26c39781a82d27b4b217409b6cad9fc.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgTimes = function SvgTimes(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m17.259 18.485-4.948-5.143-4.948 5.143-.986-1.026 4.945-5.146-4.947-5.142.992-1.026 4.944 5.14 4.944-5.14.99 1.03-4.948 5.142 4.947 5.143Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgTimes);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"de928cebbd06d8f9927b4459ec7f9823.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgVoice = function SvgVoice(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.174 16.772s1.687-.966 2.129-1.2a1.265 1.265 0 0 1 1.174-.123c.42.257 3.943 2.6 4.24 2.808a1 1 0 0 1 .032 1.383c-.406.582-2.281 2.882-3.075 2.857s-4.1-.1-10.339-6.336S2.026 6.62 2 5.824s2.275-2.67 2.856-3.076a1.017 1.017 0 0 1 1.384.032c.235.325 2.552 3.838 2.807 4.24a1.252 1.252 0 0 1-.123 1.175c-.232.442-1.2 2.129-1.2 2.129a20.691 20.691 0 0 0 2.986 3.463 20.789 20.789 0 0 0 3.464 2.985Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgVoice);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"08f7614bb8ac082b98de383aa59bc692.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgVoiceRecording = function SvgVoiceRecording(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m12.585 21.8-5.594-6.161V8.367l5.594-6.162a.612.612 0 0 1 .454-.2.627.627 0 0 1 .619.634v18.733a.626.626 0 0 1-.619.633.612.612 0 0 1-.454-.205Zm-9.149-6.161a.9.9 0 0 1-.89-.909V9.275a.9.9 0 0 1 .89-.908h3.555v7.272Zm14.92 2.236a6.849 6.849 0 0 0 3.3-5.876 6.841 6.841 0 0 0-3.3-5.876l.5-.754a7.762 7.762 0 0 1 3.692 6.63 7.759 7.759 0 0 1-3.692 6.627Zm-1.5-2.261a4.1 4.1 0 0 0 2.135-3.618 4.1 4.1 0 0 0-2.135-3.615l.5-.756a5.025 5.025 0 0 1 2.524 4.371 5.028 5.028 0 0 1-2.524 4.375Zm-1.529-2.3a1.355 1.355 0 0 0 1-1.315 1.354 1.354 0 0 0-1-1.312l.521-.784a2.283 2.283 0 0 1 1.368 2.1 2.284 2.284 0 0 1-1.368 2.1Z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgVoiceRecording);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"d8d795d588382ca34754746831c2baf6.svg\";","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nimport { forwardRef } from \"react\";\nvar SvgVoicemail = function SvgVoicemail(_ref, ref) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: ref,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.833 8A4.167 4.167 0 1 0 22 12.167 4.167 4.167 0 0 0 17.833 8ZM6.167 8a4.167 4.167 0 1 0 4.167 4.167A4.167 4.167 0 0 0 6.167 8Zm0 8.333h11.666\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/forwardRef(SvgVoicemail);\nexport { ForwardRef as ReactComponent };\nexport default __webpack_public_path__ + \"0e4210d3c53d16c5ad55d415e44ae010.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"icon\":\"interactionSearch_Icon_icon_IU3EZ\",\"dotIcon\":\"interactionSearch_Icon_dotIcon_FDAmv\"};","import type {FC, SVGAttributes} from 'react'\r\nimport React from 'react'\r\n\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\n\r\nimport {ReactComponent as CaretDown} from './svg/caret-down.svg'\r\nimport {ReactComponent as CaretLeft} from './svg/caret-left.svg'\r\nimport {ReactComponent as CaretUp} from './svg/caret-up.svg'\r\nimport {ReactComponent as Chat} from './svg/chat.svg'\r\nimport {ReactComponent as Dot} from './svg/dot.svg'\r\nimport {ReactComponent as Email} from './svg/email.svg'\r\nimport {ReactComponent as Filter} from './svg/filter.svg'\r\nimport {ReactComponent as ScreenRecording} from './svg/screen-recording.svg'\r\nimport {ReactComponent as Times} from './svg/times.svg'\r\nimport {ReactComponent as Voice} from './svg/voice.svg'\r\nimport {ReactComponent as VoiceRecording} from './svg/voice-recording.svg'\r\nimport {ReactComponent as VoiceMail} from './svg/voicemail.svg'\r\n\r\nimport styles from '../../styles/Icon.module.less'\r\n\r\n\r\nexport type IconName =\r\n    | 'caret-down'\r\n    | 'caret-left'\r\n    | 'caret-up'\r\n    | 'chat'\r\n    | 'dot'\r\n    | 'email'\r\n    | 'filter'\r\n    | 'screen-recording'\r\n    | 'times'\r\n    | 'voice'\r\n    | 'voice-recording'\r\n    | 'voicemail'\r\n\r\nexport interface IconProps {\r\n    name: IconName\r\n    className?: string\r\n    style?: React.CSSProperties\r\n}\r\n\r\nconst iconComponents: Record<IconName, React.FC<SVGAttributes<HTMLOrSVGElement>>> = {\r\n    'caret-down': CaretDown,\r\n    'caret-left': CaretLeft,\r\n    'caret-up': CaretUp,\r\n    'chat': Chat,\r\n    'dot': Dot,\r\n    'email': Email,\r\n    'filter': Filter,\r\n    'screen-recording': ScreenRecording,\r\n    'times': Times,\r\n    'voice': Voice,\r\n    'voice-recording': VoiceRecording,\r\n    'voicemail': VoiceMail,\r\n}\r\n\r\nexport const Icon: FC<IconProps> = ({name, className, style}) => {\r\n    const Component = iconComponents[name]\r\n    return <Component className={tcn(styles.icon, className)} style={style} />\r\n}\r\n\r\n","import type {FC} from 'react'\r\nimport React from 'react'\r\n\r\nimport type {IconProps} from './Icon'\r\nimport {Icon} from './Icon'\r\n\r\nimport styles from '../../styles/Icon.module.less'\r\n\r\n\r\ninterface DotIconProps extends IconProps {\r\n    dot?: boolean\r\n    dotColor?: string\r\n}\r\n\r\nexport const DotIcon: FC<DotIconProps> = ({dot = true, dotColor = '#FF9900', ...props}) => (\r\n    <span className={styles.dotIcon}>\r\n        <Icon {...props}/>\r\n        {dot && (<Icon name=\"dot\" style={{fill: dotColor}}/>)}\r\n    </span>\r\n)\r\n","import React from 'react'\r\n\r\nimport {DotIcon} from '../components/icon/DotIcon'\r\nimport type {IconName} from '../components/icon/Icon'\r\nimport {Icon} from '../components/icon/Icon'\r\nimport type {MediaType} from '../context/search-tab-filter'\r\nimport type {DataState, DataStateType} from '../type/interaction-type'\r\n\r\n\r\nexport const tsToDate = ({cell: {value}}: any) => value ? new Date(value).toLocaleString() : null\r\n\r\nexport const arrayToString = ({cell: {value}}: any) => value ? value.join(', ') : null\r\n\r\nexport const boolToText = ({cell: {value}}: any) => value ? 'Yes' : 'No'\r\n\r\nconst iconStyles = {\r\n    chat: {fill: 'none', stroke: '#767676'},\r\n    email: {fill: '#767676'},\r\n    voice: {fill: 'none', stroke: '#767676'},\r\n}\r\n\r\nexport const mediaTypeToIcon = ({cell: {value}}: any) => {\r\n    const mediaType: MediaType = value as MediaType\r\n\r\n    switch (mediaType.toLowerCase()) {\r\n        case 'chat':\r\n            return <Icon name=\"chat\" style={iconStyles.chat}/>\r\n        case 'email':\r\n            return <Icon name=\"email\" style={iconStyles.email}/>\r\n        default:\r\n            return <Icon name=\"voice\" style={iconStyles.voice}/>\r\n    }\r\n}\r\n\r\nexport const dataStateToIcons = ({cell: {value}}: any) => {\r\n    const dataState = value as DataState\r\n\r\n    return (\r\n        <>\r\n            {getDataStateTypeIcon(dataState.transcript, 'chat')}\r\n            {getDataStateTypeIcon(dataState.screenRecording, 'screen-recording', false)}\r\n            {getDataStateTypeIcon(dataState.voiceRecording, 'voice')}\r\n            {getDataStateTypeIcon(dataState.voicemail, 'voicemail')}\r\n        </>\r\n    )\r\n}\r\n\r\nconst dotIconStyles = {\r\n    withStroke: {fill: 'none', stroke: '#2185d0'},\r\n    noStroke: {fill: '#2185d0'},\r\n}\r\n\r\nconst getDataStateTypeIcon = (dataStateType: DataStateType | null, name: IconName, stroke = true) => {\r\n    if (dataStateType == null) {\r\n        return null\r\n    }\r\n\r\n    let dotProps\r\n\r\n    if (dataStateType != 'STORED_LOCALLY') {\r\n        const dotColor = dataStateType === 'STORED_ON_S3' ? '#ff9900' : '#ff3600'\r\n        dotProps = {dot: true, dotColor}\r\n    } else {\r\n        dotProps = {dot: false}\r\n    }\r\n\r\n    return (\r\n        <DotIcon\r\n            name={name}\r\n            style={stroke ? dotIconStyles.withStroke : dotIconStyles.noStroke}\r\n            {...dotProps}\r\n        />\r\n    )\r\n}\r\n\r\nexport const secondsToTime = ({cell: {value}}: any) => {\r\n    const secondsTime = value as number\r\n    const seconds = Math.floor(secondsTime % 60)\r\n    const minutes = Math.floor(secondsTime / 60) % 60\r\n    const hours = Math.floor(secondsTime / 3600) % 24\r\n    const days = Math.floor(secondsTime / 86400)\r\n\r\n    const secondsStr = padNumber(seconds, 2)\r\n    const minutesStr = (hours > 0 || days > 0 ? padNumber(minutes, 2) : minutes)\r\n\r\n    if (days > 0) {\r\n        return days + 'd ' + hours + ':' + minutesStr + ':' + secondsStr\r\n    } else if (hours > 0) {\r\n        return hours + ':' + minutesStr + ':' + secondsStr\r\n    }\r\n\r\n    return minutesStr + ':' + secondsStr\r\n}\r\n\r\nconst padNumber = (num: number, size: number) => {\r\n    const s = '000000000' + num\r\n    return s.substr(s.length - size)\r\n}\r\n\r\nexport function getErrorMessage(err: unknown) {\r\n    return err instanceof Error ? err.message : typeof err === 'string' ? err : undefined\r\n}\r\n","let canvas: HTMLElementTagNameMap['canvas']\r\n\r\nexport const getTextWidth = (text: string, font: string, extraSpace: number, maxWidth: number): number => {\r\n    if (!canvas) {\r\n        canvas = document.createElement('canvas')\r\n    }\r\n\r\n    const context = canvas.getContext('2d')\r\n    let textWidth = 0\r\n\r\n    if (context) {\r\n        context.font = font\r\n        const metrics = context.measureText(text)\r\n\r\n        textWidth = metrics.width\r\n    }\r\n\r\n    return Math.min(maxWidth, textWidth + extraSpace)\r\n}\r\n\r\n","export const StringUnion = <UnionType extends string>(...values: UnionType[]) => {\r\n    Object.freeze(values)\r\n    const valueSet: Set<string> = new Set(values)\r\n\r\n    const guard = (value: string): value is UnionType => {\r\n        return valueSet.has(value)\r\n    }\r\n\r\n    const check = (value: string): UnionType => {\r\n        if (!guard(value)) {\r\n            const actual = JSON.stringify(value)\r\n            const expected = values.map(s => JSON.stringify(s)).join(' | ')\r\n            throw new TypeError(`Value '${actual}' is not assignable to type '${expected}'.`)\r\n        }\r\n        return value\r\n    }\r\n\r\n    const unionNamespace = {guard, check, values}\r\n    return Object.freeze(unionNamespace as typeof unionNamespace & { type: UnionType })\r\n}\r\n\r\n","import {useEffect, useState} from 'react'\r\n\r\n\r\nexport const useWindowDimensions = () => {\r\n    const [windowDimensions, setWindowDimensions] = useState(() => ({\r\n        height: window.innerHeight,\r\n        width: window.innerWidth,\r\n    }))\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => setWindowDimensions({height: window.innerHeight, width: window.innerWidth})\r\n\r\n        window.addEventListener('resize', handleResize)\r\n        return () => window.removeEventListener('resize', handleResize)\r\n    }, [])\r\n\r\n    return windowDimensions\r\n}\r\n\r\n","import {isArray, isEmpty} from 'lodash-es'\r\n\r\nimport {convertToDate, convertToDayjs} from '@bpinc/lib-helpers'\r\n\r\nimport {dateUtils} from '../utils'\r\nimport {getErrorMessage} from '../utils/format'\r\nimport {DateType, OperatorType} from './search-tab-filter'\r\n\r\n\r\nexport interface FilterItem {\r\n    itemType: 'operand' | 'date' | 'operation' | 'filter' | 'block' | 'textSearch'\r\n    type?: string\r\n    value?: any\r\n}\r\n\r\nexport interface DateFilerItem extends FilterItem {\r\n    dateType: DateType\r\n}\r\n\r\nexport interface OperationFilterItem extends FilterItem {\r\n    operator: OperatorType\r\n}\r\n\r\nexport interface QueryLangParserError {\r\n    error: string\r\n}\r\n\r\nconst BLOCK = '#block#'\r\nconst VALID_FILTER_ITEMS = [\r\n    'media_type',\r\n    'started',\r\n    'from',\r\n    'to',\r\n    'service',\r\n    'agent',\r\n    'agent_team',\r\n    'disposition',\r\n    'account_num',\r\n    'voice_recording',\r\n    'screen_recording',\r\n    'transcript',\r\n    'duration',\r\n    'talk_time',\r\n    'queue_time',\r\n    'scenario',\r\n    'text_search',\r\n    'contact',\r\n]\r\n\r\nexport const parseQueryString = (queryString: string): FilterItem[] | QueryLangParserError => {\r\n    try {\r\n        const filterItems = parse(queryString, '')\r\n        validateFilterItems(filterItems)\r\n        return filterItems\r\n    } catch (e) {\r\n        const error = `Cannot parse query string. ${getErrorMessage(e)})`\r\n        console.error(error)\r\n        return {error}\r\n    }\r\n}\r\n\r\nexport const areFilterItemsInvalid = (filterItems: FilterItem[] | QueryLangParserError): boolean => !isArray(filterItems) && 'error' in filterItems\r\n\r\nconst parse = (queryString: string, block: string): FilterItem[] => {\r\n    const blocksMap = new Map<string, string>()\r\n    const notBlockParenthesis = new Set<number>()\r\n    let queryMap = new Map<number, string>()\r\n    findBlocks(0, blocksMap, notBlockParenthesis, queryString, 0, block, false)\r\n\r\n    for (const [key, value] of blocksMap.entries()) {\r\n        queryString = queryString.replace(value, key)\r\n    }\r\n\r\n    checkWrongBlockDefinition(queryString, notBlockParenthesis)\r\n    findItems(queryMap, queryString, 0)\r\n\r\n    queryMap = new Map<number, string>(\r\n        Array.from(queryMap.entries())\r\n            .sort(([key1], [key2]) => key1 > key2 ? 1 : -1),\r\n    )\r\n\r\n    return Array.from(queryMap.values())\r\n        .map(str => parseItem(str, blocksMap))\r\n        .filter(f => f !== null) as FilterItem[]\r\n}\r\n\r\nconst validateFilterItems = (filterItems: FilterItem[]) => {\r\n    filterItems.forEach(filterItem => {\r\n        if (filterItem.itemType !== 'block' && filterItem.itemType !== 'operand'\r\n            && !VALID_FILTER_ITEMS.includes((filterItem.type as string).toLowerCase())) {\r\n            throw new Error('Search service didn\\'t recognize criteria types')\r\n        }\r\n    })\r\n}\r\n\r\nconst findBlocks = (count: number, blocksMap: Map<string, string>, notBlockParenthesis: Set<number>,\r\n    queryString: string, offset: number, block: string, quotes: boolean): void => {\r\n    let left = 0, right = 0, begin = 0, end = 0\r\n    let isFirst = true\r\n    const arr = queryString.split('')\r\n\r\n    for (let i = offset; i < arr.length; i++) {\r\n        if (!quotes) {\r\n            if (arr[i] == '(') {\r\n                if (isFirst) {\r\n                    begin = i\r\n                    isFirst = false\r\n                }\r\n                ++left\r\n            }\r\n\r\n            if (arr[i] == ')') {\r\n                ++right\r\n\r\n                if (left == right) {\r\n                    end = i + 1\r\n                    break\r\n                }\r\n            }\r\n        } else if (arr[i] == '(' || arr[i] == ')') {\r\n            notBlockParenthesis.add(i)\r\n        }\r\n\r\n        if (arr[i] == '\"') {\r\n            quotes = !quotes\r\n        }\r\n    }\r\n    if (end > begin) {\r\n        const item = block + BLOCK + count\r\n        blocksMap.set(item, queryString.substring(begin, end))\r\n        findBlocks(++count, blocksMap, notBlockParenthesis, queryString, Math.min(queryString.length, end), block, quotes)\r\n    }\r\n}\r\n\r\nconst checkWrongBlockDefinition = (queryString: string, notBlockParenthesis: Set<number>): void => {\r\n    let matches: RegExpMatchArray[] = Array.from(queryString.matchAll(/\\(/g))\r\n    const matchesWord: RegExpMatchArray[] = Array.from(queryString.matchAll(/\\w+/g))\r\n\r\n    if (matches.length) {\r\n        for (const match of matches) {\r\n            if (!notBlockParenthesis.has(match.index as number)) {\r\n                let at: string = match[0]\r\n\r\n                if (matchesWord.length) {\r\n                    for (const wordMatch of matchesWord) {\r\n                        if (match.index === (wordMatch.index as number) - 1) {\r\n                            at += wordMatch[0]\r\n                        }\r\n                    }\r\n                }\r\n\r\n                throw Error(`Invalid character '(' at ${at}`)\r\n            }\r\n        }\r\n    }\r\n\r\n    matches = Array.from(queryString.matchAll(/\\)/g))\r\n\r\n    if (matches.length) {\r\n        for (const match of matches) {\r\n            if (!notBlockParenthesis.has(match.index as number)) {\r\n                let at: string = match[0]\r\n\r\n                if (matchesWord.length) {\r\n                    for (const wordMatch of matchesWord) {\r\n                        if (match.index === (wordMatch.index as number) + wordMatch[0].length) {\r\n                            at = wordMatch[0] + at\r\n                        }\r\n                    }\r\n                }\r\n\r\n                throw Error(`Invalid character ')' at ${at}`)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst findItems = (queryMap: Map<number, string>, queryString: string, offset: number): void => {\r\n    if (offset >= queryString.length) {\r\n        return\r\n    }\r\n\r\n    const pattern = new RegExp('(?<skip>(?<=[\"])(?:[^\"\\\\\\\\]|\\\\\\\\.)+)|(?<=(\\\\s))AND(?=(\\\\s))|(?<=(\\\\s))OR(?=(\\\\s))', 'i')\r\n    const matches = queryString.substring(offset).match(pattern)\r\n\r\n    if (matches !== null) {\r\n        if (matches.groups?.skip) {\r\n            const match = matches.groups.skip\r\n            const index = matches.index ? matches.index + offset : queryString.indexOf(match)\r\n            const item = queryString.substring(offset, index + match.length + 1).trim()\r\n\r\n            if (!isEmpty(item)) {\r\n                queryMap.set(offset, item)\r\n            }\r\n\r\n            findItems(queryMap, queryString, index + match.length + 1)\r\n        } else {\r\n            const match = matches[0]\r\n            const index = matches.index ? matches.index + offset : queryString.indexOf(match)\r\n            queryMap.set(index, match)\r\n\r\n            const item = queryString.substring(offset, index).trim()\r\n\r\n            if (!isEmpty(item)) {\r\n                queryMap.set(offset, item)\r\n            }\r\n\r\n            findItems(queryMap, queryString, index + match.length)\r\n        }\r\n    } else {\r\n        const item = queryString.substring(offset).trim()\r\n\r\n        if (!isEmpty(item)) {\r\n            queryMap.set(offset, item)\r\n        }\r\n    }\r\n}\r\n\r\nconst parseItem = (str: string, blocksMap: Map<string, string>): FilterItem | null => {\r\n    const operand = matchOperand(str)\r\n\r\n    if (operand !== null) {\r\n        return getOperandItem(operand)\r\n    }\r\n\r\n    const date = matchDate(str)\r\n\r\n    if (date !== null) {\r\n        return getDateItem(str, date)\r\n    }\r\n\r\n    const operation = matchOperation(str)\r\n\r\n    if (operation !== null) {\r\n        return getOperationItem(str, operation)\r\n    }\r\n\r\n    const filter = matchFilter(str)\r\n\r\n    if (filter !== null) {\r\n        return getFilterItem(str, filter)\r\n    }\r\n\r\n    const block = matchBlock(str)\r\n\r\n    if (block !== null) {\r\n        return getBlockItem(blocksMap, block)\r\n    }\r\n\r\n    const textSearch = matchTextSearch(str)\r\n\r\n    if (textSearch !== null) {\r\n        return getTextSearchItem(str)\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nconst matchOperand = (str: string): string | null => {\r\n    const lowerCaseStr = str.toLowerCase()\r\n    return lowerCaseStr === 'and' || lowerCaseStr === 'or' ? str : null\r\n}\r\n\r\nconst matchDate = (str: string): string | null => {\r\n    const match = matchRegexp(/^\\w+/i, str)\r\n    return match === 'started' ? match : null\r\n}\r\n\r\nconst matchOperation = (str: string): string | null => {\r\n    const matches = str.match(/\\s(<=|>=|<>|=|<|>|between)\\s/i)\r\n    return matches && matches[1]\r\n}\r\n\r\nconst matchFilter = (str: string): string | null => {\r\n    const matches = str.match(/(:|\\sNOT)\\s/i)\r\n    return matches && matches[0].trim()\r\n}\r\n\r\nconst matchBlock = (str: string): string | null => str.includes(BLOCK) ? str : null\r\n\r\nconst matchTextSearch = (str: string): string | null => matchRegexp(/\\w*/i, str)\r\n\r\nconst getOperandItem = (value: string): FilterItem => ({itemType: 'operand', value})\r\n\r\nconst getDateItem = (str: string, type: string): DateFilerItem => {\r\n    const textValue = str.includes(':')\r\n        ? getTextValue(str, str.indexOf(':') + 1)\r\n        : getTextValue(str, str.indexOf(' '))\r\n    const dateType = getDateType(str, textValue)\r\n    const date = convertToDate(convertToDayjs(textValue, 'MM/DD/YY hh:mm a'))\r\n\r\n    if (isDateTypeWithValue(dateType)) {\r\n        if (!dateUtils.isValidDate(date)) {\r\n            throw new Error(`Invalid date for date type: ${dateType}`)\r\n        }\r\n\r\n        return {itemType: 'date', type, dateType, value: date}\r\n    } else {\r\n        return {itemType: 'date', type, dateType}\r\n    }\r\n}\r\n\r\nconst getOperationItem = (str: string, operator: string): OperationFilterItem => {\r\n    const type = normalizeString(str.substring(0, str.indexOf(operator)))\r\n    const value = getTextValue(str, getIndexAfterSubstring(str, operator))\r\n    return {itemType: 'operation', type, operator: OperatorType.check(operator), value}\r\n}\r\n\r\nconst getFilterItem = (str: string, filter: string): FilterItem => {\r\n    const type = normalizeString(str.substring(0, str.indexOf(filter)))\r\n    const index = getIndexAfterSubstring(str, filter)\r\n    const textValue = getTextValue(str, index)\r\n    return {itemType: 'filter', type, value: textValue}\r\n}\r\n\r\nconst getBlockItem = (blocksMap: Map<string, string>, block: string): FilterItem => {\r\n    const blockQueryString = blocksMap.get(block) as string\r\n    const value = parse(trimSurroundingChars(blockQueryString), block)\r\n    return {itemType: 'block', value}\r\n}\r\n\r\nconst getTextSearchItem = (str: string): FilterItem => {\r\n    if (matchRegexp(/(.*[^*]){3}/i, str) !== null) {\r\n        return {itemType: 'textSearch', type: 'text_search', value: str}\r\n    } else {\r\n        throw new Error(` Full text search argument ${str} must have at least three characters and not contains * symbol`)\r\n    }\r\n}\r\n\r\nconst matchRegexp = (pattern: RegExp, str: string): string | null => {\r\n    const matches = str.match(pattern)\r\n    return matches !== null ? matches[0] : null\r\n}\r\n\r\nconst getTextValue = (str: string, index: number): string => {\r\n    const matches = str.match(/(?:\")(?:[^\"\\\\]|\\\\.)+/g)\r\n    const textValue = matches && matches.pop() || null\r\n    return textValue === null ? normalizeString(str.substring(index), false) : textValue\r\n}\r\n\r\nconst getDateType = (str: string, textValue: string): DateType => {\r\n    const lowerCaseStr = str.toLowerCase()\r\n\r\n    switch (true) {\r\n        case lowerCaseStr.includes('after'):\r\n            return 'after'\r\n        case lowerCaseStr.includes('before'):\r\n            return 'before'\r\n        default: {\r\n            const dateType = textValue.toLowerCase().replace(' ', '_')\r\n            return DateType.check(dateType)\r\n        }\r\n    }\r\n}\r\n\r\nconst isDateTypeWithValue = (dateType: DateType): boolean => dateType === 'after' || dateType === 'before'\r\n\r\nconst normalizeString = (str: string, isToLowerCase = true): string => {\r\n    let normalizedStr = str.trim()\r\n        .replace('\"', '')\r\n        .replace('\\'', '')\r\n\r\n    if (isToLowerCase) {\r\n        normalizedStr = normalizedStr.toLowerCase()\r\n    }\r\n\r\n    return normalizedStr\r\n}\r\n\r\nconst getIndexAfterSubstring = (str: string, subStr: string): number => {\r\n    const index = str.indexOf(subStr) + subStr.length\r\n    return Math.max(0, index)\r\n}\r\n\r\nconst trimSurroundingChars = (str: string): string => {\r\n    return str.substring(1, str.length - 1)\r\n}\r\n","import {formatDate} from '@bpinc/lib-helpers'\r\n\r\nimport type {FilterItem} from './query-lang-parser'\r\nimport {areFilterItemsInvalid, parseQueryString} from './query-lang-parser'\r\nimport type {Filter, IdName} from './search-tab-filter'\r\n\r\n\r\nexport const parseSearchFilter = (filter: Filter, queryString: string): string => {\r\n    const convertedFilter: string = convertFilterToQueryString(filter)\r\n    const filterItems = parseQueryString(queryString)\r\n    let mediaTypes\r\n    let textSearch\r\n\r\n    if (!areFilterItemsInvalid(filterItems)) {\r\n        mediaTypes = findMediaTypesInFilterItems(filterItems as FilterItem[])\r\n        textSearch = findTextSearchInFilterItems(filterItems as FilterItem[])\r\n    }\r\n\r\n    let newQueryString\r\n\r\n    if (textSearch) {\r\n        if (convertedFilter) {\r\n            newQueryString = textSearch + ' and ' + convertedFilter\r\n        } else {\r\n            newQueryString = textSearch\r\n        }\r\n    } else {\r\n        newQueryString = convertedFilter\r\n    }\r\n\r\n    return mediaTypes\r\n        ? `(${mediaTypes}) and (${newQueryString})`\r\n        : newQueryString\r\n}\r\n\r\nconst convertFilterToQueryString = (filter: Filter): string => {\r\n    return Object.entries(filter)\r\n        .map(([key, value]) => {\r\n            switch (key) {\r\n                case 'numberOfHolds':\r\n                    return convertSingle(value, 'number_of_holds')\r\n                case 'segments':\r\n                    return convertSingle(value, key)\r\n                case 'contactAccount':\r\n                    return value ? [`contact: \"${value}\"`, `account_number: \"${value}\"`] : null\r\n                case 'service':\r\n                case 'disposition':\r\n                case 'direction':\r\n                    return convertMulti(value, key)\r\n                case 'scenario':\r\n                    return convertMulti(value, 'scenario')\r\n                case 'duration':\r\n                    return convertOperator(value, key)\r\n                case 'talkTime':\r\n                    return convertOperator(value, 'talk_time')\r\n                case 'queueTime':\r\n                    return convertOperator(value, 'queue_time')\r\n                case 'holdTime':\r\n                    return convertOperator(value, 'hold_time')\r\n                case 'voiceRecording':\r\n                    return convertBoolean(value, 'voice_recording', 'exists')\r\n                case 'screenRecording':\r\n                    return convertBoolean(value, 'screen_recording', 'exists')\r\n                case 'transcript':\r\n                    return convertBoolean(value, 'transcript', 'exists')\r\n                case 'flag':\r\n                    return convertBoolean(value, key)\r\n                case 'callProblem':\r\n                    return convertBoolean(value, 'call_problem')\r\n                case 'timePeriod':\r\n                    if (value) {\r\n                        switch (value.type) {\r\n                            case 'today':\r\n                            case 'yesterday':\r\n                            case 'last_24h':\r\n                            case 'last_week':\r\n                            case 'last_month':\r\n                                return `started: ${value.type.replace('_', ' ')}`\r\n                            case 'select':\r\n                            case 'after':\r\n                                return `started after \"${formatTime(value.value)}\"`\r\n                            case 'before':\r\n                                return `started before \"${formatTime(value.value)}\"`\r\n                            case 'between':\r\n                                return `started after \"${formatTime(value.value[0])}\" and started before \"${formatTime(value.value[1])}\"`\r\n                        }\r\n                    }\r\n\r\n                    return null\r\n                case 'phoneAddress':\r\n                    return value ? [`from: \"${value}\"`, `to: \"${value}\"`] : null\r\n                case 'agentTeam':\r\n                    if (!!value && value.value.length) {\r\n                        switch (value.type) {\r\n                            case 'agent':\r\n                                return value.value.map((item: IdName) => `agent: ${item.id}`)\r\n                            case 'team':\r\n                                return value.value.map((item: IdName) => `team: \"${item.name}\"`)\r\n                        }\r\n                    }\r\n\r\n                    return null\r\n            }\r\n\r\n            return null\r\n        })\r\n        .filter(strFilter => !!strFilter)\r\n        .map(strFilter => {\r\n            if (strFilter instanceof Array) {\r\n                if (strFilter.length === 1) {\r\n                    return strFilter[0]\r\n                }\r\n\r\n                return `(${strFilter.join(' or ')})`\r\n            }\r\n\r\n            return strFilter\r\n        })\r\n        .join(' and ')\r\n}\r\n\r\nconst convertSingle = (value: any, filterName: string): string | null => {\r\n    return value ? `${filterName}: ${value}` : null\r\n}\r\n\r\nconst convertMulti = (values: string[], filterName: string): string[] | null => {\r\n    return values.length\r\n        ? values.map(v => `${filterName}: \"${v}\"`)\r\n        : null\r\n}\r\n\r\nconst convertOperator = (value: any, filterName: string): string | null => {\r\n    if (!!value && !!value.operator && !!value.value) {\r\n        return `${filterName} ${value.operator} ${value.value}`\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nconst convertBoolean = (value: any, filterName: string, yes = 'yes'): string | null => {\r\n    return value\r\n        ? value === yes ? `${filterName}: ${value}` : `${filterName}: ${value}`\r\n        : null\r\n}\r\n\r\nconst formatTime = (date: Date) => formatDate(date, 'L LT')\r\n\r\nconst findMediaTypesInFilterItems = (filterItems: FilterItem[]): undefined | string => {\r\n    let mediaTypes: undefined | string\r\n    let prevWasMediaType = false\r\n    let prevOperand = 'or'\r\n    const blocks: FilterItem[] = []\r\n\r\n    for (const filterItem of filterItems) {\r\n        if (filterItem.itemType === 'filter' && filterItem.type === 'media_type') {\r\n            if (!!mediaTypes && prevWasMediaType) {\r\n                mediaTypes += ` ${prevOperand} ${filterItem.type}: ${filterItem.value}`\r\n            } else {\r\n                mediaTypes = `${filterItem.type}: ${filterItem.value}`\r\n            }\r\n\r\n            prevWasMediaType = true\r\n        } else if (filterItem.itemType === 'operand') {\r\n            prevOperand = filterItem.value\r\n        } else if (prevWasMediaType) {\r\n            break\r\n        }\r\n\r\n        if (!mediaTypes && filterItem.itemType === 'block') {\r\n            blocks.push(filterItem)\r\n        }\r\n    }\r\n\r\n    if (!mediaTypes && blocks.length > 0) {\r\n        for (const {value: block} of blocks) {\r\n            mediaTypes = findMediaTypesInFilterItems(block)\r\n\r\n            if (mediaTypes) {\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\n    return mediaTypes\r\n}\r\n\r\nconst findTextSearchInFilterItems = (filterItems: FilterItem[]): undefined | string => {\r\n    let textSearch: undefined | string\r\n    const blocks: FilterItem[] = []\r\n\r\n    for (const filterItem of filterItems) {\r\n        if (!textSearch && filterItem.itemType === 'textSearch') {\r\n            textSearch = filterItem.value\r\n            break\r\n        }\r\n\r\n        if (filterItem.itemType === 'block') {\r\n            blocks.push(filterItem)\r\n        }\r\n    }\r\n\r\n    if (!textSearch && blocks.length > 0) {\r\n        for (const {value: block} of blocks) {\r\n            textSearch = findTextSearchInFilterItems(block)\r\n\r\n            if (textSearch) {\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\n    return textSearch\r\n}\r\n","import type {DateFilerItem, FilterItem, OperationFilterItem, QueryLangParserError} from './query-lang-parser'\r\nimport {areFilterItemsInvalid, parseQueryString} from './query-lang-parser'\r\nimport type {Filter, IdName} from './search-tab-filter'\r\nimport {DateType, DirectionType, ExistType, YesNoType} from './search-tab-filter'\r\nimport type {RemoteDataState} from './search-tab-remote-data'\r\n\r\n\r\nexport const parseSearchQueryString = (initialFilter: Filter, filter: Filter,\r\n    queryString: string, remoteDataState: RemoteDataState): Filter => {\r\n    const parsedQueryString = parseQueryString(queryString)\r\n\r\n    if (areFilterItemsInvalid(parsedQueryString)) {\r\n        throw new Error((parsedQueryString as QueryLangParserError).error)\r\n    }\r\n\r\n    const filterItems = parsedQueryString as FilterItem[]\r\n\r\n    if (queryString.length === 0 || filterItems.length !== 0) {\r\n        const newFilter = convertFilterItemsToFilter(filterItems, {}, remoteDataState)\r\n        return {...initialFilter, ...newFilter}\r\n    }\r\n\r\n    return filter\r\n}\r\n\r\nconst convertFilterItemsToFilter = (filterItems: FilterItem[], newFilter: Partial<Filter>, remoteDataState: RemoteDataState): Partial<Filter> => {\r\n    const existingFilters: string[] = Object.keys(newFilter)\r\n    const blocks: FilterItem[] = []\r\n\r\n    filterItems.forEach(filterItem => {\r\n        if (filterItem.itemType === 'date') {\r\n            if (!existingFilters.includes('timePeriod') && !newFilter.timePeriod) {\r\n                const dateFilterItem = filterItem as DateFilerItem\r\n\r\n                if (DateType.guard(dateFilterItem.dateType)) {\r\n                    newFilter.timePeriod = {type: dateFilterItem.dateType, value: dateFilterItem.value}\r\n                }\r\n            }\r\n        } else if (filterItem.itemType === 'operation') {\r\n            const operationFilterItem = filterItem as OperationFilterItem\r\n\r\n            if (!existingFilters.includes('duration') && !newFilter.duration\r\n                && operationFilterItem.type === 'duration') {\r\n                newFilter.duration = {value: operationFilterItem.value, operator: operationFilterItem.operator}\r\n            }\r\n\r\n            if (!existingFilters.includes('talkTime') && !newFilter.talkTime\r\n                && operationFilterItem.type === 'talk_time') {\r\n                newFilter.talkTime = {value: operationFilterItem.value, operator: operationFilterItem.operator}\r\n            }\r\n\r\n            if (!existingFilters.includes('queueTime') && !newFilter.queueTime\r\n                && operationFilterItem.type === 'queue_time') {\r\n                newFilter.queueTime = {value: operationFilterItem.value, operator: operationFilterItem.operator}\r\n            }\r\n\r\n            if (!existingFilters.includes('holdTime') && !newFilter.holdTime\r\n                && operationFilterItem.type === 'hold_time') {\r\n                newFilter.holdTime = {value: operationFilterItem.value, operator: operationFilterItem.operator}\r\n            }\r\n        } else if (filterItem.itemType === 'filter') {\r\n            if (!existingFilters.includes('service') && filterItem.type === 'service') {\r\n                newFilter.service = [...(newFilter.service || []), filterItem.value]\r\n            }\r\n\r\n            if (!existingFilters.includes('phoneAddress') && !newFilter.phoneAddress\r\n                && (filterItem.type === 'from' || filterItem.type === 'to')) {\r\n                newFilter.phoneAddress = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('agentTeam')) {\r\n                if (filterItem.type === 'agent' && (!newFilter.agentTeam || newFilter.agentTeam.type === 'agent')) {\r\n                    newFilter.agentTeam = {\r\n                        type: 'agent',\r\n                        value: [...(newFilter.agentTeam?.value || []), findByIdOrName(remoteDataState.agents, filterItem.value)],\r\n                    }\r\n                }\r\n\r\n                if (filterItem.type === 'team' && (!newFilter.agentTeam || newFilter.agentTeam.type === 'team')) {\r\n                    newFilter.agentTeam = {\r\n                        type: 'team',\r\n                        value: [...(newFilter.agentTeam?.value || []), findByIdOrName(remoteDataState.teams, filterItem.value)],\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!existingFilters.includes('disposition') && filterItem.type === 'disposition') {\r\n                newFilter.disposition = [...(newFilter.disposition || []), filterItem.value]\r\n            }\r\n\r\n            if (!existingFilters.includes('contactAccount') && !newFilter.contactAccount\r\n                && (filterItem.type === 'contact' || filterItem.type === 'account_number')) {\r\n                newFilter.contactAccount = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('voiceRecording') && !newFilter.voiceRecording\r\n                && filterItem.type === 'voice_recording' && ExistType.guard(filterItem.value)) {\r\n                newFilter.voiceRecording = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('screenRecording') && !newFilter.screenRecording\r\n                && filterItem.type === 'screen_recording' && ExistType.guard(filterItem.value)) {\r\n                newFilter.screenRecording = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('transcript') && !newFilter.transcript\r\n                && filterItem.type === 'transcript' && ExistType.guard(filterItem.value)) {\r\n                newFilter.transcript = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('scenario') && filterItem.type === 'scenario') {\r\n                newFilter.scenario = [...(newFilter.scenario || []), filterItem.value]\r\n            }\r\n\r\n            if (!existingFilters.includes('numberOfHolds') && !newFilter.numberOfHolds\r\n                && filterItem.type === 'number_of_holds') {\r\n                newFilter.numberOfHolds = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('flag') && !newFilter.flag\r\n                && filterItem.itemType === 'filter' && filterItem.type === 'flag' && YesNoType.guard(filterItem.value)) {\r\n                newFilter.flag = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('direction') && filterItem.type === 'direction'\r\n                && DirectionType.guard(filterItem.value) && (!newFilter.direction || !newFilter.direction.includes(filterItem.value))) {\r\n                newFilter.direction = [...(newFilter.direction || []), filterItem.value]\r\n            }\r\n\r\n            if (!existingFilters.includes('segments') && !newFilter.segments && filterItem.type === 'segments') {\r\n                newFilter.segments = filterItem.value\r\n            }\r\n\r\n            if (!existingFilters.includes('callProblem') && !newFilter.callProblem\r\n                && filterItem.type === 'call_problem' && YesNoType.guard(filterItem.value)) {\r\n                newFilter.callProblem = filterItem.value\r\n            }\r\n        } else if (filterItem.itemType === 'block') {\r\n            blocks.push(filterItem)\r\n        }\r\n    })\r\n\r\n    blocks.forEach(({value: block}) => convertFilterItemsToFilter(block, newFilter, remoteDataState))\r\n\r\n    return newFilter\r\n}\r\n\r\nconst findByIdOrName = (list: IdName[], idOrName: string): IdName => {\r\n    const resultById = list\r\n        .filter(item => item.id === idOrName)[0]\r\n\r\n    if (resultById) {\r\n        return resultById\r\n    }\r\n\r\n    const resultByName = list\r\n        .filter(item => item.name === idOrName)[0]\r\n\r\n    if (resultByName) {\r\n        return resultByName\r\n    }\r\n\r\n    return {id: idOrName, name: idOrName}\r\n}\r\n","import {StringUnion} from '../utils'\r\nimport {getErrorMessage} from '../utils/format'\r\nimport {parseSearchFilter} from './search-filter-parser'\r\nimport {parseSearchQueryString} from './search-query-string-parser'\r\nimport type {RemoteDataState} from './search-tab-remote-data'\r\n\r\n\r\nexport const MediaType = StringUnion('voice', 'chat', 'email')\r\nexport type MediaType = typeof MediaType.type\r\nexport const DateType = StringUnion('today', 'yesterday', 'last_24h', 'last_week', 'last_month', 'select', 'after', 'before', 'between')\r\nexport type DateType = typeof DateType.type\r\nexport type TimePeriod = null | {type: DateType; value?: Date | Date[]}\r\nexport type IdName = {id: string; name: string}\r\nexport type AgentTeamFilterType = 'agent' | 'team'\r\nexport type AgentTeam = null | {type: AgentTeamFilterType; value: IdName[]}\r\nexport const ExistType = StringUnion('exists', 'not_exists')\r\nexport type ExistType = typeof ExistType.type\r\nexport const OperatorType = StringUnion('=', '<', '<=', '>', '>=')\r\nexport type OperatorType = typeof OperatorType.type\r\nexport type Duration = {operator: null | OperatorType; value: null | string}\r\nexport const YesNoType = StringUnion('yes', 'no')\r\nexport type YesNoType = typeof YesNoType.type\r\nexport const DirectionType = StringUnion('inbound', 'outbound')\r\nexport type DirectionType = typeof DirectionType.type\r\n\r\nexport interface Filter {\r\n    timePeriod: TimePeriod\r\n    phoneAddress: string\r\n    service: string[]\r\n    agentTeam: AgentTeam\r\n    disposition: string[]\r\n    contactAccount: string\r\n    voiceRecording: null | ExistType\r\n    screenRecording: null | ExistType\r\n    transcript: null | ExistType\r\n    duration: Duration\r\n    talkTime: Duration\r\n    queueTime: Duration\r\n    scenario: string[]\r\n    holdTime: Duration\r\n    numberOfHolds: string\r\n    flag: null | YesNoType\r\n    direction: string[]\r\n    segments: string\r\n    callProblem: null | YesNoType\r\n}\r\n\r\nexport interface TabFilter {\r\n    mediaTypes: MediaType[]\r\n    queryString: string\r\n    filter: Filter\r\n    error: null | string\r\n}\r\n\r\nconst initialFilterState: Filter = {\r\n    timePeriod: null,\r\n    phoneAddress: '',\r\n    service: [],\r\n    agentTeam: null,\r\n    disposition: [],\r\n    contactAccount: '',\r\n    voiceRecording: null,\r\n    screenRecording: null,\r\n    transcript: null,\r\n    duration: {operator: null, value: null},\r\n    talkTime: {operator: null, value: null},\r\n    queueTime: {operator: null, value: null},\r\n    scenario: [],\r\n    holdTime: {operator: null, value: null},\r\n    numberOfHolds: '',\r\n    flag: null,\r\n    direction: [],\r\n    segments: '',\r\n    callProblem: null,\r\n}\r\n\r\nexport const initialTabFilterState: TabFilter = {\r\n    mediaTypes: ['voice', 'chat', 'email'],\r\n    queryString: '',\r\n    filter: initialFilterState,\r\n    error: null,\r\n}\r\n\r\nexport const updateMediaTypes = (tabFilter: TabFilter, mediaTypes: MediaType[]): TabFilter => ({\r\n    ...tabFilter,\r\n    mediaTypes,\r\n})\r\n\r\nexport const updateQueryString = (tabFilter: TabFilter, queryString: string, remoteDataState: RemoteDataState): TabFilter => {\r\n    try {\r\n        const newFilter = parseSearchQueryString(initialFilterState, tabFilter.filter, queryString, remoteDataState)\r\n\r\n        return ({\r\n            ...tabFilter,\r\n            queryString,\r\n            filter: newFilter,\r\n            error: null,\r\n        })\r\n    } catch (e) {\r\n        return ({\r\n            ...tabFilter,\r\n            queryString,\r\n            error: getErrorMessage(e) ?? null,\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateFilter = <K extends keyof Filter>(tabFilter: TabFilter, key: K, value: Filter[K]): TabFilter => {\r\n    const newFilter = {\r\n        ...tabFilter.filter,\r\n        [key]: value,\r\n    }\r\n    const newQueryString = parseSearchFilter(newFilter, tabFilter.queryString)\r\n\r\n    return ({\r\n        ...tabFilter,\r\n        queryString: newQueryString,\r\n        filter: newFilter,\r\n        error: null,\r\n    })\r\n}\r\n\r\nexport const clearFilter = (tabFilter: TabFilter): TabFilter => {\r\n    const newQueryString = parseSearchFilter(initialFilterState, tabFilter.queryString)\r\n\r\n    return ({\r\n        ...tabFilter,\r\n        queryString: newQueryString,\r\n        filter: initialFilterState,\r\n        error: null,\r\n    })\r\n}\r\n\r\nexport const getFullQueryString = ({mediaTypes, queryString}: TabFilter): string => {\r\n    return mediaTypes.length === MediaType.values.length\r\n        ? queryString\r\n        : `(${mediaTypes.map(mediaType => `media_type: ${mediaType}`).join(' or ')}) and (${queryString})`\r\n}\r\n","import type {AxiosResponse} from 'axios'\r\nimport axios from 'axios'\r\n\r\nimport type {IdName} from './search-tab-filter'\r\n\r\n\r\nexport interface RemoteDataState {\r\n    services: string[]\r\n    agents: IdName[]\r\n    teams: IdName[]\r\n    dispositions: string[]\r\n    scenarios: string[]\r\n}\r\n\r\nexport interface RemoteData extends RemoteDataState {\r\n    loadServices: () => void\r\n    loadAgents: () => void\r\n    loadTeams: () => void\r\n    loadDispositions: () => void\r\n    loadScenarios: () => void\r\n}\r\n\r\ninterface RemoteDataAction<K extends keyof RemoteDataState> {\r\n    key: K\r\n    value: RemoteDataState[K]\r\n}\r\n\r\ntype dispatcher<K extends keyof RemoteDataState> = ({key, value}: RemoteDataAction<K>) => void\r\n\r\nexport const initialRemoteDataState: RemoteDataState = {\r\n    services: [],\r\n    agents: [],\r\n    teams: [],\r\n    dispositions: [],\r\n    scenarios: [],\r\n}\r\n\r\nexport const remoteDataReducer = <K extends keyof RemoteDataState>(\r\n    state: RemoteDataState,\r\n    {key, value}: RemoteDataAction<K>): RemoteDataState => ({\r\n    ...state,\r\n    [key]: value,\r\n})\r\n\r\nexport const loadServices = async (dispatch: dispatcher<'services'>, sessionId?: string): Promise<void> => load('services', dispatch, sessionId)\r\n\r\nexport const loadAgents = async (dispatch: dispatcher<'agents'>, sessionId?: string): Promise<void> => load('agents', dispatch, sessionId)\r\n\r\nexport const loadTeams = async (dispatch: dispatcher<'teams'>, sessionId?: string): Promise<void> => load('teams', dispatch, sessionId)\r\n\r\nexport const loadDispositions = async (dispatch: dispatcher<'dispositions'>, services: string[], sessionId?: string): Promise<void> => {\r\n    const key = 'dispositions'\r\n    dispatch({key, value: []})\r\n\r\n    const {data}: AxiosResponse<string[]> = await axios.post(\r\n        `/admin/rest/evaluation/get-dispositions?token=${sessionId}`,\r\n        JSON.stringify(services),\r\n        {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        },\r\n    )\r\n    dispatch({key, value: data})\r\n}\r\n\r\nexport const loadScenarios = async (dispatch: dispatcher<'scenarios'>, sessionId?: string): Promise<void> => load('scenarios', dispatch, sessionId)\r\n\r\nconst load = async <K extends keyof RemoteDataState>(key: K, dispatch: dispatcher<K>, sessionId?: string, path: string = key): Promise<void> => {\r\n    dispatch({key, value: []})\r\n\r\n    const {data}: AxiosResponse<RemoteDataState[K]> = await axios.get(`/admin/rest/evaluation/get-${path}?token=${sessionId}`)\r\n    dispatch({key, value: data})\r\n}\r\n","import {\r\n    createContext,\r\n    useCallback,\r\n    useContext,\r\n    useEffect,\r\n    useMemo,\r\n    useReducer,\r\n    useRef,\r\n    useState,\r\n} from 'react'\r\nimport type {AxiosResponse} from 'axios'\r\nimport axios from 'axios'\r\nimport {findIndex, isEqual, omit, uniqueId} from 'lodash-es'\r\n\r\nimport {useSessionState} from '@bpinc/ad-session-context'\r\nimport {getErrorMessage} from '@bpinc/lib-helpers'\r\n\r\nimport type {Interaction} from '../type/interaction-type'\r\nimport type {Filter, MediaType, TabFilter} from './search-tab-filter'\r\nimport {\r\n    clearFilter,\r\n    getFullQueryString,\r\n    initialTabFilterState,\r\n    updateFilter,\r\n    updateMediaTypes,\r\n    updateQueryString,\r\n} from './search-tab-filter'\r\nimport type {RemoteData} from './search-tab-remote-data'\r\nimport {\r\n    initialRemoteDataState,\r\n    loadAgents,\r\n    loadDispositions,\r\n    loadScenarios,\r\n    loadServices,\r\n    loadTeams,\r\n    remoteDataReducer,\r\n} from './search-tab-remote-data'\r\n\r\n\r\nexport interface Tab {\r\n    id: string\r\n    general: boolean\r\n    tabFilter: TabFilter\r\n    filterPanelOpened: boolean\r\n    searchParams: SearchParams\r\n    searchResponse: SearchResponse\r\n}\r\n\r\ninterface GeneralTab extends Tab {\r\n    visible: boolean\r\n    selected: boolean\r\n}\r\n\r\ninterface SearchTab {\r\n    tabs: Tab[]\r\n    selectedTab: Tab\r\n    generalTab: GeneralTab\r\n    openNewTab: () => void\r\n    getTabLocalStorageId: (tabId: string) => string\r\n    selectTab: (tabId: string) => void\r\n    updateTab: (tabId: string, props: Partial<Omit<Tab, 'id, filter'>>) => void\r\n    updateTabFilter: {\r\n        updateMediaTypes: (tabId: string, mediaTypes: MediaType[]) => void\r\n        updateQueryString: (tabId: string, queryString: string) => void\r\n        updateFilter: <K extends keyof Filter>(tabId: string, key: K, value: Filter[K]) => void\r\n        clearFilter: (tabId: string) => void\r\n        toggleFilterPanel: (tabId: string) => void\r\n    }\r\n    remoteData: RemoteData\r\n    search: (tabId: string, queryString: string, searchParams: SearchParams) => void\r\n    closeTab: (tabId: string) => void\r\n}\r\n\r\ninterface SearchParams {\r\n    offset: number\r\n    limit: number\r\n    sortField?: string\r\n    sortDir?: string\r\n}\r\n\r\ninterface SearchResponse {\r\n    error: null | string\r\n    results: Interaction[]\r\n    total: number\r\n}\r\n\r\nconst TAB_ID_PREFIX = 'tab_'\r\nconst GENERAL_TAB_ID = `${TAB_ID_PREFIX}general`\r\nconst LS_TAB_ID_PREFIX = 'omni_qm_search_'\r\n\r\nconst initialSearchParams: SearchParams = {\r\n    offset: 0,\r\n    limit: 200,\r\n}\r\n\r\nexport const defaultResponse: SearchResponse = {\r\n    error: null,\r\n    results: [],\r\n    total: 0,\r\n}\r\n\r\nexport const SearchTabContext = createContext<SearchTab | undefined>(undefined)\r\nSearchTabContext.displayName = 'SearchTabContext'\r\n\r\nexport const useSearchTabContext = () => {\r\n    const searchTabContext = useContext(SearchTabContext)\r\n\r\n    if (!searchTabContext) {\r\n        throw new Error('useSearchTabContext must be used within the SearchTabContext.Provider')\r\n    }\r\n\r\n    return searchTabContext\r\n}\r\n\r\nexport const useSearchTabContextValue = (): SearchTab => {\r\n    const {sessionId} = useSessionState()\r\n    const [tabs, setTabs] = useState<Tab[]>([createNewTab(null, {general: true})])\r\n    const tabsChangeTracker = useRef<Tab[]>(tabs)\r\n    const [selectedTabId, setSelectedTabId] = useState<string>(tabs[0].id)\r\n    const selectedTab = useMemo<Tab>(() => getTab(tabs, selectedTabId), [tabs, selectedTabId])\r\n    const generalTab = useMemo<GeneralTab>(() => ({\r\n        ...tabs[0],\r\n        visible: tabs.length > 1,\r\n        selected: selectedTabId === GENERAL_TAB_ID,\r\n    }), [tabs, selectedTabId])\r\n    const [remoteDataState, dispatchRemoteDataState] = useReducer(remoteDataReducer, initialRemoteDataState)\r\n\r\n    useEffect(() => {\r\n        tabsChangeTracker.current = tabs\r\n    }, [tabs])\r\n\r\n    const updateTabInTabs = useCallback((tabId: string, tabUpdater: (tab: Tab) => Tab) => {\r\n        const tab = getTab(tabs, tabId)\r\n        const newTab = tabUpdater({...tab})\r\n        const updatedTabIndex = findIndex(tabs, t => t.id === tabId)\r\n        const newTabs = [...tabs]\r\n        newTabs[updatedTabIndex] = newTab\r\n        setTabs(newTabs)\r\n    }, [tabs, setTabs])\r\n\r\n    // use to check if tab data has changed after asynchronous operation\r\n    const tabDataChanged = useCallback((tabId: string, omitProps: (keyof Tab)[] = ['searchResponse']) => {\r\n        const tab1 = getTab(tabs, tabId)\r\n        const tab2 = getTab(tabsChangeTracker.current, tabId)\r\n\r\n        return !isEqual(omit(tab1, omitProps), omit(tab2, omitProps))\r\n    }, [tabs, tabsChangeTracker])\r\n\r\n    const openNewTab = useCallback(() => {\r\n        const [currentGeneralTab, ...otherTabs] = tabs\r\n        const newTab = createNewTab(currentGeneralTab.tabFilter, {filterPanelOpened: currentGeneralTab.filterPanelOpened})\r\n        const clearedGeneralTab: Tab = {...currentGeneralTab, tabFilter: initialTabFilterState}\r\n        setTabs([clearedGeneralTab, ...otherTabs, newTab])\r\n        setSelectedTabId(newTab.id)\r\n    }, [tabs, setTabs])\r\n    const getTabLocalStorageId = useCallback((tabId: string) => `${LS_TAB_ID_PREFIX}${tabId}`, [])\r\n    const selectTab = useCallback((tabId: string) => setSelectedTabId(tabId), [setSelectedTabId])\r\n    const updateTab = useCallback((tabId: string, props: Partial<Omit<Tab, 'id'>>) =>\r\n        updateTabInTabs(tabId, tab => ({...tab, ...props})),\r\n    [updateTabInTabs])\r\n    const updateTabFilter = {\r\n        updateMediaTypes: useCallback((tabId: string, mediaTypes: MediaType[]) => updateTabInTabs(tabId, tab => {\r\n            tab.tabFilter = updateMediaTypes(tab.tabFilter, mediaTypes)\r\n            return tab\r\n        }), [updateTabInTabs]),\r\n        updateQueryString: useCallback((tabId: string, queryString: string) => updateTabInTabs(tabId, tab => {\r\n            tab.tabFilter = updateQueryString(tab.tabFilter, queryString, remoteDataState)\r\n            return tab\r\n        }), [updateTabInTabs]),\r\n        updateFilter: useCallback(<K extends keyof Filter>(tabId: string, key: K, value: Filter[K]) => updateTabInTabs(tabId, tab => {\r\n            tab.tabFilter = updateFilter(tab.tabFilter, key, value)\r\n            return tab\r\n        }), [updateTabInTabs]),\r\n        clearFilter: useCallback((tabId: string) => updateTabInTabs(tabId, tab => {\r\n            tab.tabFilter = clearFilter(tab.tabFilter)\r\n            return tab\r\n        }), [updateTabInTabs]),\r\n        toggleFilterPanel: useCallback((tabId: string) => updateTabInTabs(tabId, tab => {\r\n            tab.filterPanelOpened = !tab.filterPanelOpened\r\n            return tab\r\n        }), [updateTabInTabs]),\r\n    }\r\n    const remoteData: RemoteData = {\r\n        ...remoteDataState,\r\n        loadServices: useCallback(() => loadServices(dispatchRemoteDataState, sessionId), [dispatchRemoteDataState, sessionId]),\r\n        loadAgents: useCallback(() => loadAgents(dispatchRemoteDataState, sessionId), [dispatchRemoteDataState, sessionId]),\r\n        loadTeams: useCallback(() => loadTeams(dispatchRemoteDataState, sessionId), [dispatchRemoteDataState, sessionId]),\r\n        loadDispositions: useCallback(() => loadDispositions(dispatchRemoteDataState, selectedTab.tabFilter.filter.service, sessionId),\r\n            [dispatchRemoteDataState, selectedTab.tabFilter.filter.service, sessionId]),\r\n        loadScenarios: useCallback(() => loadScenarios(dispatchRemoteDataState, sessionId), [dispatchRemoteDataState, sessionId]),\r\n    }\r\n    const search = useCallback(async (tabId: string, queryString: string, searchParams: SearchParams) => {\r\n        const params = {queryString, ...searchParams}\r\n\r\n        try {\r\n            const {data: searchResponse}: AxiosResponse<SearchResponse> = await axios\r\n                .post(`/admin/rest/evaluation/search/interactions?token=${sessionId}`, params)\r\n\r\n            searchResponse.results\r\n                .forEach(r => r.dataState = {\r\n                    voiceRecording: r.voiceRecording,\r\n                    screenRecording: r.screenRecording,\r\n                    transcript: r.transcript,\r\n                    voicemail: r.voicemail,\r\n                })\r\n\r\n            if (!tabDataChanged(tabId)) {\r\n                updateTab(tabId, {searchResponse})\r\n            }\r\n        } catch (e) {\r\n            updateTab(tabId, {searchResponse: {...defaultResponse, error: getErrorMessage(e) ?? null}})\r\n        }\r\n    }, [updateTab, tabDataChanged])\r\n    const closeTab = useCallback((tabId: string) => {\r\n        const newTabs = tabs.filter(tab => tab.id !== tabId)\r\n        setTabs(newTabs)\r\n\r\n        if (tabId == selectedTabId) {\r\n            const closedTabIndex = findIndex(tabs, tab => tab.id === tabId)\r\n            const nearestTabId = closedTabIndex === 0 ? 0 : closedTabIndex - 1\r\n            setSelectedTabId(newTabs[nearestTabId].id)\r\n        }\r\n    }, [tabs, setTabs, selectedTabId, setSelectedTabId])\r\n\r\n    // remove closed tabs state from local storage\r\n    useEffect(() => {\r\n        const tabsIds = tabs.map(tab => getTabLocalStorageId(tab.id))\r\n        Object.keys(localStorage)\r\n            .filter(key => key.startsWith(LS_TAB_ID_PREFIX) && !tabsIds.includes(key))\r\n            .map(key => localStorage.removeItem(key))\r\n    }, [tabs.length, getTabLocalStorageId])\r\n\r\n    return useMemo(() => ({\r\n        tabs,\r\n        selectedTab,\r\n        generalTab,\r\n        openNewTab,\r\n        getTabLocalStorageId,\r\n        selectTab,\r\n        updateTab,\r\n        updateTabFilter,\r\n        remoteData,\r\n        search,\r\n        closeTab,\r\n    }), [\r\n        tabs,\r\n        selectedTab,\r\n        generalTab,\r\n        openNewTab,\r\n        getTabLocalStorageId,\r\n        selectTab,\r\n        updateTab,\r\n        updateTabFilter,\r\n        remoteData,\r\n        search,\r\n        closeTab,\r\n    ])\r\n}\r\n\r\nconst createNewTab = (tabFilter?: null | TabFilter, {general = false, filterPanelOpened = false}: Partial<Tab> = {}): Tab => ({\r\n    id: general ? GENERAL_TAB_ID : `${TAB_ID_PREFIX}${new Date().getTime()}_${uniqueId()}`,\r\n    general,\r\n    tabFilter: getNewTabFilter(tabFilter),\r\n    filterPanelOpened,\r\n    searchParams: initialSearchParams,\r\n    searchResponse: defaultResponse,\r\n})\r\n\r\nconst getNewTabFilter = (tabFilter?: null | TabFilter): TabFilter => tabFilter\r\n    ? {...tabFilter, queryString: getFullQueryString(tabFilter)}\r\n    : initialTabFilterState\r\n\r\nconst getTab = (tabs: Tab[], tabId: string): Tab => tabs.filter(tab => tab.id === tabId)[0]\r\n","import React from 'react'\r\n\r\nimport type {FCWithChildren} from '@bpinc/lib-types-helpers'\r\n\r\nimport {SearchTabContext, useSearchTabContextValue} from '../context/search-tab-context'\r\n\r\n\r\nexport const SearchTabProvider: FCWithChildren = ({children}) => {\r\n    const {Provider} = SearchTabContext\r\n    const searchTabContextValue = useSearchTabContextValue()\r\n\r\n    return (\r\n        <Provider value={searchTabContextValue}>{children}</Provider>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"interactionSearch_FilterPanel_sidebar_9cGrb\",\"hidden\":\"interactionSearch_FilterPanel_hidden_GJf4v\",\"header\":\"interactionSearch_FilterPanel_header_Dxd7h\",\"toggleButton\":\"interactionSearch_FilterPanel_toggleButton_UGe2r\",\"absolute\":\"interactionSearch_FilterPanel_absolute_7EbB3\",\"linkButton\":\"interactionSearch_FilterPanel_linkButton_ATolA\",\"row\":\"interactionSearch_FilterPanel_row_vjcOJ\",\"filterItem\":\"interactionSearch_FilterPanel_filterItem_Y98Ie\",\"dropdownFilterLabel\":\"interactionSearch_FilterPanel_dropdownFilterLabel_mFviX\",\"mediaTypeFilterDropdown\":\"interactionSearch_FilterPanel_mediaTypeFilterDropdown_Xk2Rx\",\"mediaTypeFilterDropdownMenu\":\"interactionSearch_FilterPanel_mediaTypeFilterDropdownMenu_Jf0bh\",\"mediaTypeFilterDropdownHeader\":\"interactionSearch_FilterPanel_mediaTypeFilterDropdownHeader_tLUky\",\"mediaTypeFilterDropdownItem\":\"interactionSearch_FilterPanel_mediaTypeFilterDropdownItem_8wt5Q\",\"dateFilterTimepickerWrapper\":\"interactionSearch_FilterPanel_dateFilterTimepickerWrapper_CnNiV\",\"durationFilterWrapper\":\"interactionSearch_FilterPanel_durationFilterWrapper_zmbTI\"};","import type {FC} from 'react'\r\nimport React, {useCallback, useMemo} from 'react'\r\nimport {without} from 'lodash-es'\r\n\r\nimport type {SmCheckboxProps} from '@bpinc/lib-external-ui-elements'\r\nimport {SmCheckbox, SmDropdown} from '@bpinc/lib-external-ui-elements'\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\nimport {Dropdown} from '@bpinc/lib-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport {useSearchTabContext} from '../../context/search-tab-context'\r\nimport type {MediaType} from '../../context/search-tab-filter'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface MediaTypeFilterType {\r\n    text: string\r\n    type: 'all' | MediaType\r\n}\r\n\r\nexport const MediaTypeFilter: FC = () => {\r\n    const {t} = useLocalizationState()\r\n    const filters = useMemo<MediaTypeFilterType[]>(() => [\r\n        {text: t.INTERACTION_SEARCH.filter_panel_media_all(), type: 'all'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_media_voice(), type: 'voice'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_media_chat(), type: 'chat'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_media_email(), type: 'email'},\r\n    ], [])\r\n\r\n    const {generalTab: {id, tabFilter: {mediaTypes}}, updateTabFilter: {updateMediaTypes}} = useSearchTabContext()\r\n\r\n    const allSelected = useMemo(() => mediaTypes.length === filters.length - 1, [filters, mediaTypes])\r\n\r\n    const noneSelected = useMemo(() => !mediaTypes.length, [mediaTypes])\r\n\r\n    const text = useMemo<string>(() => {\r\n        if (allSelected) {\r\n            return filters[0].text\r\n        }\r\n\r\n        if (mediaTypes.length === 0) {\r\n            return 'Select'\r\n        }\r\n\r\n        return filters\r\n            .filter(filter => mediaTypes.includes(filter.type as MediaType))\r\n            .map(filter => filter.text)\r\n            .join(', ')\r\n    }, [allSelected, filters, mediaTypes])\r\n\r\n    const handleSelectAll = useCallback(() => {\r\n        if (allSelected) {\r\n            updateMediaTypes(id, [])\r\n        } else {\r\n            updateMediaTypes(id, filters\r\n                .filter(filter => filter.type !== filters[0].type)\r\n                .map(filter => filter.type as MediaType))\r\n        }\r\n    }, [id, allSelected, filters, updateMediaTypes])\r\n\r\n    const handleSelect = useCallback((e: any, data: SmCheckboxProps) => {\r\n        const {name, checked} = data\r\n        const type = name as MediaType\r\n\r\n        updateMediaTypes(id, checked ? [...mediaTypes, type] : without(mediaTypes, type))\r\n\r\n    }, [id, updateMediaTypes, mediaTypes])\r\n\r\n    return (\r\n        <Dropdown\r\n            className={tcn('isc', styles.mediaTypeFilterDropdown)}\r\n            text={text}\r\n            error={noneSelected}\r\n        >\r\n            <SmDropdown.Menu\r\n                className={styles.mediaTypeFilterDropdownMenu}\r\n                onClick={(e: any) => e.stopPropagation()}\r\n            >\r\n                <SmDropdown.Header\r\n                    className={styles.mediaTypeFilterDropdownHeader}\r\n                    content=\"Search In\"\r\n                />\r\n                {filters.map(filter => (\r\n                    <SmDropdown.Item\r\n                        key={filter.type}\r\n                        content={filter.type === 'all'\r\n                            ? (\r\n                                <SmCheckbox\r\n                                    className={styles.mediaTypeFilterDropdownItem}\r\n                                    checked={allSelected}\r\n                                    onChange={handleSelectAll}\r\n                                    label={filter.text}\r\n                                />\r\n                            )\r\n                            : (\r\n                                <SmCheckbox\r\n                                    className={styles.mediaTypeFilterDropdownItem}\r\n                                    checked={mediaTypes.includes(filter.type as MediaType)}\r\n                                    onChange={handleSelect}\r\n                                    name={filter.type}\r\n                                    label={filter.text}\r\n                                />\r\n                            )\r\n                        }\r\n                    />\r\n                ))}\r\n            </SmDropdown.Menu>\r\n        </Dropdown>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"panelGrid\":\"interactionSearch_SearchPanel_panelGrid_RJ55t\",\"searchTabsRow\":\"interactionSearch_SearchPanel_searchTabsRow_MDQ9V\",\"searchTabsColumn\":\"interactionSearch_SearchPanel_searchTabsColumn_J9EFj\",\"searchTabsWrapper\":\"interactionSearch_SearchPanel_searchTabsWrapper_HDt0K\",\"searchButton\":\"interactionSearch_SearchPanel_searchButton_gV3yp\",\"searchMoreTabsWrapper\":\"interactionSearch_SearchPanel_searchMoreTabsWrapper_nOV5s\",\"searchTabWrapper\":\"interactionSearch_SearchPanel_searchTabWrapper_nGe8W\",\"hidden\":\"interactionSearch_SearchPanel_hidden_4Zn2k\",\"searchMoreTabsDropdown\":\"interactionSearch_SearchPanel_searchMoreTabsDropdown_2mqvJ\",\"searchMoreTabsDropdownMenu\":\"interactionSearch_SearchPanel_searchMoreTabsDropdownMenu_UpGkG\",\"searchMoreTabsDropdownItem\":\"interactionSearch_SearchPanel_searchMoreTabsDropdownItem_bcHKk\",\"selected\":\"interactionSearch_SearchPanel_selected_qudJT\",\"invisible\":\"interactionSearch_SearchPanel_invisible_vkx4E\",\"searchTabTextWrapper\":\"interactionSearch_SearchPanel_searchTabTextWrapper_hCSRk\",\"searchTabCloseButtonWrapper\":\"interactionSearch_SearchPanel_searchTabCloseButtonWrapper_UTvaT\",\"panelSearchInputColumn\":\"interactionSearch_SearchPanel_panelSearchInputColumn_hUUHH\",\"searchInput\":\"interactionSearch_SearchPanel_searchInput_5kgAG\"};","import type {FC, MouseEvent} from 'react'\r\nimport React, {useCallback, useMemo} from 'react'\r\n\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {Tab} from '../../context/search-tab-context'\r\nimport {useSearchTabContext} from '../../context/search-tab-context'\r\nimport {Icon} from '../icon/Icon'\r\n\r\nimport styles from '../../styles/SearchPanel.module.less'\r\n\r\n\r\ninterface SearchTabProps {\r\n    tab: Tab\r\n    hidden: boolean\r\n}\r\n\r\nexport const SearchTab: FC<SearchTabProps> = ({tab: {id, general, tabFilter: {queryString}}, hidden}) => {\r\n    const {selectedTab, generalTab, selectTab, closeTab} = useSearchTabContext()\r\n    const {t} = useLocalizationState()\r\n\r\n    const tabTitle = useMemo(() => ({\r\n        title: t.INTERACTION_SEARCH.search_tab_title(),\r\n        queryString: general ? t.INTERACTION_SEARCH.search_tab_general() : queryString,\r\n    }), [general, queryString])\r\n\r\n    const handleSelectTab = useCallback(() => {\r\n        selectTab(id)\r\n    }, [id, selectTab])\r\n\r\n    const handleCloseTab = useCallback((e: MouseEvent) => {\r\n        e.stopPropagation()\r\n        closeTab(id)\r\n    }, [id, closeTab])\r\n\r\n    return (\r\n        <div\r\n            title={`${tabTitle.title}\\n${tabTitle.queryString}`}\r\n            className={tcn(\r\n                styles.searchTabWrapper, hidden && styles.hidden,\r\n                general && !generalTab.visible && styles.invisible,\r\n                selectedTab.id === id && styles.selected,\r\n            )}\r\n            onClick={handleSelectTab}\r\n        >\r\n            <div className={styles.searchTabTextWrapper}>\r\n                <div>\r\n                    {tabTitle.title}\r\n                </div>\r\n                <div>\r\n                    {tabTitle.queryString}\r\n                </div>\r\n            </div>\r\n\r\n            {!general && (\r\n                <div className={styles.searchTabCloseButtonWrapper}>\r\n                    <button onClick={handleCloseTab}>\r\n                        <Icon name=\"times\" />\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import type {FC, KeyboardEvent} from 'react'\r\nimport React, {\r\n    useCallback,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useMemo,\r\n    useRef,\r\n    useState,\r\n} from 'react'\r\nimport {debounce} from 'lodash-es'\r\n\r\nimport type {SmInputOnChangeData} from '@bpinc/lib-external-ui-elements'\r\nimport {SmButton, SmDropdown, SmGrid, SmInput} from '@bpinc/lib-external-ui-elements'\r\nimport {useResizeObserver} from '@bpinc/lib-helpers'\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport {useSearchTabContext} from '../../context/search-tab-context'\r\nimport {MediaTypeFilter} from '../filter-panel/MediaTypeFilter'\r\nimport {SearchTab} from './SearchTab'\r\n\r\nimport styles from '../../styles/SearchPanel.module.less'\r\n\r\n\r\nconst debounceUserInput = debounce(callback => callback(), 300, {leading: false, trailing: true})\r\n\r\nexport const SearchPanel: FC = () => {\r\n    const {\r\n        tabs,\r\n        generalTab: {\r\n            id,\r\n            tabFilter: {\r\n                mediaTypes,\r\n                queryString,\r\n                error,\r\n            },\r\n        },\r\n        openNewTab,\r\n        updateTabFilter: {\r\n            updateQueryString,\r\n        },\r\n    } = useSearchTabContext()\r\n    const [shadowQueryString, setShadowQueryString] = useState<string>(queryString)\r\n    const [visibleTabsIndexes, setVisibleTabsIndexes] = useState<number[]>([])\r\n    const [hiddenTabsIndexes, setHiddenTabsIndexes] = useState<number[]>([])\r\n    const tabsWrapperRef: any = useRef()\r\n    const tabsWrapperRect = useResizeObserver(tabsWrapperRef)\r\n    const searchButtonRef: any = useRef()\r\n    const {t} = useLocalizationState()\r\n\r\n    const disabled = useMemo(() => !queryString || !mediaTypes.length || !!error, [queryString, mediaTypes])\r\n\r\n    const detectVisibleAndHiddenTabs = useCallback(() => {\r\n        if (!tabsWrapperRef.current) {\r\n            return\r\n        }\r\n\r\n        const tabsWrapper = tabsWrapperRef.current\r\n        const tabsWrapperWidth = tabsWrapper.getBoundingClientRect().width\r\n        const tabsWrapperChildren: Array<HTMLElement> = [...tabsWrapper.children]\r\n        const newVisibleTabsIndexes = []\r\n        const newHiddenTabsIndexes = []\r\n        let tabIndex = 0\r\n        let tabsWidth = 0\r\n\r\n        if (tabsWrapperChildren.length) {\r\n            for (const tabsWrapperChild of tabsWrapperChildren) {\r\n                tabsWidth += tabsWrapperChild.getBoundingClientRect().width\r\n\r\n                if (Math.floor(tabsWidth) > tabsWrapperWidth) {\r\n                    if (!newHiddenTabsIndexes.length && !!newVisibleTabsIndexes.length) {\r\n                        // push previous tab to hidden tabs to make room for 'More' dropdown\r\n                        newHiddenTabsIndexes.push(newVisibleTabsIndexes.pop() as number)\r\n                    }\r\n\r\n                    newHiddenTabsIndexes.push(tabIndex)\r\n                } else {\r\n                    newVisibleTabsIndexes.push(tabIndex)\r\n                }\r\n\r\n                tabIndex++\r\n\r\n                // ignore 'More' dropdown\r\n                if (tabIndex > tabsWrapperChildren.length - 2) {\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        setVisibleTabsIndexes(newVisibleTabsIndexes)\r\n        setHiddenTabsIndexes(newHiddenTabsIndexes)\r\n\r\n    }, [tabsWrapperRef, setVisibleTabsIndexes, setHiddenTabsIndexes])\r\n\r\n    const resetVisibilityTabsIndexes = useCallback(() => {\r\n        setVisibleTabsIndexes([])\r\n        setHiddenTabsIndexes([])\r\n    }, [setVisibleTabsIndexes, setHiddenTabsIndexes])\r\n\r\n    useLayoutEffect(() => {\r\n        if ((visibleTabsIndexes.length + hiddenTabsIndexes.length) !== tabs.length) {\r\n            resetVisibilityTabsIndexes()\r\n        }\r\n    }, [visibleTabsIndexes, hiddenTabsIndexes, resetVisibilityTabsIndexes, tabs])\r\n\r\n    useLayoutEffect(() => resetVisibilityTabsIndexes(), [tabsWrapperRect, resetVisibilityTabsIndexes])\r\n\r\n    useLayoutEffect(() => {\r\n        if (!visibleTabsIndexes.length && !hiddenTabsIndexes.length && (visibleTabsIndexes.length + hiddenTabsIndexes.length) !== tabs.length) {\r\n            detectVisibleAndHiddenTabs()\r\n        }\r\n    }, [visibleTabsIndexes, hiddenTabsIndexes, detectVisibleAndHiddenTabs, tabs])\r\n\r\n    useEffect(() => {\r\n        setShadowQueryString(queryString)\r\n    }, [queryString, setShadowQueryString])\r\n\r\n    const handleQueryStringChange = useCallback((e: React.ChangeEvent<HTMLInputElement>, data: SmInputOnChangeData) => {\r\n        const {value} = data\r\n        setShadowQueryString(value)\r\n        debounceUserInput(() => updateQueryString(id, value))\r\n    }, [setShadowQueryString, updateQueryString])\r\n\r\n    const handleSearchStart = useCallback(() => {\r\n        if (queryString === shadowQueryString) {\r\n            openNewTab()\r\n        }\r\n    }, [queryString, shadowQueryString, openNewTab])\r\n\r\n    const handleSearchInputEnterPress = useCallback((e: KeyboardEvent) => {\r\n        if (!disabled && e.key === 'Enter') {\r\n            searchButtonRef.current.focus()\r\n            handleSearchStart()\r\n        }\r\n    }, [disabled, handleSearchStart])\r\n\r\n    const renderSearchTabs = useMemo(() => {\r\n        return tabs.map((tab, i) => !hiddenTabsIndexes.includes(i) && (\r\n            <SearchTab\r\n                key={i}\r\n                tab={tab}\r\n                hidden={false}\r\n            />\r\n        ))\r\n    },\r\n    [tabs, hiddenTabsIndexes])\r\n\r\n    const renderMoreSearchTabs = useMemo(() => {\r\n        return (\r\n            // always render dropdown to prevent it from closing when changing tabs state\r\n            <div className={tcn(styles.searchMoreTabsWrapper, hiddenTabsIndexes.length === 0 && styles.hidden)}>\r\n                <SmDropdown\r\n                    scrolling\r\n                    className={tcn('isc', styles.searchMoreTabsDropdown)}\r\n                    text={t.INTERACTION_SEARCH.search_panel_more_button()}\r\n                    multiple\r\n                >\r\n                    <SmDropdown.Menu className={styles.searchMoreTabsDropdownMenu}>\r\n                        {hiddenTabsIndexes.length !== 0 && tabs.map((tab, i) => hiddenTabsIndexes.includes(i) && (\r\n                            <SmDropdown.Item\r\n                                key={i}\r\n                                className={styles.searchMoreTabsDropdownItem}\r\n                                content={<SearchTab\r\n                                    tab={tab}\r\n                                    hidden\r\n                                />}\r\n                            />\r\n                        ),\r\n                        )}\r\n                    </SmDropdown.Menu>\r\n                </SmDropdown>\r\n            </div>\r\n        )\r\n    }, [tabs, hiddenTabsIndexes])\r\n\r\n    return (\r\n        <SmGrid className={styles.panelGrid}>\r\n            <SmGrid.Row className={styles.searchTabsRow}>\r\n                <SmGrid.Column className={styles.searchTabsColumn}>\r\n                    <div\r\n                        ref={tabsWrapperRef}\r\n                        className={styles.searchTabsWrapper}\r\n                    >\r\n                        {renderSearchTabs}\r\n                        {renderMoreSearchTabs}\r\n                    </div>\r\n                </SmGrid.Column>\r\n                <SmGrid.Column className={styles.panelSearchInputColumn}>\r\n                    <SmInput\r\n                        action\r\n                        fluid\r\n                        placeholder={t.INTERACTION_SEARCH.search_panel_search_input_placeholder()}\r\n                        value={shadowQueryString}\r\n                        onChange={handleQueryStringChange}\r\n                        error={!!error}\r\n                    >\r\n                        <MediaTypeFilter />\r\n                        <input\r\n                            className={styles.searchInput}\r\n                            onKeyDown={handleSearchInputEnterPress}\r\n                        />\r\n                        <SmButton\r\n                            ref={searchButtonRef}\r\n                            className={styles.searchButton}\r\n                            type=\"submit\"\r\n                            icon=\"search\"\r\n                            basic={disabled}\r\n                            primary={!disabled}\r\n                            disabled={disabled}\r\n                            onClick={handleSearchStart}\r\n                        />\r\n                    </SmInput>\r\n                </SmGrid.Column>\r\n            </SmGrid.Row>\r\n        </SmGrid>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dropdown\":\"interactionSearch_MultiLevelDropdown_dropdown_Sr7Yc\",\"button\":\"interactionSearch_MultiLevelDropdown_button_CW2VP\",\"text\":\"interactionSearch_MultiLevelDropdown_text_ldGQf\",\"placeholder\":\"interactionSearch_MultiLevelDropdown_placeholder_DG2Ks\",\"disabled\":\"interactionSearch_MultiLevelDropdown_disabled_DiM0L\",\"menuWrapper\":\"interactionSearch_MultiLevelDropdown_menuWrapper_OxtbE\",\"menu\":\"interactionSearch_MultiLevelDropdown_menu_6omq8\",\"item\":\"interactionSearch_MultiLevelDropdown_item_2R3SJ\",\"open\":\"interactionSearch_MultiLevelDropdown_open_BT0Dv\",\"submenu\":\"interactionSearch_MultiLevelDropdown_submenu_WVe3c\",\"pointer\":\"interactionSearch_MultiLevelDropdown_pointer_KCe1e\"};","import type {FC, MutableRefObject} from 'react'\r\nimport React, {useCallback, useLayoutEffect, useRef, useState} from 'react'\r\n\r\nimport {useWindowDimensions} from '../../utils'\r\n\r\nimport styles from '../../styles/MultiLevelDropdown.module.less'\r\n\r\n\r\ninterface Position {\r\n    top: number\r\n    left: number\r\n}\r\n\r\ninterface DropdownSubmenuProps {\r\n    children?: React.ReactNode\r\n}\r\n\r\nexport const DropdownSubmenu: FC<DropdownSubmenuProps> = ({children}) => {\r\n    const submenuRef: MutableRefObject<any> = useRef()\r\n    const [position, setPosition] = useState<Position>({left: 0, top: 0})\r\n    const [pointerPosition, setPointerPosition] = useState<Partial<Position>>({top: 0})\r\n    const windowDimensions = useWindowDimensions()\r\n\r\n    const calculatePosition = useCallback(() => {\r\n        const parentRect = submenuRef.current.parentNode.getBoundingClientRect()\r\n        const rect = submenuRef.current.getBoundingClientRect()\r\n\r\n        const left = parentRect.x - rect.width - 6 // 6 = margin\r\n        const windowYOffset = Math.max(((parentRect.y + rect.height) - windowDimensions.height), 0)\r\n        const startY = parentRect.y - windowYOffset\r\n        const parentYOffset = (parentRect.y + parentRect.height) - (startY + rect.height)\r\n        const top = Math.max(startY, startY + parentYOffset)\r\n\r\n        setPosition({left, top})\r\n        setPointerPosition({top: parentRect.y - top + 15}) // 15 = margin\r\n    }, [submenuRef.current, windowDimensions, setPosition, setPointerPosition])\r\n\r\n    useLayoutEffect(() => {\r\n        window.addEventListener('scroll', calculatePosition, true)\r\n        return () => window.removeEventListener('scroll', calculatePosition, true)\r\n    }, [calculatePosition])\r\n\r\n    useLayoutEffect(() => calculatePosition(),\r\n        [calculatePosition])\r\n\r\n    return (\r\n        <div\r\n            ref={submenuRef}\r\n            style={{...position}}\r\n            onClick={e => e.stopPropagation()}\r\n            className={styles.submenu}\r\n        >\r\n            <div\r\n                style={{...pointerPosition}}\r\n                className={styles.pointer}\r\n            />\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n","import type {MutableRefObject} from 'react'\r\nimport React, {Component, createRef} from 'react'\r\n\r\nimport {SmIcon} from '@bpinc/lib-external-ui-elements'\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\n\r\nimport {DropdownItem} from './DropdownItem'\r\n\r\nimport styles from '../../styles/MultiLevelDropdown.module.less'\r\n\r\n\r\ninterface DropdownProps {\r\n    title?: string\r\n    value?: string | React.ReactNode\r\n    onValueClear?: () => void\r\n    placeholder?: string\r\n    children?: React.ReactNode\r\n    disabled?: boolean\r\n    onToggle?: (open: boolean) => void\r\n}\r\n\r\ninterface DropdownState {\r\n    open: boolean\r\n}\r\n\r\nexport class Dropdown extends Component<DropdownProps, DropdownState> {\r\n    static Item: any = DropdownItem\r\n\r\n    state = {\r\n        open: false,\r\n    }\r\n\r\n    dropdownRef: MutableRefObject<any> = createRef()\r\n\r\n    menuRef: MutableRefObject<any> = createRef()\r\n\r\n    get valueIsPlain() {\r\n        return !this.props.value || typeof this.props.value === 'string'\r\n    }\r\n\r\n    // eslint-disable-next-line react/no-deprecated\r\n    componentWillMount(): void {\r\n        document.addEventListener('mousedown', this.handleClickOutside)\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n        document.removeEventListener('mousedown', this.handleClickOutside)\r\n    }\r\n\r\n    handleClickOutside = (e: Event) => {\r\n        if (this.state.open && !this.dropdownRef.current.contains(e.target)) {\r\n            this.close()\r\n        }\r\n    }\r\n\r\n    handleOnValueClear = (e: Event) => {\r\n        e.stopPropagation()\r\n\r\n        const {onValueClear} = this.props\r\n        !!onValueClear && onValueClear()\r\n    }\r\n\r\n    handleOnDropdownClick = () => {\r\n        if (this.props.disabled) {\r\n            return\r\n        }\r\n\r\n        if (this.valueIsPlain) {\r\n            this.toggle(!this.state.open)\r\n        } else if (!this.state.open) {\r\n            this.toggle(true)\r\n        }\r\n    }\r\n\r\n    close = () => this.toggle(false)\r\n\r\n    toggle = (open = true) => {\r\n        this.setState({open}, () => {\r\n            if (this.props.onToggle) {\r\n                this.props.onToggle(this.state.open)\r\n            }\r\n        })\r\n    }\r\n\r\n    renderIcon = () => {\r\n        const {value, onValueClear} = this.props\r\n\r\n        return !!onValueClear && !!value\r\n            ? (\r\n                <SmIcon name=\"times\" onClick={this.handleOnValueClear} />\r\n            )\r\n            : (\r\n                <SmIcon name=\"dropdown\" />\r\n            )\r\n    }\r\n\r\n    renderMenu = () => {\r\n        const {open} = this.state\r\n        const {children} = this.props\r\n\r\n        return open\r\n            ? (\r\n                <div\r\n                    ref={this.menuRef}\r\n                    className={styles.menuWrapper}\r\n                >\r\n                    <div className={styles.menu}>\r\n                        {children}\r\n                    </div>\r\n                </div>\r\n            )\r\n            : null\r\n    }\r\n\r\n    render() {\r\n        const {open} = this.state\r\n        const {title, value, placeholder, disabled} = this.props\r\n\r\n        return (\r\n            <div\r\n                ref={this.dropdownRef}\r\n                className={styles.dropdown}\r\n            >\r\n                <button\r\n                    title={title}\r\n                    type=\"button\"\r\n                    className={tcn(\r\n                        styles.button,\r\n                        open && styles.open,\r\n                        disabled && styles.disabled,\r\n                    )}\r\n                    disabled={disabled}\r\n                    tabIndex={0}\r\n                    onClick={this.handleOnDropdownClick}\r\n                >\r\n                    <div\r\n                        className={tcn(\r\n                            this.valueIsPlain && styles.text,\r\n                            !value && styles.placeholder,\r\n                        )}\r\n                    >\r\n                        {value ? value : placeholder}\r\n                    </div>\r\n                    {this.renderIcon()}\r\n                </button>\r\n                {this.renderMenu()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import type {FC, MutableRefObject} from 'react'\r\nimport React, {useCallback, useEffect, useRef, useState} from 'react'\r\n\r\nimport {SmIcon} from '@bpinc/lib-external-ui-elements'\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\n\r\nimport {DropdownSubmenu} from './DropdownSubmenu'\r\n\r\nimport styles from '../../styles/MultiLevelDropdown.module.less'\r\n\r\n\r\ninterface DropdownItemProps {\r\n    text: string\r\n    children?: React.ReactNode\r\n    onClick?: () => void\r\n}\r\n\r\nexport const DropdownItem: FC<DropdownItemProps> = ({text, children, onClick}) => {\r\n    const [open, setOpen] = useState<boolean>(false)\r\n    const itemRef: MutableRefObject<any> = useRef()\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', handleClickOutside)\r\n        return () => document.removeEventListener('mousedown', handleClickOutside)\r\n    }, [])\r\n\r\n    const handleClickOutside = useCallback((e: MouseEvent) => {\r\n        if (!itemRef.current.contains(e.target)) {\r\n            setOpen(false)\r\n        }\r\n    }, [itemRef])\r\n\r\n    const handleClick = useCallback(() => {\r\n        setOpen(state => !!children && !state)\r\n\r\n        if (onClick) {\r\n            onClick()\r\n        }\r\n    }, [setOpen, onClick])\r\n\r\n    return (\r\n        <div\r\n            ref={itemRef}\r\n            className={tcn(styles.item, open && styles.open)}\r\n            onClick={handleClick}\r\n            tabIndex={0}\r\n        >\r\n            {text}\r\n            {!!children && (\r\n                <>\r\n                    <SmIcon name=\"dropdown\" rotated=\"counterclockwise\" />\r\n                    {open && (\r\n                        <DropdownSubmenu>\r\n                            {children}\r\n                        </DropdownSubmenu>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"searchBox\":\"interactionSearch_SearchableListPanel_searchBox_8bqj6\",\"noResults\":\"interactionSearch_SearchableListPanel_noResults_XxAAI\",\"listWrapper\":\"interactionSearch_SearchableListPanel_listWrapper_1UAAZ\",\"listItem\":\"interactionSearch_SearchableListPanel_listItem_qQ2ip\"};","import type {FC, SyntheticEvent} from 'react'\r\nimport React, {useCallback, useMemo, useState} from 'react'\r\nimport {find} from 'lodash-es'\r\n\r\nimport type {SmInputOnChangeData} from '@bpinc/lib-external-ui-elements'\r\nimport {SmInput} from '@bpinc/lib-external-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {IdName} from '../../context/search-tab-filter'\r\n\r\nimport styles from '../../styles/SearchableListPanel.module.less'\r\n\r\n\r\nexport type NameGetter = (name: string) => string\r\n\r\ninterface SearchableListPanelProps {\r\n    placeholder: string\r\n    list: IdName[]\r\n    selectedList: IdName[]\r\n    onChange: (value: IdName) => void\r\n    search?: boolean\r\n}\r\n\r\ninterface AdapterProps extends SearchableListPanelProps {\r\n    list: any[]\r\n    selectedList: any[]\r\n    onChange: (value: any) => void\r\n    nameGetter?: NameGetter\r\n}\r\n\r\nexport const SearchableListPanel: FC<SearchableListPanelProps> & {Adapter: typeof Adapter} = ({placeholder, list, selectedList, onChange, search = true}) => {\r\n    const [searchString, setSearchString] = useState<string>('')\r\n    const {t} = useLocalizationState()\r\n\r\n    const filteredList = useMemo((): IdName[] => {\r\n        const nonSelectedList = list.filter(({id}) => !find(selectedList, {id}))\r\n        return searchString\r\n            ? nonSelectedList.filter(item => item.name.toLowerCase().includes(searchString.toLowerCase()))\r\n            : nonSelectedList\r\n    }, [list, selectedList, searchString])\r\n\r\n    const noResultsFound = useMemo(() =>\r\n        !!searchString && !!list.length && !filteredList.length,\r\n    [list, searchString, filteredList])\r\n\r\n    const noOptionsAvailable = useMemo(() => !list.length || !searchString && !filteredList.length,\r\n        [list, searchString, filteredList])\r\n\r\n    const handleOnSearchChange = useCallback((e: SyntheticEvent, data: SmInputOnChangeData): void =>\r\n        setSearchString(data.value),\r\n    [setSearchString])\r\n\r\n    return (\r\n        <div>\r\n            {search && (\r\n                <SmInput\r\n                    fluid\r\n                    className={styles.searchBox}\r\n                    icon=\"search\"\r\n                    placeholder={placeholder}\r\n                    value={searchString}\r\n                    onChange={handleOnSearchChange}\r\n                />\r\n            )}\r\n            {noResultsFound || noOptionsAvailable\r\n                ? (\r\n                    <div className={styles.noResults}>\r\n                        {noResultsFound\r\n                            ? t.INTERACTION_SEARCH.searchable_list_panel_no_results()\r\n                            : t.INTERACTION_SEARCH.searchable_list_panel_no_options()}\r\n                    </div>\r\n                )\r\n                : (\r\n                    <div className={styles.listWrapper}>\r\n                        {filteredList\r\n                            .map(item => (\r\n                                <button\r\n                                    key={item.id}\r\n                                    className={styles.listItem}\r\n                                    onClick={() => onChange(item)}\r\n                                >\r\n                                    {item.name}\r\n                                </button>\r\n                            ))}\r\n                    </div>\r\n                )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Adapter: FC<AdapterProps> = ({list, selectedList, onChange, nameGetter, ...rest}) => (\r\n    <SearchableListPanel\r\n        list={plainListToIdNameList(list, nameGetter)}\r\n        selectedList={plainListToIdNameList(selectedList, nameGetter)}\r\n        onChange={({id}) => onChange(id)}\r\n        {...rest}\r\n    />\r\n)\r\n\r\nconst plainListToIdNameList = (plainList: any[], nameGetter?: NameGetter): IdName[] =>\r\n    plainList.map(item => ({id: item, name: nameGetter ? nameGetter(item) : item}))\r\n\r\nSearchableListPanel.Adapter = Adapter\r\n","import type {FC} from 'react'\r\nimport React, {useCallback, useLayoutEffect, useMemo, useState} from 'react'\r\nimport {Tab, TabList, TabPanel, Tabs} from 'react-tabs'\r\nimport {without} from 'lodash-es'\r\n\r\nimport {SmIcon, SmLabel} from '@bpinc/lib-external-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {AgentTeam, AgentTeamFilterType, IdName} from '../../context/search-tab-filter'\r\nimport {Dropdown} from '../multi-level-dropdown'\r\nimport {SearchableListPanel} from '../searchable-list-panel/SearchableListPanel'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface AgentTeamFilterProps {\r\n    agents: IdName[]\r\n    teams: IdName[]\r\n    loadAgents: () => void\r\n    loadTeams: () => void\r\n    value: AgentTeam\r\n    onChange: (value: AgentTeam) => void\r\n}\r\n\r\nexport const AgentTeamFilter: FC<AgentTeamFilterProps> = ({agents, teams, loadAgents, loadTeams, value, onChange}) => {\r\n    const [open, setOpen] = useState<boolean>(false)\r\n    const [tab, setTab] = useState<AgentTeamFilterType>(value?.type || 'agent')\r\n    const {t} = useLocalizationState()\r\n\r\n    useLayoutEffect(() => {\r\n        if (open) {\r\n            switch (tab) {\r\n                case 'agent':\r\n                    loadAgents()\r\n                    break\r\n                case 'team':\r\n                    loadTeams()\r\n                    break\r\n            }\r\n        }\r\n    }, [open, tab])\r\n\r\n    const handleDropdownOnToggle = useCallback((newOpen: boolean): void => setOpen(newOpen), [setOpen])\r\n\r\n    const handleTabChange = useCallback((index: number): void =>\r\n        setTab(!index ? 'agent' : 'team'),\r\n    [setTab])\r\n\r\n    const handleSelectionChange = useCallback((data: IdName) => {\r\n        if (!value || tab !== value.type) {\r\n            onChange({type: tab, value: [data]})\r\n        } else {\r\n            onChange({...value, value: [...value.value, data]})\r\n        }\r\n    }, [value, onChange, tab])\r\n\r\n    const handleDeselectionChange = useCallback((data: IdName) => {\r\n        if (value) {\r\n            onChange({type: tab, value: without(value.value, data)})\r\n        }\r\n    }, [value, onChange])\r\n\r\n    const handleClear = useCallback(() => onChange(null), [onChange])\r\n\r\n    const labels = useMemo(() => value?.value.length\r\n        ? value?.value\r\n            .map(item => (\r\n                <SmLabel\r\n                    key={item.id}\r\n                    as=\"a\"\r\n                    className={styles.dropdownFilterLabel}\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    {item.name}\r\n                    <SmIcon name=\"close\" onClick={() => handleDeselectionChange(item)}/>\r\n                </SmLabel>\r\n            ))\r\n        : null,\r\n    [value, handleDeselectionChange])\r\n\r\n    const selectedAgents = useMemo(() => value?.type === 'agent' ? value.value : [], [value?.type, value?.value])\r\n    const selectedTeams = useMemo(() => value?.type === 'team' ? value.value : [], [value?.type, value?.value])\r\n\r\n    return (\r\n        <Dropdown\r\n            placeholder={t.INTERACTION_SEARCH.filter_panel_any_placeholder()}\r\n            value={labels}\r\n            onValueClear={handleClear}\r\n            onToggle={handleDropdownOnToggle}\r\n        >\r\n            <Tabs\r\n                selectedIndex={tab === 'agent' ? 0 : 1}\r\n                onSelect={handleTabChange}\r\n            >\r\n                <TabList>\r\n                    <Tab>{t.INTERACTION_SEARCH.filter_panel_agents()}</Tab>\r\n                    <Tab>{t.INTERACTION_SEARCH.filter_panel_teams()}</Tab>\r\n                </TabList>\r\n\r\n                <TabPanel>\r\n                    <SearchableListPanel\r\n                        placeholder={t.INTERACTION_SEARCH.filter_panel_search_agents_placeholder()}\r\n                        list={agents}\r\n                        selectedList={selectedAgents}\r\n                        onChange={handleSelectionChange}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel>\r\n                    <SearchableListPanel\r\n                        placeholder={t.INTERACTION_SEARCH.filter_panel_search_teams_placeholder()}\r\n                        list={teams}\r\n                        selectedList={selectedTeams}\r\n                        onChange={handleSelectionChange}\r\n                    />\r\n                </TabPanel>\r\n            </Tabs>\r\n        </Dropdown>\r\n    )\r\n}\r\n","import type {FC, SyntheticEvent} from 'react'\r\nimport React, {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {find, times} from 'lodash-es'\r\n\r\nimport {formatDate} from '@bpinc/lib-helpers'\r\nimport type {DropdownItemProps, DropdownProps} from '@bpinc/lib-ui-elements'\r\nimport {Dropdown} from '@bpinc/lib-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\nexport interface Time {\r\n    hours: number\r\n    minutes: number\r\n    seconds: number\r\n}\r\n\r\ninterface TimeOption extends DropdownItemProps {\r\n    key: string\r\n    text: string\r\n    value: number\r\n    time: Time\r\n}\r\n\r\ninterface DateFilterTimepickerProps {\r\n    type?: 'basic' | 'range'\r\n    value?: Date | Date[]\r\n    onChange: (time: Time | Time[]) => void\r\n    error?: boolean\r\n}\r\n\r\ninterface TimepickerProps {\r\n    defaultValueType?: 'current' | 'startOfDay' | 'endOfDay'\r\n    value?: Date\r\n    onChange: (time: Time) => void\r\n    error?: boolean\r\n}\r\n\r\nexport const DateFilterTimepicker: FC<DateFilterTimepickerProps> = ({type = 'basic', value, onChange, error}) => {\r\n    const [timeRange, setTimeRange] = useState<Time[]>(new Array(2).fill(undefined))\r\n\r\n    useEffect(() => {\r\n        if (type === 'range') {\r\n            onChange(timeRange)\r\n        }\r\n    }, [type, timeRange])\r\n\r\n    const handleTimeRangeChange = useCallback((time: Time, from: boolean) => {\r\n        const index = from ? 0 : 1\r\n        setTimeRange(state => {\r\n            const newTimeRange = [...state]\r\n            newTimeRange.splice(index, 1, time)\r\n            return newTimeRange\r\n        })\r\n    }, [setTimeRange])\r\n\r\n    const renderBasic = useMemo(() => {\r\n        const date = value as Date\r\n\r\n        return (\r\n            <Timepicker value={date} onChange={onChange} error={error}/>\r\n        )\r\n    }, [type, value, onChange])\r\n\r\n    const renderRange = useMemo(() => {\r\n        const date = value as Date[]\r\n\r\n        return (\r\n            <>\r\n                <Timepicker\r\n                    defaultValueType=\"startOfDay\"\r\n                    value={date ? date[0] : undefined}\r\n                    onChange={time => handleTimeRangeChange(time, true)}\r\n                    error={error}\r\n                />\r\n                <span>to</span>\r\n                <Timepicker\r\n                    value={date ? date[1] : undefined}\r\n                    onChange={time => handleTimeRangeChange(time, false)}\r\n                    error={error}\r\n                />\r\n            </>\r\n\r\n        )\r\n    }, [type, value, onChange])\r\n\r\n    return (\r\n        <div className={styles.dateFilterTimepickerWrapper}>\r\n            {\r\n                type === 'basic'\r\n                    ? renderBasic\r\n                    : renderRange\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Timepicker: FC<TimepickerProps> = ({defaultValueType = 'current', value, onChange, error}) => {\r\n    const [timeOptions, setTimeOptions] = useState<TimeOption[]>(generateTimeOptions)\r\n    const [timeOption, setTimeOption] = useState<number>()\r\n    const [customOptionValid, setCustomOptionValid] = useState<boolean>(false)\r\n    const {t} = useLocalizationState()\r\n\r\n    useEffect(() => {\r\n        const date = value ? value : getDefaultDate()\r\n        const time = {hours: date.getHours(), minutes: date.getMinutes(), seconds: date.getSeconds()}\r\n\r\n        const timestamp = timeToTimestamp(time)\r\n\r\n        if (timeOptionsNotContain(timestamp)) {\r\n            const option = {key: 'custom', text: dateToText(date), value: timestamp, time}\r\n            setTimeOptions([option, ...timeOptions])\r\n        }\r\n\r\n        setTimeOption(timestamp)\r\n        onChange(time)\r\n    }, [])\r\n\r\n    const getDefaultDate = useCallback((): Date => {\r\n        const date = new Date()\r\n\r\n        switch (defaultValueType) {\r\n            case 'startOfDay':\r\n                date.setHours(0, 0, 0)\r\n                break\r\n            case 'endOfDay':\r\n                date.setHours(23, 59, 59)\r\n        }\r\n\r\n        return date\r\n    }, [defaultValueType])\r\n\r\n    const timeOptionsNotContain = useCallback((timestamp: number): boolean =>\r\n        !timeOptions.some(option => option.value === timestamp),\r\n    [timeOptions])\r\n\r\n    const handleSearchChange = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const searchQuery = data.searchQuery as string\r\n        const isTime = searchQuery.match(/^(0?[0-9]|1[012]):[0-5][0-9](:[0-5][0-9])?\\s?(AM|PM)?/i) !== null\r\n\r\n        if (isTime) {\r\n            const [, timestamp] = parseTime(searchQuery)\r\n            setCustomOptionValid(timeOptionsNotContain(timestamp))\r\n        } else {\r\n            setCustomOptionValid(false)\r\n        }\r\n    }, [timeOptionsNotContain, setCustomOptionValid])\r\n\r\n    const handleAddItem = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const timeString = data.value as string\r\n        const [time, timestamp] = parseTime(timeString)\r\n        const option = {key: 'custom', text: timeString, value: timestamp, time}\r\n        setTimeOptions(options => [option, ...options.filter(o => o.key !== 'custom')])\r\n        setTimeOption(option.value)\r\n    }, [setTimeOptions, setTimeOption])\r\n\r\n    const handleChange = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const timestamp = data.value as number\r\n        const time = (find(timeOptions, {value: timestamp}) as TimeOption).time\r\n\r\n        setTimeOption(timestamp)\r\n        onChange(time)\r\n    }, [timeOptions, setTimeOption])\r\n\r\n    return (\r\n        <Dropdown\r\n            fluid\r\n            selection\r\n            search\r\n            onSearchChange={handleSearchChange}\r\n            allowAdditions={customOptionValid}\r\n            additionLabel={t.INTERACTION_SEARCH.filter_panel_date_custom_date()}\r\n            onAddItem={handleAddItem}\r\n            options={timeOptions}\r\n            onChange={handleChange}\r\n            value={timeOption}\r\n            error={error}\r\n        />\r\n    )\r\n}\r\n\r\nconst generateTimeOptions = (): TimeOption[] => {\r\n    const minutes = times(4, t => (60 / 4) * t)\r\n    return times(24,\r\n        t => {\r\n            const hour = t % 12 === 0 ? 12 : (t + 12) % 12\r\n            const am = t < 12\r\n\r\n            return minutes.map((minute, idx) => {\r\n                const time = {hours: t, minutes: minute, seconds: 0}\r\n\r\n                return {\r\n                    key: `${t}-${idx}`,\r\n                    text: `${hour}:${('0' + minute).slice(-2)} ${am ? 'AM' : 'PM'}`,\r\n                    value: timeToTimestamp(time),\r\n                    time,\r\n                }\r\n            })\r\n        })\r\n        .flat(1)\r\n}\r\n\r\nconst parseTime = (timeString: string): [Time, number] => {\r\n    const timeParts: string[] = timeString.split(':')\r\n    let hours: number\r\n    let minutes = 0\r\n    let seconds = 0\r\n\r\n    const isPm = timeParts[timeParts.length - 1].toUpperCase().indexOf('PM') !== -1\r\n    timeParts[timeParts.length - 1] = timeParts[timeParts.length - 1].replace(/\\D/g, '')\r\n\r\n    hours = +timeParts[0]\r\n    minutes = +timeParts[1]\r\n    seconds = timeParts.length > 2 ? +timeParts[2] : 0\r\n\r\n    if (isPm) {\r\n        if (hours < 12) {\r\n            hours += 12\r\n        }\r\n    } else {\r\n        if (hours === 12) {\r\n            hours = 0\r\n        }\r\n    }\r\n\r\n    const time = {hours, minutes, seconds}\r\n    return [time, timeToTimestamp(time)]\r\n}\r\n\r\nexport const timeToTimestamp = ({hours, minutes, seconds}: Time): number => ((hours * 60 + minutes) * 60 + seconds) * 1000\r\n\r\nconst dateToText = (date: Date): string => formatDate(date, 'LT')\r\n\r\n","import type {FC, SyntheticEvent} from 'react'\r\nimport React, {useCallback, useState} from 'react'\r\nimport SemanticDatepicker from 'react-semantic-ui-datepickers'\r\n\r\nimport type {Time} from './DateFilterTimepicker'\r\nimport {DateFilterTimepicker, timeToTimestamp} from './DateFilterTimepicker'\r\n\r\n\r\ninterface DateFilterDatepickerProps {\r\n    datePickerType?: 'basic' | 'range'\r\n    value?: Date | Date[]\r\n    onChange: (date: Date | Date[]) => void\r\n}\r\n\r\nexport const DateFilterDatepicker: FC<DateFilterDatepickerProps> = ({value, datePickerType, onChange}) => {\r\n    const [time, setTime] = useState<Time | Time[]>()\r\n    const [timeError, setTimeError] = useState<boolean>(false)\r\n\r\n    const handleDatePick = useCallback((e: SyntheticEvent | undefined, data: any) => {\r\n        if (datePickerType === 'range') {\r\n            if (data.value.length === 2) {\r\n                const dates = (data.value as Date[])\r\n                const [fromDate, toDate] = dates\r\n                const [fromTime, toTime] = time as Time[]\r\n\r\n                if (fromDate.getFullYear() === toDate.getFullYear() && fromDate.getMonth() === toDate.getMonth()\r\n                    && fromDate.getDate() === toDate.getDate() && timeToTimestamp(fromTime) > timeToTimestamp(toTime)) {\r\n                    setTimeError(true)\r\n                } else {\r\n                    onChange(\r\n                        dates\r\n                            .map((dataDate, index) => {\r\n                                const date = new Date(dataDate)\r\n                                const dateTime = (time as Time[])[index]\r\n\r\n                                if (dateTime) {\r\n                                    date.setHours(dateTime.hours, dateTime.minutes, dateTime.seconds)\r\n                                }\r\n\r\n                                return date\r\n                            }),\r\n                    )\r\n                }\r\n            }\r\n        } else {\r\n            const date = new Date(data.value)\r\n            const dateTime = time as Time\r\n\r\n            if (dateTime) {\r\n                date.setHours(dateTime.hours, dateTime.minutes, dateTime.seconds)\r\n            }\r\n\r\n            onChange(date)\r\n        }\r\n    }, [datePickerType, onChange, time, setTimeError])\r\n\r\n    return (\r\n        <div>\r\n            <SemanticDatepicker\r\n                inline\r\n                type={datePickerType}\r\n                value={value}\r\n                onChange={handleDatePick}\r\n                clearOnSameDateClick={false}\r\n            />\r\n            <DateFilterTimepicker\r\n                type={datePickerType}\r\n                value={value}\r\n                onChange={selectedTime => setTime(selectedTime)}\r\n                error={timeError}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import type {FC} from 'react'\r\nimport React, {useCallback, useMemo, useRef} from 'react'\r\nimport {find} from 'lodash-es'\r\n\r\nimport {formatDate} from '@bpinc/lib-helpers'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {DateType, TimePeriod} from '../../context/search-tab-filter'\r\nimport {Dropdown} from '../multi-level-dropdown'\r\nimport {DateFilterDatepicker} from './DateFilterDatepicker'\r\n\r\n\r\ninterface DateFilterType {\r\n    text: string\r\n    type: 'any' | DateType\r\n    useDatepicker?: boolean\r\n}\r\n\r\ninterface DateFilterProps {\r\n    value?: TimePeriod\r\n    onChange: (value: TimePeriod) => void\r\n}\r\n\r\nconst DATE_FORMAT = 'L LT'\r\n\r\nexport const DateFilter: FC<DateFilterProps> = ({value, onChange}) => {\r\n    const {t} = useLocalizationState()\r\n    const filters = useMemo<DateFilterType[]>(() => [\r\n        {text: t.INTERACTION_SEARCH.filter_panel_any_placeholder(), type: 'any'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_today(), type: 'today'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_yesterday(), type: 'yesterday'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_last_24h(), type: 'last_24h'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_last_week(), type: 'last_week'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_last_month(), type: 'last_month'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_select_date(), type: 'select', useDatepicker: true},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_after_date(), type: 'after', useDatepicker: true},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date__before_date(), type: 'before', useDatepicker: true},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_date_between_dates(), type: 'between', useDatepicker: true},\r\n    ], [])\r\n\r\n    const dropdownRef: any = useRef()\r\n\r\n    const labelProps = useMemo(() => {\r\n        let result = null\r\n        const filter = find(filters, {type: value?.type || 'any'}) as DateFilterType\r\n\r\n        switch (filter.type) {\r\n            case 'any':\r\n                result = {placeholder: filter.text}\r\n                break\r\n            case 'today':\r\n            case 'yesterday':\r\n            case 'last_24h':\r\n            case 'last_week':\r\n            case 'last_month':\r\n                result = {value: filter.text}\r\n                break\r\n            case 'select':\r\n                result = {\r\n                    value: formatDate(value?.value as Date, DATE_FORMAT),\r\n                }\r\n                break\r\n            case 'after':\r\n                result = {\r\n                    value: `After ${formatDate(\r\n                        value?.value as Date,\r\n                        DATE_FORMAT,\r\n                    )}`,\r\n                }\r\n                break\r\n            case 'before':\r\n                result = {\r\n                    value: `Before ${formatDate(\r\n                        value?.value as Date,\r\n                        DATE_FORMAT,\r\n                    )}`,\r\n                }\r\n                break\r\n            case 'between':\r\n                result = {value: `${formatDate((value?.value as Date[])[0], DATE_FORMAT)} - ${formatDate((value?.value as Date[])[1], DATE_FORMAT)}`}\r\n                break\r\n        }\r\n\r\n        if (result.placeholder) {\r\n            return {...result, title: result.placeholder}\r\n        } else {\r\n            return {...result, title: result.value}\r\n        }\r\n    }, [value, filters])\r\n\r\n    const handleFilterChange = useCallback((filter: DateFilterType, date?: Date | Date[]) => {\r\n        if (filter.type === 'any') {\r\n            onChange(null)\r\n        } else {\r\n            onChange({type: filter.type, value: date})\r\n        }\r\n\r\n        dropdownRef.current.close()\r\n    }, [onChange, dropdownRef])\r\n\r\n    return (\r\n        <Dropdown {...labelProps} ref={dropdownRef}>\r\n            {filters.map(f => f.useDatepicker\r\n                ? (\r\n                    <Dropdown.Item\r\n                        key={f.type}\r\n                        text={f.text}\r\n                    >\r\n                        <DateFilterDatepicker\r\n                            {...(value?.type === f.type && {value: value.value})}\r\n                            onChange={date => handleFilterChange(f, date)}\r\n                            {...(f.type === 'between' && {datePickerType: 'range'})}\r\n                        />\r\n                    </Dropdown.Item>\r\n                )\r\n                : (\r\n                    <Dropdown.Item\r\n                        key={f.type}\r\n                        text={f.text}\r\n                        onClick={() => handleFilterChange(f)}\r\n                    />\r\n                ))}\r\n        </Dropdown>\r\n    )\r\n}\r\n","import type {FC, SyntheticEvent} from 'react'\r\nimport React, {useCallback, useEffect, useMemo, useState} from 'react'\r\n\r\nimport type {DropdownProps} from '@bpinc/lib-ui-elements'\r\nimport {Dropdown} from '@bpinc/lib-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {Duration, OperatorType} from '../../context/search-tab-filter'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface DurationOption {\r\n    key: string\r\n    text: string\r\n    value: null | string\r\n}\r\n\r\ninterface DurationFilterProps {\r\n    operators?: OperatorType[]\r\n    value: Duration\r\n    onChange: (value: Duration) => void\r\n}\r\n\r\nexport const DurationFilter: FC<DurationFilterProps> = ({operators = ['>', '<'], value, onChange}) => {\r\n    const {t} = useLocalizationState()\r\n    const operatorOptions = useMemo(() => {\r\n        const options: DurationOption[] = operators.map(o => ({key: o, text: o, value: o}))\r\n\r\n        if (!!value.operator && !operators.includes(value.operator)) {\r\n            options.unshift({key: value.operator, text: value.operator, value: value.operator})\r\n        }\r\n\r\n        options.unshift({key: 'any', text: t.INTERACTION_SEARCH.filter_panel_any_placeholder(), value: null})\r\n        return options\r\n    }, [operators, value])\r\n    const [durationOptions, setDurationOptions] = useState<DurationOption[]>([\r\n        {key: 'any', text: t.INTERACTION_SEARCH.filter_panel_any_placeholder(), value: null},\r\n        {key: '1m', text: '1m', value: '1m'},\r\n        {key: '15m', text: '15m', value: '15m'},\r\n        {key: '30m', text: '30m', value: '30m'},\r\n        {key: '1h', text: '1h', value: '1h'},\r\n    ])\r\n    const [customOptionValid, setCustomOptionValid] = useState<boolean>(false)\r\n\r\n    const durationOptionsNotContain = useCallback((option: string): boolean =>\r\n        !durationOptions.some(durationOption => durationOption.value === option),\r\n    [durationOptions])\r\n\r\n    const addCustomDurationOption = useCallback((custom: DurationOption) => {\r\n        const [any, possibleOldCustom, ...rest] = durationOptions\r\n\r\n        if (possibleOldCustom.key !== 'custom') {\r\n            setDurationOptions([any, custom, possibleOldCustom, ...rest])\r\n        } else {\r\n            setDurationOptions([any, custom, ...rest])\r\n        }\r\n    }, [setDurationOptions])\r\n\r\n    useEffect(() => {\r\n        if (!!value.value && durationOptionsNotContain(value.value)) {\r\n            const option = {key: 'custom', text: value.value, value: value.value}\r\n            addCustomDurationOption(option)\r\n        }\r\n    }, [value, durationOptionsNotContain])\r\n\r\n    const handleSearchChange = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const searchQuery = data.searchQuery as string\r\n        const isValid = true\r\n\r\n        if (isValid) {\r\n            setCustomOptionValid(durationOptionsNotContain(searchQuery))\r\n        } else {\r\n            setCustomOptionValid(false)\r\n        }\r\n    }, [durationOptionsNotContain, setCustomOptionValid])\r\n\r\n    const handleAddItem = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const durationString = data.value as string\r\n        const option = {key: 'custom', text: durationString, value: durationString}\r\n        addCustomDurationOption(option)\r\n    }, [addCustomDurationOption])\r\n\r\n    const handleOperatorChange = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const operatorString = data.value as OperatorType\r\n\r\n        if (value) {\r\n            onChange({...value, operator: operatorString})\r\n        } else {\r\n            onChange({value: null, operator: operatorString})\r\n        }\r\n    }, [onChange])\r\n\r\n    const handleDurationChange = useCallback((e: SyntheticEvent, data: DropdownProps): void => {\r\n        const durationString = data.value as string\r\n\r\n        if (value) {\r\n            onChange({...value, value: durationString})\r\n        } else {\r\n            onChange({operator: null, value: durationString})\r\n        }\r\n    }, [onChange])\r\n\r\n    return (\r\n        <div className={styles.durationFilterWrapper}>\r\n            <Dropdown\r\n                placeholder={t.INTERACTION_SEARCH.filter_panel_any_placeholder()}\r\n                className=\"isc-selection\"\r\n                fluid\r\n                selection\r\n                // @ts-expect-error - improve types\r\n                options={operatorOptions}\r\n                onChange={handleOperatorChange}\r\n                // @ts-expect-error - improve types\r\n                value={value.operator}\r\n            />\r\n            <Dropdown\r\n                placeholder={t.INTERACTION_SEARCH.filter_panel_any_placeholder()}\r\n                className=\"isc-selection\"\r\n                fluid\r\n                selection\r\n                search\r\n                onSearchChange={handleSearchChange}\r\n                allowAdditions={customOptionValid}\r\n                additionLabel={t.INTERACTION_SEARCH.filter_panel_duration_custom()}\r\n                onAddItem={handleAddItem}\r\n                // @ts-expect-error - improve types\r\n                options={durationOptions}\r\n                onChange={handleDurationChange}\r\n                // @ts-expect-error - improve types\r\n                value={value.value}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import type {FC} from 'react'\r\nimport React, {useCallback, useMemo, useRef} from 'react'\r\nimport {find} from 'lodash-es'\r\n\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {ExistType} from '../../context/search-tab-filter'\r\nimport {Dropdown} from '../multi-level-dropdown/Dropdown'\r\n\r\n\r\ninterface ExistFilterType {\r\n    text: string\r\n    type: 'any' | ExistType\r\n}\r\n\r\ninterface ExistFilterProps {\r\n    value: null | ExistType\r\n    onChange: (value: null | ExistType) => void\r\n}\r\n\r\nexport const ExistFilter: FC<ExistFilterProps> = ({value, onChange}) => {\r\n    const {t} = useLocalizationState()\r\n    const dropdownRef: any = useRef()\r\n\r\n    const filters = useMemo<ExistFilterType[]>(() => [\r\n        {text: t.INTERACTION_SEARCH.filter_panel_any_placeholder(), type: 'any'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_exists(), type: 'exists'},\r\n        {text: t.INTERACTION_SEARCH.filter_panel_not_exists(), type: 'not_exists'},\r\n    ], [])\r\n\r\n    const labelProps = useMemo(() => value === null\r\n        ? {placeholder: filters[0].text}\r\n        : {value: (find(filters, {type: value}) as ExistFilterType).text}, [value])\r\n\r\n    const handleFilterChange = useCallback((filter: ExistFilterType) => {\r\n        if (filter.type === 'any') {\r\n            onChange(null)\r\n        } else {\r\n            onChange(filter.type)\r\n        }\r\n\r\n        dropdownRef.current.close()\r\n    }, [onChange, dropdownRef])\r\n\r\n    return (\r\n        <Dropdown\r\n            ref={dropdownRef}\r\n            {...labelProps}\r\n        >\r\n            {filters.map(f => (\r\n                <Dropdown.Item\r\n                    key={f.type}\r\n                    text={f.text}\r\n                    onClick={() => handleFilterChange(f)}\r\n                />\r\n            ))}\r\n\r\n        </Dropdown>\r\n    )\r\n}\r\n","import type {FC} from 'react'\r\nimport React from 'react'\r\n\r\nimport {SmHeader} from '@bpinc/lib-external-ui-elements'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface FilterItemProps {\r\n    header: string\r\n    children: React.ReactNode\r\n}\r\n\r\nexport const FilterItem: FC<FilterItemProps> = ({header, children}) => {\r\n    return (\r\n        <div className={styles.filterItem}>\r\n            <SmHeader as=\"h5\">\r\n                {header}\r\n            </SmHeader>\r\n            <div>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import type {FC} from 'react'\r\nimport React, {useCallback, useMemo} from 'react'\r\n\r\nimport {SmButton} from '@bpinc/lib-external-ui-elements'\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport {Icon} from '../icon/Icon'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface FilterPanelSidebarProps {\r\n    children?: React.ReactNode\r\n    opened: boolean\r\n    onToggle: () => void\r\n    onClearFilter: () => void\r\n}\r\n\r\nexport const FilterPanelSidebar: FC<FilterPanelSidebarProps> = ({children, opened, onToggle, onClearFilter}) => {\r\n    const {t} = useLocalizationState()\r\n\r\n    const renderToggleButton = useCallback((isOpen: boolean) => (\r\n        <SmButton\r\n            className={tcn(styles.toggleButton, !isOpen && styles.absolute)}\r\n            onClick={onToggle}\r\n            icon={<Icon name=\"filter\" />}\r\n        />\r\n    ), [onToggle])\r\n\r\n    const renderHeader = useMemo(() => (\r\n        <div className={styles.header}>\r\n            {renderToggleButton(true)}\r\n            <SmButton\r\n                className={styles.linkButton}\r\n                content={t.INTERACTION_SEARCH.filter_panel_clear_all_button()}\r\n                onClick={onClearFilter}\r\n            />\r\n        </div>\r\n    ), [renderToggleButton])\r\n\r\n    return (\r\n        <div>\r\n            {!opened && renderToggleButton(false)}\r\n            <div className={tcn(styles.sidebar, !opened && styles.hidden)}>\r\n                {renderHeader}\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import type {FC} from 'react'\r\nimport React from 'react'\r\n\r\nimport {SmButton} from '@bpinc/lib-external-ui-elements'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface FilterItemProps {\r\n    shown: boolean\r\n    onShowMoreToggle: () => void\r\n    labelShow: string\r\n    labelHide: string\r\n}\r\n\r\nexport const FilterShowMore: FC<FilterItemProps> = ({shown, onShowMoreToggle, labelShow, labelHide}) => (\r\n    <div className={styles.row}>\r\n        <SmButton\r\n            className={styles.linkButton}\r\n            content={shown ? labelHide : labelShow}\r\n            onClick={onShowMoreToggle}\r\n        />\r\n    </div>\r\n)\r\n","import type {FC} from 'react'\r\nimport React, {useCallback, useLayoutEffect, useMemo, useState} from 'react'\r\nimport {without} from 'lodash-es'\r\n\r\nimport {SmIcon, SmLabel} from '@bpinc/lib-external-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport {Dropdown} from '../multi-level-dropdown'\r\nimport type {NameGetter} from '../searchable-list-panel/SearchableListPanel'\r\nimport {SearchableListPanel} from '../searchable-list-panel/SearchableListPanel'\r\n\r\nimport styles from '../../styles/FilterPanel.module.less'\r\n\r\n\r\ninterface ListFilterProps {\r\n    list: string[]\r\n    loadList?: () => void\r\n    value: string[]\r\n    onChange: (value: string[]) => void\r\n    search?: boolean\r\n    searchPlaceholder?: string\r\n    nameGetter?: NameGetter\r\n}\r\n\r\nexport const ListFilter: FC<ListFilterProps> = ({list, loadList, value, onChange, search, searchPlaceholder = 'Search', nameGetter}) => {\r\n    const {t} = useLocalizationState()\r\n    const [open, setOpen] = useState<boolean>(false)\r\n\r\n    useLayoutEffect(() => {\r\n        if (open && !!loadList) {\r\n            loadList()\r\n        }\r\n    }, [open, loadList])\r\n\r\n    const handleDropdownOnToggle = useCallback((isOpen: boolean): void => setOpen(isOpen), [setOpen])\r\n\r\n    const handleSelectionChange = useCallback((data: string) => {\r\n        onChange([...value, data])\r\n    }, [value, onChange])\r\n\r\n    const handleDeselectionChange = useCallback((data: string) => {\r\n        onChange(without(value, data))\r\n    }, [value, onChange])\r\n\r\n    const handleClear = useCallback(() => onChange([]), [onChange])\r\n\r\n    const labels = useMemo(() => value.length\r\n        ? value\r\n            .map(item => (\r\n                <SmLabel\r\n                    key={item}\r\n                    as=\"a\"\r\n                    className={styles.dropdownFilterLabel}\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    {nameGetter ? nameGetter(item) : item}\r\n                    <SmIcon name=\"close\" onClick={() => handleDeselectionChange(item)}/>\r\n                </SmLabel>\r\n            ))\r\n        : null,\r\n    [value, handleDeselectionChange])\r\n\r\n    return (\r\n        <Dropdown\r\n            placeholder={t.INTERACTION_SEARCH.filter_panel_any_placeholder()}\r\n            value={labels}\r\n            onValueClear={handleClear}\r\n            onToggle={handleDropdownOnToggle}\r\n        >\r\n            <SearchableListPanel.Adapter\r\n                placeholder={searchPlaceholder}\r\n                list={list}\r\n                selectedList={value}\r\n                onChange={handleSelectionChange}\r\n                search={search}\r\n                nameGetter={nameGetter}\r\n            />\r\n        </Dropdown>\r\n    )\r\n}\r\n\r\n","import type {FC} from 'react'\r\nimport React, {useCallback, useMemo, useState} from 'react'\r\n\r\nimport {SmInput} from '@bpinc/lib-external-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {Tab} from '../../context/search-tab-context'\r\nimport {useSearchTabContext} from '../../context/search-tab-context'\r\nimport type {OperatorType} from '../../context/search-tab-filter'\r\nimport {AgentTeamFilter} from './AgentTeamFilter'\r\nimport {DateFilter} from './DateFilter'\r\nimport {DurationFilter} from './DurationFilter'\r\nimport {ExistFilter} from './ExistFilter'\r\nimport {FilterItem} from './FilterItem'\r\nimport {FilterPanelSidebar} from './FilterPanelSidebar'\r\nimport {FilterShowMore} from './FilterShowMore'\r\nimport {ListFilter} from './ListFilter'\r\n\r\n\r\nconst OPERATORS: OperatorType[] = ['>=', '<=']\r\n\r\ninterface FilterPanelProps {\r\n    tab: Tab\r\n}\r\n\r\nexport const FilterPanel: FC<FilterPanelProps> = ({tab: {id, tabFilter: {filter}, filterPanelOpened}}) => {\r\n    const {t} = useLocalizationState()\r\n    const [moreFilters, setMoreFilters] = useState<boolean>(false)\r\n    const {updateTabFilter: {updateFilter, clearFilter, toggleFilterPanel}, remoteData} = useSearchTabContext()\r\n    const handleOnToggle = useCallback(() => toggleFilterPanel(id), [id, toggleFilterPanel])\r\n    const handleOnClearFilter = useCallback(() => clearFilter(id), [id, clearFilter])\r\n    const handleOnMoreFiltersToggle = useCallback(() => setMoreFilters(filters => !filters), [setMoreFilters])\r\n\r\n    const renderMoreFilters = useMemo(() => moreFilters\r\n        ? (\r\n            <>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_disposition()}>\r\n                    <ListFilter\r\n                        list={remoteData.dispositions}\r\n                        loadList={remoteData.loadDispositions}\r\n                        value={filter.disposition}\r\n                        onChange={dispositions => updateFilter(id, 'disposition', dispositions)}\r\n                        searchPlaceholder={t.INTERACTION_SEARCH.filter_panel_search_dispositions_placeholder()}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_contact_account()}>\r\n                    <SmInput\r\n                        placeholder={t.INTERACTION_SEARCH.filter_panel_any_placeholder()}\r\n                        fluid\r\n                        value={filter.contactAccount}\r\n                        onChange={(e, d) => updateFilter(id, 'contactAccount', d.value)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_voice_recording()}>\r\n                    <ExistFilter\r\n                        value={filter.voiceRecording}\r\n                        onChange={d => updateFilter(id, 'voiceRecording', d)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_screen_recording()}>\r\n                    <ExistFilter\r\n                        value={filter.screenRecording}\r\n                        onChange={d => updateFilter(id, 'screenRecording', d)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_transcript()}>\r\n                    <ExistFilter\r\n                        value={filter.transcript}\r\n                        onChange={d => updateFilter(id, 'transcript', d)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_duration()}>\r\n                    <DurationFilter\r\n                        operators={OPERATORS}\r\n                        value={filter.duration}\r\n                        onChange={duration => updateFilter(id, 'duration', duration)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_talk_time()}>\r\n                    <DurationFilter\r\n                        value={filter.talkTime}\r\n                        onChange={talkTIme => updateFilter(id, 'talkTime', talkTIme)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_queue_time()}>\r\n                    <DurationFilter\r\n                        value={filter.queueTime}\r\n                        onChange={queueTime => updateFilter(id, 'queueTime', queueTime)}\r\n                    />\r\n                </FilterItem>\r\n                <FilterItem header={t.INTERACTION_SEARCH.filter_panel_scenario()}>\r\n                    <ListFilter\r\n                        list={remoteData.scenarios}\r\n                        loadList={remoteData.loadScenarios}\r\n                        value={filter.scenario}\r\n                        onChange={scenarios => updateFilter(id, 'scenario', scenarios)}\r\n                        searchPlaceholder={t.INTERACTION_SEARCH.filter_panel_search_scenarios_placeholder()}\r\n                    />\r\n                </FilterItem>\r\n            </>\r\n        )\r\n        : null, [moreFilters, filter, updateFilter, remoteData])\r\n\r\n    const renderFilters = useMemo(() => (\r\n        <>\r\n            <FilterItem header={t.INTERACTION_SEARCH.filter_panel_time_period()}>\r\n                <DateFilter\r\n                    value={filter.timePeriod}\r\n                    onChange={d => updateFilter(id, 'timePeriod', d)}\r\n                />\r\n            </FilterItem>\r\n            <FilterItem header={t.INTERACTION_SEARCH.filter_panel_phone_address()}>\r\n                <SmInput\r\n                    placeholder=\"Any\"\r\n                    fluid\r\n                    value={filter.phoneAddress}\r\n                    onChange={(e, d) => updateFilter(id, 'phoneAddress', d.value)}\r\n                />\r\n            </FilterItem>\r\n            <FilterItem header={t.INTERACTION_SEARCH.filter_panel_service()}>\r\n                <ListFilter\r\n                    list={remoteData.services}\r\n                    loadList={remoteData.loadServices}\r\n                    value={filter.service}\r\n                    onChange={services => updateFilter(id, 'service', services)}\r\n                    searchPlaceholder={t.INTERACTION_SEARCH.filter_panel_search_services_placeholder()}\r\n                />\r\n            </FilterItem>\r\n            <FilterItem\r\n                header={\r\n                    !!filter.agentTeam && filter.agentTeam.type === 'team'\r\n                        ? t.INTERACTION_SEARCH.filter_panel_team()\r\n                        : t.INTERACTION_SEARCH.filter_panel_agent()\r\n                }\r\n            >\r\n                <AgentTeamFilter\r\n                    agents={remoteData.agents}\r\n                    teams={remoteData.teams}\r\n                    loadAgents={remoteData.loadAgents}\r\n                    loadTeams={remoteData.loadTeams}\r\n                    value={filter.agentTeam}\r\n                    onChange={agentsTeams => updateFilter(id, 'agentTeam', agentsTeams)}\r\n                />\r\n            </FilterItem>\r\n            {renderMoreFilters}\r\n            <FilterShowMore\r\n                shown={moreFilters}\r\n                onShowMoreToggle={handleOnMoreFiltersToggle}\r\n                labelShow={t.INTERACTION_SEARCH.filter_panel_show_more_filters()}\r\n                labelHide={t.INTERACTION_SEARCH.filter_panel_hide_extra_filters()}\r\n            />\r\n        </>\r\n    ), [filter, updateFilter, remoteData, moreFilters, handleOnMoreFiltersToggle, renderMoreFilters])\r\n\r\n    return (\r\n        <FilterPanelSidebar\r\n            opened={filterPanelOpened}\r\n            onToggle={handleOnToggle}\r\n            onClearFilter={handleOnClearFilter}\r\n        >\r\n            {renderFilters}\r\n        </FilterPanelSidebar>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"interactionSearch_Grid_grid_zxdWz\",\"gridHeader\":\"interactionSearch_Grid_gridHeader_87det\",\"gridBody\":\"interactionSearch_Grid_gridBody_zPiTI\",\"headerRow\":\"interactionSearch_Grid_headerRow_qL754\",\"row\":\"interactionSearch_Grid_row_yNgM8\",\"gridList\":\"interactionSearch_Grid_gridList_W0RNY\",\"selected\":\"interactionSearch_Grid_selected_hKNwB\",\"columnHeader\":\"interactionSearch_Grid_columnHeader_g68DS\",\"columnMenuTriggerButton\":\"interactionSearch_Grid_columnMenuTriggerButton_RfuWw\",\"dragging\":\"interactionSearch_Grid_dragging_Wltyj\",\"columnDraggable\":\"interactionSearch_Grid_columnDraggable_qCMDB\",\"notDragging\":\"interactionSearch_Grid_notDragging_6ogyq\",\"dropping\":\"interactionSearch_Grid_dropping_pg3J2\",\"columnWrapper\":\"interactionSearch_Grid_columnWrapper_ybVht\",\"columnText\":\"interactionSearch_Grid_columnText_iNDtJ\",\"columnSortArrow\":\"interactionSearch_Grid_columnSortArrow_GWLBl\",\"columnSortArrowIcon\":\"interactionSearch_Grid_columnSortArrowIcon_eBY3Y\",\"columnMenuTriggerButtonWrapper\":\"interactionSearch_Grid_columnMenuTriggerButtonWrapper_6VeJe\",\"columnMenuWrapper\":\"interactionSearch_Grid_columnMenuWrapper_jBxoM\",\"columnMenu\":\"interactionSearch_Grid_columnMenu_zB8jL\",\"columnMenuCheckbox\":\"interactionSearch_Grid_columnMenuCheckbox_857Kc\",\"columnMenuButton\":\"interactionSearch_Grid_columnMenuButton_QofI5\",\"columnResizer\":\"interactionSearch_Grid_columnResizer_qCGGT\",\"cell\":\"interactionSearch_Grid_cell_M84qw\",\"cellContextMenuWrapper\":\"interactionSearch_Grid_cellContextMenuWrapper_bOqzt\",\"cellContextMenuButton\":\"interactionSearch_Grid_cellContextMenuButton_lK60Z\",\"cellContextMenuTooltip\":\"interactionSearch_Grid_cellContextMenuTooltip_OQZZx\"};","import type {FC, SyntheticEvent} from 'react'\r\nimport React, {useCallback, useState} from 'react'\r\nimport {isNil} from 'lodash-es'\r\n\r\nimport {SmButton} from '@bpinc/lib-external-ui-elements'\r\nimport {Popup} from '@bpinc/lib-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport styles from '../../styles/Grid.module.less'\r\n\r\n\r\ninterface GridCellContextMenuProps {\r\n    cell: (handleContextMenu?: (e: SyntheticEvent) => void) => React.ReactNode\r\n    cellValue: string\r\n}\r\n\r\nexport const GridCellContextMenu: FC<GridCellContextMenuProps> = ({cell, cellValue}) => {\r\n    const [menuOpened, setMenuOpened] = useState(false)\r\n    const [tooltipVisible, setTooltipVisible] = useState(false)\r\n    const {t} = useLocalizationState()\r\n\r\n\r\n    const handleContextMenu = useCallback((e: SyntheticEvent) => {\r\n        if (!isNil(cellValue) && typeof cellValue !== 'object') {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n            setMenuOpened(true)\r\n        }\r\n    }, [cellValue, setMenuOpened])\r\n\r\n    const handleCellCopy = (e: SyntheticEvent) => {\r\n        e.stopPropagation()\r\n        navigator.clipboard.writeText(cellValue)\r\n            .then(() => {\r\n                setTooltipVisible(true)\r\n\r\n                setTimeout(() => {\r\n                    setMenuOpened(false)\r\n                    setTooltipVisible(false)\r\n                }, 1000)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Popup\r\n            show={menuOpened}\r\n            className={styles.cellContextMenuWrapper}\r\n            onClickOutside={() => setMenuOpened(false)}\r\n            content={\r\n                <div >\r\n                    {tooltipVisible\r\n                        ? (\r\n                            <div className={styles.cellContextMenuTooltip}>\r\n                                {t.INTERACTION_SEARCH.grid_copied()}\r\n                            </div>\r\n                        ) : (\r\n                            <SmButton\r\n                                className={styles.cellContextMenuButton}\r\n                                onClick={handleCellCopy}\r\n                            >\r\n                                {t.INTERACTION_SEARCH.grid_copy()}\r\n                            </SmButton>\r\n                        )\r\n                    }\r\n                </div>\r\n            }\r\n        >\r\n            {cell(handleContextMenu)}\r\n        </Popup>\r\n    )\r\n}\r\n\r\n","import type {FC, SyntheticEvent} from 'react'\r\nimport React, {useCallback, useMemo, useState} from 'react'\r\n\r\nimport type {SmInputOnChangeData} from '@bpinc/lib-external-ui-elements'\r\nimport {SmInput} from '@bpinc/lib-external-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport styles from '../../styles/SearchableListPanel.module.less'\r\n\r\n\r\ntype CustomizableListPanelProps = {\r\n    placeholder: string\r\n    list: any[]\r\n    renderListItem: (item: any) => React.ReactNode\r\n} & ({\r\n    search: false\r\n    listItemLabelGetter: never\r\n} | {\r\n    search?: true\r\n    listItemLabelGetter: (item: any) => string\r\n})\r\n\r\nexport const CustomizableListPanel: FC<CustomizableListPanelProps> = ({placeholder, list, renderListItem, search = true, listItemLabelGetter}) => {\r\n    const [searchString, setSearchString] = useState<string>('')\r\n    const {t} = useLocalizationState()\r\n\r\n    const filteredList = useMemo((): any[] => {\r\n        return searchString\r\n            ? list.filter(item => listItemLabelGetter\r\n                ? listItemLabelGetter(item).toLowerCase().includes(searchString.toLowerCase())\r\n                : false)\r\n            : list\r\n    }, [list, searchString])\r\n\r\n    const noResultsFound = useMemo(() =>\r\n        !!searchString && !!list.length && !filteredList.length,\r\n    [list, searchString, filteredList])\r\n\r\n    const noOptionsAvailable = useMemo(() => !list.length || !searchString && !filteredList.length,\r\n        [list, searchString, filteredList])\r\n\r\n    const handleOnSearchChange = useCallback((e: SyntheticEvent, data: SmInputOnChangeData): void =>\r\n        setSearchString(data.value),\r\n    [setSearchString])\r\n\r\n    return (\r\n        <div>\r\n            {search && (\r\n                <SmInput\r\n                    fluid\r\n                    className={styles.searchBox}\r\n                    icon=\"search\"\r\n                    placeholder={placeholder}\r\n                    value={searchString}\r\n                    onChange={handleOnSearchChange}\r\n                />\r\n            )}\r\n            {noResultsFound || noOptionsAvailable\r\n                ? (\r\n                    <div className={styles.noResults}>\r\n                        {noResultsFound\r\n                            ? t.INTERACTION_SEARCH.searchable_list_panel_no_results()\r\n                            : t.INTERACTION_SEARCH.searchable_list_panel_no_options()}\r\n                    </div>\r\n                )\r\n                : (\r\n                    <div className={styles.listWrapper}>\r\n                        {filteredList.map(renderListItem)}\r\n                    </div>\r\n                )}\r\n        </div>\r\n    )\r\n}\r\n","import type {FC, ReactNode} from 'react'\r\nimport React, {useCallback, useEffect, useRef, useState} from 'react'\r\nimport {Tab, TabList, TabPanel, Tabs} from 'react-tabs'\r\n\r\nimport {SmCheckbox} from '@bpinc/lib-external-ui-elements'\r\nimport {Popup} from '@bpinc/lib-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport {CustomizableListPanel} from '../searchable-list-panel/CustomizableListPanel'\r\nimport type {GridColumn} from './Grid'\r\n\r\nimport styles from '../../styles/Grid.module.less'\r\n\r\n\r\nexport type ColumnSizeType = 'current' | 'all' | 'default'\r\n\r\ninterface GridColumnMenuProps {\r\n    menuOpened: boolean\r\n    onMenuClose: (menuOpened: boolean) => void\r\n    columns: any[]\r\n    currentColumnIndex: number\r\n    onGetColumnOrder: () => Array<string>\r\n    onSetColumnOrder: (columnOrder: Array<string>) => void\r\n    onSetColumnSize: (columnSizeType: ColumnSizeType) => void\r\n    children: ReactNode\r\n}\r\n\r\nexport const GridColumnMenu: FC<GridColumnMenuProps> = ({\r\n    menuOpened,\r\n    onMenuClose,\r\n    columns,\r\n    currentColumnIndex,\r\n    onGetColumnOrder,\r\n    onSetColumnOrder,\r\n    onSetColumnSize,\r\n    children,\r\n}) => {\r\n    const wrapperRef = useRef<HTMLDivElement>(null)\r\n    const [orderedColumns, setOrderedColumns]: [Array<GridColumn>, any] = useState([])\r\n    const {t} = useLocalizationState()\r\n\r\n    const handleOnEscape = useCallback((e: KeyboardEvent) => {\r\n        if (menuOpened && e.key === 'Escape') {\r\n            onMenuClose(false)\r\n        }\r\n    }, [menuOpened, onMenuClose])\r\n\r\n    useEffect(() => {\r\n        setOrderedColumns(columns.filter(column => column.toggleable))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleOnEscape, false)\r\n        return () => {\r\n            document.removeEventListener('keydown', handleOnEscape, false)\r\n        }\r\n    }, [handleOnEscape])\r\n\r\n    const handleColumnToggle = useCallback((column: any) => {\r\n        const oneColumnLeft = columns.filter(col => col.getToggleHiddenProps().checked).length === 1\r\n        const visible = column.getToggleHiddenProps().checked\r\n\r\n        if (!visible || (visible && !oneColumnLeft)) {\r\n            column.toggleHidden()\r\n        }\r\n\r\n        const columnOrder = onGetColumnOrder()\r\n\r\n        if (currentColumnIndex !== columnOrder.indexOf(column.id)) {\r\n            columnOrder.splice(columnOrder.indexOf(column.id), 1)\r\n            columnOrder.splice(currentColumnIndex + 1, 0, column.id)\r\n            onSetColumnOrder(columnOrder)\r\n        }\r\n\r\n    }, [columns, currentColumnIndex, onGetColumnOrder, onSetColumnOrder])\r\n\r\n    const handleSetColumnSize = useCallback((columnSizeType: ColumnSizeType) => {\r\n        onSetColumnSize(columnSizeType)\r\n        onMenuClose(false)\r\n    }, [onSetColumnSize, onMenuClose])\r\n\r\n    console.log('popup menu', menuOpened)\r\n\r\n    return (\r\n        <Popup\r\n            show={menuOpened}\r\n            contentClassName={styles.columnMenuWrapper}\r\n            onClickOutside={() => onMenuClose(false)}\r\n            content={\r\n                <div ref={wrapperRef} className={styles.columnMenu}>\r\n                    <Tabs>\r\n                        <TabList>\r\n                            <Tab>{t.INTERACTION_SEARCH.grid_columns()}</Tab>\r\n                            <Tab>{t.INTERACTION_SEARCH.grid_layout()}</Tab>\r\n                        </TabList>\r\n\r\n                        <TabPanel>\r\n                            <CustomizableListPanel\r\n                                placeholder={t.INTERACTION_SEARCH.grid_search_columns_placeholder()}\r\n                                list={orderedColumns.map(orderedColumn => columns.filter(column => column.Header === orderedColumn.Header)[0])}\r\n                                renderListItem={column => (\r\n                                    <SmCheckbox\r\n                                        key={column.Header}\r\n                                        className={styles.columnMenuCheckbox}\r\n                                        label={column.Header}\r\n                                        {...column.getToggleHiddenProps()}\r\n                                        onChange={() => handleColumnToggle(column)}\r\n                                    />\r\n                                )}\r\n                                listItemLabelGetter={column => column.Header}\r\n                            />\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n                            <button\r\n                                className={styles.columnMenuButton}\r\n                                onClick={() => handleSetColumnSize('current')}\r\n                            >\r\n                                {t.INTERACTION_SEARCH.grid_autosize_this_column()}\r\n                            </button>\r\n                            <button\r\n                                className={styles.columnMenuButton}\r\n                                onClick={() => handleSetColumnSize('all')}\r\n                            >\r\n                                {t.INTERACTION_SEARCH.grid_autosize_all_columns()}\r\n                            </button>\r\n                            <button\r\n                                className={styles.columnMenuButton}\r\n                                onClick={() => handleSetColumnSize('default')}\r\n                            >\r\n                                {t.INTERACTION_SEARCH.grid_reset_columns()}\r\n                            </button>\r\n                        </TabPanel>\r\n                    </Tabs>\r\n                </div>\r\n            }\r\n        >\r\n            {children}\r\n        </Popup>\r\n    )\r\n}\r\n","import type {FC, MouseEvent} from 'react'\r\nimport React, {useCallback} from 'react'\r\n\r\nimport {SmButton, SmIcon} from '@bpinc/lib-external-ui-elements'\r\n\r\nimport styles from '../../styles/Grid.module.less'\r\n\r\n\r\ninterface GridColumnMenuTriggerButtonProps {\r\n    onMenuOpen: ({menuOpened}: {menuOpened: boolean }) => void\r\n}\r\n\r\nexport const GridColumnMenuTriggerButton: FC<GridColumnMenuTriggerButtonProps> = ({onMenuOpen}) => {\r\n    const handleMenuButtonClick = useCallback((e: MouseEvent<HTMLButtonElement>) => {\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        onMenuOpen({menuOpened: true})\r\n    }, [onMenuOpen])\r\n\r\n    return (\r\n        <div className={styles.columnMenuTriggerButtonWrapper}>\r\n            <SmButton\r\n                className={styles.columnMenuTriggerButton}\r\n                onClick={handleMenuButtonClick}\r\n            >\r\n                <SmIcon name=\"sidebar\" />\r\n            </SmButton>\r\n        </div>\r\n    )\r\n}\r\n","import {useCallback} from 'react'\r\nimport type {ActionType, Hooks, TableInstance, TableState} from 'react-table'\r\nimport {actions, ensurePluginOrder} from 'react-table'\r\n\r\nimport {getTextWidth} from '../../utils'\r\n\r\n// Actions\r\nactions.autosizeColumns = 'autosizeColumns'\r\nactions.autosizeColumn = 'autosizeColumn'\r\n\r\nexport const useAutosizeColumns = (hooks: Hooks) => {\r\n    hooks.stateReducers.push(reducer)\r\n    hooks.useInstance.push(useInstance)\r\n}\r\n\r\nuseAutosizeColumns.pluginName = 'useAutosizeColumns'\r\n\r\nexport interface AutosizeColumnData {\r\n    columnId: string\r\n    columnText: string\r\n    columnFont: string\r\n    extraSpace: number\r\n    maxWidth: number\r\n}\r\n\r\nconst reducer = (state: TableState, action: ActionType) => {\r\n    if (action.type === actions.autosizeColumns) {\r\n        const {columns} = action\r\n        const newWidths = columns\r\n            .reduce((obj: any, {columnId, columnText, columnFont, extraSpace, maxWidth}: AutosizeColumnData) => {\r\n                obj[columnId] = getTextWidth(columnText, columnFont, extraSpace, maxWidth)\r\n                return obj\r\n            }, {})\r\n\r\n        return {\r\n            ...state,\r\n            columnResizing: {\r\n                ...state.columnResizing,\r\n                columnWidths: {\r\n                    ...state.columnResizing.columnWidths,\r\n                    ...newWidths,\r\n                },\r\n            },\r\n        }\r\n    }\r\n\r\n    if (action.type === actions.autosizeColumn) {\r\n        const {column: {columnId, columnText, columnFont, extraSpace, maxWidth}} = action\r\n        const width = getTextWidth(columnText, columnFont, extraSpace, maxWidth)\r\n\r\n        return {\r\n            ...state,\r\n            columnResizing: {\r\n                ...state.columnResizing,\r\n                columnWidths: {\r\n                    ...state.columnResizing.columnWidths,\r\n                    [columnId]: width,\r\n                },\r\n            },\r\n        }\r\n    }\r\n}\r\n\r\nconst useInstance = (instance: TableInstance) => {\r\n    const {plugins, dispatch} = instance\r\n\r\n    ensurePluginOrder(plugins, ['useResizeColumns'], 'useAutosizeColumns')\r\n\r\n    const autosizeColumns = useCallback(\r\n        (columns: Array<AutosizeColumnData>) => dispatch({\r\n            type: actions.autosizeColumns,\r\n            columns,\r\n        }),\r\n        [dispatch])\r\n\r\n    const autosizeColumn = useCallback(\r\n        (column: AutosizeColumnData) => dispatch({\r\n            type: actions.autosizeColumn,\r\n            column,\r\n        }),\r\n        [dispatch])\r\n\r\n    Object.assign(instance, {\r\n        autosizeColumns,\r\n        autosizeColumn,\r\n    })\r\n}\r\n","import type {FC, MutableRefObject, SyntheticEvent} from 'react'\r\nimport React, {\r\n    memo,\r\n    useCallback,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useMemo,\r\n    useRef,\r\n    useState,\r\n} from 'react'\r\nimport {DragDropContext, Draggable, Droppable} from 'react-beautiful-dnd'\r\nimport type {HeaderGroup, SortingRule} from 'react-table'\r\nimport {\r\n    actions,\r\n    useBlockLayout,\r\n    useColumnOrder,\r\n    usePagination,\r\n    useResizeColumns,\r\n    useRowSelect,\r\n    useSortBy,\r\n    useTable,\r\n} from 'react-table'\r\nimport type {ListOnItemsRenderedProps} from 'react-window'\r\nimport {areEqual, FixedSizeList} from 'react-window'\r\nimport {cloneDeep, debounce, find, noop} from 'lodash-es'\r\n\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\n\r\nimport {useWindowDimensions} from '../../utils'\r\nimport {Icon} from '../icon/Icon'\r\nimport {GridCellContextMenu} from './GridCellContextMenu'\r\nimport type {ColumnSizeType} from './GridColumnMenu'\r\nimport {GridColumnMenu} from './GridColumnMenu'\r\nimport {GridColumnMenuTriggerButton} from './GridColumnMenuTriggerButton'\r\nimport type {AutosizeColumnData} from './useAutosizeColumns'\r\nimport {useAutosizeColumns} from './useAutosizeColumns'\r\n\r\nimport styles from '../../styles/Grid.module.less'\r\n\r\n\r\nexport interface GridColumn {\r\n    Header: string\r\n    accessor: string\r\n    visible: boolean\r\n    disableSortBy: boolean\r\n    Cell?: any\r\n    width?: number\r\n}\r\n\r\nexport interface GridSortInfo {\r\n    sortField: string\r\n    sortDir: string\r\n}\r\n\r\nexport interface GridPageInfo {\r\n    offset: number\r\n    limit: number\r\n}\r\n\r\nexport interface GridLocalStorageId {\r\n    id: string\r\n    fallbackId: string\r\n}\r\n\r\ninterface GridProps {\r\n    columns: GridColumn[]\r\n    rows: any[]\r\n    sortInfo?: GridSortInfo\r\n    onSortInfoChange: (sortInfo?: GridSortInfo) => void\r\n    pageInfo: GridPageInfo\r\n    onPageInfoChange: (pageInfo: GridPageInfo) => void\r\n    total: number\r\n    localStorageId: GridLocalStorageId\r\n}\r\n\r\ninterface GridSavedState {\r\n    columns: Array<{id: string; visible: boolean; width: number}>\r\n    sortBy?: SortingRule<string>\r\n    timestamp: number\r\n}\r\n\r\ninterface GridRenderedRows {\r\n    start: number\r\n    end: number\r\n}\r\n\r\nconst loadGridSavedState = (localStorageId: GridLocalStorageId): GridSavedState | null => {\r\n    let gridSavedStateJson = localStorage.getItem(localStorageId.id)\r\n\r\n    if (gridSavedStateJson === null && localStorageId.id !== localStorageId.fallbackId) {\r\n        gridSavedStateJson = localStorage.getItem(localStorageId.fallbackId)\r\n    }\r\n\r\n    if (gridSavedStateJson != null) {\r\n        return JSON.parse(gridSavedStateJson)\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nconst defaultColumnSize = {minWidth: 100, width: 180}\r\nconst debounceScrollStateUpdate = debounce(callback => callback(), 500, {leading: false, trailing: true})\r\nconst getColumnId = (column: any) => column.id || column.accessor\r\n\r\nexport const Grid: FC<GridProps> = React.memo(({columns, rows, sortInfo, onSortInfoChange, pageInfo, onPageInfoChange, total, localStorageId}) => {\r\n    const [columnMenuData, setColumnMenuData] = useState({\r\n        menuOpened: false,\r\n        currentColumnId: null,\r\n        currentColumnIndex: 0,\r\n    })\r\n    const windowDimensions = useWindowDimensions()\r\n    const [listHeight, setListHeight] = useState<number>(0)\r\n    const [renderedRows, setRenderedRows] = useState<null | GridRenderedRows>(null)\r\n    const currentColOrder = useRef<Array<string>>([])\r\n    const gridHeaderWrapperRef: MutableRefObject<any> = useRef()\r\n    const gridBodyRef: MutableRefObject<any> = useRef()\r\n    const listRef: MutableRefObject<any> = useRef()\r\n\r\n    useLayoutEffect(() => {\r\n        const newListHeight = gridBodyRef.current\r\n            ? windowDimensions.height - gridBodyRef.current.getBoundingClientRect().top - 46 // 46 = paginator height + margin\r\n            : 10\r\n        setListHeight(newListHeight)\r\n    },\r\n    [rows, windowDimensions, gridBodyRef])\r\n\r\n    const gridSavedState = useMemo(() => loadGridSavedState(localStorageId), [])\r\n\r\n    const columnsData = useMemo(() => {\r\n        if (gridSavedState != null) {\r\n            return cloneDeep(columns)\r\n                .map(column => {\r\n                    column.width = gridSavedState.columns\r\n                        .filter(savedColumn => getColumnId(column) === savedColumn.id)[0]?.width || defaultColumnSize.width\r\n                    return column\r\n                })\r\n        }\r\n\r\n        return columns\r\n    }, [columns])\r\n\r\n    const data = useMemo(() => rows, [rows])\r\n\r\n    const defaultColumn = useMemo(() => defaultColumnSize, [])\r\n\r\n    const savedHiddenColumns = useMemo(() => {\r\n        if (gridSavedState != null) {\r\n            return gridSavedState.columns.filter(column => !column.visible).map(column => column.id)\r\n        }\r\n\r\n        return columnsData.filter(column => !column.visible).map(column => getColumnId(column))\r\n    }, [gridSavedState, columnsData])\r\n\r\n    const savedColumnOrder = useMemo(() => {\r\n        if (gridSavedState != null) {\r\n            return gridSavedState.columns.map(column => column.id)\r\n        }// else return undefined\r\n    }, [gridSavedState])\r\n\r\n    const savedSortBy = useMemo(() => {\r\n        if (gridSavedState != null && gridSavedState.sortBy) {\r\n            return [gridSavedState.sortBy]\r\n        } else if (sortInfo) {\r\n            return [{id: sortInfo.sortField, desc: sortInfo.sortField === 'DESC'}]\r\n        } else {\r\n            return []\r\n        }\r\n    }, [sortInfo, gridSavedState])\r\n\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        page,\r\n        totalColumnsWidth,\r\n        prepareRow,\r\n        state: {columnOrder, columnResizing, sortBy, pageIndex, pageSize},\r\n        dispatch,\r\n        visibleColumns,\r\n        allColumns,\r\n        setColumnOrder,\r\n        canPreviousPage,\r\n        canNextPage,\r\n        pageOptions,\r\n        pageCount,\r\n        gotoPage,\r\n        nextPage,\r\n        previousPage,\r\n        autosizeColumns,\r\n        autosizeColumn,\r\n    } = useTable(\r\n        {\r\n            columns: columnsData,\r\n            data,\r\n            defaultColumn,\r\n            manualSortBy: true,\r\n            disableMultiSort: true,\r\n            manualPagination: true,\r\n            initialState: {\r\n                hiddenColumns: savedHiddenColumns,\r\n                columnOrder: savedColumnOrder,\r\n                sortBy: savedSortBy,\r\n                pageSize: pageInfo.limit,\r\n                pageIndex: Math.ceil(pageInfo.offset / pageInfo.limit),\r\n            },\r\n            pageCount: Math.ceil(total / pageInfo.limit),\r\n        },\r\n        useBlockLayout,\r\n        useResizeColumns,\r\n        useAutosizeColumns,\r\n        useColumnOrder,\r\n        useSortBy,\r\n        usePagination,\r\n        useRowSelect,\r\n    )\r\n\r\n    useEffect(() => {\r\n        if (page.length === 0) {\r\n            setRenderedRows(null)\r\n        }\r\n    }, [page.length])\r\n\r\n    useEffect(() => {\r\n        saveState()\r\n    }, [columnOrder, sortBy, visibleColumns])\r\n\r\n    useEffect(() => {\r\n        if (!columnResizing.isResizingColumn) {\r\n            saveState()\r\n        }\r\n    }, [columnResizing])\r\n\r\n    const saveState = useCallback(() => {\r\n        const columnsState = allColumns.map(column => {\r\n            return {\r\n                id: column.id,\r\n                visible: column.isVisible,\r\n                width: column.width,\r\n            }\r\n        })\r\n        const sortState = sortBy[0]\r\n        const timestamp = +new Date()\r\n        const gridSavedStateJson = JSON.stringify({columns: columnsState, sortBy: sortState, timestamp})\r\n\r\n        localStorage.setItem(localStorageId.id, gridSavedStateJson)\r\n    }, [allColumns, sortBy])\r\n\r\n    useEffect(() => {\r\n        if (sortBy[0]) {\r\n            const {id, desc} = sortBy[0]\r\n            const newSortInfo = {sortField: id, sortDir: desc ? 'DESC' : 'ASC'}\r\n\r\n            if (!sortInfo || newSortInfo.sortField !== sortInfo.sortField || newSortInfo.sortDir !== sortInfo.sortDir) {\r\n                onSortInfoChange(newSortInfo)\r\n            }\r\n        } else if (sortInfo) {\r\n            onSortInfoChange()\r\n        }\r\n    }, [sortInfo, onSortInfoChange, sortBy])\r\n\r\n    useEffect(() => {\r\n        if (pageInfo.offset !== pageIndex * pageSize || pageInfo.limit !== pageSize) {\r\n            onPageInfoChange({offset: pageIndex * pageSize, limit: pageSize})\r\n        }\r\n    }, [pageInfo, onPageInfoChange, pageIndex, pageSize])\r\n\r\n    const handleColumnDragStart = useCallback(() => currentColOrder.current = visibleColumns.map(o => o.id), [currentColOrder, visibleColumns])\r\n\r\n    const handleColumnDragUpdate = useCallback((dragUpdateObj: any) => {\r\n        const colOrder = [...currentColOrder.current]\r\n        const sourceIndex = dragUpdateObj.source.index\r\n        const destinationIndex = dragUpdateObj.destination && dragUpdateObj.destination.index\r\n        colOrder.splice(sourceIndex, 1)\r\n        colOrder.splice(destinationIndex, 0, dragUpdateObj.draggableId)\r\n        setColumnOrder(colOrder)\r\n    }, [currentColOrder, visibleColumns, setColumnOrder])\r\n\r\n    const handleColumnMenuOpen = useCallback((newColumnMenuData: Partial<typeof columnMenuData>, currentColumnId: null, currentColumnIndex: number) => {\r\n        setColumnMenuData(state => ({\r\n            ...state,\r\n            ...newColumnMenuData,\r\n            currentColumnId,\r\n            currentColumnIndex,\r\n        }))\r\n    }, [])\r\n\r\n    const handleColumnMenuClose = useCallback((menuOpened: boolean) => {\r\n        setColumnMenuData(state => ({\r\n            ...state,\r\n            menuOpened,\r\n        }))\r\n    }, [])\r\n\r\n    const handleGetColumnOrder = useCallback(() => allColumns.map(o => o.id), [allColumns])\r\n\r\n    const getAutosizeColumnData = useCallback((column: any, columnFont: string, maxWidth: number): AutosizeColumnData => {\r\n        let longestCellValue = column.Header\r\n        let extraSpace = 66\r\n\r\n        if (renderedRows) {\r\n            const cellValues: string[] = []\r\n\r\n            for (let i = renderedRows.start; i <= renderedRows.end; i++) {\r\n                const value = page[i].values[column.id]\r\n\r\n                if (column.Cell) {\r\n                    const cellValue = column.Cell({cell: {value}})\r\n\r\n                    if (typeof cellValue === 'string') {\r\n                        if (cellValue.length > 0) {\r\n                            cellValues.push(cellValue)\r\n                        } else if (typeof value === 'string' && value.length > 0) {\r\n                            cellValues.push(value)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            longestCellValue = cellValues.reduce((v1, v2) => v1.length > v2.length ? v1 : v2, column.Header)\r\n\r\n            // increase the length of the title by 5 letters to make more space\r\n            if (longestCellValue.length > (column.Header.length + 5)) {\r\n                extraSpace = 21\r\n            }\r\n        }\r\n\r\n        return {\r\n            columnId: column.id,\r\n            columnText: longestCellValue,\r\n            columnFont,\r\n            extraSpace,\r\n            maxWidth,\r\n        }\r\n    }, [renderedRows, page])\r\n\r\n    const handleSetColumnSize = useCallback((columnSizeType: ColumnSizeType) => {\r\n        const columnFont = '14px Lato,\\'Helvetica Neue\\',Arial,Helvetica,sans-serif'\r\n        const maxWidth = windowDimensions.width / 2\r\n\r\n        switch (columnSizeType) {\r\n            case 'all': {\r\n                const newColumns = visibleColumns\r\n                    .map(column => getAutosizeColumnData(column, columnFont, maxWidth))\r\n                autosizeColumns(newColumns)\r\n                break\r\n            }\r\n            case 'current': {\r\n                const updatedColumn = find(visibleColumns, {id: columnMenuData.currentColumnId}) as any\r\n\r\n                if (updatedColumn) {\r\n                    autosizeColumn(getAutosizeColumnData(updatedColumn, columnFont, maxWidth))\r\n                }\r\n            }\r\n        }\r\n    }, [visibleColumns, columnMenuData, autosizeColumn, autosizeColumns, getAutosizeColumnData, windowDimensions.width])\r\n\r\n    const handleListScroll = useCallback((e: SyntheticEvent) => {\r\n        const target = e.target as HTMLTextAreaElement\r\n        gridHeaderWrapperRef.current.scrollTo({left: target.scrollLeft})\r\n        listRef.current.scrollTo(target.scrollTop)\r\n    }, [listRef])\r\n\r\n    const handleListItemsRendered = useCallback(({visibleStartIndex, visibleStopIndex}: ListOnItemsRenderedProps) =>\r\n        debounceScrollStateUpdate(() => setRenderedRows({\r\n            start: visibleStartIndex,\r\n            end: visibleStopIndex,\r\n        })), [setRenderedRows])\r\n\r\n    const renderColumn = useCallback((column: any, index: number) => (\r\n        <Draggable\r\n            key={column.id}\r\n            draggableId={column.id}\r\n            index={index}\r\n            isDragDisabled={!getColumnId(column)}\r\n        >\r\n            {(provided, snapshot) => {\r\n                return (\r\n                    <div\r\n                        {...column.getHeaderProps({...column.getSortByToggleProps(), title: column.Header})}\r\n                        className={tcn(styles.columnHeader, {[styles.dragging]: snapshot.isDragging})}\r\n                    >\r\n                        <div\r\n                            {...provided.draggableProps}\r\n                            {...provided.dragHandleProps}\r\n                            ref={provided.innerRef}\r\n                            style={provided.draggableProps.style}\r\n                            className={tcn(styles.columnDraggable, {\r\n                                [styles.dragging]: snapshot.isDragging,\r\n                                [styles.notDragging]: !snapshot.isDragging,\r\n                                [styles.dropping]: snapshot.isDropAnimating,\r\n                            })}\r\n                        >\r\n                            {snapshot.isDragging ? (\r\n                                <span\r\n                                    className={styles.columnText}\r\n                                >\r\n                                    {!column.hiddenHeader && column.render('Header')}\r\n                                </span>\r\n                            )\r\n                                : (\r\n                                    <>\r\n                                        <div className={styles.columnWrapper}>\r\n                                            <span\r\n                                                className={styles.columnText}\r\n                                            >\r\n                                                {!column.hiddenHeader && column.render('Header')}\r\n                                            </span>\r\n                                            <span className={tcn(!column.hiddenHeader && styles.columnSortArrow)}>\r\n                                                {\r\n                                                    column.isSorted ?\r\n                                                        column.isSortedDesc\r\n                                                            ? (\r\n                                                                <Icon name=\"caret-down\" className={styles.columnSortArrowIcon} />\r\n                                                            )\r\n                                                            : (\r\n                                                                <Icon name=\"caret-up\" className={styles.columnSortArrowIcon} />\r\n                                                            )\r\n                                                        : null\r\n                                                }\r\n                                            </span>\r\n                                        </div>\r\n                                        <GridColumnMenu\r\n                                            menuOpened={\r\n                                                columnMenuData.menuOpened &&\r\n                                              columnMenuData.currentColumnId === column.id &&\r\n                                              columnMenuData.currentColumnIndex === index\r\n                                            }\r\n                                            onMenuClose={handleColumnMenuClose}\r\n                                            columns={allColumns}\r\n                                            currentColumnIndex={columnMenuData.currentColumnIndex}\r\n                                            onGetColumnOrder={handleGetColumnOrder}\r\n                                            onSetColumnOrder={setColumnOrder}\r\n                                            onSetColumnSize={handleSetColumnSize}\r\n                                        >\r\n                                            <GridColumnMenuTriggerButton\r\n                                                onMenuOpen={menuData => handleColumnMenuOpen(menuData, column.id, index)}\r\n                                            />\r\n                                        </GridColumnMenu>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </div>\r\n                        <div\r\n                            {...column.getResizerProps()}\r\n                            className={styles.columnResizer}\r\n                            onClick={e => e.stopPropagation()}\r\n                        />\r\n                    </div>\r\n                )\r\n            }}\r\n        </Draggable>\r\n    ), [\r\n        allColumns,\r\n        columnMenuData.currentColumnId,\r\n        columnMenuData.currentColumnIndex,\r\n        columnMenuData.menuOpened,\r\n        handleColumnMenuClose,\r\n        handleColumnMenuOpen,\r\n        handleGetColumnOrder,\r\n        handleSetColumnSize,\r\n        setColumnOrder,\r\n    ])\r\n\r\n    const renderHeaderGroup = useCallback((headerGroup: HeaderGroup, index: number) => (\r\n        <DragDropContext\r\n            key={index}\r\n            onDragStart={handleColumnDragStart}\r\n            onDragUpdate={handleColumnDragUpdate}\r\n            onDragEnd={noop}\r\n        >\r\n            <Droppable droppableId=\"droppable\" direction=\"horizontal\">\r\n                {droppableProvided => (\r\n                    <div\r\n                        {...headerGroup.getHeaderGroupProps()}\r\n                        ref={droppableProvided.innerRef}\r\n                        className={styles.headerRow}\r\n                    >\r\n                        {headerGroup.headers.map(renderColumn)}\r\n                    </div>\r\n                )}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    ), [handleColumnDragStart, handleColumnDragUpdate, renderColumn])\r\n\r\n    // @ts-expect-error - improve types\r\n    const renderRow = memo(({index, style}) => {\r\n        const row = page[index]\r\n        prepareRow(row)\r\n\r\n        return (\r\n            <div\r\n                {...row.getRowProps({style})}\r\n                className={tcn(styles.row, {[styles.selected]: row.isSelected})}\r\n                onClick={e => {\r\n                    if (!e.ctrlKey) {\r\n                        dispatch({type: actions.resetSelectedRows})\r\n                    }\r\n\r\n                    // @ts-expect-error - improve types\r\n                    row.toggleRowSelected(1)\r\n                }}\r\n            >\r\n                {row.cells.map((cell, idx) => {\r\n                    return (\r\n                        <GridCellContextMenu\r\n                            key={idx}\r\n                            cell={handleContextMenuClick => (\r\n                                <div\r\n                                    {...cell.getCellProps()}\r\n                                    className={styles.cell}\r\n                                    onContextMenu={handleContextMenuClick}\r\n                                >\r\n                                    {cell.render('Cell')}\r\n                                </div>\r\n                            )}\r\n                            // @ts-expect-error - improve types\r\n                            cellValue={(!!cell.column.Cell && cell.column.Cell({cell})) || cell.value}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }, areEqual)\r\n\r\n    const renderPagination = useCallback(() => (\r\n        <div>\r\n            <button onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n                {'<<'}\r\n            </button>\r\n            {' '}\r\n            <button onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n                {'<'}\r\n            </button>\r\n            {' '}\r\n            <button onClick={() => nextPage()} disabled={!canNextPage}>\r\n                {'>'}\r\n            </button>\r\n            {' '}\r\n            <button onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n                {'>>'}\r\n            </button>\r\n            {' '}\r\n            <span>\r\n                Page\r\n                {' '}\r\n                <strong>\r\n                    {pageIndex + 1}\r\n                    {' '}\r\nof\r\n                    {' '}\r\n                    {pageOptions.length}\r\n                </strong>\r\n                {' '}\r\n            </span>\r\n        </div>\r\n    ), [gotoPage, canPreviousPage, previousPage, canNextPage, nextPage, pageCount, pageIndex, pageOptions.length])\r\n\r\n    return (\r\n        <>\r\n            <div {...getTableProps()} className={styles.grid}>\r\n                <div ref={gridHeaderWrapperRef} className={styles.gridHeader}>\r\n                    {headerGroups.map(renderHeaderGroup)}\r\n                </div>\r\n                <div\r\n                    ref={gridBodyRef}\r\n                    {...getTableBodyProps()}\r\n                    onScroll={handleListScroll}\r\n                    className={styles.gridBody}\r\n                >\r\n                    <FixedSizeList\r\n                        ref={listRef}\r\n                        height={listHeight}\r\n                        itemCount={page.length}\r\n                        itemSize={50}\r\n                        width={totalColumnsWidth}\r\n                        className={styles.gridList}\r\n                        onItemsRendered={handleListItemsRendered}\r\n                    >\r\n                        {renderRow}\r\n                    </FixedSizeList>\r\n                </div>\r\n            </div>\r\n            {renderPagination()}\r\n        </>\r\n    )\r\n})\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"panelWrapper\":\"interactionSearch_SearchResult_panelWrapper_jZWLV\",\"general\":\"interactionSearch_SearchResult_general_CGtZY\",\"searchInput\":\"interactionSearch_SearchResult_searchInput_0OrOf\",\"actionsPanel\":\"interactionSearch_SearchResult_actionsPanel_vqPVF\",\"actionsDropdown\":\"interactionSearch_SearchResult_actionsDropdown_KidUj\",\"gridWrapper\":\"interactionSearch_SearchResult_gridWrapper_DrCwD\"};","import type {FC} from 'react'\r\nimport React, {useCallback, useEffect, useMemo, useState} from 'react'\r\nimport {debounce, pick} from 'lodash-es'\r\n\r\nimport type {SmInputOnChangeData} from '@bpinc/lib-external-ui-elements'\r\nimport {SmDropdown, SmInput} from '@bpinc/lib-external-ui-elements'\r\nimport {tcn} from '@bpinc/lib-tailwind-classnames'\r\nimport {Dropdown} from '@bpinc/lib-ui-elements'\r\nimport {useLocalizationState} from '@bpinc/state-localization-context'\r\n\r\nimport type {Tab} from '../../context/search-tab-context'\r\nimport {defaultResponse, useSearchTabContext} from '../../context/search-tab-context'\r\nimport {format} from '../../utils'\r\nimport {FilterPanel} from '../filter-panel/FilterPanel'\r\nimport type {GridLocalStorageId, GridPageInfo, GridSortInfo} from '../grid/Grid'\r\nimport {Grid} from '../grid/Grid'\r\nimport {Icon} from '../icon/Icon'\r\n\r\nimport styles from '../../styles/SearchResult.module.less'\r\n\r\n\r\ninterface SearchResultProps {\r\n    tab: Tab\r\n}\r\n\r\ninterface ColumnProps {\r\n    accessor: string\r\n    Header: string\r\n    visible?: boolean\r\n    disableSortBy?: boolean\r\n    Cell?: (data: any) => void\r\n    toggleable?: boolean\r\n\r\n    [key: string]: any\r\n}\r\n\r\nconst debounceUserInput = debounce(callback => callback(), 300, {leading: false, trailing: true})\r\nconst debounceSearch = debounce(callback => callback(), 300, {leading: false, trailing: true})\r\n\r\nconst getColumn = ({accessor, Header, visible = false, disableSortBy = false, toggleable = true, ...other}: ColumnProps) => ({\r\n    accessor,\r\n    Header,\r\n    visible,\r\n    disableSortBy,\r\n    toggleable,\r\n    ...other,\r\n})\r\n\r\nexport const SearchResult: FC<SearchResultProps> = React.memo(({tab, tab: {id, tabFilter: {queryString, error}, searchParams, searchResponse, general}}) => {\r\n    const {t} = useLocalizationState()\r\n    const columns = useMemo(() => [\r\n        getColumn({\r\n            accessor: 'mediaType',\r\n            Header: t.INTERACTION_SEARCH.search_result_col_media_type(),\r\n            visible: true,\r\n            Cell: format.mediaTypeToIcon,\r\n            minWidth: 65,\r\n            width: 65,\r\n            maxWidth: 65,\r\n            hiddenHeader: true,\r\n            toggleable: false,\r\n        }),\r\n        getColumn({\r\n            accessor: 'dataState',\r\n            Header: t.INTERACTION_SEARCH.search_result_col_data_state(),\r\n            visible: true,\r\n            disableSortBy: true,\r\n            Cell: format.dataStateToIcons,\r\n        }),\r\n        getColumn({accessor: 'startTime', Header: t.INTERACTION_SEARCH.search_result_col_start_time(), visible: true, Cell: format.tsToDate}),\r\n        getColumn({\r\n            accessor: 'globalInteractionId',\r\n            Header: t.INTERACTION_SEARCH.search_result_col_global_interaction_id(),\r\n            visible: true,\r\n            disableSortBy: true,\r\n        }),\r\n        getColumn({accessor: 'origination', Header: t.INTERACTION_SEARCH.search_result_col_origination(), visible: true}),\r\n        getColumn({accessor: 'destination', Header: t.INTERACTION_SEARCH.search_result_col_destination(), visible: true}),\r\n        getColumn({accessor: 'duration', Header: t.INTERACTION_SEARCH.search_result_col_duration(), visible: true, Cell: format.secondsToTime}),\r\n        getColumn({accessor: 'talkTime', Header: t.INTERACTION_SEARCH.search_result_col_talk_time(), visible: true, Cell: format.secondsToTime}),\r\n        getColumn({accessor: 'serviceNames', Header: t.INTERACTION_SEARCH.search_result_col_service_names(), visible: true, Cell: format.arrayToString}),\r\n        getColumn({accessor: 'agentNames', Header: t.INTERACTION_SEARCH.search_result_col_agent_names(), visible: true, Cell: format.arrayToString}),\r\n        getColumn({accessor: 'numberOfSegments', Header: t.INTERACTION_SEARCH.search_result_col_number_of_segments(), visible: true}),\r\n        getColumn({accessor: 'queueTime', Header: t.INTERACTION_SEARCH.search_result_col_queue_time(), Cell: format.secondsToTime}),\r\n        getColumn({accessor: 'ivrTime', Header: t.INTERACTION_SEARCH.search_result_col_ivr_time(), Cell: format.secondsToTime}),\r\n        getColumn({accessor: 'holdTime', Header: t.INTERACTION_SEARCH.search_result_col_hold_time(), Cell: format.secondsToTime}),\r\n        getColumn({accessor: 'numberOfHolds', Header: t.INTERACTION_SEARCH.search_result_col_number_of_holds()}),\r\n        getColumn({accessor: 'dispositionNames', Header: t.INTERACTION_SEARCH.search_result_col_disposition_names(), Cell: format.arrayToString}),\r\n        getColumn({accessor: 'flagged', Header: t.INTERACTION_SEARCH.search_result_col_flagged(), Cell: format.boolToText}),\r\n        getColumn({accessor: 'contactName', Header: t.INTERACTION_SEARCH.search_result_col_contact_name()}),\r\n        getColumn({accessor: 'accountNumber', Header: t.INTERACTION_SEARCH.search_result_col_account_number()}),\r\n        getColumn({accessor: 'sentiment', Header: t.INTERACTION_SEARCH.search_result_col_sentiment()}),\r\n        getColumn({accessor: 'sentiment', Header: t.INTERACTION_SEARCH.search_result_col_sentiment_value(), id: 'sentimentValue'}),\r\n        getColumn({accessor: 'callProblems', Header: t.INTERACTION_SEARCH.search_result_col_call_problem(), Cell: format.arrayToString}),\r\n        getColumn({accessor: 'emailSubject', Header: t.INTERACTION_SEARCH.search_result_col_email_subject(), disableSortBy: true}),\r\n        getColumn({accessor: 'custom1', Header: t.INTERACTION_SEARCH.search_result_col_custom_1(), disableSortBy: true}),\r\n        getColumn({accessor: 'custom2', Header: t.INTERACTION_SEARCH.search_result_col_custom_2(), disableSortBy: true}),\r\n        getColumn({accessor: 'custom3', Header: t.INTERACTION_SEARCH.search_result_col_custom_3(), disableSortBy: true}),\r\n        getColumn({accessor: 'custom4', Header: t.INTERACTION_SEARCH.search_result_col_custom_4(), disableSortBy: true}),\r\n        getColumn({accessor: 'custom5', Header: t.INTERACTION_SEARCH.search_result_col_custom_5(), disableSortBy: true}),\r\n        getColumn({accessor: 'cobrowsing', Header: t.INTERACTION_SEARCH.search_result_col_cobrowsing(), disableSortBy: true, Cell: format.boolToText}),\r\n    ], [])\r\n    const [shadowQueryString, setShadowQueryString] = useState<string>(queryString)\r\n    const {generalTab, getTabLocalStorageId, selectedTab, updateTab, updateTabFilter: {updateQueryString}, search} = useSearchTabContext()\r\n\r\n    const pageInfo = useMemo<GridPageInfo>(() => pick(searchParams, ['offset', 'limit']), [searchParams])\r\n    const sortInfo = useMemo<GridSortInfo | undefined>(() => !!searchParams.sortField && !!searchParams.sortDir\r\n        ? pick(searchParams, ['sortField', 'sortDir']) as GridSortInfo\r\n        : undefined\r\n    , [searchParams])\r\n    const localStorageId = useMemo<GridLocalStorageId>(() => ({\r\n        id: getTabLocalStorageId(id),\r\n        fallbackId: getTabLocalStorageId(generalTab.id),\r\n    }), [generalTab.id, id])\r\n\r\n    useEffect(() => {\r\n        setShadowQueryString(queryString)\r\n    }, [queryString, setShadowQueryString])\r\n\r\n    useEffect(() => {\r\n        if (!general && !error) {\r\n            if (queryString.length < 3) {\r\n                updateTab(id, {searchResponse: defaultResponse})\r\n            } else {\r\n                debounceSearch(() => search(id, queryString, searchParams))\r\n            }\r\n        }\r\n    }, [id, queryString, searchParams])\r\n\r\n    const handleQueryStringChange = useCallback((e: React.ChangeEvent<HTMLInputElement>, data: SmInputOnChangeData) => {\r\n        const {value} = data\r\n        setShadowQueryString(value)\r\n        debounceUserInput(() => updateQueryString(id, value))\r\n    }, [setShadowQueryString, updateQueryString])\r\n\r\n    const handleQueryStringReset = useCallback(() => {\r\n        const value = ''\r\n        setShadowQueryString(value)\r\n        debounceUserInput(() => updateQueryString(id, value))\r\n    }, [setShadowQueryString, updateQueryString])\r\n\r\n    const handleSortInfoChange = useCallback((sort?: GridSortInfo) => {\r\n        if (!sort) {\r\n            updateTab(id, {searchParams: pick(searchParams, ['offset', 'limit'])})\r\n        } else {\r\n            updateTab(id, {searchParams: {...searchParams, ...sort}})\r\n        }\r\n    }, [id, searchParams, updateTab])\r\n\r\n    const handlePageInfoChange = useCallback((page: GridPageInfo) => {\r\n        updateTab(id, {searchParams: {...searchParams, ...page}})\r\n    }, [id, searchParams, updateTab])\r\n\r\n    return id === selectedTab.id\r\n        ? (\r\n            <>\r\n                <div className={tcn(styles.panelWrapper, general && styles.general)}>\r\n                    {!general && (\r\n                        <>\r\n                            <SmInput\r\n                                className={styles.searchInput}\r\n                                placeholder=\"Search...\"\r\n                                value={shadowQueryString}\r\n                                onChange={handleQueryStringChange}\r\n                                icon={!!shadowQueryString && (\r\n                                    <button onClick={handleQueryStringReset}>\r\n                                        <Icon name=\"times\" />\r\n                                    </button>\r\n                                )}\r\n                                error={!!error}\r\n                            />\r\n                            <div className={styles.actionsPanel}>\r\n                                <span>\r\nResults:\r\n                                    {' '}\r\n                                    {searchResponse.total}\r\n                                </span>\r\n                                <Dropdown\r\n                                    className={tcn('isc', styles.actionsDropdown)}\r\n                                    text=\"Actions\"\r\n                                    selection\r\n                                >\r\n                                    <SmDropdown.Menu\r\n                                        onClick={(e: any) => e.stopPropagation()}\r\n                                    >\r\n                                        <SmDropdown.Header content=\"Actions...\" />\r\n                                    </SmDropdown.Menu>\r\n                                </Dropdown>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                    <div className={styles.gridWrapper}>\r\n                        <Grid\r\n                            columns={columns}\r\n                            rows={searchResponse.results}\r\n                            total={searchResponse.total}\r\n                            sortInfo={sortInfo}\r\n                            onSortInfoChange={handleSortInfoChange}\r\n                            pageInfo={pageInfo}\r\n                            onPageInfoChange={handlePageInfoChange}\r\n                            localStorageId={localStorageId}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <FilterPanel tab={tab} />\r\n            </>\r\n        ) : null\r\n})\r\n","import type {FC} from 'react'\r\nimport React from 'react'\r\n\r\nimport {useSearchTabContext} from '../../context/search-tab-context'\r\nimport {SearchResult} from './SearchResult'\r\n\r\n\r\nexport const SearchResultPanel: FC = () => {\r\n    const {tabs} = useSearchTabContext()\r\n    return (\r\n        <>\r\n            {tabs\r\n                .map(tab => (\r\n                    <SearchResult\r\n                        key={tab.id}\r\n                        tab={tab}\r\n                    />\r\n                ))}\r\n        </>\r\n    )\r\n}\r\n\r\n","import type {FC} from 'react'\r\nimport React from 'react'\r\n\r\nimport {SearchTabProvider} from '../provider/search-tab-provider'\r\nimport {SearchPanel} from './search-panel/SearchPanel'\r\nimport {SearchResultPanel} from './search-result/SearchResultPanel'\r\n\r\nimport 'react-semantic-ui-datepickers/dist/react-semantic-ui-datepickers.css'\r\nimport '../styles/override.module.less'\r\n\r\n\r\nexport const InteractionSearchPage: FC = () => (\r\n    <div data-testid=\"interaction-search-page\">\r\n        <SearchTabProvider>\r\n            <SearchPanel/>\r\n            <SearchResultPanel/>\r\n        </SearchTabProvider>\r\n    </div>\r\n)\r\n","import cn from 'classnames'\r\nimport {twMerge} from 'tailwind-merge'\r\n\r\n\r\nexport function tcn(...classnames: cn.ArgumentArray) {\r\n    return twMerge(cn(classnames))\r\n}\r\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","_path","isValidDate","date","Date","isNaN","_excluded","_extends","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCaretDown","_ref","ref","title","titleId","props","xmlns","width","height","viewBox","d","ForwardRef","forwardRef","SvgCaretLeft","SvgCaretUp","SvgChat","SvgDot","className","SvgEmail","SvgFilter","SvgScreenRecording","SvgTimes","SvgVoice","SvgVoiceRecording","SvgVoicemail","iconComponents","CaretDown","CaretLeft","CaretUp","Chat","Dot","Email","Filter","ScreenRecording","Times","Voice","VoiceRecording","VoiceMail","Icon","name","style","Component","tcn","styles","DotIcon","dot","dotColor","span","fill","canvas","tsToDate","cell","value","toLocaleString","arrayToString","join","boolToText","iconStyles","chat","stroke","email","voice","mediaTypeToIcon","toLowerCase","dataStateToIcons","dataState","getDataStateTypeIcon","transcript","screenRecording","voiceRecording","voicemail","dotIconStyles","withStroke","noStroke","dataStateType","dotProps","secondsToTime","secondsTime","seconds","Math","floor","minutes","hours","days","secondsStr","padNumber","minutesStr","num","size","s","substr","getErrorMessage","err","message","undefined","getTextWidth","text","font","extraSpace","maxWidth","document","createElement","context","getContext","textWidth","measureText","min","StringUnion","values","freeze","valueSet","Set","guard","has","check","actual","JSON","stringify","expected","TypeError","unionNamespace","useWindowDimensions","useState","window","innerHeight","innerWidth","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","BLOCK","VALID_FILTER_ITEMS","parseQueryString","queryString","filterItems","parse","validateFilterItems","error","console","areFilterItemsInvalid","isArray","block","blocksMap","Map","notBlockParenthesis","queryMap","findBlocks","entries","replace","checkWrongBlockDefinition","findItems","Array","from","sort","key1","key2","str","parseItem","filter","f","forEach","filterItem","itemType","includes","type","count","offset","quotes","left","right","begin","end","isFirst","arr","split","add","item","set","substring","matches","matchAll","matchesWord","match","index","at","wordMatch","pattern","RegExp","groups","skip","trim","isEmpty","operand","matchOperand","getOperandItem","matchDate","getDateItem","operation","matchOperation","getOperationItem","matchFilter","getFilterItem","matchBlock","getBlockItem","matchTextSearch","getTextSearchItem","lowerCaseStr","matchRegexp","textValue","getTextValue","dateType","getDateType","convertToDate","convertToDayjs","isDateTypeWithValue","dateUtils","operator","normalizeString","getIndexAfterSubstring","OperatorType","blockQueryString","get","trimSurroundingChars","pop","DateType","isToLowerCase","normalizedStr","subStr","max","parseSearchFilter","mediaTypes","textSearch","newQueryString","convertedFilter","convertFilterToQueryString","findMediaTypesInFilterItems","findTextSearchInFilterItems","convertSingle","convertMulti","convertOperator","convertBoolean","formatTime","strFilter","filterName","v","formatDate","prevWasMediaType","prevOperand","blocks","push","parseSearchQueryString","initialFilter","remoteDataState","parsedQueryString","convertFilterItemsToFilter","newFilter","existingFilters","timePeriod","dateFilterItem","operationFilterItem","duration","talkTime","queueTime","holdTime","service","phoneAddress","agentTeam","findByIdOrName","agents","teams","disposition","contactAccount","ExistType","scenario","numberOfHolds","flag","YesNoType","DirectionType","direction","segments","callProblem","list","idOrName","resultById","resultByName","MediaType","initialFilterState","initialTabFilterState","initialRemoteDataState","services","dispositions","scenarios","remoteDataReducer","state","loadServices","dispatch","sessionId","load","loadAgents","loadTeams","loadDispositions","data","axios","headers","loadScenarios","path","TAB_ID_PREFIX","GENERAL_TAB_ID","LS_TAB_ID_PREFIX","initialSearchParams","limit","defaultResponse","results","total","SearchTabContext","createContext","displayName","useSearchTabContext","searchTabContext","useContext","useSearchTabContextValue","useSessionState","createNewTab","general","tabs","setTabs","tabsChangeTracker","useRef","selectedTabId","setSelectedTabId","selectedTab","useMemo","getTab","generalTab","visible","selected","useReducer","dispatchRemoteDataState","current","updateTabInTabs","useCallback","tabId","tabUpdater","newTab","updatedTabIndex","findIndex","t","newTabs","tabDataChanged","omitProps","tab1","tab2","isEqual","omit","openNewTab","currentGeneralTab","tabFilter","filterPanelOpened","clearedGeneralTab","otherTabs","getTabLocalStorageId","selectTab","updateTab","tab","updateTabFilter","updateMediaTypes","updateQueryString","updateFilter","clearFilter","toggleFilterPanel","remoteData","search","searchParams","params","searchResponse","r","closeTab","closedTabIndex","tabsIds","localStorage","startsWith","removeItem","uniqueId","getTime","getNewTabFilter","mediaType","SearchTabProvider","children","searchTabContextValue","Provider","MediaTypeFilter","useLocalizationState","filters","INTERACTION_SEARCH","filter_panel_media_all","filter_panel_media_voice","filter_panel_media_chat","filter_panel_media_email","allSelected","noneSelected","handleSelectAll","handleSelect","checked","without","Dropdown","SmDropdown","onClick","stopPropagation","content","SmCheckbox","onChange","label","SearchTab","hidden","tabTitle","search_tab_title","search_tab_general","handleSelectTab","handleCloseTab","div","button","debounceUserInput","debounce","callback","leading","trailing","SearchPanel","shadowQueryString","setShadowQueryString","visibleTabsIndexes","setVisibleTabsIndexes","hiddenTabsIndexes","setHiddenTabsIndexes","tabsWrapperRef","tabsWrapperRect","useResizeObserver","searchButtonRef","disabled","detectVisibleAndHiddenTabs","tabsWrapper","tabsWrapperWidth","getBoundingClientRect","tabsWrapperChildren","newVisibleTabsIndexes","newHiddenTabsIndexes","tabIndex","tabsWidth","resetVisibilityTabsIndexes","useLayoutEffect","handleQueryStringChange","handleSearchStart","handleSearchInputEnterPress","focus","renderSearchTabs","renderMoreSearchTabs","scrolling","search_panel_more_button","multiple","SmGrid","SmInput","action","fluid","placeholder","search_panel_search_input_placeholder","input","onKeyDown","SmButton","icon","basic","primary","DropdownSubmenu","submenuRef","top","position","setPosition","pointerPosition","setPointerPosition","calculatePosition","parentRect","parentNode","rect","x","windowYOffset","y","startY","parentYOffset","open","dropdownRef","createRef","menuRef","handleClickOutside","contains","close","handleOnValueClear","onValueClear","handleOnDropdownClick","valueIsPlain","toggle","setState","onToggle","renderIcon","SmIcon","renderMenu","componentWillMount","componentWillUnmount","render","Item","setOpen","itemRef","handleClick","rotated","SearchableListPanel","selectedList","searchString","setSearchString","filteredList","nonSelectedList","find","noResultsFound","noOptionsAvailable","handleOnSearchChange","searchable_list_panel_no_results","searchable_list_panel_no_options","plainListToIdNameList","plainList","nameGetter","Adapter","rest","AgentTeamFilter","setTab","handleDropdownOnToggle","newOpen","handleTabChange","handleSelectionChange","handleDeselectionChange","handleClear","labels","SmLabel","as","selectedAgents","selectedTeams","filter_panel_any_placeholder","Tabs","selectedIndex","onSelect","TabList","Tab","filter_panel_agents","filter_panel_teams","TabPanel","filter_panel_search_agents_placeholder","filter_panel_search_teams_placeholder","DateFilterTimepicker","timeRange","setTimeRange","handleTimeRangeChange","time","newTimeRange","splice","renderBasic","Timepicker","renderRange","defaultValueType","generateTimeOptions","timeOptions","setTimeOptions","timeOption","setTimeOption","customOptionValid","setCustomOptionValid","getDefaultDate","getHours","getMinutes","getSeconds","timestamp","timeToTimestamp","timeOptionsNotContain","option","dateToText","setHours","some","handleSearchChange","searchQuery","parseTime","handleAddItem","timeString","options","handleChange","selection","onSearchChange","allowAdditions","additionLabel","filter_panel_date_custom_date","onAddItem","times","hour","am","minute","idx","slice","flat","timeParts","isPm","toUpperCase","DateFilterDatepicker","datePickerType","setTime","timeError","setTimeError","handleDatePick","dates","fromDate","toDate","fromTime","toTime","getFullYear","getMonth","getDate","dataDate","dateTime","SemanticDatepicker","inline","clearOnSameDateClick","selectedTime","DATE_FORMAT","DateFilter","filter_panel_date_today","filter_panel_date_yesterday","filter_panel_date_last_24h","filter_panel_date_last_week","filter_panel_date_last_month","filter_panel_date_select_date","useDatepicker","filter_panel_date_after_date","filter_panel_date__before_date","filter_panel_date_between_dates","labelProps","result","handleFilterChange","DurationFilter","operators","operatorOptions","unshift","durationOptions","setDurationOptions","durationOptionsNotContain","durationOption","addCustomDurationOption","custom","any","possibleOldCustom","durationString","handleOperatorChange","operatorString","handleDurationChange","filter_panel_duration_custom","ExistFilter","filter_panel_exists","filter_panel_not_exists","FilterItem","header","SmHeader","FilterPanelSidebar","opened","onClearFilter","renderToggleButton","isOpen","renderHeader","filter_panel_clear_all_button","FilterShowMore","shown","onShowMoreToggle","labelShow","labelHide","ListFilter","loadList","searchPlaceholder","OPERATORS","FilterPanel","moreFilters","setMoreFilters","handleOnToggle","handleOnClearFilter","handleOnMoreFiltersToggle","renderMoreFilters","filter_panel_disposition","filter_panel_search_dispositions_placeholder","filter_panel_contact_account","filter_panel_voice_recording","filter_panel_screen_recording","filter_panel_transcript","filter_panel_duration","filter_panel_talk_time","talkTIme","filter_panel_queue_time","filter_panel_scenario","filter_panel_search_scenarios_placeholder","renderFilters","filter_panel_time_period","filter_panel_phone_address","filter_panel_service","filter_panel_search_services_placeholder","filter_panel_team","filter_panel_agent","agentsTeams","filter_panel_show_more_filters","filter_panel_hide_extra_filters","GridCellContextMenu","cellValue","menuOpened","setMenuOpened","tooltipVisible","setTooltipVisible","handleContextMenu","isNil","preventDefault","Popup","show","onClickOutside","grid_copied","navigator","clipboard","writeText","then","setTimeout","grid_copy","CustomizableListPanel","renderListItem","listItemLabelGetter","GridColumnMenu","onMenuClose","columns","currentColumnIndex","onGetColumnOrder","onSetColumnOrder","onSetColumnSize","wrapperRef","orderedColumns","setOrderedColumns","handleOnEscape","column","toggleable","handleColumnToggle","oneColumnLeft","col","getToggleHiddenProps","toggleHidden","columnOrder","handleSetColumnSize","columnSizeType","log","contentClassName","grid_columns","grid_layout","grid_search_columns_placeholder","orderedColumn","Header","grid_autosize_this_column","grid_autosize_all_columns","grid_reset_columns","GridColumnMenuTriggerButton","onMenuOpen","handleMenuButtonClick","actions","useAutosizeColumns","hooks","stateReducers","reducer","useInstance","pluginName","newWidths","reduce","obj","columnId","columnText","columnFont","columnResizing","columnWidths","instance","plugins","ensurePluginOrder","autosizeColumns","autosizeColumn","defaultColumnSize","minWidth","debounceScrollStateUpdate","getColumnId","accessor","Grid","React","rows","sortInfo","onSortInfoChange","pageInfo","onPageInfoChange","localStorageId","currentColumnId","columnMenuData","setColumnMenuData","listHeight","setListHeight","renderedRows","setRenderedRows","currentColOrder","gridHeaderWrapperRef","gridBodyRef","listRef","newListHeight","gridSavedState","gridSavedStateJson","getItem","fallbackId","loadGridSavedState","columnsData","cloneDeep","savedColumn","defaultColumn","savedHiddenColumns","savedColumnOrder","savedSortBy","sortBy","sortField","desc","useTable","manualSortBy","disableMultiSort","manualPagination","initialState","hiddenColumns","pageSize","pageIndex","ceil","pageCount","useBlockLayout","useResizeColumns","useColumnOrder","useSortBy","usePagination","useRowSelect","getTableProps","getTableBodyProps","headerGroups","page","totalColumnsWidth","prepareRow","visibleColumns","allColumns","setColumnOrder","canPreviousPage","canNextPage","pageOptions","gotoPage","nextPage","previousPage","saveState","isResizingColumn","columnsState","isVisible","sortState","setItem","newSortInfo","sortDir","handleColumnDragStart","handleColumnDragUpdate","dragUpdateObj","colOrder","sourceIndex","destinationIndex","destination","draggableId","handleColumnMenuOpen","newColumnMenuData","handleColumnMenuClose","handleGetColumnOrder","getAutosizeColumnData","longestCellValue","cellValues","start","Cell","v1","v2","newColumns","updatedColumn","handleListScroll","scrollTo","scrollLeft","scrollTop","handleListItemsRendered","visibleStartIndex","visibleStopIndex","renderColumn","Draggable","isDragDisabled","provided","snapshot","getHeaderProps","getSortByToggleProps","isDragging","draggableProps","dragHandleProps","innerRef","isDropAnimating","hiddenHeader","isSorted","isSortedDesc","menuData","getResizerProps","renderHeaderGroup","headerGroup","DragDropContext","onDragStart","onDragUpdate","onDragEnd","noop","Droppable","droppableId","droppableProvided","getHeaderGroupProps","renderRow","memo","row","getRowProps","isSelected","ctrlKey","toggleRowSelected","cells","handleContextMenuClick","getCellProps","onContextMenu","areEqual","renderPagination","strong","onScroll","FixedSizeList","itemCount","itemSize","onItemsRendered","debounceSearch","getColumn","disableSortBy","other","SearchResult","search_result_col_media_type","format","search_result_col_data_state","search_result_col_start_time","search_result_col_global_interaction_id","search_result_col_origination","search_result_col_destination","search_result_col_duration","search_result_col_talk_time","search_result_col_service_names","search_result_col_agent_names","search_result_col_number_of_segments","search_result_col_queue_time","search_result_col_ivr_time","search_result_col_hold_time","search_result_col_number_of_holds","search_result_col_disposition_names","search_result_col_flagged","search_result_col_contact_name","search_result_col_account_number","search_result_col_sentiment","search_result_col_sentiment_value","search_result_col_call_problem","search_result_col_email_subject","search_result_col_custom_1","search_result_col_custom_2","search_result_col_custom_3","search_result_col_custom_4","search_result_col_custom_5","search_result_col_cobrowsing","pick","handleQueryStringReset","handleSortInfoChange","handlePageInfoChange","SearchResultPanel","InteractionSearchPage","data-testid","classnames","twMerge","cn"],"sourceRoot":""}