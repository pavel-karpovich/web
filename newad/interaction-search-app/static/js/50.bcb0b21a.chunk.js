/*! For license information please see 50.bcb0b21a.chunk.js.LICENSE.txt */
(self.webpackChunk_bpinc_web_interaction_search_ui=self.webpackChunk_bpinc_web_interaction_search_ui||[]).push([[50],{6843:(e,t,r)=>{var n={"./bg-BG.json":5155,"./ca-ES.json":5136,"./cs-CZ.json":2300,"./de-DE.json":2941,"./el-GR.json":3192,"./en-US.json":3334,"./es-ES.json":3999,"./et-EE.json":4449,"./fi-FI.json":9497,"./fr-FR.json":8819,"./he-IL.json":7892,"./it-IT.json":2350,"./ja-JP.json":6211,"./ko-KR.json":1428,"./nb-NO.json":8482,"./nl-NL.json":4416,"./nn-NO.json":2889,"./pl-PL.json":3801,"./pt-BR.json":2805,"./ro-RO.json":5872,"./ru-RU.json":2381,"./sk-SK.json":941,"./sv-SE.json":7653,"./tr-TR.json":1512,"./zh-CN.json":6111};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=6843},8123:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InteractionSearchPage:()=>qi});var n=r(2322),a=r(6029),o=r.n(a),i=r(4700),l=r.n(i),c=r(2122),u=r(9008),s=r(9717);var f,d=function(e){return t=e,(null!=(r=Date)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](t):t instanceof r)&&!isNaN(+e);var t,r},p=r(4483),h=["title","titleId"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b=function(e,t){var r=e.title,n=e.titleId,o=m(e,h);return a.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:9.277,height:4.695,viewBox:"0 0 8.277 4.695",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,f||(f=a.createElement("path",{d:"M.557 0H7.72a.556.556 0 0 1 .393.949l-3.58 3.583a.558.558 0 0 1-.788 0L.165.949A.556.556 0 0 1 .557 0Z"})))},v=(0,a.forwardRef)(b);r.p;var g,_=["title","titleId"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var j=function(e,t){var r=e.title,n=e.titleId,o=S(e,_);return a.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:4.695,height:9.277,viewBox:"0 0 4.695 8.277",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,g||(g=a.createElement("path",{d:"M5.295.557V7.72a.556.556 0 0 1-.949.393L.763 4.533a.558.558 0 0 1 0-.788L4.346.165a.556.556 0 0 1 .949.392Z"})))},w=(0,a.forwardRef)(j);r.p;var C,x=["title","titleId"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}function A(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var T=function(e,t){var r=e.title,n=e.titleId,o=A(e,x);return a.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:9.277,height:4.695,viewBox:"0 0 8.277 4.695",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,C||(C=a.createElement("path",{d:"M7.648 5.205H.485a.556.556 0 0 1-.393-.949L3.672.673a.558.558 0 0 1 .788 0l3.58 3.583a.556.556 0 0 1-.392.949Z"})))},E=(0,a.forwardRef)(T);r.p;var P,R=["title","titleId"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var H=function(e,t){var r=e.title,n=e.titleId,o=k(e,R);return a.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,P||(P=a.createElement("path",{d:"M20.182 3H3.818A1.921 1.921 0 0 0 2 5v12a1.921 1.921 0 0 0 1.818 2h2.273c.273 1.65 0 3.1-1.364 4 1.864 0 4-1 5-4h10.455A1.921 1.921 0 0 0 22 17V5a1.921 1.921 0 0 0-1.818-2Z"})))},D=(0,a.forwardRef)(H);r.p;var M,L=["title","titleId"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var z=function(e,t){var r=e.title,n=e.titleId,o=F(e,L);return a.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",width:10,height:10,viewBox:"0 0 10 10",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,M||(M=a.createElement("path",{className:"a",d:"M5 0a5 5 0 1 1-5 5 5 5 0 0 1 5-5Z"})))},G=(0,a.forwardRef)(z);r.p;var q,W=["title","titleId"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function V(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Z=function(e,t){var r=e.title,n=e.titleId,o=V(e,W);return a.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,q||(q=a.createElement("path",{d:"M13.339 19H2V5h20v14Zm7.861-.778V7.76l-8.95 6.876a.388.388 0 0 1-.19.082.4.4 0 0 1-.059 0h-.026a.4.4 0 0 1-.226-.086l-8.95-6.876v10.462h18.4ZM12 13.836l9.2-7.073v-.984H2.8v.984Z"})))},$=(0,a.forwardRef)(Z);r.p;var J,K=["title","titleId"];function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var X=function(e,t){var r=e.title,n=e.titleId,o=Y(e,K);return a.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,J||(J=a.createElement("path",{d:"M0 0v1.778h.889l4.444 7.111V16h5.333V8.889l4.444-7.111H16V0H0Zm2.986 1.778h10.03l-4.127 6.6v5.844H7.111V8.378Z"})))},ee=(0,a.forwardRef)(X);r.p;var te,re=["title","titleId"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function ae(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var oe=function(e,t){var r=e.title,n=e.titleId,o=ae(e,re);return a.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,te||(te=a.createElement("path",{d:"M4 19h-.146a1.983 1.983 0 0 1-.847-.26l-.025-.015-.017-.011-.009-.006a2 2 0 0 1-.954-1.7h1.856a1.992 1.992 0 0 1-.523-1.332V7.009a2 2 0 0 1 2-2h13.333a2 2 0 0 1 2 2v8.667a2 2 0 0 1-.521 1.332H22a2 2 0 0 1-2 2Zm1.334-2.667h13.333a.659.659 0 0 0 .666-.666V7a.65.65 0 0 0-.666-.666H5.334A.65.65 0 0 0 4.668 7v8.702a.659.659 0 0 0 .665.631Z"})))},ie=(0,a.forwardRef)(oe);r.p;var le,ce=["title","titleId"];function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(this,arguments)}function se(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var fe=function(e,t){var r=e.title,n=e.titleId,o=se(e,ce);return a.createElement("svg",ue({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,le||(le=a.createElement("path",{d:"m17.259 18.485-4.948-5.143-4.948 5.143-.986-1.026 4.945-5.146-4.947-5.142.992-1.026 4.944 5.14 4.944-5.14.99 1.03-4.948 5.142 4.947 5.143Z"})))},de=(0,a.forwardRef)(fe);r.p;var pe,he=["title","titleId"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function me(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var be=function(e,t){var r=e.title,n=e.titleId,o=me(e,he);return a.createElement("svg",ye({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,pe||(pe=a.createElement("path",{d:"M14.174 16.772s1.687-.966 2.129-1.2a1.265 1.265 0 0 1 1.174-.123c.42.257 3.943 2.6 4.24 2.808a1 1 0 0 1 .032 1.383c-.406.582-2.281 2.882-3.075 2.857s-4.1-.1-10.339-6.336S2.026 6.62 2 5.824s2.275-2.67 2.856-3.076a1.017 1.017 0 0 1 1.384.032c.235.325 2.552 3.838 2.807 4.24a1.252 1.252 0 0 1-.123 1.175c-.232.442-1.2 2.129-1.2 2.129a20.691 20.691 0 0 0 2.986 3.463 20.789 20.789 0 0 0 3.464 2.985Z"})))},ve=(0,a.forwardRef)(be);r.p;var ge,_e=["title","titleId"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oe.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var je=function(e,t){var r=e.title,n=e.titleId,o=Se(e,_e);return a.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,ge||(ge=a.createElement("path",{d:"m12.585 21.8-5.594-6.161V8.367l5.594-6.162a.612.612 0 0 1 .454-.2.627.627 0 0 1 .619.634v18.733a.626.626 0 0 1-.619.633.612.612 0 0 1-.454-.205Zm-9.149-6.161a.9.9 0 0 1-.89-.909V9.275a.9.9 0 0 1 .89-.908h3.555v7.272Zm14.92 2.236a6.849 6.849 0 0 0 3.3-5.876 6.841 6.841 0 0 0-3.3-5.876l.5-.754a7.762 7.762 0 0 1 3.692 6.63 7.759 7.759 0 0 1-3.692 6.627Zm-1.5-2.261a4.1 4.1 0 0 0 2.135-3.618 4.1 4.1 0 0 0-2.135-3.615l.5-.756a5.025 5.025 0 0 1 2.524 4.371 5.028 5.028 0 0 1-2.524 4.375Zm-1.529-2.3a1.355 1.355 0 0 0 1-1.315 1.354 1.354 0 0 0-1-1.312l.521-.784a2.283 2.283 0 0 1 1.368 2.1 2.284 2.284 0 0 1-1.368 2.1Z"})))},we=(0,a.forwardRef)(je);r.p;var Ce,xe=["title","titleId"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Te=function(e,t){var r=e.title,n=e.titleId,o=Ae(e,xe);return a.createElement("svg",Ie({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,Ce||(Ce=a.createElement("path",{d:"M17.833 8A4.167 4.167 0 1 0 22 12.167 4.167 4.167 0 0 0 17.833 8ZM6.167 8a4.167 4.167 0 1 0 4.167 4.167A4.167 4.167 0 0 0 6.167 8Zm0 8.333h11.666"})))},Ee=(0,a.forwardRef)(Te);r.p;const Pe="interactionSearch_Icon_icon_IU3EZ",Re="interactionSearch_Icon_dotIcon_FDAmv";var Ne={"caret-down":v,"caret-left":w,"caret-up":E,chat:D,dot:G,email:$,filter:ee,"screen-recording":ie,times:de,voice:ve,"voice-recording":we,voicemail:Ee},ke=function(e){var t=e.name,r=e.className,a=e.style,o=Ne[t];return(0,n.jsx)(o,{className:(0,p.B)(Pe,r),style:a})};function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){He(e,t,r[t])}))}return e}function Me(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Le=function(e){var t=e.dot,r=void 0===t||t,a=e.dotColor,o=void 0===a?"#FF9900":a,i=Me(e,["dot","dotColor"]);return(0,n.jsxs)("span",{className:Re,children:[(0,n.jsx)(ke,De({},i)),r&&(0,n.jsx)(ke,{name:"dot",style:{fill:o}})]})};function Be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Be(e,t,r[t])}))}return e}var ze,Ge=function(e){var t=e.cell.value;return t?new Date(t).toLocaleString():null},qe=function(e){var t=e.cell.value;return t?t.join(", "):null},We=function(e){return e.cell.value?"Yes":"No"},Ue={chat:{fill:"none",stroke:"#767676"},email:{fill:"#767676"},voice:{fill:"none",stroke:"#767676"}},Ve=function(e){switch(e.cell.value.toLowerCase()){case"chat":return(0,n.jsx)(ke,{name:"chat",style:Ue.chat});case"email":return(0,n.jsx)(ke,{name:"email",style:Ue.email});default:return(0,n.jsx)(ke,{name:"voice",style:Ue.voice})}},Ze=function(e){var t=e.cell.value;return(0,n.jsxs)(n.Fragment,{children:[Je(t.transcript,"chat"),Je(t.screenRecording,"screen-recording",!1),Je(t.voiceRecording,"voice"),Je(t.voicemail,"voicemail")]})},$e={withStroke:{fill:"none",stroke:"#2185d0"},noStroke:{fill:"#2185d0"}},Je=function(e,t){var r,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e)return null;if("STORED_LOCALLY"!=e){var o="STORED_ON_S3"===e?"#ff9900":"#ff3600";r={dot:!0,dotColor:o}}else r={dot:!1};return(0,n.jsx)(Le,Fe({name:t,style:a?$e.withStroke:$e.noStroke},r))},Ke=function(e){var t=e.cell.value,r=Math.floor(t%60),n=Math.floor(t/60)%60,a=Math.floor(t/3600)%24,o=Math.floor(t/86400),i=Qe(r,2),l=a>0||o>0?Qe(n,2):n;return o>0?o+"d "+a+":"+l+":"+i:a>0?a+":"+l+":"+i:l+":"+i},Qe=function(e,t){var r="000000000"+e;return r.substr(r.length-t)};function Ye(e){return t=e,(null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](t):t instanceof r)?e.message:"string"==typeof e?e:void 0;var t,r}var Xe=function(e,t,r,n){ze||(ze=document.createElement("canvas"));var a=ze.getContext("2d"),o=0;a&&(a.font=t,o=a.measureText(e).width);return Math.min(n,o+r)},et=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Object.freeze(t);var n=new Set(t),a=function(e){return n.has(e)},o=function(e){if(!a(e)){var r=JSON.stringify(e),n=t.map((function(e){return JSON.stringify(e)})).join(" | ");throw new TypeError("Value '".concat(r,"' is not assignable to type '").concat(n,"'."))}return e},i={guard:a,check:o,values:t};return Object.freeze(i)};function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nt=function(){var e=rt((0,a.useState)((function(){return{height:window.innerHeight,width:window.innerWidth}})),2),t=e[0],r=e[1];return(0,a.useEffect)((function(){var e=function(){return r({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t};function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var it="#block#",lt=["media_type","started","from","to","service","agent","agent_team","disposition","account_num","voice_recording","screen_recording","transcript","duration","talk_time","queue_time","scenario","text_search","contact"],ct=function(e){try{var t=st(e,"");return ft(t),t}catch(n){var r="Cannot parse query string. ".concat(Ye(n),")");return console.error(r),{error:r}}},ut=function(e){return!(0,c.isArray)(e)&&"error"in e},st=function(e,t){var r=new Map,n=new Set,a=new Map;dt(0,r,n,e,0,t,!1);var o=!0,i=!1,l=void 0;try{for(var c,u=r.entries()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=ot(c.value,2),f=s[0],d=s[1];e=e.replace(d,f)}}catch(p){i=!0,l=p}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}return pt(e,n),ht(a,e,0),a=new Map(Array.from(a.entries()).sort((function(e,t){return ot(e,1)[0]>ot(t,1)[0]?1:-1}))),Array.from(a.values()).map((function(e){return yt(e,r)})).filter((function(e){return null!==e}))},ft=function(e){e.forEach((function(e){if("block"!==e.itemType&&"operand"!==e.itemType&&!lt.includes(e.type.toLowerCase()))throw new Error("Search service didn't recognize criteria types")}))},dt=function(e,t,r,n,a,o,i){for(var l=0,c=0,u=0,s=0,f=!0,d=n.split(""),p=a;p<d.length;p++){if(i)"("!=d[p]&&")"!=d[p]||r.add(p);else if("("==d[p]&&(f&&(u=p,f=!1),++l),")"==d[p]&&l==++c){s=p+1;break}'"'==d[p]&&(i=!i)}if(s>u){var h=o+it+e;t.set(h,n.substring(u,s)),dt(++e,t,r,n,Math.min(n.length,s),o,i)}},pt=function(e,t){var r=Array.from(e.matchAll(/\(/g)),n=Array.from(e.matchAll(/\w+/g));if(r.length){var a=!0,o=!1,i=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(!t.has(u.index)){var s=u[0];if(n.length){var f=!0,d=!1,p=void 0;try{for(var h,y=n[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var m=h.value;u.index===m.index-1&&(s+=m[0])}}catch(E){d=!0,p=E}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}throw Error("Invalid character '(' at ".concat(s))}}}catch(E){o=!0,i=E}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}}if((r=Array.from(e.matchAll(/\)/g))).length){var b=!0,v=!1,g=void 0;try{for(var _,O=r[Symbol.iterator]();!(b=(_=O.next()).done);b=!0){var S=_.value;if(!t.has(S.index)){var j=S[0];if(n.length){var w=!0,C=!1,x=void 0;try{for(var I,A=n[Symbol.iterator]();!(w=(I=A.next()).done);w=!0){var T=I.value;S.index===T.index+T[0].length&&(j=T[0]+j)}}catch(E){C=!0,x=E}finally{try{w||null==A.return||A.return()}finally{if(C)throw x}}}throw Error("Invalid character ')' at ".concat(j))}}}catch(E){v=!0,g=E}finally{try{b||null==O.return||O.return()}finally{if(v)throw g}}}},ht=function(e,t,r){if(!(r>=t.length)){var n=new RegExp('(?<skip>(?<=["])(?:[^"\\\\]|\\\\.)+)|(?<=(\\s))AND(?=(\\s))|(?<=(\\s))OR(?=(\\s))',"i"),a=t.substring(r).match(n);if(null!==a){var o;if(null===(o=a.groups)||void 0===o?void 0:o.skip){var i=a.groups.skip,l=a.index?a.index+r:t.indexOf(i),u=t.substring(r,l+i.length+1).trim();(0,c.isEmpty)(u)||e.set(r,u),ht(e,t,l+i.length+1)}else{var s=a[0],f=a.index?a.index+r:t.indexOf(s);e.set(f,s);var d=t.substring(r,f).trim();(0,c.isEmpty)(d)||e.set(r,d),ht(e,t,f+s.length)}}else{var p=t.substring(r).trim();(0,c.isEmpty)(p)||e.set(r,p)}}},yt=function(e,t){var r=mt(e);if(null!==r)return St(r);var n=bt(e);if(null!==n)return jt(e,n);var a=vt(e);if(null!==a)return wt(e,a);var o=gt(e);if(null!==o)return Ct(e,o);var i=_t(e);return null!==i?xt(t,i):null!==Ot(e)?It(e):null},mt=function(e){var t=e.toLowerCase();return"and"===t||"or"===t?e:null},bt=function(e){var t=At(/^\w+/i,e);return"started"===t?t:null},vt=function(e){var t=e.match(/\s(<=|>=|<>|=|<|>|between)\s/i);return t&&t[1]},gt=function(e){var t=e.match(/(:|\sNOT)\s/i);return t&&t[0].trim()},_t=function(e){return e.includes(it)?e:null},Ot=function(e){return At(/\w*/i,e)},St=function(e){return{itemType:"operand",value:e}},jt=function(e,t){var r=e.includes(":")?Tt(e,e.indexOf(":")+1):Tt(e,e.indexOf(" ")),n=Et(e,r),a=(0,s.convertToDate)((0,s.convertToDayjs)(r,"MM/DD/YY hh:mm a"));if(Pt(n)){if(!d(a))throw new Error("Invalid date for date type: ".concat(n));return{itemType:"date",type:t,dateType:n,value:a}}return{itemType:"date",type:t,dateType:n}},wt=function(e,t){var r=Rt(e.substring(0,e.indexOf(t))),n=Tt(e,Nt(e,t));return{itemType:"operation",type:r,operator:ar.check(t),value:n}},Ct=function(e,t){var r=Rt(e.substring(0,e.indexOf(t))),n=Nt(e,t);return{itemType:"filter",type:r,value:Tt(e,n)}},xt=function(e,t){var r=e.get(t);return{itemType:"block",value:st(kt(r),t)}},It=function(e){if(null!==At(/(.*[^*]){3}/i,e))return{itemType:"textSearch",type:"text_search",value:e};throw new Error(" Full text search argument ".concat(e," must have at least three characters and not contains * symbol"))},At=function(e,t){var r=t.match(e);return null!==r?r[0]:null},Tt=function(e,t){var r=e.match(/(?:")(?:[^"\\]|\\.)+/g),n=r&&r.pop()||null;return null===n?Rt(e.substring(t),!1):n},Et=function(e,t){var r=e.toLowerCase();switch(!0){case r.includes("after"):return"after";case r.includes("before"):return"before";default:var n=t.toLowerCase().replace(" ","_");return rr.check(n)}},Pt=function(e){return"after"===e||"before"===e},Rt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.trim().replace('"',"").replace("'","");return t&&(r=r.toLowerCase()),r},Nt=function(e,t){var r=e.indexOf(t)+t.length;return Math.max(0,r)},kt=function(e){return e.substring(1,e.length-1)};function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mt=function(e,t){var r,n,a,o=Lt(e),i=ct(t);return ut(i)||(r=Wt(i),n=Ut(i)),a=n?o?n+" and "+o:n:o,r?"(".concat(r,") and (").concat(a,")"):a},Lt=function(e){return Object.entries(e).map((function(e){var t=Dt(e,2),r=t[0],n=t[1];switch(r){case"numberOfHolds":return Bt(n,"number_of_holds");case"segments":return Bt(n,r);case"contactAccount":return n?['contact: "'.concat(n,'"'),'account_number: "'.concat(n,'"')]:null;case"service":case"disposition":case"direction":return Ft(n,r);case"scenario":return Ft(n,"scenario");case"duration":return zt(n,r);case"talkTime":return zt(n,"talk_time");case"queueTime":return zt(n,"queue_time");case"holdTime":return zt(n,"hold_time");case"voiceRecording":return Gt(n,"voice_recording","exists");case"screenRecording":return Gt(n,"screen_recording","exists");case"transcript":return Gt(n,"transcript","exists");case"flag":return Gt(n,r);case"callProblem":return Gt(n,"call_problem");case"timePeriod":if(n)switch(n.type){case"today":case"yesterday":case"last_24h":case"last_week":case"last_month":return"started: ".concat(n.type.replace("_"," "));case"select":case"after":return'started after "'.concat(qt(n.value),'"');case"before":return'started before "'.concat(qt(n.value),'"');case"between":return'started after "'.concat(qt(n.value[0]),'" and started before "').concat(qt(n.value[1]),'"')}return null;case"phoneAddress":return n?['from: "'.concat(n,'"'),'to: "'.concat(n,'"')]:null;case"agentTeam":if(n&&n.value.length)switch(n.type){case"agent":return n.value.map((function(e){return"agent: ".concat(e.id)}));case"team":return n.value.map((function(e){return'team: "'.concat(e.name,'"')}))}return null}return null})).filter((function(e){return!!e})).map((function(e){return t=e,(null!=(r=Array)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](t):t instanceof r)?1===e.length?e[0]:"(".concat(e.join(" or "),")"):e;var t,r})).join(" and ")},Bt=function(e,t){return e?"".concat(t,": ").concat(e):null},Ft=function(e,t){return e.length?e.map((function(e){return"".concat(t,': "').concat(e,'"')})):null},zt=function(e,t){return e&&e.operator&&e.value?"".concat(t," ").concat(e.operator," ").concat(e.value):null},Gt=function(e,t){return e?"".concat(t,": ").concat(e):null},qt=function(e){return(0,s.formatDate)(e,"L LT")},Wt=function(e){var t,r=!1,n="or",a=[],o=!0,i=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var s=c.value;if("filter"===s.itemType&&"media_type"===s.type)t&&r?t+=" ".concat(n," ").concat(s.type,": ").concat(s.value):t="".concat(s.type,": ").concat(s.value),r=!0;else if("operand"===s.itemType)n=s.value;else if(r)break;t||"block"!==s.itemType||a.push(s)}}catch(b){i=!0,l=b}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}if(!t&&a.length>0){var f=!0,d=!1,p=void 0;try{for(var h,y=a[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var m=h.value.value;if(t=Wt(m))break}}catch(b){d=!0,p=b}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}return t},Ut=function(e){var t,r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;if(!t&&"textSearch"===c.itemType){t=c.value;break}"block"===c.itemType&&r.push(c)}}catch(y){a=!0,o=y}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}if(!t&&r.length>0){var u=!0,s=!1,f=void 0;try{for(var d,p=r[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value.value;if(t=Ut(h))break}}catch(y){s=!0,f=y}finally{try{u||null==p.return||p.return()}finally{if(s)throw f}}}return t};function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jt=function(e,t,r,n){var a=ct(r);if(ut(a))throw new Error(a.error);var o=a;return 0===r.length||0!==o.length?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Zt(e,t,r[t])}))}return e}({},e,Kt(o,{},n)):t},Kt=function(e,t,r){var n=Object.keys(t),a=[];return e.forEach((function(e){if("date"===e.itemType){if(!n.includes("timePeriod")&&!t.timePeriod){var o=e;rr.guard(o.dateType)&&(t.timePeriod={type:o.dateType,value:o.value})}}else if("operation"===e.itemType){var i=e;n.includes("duration")||t.duration||"duration"!==i.type||(t.duration={value:i.value,operator:i.operator}),n.includes("talkTime")||t.talkTime||"talk_time"!==i.type||(t.talkTime={value:i.value,operator:i.operator}),n.includes("queueTime")||t.queueTime||"queue_time"!==i.type||(t.queueTime={value:i.value,operator:i.operator}),n.includes("holdTime")||t.holdTime||"hold_time"!==i.type||(t.holdTime={value:i.value,operator:i.operator})}else if("filter"===e.itemType){if(n.includes("service")||"service"!==e.type||(t.service=$t(t.service||[]).concat([e.value])),n.includes("phoneAddress")||t.phoneAddress||"from"!==e.type&&"to"!==e.type||(t.phoneAddress=e.value),!n.includes("agentTeam")){var l,c;if("agent"===e.type&&(!t.agentTeam||"agent"===t.agentTeam.type))t.agentTeam={type:"agent",value:$t((null===(l=t.agentTeam)||void 0===l?void 0:l.value)||[]).concat([Qt(r.agents,e.value)])};if("team"===e.type&&(!t.agentTeam||"team"===t.agentTeam.type))t.agentTeam={type:"team",value:$t((null===(c=t.agentTeam)||void 0===c?void 0:c.value)||[]).concat([Qt(r.teams,e.value)])}}n.includes("disposition")||"disposition"!==e.type||(t.disposition=$t(t.disposition||[]).concat([e.value])),n.includes("contactAccount")||t.contactAccount||"contact"!==e.type&&"account_number"!==e.type||(t.contactAccount=e.value),n.includes("voiceRecording")||t.voiceRecording||"voice_recording"!==e.type||!nr.guard(e.value)||(t.voiceRecording=e.value),n.includes("screenRecording")||t.screenRecording||"screen_recording"!==e.type||!nr.guard(e.value)||(t.screenRecording=e.value),n.includes("transcript")||t.transcript||"transcript"!==e.type||!nr.guard(e.value)||(t.transcript=e.value),n.includes("scenario")||"scenario"!==e.type||(t.scenario=$t(t.scenario||[]).concat([e.value])),n.includes("numberOfHolds")||t.numberOfHolds||"number_of_holds"!==e.type||(t.numberOfHolds=e.value),n.includes("flag")||t.flag||"filter"!==e.itemType||"flag"!==e.type||!or.guard(e.value)||(t.flag=e.value),n.includes("direction")||"direction"!==e.type||!ir.guard(e.value)||t.direction&&t.direction.includes(e.value)||(t.direction=$t(t.direction||[]).concat([e.value])),n.includes("segments")||t.segments||"segments"!==e.type||(t.segments=e.value),n.includes("callProblem")||t.callProblem||"call_problem"!==e.type||!or.guard(e.value)||(t.callProblem=e.value)}else"block"===e.itemType&&a.push(e)})),a.forEach((function(e){var n=e.value;return Kt(n,t,r)})),t},Qt=function(e,t){var r=e.filter((function(e){return e.id===t}))[0];if(r)return r;var n=e.filter((function(e){return e.name===t}))[0];return n||{id:t,name:t}};function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Yt(e,t,r[t])}))}return e}function er(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}var tr=et("voice","chat","email"),rr=et("today","yesterday","last_24h","last_week","last_month","select","after","before","between"),nr=et("exists","not_exists"),ar=et("=","<","<=",">",">="),or=et("yes","no"),ir=et("inbound","outbound"),lr={timePeriod:null,phoneAddress:"",service:[],agentTeam:null,disposition:[],contactAccount:"",voiceRecording:null,screenRecording:null,transcript:null,duration:{operator:null,value:null},talkTime:{operator:null,value:null},queueTime:{operator:null,value:null},scenario:[],holdTime:{operator:null,value:null},numberOfHolds:"",flag:null,direction:[],segments:"",callProblem:null},cr={mediaTypes:["voice","chat","email"],queryString:"",filter:lr,error:null};function ur(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function sr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ur(o,n,a,i,l,"next",e)}function l(e){ur(o,n,a,i,l,"throw",e)}i(void 0)}))}}function fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function pr(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var hr,yr={services:[],agents:[],teams:[],dispositions:[],scenarios:[]},mr=function(e,t){var r=t.key,n=t.value;return dr(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){fr(e,t,r[t])}))}return e}({},e),fr({},r,n))},br=(hr=sr((function(e,t){return pr(this,(function(r){return[2,Sr("services",e,t)]}))})),function(e,t){return hr.apply(this,arguments)}),vr=function(){var e=sr((function(e,t){return pr(this,(function(r){return[2,Sr("agents",e,t)]}))}));return function(t,r){return e.apply(this,arguments)}}(),gr=function(){var e=sr((function(e,t){return pr(this,(function(r){return[2,Sr("teams",e,t)]}))}));return function(t,r){return e.apply(this,arguments)}}(),_r=function(){var e=sr((function(e,t,r){var n,a;return pr(this,(function(o){switch(o.label){case 0:return e({key:n="dispositions",value:[]}),[4,l().post("/admin/rest/evaluation/get-dispositions?token=".concat(r),JSON.stringify(t),{headers:{"Content-Type":"application/json"}})];case 1:return a=o.sent().data,e({key:n,value:a}),[2]}}))}));return function(t,r,n){return e.apply(this,arguments)}}(),Or=function(){var e=sr((function(e,t){return pr(this,(function(r){return[2,Sr("scenarios",e,t)]}))}));return function(t,r){return e.apply(this,arguments)}}(),Sr=function(){var e=sr((function(e,t,r){var n,a,o=arguments;return pr(this,(function(i){switch(i.label){case 0:return n=o.length>3&&void 0!==o[3]?o[3]:e,t({key:e,value:[]}),[4,l().get("/admin/rest/evaluation/get-".concat(n,"?token=").concat(r))];case 1:return a=i.sent().data,t({key:e,value:a}),[2]}}))}));return function(t,r,n){return e.apply(this,arguments)}}();function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wr(e){if(Array.isArray(e))return e}function Cr(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ir(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ar(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){xr(e,t,r[t])}))}return e}function Er(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Pr(e,t){return wr(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||Nr(e,t)||Ar()}function Rr(e){return function(e){if(Array.isArray(e))return jr(e)}(e)||Ir(e)||Nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){if(e){if("string"==typeof e)return jr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(e,t):void 0}}function kr(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Hr="tab_",Dr="".concat(Hr,"general"),Mr="omni_qm_search_",Lr={offset:0,limit:200},Br={error:null,results:[],total:0},Fr=(0,a.createContext)(void 0);Fr.displayName="SearchTabContext";var zr=function(){var e=(0,a.useContext)(Fr);if(!e)throw new Error("useSearchTabContext must be used within the SearchTabContext.Provider");return e},Gr=function(){var e=(0,u.useSessionState)().sessionId,t=Pr((0,a.useState)([qr(null,{general:!0})]),2),r=t[0],n=t[1],o=(0,a.useRef)(r),i=Pr((0,a.useState)(r[0].id),2),f=i[0],d=i[1],p=(0,a.useMemo)((function(){return Ur(r,f)}),[r,f]),h=(0,a.useMemo)((function(){return Er(Tr({},r[0]),{visible:r.length>1,selected:f===Dr})}),[r,f]),y=Pr((0,a.useReducer)(mr,yr),2),m=y[0],b=y[1];(0,a.useEffect)((function(){o.current=r}),[r]);var v=(0,a.useCallback)((function(e,t){var a=t(Tr({},Ur(r,e))),o=(0,c.findIndex)(r,(function(t){return t.id===e})),i=Rr(r);i[o]=a,n(i)}),[r,n]),g=(0,a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["searchResponse"],n=Ur(r,e),a=Ur(o.current,e);return!(0,c.isEqual)((0,c.omit)(n,t),(0,c.omit)(a,t))}),[r,o]),_=(0,a.useCallback)((function(){var e,t=wr(e=r)||Ir(e)||Nr(e)||Ar(),a=t[0],o=t.slice(1),i=qr(a.tabFilter,{filterPanelOpened:a.filterPanelOpened}),l=Er(Tr({},a),{tabFilter:cr});n([l].concat(Rr(o),[i])),d(i.id)}),[r,n]),O=(0,a.useCallback)((function(e){return"".concat(Mr).concat(e)}),[]),S=(0,a.useCallback)((function(e){return d(e)}),[d]),j=(0,a.useCallback)((function(e,t){return v(e,(function(e){return Tr({},e,t)}))}),[v]),w={updateMediaTypes:(0,a.useCallback)((function(e,t){return v(e,(function(e){return e.tabFilter=function(e,t){return er(Xt({},e),{mediaTypes:t})}(e.tabFilter,t),e}))}),[v]),updateQueryString:(0,a.useCallback)((function(e,t){return v(e,(function(e){return e.tabFilter=function(e,t,r){try{var n=Jt(lr,e.filter,t,r);return er(Xt({},e),{queryString:t,filter:n,error:null})}catch(o){var a;return er(Xt({},e),{queryString:t,error:null!==(a=Ye(o))&&void 0!==a?a:null})}}(e.tabFilter,t,m),e}))}),[v]),updateFilter:(0,a.useCallback)((function(e,t,r){return v(e,(function(e){return e.tabFilter=function(e,t,r){var n=er(Xt({},e.filter),Yt({},t,r)),a=Mt(n,e.queryString);return er(Xt({},e),{queryString:a,filter:n,error:null})}(e.tabFilter,t,r),e}))}),[v]),clearFilter:(0,a.useCallback)((function(e){return v(e,(function(e){var t,r;return e.tabFilter=(t=e.tabFilter,r=Mt(lr,t.queryString),er(Xt({},t),{queryString:r,filter:lr,error:null})),e}))}),[v]),toggleFilterPanel:(0,a.useCallback)((function(e){return v(e,(function(e){return e.filterPanelOpened=!e.filterPanelOpened,e}))}),[v])},C=Er(Tr({},m),{loadServices:(0,a.useCallback)((function(){return br(b,e)}),[b,e]),loadAgents:(0,a.useCallback)((function(){return vr(b,e)}),[b,e]),loadTeams:(0,a.useCallback)((function(){return gr(b,e)}),[b,e]),loadDispositions:(0,a.useCallback)((function(){return _r(b,p.tabFilter.filter.service,e)}),[b,p.tabFilter.filter.service,e]),loadScenarios:(0,a.useCallback)((function(){return Or(b,e)}),[b,e])}),x=(0,a.useCallback)(function(){var t,r=(t=function(t,r,n){var a,o,i,c,u;return kr(this,(function(f){switch(f.label){case 0:a=Tr({queryString:r},n),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,l().post("/admin/rest/evaluation/search/interactions?token=".concat(e),a)];case 2:return o=f.sent(),(i=o.data).results.forEach((function(e){return e.dataState={voiceRecording:e.voiceRecording,screenRecording:e.screenRecording,transcript:e.transcript,voicemail:e.voicemail}})),g(t)||j(t,{searchResponse:i}),[3,4];case 3:return c=f.sent(),j(t,{searchResponse:Er(Tr({},Br),{error:null!==(u=(0,s.getErrorMessage)(c))&&void 0!==u?u:null})}),[3,4];case 4:return[2]}}))},function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Cr(o,n,a,i,l,"next",e)}function l(e){Cr(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}(),[j,g]),I=(0,a.useCallback)((function(e){var t=r.filter((function(t){return t.id!==e}));if(n(t),e==f){var a=(0,c.findIndex)(r,(function(t){return t.id===e}));d(t[0===a?0:a-1].id)}}),[r,n,f,d]);return(0,a.useEffect)((function(){var e=r.map((function(e){return O(e.id)}));Object.keys(localStorage).filter((function(t){return t.startsWith(Mr)&&!e.includes(t)})).map((function(e){return localStorage.removeItem(e)}))}),[r.length,O]),(0,a.useMemo)((function(){return{tabs:r,selectedTab:p,generalTab:h,openNewTab:_,getTabLocalStorageId:O,selectTab:S,updateTab:j,updateTabFilter:w,remoteData:C,search:x,closeTab:I}}),[r,p,h,_,O,S,j,w,C,x,I])},qr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.general,n=void 0!==r&&r,a=t.filterPanelOpened,o=void 0!==a&&a;return{id:n?Dr:"".concat(Hr).concat((new Date).getTime(),"_").concat((0,c.uniqueId)()),general:n,tabFilter:Wr(e),filterPanelOpened:o,searchParams:Lr,searchResponse:Br}},Wr=function(e){return e?Er(Tr({},e),{queryString:(t=e,r=t.mediaTypes,n=t.queryString,r.length===tr.values.length?n:"(".concat(r.map((function(e){return"media_type: ".concat(e)})).join(" or "),") and (").concat(n,")"))}):cr;var t,r,n},Ur=function(e,t){return e.filter((function(e){return e.id===t}))[0]},Vr=function(e){var t=e.children,r=Fr.Provider,a=Gr();return(0,n.jsx)(r,{value:a,children:t})},Zr=r(7505),$r=r(9486),Jr=r(6441);const Kr="interactionSearch_FilterPanel_sidebar_9cGrb",Qr="interactionSearch_FilterPanel_hidden_GJf4v",Yr="interactionSearch_FilterPanel_header_Dxd7h",Xr="interactionSearch_FilterPanel_toggleButton_UGe2r",en="interactionSearch_FilterPanel_absolute_7EbB3",tn="interactionSearch_FilterPanel_linkButton_ATolA",rn="interactionSearch_FilterPanel_row_vjcOJ",nn="interactionSearch_FilterPanel_filterItem_Y98Ie",an="interactionSearch_FilterPanel_dropdownFilterLabel_mFviX",on="interactionSearch_FilterPanel_mediaTypeFilterDropdown_Xk2Rx",ln="interactionSearch_FilterPanel_mediaTypeFilterDropdownMenu_Jf0bh",cn="interactionSearch_FilterPanel_mediaTypeFilterDropdownHeader_tLUky",un="interactionSearch_FilterPanel_mediaTypeFilterDropdownItem_8wt5Q",sn="interactionSearch_FilterPanel_dateFilterTimepickerWrapper_CnNiV",fn="interactionSearch_FilterPanel_durationFilterWrapper_zmbTI";function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pn(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hn=function(){var e=(0,$r.useLocalizationState)().t,t=(0,a.useMemo)((function(){return[{text:e.INTERACTION_SEARCH.filter_panel_media_all(),type:"all"},{text:e.INTERACTION_SEARCH.filter_panel_media_voice(),type:"voice"},{text:e.INTERACTION_SEARCH.filter_panel_media_chat(),type:"chat"},{text:e.INTERACTION_SEARCH.filter_panel_media_email(),type:"email"}]}),[]),r=zr(),o=r.generalTab,i=o.id,l=o.tabFilter.mediaTypes,u=r.updateTabFilter.updateMediaTypes,s=(0,a.useMemo)((function(){return l.length===t.length-1}),[t,l]),f=(0,a.useMemo)((function(){return!l.length}),[l]),d=(0,a.useMemo)((function(){return s?t[0].text:0===l.length?"Select":t.filter((function(e){return l.includes(e.type)})).map((function(e){return e.text})).join(", ")}),[s,t,l]),h=(0,a.useCallback)((function(){u(i,s?[]:t.filter((function(e){return e.type!==t[0].type})).map((function(e){return e.type})))}),[i,s,t,u]),y=(0,a.useCallback)((function(e,t){var r=t.name,n=t.checked,a=r;u(i,n?pn(l).concat([a]):(0,c.without)(l,a))}),[i,u,l]);return(0,n.jsx)(Jr.Dropdown,{className:(0,p.B)("isc",on),text:d,error:f,children:(0,n.jsxs)(Zr.SmDropdown.Menu,{className:ln,onClick:function(e){return e.stopPropagation()},children:[(0,n.jsx)(Zr.SmDropdown.Header,{className:cn,content:"Search In"}),t.map((function(e){return(0,n.jsx)(Zr.SmDropdown.Item,{content:"all"===e.type?(0,n.jsx)(Zr.SmCheckbox,{className:un,checked:s,onChange:h,label:e.text}):(0,n.jsx)(Zr.SmCheckbox,{className:un,checked:l.includes(e.type),onChange:y,name:e.type,label:e.text})},e.type)}))]})})};const yn="interactionSearch_SearchPanel_panelGrid_RJ55t",mn="interactionSearch_SearchPanel_searchTabsRow_MDQ9V",bn="interactionSearch_SearchPanel_searchTabsColumn_J9EFj",vn="interactionSearch_SearchPanel_searchTabsWrapper_HDt0K",gn="interactionSearch_SearchPanel_searchButton_gV3yp",_n="interactionSearch_SearchPanel_searchMoreTabsWrapper_nOV5s",On="interactionSearch_SearchPanel_searchTabWrapper_nGe8W",Sn="interactionSearch_SearchPanel_hidden_4Zn2k",jn="interactionSearch_SearchPanel_searchMoreTabsDropdown_2mqvJ",wn="interactionSearch_SearchPanel_searchMoreTabsDropdownMenu_UpGkG",Cn="interactionSearch_SearchPanel_searchMoreTabsDropdownItem_bcHKk",xn="interactionSearch_SearchPanel_selected_qudJT",In="interactionSearch_SearchPanel_invisible_vkx4E",An="interactionSearch_SearchPanel_searchTabTextWrapper_hCSRk",Tn="interactionSearch_SearchPanel_searchTabCloseButtonWrapper_UTvaT",En="interactionSearch_SearchPanel_panelSearchInputColumn_hUUHH",Pn="interactionSearch_SearchPanel_searchInput_5kgAG";var Rn=function(e){var t=e.tab,r=t.id,o=t.general,i=t.tabFilter.queryString,l=e.hidden,c=zr(),u=c.selectedTab,s=c.generalTab,f=c.selectTab,d=c.closeTab,h=(0,$r.useLocalizationState)().t,y=(0,a.useMemo)((function(){return{title:h.INTERACTION_SEARCH.search_tab_title(),queryString:o?h.INTERACTION_SEARCH.search_tab_general():i}}),[o,i]),m=(0,a.useCallback)((function(){f(r)}),[r,f]),b=(0,a.useCallback)((function(e){e.stopPropagation(),d(r)}),[r,d]);return(0,n.jsxs)("div",{title:"".concat(y.title,"\n").concat(y.queryString),className:(0,p.B)(On,l&&Sn,o&&!s.visible&&In,u.id===r&&xn),onClick:m,children:[(0,n.jsxs)("div",{className:An,children:[(0,n.jsx)("div",{children:y.title}),(0,n.jsx)("div",{children:y.queryString})]}),!o&&(0,n.jsx)("div",{className:Tn,children:(0,n.jsx)("button",{onClick:b,children:(0,n.jsx)(ke,{name:"times"})})})]})};function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||Dn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){if(e){if("string"==typeof e)return Nn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nn(e,t):void 0}}var Mn=(0,c.debounce)((function(e){return e()}),300,{leading:!1,trailing:!0}),Ln=function(){var e=zr(),t=e.tabs,r=e.generalTab,o=r.id,i=r.tabFilter,l=i.mediaTypes,c=i.queryString,u=i.error,f=e.openNewTab,d=e.updateTabFilter.updateQueryString,h=kn((0,a.useState)(c),2),y=h[0],m=h[1],b=kn((0,a.useState)([]),2),v=b[0],g=b[1],_=kn((0,a.useState)([]),2),O=_[0],S=_[1],j=(0,a.useRef)(),w=(0,s.useResizeObserver)(j),C=(0,a.useRef)(),x=(0,$r.useLocalizationState)().t,I=(0,a.useMemo)((function(){return!c||!l.length||!!u}),[c,l]),A=(0,a.useCallback)((function(){if(j.current){var e=j.current,t=e.getBoundingClientRect().width,r=Hn(e.children),n=[],a=[],o=0,i=0;if(r.length){var l=!0,c=!1,u=void 0;try{for(var s,f=r[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){if(i+=s.value.getBoundingClientRect().width,Math.floor(i)>t?(!a.length&&n.length&&a.push(n.pop()),a.push(o)):n.push(o),++o>r.length-2)break}}catch(d){c=!0,u=d}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}}g(n),S(a)}}),[j,g,S]),T=(0,a.useCallback)((function(){g([]),S([])}),[g,S]);(0,a.useLayoutEffect)((function(){v.length+O.length!==t.length&&T()}),[v,O,T,t]),(0,a.useLayoutEffect)((function(){return T()}),[w,T]),(0,a.useLayoutEffect)((function(){v.length||O.length||v.length+O.length===t.length||A()}),[v,O,A,t]),(0,a.useEffect)((function(){m(c)}),[c,m]);var E=(0,a.useCallback)((function(e,t){var r=t.value;m(r),Mn((function(){return d(o,r)}))}),[m,d]),P=(0,a.useCallback)((function(){c===y&&f()}),[c,y,f]),R=(0,a.useCallback)((function(e){I||"Enter"!==e.key||(C.current.focus(),P())}),[I,P]),N=(0,a.useMemo)((function(){return t.map((function(e,t){return!O.includes(t)&&(0,n.jsx)(Rn,{tab:e,hidden:!1},t)}))}),[t,O]),k=(0,a.useMemo)((function(){return(0,n.jsx)("div",{className:(0,p.B)(_n,0===O.length&&Sn),children:(0,n.jsx)(Zr.SmDropdown,{scrolling:!0,className:(0,p.B)("isc",jn),text:x.INTERACTION_SEARCH.search_panel_more_button(),multiple:!0,children:(0,n.jsx)(Zr.SmDropdown.Menu,{className:wn,children:0!==O.length&&t.map((function(e,t){return O.includes(t)&&(0,n.jsx)(Zr.SmDropdown.Item,{className:Cn,content:(0,n.jsx)(Rn,{tab:e,hidden:!0})},t)}))})})})}),[t,O]);return(0,n.jsx)(Zr.SmGrid,{className:yn,children:(0,n.jsxs)(Zr.SmGrid.Row,{className:mn,children:[(0,n.jsx)(Zr.SmGrid.Column,{className:bn,children:(0,n.jsxs)("div",{ref:j,className:vn,children:[N,k]})}),(0,n.jsx)(Zr.SmGrid.Column,{className:En,children:(0,n.jsxs)(Zr.SmInput,{action:!0,fluid:!0,placeholder:x.INTERACTION_SEARCH.search_panel_search_input_placeholder(),value:y,onChange:E,error:!!u,children:[(0,n.jsx)(hn,{}),(0,n.jsx)("input",{className:Pn,onKeyDown:R}),(0,n.jsx)(Zr.SmButton,{ref:C,className:gn,type:"submit",icon:"search",basic:I,primary:!I,disabled:I,onClick:P})]})})]})})},Bn=r(755);const Fn="interactionSearch_MultiLevelDropdown_dropdown_Sr7Yc",zn="interactionSearch_MultiLevelDropdown_button_CW2VP",Gn="interactionSearch_MultiLevelDropdown_text_ldGQf",qn="interactionSearch_MultiLevelDropdown_placeholder_DG2Ks",Wn="interactionSearch_MultiLevelDropdown_disabled_DiM0L",Un="interactionSearch_MultiLevelDropdown_menuWrapper_OxtbE",Vn="interactionSearch_MultiLevelDropdown_menu_6omq8",Zn="interactionSearch_MultiLevelDropdown_item_2R3SJ",$n="interactionSearch_MultiLevelDropdown_open_BT0Dv",Jn="interactionSearch_MultiLevelDropdown_submenu_WVe3c",Kn="interactionSearch_MultiLevelDropdown_pointer_KCe1e";function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Yn(e,t,r[t])}))}return e}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ta=function(e){var t=e.children,r=(0,a.useRef)(),o=ea((0,a.useState)({left:0,top:0}),2),i=o[0],l=o[1],c=ea((0,a.useState)({top:0}),2),u=c[0],s=c[1],f=nt(),d=(0,a.useCallback)((function(){var e=r.current.parentNode.getBoundingClientRect(),t=r.current.getBoundingClientRect(),n=e.x-t.width-6,a=Math.max(e.y+t.height-f.height,0),o=e.y-a,i=e.y+e.height-(o+t.height),c=Math.max(o,o+i);l({left:n,top:c}),s({top:e.y-c+15})}),[r.current,f,l,s]);return(0,a.useLayoutEffect)((function(){return window.addEventListener("scroll",d,!0),function(){return window.removeEventListener("scroll",d,!0)}}),[d]),(0,a.useLayoutEffect)((function(){return d()}),[d]),(0,n.jsxs)("div",{ref:r,style:Xn({},i),onClick:function(e){return e.stopPropagation()},className:Jn,children:[(0,n.jsx)("div",{style:Xn({},u),className:Kn}),t]})};function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ra(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ra(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function la(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function ua(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?aa(e):t;var r}function sa(e,t){return sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sa(e,t)}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ca(e);if(t){var a=ca(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ua(this,r)}}var da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(l,e);var t,r,o,i=fa(l);function l(){var e;return oa(this,l),la(aa(e=i.apply(this,arguments)),"state",{open:!1}),la(aa(e),"dropdownRef",(0,a.createRef)()),la(aa(e),"menuRef",(0,a.createRef)()),la(aa(e),"handleClickOutside",(function(t){e.state.open&&!e.dropdownRef.current.contains(t.target)&&e.close()})),la(aa(e),"handleOnValueClear",(function(t){t.stopPropagation();var r=e.props.onValueClear;r&&r()})),la(aa(e),"handleOnDropdownClick",(function(){e.props.disabled||(e.valueIsPlain?e.toggle(!e.state.open):e.state.open||e.toggle(!0))})),la(aa(e),"close",(function(){return e.toggle(!1)})),la(aa(e),"toggle",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({open:t},(function(){e.props.onToggle&&e.props.onToggle(e.state.open)}))})),la(aa(e),"renderIcon",(function(){var t=e.props,r=t.value;return t.onValueClear&&r?(0,n.jsx)(Zr.SmIcon,{name:"times",onClick:e.handleOnValueClear}):(0,n.jsx)(Zr.SmIcon,{name:"dropdown"})})),la(aa(e),"renderMenu",(function(){var t=e.state.open,r=e.props.children;return t?(0,n.jsx)("div",{ref:e.menuRef,className:Un,children:(0,n.jsx)("div",{className:Vn,children:r})}):null})),e}return t=l,(r=[{key:"valueIsPlain",get:function(){return!this.props.value||"string"==typeof this.props.value}},{key:"componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.state.open,t=this.props,r=t.title,a=t.value,o=t.placeholder,i=t.disabled;return(0,n.jsxs)("div",{ref:this.dropdownRef,className:Fn,children:[(0,n.jsxs)("button",{title:r,type:"button",className:(0,p.B)(zn,e&&$n,i&&Wn),disabled:i,tabIndex:0,onClick:this.handleOnDropdownClick,children:[(0,n.jsx)("div",{className:(0,p.B)(this.valueIsPlain&&Gn,!a&&qn),children:a||o}),this.renderIcon()]}),this.renderMenu()]})}}])&&ia(t.prototype,r),o&&ia(t,o),l}(a.Component);la(da,"Item",(function(e){var t=e.text,r=e.children,o=e.onClick,i=na((0,a.useState)(!1),2),l=i[0],c=i[1],u=(0,a.useRef)();(0,a.useEffect)((function(){return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}}),[]);var s=(0,a.useCallback)((function(e){u.current.contains(e.target)||c(!1)}),[u]),f=(0,a.useCallback)((function(){c((function(e){return!!r&&!e})),o&&o()}),[c,o]);return(0,n.jsxs)("div",{ref:u,className:(0,p.B)(Zn,l&&$n),onClick:f,tabIndex:0,children:[t,!!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Zr.SmIcon,{name:"dropdown",rotated:"counterclockwise"}),l&&(0,n.jsx)(ta,{children:r})]})]})}));const pa="interactionSearch_SearchableListPanel_searchBox_8bqj6",ha="interactionSearch_SearchableListPanel_noResults_XxAAI",ya="interactionSearch_SearchableListPanel_listWrapper_1UAAZ",ma="interactionSearch_SearchableListPanel_listItem_qQ2ip";function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ga(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ba(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oa=function(e){var t=e.placeholder,r=e.list,o=e.selectedList,i=e.onChange,l=e.search,u=void 0===l||l,s=_a((0,a.useState)(""),2),f=s[0],d=s[1],p=(0,$r.useLocalizationState)().t,h=(0,a.useMemo)((function(){var e=r.filter((function(e){var t=e.id;return!(0,c.find)(o,{id:t})}));return f?e.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())})):e}),[r,o,f]),y=(0,a.useMemo)((function(){return!!f&&!!r.length&&!h.length}),[r,f,h]),m=(0,a.useMemo)((function(){return!r.length||!f&&!h.length}),[r,f,h]),b=(0,a.useCallback)((function(e,t){return d(t.value)}),[d]);return(0,n.jsxs)("div",{children:[u&&(0,n.jsx)(Zr.SmInput,{fluid:!0,className:pa,icon:"search",placeholder:t,value:f,onChange:b}),y||m?(0,n.jsx)("div",{className:ha,children:y?p.INTERACTION_SEARCH.searchable_list_panel_no_results():p.INTERACTION_SEARCH.searchable_list_panel_no_options()}):(0,n.jsx)("div",{className:ya,children:h.map((function(e){return(0,n.jsx)("button",{className:ma,onClick:function(){return i(e)},children:e.name},e.id)}))})]})},Sa=function(e,t){return e.map((function(e){return{id:e,name:t?t(e):e}}))};function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ca(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||Aa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Aa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){if(e){if("string"==typeof e)return ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ja(e,t):void 0}}Oa.Adapter=function(e){var t=e.list,r=e.selectedList,a=e.onChange,o=e.nameGetter,i=ga(e,["list","selectedList","onChange","nameGetter"]);return(0,n.jsx)(Oa,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){va(e,t,r[t])}))}return e}({list:Sa(t,o),selectedList:Sa(r,o),onChange:function(e){var t=e.id;return a(t)}},i))};var Ta=function(e){var t=e.agents,r=e.teams,o=e.loadAgents,i=e.loadTeams,l=e.value,u=e.onChange,s=xa((0,a.useState)(!1),2),f=s[0],d=s[1],p=xa((0,a.useState)((null==l?void 0:l.type)||"agent"),2),h=p[0],y=p[1],m=(0,$r.useLocalizationState)().t;(0,a.useLayoutEffect)((function(){if(f)switch(h){case"agent":o();break;case"team":i()}}),[f,h]);var b=(0,a.useCallback)((function(e){return d(e)}),[d]),v=(0,a.useCallback)((function(e){return y(e?"team":"agent")}),[y]),g=(0,a.useCallback)((function(e){l&&h===l.type?u(Ca(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){wa(e,t,r[t])}))}return e}({},l),{value:Ia(l.value).concat([e])})):u({type:h,value:[e]})}),[l,u,h]),_=(0,a.useCallback)((function(e){l&&u({type:h,value:(0,c.without)(l.value,e)})}),[l,u]),O=(0,a.useCallback)((function(){return u(null)}),[u]),S=(0,a.useMemo)((function(){return(null==l?void 0:l.value.length)?null==l?void 0:l.value.map((function(e){return(0,n.jsxs)(Zr.SmLabel,{as:"a",className:an,onClick:function(e){return e.stopPropagation()},children:[e.name,(0,n.jsx)(Zr.SmIcon,{name:"close",onClick:function(){return _(e)}})]},e.id)})):null}),[l,_]),j=(0,a.useMemo)((function(){return"agent"===(null==l?void 0:l.type)?l.value:[]}),[null==l?void 0:l.type,null==l?void 0:l.value]),w=(0,a.useMemo)((function(){return"team"===(null==l?void 0:l.type)?l.value:[]}),[null==l?void 0:l.type,null==l?void 0:l.value]);return(0,n.jsx)(da,{placeholder:m.INTERACTION_SEARCH.filter_panel_any_placeholder(),value:S,onValueClear:O,onToggle:b,children:(0,n.jsxs)(Bn.mQ,{selectedIndex:"agent"===h?0:1,onSelect:v,children:[(0,n.jsxs)(Bn.td,{children:[(0,n.jsx)(Bn.OK,{children:m.INTERACTION_SEARCH.filter_panel_agents()}),(0,n.jsx)(Bn.OK,{children:m.INTERACTION_SEARCH.filter_panel_teams()})]}),(0,n.jsx)(Bn.x4,{children:(0,n.jsx)(Oa,{placeholder:m.INTERACTION_SEARCH.filter_panel_search_agents_placeholder(),list:t,selectedList:j,onChange:g})}),(0,n.jsx)(Bn.x4,{children:(0,n.jsx)(Oa,{placeholder:m.INTERACTION_SEARCH.filter_panel_search_teams_placeholder(),list:r,selectedList:w,onChange:g})})]})})},Ea=r(1773);function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||ka(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e){return function(e){if(Array.isArray(e))return Pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ka(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ka(e,t){if(e){if("string"==typeof e)return Pa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pa(e,t):void 0}}var Ha=function(e){var t=e.type,r=void 0===t?"basic":t,o=e.value,i=e.onChange,l=e.error,c=Ra((0,a.useState)(new Array(2).fill(void 0)),2),u=c[0],s=c[1];(0,a.useEffect)((function(){"range"===r&&i(u)}),[r,u]);var f=(0,a.useCallback)((function(e,t){var r=t?0:1;s((function(t){var n=Na(t);return n.splice(r,1,e),n}))}),[s]),d=(0,a.useMemo)((function(){var e=o;return(0,n.jsx)(Da,{value:e,onChange:i,error:l})}),[r,o,i]),p=(0,a.useMemo)((function(){var e=o;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Da,{defaultValueType:"startOfDay",value:e?e[0]:void 0,onChange:function(e){return f(e,!0)},error:l}),(0,n.jsx)("span",{children:"to"}),(0,n.jsx)(Da,{value:e?e[1]:void 0,onChange:function(e){return f(e,!1)},error:l})]})}),[r,o,i]);return(0,n.jsx)("div",{className:sn,children:"basic"===r?d:p})},Da=function(e){var t=e.defaultValueType,r=void 0===t?"current":t,o=e.value,i=e.onChange,l=e.error,u=Ra((0,a.useState)(Ma),2),s=u[0],f=u[1],d=Ra((0,a.useState)(),2),p=d[0],h=d[1],y=Ra((0,a.useState)(!1),2),m=y[0],b=y[1],v=(0,$r.useLocalizationState)().t;(0,a.useEffect)((function(){var e=o||g(),t={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()},r=Ba(t);if(_(r)){var n={key:"custom",text:Fa(e),value:r,time:t};f([n].concat(Na(s)))}h(r),i(t)}),[]);var g=(0,a.useCallback)((function(){var e=new Date;switch(r){case"startOfDay":e.setHours(0,0,0);break;case"endOfDay":e.setHours(23,59,59)}return e}),[r]),_=(0,a.useCallback)((function(e){return!s.some((function(t){return t.value===e}))}),[s]),O=(0,a.useCallback)((function(e,t){var r=t.searchQuery;if(null!==r.match(/^(0?[0-9]|1[012]):[0-5][0-9](:[0-5][0-9])?\s?(AM|PM)?/i)){var n=Ra(La(r),2)[1];b(_(n))}else b(!1)}),[_,b]),S=(0,a.useCallback)((function(e,t){var r=t.value,n=Ra(La(r),2),a=n[0],o={key:"custom",text:r,value:n[1],time:a};f((function(e){return[o].concat(Na(e.filter((function(e){return"custom"!==e.key}))))})),h(o.value)}),[f,h]),j=(0,a.useCallback)((function(e,t){var r=t.value,n=(0,c.find)(s,{value:r}).time;h(r),i(n)}),[s,h]);return(0,n.jsx)(Jr.Dropdown,{fluid:!0,selection:!0,search:!0,onSearchChange:O,allowAdditions:m,additionLabel:v.INTERACTION_SEARCH.filter_panel_date_custom_date(),onAddItem:S,options:s,onChange:j,value:p,error:l})},Ma=function(){var e=(0,c.times)(4,(function(e){return 15*e}));return(0,c.times)(24,(function(t){var r=t%12==0?12:(t+12)%12,n=t<12;return e.map((function(e,a){var o={hours:t,minutes:e,seconds:0};return{key:"".concat(t,"-").concat(a),text:"".concat(r,":").concat(("0"+e).slice(-2)," ").concat(n?"AM":"PM"),value:Ba(o),time:o}}))})).flat(1)},La=function(e){var t,r=e.split(":"),n=-1!==r[r.length-1].toUpperCase().indexOf("PM");r[r.length-1]=r[r.length-1].replace(/\D/g,""),t=+r[0],n?t<12&&(t+=12):12===t&&(t=0);var a={hours:t,minutes:+r[1],seconds:r.length>2?+r[2]:0};return[a,Ba(a)]},Ba=function(e){return 1e3*(60*(60*e.hours+e.minutes)+e.seconds)},Fa=function(e){return(0,s.formatDate)(e,"LT")};function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qa=function(e){var t=e.value,r=e.datePickerType,o=e.onChange,i=Ga((0,a.useState)(),2),l=i[0],c=i[1],u=Ga((0,a.useState)(!1),2),s=u[0],f=u[1],d=(0,a.useCallback)((function(e,t){if("range"===r){if(2===t.value.length){var n=t.value,a=Ga(n,2),i=a[0],c=a[1],u=Ga(l,2),s=u[0],d=u[1];i.getFullYear()===c.getFullYear()&&i.getMonth()===c.getMonth()&&i.getDate()===c.getDate()&&Ba(s)>Ba(d)?f(!0):o(n.map((function(e,t){var r=new Date(e),n=l[t];return n&&r.setHours(n.hours,n.minutes,n.seconds),r})))}}else{var p=new Date(t.value),h=l;h&&p.setHours(h.hours,h.minutes,h.seconds),o(p)}}),[r,o,l,f]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(Ea.Z,{inline:!0,type:r,value:t,onChange:d,clearOnSameDateClick:!1}),(0,n.jsx)(Ha,{type:r,value:t,onChange:function(e){return c(e)},error:s})]})};function Wa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Wa(e,t,r[t])}))}return e}function Va(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}var Za="L LT",$a=function(e){var t=e.value,r=e.onChange,o=(0,$r.useLocalizationState)().t,i=(0,a.useMemo)((function(){return[{text:o.INTERACTION_SEARCH.filter_panel_any_placeholder(),type:"any"},{text:o.INTERACTION_SEARCH.filter_panel_date_today(),type:"today"},{text:o.INTERACTION_SEARCH.filter_panel_date_yesterday(),type:"yesterday"},{text:o.INTERACTION_SEARCH.filter_panel_date_last_24h(),type:"last_24h"},{text:o.INTERACTION_SEARCH.filter_panel_date_last_week(),type:"last_week"},{text:o.INTERACTION_SEARCH.filter_panel_date_last_month(),type:"last_month"},{text:o.INTERACTION_SEARCH.filter_panel_date_select_date(),type:"select",useDatepicker:!0},{text:o.INTERACTION_SEARCH.filter_panel_date_after_date(),type:"after",useDatepicker:!0},{text:o.INTERACTION_SEARCH.filter_panel_date__before_date(),type:"before",useDatepicker:!0},{text:o.INTERACTION_SEARCH.filter_panel_date_between_dates(),type:"between",useDatepicker:!0}]}),[]),l=(0,a.useRef)(),u=(0,a.useMemo)((function(){var e=null,r=(0,c.find)(i,{type:(null==t?void 0:t.type)||"any"});switch(r.type){case"any":e={placeholder:r.text};break;case"today":case"yesterday":case"last_24h":case"last_week":case"last_month":e={value:r.text};break;case"select":e={value:(0,s.formatDate)(null==t?void 0:t.value,Za)};break;case"after":e={value:"After ".concat((0,s.formatDate)(null==t?void 0:t.value,Za))};break;case"before":e={value:"Before ".concat((0,s.formatDate)(null==t?void 0:t.value,Za))};break;case"between":e={value:"".concat((0,s.formatDate)((null==t?void 0:t.value)[0],Za)," - ").concat((0,s.formatDate)((null==t?void 0:t.value)[1],Za))}}return e.placeholder?Va(Ua({},e),{title:e.placeholder}):Va(Ua({},e),{title:e.value})}),[t,i]),f=(0,a.useCallback)((function(e,t){"any"===e.type?r(null):r({type:e.type,value:t}),l.current.close()}),[r,l]);return(0,n.jsx)(da,Va(Ua({},u),{ref:l,children:i.map((function(e){return e.useDatepicker?(0,n.jsx)(da.Item,{text:e.text,children:(0,n.jsx)(qa,Ua(Va(Ua({},(null==t?void 0:t.type)===e.type&&{value:t.value}),{onChange:function(t){return f(e,t)}}),"between"===e.type&&{datePickerType:"range"}))},e.type):(0,n.jsx)(da.Item,{text:e.text,onClick:function(){return f(e)}},e.type)}))}))};function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ka(e){if(Array.isArray(e))return e}function Qa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ya(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Xa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Qa(e,t,r[t])}))}return e}function to(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function ro(e,t){return Ka(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||ao(e,t)||Xa()}function no(e){return function(e){if(Array.isArray(e))return Ja(e)}(e)||Ya(e)||ao(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){if(e){if("string"==typeof e)return Ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ja(e,t):void 0}}var oo=function(e){var t=e.operators,r=void 0===t?[">","<"]:t,o=e.value,i=e.onChange,l=(0,$r.useLocalizationState)().t,c=(0,a.useMemo)((function(){var e=r.map((function(e){return{key:e,text:e,value:e}}));return o.operator&&!r.includes(o.operator)&&e.unshift({key:o.operator,text:o.operator,value:o.operator}),e.unshift({key:"any",text:l.INTERACTION_SEARCH.filter_panel_any_placeholder(),value:null}),e}),[r,o]),u=ro((0,a.useState)([{key:"any",text:l.INTERACTION_SEARCH.filter_panel_any_placeholder(),value:null},{key:"1m",text:"1m",value:"1m"},{key:"15m",text:"15m",value:"15m"},{key:"30m",text:"30m",value:"30m"},{key:"1h",text:"1h",value:"1h"}]),2),s=u[0],f=u[1],d=ro((0,a.useState)(!1),2),p=d[0],h=d[1],y=(0,a.useCallback)((function(e){return!s.some((function(t){return t.value===e}))}),[s]),m=(0,a.useCallback)((function(e){var t,r=Ka(t=s)||Ya(t)||ao(t)||Xa(),n=r[0],a=r[1],o=r.slice(2);"custom"!==a.key?f([n,e,a].concat(no(o))):f([n,e].concat(no(o)))}),[f]);(0,a.useEffect)((function(){if(o.value&&y(o.value)){var e={key:"custom",text:o.value,value:o.value};m(e)}}),[o,y]);var b=(0,a.useCallback)((function(e,t){var r=t.searchQuery;h(y(r))}),[y,h]),v=(0,a.useCallback)((function(e,t){var r=t.value;m({key:"custom",text:r,value:r})}),[m]),g=(0,a.useCallback)((function(e,t){var r=t.value;i(o?to(eo({},o),{operator:r}):{value:null,operator:r})}),[i]),_=(0,a.useCallback)((function(e,t){var r=t.value;i(o?to(eo({},o),{value:r}):{operator:null,value:r})}),[i]);return(0,n.jsxs)("div",{className:fn,children:[(0,n.jsx)(Jr.Dropdown,{placeholder:l.INTERACTION_SEARCH.filter_panel_any_placeholder(),className:"isc-selection",fluid:!0,selection:!0,options:c,onChange:g,value:o.operator}),(0,n.jsx)(Jr.Dropdown,{placeholder:l.INTERACTION_SEARCH.filter_panel_any_placeholder(),className:"isc-selection",fluid:!0,selection:!0,search:!0,onSearchChange:b,allowAdditions:p,additionLabel:l.INTERACTION_SEARCH.filter_panel_duration_custom(),onAddItem:v,options:s,onChange:_,value:o.value})]})};function io(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}var co=function(e){var t=e.value,r=e.onChange,o=(0,$r.useLocalizationState)().t,i=(0,a.useRef)(),l=(0,a.useMemo)((function(){return[{text:o.INTERACTION_SEARCH.filter_panel_any_placeholder(),type:"any"},{text:o.INTERACTION_SEARCH.filter_panel_exists(),type:"exists"},{text:o.INTERACTION_SEARCH.filter_panel_not_exists(),type:"not_exists"}]}),[]),u=(0,a.useMemo)((function(){return null===t?{placeholder:l[0].text}:{value:(0,c.find)(l,{type:t}).text}}),[t]),s=(0,a.useCallback)((function(e){"any"===e.type?r(null):r(e.type),i.current.close()}),[r,i]);return(0,n.jsx)(da,lo(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){io(e,t,r[t])}))}return e}({ref:i},u),{children:l.map((function(e){return(0,n.jsx)(da.Item,{text:e.text,onClick:function(){return s(e)}},e.type)}))}))},uo=function(e){var t=e.header,r=e.children;return(0,n.jsxs)("div",{className:nn,children:[(0,n.jsx)(Zr.SmHeader,{as:"h5",children:t}),(0,n.jsx)("div",{children:r})]})},so=function(e){var t=e.children,r=e.opened,o=e.onToggle,i=e.onClearFilter,l=(0,$r.useLocalizationState)().t,c=(0,a.useCallback)((function(e){return(0,n.jsx)(Zr.SmButton,{className:(0,p.B)(Xr,!e&&en),onClick:o,icon:(0,n.jsx)(ke,{name:"filter"})})}),[o]),u=(0,a.useMemo)((function(){return(0,n.jsxs)("div",{className:Yr,children:[c(!0),(0,n.jsx)(Zr.SmButton,{className:tn,content:l.INTERACTION_SEARCH.filter_panel_clear_all_button(),onClick:i})]})}),[c]);return(0,n.jsxs)("div",{children:[!r&&c(!1),(0,n.jsxs)("div",{className:(0,p.B)(Kr,!r&&Qr),children:[u,t]})]})},fo=function(e){var t=e.shown,r=e.onShowMoreToggle,a=e.labelShow,o=e.labelHide;return(0,n.jsx)("div",{className:rn,children:(0,n.jsx)(Zr.SmButton,{className:tn,content:t?o:a,onClick:r})})};function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||mo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){if(e){if("string"==typeof e)return po(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?po(e,t):void 0}}var bo=function(e){var t=e.list,r=e.loadList,o=e.value,i=e.onChange,l=e.search,u=e.searchPlaceholder,s=void 0===u?"Search":u,f=e.nameGetter,d=(0,$r.useLocalizationState)().t,p=ho((0,a.useState)(!1),2),h=p[0],y=p[1];(0,a.useLayoutEffect)((function(){h&&r&&r()}),[h,r]);var m=(0,a.useCallback)((function(e){return y(e)}),[y]),b=(0,a.useCallback)((function(e){i(yo(o).concat([e]))}),[o,i]),v=(0,a.useCallback)((function(e){i((0,c.without)(o,e))}),[o,i]),g=(0,a.useCallback)((function(){return i([])}),[i]),_=(0,a.useMemo)((function(){return o.length?o.map((function(e){return(0,n.jsxs)(Zr.SmLabel,{as:"a",className:an,onClick:function(e){return e.stopPropagation()},children:[f?f(e):e,(0,n.jsx)(Zr.SmIcon,{name:"close",onClick:function(){return v(e)}})]},e)})):null}),[o,v]);return(0,n.jsx)(da,{placeholder:d.INTERACTION_SEARCH.filter_panel_any_placeholder(),value:_,onValueClear:g,onToggle:m,children:(0,n.jsx)(Oa.Adapter,{placeholder:s,list:t,selectedList:o,onChange:b,search:l,nameGetter:f})})};function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _o=[">=","<="],Oo=function(e){var t=e.tab,r=t.id,o=t.tabFilter.filter,i=t.filterPanelOpened,l=(0,$r.useLocalizationState)().t,c=go((0,a.useState)(!1),2),u=c[0],s=c[1],f=zr(),d=f.updateTabFilter,p=d.updateFilter,h=d.clearFilter,y=d.toggleFilterPanel,m=f.remoteData,b=(0,a.useCallback)((function(){return y(r)}),[r,y]),v=(0,a.useCallback)((function(){return h(r)}),[r,h]),g=(0,a.useCallback)((function(){return s((function(e){return!e}))}),[s]),_=(0,a.useMemo)((function(){return u?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_disposition(),children:(0,n.jsx)(bo,{list:m.dispositions,loadList:m.loadDispositions,value:o.disposition,onChange:function(e){return p(r,"disposition",e)},searchPlaceholder:l.INTERACTION_SEARCH.filter_panel_search_dispositions_placeholder()})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_contact_account(),children:(0,n.jsx)(Zr.SmInput,{placeholder:l.INTERACTION_SEARCH.filter_panel_any_placeholder(),fluid:!0,value:o.contactAccount,onChange:function(e,t){return p(r,"contactAccount",t.value)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_voice_recording(),children:(0,n.jsx)(co,{value:o.voiceRecording,onChange:function(e){return p(r,"voiceRecording",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_screen_recording(),children:(0,n.jsx)(co,{value:o.screenRecording,onChange:function(e){return p(r,"screenRecording",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_transcript(),children:(0,n.jsx)(co,{value:o.transcript,onChange:function(e){return p(r,"transcript",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_duration(),children:(0,n.jsx)(oo,{operators:_o,value:o.duration,onChange:function(e){return p(r,"duration",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_talk_time(),children:(0,n.jsx)(oo,{value:o.talkTime,onChange:function(e){return p(r,"talkTime",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_queue_time(),children:(0,n.jsx)(oo,{value:o.queueTime,onChange:function(e){return p(r,"queueTime",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_scenario(),children:(0,n.jsx)(bo,{list:m.scenarios,loadList:m.loadScenarios,value:o.scenario,onChange:function(e){return p(r,"scenario",e)},searchPlaceholder:l.INTERACTION_SEARCH.filter_panel_search_scenarios_placeholder()})})]}):null}),[u,o,p,m]),O=(0,a.useMemo)((function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_time_period(),children:(0,n.jsx)($a,{value:o.timePeriod,onChange:function(e){return p(r,"timePeriod",e)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_phone_address(),children:(0,n.jsx)(Zr.SmInput,{placeholder:"Any",fluid:!0,value:o.phoneAddress,onChange:function(e,t){return p(r,"phoneAddress",t.value)}})}),(0,n.jsx)(uo,{header:l.INTERACTION_SEARCH.filter_panel_service(),children:(0,n.jsx)(bo,{list:m.services,loadList:m.loadServices,value:o.service,onChange:function(e){return p(r,"service",e)},searchPlaceholder:l.INTERACTION_SEARCH.filter_panel_search_services_placeholder()})}),(0,n.jsx)(uo,{header:o.agentTeam&&"team"===o.agentTeam.type?l.INTERACTION_SEARCH.filter_panel_team():l.INTERACTION_SEARCH.filter_panel_agent(),children:(0,n.jsx)(Ta,{agents:m.agents,teams:m.teams,loadAgents:m.loadAgents,loadTeams:m.loadTeams,value:o.agentTeam,onChange:function(e){return p(r,"agentTeam",e)}})}),_,(0,n.jsx)(fo,{shown:u,onShowMoreToggle:g,labelShow:l.INTERACTION_SEARCH.filter_panel_show_more_filters(),labelHide:l.INTERACTION_SEARCH.filter_panel_hide_extra_filters()})]})}),[o,p,m,u,g,_]);return(0,n.jsx)(so,{opened:i,onToggle:b,onClearFilter:v,children:O})},So=r(5961),jo=r(7274),wo=r(6915);const Co="interactionSearch_Grid_grid_zxdWz",xo="interactionSearch_Grid_gridHeader_87det",Io="interactionSearch_Grid_gridBody_zPiTI",Ao="interactionSearch_Grid_headerRow_qL754",To="interactionSearch_Grid_row_yNgM8",Eo="interactionSearch_Grid_gridList_W0RNY",Po="interactionSearch_Grid_selected_hKNwB",Ro="interactionSearch_Grid_columnHeader_g68DS",No="interactionSearch_Grid_columnMenuTriggerButton_RfuWw",ko="interactionSearch_Grid_dragging_Wltyj",Ho="interactionSearch_Grid_columnDraggable_qCMDB",Do="interactionSearch_Grid_notDragging_6ogyq",Mo="interactionSearch_Grid_dropping_pg3J2",Lo="interactionSearch_Grid_columnWrapper_ybVht",Bo="interactionSearch_Grid_columnText_iNDtJ",Fo="interactionSearch_Grid_columnSortArrow_GWLBl",zo="interactionSearch_Grid_columnSortArrowIcon_eBY3Y",Go="interactionSearch_Grid_columnMenuTriggerButtonWrapper_6VeJe",qo="interactionSearch_Grid_columnMenuWrapper_jBxoM",Wo="interactionSearch_Grid_columnMenu_zB8jL",Uo="interactionSearch_Grid_columnMenuCheckbox_857Kc",Vo="interactionSearch_Grid_columnMenuButton_QofI5",Zo="interactionSearch_Grid_columnResizer_qCGGT",$o="interactionSearch_Grid_cell_M84qw",Jo="interactionSearch_Grid_cellContextMenuWrapper_bOqzt",Ko="interactionSearch_Grid_cellContextMenuButton_lK60Z",Qo="interactionSearch_Grid_cellContextMenuTooltip_OQZZx";function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ei=function(e){var t=e.cell,r=e.cellValue,o=Xo((0,a.useState)(!1),2),i=o[0],l=o[1],u=Xo((0,a.useState)(!1),2),s=u[0],f=u[1],d=(0,$r.useLocalizationState)().t,p=(0,a.useCallback)((function(e){(0,c.isNil)(r)||"object"==typeof r||(e.stopPropagation(),e.preventDefault(),l(!0))}),[r,l]);return(0,n.jsx)(Jr.Popup,{show:i,className:Jo,onClickOutside:function(){return l(!1)},content:(0,n.jsx)("div",{children:s?(0,n.jsx)("div",{className:Qo,children:d.INTERACTION_SEARCH.grid_copied()}):(0,n.jsx)(Zr.SmButton,{className:Ko,onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(r).then((function(){f(!0),setTimeout((function(){l(!1),f(!1)}),1e3)}))},children:d.INTERACTION_SEARCH.grid_copy()})}),children:t(p)})};function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ti(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ni=function(e){var t=e.placeholder,r=e.list,o=e.renderListItem,i=e.search,l=void 0===i||i,c=e.listItemLabelGetter,u=ri((0,a.useState)(""),2),s=u[0],f=u[1],d=(0,$r.useLocalizationState)().t,p=(0,a.useMemo)((function(){return s?r.filter((function(e){return!!c&&c(e).toLowerCase().includes(s.toLowerCase())})):r}),[r,s]),h=(0,a.useMemo)((function(){return!!s&&!!r.length&&!p.length}),[r,s,p]),y=(0,a.useMemo)((function(){return!r.length||!s&&!p.length}),[r,s,p]),m=(0,a.useCallback)((function(e,t){return f(t.value)}),[f]);return(0,n.jsxs)("div",{children:[l&&(0,n.jsx)(Zr.SmInput,{fluid:!0,className:pa,icon:"search",placeholder:t,value:s,onChange:m}),h||y?(0,n.jsx)("div",{className:ha,children:h?d.INTERACTION_SEARCH.searchable_list_panel_no_results():d.INTERACTION_SEARCH.searchable_list_panel_no_options()}):(0,n.jsx)("div",{className:ya,children:p.map(o)})]})};function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ii(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ci=function(e){var t=e.menuOpened,r=e.onMenuClose,o=e.columns,i=e.currentColumnIndex,l=e.onGetColumnOrder,c=e.onSetColumnOrder,u=e.onSetColumnSize,s=e.children,f=(0,a.useRef)(null),d=li((0,a.useState)([]),2),p=d[0],h=d[1],y=(0,$r.useLocalizationState)().t,m=(0,a.useCallback)((function(e){t&&"Escape"===e.key&&r(!1)}),[t,r]);(0,a.useEffect)((function(){h(o.filter((function(e){return e.toggleable})))}),[]),(0,a.useEffect)((function(){return document.addEventListener("keydown",m,!1),function(){document.removeEventListener("keydown",m,!1)}}),[m]);var b=(0,a.useCallback)((function(e){var t=1===o.filter((function(e){return e.getToggleHiddenProps().checked})).length,r=e.getToggleHiddenProps().checked;(!r||r&&!t)&&e.toggleHidden();var n=l();i!==n.indexOf(e.id)&&(n.splice(n.indexOf(e.id),1),n.splice(i+1,0,e.id),c(n))}),[o,i,l,c]),v=(0,a.useCallback)((function(e){u(e),r(!1)}),[u,r]);return console.log("popup menu",t),(0,n.jsx)(Jr.Popup,{show:t,contentClassName:qo,onClickOutside:function(){return r(!1)},content:(0,n.jsx)("div",{ref:f,className:Wo,children:(0,n.jsxs)(Bn.mQ,{children:[(0,n.jsxs)(Bn.td,{children:[(0,n.jsx)(Bn.OK,{children:y.INTERACTION_SEARCH.grid_columns()}),(0,n.jsx)(Bn.OK,{children:y.INTERACTION_SEARCH.grid_layout()})]}),(0,n.jsx)(Bn.x4,{children:(0,n.jsx)(ni,{placeholder:y.INTERACTION_SEARCH.grid_search_columns_placeholder(),list:p.map((function(e){return o.filter((function(t){return t.Header===e.Header}))[0]})),renderListItem:function(e){return(0,n.jsx)(Zr.SmCheckbox,ii(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){oi(e,t,r[t])}))}return e}({className:Uo,label:e.Header},e.getToggleHiddenProps()),{onChange:function(){return b(e)}}),e.Header)},listItemLabelGetter:function(e){return e.Header}})}),(0,n.jsxs)(Bn.x4,{children:[(0,n.jsx)("button",{className:Vo,onClick:function(){return v("current")},children:y.INTERACTION_SEARCH.grid_autosize_this_column()}),(0,n.jsx)("button",{className:Vo,onClick:function(){return v("all")},children:y.INTERACTION_SEARCH.grid_autosize_all_columns()}),(0,n.jsx)("button",{className:Vo,onClick:function(){return v("default")},children:y.INTERACTION_SEARCH.grid_reset_columns()})]})]})}),children:s})},ui=function(e){var t=e.onMenuOpen,r=(0,a.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),t({menuOpened:!0})}),[t]);return(0,n.jsx)("div",{className:Go,children:(0,n.jsx)(Zr.SmButton,{className:No,onClick:r,children:(0,n.jsx)(Zr.SmIcon,{name:"sidebar"})})})};function si(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){si(e,t,r[t])}))}return e}function di(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}jo.actions.autosizeColumns="autosizeColumns",jo.actions.autosizeColumn="autosizeColumn";var pi=function(e){e.stateReducers.push(hi),e.useInstance.push(yi)};pi.pluginName="useAutosizeColumns";var hi=function(e,t){if(t.type===jo.actions.autosizeColumns){var r=t.columns.reduce((function(e,t){var r=t.columnId,n=t.columnText,a=t.columnFont,o=t.extraSpace,i=t.maxWidth;return e[r]=Xe(n,a,o,i),e}),{});return di(fi({},e),{columnResizing:di(fi({},e.columnResizing),{columnWidths:fi({},e.columnResizing.columnWidths,r)})})}if(t.type===jo.actions.autosizeColumn){var n=t.column,a=n.columnId,o=n.columnText,i=n.columnFont,l=n.extraSpace,c=n.maxWidth,u=Xe(o,i,l,c);return di(fi({},e),{columnResizing:di(fi({},e.columnResizing),{columnWidths:di(fi({},e.columnResizing.columnWidths),si({},a,u))})})}},yi=function(e){var t=e.plugins,r=e.dispatch;(0,jo.ensurePluginOrder)(t,["useResizeColumns"],"useAutosizeColumns");var n=(0,a.useCallback)((function(e){return r({type:jo.actions.autosizeColumns,columns:e})}),[r]),o=(0,a.useCallback)((function(e){return r({type:jo.actions.autosizeColumn,column:e})}),[r]);Object.assign(e,{autosizeColumns:n,autosizeColumn:o})};function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){bi(e,t,r[t])}))}return e}function gi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||Si(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oi(e){return function(e){if(Array.isArray(e))return mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Si(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){if(e){if("string"==typeof e)return mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(e,t):void 0}}var ji={minWidth:100,width:180},wi=(0,c.debounce)((function(e){return e()}),500,{leading:!1,trailing:!0}),Ci=function(e){return e.id||e.accessor},xi=o().memo((function(e){var t=e.columns,r=e.rows,o=e.sortInfo,i=e.onSortInfoChange,l=e.pageInfo,u=e.onPageInfoChange,s=e.total,f=e.localStorageId,d=_i((0,a.useState)({menuOpened:!1,currentColumnId:null,currentColumnIndex:0}),2),h=d[0],y=d[1],m=nt(),b=_i((0,a.useState)(0),2),v=b[0],g=b[1],_=_i((0,a.useState)(null),2),O=_[0],S=_[1],j=(0,a.useRef)([]),w=(0,a.useRef)(),C=(0,a.useRef)(),x=(0,a.useRef)();(0,a.useLayoutEffect)((function(){var e=C.current?m.height-C.current.getBoundingClientRect().top-46:10;g(e)}),[r,m,C]);var I=(0,a.useMemo)((function(){return function(e){var t=localStorage.getItem(e.id);return null===t&&e.id!==e.fallbackId&&(t=localStorage.getItem(e.fallbackId)),null!=t?JSON.parse(t):null}(f)}),[]),A=(0,a.useMemo)((function(){return null!=I?(0,c.cloneDeep)(t).map((function(e){var t;return e.width=(null===(t=I.columns.filter((function(t){return Ci(e)===t.id}))[0])||void 0===t?void 0:t.width)||ji.width,e})):t}),[t]),T=(0,a.useMemo)((function(){return r}),[r]),E=(0,a.useMemo)((function(){return ji}),[]),P=(0,a.useMemo)((function(){return null!=I?I.columns.filter((function(e){return!e.visible})).map((function(e){return e.id})):A.filter((function(e){return!e.visible})).map((function(e){return Ci(e)}))}),[I,A]),R=(0,a.useMemo)((function(){if(null!=I)return I.columns.map((function(e){return e.id}))}),[I]),N=(0,a.useMemo)((function(){return null!=I&&I.sortBy?[I.sortBy]:o?[{id:o.sortField,desc:"DESC"===o.sortField}]:[]}),[o,I]),k=(0,jo.useTable)({columns:A,data:T,defaultColumn:E,manualSortBy:!0,disableMultiSort:!0,manualPagination:!0,initialState:{hiddenColumns:P,columnOrder:R,sortBy:N,pageSize:l.limit,pageIndex:Math.ceil(l.offset/l.limit)},pageCount:Math.ceil(s/l.limit)},jo.useBlockLayout,jo.useResizeColumns,pi,jo.useColumnOrder,jo.useSortBy,jo.usePagination,jo.useRowSelect),H=k.getTableProps,D=k.getTableBodyProps,M=k.headerGroups,L=k.page,B=k.totalColumnsWidth,F=k.prepareRow,z=k.state,G=z.columnOrder,q=z.columnResizing,W=z.sortBy,U=z.pageIndex,V=z.pageSize,Z=k.dispatch,$=k.visibleColumns,J=k.allColumns,K=k.setColumnOrder,Q=k.canPreviousPage,Y=k.canNextPage,X=k.pageOptions,ee=k.pageCount,te=k.gotoPage,re=k.nextPage,ne=k.previousPage,ae=k.autosizeColumns,oe=k.autosizeColumn;(0,a.useEffect)((function(){0===L.length&&S(null)}),[L.length]),(0,a.useEffect)((function(){ie()}),[G,W,$]),(0,a.useEffect)((function(){q.isResizingColumn||ie()}),[q]);var ie=(0,a.useCallback)((function(){var e=J.map((function(e){return{id:e.id,visible:e.isVisible,width:e.width}})),t=W[0],r=+new Date,n=JSON.stringify({columns:e,sortBy:t,timestamp:r});localStorage.setItem(f.id,n)}),[J,W]);(0,a.useEffect)((function(){if(W[0]){var e=W[0],t={sortField:e.id,sortDir:e.desc?"DESC":"ASC"};o&&t.sortField===o.sortField&&t.sortDir===o.sortDir||i(t)}else o&&i()}),[o,i,W]),(0,a.useEffect)((function(){l.offset===U*V&&l.limit===V||u({offset:U*V,limit:V})}),[l,u,U,V]);var le=(0,a.useCallback)((function(){return j.current=$.map((function(e){return e.id}))}),[j,$]),ce=(0,a.useCallback)((function(e){var t=Oi(j.current),r=e.source.index,n=e.destination&&e.destination.index;t.splice(r,1),t.splice(n,0,e.draggableId),K(t)}),[j,$,K]),ue=(0,a.useCallback)((function(e,t,r){y((function(n){return gi(vi({},n,e),{currentColumnId:t,currentColumnIndex:r})}))}),[]),se=(0,a.useCallback)((function(e){y((function(t){return gi(vi({},t),{menuOpened:e})}))}),[]),fe=(0,a.useCallback)((function(){return J.map((function(e){return e.id}))}),[J]),de=(0,a.useCallback)((function(e,t,r){var n=e.Header,a=66;if(O){for(var o=[],i=O.start;i<=O.end;i++){var l=L[i].values[e.id];if(e.Cell){var c=e.Cell({cell:{value:l}});"string"==typeof c&&(c.length>0?o.push(c):"string"==typeof l&&l.length>0&&o.push(l))}}(n=o.reduce((function(e,t){return e.length>t.length?e:t}),e.Header)).length>e.Header.length+5&&(a=21)}return{columnId:e.id,columnText:n,columnFont:t,extraSpace:a,maxWidth:r}}),[O,L]),pe=(0,a.useCallback)((function(e){var t="14px Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",r=m.width/2;switch(e){case"all":var n=$.map((function(e){return de(e,t,r)}));ae(n);break;case"current":var a=(0,c.find)($,{id:h.currentColumnId});a&&oe(de(a,t,r))}}),[$,h,oe,ae,de,m.width]),he=(0,a.useCallback)((function(e){var t=e.target;w.current.scrollTo({left:t.scrollLeft}),x.current.scrollTo(t.scrollTop)}),[x]),ye=(0,a.useCallback)((function(e){var t=e.visibleStartIndex,r=e.visibleStopIndex;return wi((function(){return S({start:t,end:r})}))}),[S]),me=(0,a.useCallback)((function(e,t){return(0,n.jsx)(So._l,{draggableId:e.id,index:t,isDragDisabled:!Ci(e),children:function(r,a){var o;return(0,n.jsxs)("div",gi(vi({},e.getHeaderProps(gi(vi({},e.getSortByToggleProps()),{title:e.Header}))),{className:(0,p.B)(Ro,bi({},ko,a.isDragging)),children:[(0,n.jsx)("div",gi(vi({},r.draggableProps,r.dragHandleProps),{ref:r.innerRef,style:r.draggableProps.style,className:(0,p.B)(Ho,(o={},bi(o,ko,a.isDragging),bi(o,Do,!a.isDragging),bi(o,Mo,a.isDropAnimating),o)),children:a.isDragging?(0,n.jsx)("span",{className:Bo,children:!e.hiddenHeader&&e.render("Header")}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:Lo,children:[(0,n.jsx)("span",{className:Bo,children:!e.hiddenHeader&&e.render("Header")}),(0,n.jsx)("span",{className:(0,p.B)(!e.hiddenHeader&&Fo),children:e.isSorted?e.isSortedDesc?(0,n.jsx)(ke,{name:"caret-down",className:zo}):(0,n.jsx)(ke,{name:"caret-up",className:zo}):null})]}),(0,n.jsx)(ci,{menuOpened:h.menuOpened&&h.currentColumnId===e.id&&h.currentColumnIndex===t,onMenuClose:se,columns:J,currentColumnIndex:h.currentColumnIndex,onGetColumnOrder:fe,onSetColumnOrder:K,onSetColumnSize:pe,children:(0,n.jsx)(ui,{onMenuOpen:function(r){return ue(r,e.id,t)}})})]})})),(0,n.jsx)("div",gi(vi({},e.getResizerProps()),{className:Zo,onClick:function(e){return e.stopPropagation()}}))]}))}},e.id)}),[J,h.currentColumnId,h.currentColumnIndex,h.menuOpened,se,ue,fe,pe,K]),be=(0,a.useCallback)((function(e,t){return(0,n.jsx)(So.Z5,{onDragStart:le,onDragUpdate:ce,onDragEnd:c.noop,children:(0,n.jsx)(So.bK,{droppableId:"droppable",direction:"horizontal",children:function(t){return(0,n.jsx)("div",gi(vi({},e.getHeaderGroupProps()),{ref:t.innerRef,className:Ao,children:e.headers.map(me)}))}})},t)}),[le,ce,me]),ve=(0,a.memo)((function(e){var t=e.index,r=e.style,a=L[t];return F(a),(0,n.jsx)("div",gi(vi({},a.getRowProps({style:r})),{className:(0,p.B)(To,bi({},Po,a.isSelected)),onClick:function(e){e.ctrlKey||Z({type:jo.actions.resetSelectedRows}),a.toggleRowSelected(1)},children:a.cells.map((function(e,t){return(0,n.jsx)(ei,{cell:function(t){return(0,n.jsx)("div",gi(vi({},e.getCellProps()),{className:$o,onContextMenu:t,children:e.render("Cell")}))},cellValue:!!e.column.Cell&&e.column.Cell({cell:e})||e.value},t)}))}))}),wo.wy),ge=(0,a.useCallback)((function(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:function(){return te(0)},disabled:!Q,children:"<<"})," ",(0,n.jsx)("button",{onClick:function(){return ne()},disabled:!Q,children:"<"})," ",(0,n.jsx)("button",{onClick:function(){return re()},disabled:!Y,children:">"})," ",(0,n.jsx)("button",{onClick:function(){return te(ee-1)},disabled:!Y,children:">>"})," ",(0,n.jsxs)("span",{children:["Page"," ",(0,n.jsxs)("strong",{children:[U+1," ","of"," ",X.length]})," "]})]})}),[te,Q,ne,Y,re,ee,U,X.length]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",gi(vi({},H()),{className:Co,children:[(0,n.jsx)("div",{ref:w,className:xo,children:M.map(be)}),(0,n.jsx)("div",gi(vi({ref:C},D()),{onScroll:he,className:Io,children:(0,n.jsx)(wo.t7,{ref:x,height:v,itemCount:L.length,itemSize:50,width:B,className:Eo,onItemsRendered:ye,children:ve})}))]})),ge()]})}));const Ii="interactionSearch_SearchResult_panelWrapper_jZWLV",Ai="interactionSearch_SearchResult_general_CGtZY",Ti="interactionSearch_SearchResult_searchInput_0OrOf",Ei="interactionSearch_SearchResult_actionsPanel_vqPVF",Pi="interactionSearch_SearchResult_actionsDropdown_KidUj",Ri="interactionSearch_SearchResult_gridWrapper_DrCwD";function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ki(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ki(e,t,r[t])}))}return e}function Di(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Li=(0,c.debounce)((function(e){return e()}),300,{leading:!1,trailing:!0}),Bi=(0,c.debounce)((function(e){return e()}),300,{leading:!1,trailing:!0}),Fi=function(e){var t=e.accessor,r=e.Header,n=e.visible,a=void 0!==n&&n,o=e.disableSortBy,i=void 0!==o&&o,l=e.toggleable;return Hi({accessor:t,Header:r,visible:a,disableSortBy:i,toggleable:void 0===l||l},Di(e,["accessor","Header","visible","disableSortBy","toggleable"]))},zi=o().memo((function(e){var t=e.tab,r=e.tab,o=r.id,i=r.tabFilter,l=i.queryString,u=i.error,s=r.searchParams,f=r.searchResponse,d=r.general,h=(0,$r.useLocalizationState)().t,y=(0,a.useMemo)((function(){return[Fi({accessor:"mediaType",Header:h.INTERACTION_SEARCH.search_result_col_media_type(),visible:!0,Cell:Ve,minWidth:65,width:65,maxWidth:65,hiddenHeader:!0,toggleable:!1}),Fi({accessor:"dataState",Header:h.INTERACTION_SEARCH.search_result_col_data_state(),visible:!0,disableSortBy:!0,Cell:Ze}),Fi({accessor:"startTime",Header:h.INTERACTION_SEARCH.search_result_col_start_time(),visible:!0,Cell:Ge}),Fi({accessor:"globalInteractionId",Header:h.INTERACTION_SEARCH.search_result_col_global_interaction_id(),visible:!0,disableSortBy:!0}),Fi({accessor:"origination",Header:h.INTERACTION_SEARCH.search_result_col_origination(),visible:!0}),Fi({accessor:"destination",Header:h.INTERACTION_SEARCH.search_result_col_destination(),visible:!0}),Fi({accessor:"duration",Header:h.INTERACTION_SEARCH.search_result_col_duration(),visible:!0,Cell:Ke}),Fi({accessor:"talkTime",Header:h.INTERACTION_SEARCH.search_result_col_talk_time(),visible:!0,Cell:Ke}),Fi({accessor:"serviceNames",Header:h.INTERACTION_SEARCH.search_result_col_service_names(),visible:!0,Cell:qe}),Fi({accessor:"agentNames",Header:h.INTERACTION_SEARCH.search_result_col_agent_names(),visible:!0,Cell:qe}),Fi({accessor:"numberOfSegments",Header:h.INTERACTION_SEARCH.search_result_col_number_of_segments(),visible:!0}),Fi({accessor:"queueTime",Header:h.INTERACTION_SEARCH.search_result_col_queue_time(),Cell:Ke}),Fi({accessor:"ivrTime",Header:h.INTERACTION_SEARCH.search_result_col_ivr_time(),Cell:Ke}),Fi({accessor:"holdTime",Header:h.INTERACTION_SEARCH.search_result_col_hold_time(),Cell:Ke}),Fi({accessor:"numberOfHolds",Header:h.INTERACTION_SEARCH.search_result_col_number_of_holds()}),Fi({accessor:"dispositionNames",Header:h.INTERACTION_SEARCH.search_result_col_disposition_names(),Cell:qe}),Fi({accessor:"flagged",Header:h.INTERACTION_SEARCH.search_result_col_flagged(),Cell:We}),Fi({accessor:"contactName",Header:h.INTERACTION_SEARCH.search_result_col_contact_name()}),Fi({accessor:"accountNumber",Header:h.INTERACTION_SEARCH.search_result_col_account_number()}),Fi({accessor:"sentiment",Header:h.INTERACTION_SEARCH.search_result_col_sentiment()}),Fi({accessor:"sentiment",Header:h.INTERACTION_SEARCH.search_result_col_sentiment_value(),id:"sentimentValue"}),Fi({accessor:"callProblems",Header:h.INTERACTION_SEARCH.search_result_col_call_problem(),Cell:qe}),Fi({accessor:"emailSubject",Header:h.INTERACTION_SEARCH.search_result_col_email_subject(),disableSortBy:!0}),Fi({accessor:"custom1",Header:h.INTERACTION_SEARCH.search_result_col_custom_1(),disableSortBy:!0}),Fi({accessor:"custom2",Header:h.INTERACTION_SEARCH.search_result_col_custom_2(),disableSortBy:!0}),Fi({accessor:"custom3",Header:h.INTERACTION_SEARCH.search_result_col_custom_3(),disableSortBy:!0}),Fi({accessor:"custom4",Header:h.INTERACTION_SEARCH.search_result_col_custom_4(),disableSortBy:!0}),Fi({accessor:"custom5",Header:h.INTERACTION_SEARCH.search_result_col_custom_5(),disableSortBy:!0}),Fi({accessor:"cobrowsing",Header:h.INTERACTION_SEARCH.search_result_col_cobrowsing(),disableSortBy:!0,Cell:We})]}),[]),m=Mi((0,a.useState)(l),2),b=m[0],v=m[1],g=zr(),_=g.generalTab,O=g.getTabLocalStorageId,S=g.selectedTab,j=g.updateTab,w=g.updateTabFilter.updateQueryString,C=g.search,x=(0,a.useMemo)((function(){return(0,c.pick)(s,["offset","limit"])}),[s]),I=(0,a.useMemo)((function(){return s.sortField&&s.sortDir?(0,c.pick)(s,["sortField","sortDir"]):void 0}),[s]),A=(0,a.useMemo)((function(){return{id:O(o),fallbackId:O(_.id)}}),[_.id,o]);(0,a.useEffect)((function(){v(l)}),[l,v]),(0,a.useEffect)((function(){d||u||(l.length<3?j(o,{searchResponse:Br}):Bi((function(){return C(o,l,s)})))}),[o,l,s]);var T=(0,a.useCallback)((function(e,t){var r=t.value;v(r),Li((function(){return w(o,r)}))}),[v,w]),E=(0,a.useCallback)((function(){v(""),Li((function(){return w(o,"")}))}),[v,w]),P=(0,a.useCallback)((function(e){j(o,e?{searchParams:Hi({},s,e)}:{searchParams:(0,c.pick)(s,["offset","limit"])})}),[o,s,j]),R=(0,a.useCallback)((function(e){j(o,{searchParams:Hi({},s,e)})}),[o,s,j]);return o===S.id?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,p.B)(Ii,d&&Ai),children:[!d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Zr.SmInput,{className:Ti,placeholder:"Search...",value:b,onChange:T,icon:!!b&&(0,n.jsx)("button",{onClick:E,children:(0,n.jsx)(ke,{name:"times"})}),error:!!u}),(0,n.jsxs)("div",{className:Ei,children:[(0,n.jsxs)("span",{children:["Results:"," ",f.total]}),(0,n.jsx)(Jr.Dropdown,{className:(0,p.B)("isc",Pi),text:"Actions",selection:!0,children:(0,n.jsx)(Zr.SmDropdown.Menu,{onClick:function(e){return e.stopPropagation()},children:(0,n.jsx)(Zr.SmDropdown.Header,{content:"Actions..."})})})]})]}),(0,n.jsx)("div",{className:Ri,children:(0,n.jsx)(xi,{columns:y,rows:f.results,total:f.total,sortInfo:I,onSortInfoChange:P,pageInfo:x,onPageInfoChange:R,localStorageId:A})})]}),(0,n.jsx)(Oo,{tab:t})]}):null})),Gi=function(){var e=zr().tabs;return(0,n.jsx)(n.Fragment,{children:e.map((function(e){return(0,n.jsx)(zi,{tab:e},e.id)}))})},qi=(r(7276),function(){return(0,n.jsx)("div",{"data-testid":"interaction-search-page",children:(0,n.jsxs)(Vr,{children:[(0,n.jsx)(Ln,{}),(0,n.jsx)(Gi,{})]})})})},4483:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(9478),a=r.n(n),o=r(324);function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)(a()(t))}}}]);
//# sourceMappingURL=50.bcb0b21a.chunk.js.map